(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(n){function e(e){for(var r,o,s=e[0],l=e[1],c=e[2],d=0,u=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&u.push(i[o][0]),i[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(n[r]=l[r]);for(p&&p(e);u.length;)u.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var n,e=0;e<a.length;e++){for(var t=a[e],r=!0,s=1;s<t.length;s++){var l=t[s];0!==i[l]&&(r=!1)}r&&(a.splice(e--,1),n=o(o.s=t[0]))}return n}var r={},i={1:0},a=[];function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.e=function(n){var e=[],t=i[n];if(0!==t)if(t)e.push(t[2]);else{var r=new Promise((function(e,r){t=i[n]=[e,r]}));e.push(t[2]=r);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(n){return o.p+"assets/js/"+({}[n]||n)+"."+{2:"05af1349",3:"3d227a19",4:"855f1166",5:"c3e49c8d",6:"251782bc",7:"01608d28",8:"6d6ae631",9:"52b37655",10:"66567ee0",11:"1f4f4ed4",12:"06422b58",13:"899800b9",14:"ea3c8e17",15:"b01969f3",16:"c97582ef",17:"c87f5dfc",18:"7d72f6be",19:"b755ee6c",20:"1014aa6e",21:"f0529276",22:"1bb9495b",23:"b6fa9bcc",24:"09e27301",25:"546b2725",26:"61e25f70",27:"0fa49e95",28:"f8a97284",29:"7542b5d3",30:"74cc9197",31:"8051867b",32:"eff265cc",33:"ece5d882",34:"c1f79bbc",35:"aff5fde4",36:"49b3c8ba",37:"3cc2d286",38:"b1fb1852",39:"cc1653e3",40:"0b0f1f98",41:"57cc6dc4",42:"84ab8021",43:"3cc05505",44:"065a74e8",45:"1de9c020",46:"7da1b5f4",47:"25a680e9",48:"db8a55d4"}[n]+".js"}(n);var l=new Error;a=function(e){s.onerror=s.onload=null,clearTimeout(c);var t=i[n];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;l.message="Loading chunk "+n+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,t[1](l)}i[n]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(e)},o.m=n,o.c=r,o.d=function(n,e,t){o.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},o.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,e){if(1&e&&(n=o(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)o.d(t,r,function(e){return n[e]}.bind(null,r));return t},o.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(e,"a",e),e},o.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},o.p="/",o.oe=function(n){throw console.error(n),n};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var p=l;a.push([242,0]),t()}([function(n,e){var t=function(n){return n&&n.Math==Math&&n};n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(n,e,t){var r=t(0),i=t(38).f,a=t(24),o=t(14),s=t(113),l=t(118),c=t(105);n.exports=function(n,e){var t,p,d,u,m,g=n.target,h=n.global,v=n.stat;if(t=h?r:v?r[g]||s(g,{}):(r[g]||{}).prototype)for(p in e){if(u=e[p],d=n.noTargetGet?(m=i(t,p))&&m.value:t[p],!c(h?p:g+(v?".":"#")+p,n.forced)&&void 0!==d){if(typeof u==typeof d)continue;l(u,d)}(n.sham||d&&d.sham)&&a(u,"sham",!0),o(t,p,u,n)}}},function(n,e){n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e,t){var r=t(64),i=Function.prototype,a=i.bind,o=i.call,s=r&&a.bind(o,o);n.exports=r?function(n){return n&&s(n)}:function(n){return n&&function(){return o.apply(n,arguments)}}},function(n,e){n.exports=function(n){return"function"==typeof n}},function(n,e,t){var r=t(0),i=t(49),a=t(9),o=t(83),s=t(50),l=t(156),c=i("wks"),p=r.Symbol,d=p&&p.for,u=l?p:p&&p.withoutSetter||o;n.exports=function(n){if(!a(c,n)||!s&&"string"!=typeof c[n]){var e="Symbol."+n;s&&a(p,n)?c[n]=p[n]:c[n]=l&&d?d(e):u(e)}return c[n]}},function(n,e,t){var r=t(121),i=t(14),a=t(262);r||i(Object.prototype,"toString",a,{unsafe:!0})},function(n,e,t){var r=t(64),i=Function.prototype.call;n.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},function(n,e,t){var r=t(2);n.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(n,e,t){var r=t(3),i=t(17),a=r({}.hasOwnProperty);n.exports=Object.hasOwn||function(n,e){return a(i(n),e)}},function(n,e,t){var r=t(0),i=t(11),a=r.String,o=r.TypeError;n.exports=function(n){if(i(n))return n;throw o(a(n)+" is not an object")}},function(n,e,t){var r=t(4);n.exports=function(n){return"object"==typeof n?null!==n:r(n)}},function(n,e,t){var r=t(0),i=t(80),a=r.String;n.exports=function(n){if("Symbol"===i(n))throw TypeError("Cannot convert a Symbol value to a string");return a(n)}},function(n,e,t){var r=t(0),i=t(8),a=t(158),o=t(157),s=t(10),l=t(85),c=r.TypeError,p=Object.defineProperty,d=Object.getOwnPropertyDescriptor;e.f=i?o?function(n,e,t){if(s(n),e=l(e),s(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var r=d(n,e);r&&r.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:r.configurable,enumerable:"enumerable"in t?t.enumerable:r.enumerable,writable:!1})}return p(n,e,t)}:p:function(n,e,t){if(s(n),e=l(e),s(t),a)try{return p(n,e,t)}catch(n){}if("get"in t||"set"in t)throw c("Accessors not supported");return"value"in t&&(n[e]=t.value),n}},function(n,e,t){var r=t(0),i=t(4),a=t(24),o=t(163),s=t(113);n.exports=function(n,e,t,l){var c=!!l&&!!l.unsafe,p=!!l&&!!l.enumerable,d=!!l&&!!l.noTargetGet,u=l&&void 0!==l.name?l.name:e;return i(t)&&o(t,u,l),n===r?(p?n[e]=t:s(e,t),n):(c?!d&&n[e]&&(p=!0):delete n[e],p?n[e]=t:a(n,e,t),n)}},function(n,e,t){var r=t(0),i=t(4),a=function(n){return i(n)?n:void 0};n.exports=function(n,e){return arguments.length<2?a(r[n]):r[n]&&r[n][e]}},function(n,e){n.exports=!1},function(n,e,t){var r=t(0),i=t(18),a=r.Object;n.exports=function(n){return a(i(n))}},function(n,e,t){var r=t(0).TypeError;n.exports=function(n){if(null==n)throw r("Can't call method on "+n);return n}},function(n,e,t){"use strict";var r=t(1),i=t(95);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(n,e,t){var r=t(63),i=t(18);n.exports=function(n){return r(i(n))}},function(n,e,t){var r=t(0),i=t(4),a=t(66),o=r.TypeError;n.exports=function(n){if(i(n))return n;throw o(a(n)+" is not a function")}},function(n,e,t){var r=t(52);n.exports=function(n){return r(n.length)}},function(n,e,t){var r=t(3),i=r({}.toString),a=r("".slice);n.exports=function(n){return a(i(n),8,-1)}},function(n,e,t){var r=t(8),i=t(13),a=t(47);n.exports=r?function(n,e,t){return i.f(n,e,a(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e,t){"use strict";var r=t(176).charAt,i=t(12),a=t(35),o=t(162),s=a.set,l=a.getterFor("String Iterator");o(String,"String",(function(n){s(this,{type:"String Iterator",string:i(n),index:0})}),(function(){var n,e=l(this),t=e.string,i=e.index;return i>=t.length?{value:void 0,done:!0}:(n=r(t,i),e.index+=n.length,{value:n,done:!1})}))},function(n,e,t){var r=t(14),i=t(283),a=Error.prototype;a.toString!==i&&r(a,"toString",i)},function(n,e){var t=Array.isArray;n.exports=t},function(n,e,t){var r=t(15);n.exports=r("navigator","userAgent")||""},function(n,e,t){var r=t(193),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();n.exports=a},function(n,e,t){"use strict";function r(n,e,t,r,i,a,o,s){var l,c="function"==typeof n?n.options:n;if(e&&(c.render=e,c.staticRenderFns=t,c._compiled=!0),r&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),i&&i.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(o)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var p=c.render;c.render=function(n,e){return l.call(e),p(n,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:n,options:c}}t.d(e,"a",(function(){return r}))},function(n,e,t){"use strict";var r=t(1),i=t(58).filter;r({target:"Array",proto:!0,forced:!t(93)("filter")},{filter:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){var r=t(0),i=t(177),a=t(178),o=t(144),s=t(24),l=t(5),c=l("iterator"),p=l("toStringTag"),d=o.values,u=function(n,e){if(n){if(n[c]!==d)try{s(n,c,d)}catch(e){n[c]=d}if(n[p]||s(n,p,e),i[e])for(var t in o)if(n[t]!==o[t])try{s(n,t,o[t])}catch(e){n[t]=o[t]}}};for(var m in i)u(r[m]&&r[m].prototype,m);u(a,"DOMTokenList")},function(n,e,t){var r,i=t(10),a=t(145),o=t(116),s=t(67),l=t(161),c=t(84),p=t(87),d=p("IE_PROTO"),u=function(){},m=function(n){return"<script>"+n+"<\/script>"},g=function(n){n.write(m("")),n.close();var e=n.parentWindow.Object;return n=null,e},h=function(){try{r=new ActiveXObject("htmlfile")}catch(n){}var n,e;h="undefined"!=typeof document?document.domain&&r?g(r):((e=c("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(n=e.contentWindow.document).open(),n.write(m("document.F=Object")),n.close(),n.F):g(r);for(var t=o.length;t--;)delete h.prototype[o[t]];return h()};s[d]=!0,n.exports=Object.create||function(n,e){var t;return null!==n?(u.prototype=i(n),t=new u,u.prototype=null,t[d]=n):t=h(),void 0===e?t:a.f(t,e)}},function(n,e,t){var r=t(3);n.exports=r({}.isPrototypeOf)},function(n,e,t){var r,i,a,o=t(244),s=t(0),l=t(3),c=t(11),p=t(24),d=t(9),u=t(112),m=t(87),g=t(67),h=s.TypeError,v=s.WeakMap;if(o||u.state){var f=u.state||(u.state=new v),b=l(f.get),y=l(f.has),x=l(f.set);r=function(n,e){if(y(f,n))throw new h("Object already initialized");return e.facade=n,x(f,n,e),e},i=function(n){return b(f,n)||{}},a=function(n){return y(f,n)}}else{var w=m("state");g[w]=!0,r=function(n,e){if(d(n,w))throw new h("Object already initialized");return e.facade=n,p(n,w,e),e},i=function(n){return d(n,w)?n[w]:{}},a=function(n){return d(n,w)}}n.exports={set:r,get:i,has:a,enforce:function(n){return a(n)?i(n):r(n,{})},getterFor:function(n){return function(e){var t;if(!c(e)||(t=i(e)).type!==n)throw h("Incompatible receiver, "+n+" required");return t}}}},function(n,e,t){"use strict";var r=t(1),i=t(182);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(n,e,t){var r=t(0),i=t(177),a=t(178),o=t(182),s=t(24),l=function(n){if(n&&n.forEach!==o)try{s(n,"forEach",o)}catch(e){n.forEach=o}};for(var c in i)i[c]&&l(r[c]&&r[c].prototype);l(a)},function(n,e,t){var r=t(8),i=t(7),a=t(117),o=t(47),s=t(20),l=t(85),c=t(9),p=t(158),d=Object.getOwnPropertyDescriptor;e.f=r?d:function(n,e){if(n=s(n),e=l(e),p)try{return d(n,e)}catch(n){}if(c(n,e))return o(!i(a.f,n,e),n[e])}},function(n,e,t){var r=t(64),i=Function.prototype,a=i.apply,o=i.call;n.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(a):function(){return o.apply(a,arguments)})},function(n,e,t){var r=t(1),i=t(0),a=t(39),o=t(279),s=i.WebAssembly,l=7!==Error("e",{cause:7}).cause,c=function(n,e){var t={};t[n]=o(n,e,l),r({global:!0,constructor:!0,arity:1,forced:l},t)},p=function(n,e){if(s&&s[n]){var t={};t[n]=o("WebAssembly."+n,e,l),r({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:l},t)}};c("Error",(function(n){return function(e){return a(n,this,arguments)}})),c("EvalError",(function(n){return function(e){return a(n,this,arguments)}})),c("RangeError",(function(n){return function(e){return a(n,this,arguments)}})),c("ReferenceError",(function(n){return function(e){return a(n,this,arguments)}})),c("SyntaxError",(function(n){return function(e){return a(n,this,arguments)}})),c("TypeError",(function(n){return function(e){return a(n,this,arguments)}})),c("URIError",(function(n){return function(e){return a(n,this,arguments)}})),p("CompileError",(function(n){return function(e){return a(n,this,arguments)}})),p("LinkError",(function(n){return function(e){return a(n,this,arguments)}})),p("RuntimeError",(function(n){return function(e){return a(n,this,arguments)}}))},function(n,e,t){var r=t(303),i=t(306);n.exports=function(n,e){var t=i(n,e);return r(t)?t:void 0}},function(n,e,t){"use strict";t.d(e,"e",(function(){return r})),t.d(e,"b",(function(){return a})),t.d(e,"j",(function(){return o})),t.d(e,"g",(function(){return l})),t.d(e,"h",(function(){return c})),t.d(e,"i",(function(){return p})),t.d(e,"c",(function(){return d})),t.d(e,"f",(function(){return u})),t.d(e,"l",(function(){return m})),t.d(e,"m",(function(){return g})),t.d(e,"d",(function(){return v})),t.d(e,"k",(function(){return f})),t.d(e,"n",(function(){return b})),t.d(e,"a",(function(){return x}));t(19),t(44),t(139),t(79),t(137),t(111),t(43),t(36),t(6),t(37),t(31),t(82),t(103),t(155),t(78),t(214),t(26),t(143);var r=/#.*$/,i=/\.(md|html)$/,a=/\/$/,o=/^[a-z]+:/i;function s(n){return decodeURI(n).replace(r,"").replace(i,"")}function l(n){return o.test(n)}function c(n){return/^mailto:/.test(n)}function p(n){return/^tel:/.test(n)}function d(n){if(l(n))return n;if(!n)return"404";var e=n.match(r),t=e?e[0]:"",i=s(n);return a.test(i)?n:i+".html"+t}function u(n,e){var t=n.hash,i=function(n){var e=n&&n.match(r);if(e)return e[0]}(e);return(!i||t===i)&&s(n.path)===s(e)}function m(n,e,t){if(l(e))return{type:"external",path:e};t&&(e=function(n,e,t){var r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;var i=e.split("/");t&&i[i.length-1]||i.pop();for(var a=n.replace(/^\//,"").split("/"),o=0;o<a.length;o++){var s=a[o];".."===s?i.pop():"."!==s&&i.push(s)}""!==i[0]&&i.unshift("");return i.join("/")}(e,t));for(var r=s(e),i=0;i<n.length;i++)if(s(n[i].regularPath)===r)return Object.assign({},n[i],{type:"page",path:d(n[i].path)});return console.error('[vuepress] No matching page found for sidebar item "'.concat(e,'"')),{}}function g(n,e,t,r){var i=t.pages,a=t.themeConfig,o=r&&a.locales&&a.locales[r]||a;if("auto"===(n.frontmatter.sidebar||o.sidebar||a.sidebar))return h(n);var s=o.sidebar||a.sidebar;if(s){var l=function(n,e){if(Array.isArray(e))return{base:"/",config:e};for(var t in e)if(0===(r=n,/(\.html|\/)$/.test(r)?r:r+"/").indexOf(encodeURI(t)))return{base:t,config:e[t]};var r;return{}}(e,s),c=l.base,p=l.config;return"auto"===p?h(n):p?p.map((function(n){return function n(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if("string"==typeof e)return m(t,e,r);if(Array.isArray(e))return Object.assign(m(t,e[0],r),{title:e[1]});i>3&&console.error("[vuepress] detected a too deep nested sidebar group.");var a=e.children||[];return 0===a.length&&e.path?Object.assign(m(t,e.path,r),{title:e.title}):{type:"group",path:e.path,title:e.title,sidebarDepth:e.sidebarDepth,initialOpenGroupIndex:e.initialOpenGroupIndex,children:a.map((function(e){return n(e,t,r,i+1)})),collapsable:!1!==e.collapsable}}(n,i,c)})):[]}return[]}function h(n){var e=v(n.headers||[]);return[{type:"group",collapsable:!1,title:n.title,path:null,children:e.map((function(e){return{type:"auto",title:e.title,basePath:n.path,path:n.path+"#"+e.slug,children:e.children||[]}}))}]}function v(n){var e;return(n=n.map((function(n){return Object.assign({},n)}))).forEach((function(n){2===n.level?e=n:e&&(e.children||(e.children=[])).push(n)})),n.filter((function(n){return 2===n.level}))}function f(n){return Object.assign(n,{type:n.items&&n.items.length?"links":"link"})}function b(n){return Object.prototype.toString.call(n).match(/\[object (.*?)\]/)[1].toLowerCase()}function y(n){var e=n.frontmatter.date||n.lastUpdated||new Date,t=new Date(e);return"Invalid Date"==t&&e&&(t=new Date(e.replace(/-/g,"/"))),t.getTime()}function x(n,e){return y(e)-y(n)}},function(n,e,t){"use strict";var r=t(1),i=t(58).map;r({target:"Array",proto:!0,forced:!t(93)("map")},{map:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var r=t(39),i=t(7),a=t(3),o=t(109),s=t(2),l=t(10),c=t(4),p=t(56),d=t(52),u=t(12),m=t(18),g=t(126),h=t(46),v=t(284),f=t(110),b=t(5)("replace"),y=Math.max,x=Math.min,w=a([].concat),S=a([].push),k=a("".indexOf),j=a("".slice),q="$0"==="a".replace(/./,"$0"),C=!!/./[b]&&""===/./[b]("a","$0");o("replace",(function(n,e,t){var a=C?"$":"$0";return[function(n,t){var r=m(this),a=null==n?void 0:h(n,b);return a?i(a,n,r,t):i(e,u(r),n,t)},function(n,i){var o=l(this),s=u(n);if("string"==typeof i&&-1===k(i,a)&&-1===k(i,"$<")){var m=t(e,o,s,i);if(m.done)return m.value}var h=c(i);h||(i=u(i));var b=o.global;if(b){var q=o.unicode;o.lastIndex=0}for(var C=[];;){var I=f(o,s);if(null===I)break;if(S(C,I),!b)break;""===u(I[0])&&(o.lastIndex=g(s,d(o.lastIndex),q))}for(var M,T="",_=0,E=0;E<C.length;E++){for(var A=u((I=C[E])[0]),B=y(x(p(I.index),s.length),0),R=[],L=1;L<I.length;L++)S(R,void 0===(M=I[L])?M:String(M));var z=I.groups;if(h){var P=w([A],R,B,s);void 0!==z&&S(P,z);var D=u(r(i,void 0,P))}else D=v(A,s,B,R,z,i);B>=_&&(T+=j(s,_,B)+D,_=B+A.length)}return T+j(s,_)}]}),!!s((function(){var n=/./;return n.exec=function(){var n=[];return n.groups={a:"7"},n},"7"!=="".replace(n,"$<a>")}))||!q||C)},function(n,e,t){"use strict";var r=t(2);n.exports=function(n,e){var t=[][n];return!!t&&r((function(){t.call(null,e||function(){return 1},1)}))}},function(n,e,t){var r=t(21);n.exports=function(n,e){var t=n[e];return null==t?void 0:r(t)}},function(n,e){n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,e,t){var r=t(16),i=t(112);(n.exports=function(n,e){return i[n]||(i[n]=void 0!==e?e:{})})("versions",[]).push({version:"3.22.5",mode:r?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.5/LICENSE",source:"https://github.com/zloirock/core-js"})},function(n,e,t){var r=t(51),i=t(2);n.exports=!!Object.getOwnPropertySymbols&&!i((function(){var n=Symbol();return!String(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(n,e,t){var r,i,a=t(0),o=t(28),s=a.process,l=a.Deno,c=s&&s.versions||l&&l.version,p=c&&c.v8;p&&(i=(r=p.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),n.exports=i},function(n,e,t){var r=t(56),i=Math.min;n.exports=function(n){return n>0?i(r(n),9007199254740991):0}},function(n,e,t){var r=t(0);n.exports=r.Promise},function(n,e,t){"use strict";var r=t(1),i=t(0),a=t(61),o=t(91),s=t(11),l=t(115),c=t(22),p=t(20),d=t(74),u=t(5),m=t(93),g=t(71),h=m("slice"),v=u("species"),f=i.Array,b=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(n,e){var t,r,i,u=p(this),m=c(u),h=l(n,m),y=l(void 0===e?m:e,m);if(a(u)&&(t=u.constructor,(o(t)&&(t===f||a(t.prototype))||s(t)&&null===(t=t[v]))&&(t=void 0),t===f||void 0===t))return g(u,h,y);for(r=new(void 0===t?f:t)(b(y-h,0)),i=0;h<y;h++,i++)h in u&&d(r,i,u[h]);return r.length=i,r}})},function(n,e,t){t(379),t(380)},function(n,e){var t=Math.ceil,r=Math.floor;n.exports=function(n){var e=+n;return e!=e||0===e?0:(e>0?r:t)(e)}},function(n,e,t){var r=t(3),i=t(21),a=t(64),o=r(r.bind);n.exports=function(n,e){return i(n),void 0===e?n:a?o(n,e):function(){return n.apply(e,arguments)}}},function(n,e,t){var r=t(57),i=t(3),a=t(63),o=t(17),s=t(22),l=t(148),c=i([].push),p=function(n){var e=1==n,t=2==n,i=3==n,p=4==n,d=6==n,u=7==n,m=5==n||d;return function(g,h,v,f){for(var b,y,x=o(g),w=a(x),S=r(h,v),k=s(w),j=0,q=f||l,C=e?q(g,k):t||u?q(g,0):void 0;k>j;j++)if((m||j in w)&&(y=S(b=w[j],j,x),n))if(e)C[j]=y;else if(y)switch(n){case 3:return!0;case 5:return b;case 6:return j;case 2:c(C,b)}else switch(n){case 4:return!1;case 7:c(C,b)}return d?-1:i||p?p:C}};n.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6),filterReject:p(7)}},function(n,e,t){var r=t(160),i=t(116).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(n){return r(n,i)}},function(n,e,t){var r=t(13).f,i=t(9),a=t(5)("toStringTag");n.exports=function(n,e,t){n&&!t&&(n=n.prototype),n&&!i(n,a)&&r(n,a,{configurable:!0,value:e})}},function(n,e,t){var r=t(23);n.exports=Array.isArray||function(n){return"Array"==r(n)}},function(n,e,t){var r=t(75),i=t(288),a=t(289),o=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":o&&o in Object(n)?i(n):a(n)}},function(n,e,t){var r=t(0),i=t(3),a=t(2),o=t(23),s=r.Object,l=i("".split);n.exports=a((function(){return!s("z").propertyIsEnumerable(0)}))?function(n){return"String"==o(n)?l(n,""):s(n)}:s},function(n,e,t){var r=t(2);n.exports=!r((function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}))},function(n,e,t){var r=t(0),i=t(15),a=t(4),o=t(34),s=t(156),l=r.Object;n.exports=s?function(n){return"symbol"==typeof n}:function(n){var e=i("Symbol");return a(e)&&o(e.prototype,l(n))}},function(n,e,t){var r=t(0).String;n.exports=function(n){try{return r(n)}catch(n){return"Object"}}},function(n,e){n.exports={}},function(n,e){n.exports={}},function(n,e,t){var r=t(8),i=t(9),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,s=i(a,"name"),l=s&&"something"===function(){}.name,c=s&&(!r||r&&o(a,"name").configurable);n.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},function(n,e,t){var r=t(3),i=t(10),a=t(245);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),e=t instanceof Array}catch(n){}return function(t,r){return i(t),a(r),e?n(t,r):t.__proto__=r,t}}():void 0)},function(n,e,t){var r=t(3);n.exports=r([].slice)},function(n,e,t){var r=t(0),i=t(53),a=t(4),o=t(105),s=t(88),l=t(5),c=t(253),p=t(16),d=t(51),u=i&&i.prototype,m=l("species"),g=!1,h=a(r.PromiseRejectionEvent),v=o("Promise",(function(){var n=s(i),e=n!==String(i);if(!e&&66===d)return!0;if(p&&(!u.catch||!u.finally))return!0;if(d>=51&&/native code/.test(n))return!1;var t=new i((function(n){n(1)})),r=function(n){n((function(){}),(function(){}))};return(t.constructor={})[m]=r,!(g=t.then((function(){}))instanceof r)||!e&&c&&!h}));n.exports={CONSTRUCTOR:v,REJECTION_EVENT:h,SUBCLASSING:g}},function(n,e,t){"use strict";var r=t(21),i=function(n){var e,t;this.promise=new n((function(n,r){if(void 0!==e||void 0!==t)throw TypeError("Bad Promise constructor");e=n,t=r})),this.resolve=r(e),this.reject=r(t)};n.exports.f=function(n){return new i(n)}},function(n,e,t){"use strict";var r=t(85),i=t(13),a=t(47);n.exports=function(n,e,t){var o=r(e);o in n?i.f(n,o,a(0,t)):n[o]=t}},function(n,e,t){var r=t(29).Symbol;n.exports=r},function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));t(82);var r=t(77);t(81),t(94),t(6),t(125),t(25),t(32),t(188);var i=t(101);t(40),t(26);function a(n){return function(n){if(Array.isArray(n))return Object(r.a)(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Object(i.a)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(n,e,t){"use strict";function r(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}t.d(e,"a",(function(){return r}))},function(n,e,t){"use strict";var r=t(1),i=t(0),a=t(2),o=t(61),s=t(11),l=t(17),c=t(22),p=t(74),d=t(148),u=t(93),m=t(5),g=t(51),h=m("isConcatSpreadable"),v=i.TypeError,f=g>=51||!a((function(){var n=[];return n[h]=!1,n.concat()[0]!==n})),b=u("concat"),y=function(n){if(!s(n))return!1;var e=n[h];return void 0!==e?!!e:o(n)};r({target:"Array",proto:!0,arity:1,forced:!f||!b},{concat:function(n){var e,t,r,i,a,o=l(this),s=d(o,0),u=0;for(e=-1,r=arguments.length;e<r;e++)if(y(a=-1===e?o:arguments[e])){if(u+(i=c(a))>9007199254740991)throw v("Maximum allowed index exceeded");for(t=0;t<i;t++,u++)t in a&&p(s,u,a[t])}else{if(u>=9007199254740991)throw v("Maximum allowed index exceeded");p(s,u++,a)}return s.length=u,s}})},function(n,e,t){"use strict";t(19);var r,i,a=t(1),o=t(0),s=t(7),l=t(3),c=t(4),p=t(11),d=(r=!1,(i=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===i.test("abc")&&r),u=o.Error,m=l(/./.test);a({target:"RegExp",proto:!0,forced:!d},{test:function(n){var e=this.exec;if(!c(e))return m(this,n);var t=s(e,this,n);if(null!==t&&!p(t))throw new u("RegExp exec method returned something other than an Object or null");return!!t}})},function(n,e,t){var r=t(0),i=t(121),a=t(4),o=t(23),s=t(5)("toStringTag"),l=r.Object,c="Arguments"==o(function(){return arguments}());n.exports=i?o:function(n){var e,t,r;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(n,e){try{return n[e]}catch(n){}}(e=l(n),s))?t:c?o(e):"Object"==(r=o(e))&&a(e.callee)?"Arguments":r}},function(n,e,t){t(271),t(274),t(275),t(124),t(276)},function(n,e,t){t(1)({target:"Array",stat:!0},{isArray:t(61)})},function(n,e,t){var r=t(3),i=0,a=Math.random(),o=r(1..toString);n.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+o(++i+a,36)}},function(n,e,t){var r=t(0),i=t(11),a=r.document,o=i(a)&&i(a.createElement);n.exports=function(n){return o?a.createElement(n):{}}},function(n,e,t){var r=t(159),i=t(65);n.exports=function(n){var e=r(n,"string");return i(e)?e:e+""}},function(n,e,t){var r=t(160),i=t(116);n.exports=Object.keys||function(n){return r(n,i)}},function(n,e,t){var r=t(49),i=t(83),a=r("keys");n.exports=function(n){return a[n]||(a[n]=i(n))}},function(n,e,t){var r=t(3),i=t(4),a=t(112),o=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(n){return o(n)}),n.exports=a.inspectSource},function(n,e){e.f=Object.getOwnPropertySymbols},function(n,e,t){var r=t(23),i=t(0);n.exports="process"==r(i.process)},function(n,e,t){var r=t(3),i=t(2),a=t(4),o=t(80),s=t(15),l=t(88),c=function(){},p=[],d=s("Reflect","construct"),u=/^\s*(?:class|function)\b/,m=r(u.exec),g=!u.exec(c),h=function(n){if(!a(n))return!1;try{return d(c,p,n),!0}catch(n){return!1}},v=function(n){if(!a(n))return!1;switch(o(n)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!m(u,l(n))}catch(n){return!0}};v.sham=!0,n.exports=!d||i((function(){var n;return h(h.call)||!h(Object)||!h((function(){n=!0}))||n}))?v:h},function(n,e,t){"use strict";t.d(e,"a",(function(){return i}));t(6);function r(n,e,t,r,i,a,o){try{var s=n[a](o),l=s.value}catch(n){return void t(n)}s.done?e(l):Promise.resolve(l).then(r,i)}function i(n){return function(){var e=this,t=arguments;return new Promise((function(i,a){var o=n.apply(e,t);function s(n){r(o,i,a,s,l,"next",n)}function l(n){r(o,i,a,s,l,"throw",n)}s(void 0)}))}}},function(n,e,t){var r=t(2),i=t(5),a=t(51),o=i("species");n.exports=function(n){return a>=51||!r((function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[n](Boolean).foo}))}},function(n,e,t){"use strict";var r=t(1),i=t(8),a=t(0),o=t(3),s=t(9),l=t(4),c=t(34),p=t(12),d=t(13).f,u=t(118),m=a.Symbol,g=m&&m.prototype;if(i&&l(m)&&(!("description"in g)||void 0!==m().description)){var h={},v=function(){var n=arguments.length<1||void 0===arguments[0]?void 0:p(arguments[0]),e=c(g,this)?new m(n):void 0===n?m():m(n);return""===n&&(h[e]=!0),e};u(v,m),v.prototype=g,g.constructor=v;var f="Symbol(test)"==String(m("test")),b=o(g.toString),y=o(g.valueOf),x=/^Symbol\((.*)\)[^)]+$/,w=o("".replace),S=o("".slice);d(g,"description",{configurable:!0,get:function(){var n=y(this),e=b(n);if(s(h,n))return"";var t=f?S(e,7,-1):w(e,x,"$1");return""===t?void 0:t}}),r({global:!0,constructor:!0,forced:!0},{Symbol:v})}},function(n,e,t){"use strict";var r,i,a=t(7),o=t(3),s=t(12),l=t(189),c=t(108),p=t(49),d=t(33),u=t(35).get,m=t(227),g=t(232),h=p("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,f=v,b=o("".charAt),y=o("".indexOf),x=o("".replace),w=o("".slice),S=(i=/b*/g,a(v,r=/a/,"a"),a(v,i,"a"),0!==r.lastIndex||0!==i.lastIndex),k=c.BROKEN_CARET,j=void 0!==/()??/.exec("")[1];(S||j||k||m||g)&&(f=function(n){var e,t,r,i,o,c,p,m=this,g=u(m),q=s(n),C=g.raw;if(C)return C.lastIndex=m.lastIndex,e=a(f,C,q),m.lastIndex=C.lastIndex,e;var I=g.groups,M=k&&m.sticky,T=a(l,m),_=m.source,E=0,A=q;if(M&&(T=x(T,"y",""),-1===y(T,"g")&&(T+="g"),A=w(q,m.lastIndex),m.lastIndex>0&&(!m.multiline||m.multiline&&"\n"!==b(q,m.lastIndex-1))&&(_="(?: "+_+")",A=" "+A,E++),t=new RegExp("^(?:"+_+")",T)),j&&(t=new RegExp("^"+_+"$(?!\\s)",T)),S&&(r=m.lastIndex),i=a(v,M?t:m,A),M?i?(i.input=w(i.input,E),i[0]=w(i[0],E),i.index=m.lastIndex,m.lastIndex+=i[0].length):m.lastIndex=0:S&&i&&(m.lastIndex=m.global?i.index+i[0].length:r),j&&i&&i.length>1&&a(h,i[0],t,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&I)for(i.groups=c=d(null),o=0;o<I.length;o++)c[(p=I[o])[0]]=i[p[1]];return i}),n.exports=f},function(n,e,t){var r=t(293),i=t(294),a=t(295),o=t(296),s=t(297);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,n.exports=l},function(n,e,t){var r=t(195);n.exports=function(n,e){for(var t=n.length;t--;)if(r(n[t][0],e))return t;return-1}},function(n,e,t){var r=t(41)(Object,"create");n.exports=r},function(n,e,t){var r=t(315);n.exports=function(n,e){var t=n.__data__;return r(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(n,e,t){var r=t(134);n.exports=function(n){if("string"==typeof n||r(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(n,e,t){"use strict";t.d(e,"a",(function(){return i}));t(54),t(6),t(107),t(188),t(25),t(19),t(79);var r=t(77);function i(n,e){if(n){if("string"==typeof n)return Object(r.a)(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Object(r.a)(n,e):void 0}}},function(n,e,t){var r,i;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(i="function"==typeof(r=function(){var n,e,t={version:"0.2.0"},r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function i(n,e,t){return n<e?e:n>t?t:n}function a(n){return 100*(-1+n)}t.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(r[e]=t);return this},t.status=null,t.set=function(n){var e=t.isStarted();n=i(n,r.minimum,1),t.status=1===n?null:n;var l=t.render(!e),c=l.querySelector(r.barSelector),p=r.speed,d=r.easing;return l.offsetWidth,o((function(e){""===r.positionUsing&&(r.positionUsing=t.getPositioningCSS()),s(c,function(n,e,t){var i;return(i="translate3d"===r.positionUsing?{transform:"translate3d("+a(n)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+a(n)+"%,0)"}:{"margin-left":a(n)+"%"}).transition="all "+e+"ms "+t,i}(n,p,d)),1===n?(s(l,{transition:"none",opacity:1}),l.offsetWidth,setTimeout((function(){s(l,{transition:"all "+p+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),p)}),p)):setTimeout(e,p)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),r.trickleSpeed)};return r.trickle&&n(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var e=t.status;return e?("number"!=typeof n&&(n=(1-e)*i(Math.random()*e,.1,.95)),e=i(e+n,0,.994),t.set(e)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},n=0,e=0,t.promise=function(r){return r&&"resolved"!==r.state()?(0===e&&t.start(),n++,e++,r.always((function(){0==--e?(n=0,t.done()):t.set((n-e)/n)})),this):this},t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=r.template;var i,o=e.querySelector(r.barSelector),l=n?"-100":a(t.status||0),p=document.querySelector(r.parent);return s(o,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),r.showSpinner||(i=e.querySelector(r.spinnerSelector))&&u(i),p!=document.body&&c(p,"nprogress-custom-parent"),p.appendChild(e),e},t.remove=function(){p(document.documentElement,"nprogress-busy"),p(document.querySelector(r.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&u(n)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var o=function(){var n=[];function e(){var t=n.shift();t&&t(e)}return function(t){n.push(t),1==n.length&&e()}}(),s=function(){var n=["Webkit","O","Moz","ms"],e={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(n,e){return e.toUpperCase()})),e[t]||(e[t]=function(e){var t=document.body.style;if(e in t)return e;for(var r,i=n.length,a=e.charAt(0).toUpperCase()+e.slice(1);i--;)if((r=n[i]+a)in t)return r;return e}(t))}function r(n,e,r){e=t(e),n.style[e]=r}return function(n,e){var t,i,a=arguments;if(2==a.length)for(t in e)void 0!==(i=e[t])&&e.hasOwnProperty(t)&&r(n,t,i);else r(n,a[1],a[2])}}();function l(n,e){return("string"==typeof n?n:d(n)).indexOf(" "+e+" ")>=0}function c(n,e){var t=d(n),r=t+e;l(t,e)||(n.className=r.substring(1))}function p(n,e){var t,r=d(n);l(n,e)&&(t=r.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function d(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function u(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return t})?r.call(e,t,e,n):r)||(n.exports=i)},function(n,e,t){"use strict";var r=t(1),i=t(3),a=t(114).indexOf,o=t(45),s=i([].indexOf),l=!!s&&1/s([1],1,-0)<0,c=o("indexOf");r({target:"Array",proto:!0,forced:l||!c},{indexOf:function(n){var e=arguments.length>1?arguments[1]:void 0;return l?s(this,n,e)||0:a(this,n,e)}})},function(n,e,t){var r=t(1),i=t(17),a=t(86);r({target:"Object",stat:!0,forced:t(2)((function(){a(1)}))},{keys:function(n){return a(i(n))}})},function(n,e,t){var r=t(2),i=t(4),a=/#|\.prototype\./,o=function(n,e){var t=l[s(n)];return t==p||t!=c&&(i(e)?r(e):!!e)},s=o.normalize=function(n){return String(n).replace(a,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",p=o.POLYFILL="P";n.exports=o},function(n,e,t){var r=t(80),i=t(46),a=t(68),o=t(5)("iterator");n.exports=function(n){if(null!=n)return i(n,o)||i(n,"@@iterator")||a[r(n)]}},function(n,e,t){var r=t(8),i=t(69).EXISTS,a=t(3),o=t(13).f,s=Function.prototype,l=a(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,p=a(c.exec);r&&!i&&o(s,"name",{configurable:!0,get:function(){try{return p(c,l(this))[1]}catch(n){return""}}})},function(n,e,t){var r=t(2),i=t(0).RegExp,a=r((function(){var n=i("a","y");return n.lastIndex=2,null!=n.exec("abcd")})),o=a||r((function(){return!i("a","y").sticky})),s=a||r((function(){var n=i("^r","gy");return n.lastIndex=2,null!=n.exec("str")}));n.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:a}},function(n,e,t){"use strict";t(19);var r=t(3),i=t(14),a=t(95),o=t(2),s=t(5),l=t(24),c=s("species"),p=RegExp.prototype;n.exports=function(n,e,t,d){var u=s(n),m=!o((function(){var e={};return e[u]=function(){return 7},7!=""[n](e)})),g=m&&!o((function(){var e=!1,t=/a/;return"split"===n&&((t={}).constructor={},t.constructor[c]=function(){return t},t.flags="",t[u]=/./[u]),t.exec=function(){return e=!0,null},t[u](""),!e}));if(!m||!g||t){var h=r(/./[u]),v=e(u,""[n],(function(n,e,t,i,o){var s=r(n),l=e.exec;return l===a||l===p.exec?m&&!o?{done:!0,value:h(e,t,i)}:{done:!0,value:s(t,e,i)}:{done:!1}}));i(String.prototype,n,v[0]),i(p,u,v[1])}d&&l(p[u],"sham",!0)}},function(n,e,t){var r=t(0),i=t(7),a=t(10),o=t(4),s=t(23),l=t(95),c=r.TypeError;n.exports=function(n,e){var t=n.exec;if(o(t)){var r=i(t,n,e);return null!==r&&a(r),r}if("RegExp"===s(n))return i(l,n,e);throw c("RegExp#exec called on incompatible receiver")}},function(n,e,t){"use strict";var r=t(1),i=t(3),a=t(63),o=t(20),s=t(45),l=i([].join),c=a!=Object,p=s("join",",");r({target:"Array",proto:!0,forced:c||!p},{join:function(n){return l(o(this),void 0===n?",":n)}})},function(n,e,t){var r=t(0),i=t(113),a=r["__core-js_shared__"]||i("__core-js_shared__",{});n.exports=a},function(n,e,t){var r=t(0),i=Object.defineProperty;n.exports=function(n,e){try{i(r,n,{value:e,configurable:!0,writable:!0})}catch(t){r[n]=e}return e}},function(n,e,t){var r=t(20),i=t(115),a=t(22),o=function(n){return function(e,t,o){var s,l=r(e),c=a(l),p=i(o,c);if(n&&t!=t){for(;c>p;)if((s=l[p++])!=s)return!0}else for(;c>p;p++)if((n||p in l)&&l[p]===t)return n||p||0;return!n&&-1}};n.exports={includes:o(!0),indexOf:o(!1)}},function(n,e,t){var r=t(56),i=Math.max,a=Math.min;n.exports=function(n,e){var t=r(n);return t<0?i(t+e,0):a(t,e)}},function(n,e){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,e,t){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);e.f=a?function(n){var e=i(this,n);return!!e&&e.enumerable}:r},function(n,e,t){var r=t(9),i=t(164),a=t(38),o=t(13);n.exports=function(n,e,t){for(var s=i(e),l=o.f,c=a.f,p=0;p<s.length;p++){var d=s[p];r(n,d)||t&&r(t,d)||l(n,d,c(e,d))}}},function(n,e,t){var r=t(0),i=t(9),a=t(4),o=t(17),s=t(87),l=t(166),c=s("IE_PROTO"),p=r.Object,d=p.prototype;n.exports=l?p.getPrototypeOf:function(n){var e=o(n);if(i(e,c))return e[c];var t=e.constructor;return a(t)&&e instanceof t?t.prototype:e instanceof p?d:null}},function(n,e,t){var r=t(10),i=t(167),a=t(5)("species");n.exports=function(n,e){var t,o=r(n).constructor;return void 0===o||null==(t=r(o)[a])?e:i(t)}},function(n,e,t){var r={};r[t(5)("toStringTag")]="z",n.exports="[object z]"===String(r)},function(n,e){n.exports=function(n){try{return{error:!1,value:n()}}catch(n){return{error:!0,value:n}}}},function(n,e,t){var r=t(0),i=t(115),a=t(22),o=t(74),s=r.Array,l=Math.max;n.exports=function(n,e,t){for(var r=a(n),c=i(e,r),p=i(void 0===t?r:t,r),d=s(l(p-c,0)),u=0;c<p;c++,u++)o(d,u,n[c]);return d.length=u,d}},function(n,e,t){var r=t(1),i=t(15),a=t(39),o=t(7),s=t(3),l=t(2),c=t(61),p=t(4),d=t(11),u=t(65),m=t(71),g=t(50),h=i("JSON","stringify"),v=s(/./.exec),f=s("".charAt),b=s("".charCodeAt),y=s("".replace),x=s(1..toString),w=/[\uD800-\uDFFF]/g,S=/^[\uD800-\uDBFF]$/,k=/^[\uDC00-\uDFFF]$/,j=!g||l((function(){var n=i("Symbol")();return"[null]"!=h([n])||"{}"!=h({a:n})||"{}"!=h(Object(n))})),q=l((function(){return'"\\udf06\\ud834"'!==h("\udf06\ud834")||'"\\udead"'!==h("\udead")})),C=function(n,e){var t=m(arguments),r=e;if((d(e)||void 0!==n)&&!u(n))return c(e)||(e=function(n,e){if(p(r)&&(e=o(r,this,n,e)),!u(e))return e}),t[1]=e,a(h,null,t)},I=function(n,e,t){var r=f(t,e-1),i=f(t,e+1);return v(S,n)&&!v(k,i)||v(k,n)&&!v(S,r)?"\\u"+x(b(n,0),16):n};h&&r({target:"JSON",stat:!0,arity:3,forced:j||q},{stringify:function(n,e,t){var r=m(arguments),i=a(j?C:h,null,r);return q&&"string"==typeof i?y(i,w,I):i}})},function(n,e,t){t(186)("iterator")},function(n,e,t){"use strict";var r=t(176).charAt;n.exports=function(n,e,t){return e+(t?r(n,e).length:1)}},function(n,e,t){var r=t(287),i=t(48),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(n){return i(n)&&o.call(n,"callee")&&!s.call(n,"callee")};n.exports=l},function(n,e,t){var r=t(41)(t(29),"Map");n.exports=r},function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},function(n,e,t){var r=t(307),i=t(314),a=t(316),o=t(317),s=t(318);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,n.exports=l},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n){t[++e]=n})),t}},function(n,e){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,e,t){var r=t(27),i=t(134),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;n.exports=function(n,e){if(r(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!i(n))||(o.test(n)||!a.test(n)||null!=e&&n in Object(e))}},function(n,e,t){var r=t(62),i=t(48);n.exports=function(n){return"symbol"==typeof n||i(n)&&"[object Symbol]"==r(n)}},function(n,e){n.exports=function(n){return n}},function(n,e,t){"use strict";t.d(e,"a",(function(){return i}));t(82);t(81),t(94),t(6),t(125),t(25),t(32);var r=t(101);t(40),t(26);function i(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,a=[],o=!0,s=!1;try{for(t=t.call(n);!(o=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(n){s=!0,i=n}finally{try{o||null==t.return||t.return()}finally{if(s)throw i}}return a}}(n,e)||Object(r.a)(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(n,e,t){"use strict";var r=t(39),i=t(7),a=t(3),o=t(109),s=t(149),l=t(10),c=t(18),p=t(120),d=t(126),u=t(52),m=t(12),g=t(46),h=t(123),v=t(110),f=t(95),b=t(108),y=t(2),x=b.UNSUPPORTED_Y,w=Math.min,S=[].push,k=a(/./.exec),j=a(S),q=a("".slice);o("split",(function(n,e,t){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(n,t){var a=m(c(this)),o=void 0===t?4294967295:t>>>0;if(0===o)return[];if(void 0===n)return[a];if(!s(n))return i(e,a,n,o);for(var l,p,d,u=[],g=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),v=0,b=new RegExp(n.source,g+"g");(l=i(f,b,a))&&!((p=b.lastIndex)>v&&(j(u,q(a,v,l.index)),l.length>1&&l.index<a.length&&r(S,u,h(l,1)),d=l[0].length,v=p,u.length>=o));)b.lastIndex===l.index&&b.lastIndex++;return v===a.length?!d&&k(b,"")||j(u,""):j(u,q(a,v)),u.length>o?h(u,0,o):u}:"0".split(void 0,0).length?function(n,t){return void 0===n&&0===t?[]:i(e,this,n,t)}:e,[function(e,t){var r=c(this),o=null==e?void 0:g(e,n);return o?i(o,e,r,t):i(a,m(r),e,t)},function(n,r){var i=l(this),o=m(n),s=t(a,i,o,r,a!==e);if(s.done)return s.value;var c=p(i,RegExp),g=i.unicode,h=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(x?"g":"y"),f=new c(x?"^(?:"+i.source+")":i,h),b=void 0===r?4294967295:r>>>0;if(0===b)return[];if(0===o.length)return null===v(f,o)?[o]:[];for(var y=0,S=0,k=[];S<o.length;){f.lastIndex=x?0:S;var C,I=v(f,x?q(o,S):o);if(null===I||(C=w(u(f.lastIndex+(x?S:0)),o.length))===y)S=d(o,S,g);else{if(j(k,q(o,y,S)),k.length===b)return k;for(var M=1;M<=I.length-1;M++)if(j(k,I[M]),k.length===b)return k;S=y=C}}return j(k,q(o,y)),k}]}),!!y((function(){var n=/(?:)/,e=n.exec;n.exec=function(){return e.apply(this,arguments)};var t="ab".split(n);return 2!==t.length||"a"!==t[0]||"b"!==t[1]})),x)},function(n,e,t){"use strict";var r=t(1),i=t(58).some;r({target:"Array",proto:!0,forced:!t(45)("some")},{some:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var r=t(7),i=t(109),a=t(10),o=t(52),s=t(12),l=t(18),c=t(46),p=t(126),d=t(110);i("match",(function(n,e,t){return[function(e){var t=l(this),i=null==e?void 0:c(e,n);return i?r(i,e,t):new RegExp(e)[n](s(t))},function(n){var r=a(this),i=s(n),l=t(e,r,i);if(l.done)return l.value;if(!r.global)return d(r,i);var c=r.unicode;r.lastIndex=0;for(var u,m=[],g=0;null!==(u=d(r,i));){var h=s(u[0]);m[g]=h,""===h&&(r.lastIndex=p(i,o(r.lastIndex),c)),g++}return 0===g?null:m}]}))},function(n,e,t){var r=t(5),i=t(33),a=t(13),o=r("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),n.exports=function(n){s[o][n]=!0}},function(n,e,t){var r=function(n){"use strict";var e=Object.prototype,t=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(n,e,t){return Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),n[e]}try{s({},"")}catch(n){s=function(n,e,t){return n[e]=t}}function l(n,e,t,r){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),o=new k(r||[]);return a._invoke=function(n,e,t){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return q()}for(t.method=i,t.arg=a;;){var o=t.delegate;if(o){var s=x(o,t);if(s){if(s===p)continue;return s}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===r)throw r="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r="executing";var l=c(n,e,t);if("normal"===l.type){if(r=t.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:t.done}}"throw"===l.type&&(r="completed",t.method="throw",t.arg=l.arg)}}}(n,t,o),a}function c(n,e,t){try{return{type:"normal",arg:n.call(e,t)}}catch(n){return{type:"throw",arg:n}}}n.wrap=l;var p={};function d(){}function u(){}function m(){}var g={};s(g,i,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(j([])));v&&v!==e&&t.call(v,i)&&(g=v);var f=m.prototype=d.prototype=Object.create(g);function b(n){["next","throw","return"].forEach((function(e){s(n,e,(function(n){return this._invoke(e,n)}))}))}function y(n,e){var r;this._invoke=function(i,a){function o(){return new e((function(r,o){!function r(i,a,o,s){var l=c(n[i],n,a);if("throw"!==l.type){var p=l.arg,d=p.value;return d&&"object"==typeof d&&t.call(d,"__await")?e.resolve(d.__await).then((function(n){r("next",n,o,s)}),(function(n){r("throw",n,o,s)})):e.resolve(d).then((function(n){p.value=n,o(p)}),(function(n){return r("throw",n,o,s)}))}s(l.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function x(n,e){var t=n.iterator[e.method];if(void 0===t){if(e.delegate=null,"throw"===e.method){if(n.iterator.return&&(e.method="return",e.arg=void 0,x(n,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=c(t,n.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var i=r.arg;return i?i.done?(e[n.resultName]=i.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function w(n){var e={tryLoc:n[0]};1 in n&&(e.catchLoc=n[1]),2 in n&&(e.finallyLoc=n[2],e.afterLoc=n[3]),this.tryEntries.push(e)}function S(n){var e=n.completion||{};e.type="normal",delete e.arg,n.completion=e}function k(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(w,this),this.reset(!0)}function j(n){if(n){var e=n[i];if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1,a=function e(){for(;++r<n.length;)if(t.call(n,r))return e.value=n[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:q}}function q(){return{value:void 0,done:!0}}return u.prototype=m,s(f,"constructor",m),s(m,"constructor",u),u.displayName=s(m,o,"GeneratorFunction"),n.isGeneratorFunction=function(n){var e="function"==typeof n&&n.constructor;return!!e&&(e===u||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,m):(n.__proto__=m,s(n,o,"GeneratorFunction")),n.prototype=Object.create(f),n},n.awrap=function(n){return{__await:n}},b(y.prototype),s(y.prototype,a,(function(){return this})),n.AsyncIterator=y,n.async=function(e,t,r,i,a){void 0===a&&(a=Promise);var o=new y(l(e,t,r,i),a);return n.isGeneratorFunction(t)?o:o.next().then((function(n){return n.done?n.value:o.next()}))},b(f),s(f,o,"Generator"),s(f,i,(function(){return this})),s(f,"toString",(function(){return"[object Generator]"})),n.keys=function(n){var e=[];for(var t in n)e.push(t);return e.reverse(),function t(){for(;e.length;){var r=e.pop();if(r in n)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=j,k.prototype={constructor:k,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!n)for(var e in this)"t"===e.charAt(0)&&t.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var e=this;function r(t,r){return o.type="throw",o.arg=n,e.next=t,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=t.call(a,"catchLoc"),l=t.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(n,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&t.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===n||"continue"===n)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=n,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(n,e){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&e&&(this.next=e),p},finish:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.finallyLoc===n)return this.complete(t.completion,t.afterLoc),S(t),p}},catch:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.tryLoc===n){var r=t.completion;if("throw"===r.type){var i=r.arg;S(t)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(n,e,t){return this.delegate={iterator:j(n),resultName:e,nextLoc:t},"next"===this.method&&(this.arg=void 0),p}},n}(n.exports);try{regeneratorRuntime=r}catch(n){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(n,e,t){var r=t(1),i=t(8),a=t(13).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==a,sham:!i},{defineProperty:a})},function(n,e,t){"use strict";var r=t(69).PROPER,i=t(14),a=t(10),o=t(12),s=t(2),l=t(238),c=RegExp.prototype.toString,p=s((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=r&&"toString"!=c.name;(p||d)&&i(RegExp.prototype,"toString",(function(){var n=a(this);return"/"+o(n.source)+"/"+o(l(n))}),{unsafe:!0})},function(n,e,t){"use strict";var r=t(20),i=t(140),a=t(68),o=t(35),s=t(13).f,l=t(162),c=t(16),p=t(8),d=o.set,u=o.getterFor("Array Iterator");n.exports=l(Array,"Array",(function(n,e){d(this,{type:"Array Iterator",target:r(n),index:0,kind:e})}),(function(){var n=u(this),e=n.target,t=n.kind,r=n.index++;return!e||r>=e.length?(n.target=void 0,{value:void 0,done:!0}):"keys"==t?{value:r,done:!1}:"values"==t?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");var m=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!c&&p&&"values"!==m.name)try{s(m,"name",{value:"values"})}catch(n){}},function(n,e,t){var r=t(8),i=t(157),a=t(13),o=t(10),s=t(20),l=t(86);e.f=r&&!i?Object.defineProperties:function(n,e){o(n);for(var t,r=s(e),i=l(e),c=i.length,p=0;c>p;)a.f(n,t=i[p++],r[t]);return n}},function(n,e,t){var r=t(0).TypeError;n.exports=function(n,e){if(n<e)throw r("Not enough arguments");return n}},function(n,e,t){var r=t(0),i=t(7),a=t(21),o=t(10),s=t(66),l=t(106),c=r.TypeError;n.exports=function(n,e){var t=arguments.length<2?l(n):e;if(a(t))return o(i(t,n));throw c(s(n)+" is not iterable")}},function(n,e,t){var r=t(263);n.exports=function(n,e){return new(r(n))(0===e?0:e)}},function(n,e,t){var r=t(11),i=t(23),a=t(5)("match");n.exports=function(n){var e;return r(n)&&(void 0!==(e=n[a])?!!e:"RegExp"==i(n))}},function(n,e,t){var r=t(4),i=t(11),a=t(70);n.exports=function(n,e,t){var o,s;return a&&r(o=e.constructor)&&o!==t&&i(s=o.prototype)&&s!==t.prototype&&a(n,s),n}},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e){var t=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,s="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),p=Object.prototype.toString,d=Math.max,u=Math.min,m=function(){return c.Date.now()};function g(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function h(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==p.call(n)}(n))return NaN;if(g(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=g(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(t,"");var s=i.test(n);return s||a.test(n)?o(n.slice(2),s?2:8):r.test(n)?NaN:+n}n.exports=function(n,e,t){var r,i,a,o,s,l,c=0,p=!1,v=!1,f=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function b(e){var t=r,a=i;return r=i=void 0,c=e,o=n.apply(a,t)}function y(n){return c=n,s=setTimeout(w,e),p?b(n):o}function x(n){var t=n-l;return void 0===l||t>=e||t<0||v&&n-c>=a}function w(){var n=m();if(x(n))return S(n);s=setTimeout(w,function(n){var t=e-(n-l);return v?u(t,a-(n-c)):t}(n))}function S(n){return s=void 0,f&&r?b(n):(r=i=void 0,o)}function k(){var n=m(),t=x(n);if(r=arguments,i=this,l=n,t){if(void 0===s)return y(l);if(v)return s=setTimeout(w,e),b(l)}return void 0===s&&(s=setTimeout(w,e)),o}return e=h(e)||0,g(t)&&(p=!!t.leading,a=(v="maxWait"in t)?d(h(t.maxWait)||0,e):a,f="trailing"in t?!!t.trailing:f),k.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},k.flush=function(){return void 0===s?o:S(m())},k}},function(n,e,t){var r=t(3),i=t(18),a=t(12),o=t(154),s=r("".replace),l="["+o+"]",c=RegExp("^"+l+l+"*"),p=RegExp(l+l+"*$"),d=function(n){return function(e){var t=a(i(e));return 1&n&&(t=s(t,c,"")),2&n&&(t=s(t,p,"")),t}};n.exports={start:d(1),end:d(2),trim:d(3)}},function(n,e){n.exports="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff"},function(n,e,t){var r=t(3),i=t(14),a=Date.prototype,o=r(a.toString),s=r(a.getTime);"Invalid Date"!=String(new Date(NaN))&&i(a,"toString",(function(){var n=s(this);return n==n?o(this):"Invalid Date"}))},function(n,e,t){var r=t(50);n.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(n,e,t){var r=t(8),i=t(2);n.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(n,e,t){var r=t(8),i=t(2),a=t(84);n.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(n,e,t){var r=t(0),i=t(7),a=t(11),o=t(65),s=t(46),l=t(243),c=t(5),p=r.TypeError,d=c("toPrimitive");n.exports=function(n,e){if(!a(n)||o(n))return n;var t,r=s(n,d);if(r){if(void 0===e&&(e="default"),t=i(r,n,e),!a(t)||o(t))return t;throw p("Can't convert object to primitive value")}return void 0===e&&(e="number"),l(n,e)}},function(n,e,t){var r=t(3),i=t(9),a=t(20),o=t(114).indexOf,s=t(67),l=r([].push);n.exports=function(n,e){var t,r=a(n),c=0,p=[];for(t in r)!i(s,t)&&i(r,t)&&l(p,t);for(;e.length>c;)i(r,t=e[c++])&&(~o(p,t)||l(p,t));return p}},function(n,e,t){var r=t(15);n.exports=r("document","documentElement")},function(n,e,t){"use strict";var r=t(1),i=t(7),a=t(16),o=t(69),s=t(4),l=t(228),c=t(119),p=t(70),d=t(60),u=t(24),m=t(14),g=t(5),h=t(68),v=t(165),f=o.PROPER,b=o.CONFIGURABLE,y=v.IteratorPrototype,x=v.BUGGY_SAFARI_ITERATORS,w=g("iterator"),S=function(){return this};n.exports=function(n,e,t,o,g,v,k){l(t,e,o);var j,q,C,I=function(n){if(n===g&&A)return A;if(!x&&n in _)return _[n];switch(n){case"keys":case"values":case"entries":return function(){return new t(this,n)}}return function(){return new t(this)}},M=e+" Iterator",T=!1,_=n.prototype,E=_[w]||_["@@iterator"]||g&&_[g],A=!x&&E||I(g),B="Array"==e&&_.entries||E;if(B&&(j=c(B.call(new n)))!==Object.prototype&&j.next&&(a||c(j)===y||(p?p(j,y):s(j[w])||m(j,w,S)),d(j,M,!0,!0),a&&(h[M]=S)),f&&"values"==g&&E&&"values"!==E.name&&(!a&&b?u(_,"name","values"):(T=!0,A=function(){return i(E,this)})),g)if(q={values:I("values"),keys:v?A:I("keys"),entries:I("entries")},k)for(C in q)(x||T||!(C in _))&&m(_,C,q[C]);else r({target:e,proto:!0,forced:x||T},q);return a&&!k||_[w]===A||m(_,w,A,{name:g}),h[e]=A,q}},function(n,e,t){var r=t(2),i=t(4),a=t(9),o=t(8),s=t(69).CONFIGURABLE,l=t(88),c=t(35),p=c.enforce,d=c.get,u=Object.defineProperty,m=o&&!r((function(){return 8!==u((function(){}),"length",{value:8}).length})),g=String(String).split("String"),h=n.exports=function(n,e,t){if("Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!a(n,"name")||s&&n.name!==e)&&u(n,"name",{value:e,configurable:!0}),m&&t&&a(t,"arity")&&n.length!==t.arity&&u(n,"length",{value:t.arity}),t&&a(t,"constructor")&&t.constructor){if(o)try{u(n,"prototype",{writable:!1})}catch(n){}}else n.prototype=void 0;var r=p(n);return a(r,"source")||(r.source=g.join("string"==typeof e?e:"")),n};Function.prototype.toString=h((function(){return i(this)&&d(this).source||l(this)}),"toString")},function(n,e,t){var r=t(15),i=t(3),a=t(59),o=t(89),s=t(10),l=i([].concat);n.exports=r("Reflect","ownKeys")||function(n){var e=a.f(s(n)),t=o.f;return t?l(e,t(n)):e}},function(n,e,t){"use strict";var r,i,a,o=t(2),s=t(4),l=t(33),c=t(119),p=t(14),d=t(5),u=t(16),m=d("iterator"),g=!1;[].keys&&("next"in(a=[].keys())?(i=c(c(a)))!==Object.prototype&&(r=i):g=!0),null==r||o((function(){var n={};return r[m].call(n)!==n}))?r={}:u&&(r=l(r)),s(r[m])||p(r,m,(function(){return this})),n.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:g}},function(n,e,t){var r=t(2);n.exports=!r((function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype}))},function(n,e,t){var r=t(0),i=t(91),a=t(66),o=r.TypeError;n.exports=function(n){if(i(n))return n;throw o(a(n)+" is not a constructor")}},function(n,e,t){var r,i,a,o,s=t(0),l=t(39),c=t(57),p=t(4),d=t(9),u=t(2),m=t(161),g=t(71),h=t(84),v=t(146),f=t(169),b=t(90),y=s.setImmediate,x=s.clearImmediate,w=s.process,S=s.Dispatch,k=s.Function,j=s.MessageChannel,q=s.String,C=0,I={};try{r=s.location}catch(n){}var M=function(n){if(d(I,n)){var e=I[n];delete I[n],e()}},T=function(n){return function(){M(n)}},_=function(n){M(n.data)},E=function(n){s.postMessage(q(n),r.protocol+"//"+r.host)};y&&x||(y=function(n){v(arguments.length,1);var e=p(n)?n:k(n),t=g(arguments,1);return I[++C]=function(){l(e,void 0,t)},i(C),C},x=function(n){delete I[n]},b?i=function(n){w.nextTick(T(n))}:S&&S.now?i=function(n){S.now(T(n))}:j&&!f?(o=(a=new j).port2,a.port1.onmessage=_,i=c(o.postMessage,o)):s.addEventListener&&p(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!u(E)?(i=E,s.addEventListener("message",_,!1)):i="onreadystatechange"in h("script")?function(n){m.appendChild(h("script")).onreadystatechange=function(){m.removeChild(this),M(n)}}:function(n){setTimeout(T(n),0)}),n.exports={set:y,clear:x}},function(n,e,t){var r=t(28);n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(n,e,t){var r=t(0),i=t(57),a=t(7),o=t(10),s=t(66),l=t(171),c=t(22),p=t(34),d=t(147),u=t(106),m=t(172),g=r.TypeError,h=function(n,e){this.stopped=n,this.result=e},v=h.prototype;n.exports=function(n,e,t){var r,f,b,y,x,w,S,k=t&&t.that,j=!(!t||!t.AS_ENTRIES),q=!(!t||!t.IS_ITERATOR),C=!(!t||!t.INTERRUPTED),I=i(e,k),M=function(n){return r&&m(r,"normal",n),new h(!0,n)},T=function(n){return j?(o(n),C?I(n[0],n[1],M):I(n[0],n[1])):C?I(n,M):I(n)};if(q)r=n;else{if(!(f=u(n)))throw g(s(n)+" is not iterable");if(l(f)){for(b=0,y=c(n);y>b;b++)if((x=T(n[b]))&&p(v,x))return x;return new h(!1)}r=d(n,f)}for(w=r.next;!(S=a(w,r)).done;){try{x=T(S.value)}catch(n){m(r,"throw",n)}if("object"==typeof x&&x&&p(v,x))return x}return new h(!1)}},function(n,e,t){var r=t(5),i=t(68),a=r("iterator"),o=Array.prototype;n.exports=function(n){return void 0!==n&&(i.Array===n||o[a]===n)}},function(n,e,t){var r=t(7),i=t(10),a=t(46);n.exports=function(n,e,t){var o,s;i(n);try{if(!(o=a(n,"return"))){if("throw"===e)throw t;return t}o=r(o,n)}catch(n){s=!0,o=n}if("throw"===e)throw t;if(s)throw o;return i(o),t}},function(n,e,t){var r=t(53),i=t(174),a=t(72).CONSTRUCTOR;n.exports=a||!i((function(n){r.all(n).then(void 0,(function(){}))}))},function(n,e,t){var r=t(5)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(n){}n.exports=function(n,e){if(!e&&!i)return!1;var t=!1;try{var a={};a[r]=function(){return{next:function(){return{done:t=!0}}}},n(a)}catch(n){}return t}},function(n,e,t){var r=t(10),i=t(11),a=t(73);n.exports=function(n,e){if(r(n),i(e)&&e.constructor===n)return e;var t=a.f(n);return(0,t.resolve)(e),t.promise}},function(n,e,t){var r=t(3),i=t(56),a=t(12),o=t(18),s=r("".charAt),l=r("".charCodeAt),c=r("".slice),p=function(n){return function(e,t){var r,p,d=a(o(e)),u=i(t),m=d.length;return u<0||u>=m?n?"":void 0:(r=l(d,u))<55296||r>56319||u+1===m||(p=l(d,u+1))<56320||p>57343?n?s(d,u):r:n?c(d,u,u+2):p-56320+(r-55296<<10)+65536}};n.exports={codeAt:p(!1),charAt:p(!0)}},function(n,e){n.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(n,e,t){var r=t(84)("span").classList,i=r&&r.constructor&&r.constructor.prototype;n.exports=i===Object.prototype?void 0:i},function(n,e,t){var r=t(1),i=t(2),a=t(17),o=t(119),s=t(166);r({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!s},{getPrototypeOf:function(n){return o(a(n))}})},function(n,e,t){var r=t(0),i=t(149),a=r.TypeError;n.exports=function(n){if(i(n))throw a("The method doesn't accept regular expressions");return n}},function(n,e,t){var r=t(5)("match");n.exports=function(n){var e=/./;try{"/./"[n](e)}catch(t){try{return e[r]=!1,"/./"[n](e)}catch(n){}}return!1}},function(n,e,t){"use strict";var r=t(58).forEach,i=t(45)("forEach");n.exports=i?[].forEach:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}},function(n,e,t){var r=t(2);n.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(n,e,t){var r=t(23),i=t(20),a=t(59).f,o=t(123),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(n){return s&&"Window"==r(n)?function(n){try{return a(n)}catch(n){return o(s)}}(n):a(i(n))}},function(n,e,t){var r=t(5);e.f=r},function(n,e,t){var r=t(272),i=t(9),a=t(185),o=t(13).f;n.exports=function(n){var e=r.Symbol||(r.Symbol={});i(e,n)||o(e,n,{value:a.f(n)})}},function(n,e,t){var r=t(50);n.exports=r&&!!Symbol.for&&!!Symbol.keyFor},function(n,e,t){var r=t(1),i=t(277);r({target:"Array",stat:!0,forced:!t(174)((function(n){Array.from(n)}))},{from:i})},function(n,e,t){"use strict";var r=t(10);n.exports=function(){var n=r(this),e="";return n.hasIndices&&(e+="d"),n.global&&(e+="g"),n.ignoreCase&&(e+="i"),n.multiline&&(e+="m"),n.dotAll&&(e+="s"),n.unicode&&(e+="u"),n.sticky&&(e+="y"),e}},function(n,e,t){var r=t(12);n.exports=function(n,e){return void 0===n?arguments.length<2?"":e:r(n)}},function(n,e,t){t(1)({target:"Object",stat:!0,sham:!t(8)},{create:t(33)})},function(n,e){n.exports=function(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}},function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},function(n,e,t){var r=t(96),i=t(298),a=t(299),o=t(300),s=t(301),l=t(302);function c(n){var e=this.__data__=new r(n);this.size=e.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,n.exports=c},function(n,e){n.exports=function(n,e){return n===e||n!=n&&e!=e}},function(n,e,t){var r=t(62),i=t(129);n.exports=function(n){if(!i(n))return!1;var e=r(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(n,e){var t=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return t.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,e,t){var r=t(319),i=t(48);n.exports=function n(e,t,a,o,s){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!=e&&t!=t:r(e,t,a,o,n,s))}},function(n,e,t){var r=t(200),i=t(322),a=t(201);n.exports=function(n,e,t,o,s,l){var c=1&t,p=n.length,d=e.length;if(p!=d&&!(c&&d>p))return!1;var u=l.get(n),m=l.get(e);if(u&&m)return u==e&&m==n;var g=-1,h=!0,v=2&t?new r:void 0;for(l.set(n,e),l.set(e,n);++g<p;){var f=n[g],b=e[g];if(o)var y=c?o(b,f,g,e,n,l):o(f,b,g,n,e,l);if(void 0!==y){if(y)continue;h=!1;break}if(v){if(!i(e,(function(n,e){if(!a(v,e)&&(f===n||s(f,n,t,o,l)))return v.push(e)}))){h=!1;break}}else if(f!==b&&!s(f,b,t,o,l)){h=!1;break}}return l.delete(n),l.delete(e),h}},function(n,e,t){var r=t(130),i=t(320),a=t(321);function o(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new r;++e<t;)this.add(n[e])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,n.exports=o},function(n,e){n.exports=function(n,e){return n.has(e)}},function(n,e,t){var r=t(332),i=t(338),a=t(206);n.exports=function(n){return a(n)?r(n):i(n)}},function(n,e,t){(function(n){var r=t(29),i=t(334),a=e&&!e.nodeType&&e,o=a&&"object"==typeof n&&n&&!n.nodeType&&n,s=o&&o.exports===a?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;n.exports=l}).call(this,t(151)(n))},function(n,e){var t=/^(?:0|[1-9]\d*)$/;n.exports=function(n,e){var r=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&t.test(n))&&n>-1&&n%1==0&&n<e}},function(n,e,t){var r=t(335),i=t(336),a=t(337),o=a&&a.isTypedArray,s=o?i(o):r;n.exports=s},function(n,e,t){var r=t(196),i=t(132);n.exports=function(n){return null!=n&&i(n.length)&&!r(n)}},function(n,e,t){var r=t(41)(t(29),"Set");n.exports=r},function(n,e,t){var r=t(129);n.exports=function(n){return n==n&&!r(n)}},function(n,e){n.exports=function(n,e){return function(t){return null!=t&&(t[n]===e&&(void 0!==e||n in Object(t)))}}},function(n,e,t){var r=t(211),i=t(100);n.exports=function(n,e){for(var t=0,a=(e=r(e,n)).length;null!=n&&t<a;)n=n[i(e[t++])];return t&&t==a?n:void 0}},function(n,e,t){var r=t(27),i=t(133),a=t(349),o=t(352);n.exports=function(n,e){return r(n)?n:i(n,e)?[n]:a(o(n))}},function(n,e,t){var r=t(0),i=t(39),a=t(4),o=t(28),s=t(71),l=t(146),c=/MSIE .\./.test(o),p=r.Function,d=function(n){return c?function(e,t){var r=l(arguments.length,1)>2,o=a(e)?e:p(e),c=r?s(arguments,2):void 0;return n(r?function(){i(o,this,c)}:o,t)}:n};n.exports={setTimeout:d(r.setTimeout),setInterval:d(r.setInterval)}},function(n,e,t){"use strict";var r=t(0),i=t(3),a=t(21),o=t(11),s=t(9),l=t(71),c=t(64),p=r.Function,d=i([].concat),u=i([].join),m={},g=function(n,e,t){if(!s(m,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";m[e]=p("C,a","return new C("+u(r,",")+")")}return m[e](n,t)};n.exports=c?p.bind:function(n){var e=a(this),t=e.prototype,r=l(arguments,1),i=function(){var t=d(r,l(arguments));return this instanceof i?g(e,t.length,t):e.apply(n,t)};return o(t)&&(i.prototype=t),i}},function(n,e,t){"use strict";var r=t(1),i=t(386).start;r({target:"String",proto:!0,forced:t(388)},{padStart:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){},function(n,e,t){},function(n,e,t){t(1)({target:"Object",stat:!0},{setPrototypeOf:t(70)})},function(n,e,t){var r=t(1),i=t(15),a=t(39),o=t(213),s=t(167),l=t(10),c=t(11),p=t(33),d=t(2),u=i("Reflect","construct"),m=Object.prototype,g=[].push,h=d((function(){function n(){}return!(u((function(){}),[],n)instanceof n)})),v=!d((function(){u((function(){}))})),f=h||v;r({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function(n,e){s(n),l(e);var t=arguments.length<3?n:s(arguments[2]);if(v&&!h)return u(n,e,t);if(n==t){switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3])}var r=[null];return a(g,r,e),new(a(o,n,r))}var i=t.prototype,d=p(c(i)?i:m),f=a(n,d,e);return c(f)?f:d}})},function(n,e,t){var r=t(1),i=t(0),a=t(60);r({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},function(n,e,t){},function(n,e,t){},function(n,e,t){var r=t(285),i=t(290),a=t(361),o=t(369),s=t(378),l=t(236),c=a((function(n){var e=l(n);return s(e)&&(e=void 0),o(r(n,1,s,!0),i(e,2))}));n.exports=c},function(n,e,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;n.exports=function(n){var e,t=""+n,i=r.exec(t);if(!i)return t;var a="",o=0,s=0;for(o=i.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}s!==o&&(a+=t.substring(s,o)),s=o+1,a+=e}return s!==o?a+t.substring(s,o):a}},function(n,e,t){"use strict";t.r(e);var r={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}}},i=(t(389),t(30)),a=Object(i.a)(r,(function(){var n=this.$createElement;return(this._self._c||n)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"4f1e9d0c",null);e.default=a.exports},function(n,e,t){"use strict";t.r(e);t(36),t(6),t(37),t(43),t(31);var r={name:"CodeGroup",data:function(){return{codeTabs:[],activeCodeTabIndex:-1}},watch:{activeCodeTabIndex:function(n){this.codeTabs.forEach((function(n){n.elm.classList.remove("theme-code-block__active")})),this.codeTabs[n].elm.classList.add("theme-code-block__active")}},mounted:function(){var n=this;this.codeTabs=(this.$slots.default||[]).filter((function(n){return Boolean(n.componentOptions)})).map((function(e,t){return""===e.componentOptions.propsData.active&&(n.activeCodeTabIndex=t),{title:e.componentOptions.propsData.title,elm:e.elm}})),-1===this.activeCodeTabIndex&&this.codeTabs.length>0&&(this.activeCodeTabIndex=0)},methods:{changeCodeTab:function(n){this.activeCodeTabIndex=n}}},i=(t(390),t(30)),a=Object(i.a)(r,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"theme-code-group"},[t("div",{staticClass:"theme-code-group__nav"},[t("ul",{staticClass:"theme-code-group__ul"},n._l(n.codeTabs,(function(e,r){return t("li",{key:e.title,staticClass:"theme-code-group__li"},[t("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":r===n.activeCodeTabIndex},on:{click:function(e){return n.changeCodeTab(r)}}},[n._v("\n            "+n._s(e.title)+"\n          ")])])})),0)]),n._v(" "),n._t("default"),n._v(" "),n.codeTabs.length<1?t("pre",{staticClass:"pre-blank"},[n._v("// Make sure to add code blocks to your code group")]):n._e()],2)}),[],!1,null,"2f5f1757",null);e.default=a.exports},function(n,e,t){"use strict";var r=t(8),i=t(0),a=t(3),o=t(105),s=t(14),l=t(9),c=t(150),p=t(34),d=t(65),u=t(159),m=t(2),g=t(59).f,h=t(38).f,v=t(13).f,f=t(385),b=t(153).trim,y=i.Number,x=y.prototype,w=i.TypeError,S=a("".slice),k=a("".charCodeAt),j=function(n){var e=u(n,"number");return"bigint"==typeof e?e:q(e)},q=function(n){var e,t,r,i,a,o,s,l,c=u(n,"number");if(d(c))throw w("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=b(c),43===(e=k(c,0))||45===e){if(88===(t=k(c,2))||120===t)return NaN}else if(48===e){switch(k(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=(a=S(c,2)).length,s=0;s<o;s++)if((l=k(a,s))<48||l>i)return NaN;return parseInt(a,r)}return+c};if(o("Number",!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var C,I=function(n){var e=arguments.length<1?0:y(j(n)),t=this;return p(x,t)&&m((function(){f(t)}))?c(Object(e),t,I):e},M=r?g(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),T=0;M.length>T;T++)l(y,C=M[T])&&!l(I,C)&&v(I,C,h(y,C));I.prototype=x,x.constructor=I,s(i,"Number",I,{constructor:!0})}},function(n,e,t){var r=t(2),i=t(0).RegExp;n.exports=r((function(){var n=i(".","s");return!(n.dotAll&&n.exec("\n")&&"s"===n.flags)}))},function(n,e,t){"use strict";var r=t(165).IteratorPrototype,i=t(33),a=t(47),o=t(60),s=t(68),l=function(){return this};n.exports=function(n,e,t,c){var p=e+" Iterator";return n.prototype=i(r,{next:a(+!c,t)}),o(n,p,!1,!0),s[p]=l,n}},function(n,e,t){"use strict";var r=t(15),i=t(13),a=t(5),o=t(8),s=a("species");n.exports=function(n){var e=r(n),t=i.f;o&&e&&!e[s]&&t(e,s,{configurable:!0,get:function(){return this}})}},function(n,e,t){var r=t(0),i=t(34),a=r.TypeError;n.exports=function(n,e){if(i(e,n))return n;throw a("Incorrect invocation")}},function(n,e,t){var r=t(1),i=t(8),a=t(164),o=t(20),s=t(38),l=t(74);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(n){for(var e,t,r=o(n),i=s.f,c=a(r),p={},d=0;c.length>d;)void 0!==(t=i(r,e=c[d++]))&&l(p,e,t);return p}})},function(n,e,t){var r=t(2),i=t(0).RegExp;n.exports=r((function(){var n=i("(?<a>b)","g");return"b"!==n.exec("b").groups.a||"bc"!=="b".replace(n,"$<a>c")}))},function(n,e,t){var r=t(13).f;n.exports=function(n,e,t){t in n||r(n,t,{configurable:!0,get:function(){return e[t]},set:function(n){e[t]=n}})}},function(n,e,t){"use strict";var r=t(1),i=t(114).includes,a=t(2),o=t(140);r({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(n,e,t){"use strict";var r=t(1),i=t(3),a=t(180),o=t(18),s=t(12),l=t(181),c=i("".indexOf);r({target:"String",proto:!0,forced:!l("includes")},{includes:function(n){return!!~c(s(o(this)),s(a(n)),arguments.length>1?arguments[1]:void 0)}})},function(n,e){n.exports=function(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}},function(n,e,t){"use strict";var r=t(1),i=t(153).trim;r({target:"String",proto:!0,forced:t(383)("trim")},{trim:function(){return i(this)}})},function(n,e,t){var r=t(7),i=t(9),a=t(34),o=t(189),s=RegExp.prototype;n.exports=function(n){var e=n.flags;return void 0!==e||"flags"in s||i(n,"flags")||!a(s,n)?e:r(o,n)}},function(n,e,t){var r=t(123),i=Math.floor,a=function(n,e){var t=n.length,l=i(t/2);return t<8?o(n,e):s(n,a(r(n,0,l),e),a(r(n,l),e),e)},o=function(n,e){for(var t,r,i=n.length,a=1;a<i;){for(r=a,t=n[a];r&&e(n[r-1],t)>0;)n[r]=n[--r];r!==a++&&(n[r]=t)}return n},s=function(n,e,t,r){for(var i=e.length,a=t.length,o=0,s=0;o<i||s<a;)n[o+s]=o<i&&s<a?r(e[o],t[s])<=0?e[o++]:t[s++]:o<i?e[o++]:t[s++];return n};n.exports=a},function(n,e,t){var r=t(0),i=t(8),a=t(108).MISSED_STICKY,o=t(23),s=t(241),l=t(35).get,c=RegExp.prototype,p=r.TypeError;i&&a&&s(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===o(this))return!!l(this).sticky;throw p("Incompatible receiver, RegExp required")}}})},function(n,e,t){var r=t(163),i=t(13);n.exports=function(n,e,t){return t.get&&r(t.get,e,{getter:!0}),t.set&&r(t.set,e,{setter:!0}),i.f(n,e,t)}},function(n,e,t){n.exports=t(399)},function(n,e,t){var r=t(0),i=t(7),a=t(4),o=t(11),s=r.TypeError;n.exports=function(n,e){var t,r;if("string"===e&&a(t=n.toString)&&!o(r=i(t,n)))return r;if(a(t=n.valueOf)&&!o(r=i(t,n)))return r;if("string"!==e&&a(t=n.toString)&&!o(r=i(t,n)))return r;throw s("Can't convert object to primitive value")}},function(n,e,t){var r=t(0),i=t(4),a=t(88),o=r.WeakMap;n.exports=i(o)&&/native code/.test(a(o))},function(n,e,t){var r=t(0),i=t(4),a=r.String,o=r.TypeError;n.exports=function(n){if("object"==typeof n||i(n))return n;throw o("Can't set "+a(n)+" as a prototype")}},function(n,e,t){t(247),t(254),t(255),t(256),t(257),t(258)},function(n,e,t){"use strict";var r,i,a,o=t(1),s=t(16),l=t(90),c=t(0),p=t(7),d=t(14),u=t(70),m=t(60),g=t(229),h=t(21),v=t(4),f=t(11),b=t(230),y=t(120),x=t(168).set,w=t(248),S=t(251),k=t(122),j=t(252),q=t(35),C=t(53),I=t(72),M=t(73),T=I.CONSTRUCTOR,_=I.REJECTION_EVENT,E=I.SUBCLASSING,A=q.getterFor("Promise"),B=q.set,R=C&&C.prototype,L=C,z=R,P=c.TypeError,D=c.document,O=c.process,N=M.f,F=N,H=!!(D&&D.createEvent&&c.dispatchEvent),V=function(n){var e;return!(!f(n)||!v(e=n.then))&&e},U=function(n,e){var t,r,i,a=e.value,o=1==e.state,s=o?n.ok:n.fail,l=n.resolve,c=n.reject,d=n.domain;try{s?(o||(2===e.rejection&&G(e),e.rejection=1),!0===s?t=a:(d&&d.enter(),t=s(a),d&&(d.exit(),i=!0)),t===n.promise?c(P("Promise-chain cycle")):(r=V(t))?p(r,t,l,c):l(t)):c(a)}catch(n){d&&!i&&d.exit(),c(n)}},$=function(n,e){n.notified||(n.notified=!0,w((function(){for(var t,r=n.reactions;t=r.get();)U(t,n);n.notified=!1,e&&!n.rejection&&W(n)})))},Q=function(n,e,t){var r,i;H?((r=D.createEvent("Event")).promise=e,r.reason=t,r.initEvent(n,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:t},!_&&(i=c["on"+n])?i(r):"unhandledrejection"===n&&S("Unhandled promise rejection",t)},W=function(n){p(x,c,(function(){var e,t=n.facade,r=n.value;if(J(n)&&(e=k((function(){l?O.emit("unhandledRejection",r,t):Q("unhandledrejection",t,r)})),n.rejection=l||J(n)?2:1,e.error))throw e.value}))},J=function(n){return 1!==n.rejection&&!n.parent},G=function(n){p(x,c,(function(){var e=n.facade;l?O.emit("rejectionHandled",e):Q("rejectionhandled",e,n.value)}))},K=function(n,e,t){return function(r){n(e,r,t)}},Y=function(n,e,t){n.done||(n.done=!0,t&&(n=t),n.value=e,n.state=2,$(n,!0))},X=function(n,e,t){if(!n.done){n.done=!0,t&&(n=t);try{if(n.facade===e)throw P("Promise can't be resolved itself");var r=V(e);r?w((function(){var t={done:!1};try{p(r,e,K(X,t,n),K(Y,t,n))}catch(e){Y(t,e,n)}})):(n.value=e,n.state=1,$(n,!1))}catch(e){Y({done:!1},e,n)}}};if(T&&(z=(L=function(n){b(this,z),h(n),p(r,this);var e=A(this);try{n(K(X,e),K(Y,e))}catch(n){Y(e,n)}}).prototype,(r=function(n){B(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new j,rejection:!1,state:0,value:void 0})}).prototype=d(z,"then",(function(n,e){var t=A(this),r=N(y(this,L));return t.parent=!0,r.ok=!v(n)||n,r.fail=v(e)&&e,r.domain=l?O.domain:void 0,0==t.state?t.reactions.add(r):w((function(){U(r,t)})),r.promise})),i=function(){var n=new r,e=A(n);this.promise=n,this.resolve=K(X,e),this.reject=K(Y,e)},M.f=N=function(n){return n===L||void 0===n?new i(n):F(n)},!s&&v(C)&&R!==Object.prototype)){a=R.then,E||d(R,"then",(function(n,e){var t=this;return new L((function(n,e){p(a,t,n,e)})).then(n,e)}),{unsafe:!0});try{delete R.constructor}catch(n){}u&&u(R,z)}o({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:L}),m(L,"Promise",!1,!0),g("Promise")},function(n,e,t){var r,i,a,o,s,l,c,p,d=t(0),u=t(57),m=t(38).f,g=t(168).set,h=t(169),v=t(249),f=t(250),b=t(90),y=d.MutationObserver||d.WebKitMutationObserver,x=d.document,w=d.process,S=d.Promise,k=m(d,"queueMicrotask"),j=k&&k.value;j||(r=function(){var n,e;for(b&&(n=w.domain)&&n.exit();i;){e=i.fn,i=i.next;try{e()}catch(n){throw i?o():a=void 0,n}}a=void 0,n&&n.enter()},h||b||f||!y||!x?!v&&S&&S.resolve?((c=S.resolve(void 0)).constructor=S,p=u(c.then,c),o=function(){p(r)}):b?o=function(){w.nextTick(r)}:(g=u(g,d),o=function(){g(r)}):(s=!0,l=x.createTextNode(""),new y(r).observe(l,{characterData:!0}),o=function(){l.data=s=!s})),n.exports=j||function(n){var e={fn:n,next:void 0};a&&(a.next=e),i||(i=e,o()),a=e}},function(n,e,t){var r=t(28),i=t(0);n.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},function(n,e,t){var r=t(28);n.exports=/web0s(?!.*chrome)/i.test(r)},function(n,e,t){var r=t(0);n.exports=function(n,e){var t=r.console;t&&t.error&&(1==arguments.length?t.error(n):t.error(n,e))}},function(n,e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(n){var e={item:n,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var n=this.head;if(n)return this.head=n.next,this.tail===n&&(this.tail=null),n.item}},n.exports=t},function(n,e){n.exports="object"==typeof window&&"object"!=typeof Deno},function(n,e,t){"use strict";var r=t(1),i=t(7),a=t(21),o=t(73),s=t(122),l=t(170);r({target:"Promise",stat:!0,forced:t(173)},{all:function(n){var e=this,t=o.f(e),r=t.resolve,c=t.reject,p=s((function(){var t=a(e.resolve),o=[],s=0,p=1;l(n,(function(n){var a=s++,l=!1;p++,i(t,e,n).then((function(n){l||(l=!0,o[a]=n,--p||r(o))}),c)})),--p||r(o)}));return p.error&&c(p.value),t.promise}})},function(n,e,t){"use strict";var r=t(1),i=t(16),a=t(72).CONSTRUCTOR,o=t(53),s=t(15),l=t(4),c=t(14),p=o&&o.prototype;if(r({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(n){return this.then(void 0,n)}}),!i&&l(o)){var d=s("Promise").prototype.catch;p.catch!==d&&c(p,"catch",d,{unsafe:!0})}},function(n,e,t){"use strict";var r=t(1),i=t(7),a=t(21),o=t(73),s=t(122),l=t(170);r({target:"Promise",stat:!0,forced:t(173)},{race:function(n){var e=this,t=o.f(e),r=t.reject,c=s((function(){var o=a(e.resolve);l(n,(function(n){i(o,e,n).then(t.resolve,r)}))}));return c.error&&r(c.value),t.promise}})},function(n,e,t){"use strict";var r=t(1),i=t(7),a=t(73);r({target:"Promise",stat:!0,forced:t(72).CONSTRUCTOR},{reject:function(n){var e=a.f(this);return i(e.reject,void 0,n),e.promise}})},function(n,e,t){"use strict";var r=t(1),i=t(15),a=t(16),o=t(53),s=t(72).CONSTRUCTOR,l=t(175),c=i("Promise"),p=a&&!s;r({target:"Promise",stat:!0,forced:a||s},{resolve:function(n){return l(p&&this===c?o:this,n)}})},function(n,e,t){var r=t(1),i=t(260);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},function(n,e,t){"use strict";var r=t(8),i=t(3),a=t(7),o=t(2),s=t(86),l=t(89),c=t(117),p=t(17),d=t(63),u=Object.assign,m=Object.defineProperty,g=i([].concat);n.exports=!u||o((function(){if(r&&1!==u({b:1},u(m({},"a",{enumerable:!0,get:function(){m(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var n={},e={},t=Symbol();return n[t]=7,"abcdefghijklmnopqrst".split("").forEach((function(n){e[n]=n})),7!=u({},n)[t]||"abcdefghijklmnopqrst"!=s(u({},e)).join("")}))?function(n,e){for(var t=p(n),i=arguments.length,o=1,u=l.f,m=c.f;i>o;)for(var h,v=d(arguments[o++]),f=u?g(s(v),u(v)):s(v),b=f.length,y=0;b>y;)h=f[y++],r&&!a(m,v,h)||(t[h]=v[h]);return t}:u},function(n,e,t){"use strict";var r=t(1),i=t(16),a=t(53),o=t(2),s=t(15),l=t(4),c=t(120),p=t(175),d=t(14),u=a&&a.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){u.finally.call({then:function(){}},(function(){}))}))},{finally:function(n){var e=c(this,s("Promise")),t=l(n);return this.then(t?function(t){return p(e,n()).then((function(){return t}))}:n,t?function(t){return p(e,n()).then((function(){throw t}))}:n)}}),!i&&l(a)){var m=s("Promise").prototype.finally;u.finally!==m&&d(u,"finally",m,{unsafe:!0})}},function(n,e,t){"use strict";var r=t(121),i=t(80);n.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(n,e,t){var r=t(0),i=t(61),a=t(91),o=t(11),s=t(5)("species"),l=r.Array;n.exports=function(n){var e;return i(n)&&(e=n.constructor,(a(e)&&(e===l||i(e.prototype))||o(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?l:e}},function(n,e,t){"use strict";var r=t(1),i=t(265).left,a=t(45),o=t(51),s=t(90);r({target:"Array",proto:!0,forced:!a("reduce")||!s&&o>79&&o<83},{reduce:function(n){var e=arguments.length;return i(this,n,e,e>1?arguments[1]:void 0)}})},function(n,e,t){var r=t(0),i=t(21),a=t(17),o=t(63),s=t(22),l=r.TypeError,c=function(n){return function(e,t,r,c){i(t);var p=a(e),d=o(p),u=s(p),m=n?u-1:0,g=n?-1:1;if(r<2)for(;;){if(m in d){c=d[m],m+=g;break}if(m+=g,n?m<0:u<=m)throw l("Reduce of empty array with no initial value")}for(;n?m>=0:u>m;m+=g)m in d&&(c=t(c,d[m],m,p));return c}};n.exports={left:c(!1),right:c(!0)}},function(n,e,t){"use strict";var r,i=t(1),a=t(3),o=t(38).f,s=t(52),l=t(12),c=t(180),p=t(18),d=t(181),u=t(16),m=a("".startsWith),g=a("".slice),h=Math.min,v=d("startsWith");i({target:"String",proto:!0,forced:!!(u||v||(r=o(String.prototype,"startsWith"),!r||r.writable))&&!v},{startsWith:function(n){var e=l(p(this));c(n);var t=s(h(arguments.length>1?arguments[1]:void 0,e.length)),r=l(n);return m?m(e,r,t):g(e,t,t+r.length)===r}})},function(n,e,t){var r=t(1),i=t(183),a=t(2),o=t(11),s=t(268).onFreeze,l=Object.freeze;r({target:"Object",stat:!0,forced:a((function(){l(1)})),sham:!i},{freeze:function(n){return l&&o(n)?l(s(n)):n}})},function(n,e,t){var r=t(1),i=t(3),a=t(67),o=t(11),s=t(9),l=t(13).f,c=t(59),p=t(184),d=t(269),u=t(83),m=t(183),g=!1,h=u("meta"),v=0,f=function(n){l(n,h,{value:{objectID:"O"+v++,weakData:{}}})},b=n.exports={enable:function(){b.enable=function(){},g=!0;var n=c.f,e=i([].splice),t={};t[h]=1,n(t).length&&(c.f=function(t){for(var r=n(t),i=0,a=r.length;i<a;i++)if(r[i]===h){e(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:p.f}))},fastKey:function(n,e){if(!o(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!s(n,h)){if(!d(n))return"F";if(!e)return"E";f(n)}return n[h].objectID},getWeakData:function(n,e){if(!s(n,h)){if(!d(n))return!0;if(!e)return!1;f(n)}return n[h].weakData},onFreeze:function(n){return m&&g&&d(n)&&!s(n,h)&&f(n),n}};a[h]=!0},function(n,e,t){var r=t(2),i=t(11),a=t(23),o=t(270),s=Object.isExtensible,l=r((function(){s(1)}));n.exports=l||o?function(n){return!!i(n)&&((!o||"ArrayBuffer"!=a(n))&&(!s||s(n)))}:s},function(n,e,t){var r=t(2);n.exports=r((function(){if("function"==typeof ArrayBuffer){var n=new ArrayBuffer(8);Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8})}}))},function(n,e,t){"use strict";var r=t(1),i=t(0),a=t(7),o=t(3),s=t(16),l=t(8),c=t(50),p=t(2),d=t(9),u=t(34),m=t(10),g=t(20),h=t(85),v=t(12),f=t(47),b=t(33),y=t(86),x=t(59),w=t(184),S=t(89),k=t(38),j=t(13),q=t(145),C=t(117),I=t(14),M=t(49),T=t(87),_=t(67),E=t(83),A=t(5),B=t(185),R=t(186),L=t(273),z=t(60),P=t(35),D=t(58).forEach,O=T("hidden"),N=P.set,F=P.getterFor("Symbol"),H=Object.prototype,V=i.Symbol,U=V&&V.prototype,$=i.TypeError,Q=i.QObject,W=k.f,J=j.f,G=w.f,K=C.f,Y=o([].push),X=M("symbols"),Z=M("op-symbols"),nn=M("wks"),en=!Q||!Q.prototype||!Q.prototype.findChild,tn=l&&p((function(){return 7!=b(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(n,e,t){var r=W(H,e);r&&delete H[e],J(n,e,t),r&&n!==H&&J(H,e,r)}:J,rn=function(n,e){var t=X[n]=b(U);return N(t,{type:"Symbol",tag:n,description:e}),l||(t.description=e),t},an=function(n,e,t){n===H&&an(Z,e,t),m(n);var r=h(e);return m(t),d(X,r)?(t.enumerable?(d(n,O)&&n[O][r]&&(n[O][r]=!1),t=b(t,{enumerable:f(0,!1)})):(d(n,O)||J(n,O,f(1,{})),n[O][r]=!0),tn(n,r,t)):J(n,r,t)},on=function(n,e){m(n);var t=g(e),r=y(t).concat(pn(t));return D(r,(function(e){l&&!a(sn,t,e)||an(n,e,t[e])})),n},sn=function(n){var e=h(n),t=a(K,this,e);return!(this===H&&d(X,e)&&!d(Z,e))&&(!(t||!d(this,e)||!d(X,e)||d(this,O)&&this[O][e])||t)},ln=function(n,e){var t=g(n),r=h(e);if(t!==H||!d(X,r)||d(Z,r)){var i=W(t,r);return!i||!d(X,r)||d(t,O)&&t[O][r]||(i.enumerable=!0),i}},cn=function(n){var e=G(g(n)),t=[];return D(e,(function(n){d(X,n)||d(_,n)||Y(t,n)})),t},pn=function(n){var e=n===H,t=G(e?Z:g(n)),r=[];return D(t,(function(n){!d(X,n)||e&&!d(H,n)||Y(r,X[n])})),r};c||(I(U=(V=function(){if(u(U,this))throw $("Symbol is not a constructor");var n=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,e=E(n),t=function(n){this===H&&a(t,Z,n),d(this,O)&&d(this[O],e)&&(this[O][e]=!1),tn(this,e,f(1,n))};return l&&en&&tn(H,e,{configurable:!0,set:t}),rn(e,n)}).prototype,"toString",(function(){return F(this).tag})),I(V,"withoutSetter",(function(n){return rn(E(n),n)})),C.f=sn,j.f=an,q.f=on,k.f=ln,x.f=w.f=cn,S.f=pn,B.f=function(n){return rn(A(n),n)},l&&(J(U,"description",{configurable:!0,get:function(){return F(this).description}}),s||I(H,"propertyIsEnumerable",sn,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:V}),D(y(nn),(function(n){R(n)})),r({target:"Symbol",stat:!0,forced:!c},{useSetter:function(){en=!0},useSimple:function(){en=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!l},{create:function(n,e){return void 0===e?b(n):on(b(n),e)},defineProperty:an,defineProperties:on,getOwnPropertyDescriptor:ln}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:cn}),L(),z(V,"Symbol"),_[O]=!0},function(n,e,t){var r=t(0);n.exports=r},function(n,e,t){var r=t(7),i=t(15),a=t(5),o=t(14);n.exports=function(){var n=i("Symbol"),e=n&&n.prototype,t=e&&e.valueOf,s=a("toPrimitive");e&&!e[s]&&o(e,s,(function(n){return r(t,this)}),{arity:1})}},function(n,e,t){var r=t(1),i=t(15),a=t(9),o=t(12),s=t(49),l=t(187),c=s("string-to-symbol-registry"),p=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{for:function(n){var e=o(n);if(a(c,e))return c[e];var t=i("Symbol")(e);return c[e]=t,p[t]=e,t}})},function(n,e,t){var r=t(1),i=t(9),a=t(65),o=t(66),s=t(49),l=t(187),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{keyFor:function(n){if(!a(n))throw TypeError(o(n)+" is not a symbol");if(i(c,n))return c[n]}})},function(n,e,t){var r=t(1),i=t(50),a=t(2),o=t(89),s=t(17);r({target:"Object",stat:!0,forced:!i||a((function(){o.f(1)}))},{getOwnPropertySymbols:function(n){var e=o.f;return e?e(s(n)):[]}})},function(n,e,t){"use strict";var r=t(0),i=t(57),a=t(7),o=t(17),s=t(278),l=t(171),c=t(91),p=t(22),d=t(74),u=t(147),m=t(106),g=r.Array;n.exports=function(n){var e=o(n),t=c(this),r=arguments.length,h=r>1?arguments[1]:void 0,v=void 0!==h;v&&(h=i(h,r>2?arguments[2]:void 0));var f,b,y,x,w,S,k=m(e),j=0;if(!k||this==g&&l(k))for(f=p(e),b=t?new this(f):g(f);f>j;j++)S=v?h(e[j],j):e[j],d(b,j,S);else for(w=(x=u(e,k)).next,b=t?new this:[];!(y=a(w,x)).done;j++)S=v?s(x,h,[y.value,j],!0):y.value,d(b,j,S);return b.length=j,b}},function(n,e,t){var r=t(10),i=t(172);n.exports=function(n,e,t,a){try{return a?e(r(t)[0],t[1]):e(t)}catch(e){i(n,"throw",e)}}},function(n,e,t){"use strict";var r=t(15),i=t(9),a=t(24),o=t(34),s=t(70),l=t(118),c=t(233),p=t(150),d=t(190),u=t(280),m=t(281),g=t(282),h=t(8),v=t(16);n.exports=function(n,e,t,f){var b=f?2:1,y=n.split("."),x=y[y.length-1],w=r.apply(null,y);if(w){var S=w.prototype;if(!v&&i(S,"cause")&&delete S.cause,!t)return w;var k=r("Error"),j=e((function(n,e){var t=d(f?e:n,void 0),r=f?new w(n):new w;return void 0!==t&&a(r,"message",t),g&&a(r,"stack",m(r.stack,2)),this&&o(S,this)&&p(r,this,j),arguments.length>b&&u(r,arguments[b]),r}));if(j.prototype=S,"Error"!==x?s?s(j,k):l(j,k,{name:!0}):h&&"stackTraceLimit"in w&&(c(j,w,"stackTraceLimit"),c(j,w,"prepareStackTrace")),l(j,w),!v)try{S.name!==x&&a(S,"name",x),S.constructor=j}catch(n){}return j}}},function(n,e,t){var r=t(11),i=t(24);n.exports=function(n,e){r(e)&&"cause"in e&&i(n,"cause",e.cause)}},function(n,e,t){var r=t(3),i=Error,a=r("".replace),o=String(i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(o);n.exports=function(n,e){if(l&&"string"==typeof n&&!i.prepareStackTrace)for(;e--;)n=a(n,s,"");return n}},function(n,e,t){var r=t(2),i=t(47);n.exports=!r((function(){var n=Error("a");return!("stack"in n)||(Object.defineProperty(n,"stack",i(1,7)),7!==n.stack)}))},function(n,e,t){"use strict";var r=t(8),i=t(2),a=t(10),o=t(33),s=t(190),l=Error.prototype.toString,c=i((function(){if(r){var n=o(Object.defineProperty({},"name",{get:function(){return this===n}}));if("true"!==l.call(n))return!0}return"2: 1"!==l.call({message:1,name:2})||"Error"!==l.call({})}));n.exports=c?function(){var n=a(this),e=s(n.name,"Error"),t=s(n.message);return e?t?e+": "+t:e:t}:l},function(n,e,t){var r=t(3),i=t(17),a=Math.floor,o=r("".charAt),s=r("".replace),l=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,p=/\$([$&'`]|\d{1,2})/g;n.exports=function(n,e,t,r,d,u){var m=t+n.length,g=r.length,h=p;return void 0!==d&&(d=i(d),h=c),s(u,h,(function(i,s){var c;switch(o(s,0)){case"$":return"$";case"&":return n;case"`":return l(e,0,t);case"'":return l(e,m);case"<":c=d[l(s,1,-1)];break;default:var p=+s;if(0===p)return i;if(p>g){var u=a(p/10);return 0===u?i:u<=g?void 0===r[u-1]?o(s,1):r[u-1]+o(s,1):i}c=r[p-1]}return void 0===c?"":c}))}},function(n,e,t){var r=t(192),i=t(286);n.exports=function n(e,t,a,o,s){var l=-1,c=e.length;for(a||(a=i),s||(s=[]);++l<c;){var p=e[l];t>0&&a(p)?t>1?n(p,t-1,a,o,s):r(s,p):o||(s[s.length]=p)}return s}},function(n,e,t){var r=t(75),i=t(127),a=t(27),o=r?r.isConcatSpreadable:void 0;n.exports=function(n){return a(n)||i(n)||!!(o&&n&&n[o])}},function(n,e,t){var r=t(62),i=t(48);n.exports=function(n){return i(n)&&"[object Arguments]"==r(n)}},function(n,e,t){var r=t(75),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;n.exports=function(n){var e=a.call(n,s),t=n[s];try{n[s]=void 0;var r=!0}catch(n){}var i=o.call(n);return r&&(e?n[s]=t:delete n[s]),i}},function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},function(n,e,t){var r=t(291),i=t(347),a=t(135),o=t(27),s=t(358);n.exports=function(n){return"function"==typeof n?n:null==n?a:"object"==typeof n?o(n)?i(n[0],n[1]):r(n):s(n)}},function(n,e,t){var r=t(292),i=t(346),a=t(209);n.exports=function(n){var e=i(n);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(t){return t===n||r(t,n,e)}}},function(n,e,t){var r=t(194),i=t(198);n.exports=function(n,e,t,a){var o=t.length,s=o,l=!a;if(null==n)return!s;for(n=Object(n);o--;){var c=t[o];if(l&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++o<s;){var p=(c=t[o])[0],d=n[p],u=c[1];if(l&&c[2]){if(void 0===d&&!(p in n))return!1}else{var m=new r;if(a)var g=a(d,u,p,n,e,m);if(!(void 0===g?i(u,d,3,a,m):g))return!1}}return!0}},function(n,e){n.exports=function(){this.__data__=[],this.size=0}},function(n,e,t){var r=t(97),i=Array.prototype.splice;n.exports=function(n){var e=this.__data__,t=r(e,n);return!(t<0)&&(t==e.length-1?e.pop():i.call(e,t,1),--this.size,!0)}},function(n,e,t){var r=t(97);n.exports=function(n){var e=this.__data__,t=r(e,n);return t<0?void 0:e[t][1]}},function(n,e,t){var r=t(97);n.exports=function(n){return r(this.__data__,n)>-1}},function(n,e,t){var r=t(97);n.exports=function(n,e){var t=this.__data__,i=r(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}},function(n,e,t){var r=t(96);n.exports=function(){this.__data__=new r,this.size=0}},function(n,e){n.exports=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}},function(n,e){n.exports=function(n){return this.__data__.get(n)}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e,t){var r=t(96),i=t(128),a=t(130);n.exports=function(n,e){var t=this.__data__;if(t instanceof r){var o=t.__data__;if(!i||o.length<199)return o.push([n,e]),this.size=++t.size,this;t=this.__data__=new a(o)}return t.set(n,e),this.size=t.size,this}},function(n,e,t){var r=t(196),i=t(304),a=t(129),o=t(197),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,p=l.toString,d=c.hasOwnProperty,u=RegExp("^"+p.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!a(n)||i(n))&&(r(n)?u:s).test(o(n))}},function(n,e,t){var r,i=t(305),a=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";n.exports=function(n){return!!a&&a in n}},function(n,e,t){var r=t(29)["__core-js_shared__"];n.exports=r},function(n,e){n.exports=function(n,e){return null==n?void 0:n[e]}},function(n,e,t){var r=t(308),i=t(96),a=t(128);n.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},function(n,e,t){var r=t(309),i=t(310),a=t(311),o=t(312),s=t(313);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,n.exports=l},function(n,e,t){var r=t(98);n.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(n,e){n.exports=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}},function(n,e,t){var r=t(98),i=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;if(r){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return i.call(e,n)?e[n]:void 0}},function(n,e,t){var r=t(98),i=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;return r?void 0!==e[n]:i.call(e,n)}},function(n,e,t){var r=t(98);n.exports=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(n,e,t){var r=t(99);n.exports=function(n){var e=r(this,n).delete(n);return this.size-=e?1:0,e}},function(n,e){n.exports=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}},function(n,e,t){var r=t(99);n.exports=function(n){return r(this,n).get(n)}},function(n,e,t){var r=t(99);n.exports=function(n){return r(this,n).has(n)}},function(n,e,t){var r=t(99);n.exports=function(n,e){var t=r(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}},function(n,e,t){var r=t(194),i=t(199),a=t(323),o=t(326),s=t(342),l=t(27),c=t(203),p=t(205),d="[object Object]",u=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,m,g,h){var v=l(n),f=l(e),b=v?"[object Array]":s(n),y=f?"[object Array]":s(e),x=(b="[object Arguments]"==b?d:b)==d,w=(y="[object Arguments]"==y?d:y)==d,S=b==y;if(S&&c(n)){if(!c(e))return!1;v=!0,x=!1}if(S&&!x)return h||(h=new r),v||p(n)?i(n,e,t,m,g,h):a(n,e,b,t,m,g,h);if(!(1&t)){var k=x&&u.call(n,"__wrapped__"),j=w&&u.call(e,"__wrapped__");if(k||j){var q=k?n.value():n,C=j?e.value():e;return h||(h=new r),g(q,C,t,m,h)}}return!!S&&(h||(h=new r),o(n,e,t,m,g,h))}},function(n,e){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}},function(n,e,t){var r=t(75),i=t(324),a=t(195),o=t(199),s=t(325),l=t(131),c=r?r.prototype:void 0,p=c?c.valueOf:void 0;n.exports=function(n,e,t,r,c,d,u){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!d(new i(n),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var m=s;case"[object Set]":var g=1&r;if(m||(m=l),n.size!=e.size&&!g)return!1;var h=u.get(n);if(h)return h==e;r|=2,u.set(n,e);var v=o(m(n),m(e),r,c,d,u);return u.delete(n),v;case"[object Symbol]":if(p)return p.call(n)==p.call(e)}return!1}},function(n,e,t){var r=t(29).Uint8Array;n.exports=r},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n,r){t[++e]=[r,n]})),t}},function(n,e,t){var r=t(327),i=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,a,o,s){var l=1&t,c=r(n),p=c.length;if(p!=r(e).length&&!l)return!1;for(var d=p;d--;){var u=c[d];if(!(l?u in e:i.call(e,u)))return!1}var m=s.get(n),g=s.get(e);if(m&&g)return m==e&&g==n;var h=!0;s.set(n,e),s.set(e,n);for(var v=l;++d<p;){var f=n[u=c[d]],b=e[u];if(a)var y=l?a(b,f,u,e,n,s):a(f,b,u,n,e,s);if(!(void 0===y?f===b||o(f,b,t,a,s):y)){h=!1;break}v||(v="constructor"==u)}if(h&&!v){var x=n.constructor,w=e.constructor;x==w||!("constructor"in n)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(h=!1)}return s.delete(n),s.delete(e),h}},function(n,e,t){var r=t(328),i=t(329),a=t(202);n.exports=function(n){return r(n,a,i)}},function(n,e,t){var r=t(192),i=t(27);n.exports=function(n,e,t){var a=e(n);return i(n)?a:r(a,t(n))}},function(n,e,t){var r=t(330),i=t(331),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(n){return null==n?[]:(n=Object(n),r(o(n),(function(e){return a.call(n,e)})))}:i;n.exports=s},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,i=0,a=[];++t<r;){var o=n[t];e(o,t,n)&&(a[i++]=o)}return a}},function(n,e){n.exports=function(){return[]}},function(n,e,t){var r=t(333),i=t(127),a=t(27),o=t(203),s=t(204),l=t(205),c=Object.prototype.hasOwnProperty;n.exports=function(n,e){var t=a(n),p=!t&&i(n),d=!t&&!p&&o(n),u=!t&&!p&&!d&&l(n),m=t||p||d||u,g=m?r(n.length,String):[],h=g.length;for(var v in n)!e&&!c.call(n,v)||m&&("length"==v||d&&("offset"==v||"parent"==v)||u&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,h))||g.push(v);return g}},function(n,e){n.exports=function(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}},function(n,e){n.exports=function(){return!1}},function(n,e,t){var r=t(62),i=t(132),a=t(48),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,n.exports=function(n){return a(n)&&i(n.length)&&!!o[r(n)]}},function(n,e){n.exports=function(n){return function(e){return n(e)}}},function(n,e,t){(function(n){var r=t(193),i=e&&!e.nodeType&&e,a=i&&"object"==typeof n&&n&&!n.nodeType&&n,o=a&&a.exports===i&&r.process,s=function(){try{var n=a&&a.require&&a.require("util").types;return n||o&&o.binding&&o.binding("util")}catch(n){}}();n.exports=s}).call(this,t(151)(n))},function(n,e,t){var r=t(339),i=t(340),a=Object.prototype.hasOwnProperty;n.exports=function(n){if(!r(n))return i(n);var e=[];for(var t in Object(n))a.call(n,t)&&"constructor"!=t&&e.push(t);return e}},function(n,e){var t=Object.prototype;n.exports=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||t)}},function(n,e,t){var r=t(341)(Object.keys,Object);n.exports=r},function(n,e){n.exports=function(n,e){return function(t){return n(e(t))}}},function(n,e,t){var r=t(343),i=t(128),a=t(344),o=t(207),s=t(345),l=t(62),c=t(197),p=c(r),d=c(i),u=c(a),m=c(o),g=c(s),h=l;(r&&"[object DataView]"!=h(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=h(new i)||a&&"[object Promise]"!=h(a.resolve())||o&&"[object Set]"!=h(new o)||s&&"[object WeakMap]"!=h(new s))&&(h=function(n){var e=l(n),t="[object Object]"==e?n.constructor:void 0,r=t?c(t):"";if(r)switch(r){case p:return"[object DataView]";case d:return"[object Map]";case u:return"[object Promise]";case m:return"[object Set]";case g:return"[object WeakMap]"}return e}),n.exports=h},function(n,e,t){var r=t(41)(t(29),"DataView");n.exports=r},function(n,e,t){var r=t(41)(t(29),"Promise");n.exports=r},function(n,e,t){var r=t(41)(t(29),"WeakMap");n.exports=r},function(n,e,t){var r=t(208),i=t(202);n.exports=function(n){for(var e=i(n),t=e.length;t--;){var a=e[t],o=n[a];e[t]=[a,o,r(o)]}return e}},function(n,e,t){var r=t(198),i=t(348),a=t(355),o=t(133),s=t(208),l=t(209),c=t(100);n.exports=function(n,e){return o(n)&&s(e)?l(c(n),e):function(t){var o=i(t,n);return void 0===o&&o===e?a(t,n):r(e,o,3)}}},function(n,e,t){var r=t(210);n.exports=function(n,e,t){var i=null==n?void 0:r(n,e);return void 0===i?t:i}},function(n,e,t){var r=t(350),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(i,(function(n,t,r,i){e.push(r?i.replace(a,"$1"):t||n)})),e}));n.exports=o},function(n,e,t){var r=t(351);n.exports=function(n){var e=r(n,(function(n){return 500===t.size&&t.clear(),n})),t=e.cache;return e}},function(n,e,t){var r=t(130);function i(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=t.cache;if(a.has(i))return a.get(i);var o=n.apply(this,r);return t.cache=a.set(i,o)||a,o};return t.cache=new(i.Cache||r),t}i.Cache=r,n.exports=i},function(n,e,t){var r=t(353);n.exports=function(n){return null==n?"":r(n)}},function(n,e,t){var r=t(75),i=t(354),a=t(27),o=t(134),s=r?r.prototype:void 0,l=s?s.toString:void 0;n.exports=function n(e){if("string"==typeof e)return e;if(a(e))return i(e,n)+"";if(o(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}},function(n,e,t){var r=t(356),i=t(357);n.exports=function(n,e){return null!=n&&i(n,e,r)}},function(n,e){n.exports=function(n,e){return null!=n&&e in Object(n)}},function(n,e,t){var r=t(211),i=t(127),a=t(27),o=t(204),s=t(132),l=t(100);n.exports=function(n,e,t){for(var c=-1,p=(e=r(e,n)).length,d=!1;++c<p;){var u=l(e[c]);if(!(d=null!=n&&t(n,u)))break;n=n[u]}return d||++c!=p?d:!!(p=null==n?0:n.length)&&s(p)&&o(u,p)&&(a(n)||i(n))}},function(n,e,t){var r=t(359),i=t(360),a=t(133),o=t(100);n.exports=function(n){return a(n)?r(o(n)):i(n)}},function(n,e){n.exports=function(n){return function(e){return null==e?void 0:e[n]}}},function(n,e,t){var r=t(210);n.exports=function(n){return function(e){return r(e,n)}}},function(n,e,t){var r=t(135),i=t(362),a=t(364);n.exports=function(n,e){return a(i(n,e,r),n+"")}},function(n,e,t){var r=t(363),i=Math.max;n.exports=function(n,e,t){return e=i(void 0===e?n.length-1:e,0),function(){for(var a=arguments,o=-1,s=i(a.length-e,0),l=Array(s);++o<s;)l[o]=a[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=a[o];return c[e]=t(l),r(n,this,c)}}},function(n,e){n.exports=function(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}},function(n,e,t){var r=t(365),i=t(368)(r);n.exports=i},function(n,e,t){var r=t(366),i=t(367),a=t(135),o=i?function(n,e){return i(n,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:a;n.exports=o},function(n,e){n.exports=function(n){return function(){return n}}},function(n,e,t){var r=t(41),i=function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=i},function(n,e){var t=Date.now;n.exports=function(n){var e=0,r=0;return function(){var i=t(),a=16-(i-r);if(r=i,a>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}},function(n,e,t){var r=t(200),i=t(370),a=t(375),o=t(201),s=t(376),l=t(131);n.exports=function(n,e,t){var c=-1,p=i,d=n.length,u=!0,m=[],g=m;if(t)u=!1,p=a;else if(d>=200){var h=e?null:s(n);if(h)return l(h);u=!1,p=o,g=new r}else g=e?[]:m;n:for(;++c<d;){var v=n[c],f=e?e(v):v;if(v=t||0!==v?v:0,u&&f==f){for(var b=g.length;b--;)if(g[b]===f)continue n;e&&g.push(f),m.push(v)}else p(g,f,t)||(g!==m&&g.push(f),m.push(v))}return m}},function(n,e,t){var r=t(371);n.exports=function(n,e){return!!(null==n?0:n.length)&&r(n,e,0)>-1}},function(n,e,t){var r=t(372),i=t(373),a=t(374);n.exports=function(n,e,t){return e==e?a(n,e,t):r(n,i,t)}},function(n,e){n.exports=function(n,e,t,r){for(var i=n.length,a=t+(r?1:-1);r?a--:++a<i;)if(e(n[a],a,n))return a;return-1}},function(n,e){n.exports=function(n){return n!=n}},function(n,e){n.exports=function(n,e,t){for(var r=t-1,i=n.length;++r<i;)if(n[r]===e)return r;return-1}},function(n,e){n.exports=function(n,e,t){for(var r=-1,i=null==n?0:n.length;++r<i;)if(t(e,n[r]))return!0;return!1}},function(n,e,t){var r=t(207),i=t(377),a=t(131),o=r&&1/a(new r([,-0]))[1]==1/0?function(n){return new r(n)}:i;n.exports=o},function(n,e){n.exports=function(){}},function(n,e,t){var r=t(206),i=t(48);n.exports=function(n){return i(n)&&r(n)}},function(n,e,t){var r=t(1),i=t(0),a=t(212).setInterval;r({global:!0,bind:!0,forced:i.setInterval!==a},{setInterval:a})},function(n,e,t){var r=t(1),i=t(0),a=t(212).setTimeout;r({global:!0,bind:!0,forced:i.setTimeout!==a},{setTimeout:a})},function(n,e,t){},function(n,e,t){},function(n,e,t){var r=t(69).PROPER,i=t(2),a=t(154);n.exports=function(n){return i((function(){return!!a[n]()||"âÂá "!=="âÂá "[n]()||r&&a[n].name!==n}))}},function(n,e,t){var r=t(1),i=t(213);r({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},function(n,e,t){var r=t(3);n.exports=r(1..valueOf)},function(n,e,t){var r=t(3),i=t(52),a=t(12),o=t(387),s=t(18),l=r(o),c=r("".slice),p=Math.ceil,d=function(n){return function(e,t,r){var o,d,u=a(s(e)),m=i(t),g=u.length,h=void 0===r?" ":a(r);return m<=g||""==h?u:((d=l(h,p((o=m-g)/h.length))).length>o&&(d=c(d,0,o)),n?u+d:d+u)}};n.exports={start:d(!1),end:d(!0)}},function(n,e,t){"use strict";var r=t(0),i=t(56),a=t(12),o=t(18),s=r.RangeError;n.exports=function(n){var e=a(o(this)),t="",r=i(n);if(r<0||r==1/0)throw s("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(t+=e);return t}},function(n,e,t){var r=t(28);n.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},function(n,e,t){"use strict";t(215)},function(n,e,t){"use strict";t(216)},function(n,e,t){"use strict";var r=t(1),i=t(3),a=t(21),o=t(17),s=t(22),l=t(12),c=t(2),p=t(239),d=t(45),u=t(392),m=t(393),g=t(51),h=t(394),v=[],f=i(v.sort),b=i(v.push),y=c((function(){v.sort(void 0)})),x=c((function(){v.sort(null)})),w=d("sort"),S=!c((function(){if(g)return g<70;if(!(u&&u>3)){if(m)return!0;if(h)return h<603;var n,e,t,r,i="";for(n=65;n<76;n++){switch(e=String.fromCharCode(n),n){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(r=0;r<47;r++)v.push({k:e+r,v:t})}for(v.sort((function(n,e){return e.v-n.v})),r=0;r<v.length;r++)e=v[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:y||!x||!w||!S},{sort:function(n){void 0!==n&&a(n);var e=o(this);if(S)return void 0===n?f(e):f(e,n);var t,r,i=[],c=s(e);for(r=0;r<c;r++)r in e&&b(i,e[r]);for(p(i,function(n){return function(e,t){return void 0===t?-1:void 0===e?1:void 0!==n?+n(e,t)||0:l(e)>l(t)?1:-1}}(n)),t=i.length,r=0;r<t;)e[r]=i[r++];for(;r<c;)delete e[r++];return e}})},function(n,e,t){var r=t(28).match(/firefox\/(\d+)/i);n.exports=!!r&&+r[1]},function(n,e,t){var r=t(28);n.exports=/MSIE|Trident/.test(r)},function(n,e,t){var r=t(28).match(/AppleWebKit\/(\d+)\./);n.exports=!!r&&+r[1]},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(220)},function(n,e,t){"use strict";t(221)},function(n,e,t){"use strict";t.r(e);t(144),t(246),t(259),t(261);var r=t(92),i=(t(141),t(54),t(6),t(25),t(32),t(43),t(31),Object.freeze({}));function a(n){return null==n}function o(n){return null!=n}function s(n){return!0===n}function l(n){return"string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n}function c(n){return null!==n&&"object"==typeof n}var p=Object.prototype.toString;function d(n){return"[object Object]"===p.call(n)}function u(n){return"[object RegExp]"===p.call(n)}function m(n){var e=parseFloat(String(n));return e>=0&&Math.floor(e)===e&&isFinite(n)}function g(n){return o(n)&&"function"==typeof n.then&&"function"==typeof n.catch}function h(n){return null==n?"":Array.isArray(n)||d(n)&&n.toString===p?JSON.stringify(n,null,2):String(n)}function v(n){var e=parseFloat(n);return isNaN(e)?n:e}function f(n,e){for(var t=Object.create(null),r=n.split(","),i=0;i<r.length;i++)t[r[i]]=!0;return e?function(n){return t[n.toLowerCase()]}:function(n){return t[n]}}f("slot,component",!0);var b=f("key,ref,slot,slot-scope,is");function y(n,e){if(n.length){var t=n.indexOf(e);if(t>-1)return n.splice(t,1)}}var x=Object.prototype.hasOwnProperty;function w(n,e){return x.call(n,e)}function S(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var k=/-(\w)/g,j=S((function(n){return n.replace(k,(function(n,e){return e?e.toUpperCase():""}))})),q=S((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})),C=/\B([A-Z])/g,I=S((function(n){return n.replace(C,"-$1").toLowerCase()}));var M=Function.prototype.bind?function(n,e){return n.bind(e)}:function(n,e){function t(t){var r=arguments.length;return r?r>1?n.apply(e,arguments):n.call(e,t):n.call(e)}return t._length=n.length,t};function T(n,e){e=e||0;for(var t=n.length-e,r=new Array(t);t--;)r[t]=n[t+e];return r}function _(n,e){for(var t in e)n[t]=e[t];return n}function E(n){for(var e={},t=0;t<n.length;t++)n[t]&&_(e,n[t]);return e}function A(n,e,t){}var B=function(n,e,t){return!1},R=function(n){return n};function L(n,e){if(n===e)return!0;var t=c(n),r=c(e);if(!t||!r)return!t&&!r&&String(n)===String(e);try{var i=Array.isArray(n),a=Array.isArray(e);if(i&&a)return n.length===e.length&&n.every((function(n,t){return L(n,e[t])}));if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();if(i||a)return!1;var o=Object.keys(n),s=Object.keys(e);return o.length===s.length&&o.every((function(t){return L(n[t],e[t])}))}catch(n){return!1}}function z(n,e){for(var t=0;t<n.length;t++)if(L(n[t],e))return t;return-1}function P(n){var e=!1;return function(){e||(e=!0,n.apply(this,arguments))}}var D=["component","directive","filter"],O=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],N={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:B,isReservedAttr:B,isUnknownElement:B,getTagNamespace:A,parsePlatformTagName:R,mustUseProp:B,async:!0,_lifecycleHooks:O},F=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function H(n,e,t,r){Object.defineProperty(n,e,{value:t,enumerable:!!r,writable:!0,configurable:!0})}var V=new RegExp("[^"+F.source+".$_\\d]");var U,$="__proto__"in{},Q="undefined"!=typeof window,W="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,J=W&&WXEnvironment.platform.toLowerCase(),G=Q&&window.navigator.userAgent.toLowerCase(),K=G&&/msie|trident/.test(G),Y=G&&G.indexOf("msie 9.0")>0,X=G&&G.indexOf("edge/")>0,Z=(G&&G.indexOf("android"),G&&/iphone|ipad|ipod|ios/.test(G)||"ios"===J),nn=(G&&/chrome\/\d+/.test(G),G&&/phantomjs/.test(G),G&&G.match(/firefox\/(\d+)/)),en={}.watch,tn=!1;if(Q)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){tn=!0}}),window.addEventListener("test-passive",null,rn)}catch(n){}var an=function(){return void 0===U&&(U=!Q&&!W&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),U},on=Q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function sn(n){return"function"==typeof n&&/native code/.test(n.toString())}var ln,cn="undefined"!=typeof Symbol&&sn(Symbol)&&"undefined"!=typeof Reflect&&sn(Reflect.ownKeys);ln="undefined"!=typeof Set&&sn(Set)?Set:function(){function n(){this.set=Object.create(null)}return n.prototype.has=function(n){return!0===this.set[n]},n.prototype.add=function(n){this.set[n]=!0},n.prototype.clear=function(){this.set=Object.create(null)},n}();var pn=A,dn=0,un=function(){this.id=dn++,this.subs=[]};un.prototype.addSub=function(n){this.subs.push(n)},un.prototype.removeSub=function(n){y(this.subs,n)},un.prototype.depend=function(){un.target&&un.target.addDep(this)},un.prototype.notify=function(){var n=this.subs.slice();for(var e=0,t=n.length;e<t;e++)n[e].update()},un.target=null;var mn=[];function gn(n){mn.push(n),un.target=n}function hn(){mn.pop(),un.target=mn[mn.length-1]}var vn=function(n,e,t,r,i,a,o,s){this.tag=n,this.data=e,this.children=t,this.text=r,this.elm=i,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},fn={child:{configurable:!0}};fn.child.get=function(){return this.componentInstance},Object.defineProperties(vn.prototype,fn);var bn=function(n){void 0===n&&(n="");var e=new vn;return e.text=n,e.isComment=!0,e};function yn(n){return new vn(void 0,void 0,void 0,String(n))}function xn(n){var e=new vn(n.tag,n.data,n.children&&n.children.slice(),n.text,n.elm,n.context,n.componentOptions,n.asyncFactory);return e.ns=n.ns,e.isStatic=n.isStatic,e.key=n.key,e.isComment=n.isComment,e.fnContext=n.fnContext,e.fnOptions=n.fnOptions,e.fnScopeId=n.fnScopeId,e.asyncMeta=n.asyncMeta,e.isCloned=!0,e}var wn=Array.prototype,Sn=Object.create(wn);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(n){var e=wn[n];H(Sn,n,(function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var i,a=e.apply(this,t),o=this.__ob__;switch(n){case"push":case"unshift":i=t;break;case"splice":i=t.slice(2)}return i&&o.observeArray(i),o.dep.notify(),a}))}));var kn=Object.getOwnPropertyNames(Sn),jn=!0;function qn(n){jn=n}var Cn=function(n){this.value=n,this.dep=new un,this.vmCount=0,H(n,"__ob__",this),Array.isArray(n)?($?function(n,e){n.__proto__=e}(n,Sn):function(n,e,t){for(var r=0,i=t.length;r<i;r++){var a=t[r];H(n,a,e[a])}}(n,Sn,kn),this.observeArray(n)):this.walk(n)};function In(n,e){var t;if(c(n)&&!(n instanceof vn))return w(n,"__ob__")&&n.__ob__ instanceof Cn?t=n.__ob__:jn&&!an()&&(Array.isArray(n)||d(n))&&Object.isExtensible(n)&&!n._isVue&&(t=new Cn(n)),e&&t&&t.vmCount++,t}function Mn(n,e,t,r,i){var a=new un,o=Object.getOwnPropertyDescriptor(n,e);if(!o||!1!==o.configurable){var s=o&&o.get,l=o&&o.set;s&&!l||2!==arguments.length||(t=n[e]);var c=!i&&In(t);Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(n):t;return un.target&&(a.depend(),c&&(c.dep.depend(),Array.isArray(e)&&En(e))),e},set:function(e){var r=s?s.call(n):t;e===r||e!=e&&r!=r||s&&!l||(l?l.call(n,e):t=e,c=!i&&In(e),a.notify())}})}}function Tn(n,e,t){if(Array.isArray(n)&&m(e))return n.length=Math.max(n.length,e),n.splice(e,1,t),t;if(e in n&&!(e in Object.prototype))return n[e]=t,t;var r=n.__ob__;return n._isVue||r&&r.vmCount?t:r?(Mn(r.value,e,t),r.dep.notify(),t):(n[e]=t,t)}function _n(n,e){if(Array.isArray(n)&&m(e))n.splice(e,1);else{var t=n.__ob__;n._isVue||t&&t.vmCount||w(n,e)&&(delete n[e],t&&t.dep.notify())}}function En(n){for(var e=void 0,t=0,r=n.length;t<r;t++)(e=n[t])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&En(e)}Cn.prototype.walk=function(n){for(var e=Object.keys(n),t=0;t<e.length;t++)Mn(n,e[t])},Cn.prototype.observeArray=function(n){for(var e=0,t=n.length;e<t;e++)In(n[e])};var An=N.optionMergeStrategies;function Bn(n,e){if(!e)return n;for(var t,r,i,a=cn?Reflect.ownKeys(e):Object.keys(e),o=0;o<a.length;o++)"__ob__"!==(t=a[o])&&(r=n[t],i=e[t],w(n,t)?r!==i&&d(r)&&d(i)&&Bn(r,i):Tn(n,t,i));return n}function Rn(n,e,t){return t?function(){var r="function"==typeof e?e.call(t,t):e,i="function"==typeof n?n.call(t,t):n;return r?Bn(r,i):i}:e?n?function(){return Bn("function"==typeof e?e.call(this,this):e,"function"==typeof n?n.call(this,this):n)}:e:n}function Ln(n,e){var t=e?n?n.concat(e):Array.isArray(e)?e:[e]:n;return t?function(n){for(var e=[],t=0;t<n.length;t++)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(t):t}function zn(n,e,t,r){var i=Object.create(n||null);return e?_(i,e):i}An.data=function(n,e,t){return t?Rn(n,e,t):e&&"function"!=typeof e?n:Rn(n,e)},O.forEach((function(n){An[n]=Ln})),D.forEach((function(n){An[n+"s"]=zn})),An.watch=function(n,e,t,r){if(n===en&&(n=void 0),e===en&&(e=void 0),!e)return Object.create(n||null);if(!n)return e;var i={};for(var a in _(i,n),e){var o=i[a],s=e[a];o&&!Array.isArray(o)&&(o=[o]),i[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return i},An.props=An.methods=An.inject=An.computed=function(n,e,t,r){if(!n)return e;var i=Object.create(null);return _(i,n),e&&_(i,e),i},An.provide=Rn;var Pn=function(n,e){return void 0===e?n:e};function Dn(n,e,t){if("function"==typeof e&&(e=e.options),function(n,e){var t=n.props;if(t){var r,i,a={};if(Array.isArray(t))for(r=t.length;r--;)"string"==typeof(i=t[r])&&(a[j(i)]={type:null});else if(d(t))for(var o in t)i=t[o],a[j(o)]=d(i)?i:{type:i};else 0;n.props=a}}(e),function(n,e){var t=n.inject;if(t){var r=n.inject={};if(Array.isArray(t))for(var i=0;i<t.length;i++)r[t[i]]={from:t[i]};else if(d(t))for(var a in t){var o=t[a];r[a]=d(o)?_({from:a},o):{from:o}}else 0}}(e),function(n){var e=n.directives;if(e)for(var t in e){var r=e[t];"function"==typeof r&&(e[t]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(n=Dn(n,e.extends,t)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)n=Dn(n,e.mixins[r],t);var a,o={};for(a in n)s(a);for(a in e)w(n,a)||s(a);function s(r){var i=An[r]||Pn;o[r]=i(n[r],e[r],t,r)}return o}function On(n,e,t,r){if("string"==typeof t){var i=n[e];if(w(i,t))return i[t];var a=j(t);if(w(i,a))return i[a];var o=q(a);return w(i,o)?i[o]:i[t]||i[a]||i[o]}}function Nn(n,e,t,r){var i=e[n],a=!w(t,n),o=t[n],s=Un(Boolean,i.type);if(s>-1)if(a&&!w(i,"default"))o=!1;else if(""===o||o===I(n)){var l=Un(String,i.type);(l<0||s<l)&&(o=!0)}if(void 0===o){o=function(n,e,t){if(!w(e,"default"))return;var r=e.default;0;if(n&&n.$options.propsData&&void 0===n.$options.propsData[t]&&void 0!==n._props[t])return n._props[t];return"function"==typeof r&&"Function"!==Hn(e.type)?r.call(n):r}(r,i,n);var c=jn;qn(!0),In(o),qn(c)}return o}var Fn=/^\s*function (\w+)/;function Hn(n){var e=n&&n.toString().match(Fn);return e?e[1]:""}function Vn(n,e){return Hn(n)===Hn(e)}function Un(n,e){if(!Array.isArray(e))return Vn(e,n)?0:-1;for(var t=0,r=e.length;t<r;t++)if(Vn(e[t],n))return t;return-1}function $n(n,e,t){gn();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var a=0;a<i.length;a++)try{if(!1===i[a].call(r,n,e,t))return}catch(n){Wn(n,r,"errorCaptured hook")}}Wn(n,e,t)}finally{hn()}}function Qn(n,e,t,r,i){var a;try{(a=t?n.apply(e,t):n.call(e))&&!a._isVue&&g(a)&&!a._handled&&(a.catch((function(n){return $n(n,r,i+" (Promise/async)")})),a._handled=!0)}catch(n){$n(n,r,i)}return a}function Wn(n,e,t){if(N.errorHandler)try{return N.errorHandler.call(null,n,e,t)}catch(e){e!==n&&Jn(e,null,"config.errorHandler")}Jn(n,e,t)}function Jn(n,e,t){if(!Q&&!W||"undefined"==typeof console)throw n;console.error(n)}var Gn,Kn=!1,Yn=[],Xn=!1;function Zn(){Xn=!1;var n=Yn.slice(0);Yn.length=0;for(var e=0;e<n.length;e++)n[e]()}if("undefined"!=typeof Promise&&sn(Promise)){var ne=Promise.resolve();Gn=function(){ne.then(Zn),Z&&setTimeout(A)},Kn=!0}else if(K||"undefined"==typeof MutationObserver||!sn(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Gn="undefined"!=typeof setImmediate&&sn(setImmediate)?function(){setImmediate(Zn)}:function(){setTimeout(Zn,0)};else{var ee=1,te=new MutationObserver(Zn),re=document.createTextNode(String(ee));te.observe(re,{characterData:!0}),Gn=function(){ee=(ee+1)%2,re.data=String(ee)},Kn=!0}function ie(n,e){var t;if(Yn.push((function(){if(n)try{n.call(e)}catch(n){$n(n,e,"nextTick")}else t&&t(e)})),Xn||(Xn=!0,Gn()),!n&&"undefined"!=typeof Promise)return new Promise((function(n){t=n}))}var ae=new ln;function oe(n){!function n(e,t){var r,i,a=Array.isArray(e);if(!a&&!c(e)||Object.isFrozen(e)||e instanceof vn)return;if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(a)for(r=e.length;r--;)n(e[r],t);else for(i=Object.keys(e),r=i.length;r--;)n(e[i[r]],t)}(n,ae),ae.clear()}var se=S((function(n){var e="&"===n.charAt(0),t="~"===(n=e?n.slice(1):n).charAt(0),r="!"===(n=t?n.slice(1):n).charAt(0);return{name:n=r?n.slice(1):n,once:t,capture:r,passive:e}}));function le(n,e){function t(){var n=arguments,r=t.fns;if(!Array.isArray(r))return Qn(r,null,arguments,e,"v-on handler");for(var i=r.slice(),a=0;a<i.length;a++)Qn(i[a],null,n,e,"v-on handler")}return t.fns=n,t}function ce(n,e,t,r,i,o){var l,c,p,d;for(l in n)c=n[l],p=e[l],d=se(l),a(c)||(a(p)?(a(c.fns)&&(c=n[l]=le(c,o)),s(d.once)&&(c=n[l]=i(d.name,c,d.capture)),t(d.name,c,d.capture,d.passive,d.params)):c!==p&&(p.fns=c,n[l]=p));for(l in e)a(n[l])&&r((d=se(l)).name,e[l],d.capture)}function pe(n,e,t){var r;n instanceof vn&&(n=n.data.hook||(n.data.hook={}));var i=n[e];function l(){t.apply(this,arguments),y(r.fns,l)}a(i)?r=le([l]):o(i.fns)&&s(i.merged)?(r=i).fns.push(l):r=le([i,l]),r.merged=!0,n[e]=r}function de(n,e,t,r,i){if(o(e)){if(w(e,t))return n[t]=e[t],i||delete e[t],!0;if(w(e,r))return n[t]=e[r],i||delete e[r],!0}return!1}function ue(n){return l(n)?[yn(n)]:Array.isArray(n)?function n(e,t){var r,i,c,p,d=[];for(r=0;r<e.length;r++)a(i=e[r])||"boolean"==typeof i||(c=d.length-1,p=d[c],Array.isArray(i)?i.length>0&&(me((i=n(i,(t||"")+"_"+r))[0])&&me(p)&&(d[c]=yn(p.text+i[0].text),i.shift()),d.push.apply(d,i)):l(i)?me(p)?d[c]=yn(p.text+i):""!==i&&d.push(yn(i)):me(i)&&me(p)?d[c]=yn(p.text+i.text):(s(e._isVList)&&o(i.tag)&&a(i.key)&&o(t)&&(i.key="__vlist"+t+"_"+r+"__"),d.push(i)));return d}(n):void 0}function me(n){return o(n)&&o(n.text)&&!1===n.isComment}function ge(n,e){if(n){for(var t=Object.create(null),r=cn?Reflect.ownKeys(n):Object.keys(n),i=0;i<r.length;i++){var a=r[i];if("__ob__"!==a){for(var o=n[a].from,s=e;s;){if(s._provided&&w(s._provided,o)){t[a]=s._provided[o];break}s=s.$parent}if(!s)if("default"in n[a]){var l=n[a].default;t[a]="function"==typeof l?l.call(e):l}else 0}}return t}}function he(n,e){if(!n||!n.length)return{};for(var t={},r=0,i=n.length;r<i;r++){var a=n[r],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==e&&a.fnContext!==e||!o||null==o.slot)(t.default||(t.default=[])).push(a);else{var s=o.slot,l=t[s]||(t[s]=[]);"template"===a.tag?l.push.apply(l,a.children||[]):l.push(a)}}for(var c in t)t[c].every(ve)&&delete t[c];return t}function ve(n){return n.isComment&&!n.asyncFactory||" "===n.text}function fe(n){return n.isComment&&n.asyncFactory}function be(n,e,t){var r,a=Object.keys(e).length>0,o=n?!!n.$stable:!a,s=n&&n.$key;if(n){if(n._normalized)return n._normalized;if(o&&t&&t!==i&&s===t.$key&&!a&&!t.$hasNormal)return t;for(var l in r={},n)n[l]&&"$"!==l[0]&&(r[l]=ye(e,l,n[l]))}else r={};for(var c in e)c in r||(r[c]=xe(e,c));return n&&Object.isExtensible(n)&&(n._normalized=r),H(r,"$stable",o),H(r,"$key",s),H(r,"$hasNormal",a),r}function ye(n,e,t){var r=function(){var n=arguments.length?t.apply(null,arguments):t({}),e=(n=n&&"object"==typeof n&&!Array.isArray(n)?[n]:ue(n))&&n[0];return n&&(!e||1===n.length&&e.isComment&&!fe(e))?void 0:n};return t.proxy&&Object.defineProperty(n,e,{get:r,enumerable:!0,configurable:!0}),r}function xe(n,e){return function(){return n[e]}}function we(n,e){var t,r,i,a,s;if(Array.isArray(n)||"string"==typeof n)for(t=new Array(n.length),r=0,i=n.length;r<i;r++)t[r]=e(n[r],r);else if("number"==typeof n)for(t=new Array(n),r=0;r<n;r++)t[r]=e(r+1,r);else if(c(n))if(cn&&n[Symbol.iterator]){t=[];for(var l=n[Symbol.iterator](),p=l.next();!p.done;)t.push(e(p.value,t.length)),p=l.next()}else for(a=Object.keys(n),t=new Array(a.length),r=0,i=a.length;r<i;r++)s=a[r],t[r]=e(n[s],s,r);return o(t)||(t=[]),t._isVList=!0,t}function Se(n,e,t,r){var i,a=this.$scopedSlots[n];a?(t=t||{},r&&(t=_(_({},r),t)),i=a(t)||("function"==typeof e?e():e)):i=this.$slots[n]||("function"==typeof e?e():e);var o=t&&t.slot;return o?this.$createElement("template",{slot:o},i):i}function ke(n){return On(this.$options,"filters",n)||R}function je(n,e){return Array.isArray(n)?-1===n.indexOf(e):n!==e}function qe(n,e,t,r,i){var a=N.keyCodes[e]||t;return i&&r&&!N.keyCodes[e]?je(i,r):a?je(a,n):r?I(r)!==e:void 0===n}function Ce(n,e,t,r,i){if(t)if(c(t)){var a;Array.isArray(t)&&(t=E(t));var o=function(o){if("class"===o||"style"===o||b(o))a=n;else{var s=n.attrs&&n.attrs.type;a=r||N.mustUseProp(e,s,o)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}var l=j(o),c=I(o);l in a||c in a||(a[o]=t[o],i&&((n.on||(n.on={}))["update:"+o]=function(n){t[o]=n}))};for(var s in t)o(s)}else;return n}function Ie(n,e){var t=this._staticTrees||(this._staticTrees=[]),r=t[n];return r&&!e||Te(r=t[n]=this.$options.staticRenderFns[n].call(this._renderProxy,null,this),"__static__"+n,!1),r}function Me(n,e,t){return Te(n,"__once__"+e+(t?"_"+t:""),!0),n}function Te(n,e,t){if(Array.isArray(n))for(var r=0;r<n.length;r++)n[r]&&"string"!=typeof n[r]&&_e(n[r],e+"_"+r,t);else _e(n,e,t)}function _e(n,e,t){n.isStatic=!0,n.key=e,n.isOnce=t}function Ee(n,e){if(e)if(d(e)){var t=n.on=n.on?_({},n.on):{};for(var r in e){var i=t[r],a=e[r];t[r]=i?[].concat(i,a):a}}else;return n}function Ae(n,e,t,r){e=e||{$stable:!t};for(var i=0;i<n.length;i++){var a=n[i];Array.isArray(a)?Ae(a,e,t):a&&(a.proxy&&(a.fn.proxy=!0),e[a.key]=a.fn)}return r&&(e.$key=r),e}function Be(n,e){for(var t=0;t<e.length;t+=2){var r=e[t];"string"==typeof r&&r&&(n[e[t]]=e[t+1])}return n}function Re(n,e){return"string"==typeof n?e+n:n}function Le(n){n._o=Me,n._n=v,n._s=h,n._l=we,n._t=Se,n._q=L,n._i=z,n._m=Ie,n._f=ke,n._k=qe,n._b=Ce,n._v=yn,n._e=bn,n._u=Ae,n._g=Ee,n._d=Be,n._p=Re}function ze(n,e,t,r,a){var o,l=this,c=a.options;w(r,"_uid")?(o=Object.create(r))._original=r:(o=r,r=r._original);var p=s(c._compiled),d=!p;this.data=n,this.props=e,this.children=t,this.parent=r,this.listeners=n.on||i,this.injections=ge(c.inject,r),this.slots=function(){return l.$slots||be(n.scopedSlots,l.$slots=he(t,r)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return be(n.scopedSlots,this.slots())}}),p&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=be(n.scopedSlots,this.$slots)),c._scopeId?this._c=function(n,e,t,i){var a=Ve(o,n,e,t,i,d);return a&&!Array.isArray(a)&&(a.fnScopeId=c._scopeId,a.fnContext=r),a}:this._c=function(n,e,t,r){return Ve(o,n,e,t,r,d)}}function Pe(n,e,t,r,i){var a=xn(n);return a.fnContext=t,a.fnOptions=r,e.slot&&((a.data||(a.data={})).slot=e.slot),a}function De(n,e){for(var t in e)n[j(t)]=e[t]}Le(ze.prototype);var Oe={init:function(n,e){if(n.componentInstance&&!n.componentInstance._isDestroyed&&n.data.keepAlive){var t=n;Oe.prepatch(t,t)}else{(n.componentInstance=function(n,e){var t={_isComponent:!0,_parentVnode:n,parent:e},r=n.data.inlineTemplate;o(r)&&(t.render=r.render,t.staticRenderFns=r.staticRenderFns);return new n.componentOptions.Ctor(t)}(n,Xe)).$mount(e?n.elm:void 0,e)}},prepatch:function(n,e){var t=e.componentOptions;!function(n,e,t,r,a){0;var o=r.data.scopedSlots,s=n.$scopedSlots,l=!!(o&&!o.$stable||s!==i&&!s.$stable||o&&n.$scopedSlots.$key!==o.$key||!o&&n.$scopedSlots.$key),c=!!(a||n.$options._renderChildren||l);n.$options._parentVnode=r,n.$vnode=r,n._vnode&&(n._vnode.parent=r);if(n.$options._renderChildren=a,n.$attrs=r.data.attrs||i,n.$listeners=t||i,e&&n.$options.props){qn(!1);for(var p=n._props,d=n.$options._propKeys||[],u=0;u<d.length;u++){var m=d[u],g=n.$options.props;p[m]=Nn(m,g,e,n)}qn(!0),n.$options.propsData=e}t=t||i;var h=n.$options._parentListeners;n.$options._parentListeners=t,Ye(n,t,h),c&&(n.$slots=he(a,r.context),n.$forceUpdate());0}(e.componentInstance=n.componentInstance,t.propsData,t.listeners,e,t.children)},insert:function(n){var e,t=n.context,r=n.componentInstance;r._isMounted||(r._isMounted=!0,tt(r,"mounted")),n.data.keepAlive&&(t._isMounted?((e=r)._inactive=!1,it.push(e)):et(r,!0))},destroy:function(n){var e=n.componentInstance;e._isDestroyed||(n.data.keepAlive?function n(e,t){if(t&&(e._directInactive=!0,nt(e)))return;if(!e._inactive){e._inactive=!0;for(var r=0;r<e.$children.length;r++)n(e.$children[r]);tt(e,"deactivated")}}(e,!0):e.$destroy())}},Ne=Object.keys(Oe);function Fe(n,e,t,r,l){if(!a(n)){var p=t.$options._base;if(c(n)&&(n=p.extend(n)),"function"==typeof n){var d;if(a(n.cid)&&void 0===(n=function(n,e){if(s(n.error)&&o(n.errorComp))return n.errorComp;if(o(n.resolved))return n.resolved;var t=$e;t&&o(n.owners)&&-1===n.owners.indexOf(t)&&n.owners.push(t);if(s(n.loading)&&o(n.loadingComp))return n.loadingComp;if(t&&!o(n.owners)){var r=n.owners=[t],i=!0,l=null,p=null;t.$on("hook:destroyed",(function(){return y(r,t)}));var d=function(n){for(var e=0,t=r.length;e<t;e++)r[e].$forceUpdate();n&&(r.length=0,null!==l&&(clearTimeout(l),l=null),null!==p&&(clearTimeout(p),p=null))},u=P((function(t){n.resolved=Qe(t,e),i?r.length=0:d(!0)})),m=P((function(e){o(n.errorComp)&&(n.error=!0,d(!0))})),h=n(u,m);return c(h)&&(g(h)?a(n.resolved)&&h.then(u,m):g(h.component)&&(h.component.then(u,m),o(h.error)&&(n.errorComp=Qe(h.error,e)),o(h.loading)&&(n.loadingComp=Qe(h.loading,e),0===h.delay?n.loading=!0:l=setTimeout((function(){l=null,a(n.resolved)&&a(n.error)&&(n.loading=!0,d(!1))}),h.delay||200)),o(h.timeout)&&(p=setTimeout((function(){p=null,a(n.resolved)&&m(null)}),h.timeout)))),i=!1,n.loading?n.loadingComp:n.resolved}}(d=n,p)))return function(n,e,t,r,i){var a=bn();return a.asyncFactory=n,a.asyncMeta={data:e,context:t,children:r,tag:i},a}(d,e,t,r,l);e=e||{},jt(n),o(e.model)&&function(n,e){var t=n.model&&n.model.prop||"value",r=n.model&&n.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var i=e.on||(e.on={}),a=i[r],s=e.model.callback;o(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(i[r]=[s].concat(a)):i[r]=s}(n.options,e);var u=function(n,e,t){var r=e.options.props;if(!a(r)){var i={},s=n.attrs,l=n.props;if(o(s)||o(l))for(var c in r){var p=I(c);de(i,l,c,p,!0)||de(i,s,c,p,!1)}return i}}(e,n);if(s(n.options.functional))return function(n,e,t,r,a){var s=n.options,l={},c=s.props;if(o(c))for(var p in c)l[p]=Nn(p,c,e||i);else o(t.attrs)&&De(l,t.attrs),o(t.props)&&De(l,t.props);var d=new ze(t,l,a,r,n),u=s.render.call(null,d._c,d);if(u instanceof vn)return Pe(u,t,d.parent,s,d);if(Array.isArray(u)){for(var m=ue(u)||[],g=new Array(m.length),h=0;h<m.length;h++)g[h]=Pe(m[h],t,d.parent,s,d);return g}}(n,u,e,t,r);var m=e.on;if(e.on=e.nativeOn,s(n.options.abstract)){var h=e.slot;e={},h&&(e.slot=h)}!function(n){for(var e=n.hook||(n.hook={}),t=0;t<Ne.length;t++){var r=Ne[t],i=e[r],a=Oe[r];i===a||i&&i._merged||(e[r]=i?He(a,i):a)}}(e);var v=n.options.name||l;return new vn("vue-component-"+n.cid+(v?"-"+v:""),e,void 0,void 0,void 0,t,{Ctor:n,propsData:u,listeners:m,tag:l,children:r},d)}}}function He(n,e){var t=function(t,r){n(t,r),e(t,r)};return t._merged=!0,t}function Ve(n,e,t,r,i,p){return(Array.isArray(t)||l(t))&&(i=r,r=t,t=void 0),s(p)&&(i=2),function(n,e,t,r,i){if(o(t)&&o(t.__ob__))return bn();o(t)&&o(t.is)&&(e=t.is);if(!e)return bn();0;Array.isArray(r)&&"function"==typeof r[0]&&((t=t||{}).scopedSlots={default:r[0]},r.length=0);2===i?r=ue(r):1===i&&(r=function(n){for(var e=0;e<n.length;e++)if(Array.isArray(n[e]))return Array.prototype.concat.apply([],n);return n}(r));var l,p;if("string"==typeof e){var d;p=n.$vnode&&n.$vnode.ns||N.getTagNamespace(e),l=N.isReservedTag(e)?new vn(N.parsePlatformTagName(e),t,r,void 0,void 0,n):t&&t.pre||!o(d=On(n.$options,"components",e))?new vn(e,t,r,void 0,void 0,n):Fe(d,t,n,r,e)}else l=Fe(e,t,n,r);return Array.isArray(l)?l:o(l)?(o(p)&&function n(e,t,r){e.ns=t,"foreignObject"===e.tag&&(t=void 0,r=!0);if(o(e.children))for(var i=0,l=e.children.length;i<l;i++){var c=e.children[i];o(c.tag)&&(a(c.ns)||s(r)&&"svg"!==c.tag)&&n(c,t,r)}}(l,p),o(t)&&function(n){c(n.style)&&oe(n.style);c(n.class)&&oe(n.class)}(t),l):bn()}(n,e,t,r,i)}var Ue,$e=null;function Qe(n,e){return(n.__esModule||cn&&"Module"===n[Symbol.toStringTag])&&(n=n.default),c(n)?e.extend(n):n}function We(n){if(Array.isArray(n))for(var e=0;e<n.length;e++){var t=n[e];if(o(t)&&(o(t.componentOptions)||fe(t)))return t}}function Je(n,e){Ue.$on(n,e)}function Ge(n,e){Ue.$off(n,e)}function Ke(n,e){var t=Ue;return function r(){var i=e.apply(null,arguments);null!==i&&t.$off(n,r)}}function Ye(n,e,t){Ue=n,ce(e,t||{},Je,Ge,Ke,n),Ue=void 0}var Xe=null;function Ze(n){var e=Xe;return Xe=n,function(){Xe=e}}function nt(n){for(;n&&(n=n.$parent);)if(n._inactive)return!0;return!1}function et(n,e){if(e){if(n._directInactive=!1,nt(n))return}else if(n._directInactive)return;if(n._inactive||null===n._inactive){n._inactive=!1;for(var t=0;t<n.$children.length;t++)et(n.$children[t]);tt(n,"activated")}}function tt(n,e){gn();var t=n.$options[e],r=e+" hook";if(t)for(var i=0,a=t.length;i<a;i++)Qn(t[i],n,null,n,r);n._hasHookEvent&&n.$emit("hook:"+e),hn()}var rt=[],it=[],at={},ot=!1,st=!1,lt=0;var ct=0,pt=Date.now;if(Q&&!K){var dt=window.performance;dt&&"function"==typeof dt.now&&pt()>document.createEvent("Event").timeStamp&&(pt=function(){return dt.now()})}function ut(){var n,e;for(ct=pt(),st=!0,rt.sort((function(n,e){return n.id-e.id})),lt=0;lt<rt.length;lt++)(n=rt[lt]).before&&n.before(),e=n.id,at[e]=null,n.run();var t=it.slice(),r=rt.slice();lt=rt.length=it.length=0,at={},ot=st=!1,function(n){for(var e=0;e<n.length;e++)n[e]._inactive=!0,et(n[e],!0)}(t),function(n){var e=n.length;for(;e--;){var t=n[e],r=t.vm;r._watcher===t&&r._isMounted&&!r._isDestroyed&&tt(r,"updated")}}(r),on&&N.devtools&&on.emit("flush")}var mt=0,gt=function(n,e,t,r,i){this.vm=n,i&&(n._watcher=this),n._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++mt,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ln,this.newDepIds=new ln,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(n){if(!V.test(n)){var e=n.split(".");return function(n){for(var t=0;t<e.length;t++){if(!n)return;n=n[e[t]]}return n}}}(e),this.getter||(this.getter=A)),this.value=this.lazy?void 0:this.get()};gt.prototype.get=function(){var n;gn(this);var e=this.vm;try{n=this.getter.call(e,e)}catch(n){if(!this.user)throw n;$n(n,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&oe(n),hn(),this.cleanupDeps()}return n},gt.prototype.addDep=function(n){var e=n.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(n),this.depIds.has(e)||n.addSub(this))},gt.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var e=this.deps[n];this.newDepIds.has(e.id)||e.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},gt.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(n){var e=n.id;if(null==at[e]){if(at[e]=!0,st){for(var t=rt.length-1;t>lt&&rt[t].id>n.id;)t--;rt.splice(t+1,0,n)}else rt.push(n);ot||(ot=!0,ie(ut))}}(this)},gt.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||c(n)||this.deep){var e=this.value;if(this.value=n,this.user){var t='callback for watcher "'+this.expression+'"';Qn(this.cb,this.vm,[n,e],this.vm,t)}else this.cb.call(this.vm,n,e)}}},gt.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},gt.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},gt.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1}};var ht={enumerable:!0,configurable:!0,get:A,set:A};function vt(n,e,t){ht.get=function(){return this[e][t]},ht.set=function(n){this[e][t]=n},Object.defineProperty(n,t,ht)}function ft(n){n._watchers=[];var e=n.$options;e.props&&function(n,e){var t=n.$options.propsData||{},r=n._props={},i=n.$options._propKeys=[];n.$parent&&qn(!1);var a=function(a){i.push(a);var o=Nn(a,e,t,n);Mn(r,a,o),a in n||vt(n,"_props",a)};for(var o in e)a(o);qn(!0)}(n,e.props),e.methods&&function(n,e){n.$options.props;for(var t in e)n[t]="function"!=typeof e[t]?A:M(e[t],n)}(n,e.methods),e.data?function(n){var e=n.$options.data;d(e=n._data="function"==typeof e?function(n,e){gn();try{return n.call(e,e)}catch(n){return $n(n,e,"data()"),{}}finally{hn()}}(e,n):e||{})||(e={});var t=Object.keys(e),r=n.$options.props,i=(n.$options.methods,t.length);for(;i--;){var a=t[i];0,r&&w(r,a)||(o=void 0,36!==(o=(a+"").charCodeAt(0))&&95!==o&&vt(n,"_data",a))}var o;In(e,!0)}(n):In(n._data={},!0),e.computed&&function(n,e){var t=n._computedWatchers=Object.create(null),r=an();for(var i in e){var a=e[i],o="function"==typeof a?a:a.get;0,r||(t[i]=new gt(n,o||A,A,bt)),i in n||yt(n,i,a)}}(n,e.computed),e.watch&&e.watch!==en&&function(n,e){for(var t in e){var r=e[t];if(Array.isArray(r))for(var i=0;i<r.length;i++)St(n,t,r[i]);else St(n,t,r)}}(n,e.watch)}var bt={lazy:!0};function yt(n,e,t){var r=!an();"function"==typeof t?(ht.get=r?xt(e):wt(t),ht.set=A):(ht.get=t.get?r&&!1!==t.cache?xt(e):wt(t.get):A,ht.set=t.set||A),Object.defineProperty(n,e,ht)}function xt(n){return function(){var e=this._computedWatchers&&this._computedWatchers[n];if(e)return e.dirty&&e.evaluate(),un.target&&e.depend(),e.value}}function wt(n){return function(){return n.call(this,this)}}function St(n,e,t,r){return d(t)&&(r=t,t=t.handler),"string"==typeof t&&(t=n[t]),n.$watch(e,t,r)}var kt=0;function jt(n){var e=n.options;if(n.super){var t=jt(n.super);if(t!==n.superOptions){n.superOptions=t;var r=function(n){var e,t=n.options,r=n.sealedOptions;for(var i in t)t[i]!==r[i]&&(e||(e={}),e[i]=t[i]);return e}(n);r&&_(n.extendOptions,r),(e=n.options=Dn(t,n.extendOptions)).name&&(e.components[e.name]=n)}}return e}function qt(n){this._init(n)}function Ct(n){n.cid=0;var e=1;n.extend=function(n){n=n||{};var t=this,r=t.cid,i=n._Ctor||(n._Ctor={});if(i[r])return i[r];var a=n.name||t.options.name;var o=function(n){this._init(n)};return(o.prototype=Object.create(t.prototype)).constructor=o,o.cid=e++,o.options=Dn(t.options,n),o.super=t,o.options.props&&function(n){var e=n.options.props;for(var t in e)vt(n.prototype,"_props",t)}(o),o.options.computed&&function(n){var e=n.options.computed;for(var t in e)yt(n.prototype,t,e[t])}(o),o.extend=t.extend,o.mixin=t.mixin,o.use=t.use,D.forEach((function(n){o[n]=t[n]})),a&&(o.options.components[a]=o),o.superOptions=t.options,o.extendOptions=n,o.sealedOptions=_({},o.options),i[r]=o,o}}function It(n){return n&&(n.Ctor.options.name||n.tag)}function Mt(n,e){return Array.isArray(n)?n.indexOf(e)>-1:"string"==typeof n?n.split(",").indexOf(e)>-1:!!u(n)&&n.test(e)}function Tt(n,e){var t=n.cache,r=n.keys,i=n._vnode;for(var a in t){var o=t[a];if(o){var s=o.name;s&&!e(s)&&_t(t,a,r,i)}}}function _t(n,e,t,r){var i=n[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),n[e]=null,y(t,e)}!function(n){n.prototype._init=function(n){var e=this;e._uid=kt++,e._isVue=!0,n&&n._isComponent?function(n,e){var t=n.$options=Object.create(n.constructor.options),r=e._parentVnode;t.parent=e.parent,t._parentVnode=r;var i=r.componentOptions;t.propsData=i.propsData,t._parentListeners=i.listeners,t._renderChildren=i.children,t._componentTag=i.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}(e,n):e.$options=Dn(jt(e.constructor),n||{},e),e._renderProxy=e,e._self=e,function(n){var e=n.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(n)}n.$parent=t,n.$root=t?t.$root:n,n.$children=[],n.$refs={},n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1}(e),function(n){n._events=Object.create(null),n._hasHookEvent=!1;var e=n.$options._parentListeners;e&&Ye(n,e)}(e),function(n){n._vnode=null,n._staticTrees=null;var e=n.$options,t=n.$vnode=e._parentVnode,r=t&&t.context;n.$slots=he(e._renderChildren,r),n.$scopedSlots=i,n._c=function(e,t,r,i){return Ve(n,e,t,r,i,!1)},n.$createElement=function(e,t,r,i){return Ve(n,e,t,r,i,!0)};var a=t&&t.data;Mn(n,"$attrs",a&&a.attrs||i,null,!0),Mn(n,"$listeners",e._parentListeners||i,null,!0)}(e),tt(e,"beforeCreate"),function(n){var e=ge(n.$options.inject,n);e&&(qn(!1),Object.keys(e).forEach((function(t){Mn(n,t,e[t])})),qn(!0))}(e),ft(e),function(n){var e=n.$options.provide;e&&(n._provided="function"==typeof e?e.call(n):e)}(e),tt(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(qt),function(n){var e={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(n.prototype,"$data",e),Object.defineProperty(n.prototype,"$props",t),n.prototype.$set=Tn,n.prototype.$delete=_n,n.prototype.$watch=function(n,e,t){if(d(e))return St(this,n,e,t);(t=t||{}).user=!0;var r=new gt(this,n,e,t);if(t.immediate){var i='callback for immediate watcher "'+r.expression+'"';gn(),Qn(e,this,[r.value],this,i),hn()}return function(){r.teardown()}}}(qt),function(n){var e=/^hook:/;n.prototype.$on=function(n,t){var r=this;if(Array.isArray(n))for(var i=0,a=n.length;i<a;i++)r.$on(n[i],t);else(r._events[n]||(r._events[n]=[])).push(t),e.test(n)&&(r._hasHookEvent=!0);return r},n.prototype.$once=function(n,e){var t=this;function r(){t.$off(n,r),e.apply(t,arguments)}return r.fn=e,t.$on(n,r),t},n.prototype.$off=function(n,e){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(Array.isArray(n)){for(var r=0,i=n.length;r<i;r++)t.$off(n[r],e);return t}var a,o=t._events[n];if(!o)return t;if(!e)return t._events[n]=null,t;for(var s=o.length;s--;)if((a=o[s])===e||a.fn===e){o.splice(s,1);break}return t},n.prototype.$emit=function(n){var e=this,t=e._events[n];if(t){t=t.length>1?T(t):t;for(var r=T(arguments,1),i='event handler for "'+n+'"',a=0,o=t.length;a<o;a++)Qn(t[a],e,r,e,i)}return e}}(qt),function(n){n.prototype._update=function(n,e){var t=this,r=t.$el,i=t._vnode,a=Ze(t);t._vnode=n,t.$el=i?t.__patch__(i,n):t.__patch__(t.$el,n,e,!1),a(),r&&(r.__vue__=null),t.$el&&(t.$el.__vue__=t),t.$vnode&&t.$parent&&t.$vnode===t.$parent._vnode&&(t.$parent.$el=t.$el)},n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},n.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){tt(n,"beforeDestroy"),n._isBeingDestroyed=!0;var e=n.$parent;!e||e._isBeingDestroyed||n.$options.abstract||y(e.$children,n),n._watcher&&n._watcher.teardown();for(var t=n._watchers.length;t--;)n._watchers[t].teardown();n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),tt(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}(qt),function(n){Le(n.prototype),n.prototype.$nextTick=function(n){return ie(n,this)},n.prototype._render=function(){var n,e=this,t=e.$options,r=t.render,i=t._parentVnode;i&&(e.$scopedSlots=be(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{$e=e,n=r.call(e._renderProxy,e.$createElement)}catch(t){$n(t,e,"render"),n=e._vnode}finally{$e=null}return Array.isArray(n)&&1===n.length&&(n=n[0]),n instanceof vn||(n=bn()),n.parent=i,n}}(qt);var Et=[String,RegExp,Array],At={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Et,exclude:Et,max:[String,Number]},methods:{cacheVNode:function(){var n=this.cache,e=this.keys,t=this.vnodeToCache,r=this.keyToCache;if(t){var i=t.tag,a=t.componentInstance,o=t.componentOptions;n[r]={name:It(o),tag:i,componentInstance:a},e.push(r),this.max&&e.length>parseInt(this.max)&&_t(n,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var n in this.cache)_t(this.cache,n,this.keys)},mounted:function(){var n=this;this.cacheVNode(),this.$watch("include",(function(e){Tt(n,(function(n){return Mt(e,n)}))})),this.$watch("exclude",(function(e){Tt(n,(function(n){return!Mt(e,n)}))}))},updated:function(){this.cacheVNode()},render:function(){var n=this.$slots.default,e=We(n),t=e&&e.componentOptions;if(t){var r=It(t),i=this.include,a=this.exclude;if(i&&(!r||!Mt(i,r))||a&&r&&Mt(a,r))return e;var o=this.cache,s=this.keys,l=null==e.key?t.Ctor.cid+(t.tag?"::"+t.tag:""):e.key;o[l]?(e.componentInstance=o[l].componentInstance,y(s,l),s.push(l)):(this.vnodeToCache=e,this.keyToCache=l),e.data.keepAlive=!0}return e||n&&n[0]}}};!function(n){var e={get:function(){return N}};Object.defineProperty(n,"config",e),n.util={warn:pn,extend:_,mergeOptions:Dn,defineReactive:Mn},n.set=Tn,n.delete=_n,n.nextTick=ie,n.observable=function(n){return In(n),n},n.options=Object.create(null),D.forEach((function(e){n.options[e+"s"]=Object.create(null)})),n.options._base=n,_(n.options.components,At),function(n){n.use=function(n){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(n)>-1)return this;var t=T(arguments,1);return t.unshift(this),"function"==typeof n.install?n.install.apply(n,t):"function"==typeof n&&n.apply(null,t),e.push(n),this}}(n),function(n){n.mixin=function(n){return this.options=Dn(this.options,n),this}}(n),Ct(n),function(n){D.forEach((function(e){n[e]=function(n,t){return t?("component"===e&&d(t)&&(t.name=t.name||n,t=this.options._base.extend(t)),"directive"===e&&"function"==typeof t&&(t={bind:t,update:t}),this.options[e+"s"][n]=t,t):this.options[e+"s"][n]}}))}(n)}(qt),Object.defineProperty(qt.prototype,"$isServer",{get:an}),Object.defineProperty(qt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(qt,"FunctionalRenderContext",{value:ze}),qt.version="2.6.14";var Bt=f("style,class"),Rt=f("input,textarea,option,select,progress"),Lt=f("contenteditable,draggable,spellcheck"),zt=f("events,caret,typing,plaintext-only"),Pt=f("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Dt="http://www.w3.org/1999/xlink",Ot=function(n){return":"===n.charAt(5)&&"xlink"===n.slice(0,5)},Nt=function(n){return Ot(n)?n.slice(6,n.length):""},Ft=function(n){return null==n||!1===n};function Ht(n){for(var e=n.data,t=n,r=n;o(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=Vt(r.data,e));for(;o(t=t.parent);)t&&t.data&&(e=Vt(e,t.data));return function(n,e){if(o(n)||o(e))return Ut(n,$t(e));return""}(e.staticClass,e.class)}function Vt(n,e){return{staticClass:Ut(n.staticClass,e.staticClass),class:o(n.class)?[n.class,e.class]:e.class}}function Ut(n,e){return n?e?n+" "+e:n:e||""}function $t(n){return Array.isArray(n)?function(n){for(var e,t="",r=0,i=n.length;r<i;r++)o(e=$t(n[r]))&&""!==e&&(t&&(t+=" "),t+=e);return t}(n):c(n)?function(n){var e="";for(var t in n)n[t]&&(e&&(e+=" "),e+=t);return e}(n):"string"==typeof n?n:""}var Qt={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Wt=f("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Jt=f("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Gt=function(n){return Wt(n)||Jt(n)};var Kt=Object.create(null);var Yt=f("text,number,password,search,email,tel,url");var Xt=Object.freeze({createElement:function(n,e){var t=document.createElement(n);return"select"!==n||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(n,e){return document.createElementNS(Qt[n],e)},createTextNode:function(n){return document.createTextNode(n)},createComment:function(n){return document.createComment(n)},insertBefore:function(n,e,t){n.insertBefore(e,t)},removeChild:function(n,e){n.removeChild(e)},appendChild:function(n,e){n.appendChild(e)},parentNode:function(n){return n.parentNode},nextSibling:function(n){return n.nextSibling},tagName:function(n){return n.tagName},setTextContent:function(n,e){n.textContent=e},setStyleScope:function(n,e){n.setAttribute(e,"")}}),Zt={create:function(n,e){nr(e)},update:function(n,e){n.data.ref!==e.data.ref&&(nr(n,!0),nr(e))},destroy:function(n){nr(n,!0)}};function nr(n,e){var t=n.data.ref;if(o(t)){var r=n.context,i=n.componentInstance||n.elm,a=r.$refs;e?Array.isArray(a[t])?y(a[t],i):a[t]===i&&(a[t]=void 0):n.data.refInFor?Array.isArray(a[t])?a[t].indexOf(i)<0&&a[t].push(i):a[t]=[i]:a[t]=i}}var er=new vn("",{},[]),tr=["create","activate","update","remove","destroy"];function rr(n,e){return n.key===e.key&&n.asyncFactory===e.asyncFactory&&(n.tag===e.tag&&n.isComment===e.isComment&&o(n.data)===o(e.data)&&function(n,e){if("input"!==n.tag)return!0;var t,r=o(t=n.data)&&o(t=t.attrs)&&t.type,i=o(t=e.data)&&o(t=t.attrs)&&t.type;return r===i||Yt(r)&&Yt(i)}(n,e)||s(n.isAsyncPlaceholder)&&a(e.asyncFactory.error))}function ir(n,e,t){var r,i,a={};for(r=e;r<=t;++r)o(i=n[r].key)&&(a[i]=r);return a}var ar={create:or,update:or,destroy:function(n){or(n,er)}};function or(n,e){(n.data.directives||e.data.directives)&&function(n,e){var t,r,i,a=n===er,o=e===er,s=lr(n.data.directives,n.context),l=lr(e.data.directives,e.context),c=[],p=[];for(t in l)r=s[t],i=l[t],r?(i.oldValue=r.value,i.oldArg=r.arg,pr(i,"update",e,n),i.def&&i.def.componentUpdated&&p.push(i)):(pr(i,"bind",e,n),i.def&&i.def.inserted&&c.push(i));if(c.length){var d=function(){for(var t=0;t<c.length;t++)pr(c[t],"inserted",e,n)};a?pe(e,"insert",d):d()}p.length&&pe(e,"postpatch",(function(){for(var t=0;t<p.length;t++)pr(p[t],"componentUpdated",e,n)}));if(!a)for(t in s)l[t]||pr(s[t],"unbind",n,n,o)}(n,e)}var sr=Object.create(null);function lr(n,e){var t,r,i=Object.create(null);if(!n)return i;for(t=0;t<n.length;t++)(r=n[t]).modifiers||(r.modifiers=sr),i[cr(r)]=r,r.def=On(e.$options,"directives",r.name);return i}function cr(n){return n.rawName||n.name+"."+Object.keys(n.modifiers||{}).join(".")}function pr(n,e,t,r,i){var a=n.def&&n.def[e];if(a)try{a(t.elm,n,t,r,i)}catch(r){$n(r,t.context,"directive "+n.name+" "+e+" hook")}}var dr=[Zt,ar];function ur(n,e){var t=e.componentOptions;if(!(o(t)&&!1===t.Ctor.options.inheritAttrs||a(n.data.attrs)&&a(e.data.attrs))){var r,i,s=e.elm,l=n.data.attrs||{},c=e.data.attrs||{};for(r in o(c.__ob__)&&(c=e.data.attrs=_({},c)),c)i=c[r],l[r]!==i&&mr(s,r,i,e.data.pre);for(r in(K||X)&&c.value!==l.value&&mr(s,"value",c.value),l)a(c[r])&&(Ot(r)?s.removeAttributeNS(Dt,Nt(r)):Lt(r)||s.removeAttribute(r))}}function mr(n,e,t,r){r||n.tagName.indexOf("-")>-1?gr(n,e,t):Pt(e)?Ft(t)?n.removeAttribute(e):(t="allowfullscreen"===e&&"EMBED"===n.tagName?"true":e,n.setAttribute(e,t)):Lt(e)?n.setAttribute(e,function(n,e){return Ft(e)||"false"===e?"false":"contenteditable"===n&&zt(e)?e:"true"}(e,t)):Ot(e)?Ft(t)?n.removeAttributeNS(Dt,Nt(e)):n.setAttributeNS(Dt,e,t):gr(n,e,t)}function gr(n,e,t){if(Ft(t))n.removeAttribute(e);else{if(K&&!Y&&"TEXTAREA"===n.tagName&&"placeholder"===e&&""!==t&&!n.__ieph){var r=function(e){e.stopImmediatePropagation(),n.removeEventListener("input",r)};n.addEventListener("input",r),n.__ieph=!0}n.setAttribute(e,t)}}var hr={create:ur,update:ur};function vr(n,e){var t=e.elm,r=e.data,i=n.data;if(!(a(r.staticClass)&&a(r.class)&&(a(i)||a(i.staticClass)&&a(i.class)))){var s=Ht(e),l=t._transitionClasses;o(l)&&(s=Ut(s,$t(l))),s!==t._prevClass&&(t.setAttribute("class",s),t._prevClass=s)}}var fr,br={create:vr,update:vr};function yr(n,e,t){var r=fr;return function i(){var a=e.apply(null,arguments);null!==a&&Sr(n,i,t,r)}}var xr=Kn&&!(nn&&Number(nn[1])<=53);function wr(n,e,t,r){if(xr){var i=ct,a=e;e=a._wrapper=function(n){if(n.target===n.currentTarget||n.timeStamp>=i||n.timeStamp<=0||n.target.ownerDocument!==document)return a.apply(this,arguments)}}fr.addEventListener(n,e,tn?{capture:t,passive:r}:t)}function Sr(n,e,t,r){(r||fr).removeEventListener(n,e._wrapper||e,t)}function kr(n,e){if(!a(n.data.on)||!a(e.data.on)){var t=e.data.on||{},r=n.data.on||{};fr=e.elm,function(n){if(o(n.__r)){var e=K?"change":"input";n[e]=[].concat(n.__r,n[e]||[]),delete n.__r}o(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c)}(t),ce(t,r,wr,Sr,yr,e.context),fr=void 0}}var jr,qr={create:kr,update:kr};function Cr(n,e){if(!a(n.data.domProps)||!a(e.data.domProps)){var t,r,i=e.elm,s=n.data.domProps||{},l=e.data.domProps||{};for(t in o(l.__ob__)&&(l=e.data.domProps=_({},l)),s)t in l||(i[t]="");for(t in l){if(r=l[t],"textContent"===t||"innerHTML"===t){if(e.children&&(e.children.length=0),r===s[t])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===t&&"PROGRESS"!==i.tagName){i._value=r;var c=a(r)?"":String(r);Ir(i,c)&&(i.value=c)}else if("innerHTML"===t&&Jt(i.tagName)&&a(i.innerHTML)){(jr=jr||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var p=jr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;p.firstChild;)i.appendChild(p.firstChild)}else if(r!==s[t])try{i[t]=r}catch(n){}}}}function Ir(n,e){return!n.composing&&("OPTION"===n.tagName||function(n,e){var t=!0;try{t=document.activeElement!==n}catch(n){}return t&&n.value!==e}(n,e)||function(n,e){var t=n.value,r=n._vModifiers;if(o(r)){if(r.number)return v(t)!==v(e);if(r.trim)return t.trim()!==e.trim()}return t!==e}(n,e))}var Mr={create:Cr,update:Cr},Tr=S((function(n){var e={},t=/:(.+)/;return n.split(/;(?![^(]*\))/g).forEach((function(n){if(n){var r=n.split(t);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function _r(n){var e=Er(n.style);return n.staticStyle?_(n.staticStyle,e):e}function Er(n){return Array.isArray(n)?E(n):"string"==typeof n?Tr(n):n}var Ar,Br=/^--/,Rr=/\s*!important$/,Lr=function(n,e,t){if(Br.test(e))n.style.setProperty(e,t);else if(Rr.test(t))n.style.setProperty(I(e),t.replace(Rr,""),"important");else{var r=Pr(e);if(Array.isArray(t))for(var i=0,a=t.length;i<a;i++)n.style[r]=t[i];else n.style[r]=t}},zr=["Webkit","Moz","ms"],Pr=S((function(n){if(Ar=Ar||document.createElement("div").style,"filter"!==(n=j(n))&&n in Ar)return n;for(var e=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<zr.length;t++){var r=zr[t]+e;if(r in Ar)return r}}));function Dr(n,e){var t=e.data,r=n.data;if(!(a(t.staticStyle)&&a(t.style)&&a(r.staticStyle)&&a(r.style))){var i,s,l=e.elm,c=r.staticStyle,p=r.normalizedStyle||r.style||{},d=c||p,u=Er(e.data.style)||{};e.data.normalizedStyle=o(u.__ob__)?_({},u):u;var m=function(n,e){var t,r={};if(e)for(var i=n;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(t=_r(i.data))&&_(r,t);(t=_r(n.data))&&_(r,t);for(var a=n;a=a.parent;)a.data&&(t=_r(a.data))&&_(r,t);return r}(e,!0);for(s in d)a(m[s])&&Lr(l,s,"");for(s in m)(i=m[s])!==d[s]&&Lr(l,s,null==i?"":i)}}var Or={create:Dr,update:Dr},Nr=/\s+/;function Fr(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(Nr).forEach((function(e){return n.classList.add(e)})):n.classList.add(e);else{var t=" "+(n.getAttribute("class")||"")+" ";t.indexOf(" "+e+" ")<0&&n.setAttribute("class",(t+e).trim())}}function Hr(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(Nr).forEach((function(e){return n.classList.remove(e)})):n.classList.remove(e),n.classList.length||n.removeAttribute("class");else{for(var t=" "+(n.getAttribute("class")||"")+" ",r=" "+e+" ";t.indexOf(r)>=0;)t=t.replace(r," ");(t=t.trim())?n.setAttribute("class",t):n.removeAttribute("class")}}function Vr(n){if(n){if("object"==typeof n){var e={};return!1!==n.css&&_(e,Ur(n.name||"v")),_(e,n),e}return"string"==typeof n?Ur(n):void 0}}var Ur=S((function(n){return{enterClass:n+"-enter",enterToClass:n+"-enter-to",enterActiveClass:n+"-enter-active",leaveClass:n+"-leave",leaveToClass:n+"-leave-to",leaveActiveClass:n+"-leave-active"}})),$r=Q&&!Y,Qr="transition",Wr="transitionend",Jr="animation",Gr="animationend";$r&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Qr="WebkitTransition",Wr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Jr="WebkitAnimation",Gr="webkitAnimationEnd"));var Kr=Q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(n){return n()};function Yr(n){Kr((function(){Kr(n)}))}function Xr(n,e){var t=n._transitionClasses||(n._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),Fr(n,e))}function Zr(n,e){n._transitionClasses&&y(n._transitionClasses,e),Hr(n,e)}function ni(n,e,t){var r=ti(n,e),i=r.type,a=r.timeout,o=r.propCount;if(!i)return t();var s="transition"===i?Wr:Gr,l=0,c=function(){n.removeEventListener(s,p),t()},p=function(e){e.target===n&&++l>=o&&c()};setTimeout((function(){l<o&&c()}),a+1),n.addEventListener(s,p)}var ei=/\b(transform|all)(,|$)/;function ti(n,e){var t,r=window.getComputedStyle(n),i=(r[Qr+"Delay"]||"").split(", "),a=(r[Qr+"Duration"]||"").split(", "),o=ri(i,a),s=(r[Jr+"Delay"]||"").split(", "),l=(r[Jr+"Duration"]||"").split(", "),c=ri(s,l),p=0,d=0;return"transition"===e?o>0&&(t="transition",p=o,d=a.length):"animation"===e?c>0&&(t="animation",p=c,d=l.length):d=(t=(p=Math.max(o,c))>0?o>c?"transition":"animation":null)?"transition"===t?a.length:l.length:0,{type:t,timeout:p,propCount:d,hasTransform:"transition"===t&&ei.test(r[Qr+"Property"])}}function ri(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max.apply(null,e.map((function(e,t){return ii(e)+ii(n[t])})))}function ii(n){return 1e3*Number(n.slice(0,-1).replace(",","."))}function ai(n,e){var t=n.elm;o(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var r=Vr(n.data.transition);if(!a(r)&&!o(t._enterCb)&&1===t.nodeType){for(var i=r.css,s=r.type,l=r.enterClass,p=r.enterToClass,d=r.enterActiveClass,u=r.appearClass,m=r.appearToClass,g=r.appearActiveClass,h=r.beforeEnter,f=r.enter,b=r.afterEnter,y=r.enterCancelled,x=r.beforeAppear,w=r.appear,S=r.afterAppear,k=r.appearCancelled,j=r.duration,q=Xe,C=Xe.$vnode;C&&C.parent;)q=C.context,C=C.parent;var I=!q._isMounted||!n.isRootInsert;if(!I||w||""===w){var M=I&&u?u:l,T=I&&g?g:d,_=I&&m?m:p,E=I&&x||h,A=I&&"function"==typeof w?w:f,B=I&&S||b,R=I&&k||y,L=v(c(j)?j.enter:j);0;var z=!1!==i&&!Y,D=li(A),O=t._enterCb=P((function(){z&&(Zr(t,_),Zr(t,T)),O.cancelled?(z&&Zr(t,M),R&&R(t)):B&&B(t),t._enterCb=null}));n.data.show||pe(n,"insert",(function(){var e=t.parentNode,r=e&&e._pending&&e._pending[n.key];r&&r.tag===n.tag&&r.elm._leaveCb&&r.elm._leaveCb(),A&&A(t,O)})),E&&E(t),z&&(Xr(t,M),Xr(t,T),Yr((function(){Zr(t,M),O.cancelled||(Xr(t,_),D||(si(L)?setTimeout(O,L):ni(t,s,O)))}))),n.data.show&&(e&&e(),A&&A(t,O)),z||D||O()}}}function oi(n,e){var t=n.elm;o(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var r=Vr(n.data.transition);if(a(r)||1!==t.nodeType)return e();if(!o(t._leaveCb)){var i=r.css,s=r.type,l=r.leaveClass,p=r.leaveToClass,d=r.leaveActiveClass,u=r.beforeLeave,m=r.leave,g=r.afterLeave,h=r.leaveCancelled,f=r.delayLeave,b=r.duration,y=!1!==i&&!Y,x=li(m),w=v(c(b)?b.leave:b);0;var S=t._leaveCb=P((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[n.key]=null),y&&(Zr(t,p),Zr(t,d)),S.cancelled?(y&&Zr(t,l),h&&h(t)):(e(),g&&g(t)),t._leaveCb=null}));f?f(k):k()}function k(){S.cancelled||(!n.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[n.key]=n),u&&u(t),y&&(Xr(t,l),Xr(t,d),Yr((function(){Zr(t,l),S.cancelled||(Xr(t,p),x||(si(w)?setTimeout(S,w):ni(t,s,S)))}))),m&&m(t,S),y||x||S())}}function si(n){return"number"==typeof n&&!isNaN(n)}function li(n){if(a(n))return!1;var e=n.fns;return o(e)?li(Array.isArray(e)?e[0]:e):(n._length||n.length)>1}function ci(n,e){!0!==e.data.show&&ai(e)}var pi=function(n){var e,t,r={},i=n.modules,c=n.nodeOps;for(e=0;e<tr.length;++e)for(r[tr[e]]=[],t=0;t<i.length;++t)o(i[t][tr[e]])&&r[tr[e]].push(i[t][tr[e]]);function p(n){var e=c.parentNode(n);o(e)&&c.removeChild(e,n)}function d(n,e,t,i,a,l,p){if(o(n.elm)&&o(l)&&(n=l[p]=xn(n)),n.isRootInsert=!a,!function(n,e,t,i){var a=n.data;if(o(a)){var l=o(n.componentInstance)&&a.keepAlive;if(o(a=a.hook)&&o(a=a.init)&&a(n,!1),o(n.componentInstance))return u(n,e),m(t,n.elm,i),s(l)&&function(n,e,t,i){var a,s=n;for(;s.componentInstance;)if(s=s.componentInstance._vnode,o(a=s.data)&&o(a=a.transition)){for(a=0;a<r.activate.length;++a)r.activate[a](er,s);e.push(s);break}m(t,n.elm,i)}(n,e,t,i),!0}}(n,e,t,i)){var d=n.data,h=n.children,f=n.tag;o(f)?(n.elm=n.ns?c.createElementNS(n.ns,f):c.createElement(f,n),b(n),g(n,h,e),o(d)&&v(n,e),m(t,n.elm,i)):s(n.isComment)?(n.elm=c.createComment(n.text),m(t,n.elm,i)):(n.elm=c.createTextNode(n.text),m(t,n.elm,i))}}function u(n,e){o(n.data.pendingInsert)&&(e.push.apply(e,n.data.pendingInsert),n.data.pendingInsert=null),n.elm=n.componentInstance.$el,h(n)?(v(n,e),b(n)):(nr(n),e.push(n))}function m(n,e,t){o(n)&&(o(t)?c.parentNode(t)===n&&c.insertBefore(n,e,t):c.appendChild(n,e))}function g(n,e,t){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)d(e[r],t,n.elm,null,!0,e,r)}else l(n.text)&&c.appendChild(n.elm,c.createTextNode(String(n.text)))}function h(n){for(;n.componentInstance;)n=n.componentInstance._vnode;return o(n.tag)}function v(n,t){for(var i=0;i<r.create.length;++i)r.create[i](er,n);o(e=n.data.hook)&&(o(e.create)&&e.create(er,n),o(e.insert)&&t.push(n))}function b(n){var e;if(o(e=n.fnScopeId))c.setStyleScope(n.elm,e);else for(var t=n;t;)o(e=t.context)&&o(e=e.$options._scopeId)&&c.setStyleScope(n.elm,e),t=t.parent;o(e=Xe)&&e!==n.context&&e!==n.fnContext&&o(e=e.$options._scopeId)&&c.setStyleScope(n.elm,e)}function y(n,e,t,r,i,a){for(;r<=i;++r)d(t[r],a,n,e,!1,t,r)}function x(n){var e,t,i=n.data;if(o(i))for(o(e=i.hook)&&o(e=e.destroy)&&e(n),e=0;e<r.destroy.length;++e)r.destroy[e](n);if(o(e=n.children))for(t=0;t<n.children.length;++t)x(n.children[t])}function w(n,e,t){for(;e<=t;++e){var r=n[e];o(r)&&(o(r.tag)?(S(r),x(r)):p(r.elm))}}function S(n,e){if(o(e)||o(n.data)){var t,i=r.remove.length+1;for(o(e)?e.listeners+=i:e=function(n,e){function t(){0==--t.listeners&&p(n)}return t.listeners=e,t}(n.elm,i),o(t=n.componentInstance)&&o(t=t._vnode)&&o(t.data)&&S(t,e),t=0;t<r.remove.length;++t)r.remove[t](n,e);o(t=n.data.hook)&&o(t=t.remove)?t(n,e):e()}else p(n.elm)}function k(n,e,t,r){for(var i=t;i<r;i++){var a=e[i];if(o(a)&&rr(n,a))return i}}function j(n,e,t,i,l,p){if(n!==e){o(e.elm)&&o(i)&&(e=i[l]=xn(e));var u=e.elm=n.elm;if(s(n.isAsyncPlaceholder))o(e.asyncFactory.resolved)?I(n.elm,e,t):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(n.isStatic)&&e.key===n.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=n.componentInstance;else{var m,g=e.data;o(g)&&o(m=g.hook)&&o(m=m.prepatch)&&m(n,e);var v=n.children,f=e.children;if(o(g)&&h(e)){for(m=0;m<r.update.length;++m)r.update[m](n,e);o(m=g.hook)&&o(m=m.update)&&m(n,e)}a(e.text)?o(v)&&o(f)?v!==f&&function(n,e,t,r,i){var s,l,p,u=0,m=0,g=e.length-1,h=e[0],v=e[g],f=t.length-1,b=t[0],x=t[f],S=!i;for(0;u<=g&&m<=f;)a(h)?h=e[++u]:a(v)?v=e[--g]:rr(h,b)?(j(h,b,r,t,m),h=e[++u],b=t[++m]):rr(v,x)?(j(v,x,r,t,f),v=e[--g],x=t[--f]):rr(h,x)?(j(h,x,r,t,f),S&&c.insertBefore(n,h.elm,c.nextSibling(v.elm)),h=e[++u],x=t[--f]):rr(v,b)?(j(v,b,r,t,m),S&&c.insertBefore(n,v.elm,h.elm),v=e[--g],b=t[++m]):(a(s)&&(s=ir(e,u,g)),a(l=o(b.key)?s[b.key]:k(b,e,u,g))?d(b,r,n,h.elm,!1,t,m):rr(p=e[l],b)?(j(p,b,r,t,m),e[l]=void 0,S&&c.insertBefore(n,p.elm,h.elm)):d(b,r,n,h.elm,!1,t,m),b=t[++m]);u>g?y(n,a(t[f+1])?null:t[f+1].elm,t,m,f,r):m>f&&w(e,u,g)}(u,v,f,t,p):o(f)?(o(n.text)&&c.setTextContent(u,""),y(u,null,f,0,f.length-1,t)):o(v)?w(v,0,v.length-1):o(n.text)&&c.setTextContent(u,""):n.text!==e.text&&c.setTextContent(u,e.text),o(g)&&o(m=g.hook)&&o(m=m.postpatch)&&m(n,e)}}}function q(n,e,t){if(s(t)&&o(n.parent))n.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var C=f("attrs,class,staticClass,staticStyle,key");function I(n,e,t,r){var i,a=e.tag,l=e.data,c=e.children;if(r=r||l&&l.pre,e.elm=n,s(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(l)&&(o(i=l.hook)&&o(i=i.init)&&i(e,!0),o(i=e.componentInstance)))return u(e,t),!0;if(o(a)){if(o(c))if(n.hasChildNodes())if(o(i=l)&&o(i=i.domProps)&&o(i=i.innerHTML)){if(i!==n.innerHTML)return!1}else{for(var p=!0,d=n.firstChild,m=0;m<c.length;m++){if(!d||!I(d,c[m],t,r)){p=!1;break}d=d.nextSibling}if(!p||d)return!1}else g(e,c,t);if(o(l)){var h=!1;for(var f in l)if(!C(f)){h=!0,v(e,t);break}!h&&l.class&&oe(l.class)}}else n.data!==e.text&&(n.data=e.text);return!0}return function(n,e,t,i){if(!a(e)){var l,p=!1,u=[];if(a(n))p=!0,d(e,u);else{var m=o(n.nodeType);if(!m&&rr(n,e))j(n,e,u,null,null,i);else{if(m){if(1===n.nodeType&&n.hasAttribute("data-server-rendered")&&(n.removeAttribute("data-server-rendered"),t=!0),s(t)&&I(n,e,u))return q(e,u,!0),n;l=n,n=new vn(c.tagName(l).toLowerCase(),{},[],void 0,l)}var g=n.elm,v=c.parentNode(g);if(d(e,u,g._leaveCb?null:v,c.nextSibling(g)),o(e.parent))for(var f=e.parent,b=h(e);f;){for(var y=0;y<r.destroy.length;++y)r.destroy[y](f);if(f.elm=e.elm,b){for(var S=0;S<r.create.length;++S)r.create[S](er,f);var k=f.data.hook.insert;if(k.merged)for(var C=1;C<k.fns.length;C++)k.fns[C]()}else nr(f);f=f.parent}o(v)?w([n],0,0):o(n.tag)&&x(n)}}return q(e,u,p),e.elm}o(n)&&x(n)}}({nodeOps:Xt,modules:[hr,br,qr,Mr,Or,Q?{create:ci,activate:ci,remove:function(n,e){!0!==n.data.show?oi(n,e):e()}}:{}].concat(dr)});Y&&document.addEventListener("selectionchange",(function(){var n=document.activeElement;n&&n.vmodel&&bi(n,"input")}));var di={inserted:function(n,e,t,r){"select"===t.tag?(r.elm&&!r.elm._vOptions?pe(t,"postpatch",(function(){di.componentUpdated(n,e,t)})):ui(n,e,t.context),n._vOptions=[].map.call(n.options,hi)):("textarea"===t.tag||Yt(n.type))&&(n._vModifiers=e.modifiers,e.modifiers.lazy||(n.addEventListener("compositionstart",vi),n.addEventListener("compositionend",fi),n.addEventListener("change",fi),Y&&(n.vmodel=!0)))},componentUpdated:function(n,e,t){if("select"===t.tag){ui(n,e,t.context);var r=n._vOptions,i=n._vOptions=[].map.call(n.options,hi);if(i.some((function(n,e){return!L(n,r[e])})))(n.multiple?e.value.some((function(n){return gi(n,i)})):e.value!==e.oldValue&&gi(e.value,i))&&bi(n,"change")}}};function ui(n,e,t){mi(n,e,t),(K||X)&&setTimeout((function(){mi(n,e,t)}),0)}function mi(n,e,t){var r=e.value,i=n.multiple;if(!i||Array.isArray(r)){for(var a,o,s=0,l=n.options.length;s<l;s++)if(o=n.options[s],i)a=z(r,hi(o))>-1,o.selected!==a&&(o.selected=a);else if(L(hi(o),r))return void(n.selectedIndex!==s&&(n.selectedIndex=s));i||(n.selectedIndex=-1)}}function gi(n,e){return e.every((function(e){return!L(e,n)}))}function hi(n){return"_value"in n?n._value:n.value}function vi(n){n.target.composing=!0}function fi(n){n.target.composing&&(n.target.composing=!1,bi(n.target,"input"))}function bi(n,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}function yi(n){return!n.componentInstance||n.data&&n.data.transition?n:yi(n.componentInstance._vnode)}var xi={model:di,show:{bind:function(n,e,t){var r=e.value,i=(t=yi(t)).data&&t.data.transition,a=n.__vOriginalDisplay="none"===n.style.display?"":n.style.display;r&&i?(t.data.show=!0,ai(t,(function(){n.style.display=a}))):n.style.display=r?a:"none"},update:function(n,e,t){var r=e.value;!r!=!e.oldValue&&((t=yi(t)).data&&t.data.transition?(t.data.show=!0,r?ai(t,(function(){n.style.display=n.__vOriginalDisplay})):oi(t,(function(){n.style.display="none"}))):n.style.display=r?n.__vOriginalDisplay:"none")},unbind:function(n,e,t,r,i){i||(n.style.display=n.__vOriginalDisplay)}}},wi={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Si(n){var e=n&&n.componentOptions;return e&&e.Ctor.options.abstract?Si(We(e.children)):n}function ki(n){var e={},t=n.$options;for(var r in t.propsData)e[r]=n[r];var i=t._parentListeners;for(var a in i)e[j(a)]=i[a];return e}function ji(n,e){if(/\d-keep-alive$/.test(e.tag))return n("keep-alive",{props:e.componentOptions.propsData})}var qi=function(n){return n.tag||fe(n)},Ci=function(n){return"show"===n.name},Ii={name:"transition",props:wi,abstract:!0,render:function(n){var e=this,t=this.$slots.default;if(t&&(t=t.filter(qi)).length){0;var r=this.mode;0;var i=t[0];if(function(n){for(;n=n.parent;)if(n.data.transition)return!0}(this.$vnode))return i;var a=Si(i);if(!a)return i;if(this._leaving)return ji(n,i);var o="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?o+"comment":o+a.tag:l(a.key)?0===String(a.key).indexOf(o)?a.key:o+a.key:a.key;var s=(a.data||(a.data={})).transition=ki(this),c=this._vnode,p=Si(c);if(a.data.directives&&a.data.directives.some(Ci)&&(a.data.show=!0),p&&p.data&&!function(n,e){return e.key===n.key&&e.tag===n.tag}(a,p)&&!fe(p)&&(!p.componentInstance||!p.componentInstance._vnode.isComment)){var d=p.data.transition=_({},s);if("out-in"===r)return this._leaving=!0,pe(d,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),ji(n,i);if("in-out"===r){if(fe(a))return c;var u,m=function(){u()};pe(s,"afterEnter",m),pe(s,"enterCancelled",m),pe(d,"delayLeave",(function(n){u=n}))}}return i}}},Mi=_({tag:String,moveClass:String},wi);function Ti(n){n.elm._moveCb&&n.elm._moveCb(),n.elm._enterCb&&n.elm._enterCb()}function _i(n){n.data.newPos=n.elm.getBoundingClientRect()}function Ei(n){var e=n.data.pos,t=n.data.newPos,r=e.left-t.left,i=e.top-t.top;if(r||i){n.data.moved=!0;var a=n.elm.style;a.transform=a.WebkitTransform="translate("+r+"px,"+i+"px)",a.transitionDuration="0s"}}delete Mi.mode;var Ai={Transition:Ii,TransitionGroup:{props:Mi,beforeMount:function(){var n=this,e=this._update;this._update=function(t,r){var i=Ze(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,i(),e.call(n,t,r)}},render:function(n){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],a=this.children=[],o=ki(this),s=0;s<i.length;s++){var l=i[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))a.push(l),t[l.key]=l,(l.data||(l.data={})).transition=o;else;}if(r){for(var c=[],p=[],d=0;d<r.length;d++){var u=r[d];u.data.transition=o,u.data.pos=u.elm.getBoundingClientRect(),t[u.key]?c.push(u):p.push(u)}this.kept=n(e,null,c),this.removed=p}return n(e,null,a)},updated:function(){var n=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";n.length&&this.hasMove(n[0].elm,e)&&(n.forEach(Ti),n.forEach(_i),n.forEach(Ei),this._reflow=document.body.offsetHeight,n.forEach((function(n){if(n.data.moved){var t=n.elm,r=t.style;Xr(t,e),r.transform=r.WebkitTransform=r.transitionDuration="",t.addEventListener(Wr,t._moveCb=function n(r){r&&r.target!==t||r&&!/transform$/.test(r.propertyName)||(t.removeEventListener(Wr,n),t._moveCb=null,Zr(t,e))})}})))},methods:{hasMove:function(n,e){if(!$r)return!1;if(this._hasMove)return this._hasMove;var t=n.cloneNode();n._transitionClasses&&n._transitionClasses.forEach((function(n){Hr(t,n)})),Fr(t,e),t.style.display="none",this.$el.appendChild(t);var r=ti(t);return this.$el.removeChild(t),this._hasMove=r.hasTransform}}}};qt.config.mustUseProp=function(n,e,t){return"value"===t&&Rt(n)&&"button"!==e||"selected"===t&&"option"===n||"checked"===t&&"input"===n||"muted"===t&&"video"===n},qt.config.isReservedTag=Gt,qt.config.isReservedAttr=Bt,qt.config.getTagNamespace=function(n){return Jt(n)?"svg":"math"===n?"math":void 0},qt.config.isUnknownElement=function(n){if(!Q)return!0;if(Gt(n))return!1;if(n=n.toLowerCase(),null!=Kt[n])return Kt[n];var e=document.createElement(n);return n.indexOf("-")>-1?Kt[n]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Kt[n]=/HTMLUnknownElement/.test(e.toString())},_(qt.options.directives,xi),_(qt.options.components,Ai),qt.prototype.__patch__=Q?pi:A,qt.prototype.$mount=function(n,e){return function(n,e,t){var r;return n.$el=e,n.$options.render||(n.$options.render=bn),tt(n,"beforeMount"),r=function(){n._update(n._render(),t)},new gt(n,r,A,{before:function(){n._isMounted&&!n._isDestroyed&&tt(n,"beforeUpdate")}},!0),t=!1,null==n.$vnode&&(n._isMounted=!0,tt(n,"mounted")),n}(this,n=n&&Q?function(n){if("string"==typeof n){var e=document.querySelector(n);return e||document.createElement("div")}return n}(n):void 0,e)},Q&&setTimeout((function(){N.devtools&&on&&on.emit("init",qt)}),0);var Bi=qt;
/*!
  * vue-router v3.5.3
  * (c) 2021 Evan You
  * @license MIT
  */function Ri(n,e){for(var t in e)n[t]=e[t];return n}var Li=/[!'()*]/g,zi=function(n){return"%"+n.charCodeAt(0).toString(16)},Pi=/%2C/g,Di=function(n){return encodeURIComponent(n).replace(Li,zi).replace(Pi,",")};function Oi(n){try{return decodeURIComponent(n)}catch(n){0}return n}var Ni=function(n){return null==n||"object"==typeof n?n:String(n)};function Fi(n){var e={};return(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach((function(n){var t=n.replace(/\+/g," ").split("="),r=Oi(t.shift()),i=t.length>0?Oi(t.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e}function Hi(n){var e=n?Object.keys(n).map((function(e){var t=n[e];if(void 0===t)return"";if(null===t)return Di(e);if(Array.isArray(t)){var r=[];return t.forEach((function(n){void 0!==n&&(null===n?r.push(Di(e)):r.push(Di(e)+"="+Di(n)))})),r.join("&")}return Di(e)+"="+Di(t)})).filter((function(n){return n.length>0})).join("&"):null;return e?"?"+e:""}var Vi=/\/?$/;function Ui(n,e,t,r){var i=r&&r.options.stringifyQuery,a=e.query||{};try{a=$i(a)}catch(n){}var o={name:e.name||n&&n.name,meta:n&&n.meta||{},path:e.path||"/",hash:e.hash||"",query:a,params:e.params||{},fullPath:Ji(e,i),matched:n?Wi(n):[]};return t&&(o.redirectedFrom=Ji(t,i)),Object.freeze(o)}function $i(n){if(Array.isArray(n))return n.map($i);if(n&&"object"==typeof n){var e={};for(var t in n)e[t]=$i(n[t]);return e}return n}var Qi=Ui(null,{path:"/"});function Wi(n){for(var e=[];n;)e.unshift(n),n=n.parent;return e}function Ji(n,e){var t=n.path,r=n.query;void 0===r&&(r={});var i=n.hash;return void 0===i&&(i=""),(t||"/")+(e||Hi)(r)+i}function Gi(n,e,t){return e===Qi?n===e:!!e&&(n.path&&e.path?n.path.replace(Vi,"")===e.path.replace(Vi,"")&&(t||n.hash===e.hash&&Ki(n.query,e.query)):!(!n.name||!e.name)&&(n.name===e.name&&(t||n.hash===e.hash&&Ki(n.query,e.query)&&Ki(n.params,e.params))))}function Ki(n,e){if(void 0===n&&(n={}),void 0===e&&(e={}),!n||!e)return n===e;var t=Object.keys(n).sort(),r=Object.keys(e).sort();return t.length===r.length&&t.every((function(t,i){var a=n[t];if(r[i]!==t)return!1;var o=e[t];return null==a||null==o?a===o:"object"==typeof a&&"object"==typeof o?Ki(a,o):String(a)===String(o)}))}function Yi(n){for(var e=0;e<n.matched.length;e++){var t=n.matched[e];for(var r in t.instances){var i=t.instances[r],a=t.enteredCbs[r];if(i&&a){delete t.enteredCbs[r];for(var o=0;o<a.length;o++)i._isBeingDestroyed||a[o](i)}}}}var Xi={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,e){var t=e.props,r=e.children,i=e.parent,a=e.data;a.routerView=!0;for(var o=i.$createElement,s=t.name,l=i.$route,c=i._routerViewCache||(i._routerViewCache={}),p=0,d=!1;i&&i._routerRoot!==i;){var u=i.$vnode?i.$vnode.data:{};u.routerView&&p++,u.keepAlive&&i._directInactive&&i._inactive&&(d=!0),i=i.$parent}if(a.routerViewDepth=p,d){var m=c[s],g=m&&m.component;return g?(m.configProps&&Zi(g,a,m.route,m.configProps),o(g,a,r)):o()}var h=l.matched[p],v=h&&h.components[s];if(!h||!v)return c[s]=null,o();c[s]={component:v},a.registerRouteInstance=function(n,e){var t=h.instances[s];(e&&t!==n||!e&&t===n)&&(h.instances[s]=e)},(a.hook||(a.hook={})).prepatch=function(n,e){h.instances[s]=e.componentInstance},a.hook.init=function(n){n.data.keepAlive&&n.componentInstance&&n.componentInstance!==h.instances[s]&&(h.instances[s]=n.componentInstance),Yi(l)};var f=h.props&&h.props[s];return f&&(Ri(c[s],{route:l,configProps:f}),Zi(v,a,l,f)),o(v,a,r)}};function Zi(n,e,t,r){var i=e.props=function(n,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(n);case"boolean":return e?n.params:void 0;default:0}}(t,r);if(i){i=e.props=Ri({},i);var a=e.attrs=e.attrs||{};for(var o in i)n.props&&o in n.props||(a[o]=i[o],delete i[o])}}function na(n,e,t){var r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;var i=e.split("/");t&&i[i.length-1]||i.pop();for(var a=n.replace(/^\//,"").split("/"),o=0;o<a.length;o++){var s=a[o];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function ea(n){return n.replace(/\/+/g,"/")}var ta=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},ra=fa,ia=ca,aa=function(n,e){return da(ca(n,e),e)},oa=da,sa=va,la=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function ca(n,e){for(var t,r=[],i=0,a=0,o="",s=e&&e.delimiter||"/";null!=(t=la.exec(n));){var l=t[0],c=t[1],p=t.index;if(o+=n.slice(a,p),a=p+l.length,c)o+=c[1];else{var d=n[a],u=t[2],m=t[3],g=t[4],h=t[5],v=t[6],f=t[7];o&&(r.push(o),o="");var b=null!=u&&null!=d&&d!==u,y="+"===v||"*"===v,x="?"===v||"*"===v,w=t[2]||s,S=g||h;r.push({name:m||i++,prefix:u||"",delimiter:w,optional:x,repeat:y,partial:b,asterisk:!!f,pattern:S?ma(S):f?".*":"[^"+ua(w)+"]+?"})}}return a<n.length&&(o+=n.substr(a)),o&&r.push(o),r}function pa(n){return encodeURI(n).replace(/[\/?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}))}function da(n,e){for(var t=new Array(n.length),r=0;r<n.length;r++)"object"==typeof n[r]&&(t[r]=new RegExp("^(?:"+n[r].pattern+")$",ha(e)));return function(e,r){for(var i="",a=e||{},o=(r||{}).pretty?pa:encodeURIComponent,s=0;s<n.length;s++){var l=n[s];if("string"!=typeof l){var c,p=a[l.name];if(null==p){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(ta(p)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<p.length;d++){if(c=o(p[d]),!t[s].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");i+=(0===d?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(p).replace(/[?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})):o(p),!t[s].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');i+=l.prefix+c}}else i+=l}return i}}function ua(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function ma(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function ga(n,e){return n.keys=e,n}function ha(n){return n&&n.sensitive?"":"i"}function va(n,e,t){ta(e)||(t=e||t,e=[]);for(var r=(t=t||{}).strict,i=!1!==t.end,a="",o=0;o<n.length;o++){var s=n[o];if("string"==typeof s)a+=ua(s);else{var l=ua(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+l+c+")*"),a+=c=s.optional?s.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var p=ua(t.delimiter||"/"),d=a.slice(-p.length)===p;return r||(a=(d?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=i?"$":r&&d?"":"(?="+p+"|$)",ga(new RegExp("^"+a,ha(t)),e)}function fa(n,e,t){return ta(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?function(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return ga(n,e)}(n,e):ta(n)?function(n,e,t){for(var r=[],i=0;i<n.length;i++)r.push(fa(n[i],e,t).source);return ga(new RegExp("(?:"+r.join("|")+")",ha(t)),e)}(n,e,t):function(n,e,t){return va(ca(n,t),e,t)}(n,e,t)}ra.parse=ia,ra.compile=aa,ra.tokensToFunction=oa,ra.tokensToRegExp=sa;var ba=Object.create(null);function ya(n,e,t){e=e||{};try{var r=ba[n]||(ba[n]=ra.compile(n));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(n){return""}finally{delete e[0]}}function xa(n,e,t,r){var i="string"==typeof n?{path:n}:n;if(i._normalized)return i;if(i.name){var a=(i=Ri({},n)).params;return a&&"object"==typeof a&&(i.params=Ri({},a)),i}if(!i.path&&i.params&&e){(i=Ri({},i))._normalized=!0;var o=Ri(Ri({},e.params),i.params);if(e.name)i.name=e.name,i.params=o;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;i.path=ya(s,o,e.path)}else 0;return i}var l=function(n){var e="",t="",r=n.indexOf("#");r>=0&&(e=n.slice(r),n=n.slice(0,r));var i=n.indexOf("?");return i>=0&&(t=n.slice(i+1),n=n.slice(0,i)),{path:n,query:t,hash:e}}(i.path||""),c=e&&e.path||"/",p=l.path?na(l.path,c,t||i.append):c,d=function(n,e,t){void 0===e&&(e={});var r,i=t||Fi;try{r=i(n||"")}catch(n){r={}}for(var a in e){var o=e[a];r[a]=Array.isArray(o)?o.map(Ni):Ni(o)}return r}(l.query,i.query,r&&r.options.parseQuery),u=i.hash||l.hash;return u&&"#"!==u.charAt(0)&&(u="#"+u),{_normalized:!0,path:p,query:d,hash:u}}var wa,Sa=function(){},ka={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(n){var e=this,t=this.$router,r=this.$route,i=t.resolve(this.to,r,this.append),a=i.location,o=i.route,s=i.href,l={},c=t.options.linkActiveClass,p=t.options.linkExactActiveClass,d=null==c?"router-link-active":c,u=null==p?"router-link-exact-active":p,m=null==this.activeClass?d:this.activeClass,g=null==this.exactActiveClass?u:this.exactActiveClass,h=o.redirectedFrom?Ui(null,xa(o.redirectedFrom),null,t):o;l[g]=Gi(r,h,this.exactPath),l[m]=this.exact||this.exactPath?l[g]:function(n,e){return 0===n.path.replace(Vi,"/").indexOf(e.path.replace(Vi,"/"))&&(!e.hash||n.hash===e.hash)&&function(n,e){for(var t in e)if(!(t in n))return!1;return!0}(n.query,e.query)}(r,h);var v=l[g]?this.ariaCurrentValue:null,f=function(n){ja(n)&&(e.replace?t.replace(a,Sa):t.push(a,Sa))},b={click:ja};Array.isArray(this.event)?this.event.forEach((function(n){b[n]=f})):b[this.event]=f;var y={class:l},x=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:s,route:o,navigate:f,isActive:l[m],isExactActive:l[g]});if(x){if(1===x.length)return x[0];if(x.length>1||!x.length)return 0===x.length?n():n("span",{},x)}if("a"===this.tag)y.on=b,y.attrs={href:s,"aria-current":v};else{var w=function n(e){var t;if(e)for(var r=0;r<e.length;r++){if("a"===(t=e[r]).tag)return t;if(t.children&&(t=n(t.children)))return t}}(this.$slots.default);if(w){w.isStatic=!1;var S=w.data=Ri({},w.data);for(var k in S.on=S.on||{},S.on){var j=S.on[k];k in b&&(S.on[k]=Array.isArray(j)?j:[j])}for(var q in b)q in S.on?S.on[q].push(b[q]):S.on[q]=f;var C=w.data.attrs=Ri({},w.data.attrs);C.href=s,C["aria-current"]=v}else y.on=b}return n(this.tag,y,this.$slots.default)}};function ja(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.defaultPrevented||void 0!==n.button&&0!==n.button)){if(n.currentTarget&&n.currentTarget.getAttribute){var e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}var qa="undefined"!=typeof window;function Ca(n,e,t,r,i){var a=e||[],o=t||Object.create(null),s=r||Object.create(null);n.forEach((function(n){!function n(e,t,r,i,a,o){var s=i.path,l=i.name;0;var c=i.pathToRegexpOptions||{},p=function(n,e,t){t||(n=n.replace(/\/$/,""));if("/"===n[0])return n;if(null==e)return n;return ea(e.path+"/"+n)}(s,a,c.strict);"boolean"==typeof i.caseSensitive&&(c.sensitive=i.caseSensitive);var d={path:p,regex:Ia(p,c),components:i.components||{default:i.component},alias:i.alias?"string"==typeof i.alias?[i.alias]:i.alias:[],instances:{},enteredCbs:{},name:l,parent:a,matchAs:o,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};i.children&&i.children.forEach((function(i){var a=o?ea(o+"/"+i.path):void 0;n(e,t,r,i,d,a)}));t[d.path]||(e.push(d.path),t[d.path]=d);if(void 0!==i.alias)for(var u=Array.isArray(i.alias)?i.alias:[i.alias],m=0;m<u.length;++m){0;var g={path:u[m],children:i.children};n(e,t,r,g,a,d.path||"/")}l&&(r[l]||(r[l]=d))}(a,o,s,n,i)}));for(var l=0,c=a.length;l<c;l++)"*"===a[l]&&(a.push(a.splice(l,1)[0]),c--,l--);return{pathList:a,pathMap:o,nameMap:s}}function Ia(n,e){return ra(n,[],e)}function Ma(n,e){var t=Ca(n),r=t.pathList,i=t.pathMap,a=t.nameMap;function o(n,t,o){var s=xa(n,t,!1,e),c=s.name;if(c){var p=a[c];if(!p)return l(null,s);var d=p.regex.keys.filter((function(n){return!n.optional})).map((function(n){return n.name}));if("object"!=typeof s.params&&(s.params={}),t&&"object"==typeof t.params)for(var u in t.params)!(u in s.params)&&d.indexOf(u)>-1&&(s.params[u]=t.params[u]);return s.path=ya(p.path,s.params),l(p,s,o)}if(s.path){s.params={};for(var m=0;m<r.length;m++){var g=r[m],h=i[g];if(Ta(h.regex,s.path,s.params))return l(h,s,o)}}return l(null,s)}function s(n,t){var r=n.redirect,i="function"==typeof r?r(Ui(n,t,null,e)):r;if("string"==typeof i&&(i={path:i}),!i||"object"!=typeof i)return l(null,t);var s=i,c=s.name,p=s.path,d=t.query,u=t.hash,m=t.params;if(d=s.hasOwnProperty("query")?s.query:d,u=s.hasOwnProperty("hash")?s.hash:u,m=s.hasOwnProperty("params")?s.params:m,c){a[c];return o({_normalized:!0,name:c,query:d,hash:u,params:m},void 0,t)}if(p){var g=function(n,e){return na(n,e.parent?e.parent.path:"/",!0)}(p,n);return o({_normalized:!0,path:ya(g,m),query:d,hash:u},void 0,t)}return l(null,t)}function l(n,t,r){return n&&n.redirect?s(n,r||t):n&&n.matchAs?function(n,e,t){var r=o({_normalized:!0,path:ya(t,e.params)});if(r){var i=r.matched,a=i[i.length-1];return e.params=r.params,l(a,e)}return l(null,e)}(0,t,n.matchAs):Ui(n,t,r,e)}return{match:o,addRoute:function(n,e){var t="object"!=typeof n?a[n]:void 0;Ca([e||n],r,i,a,t),t&&t.alias.length&&Ca(t.alias.map((function(n){return{path:n,children:[e]}})),r,i,a,t)},getRoutes:function(){return r.map((function(n){return i[n]}))},addRoutes:function(n){Ca(n,r,i,a)}}}function Ta(n,e,t){var r=e.match(n);if(!r)return!1;if(!t)return!0;for(var i=1,a=r.length;i<a;++i){var o=n.keys[i-1];o&&(t[o.name||"pathMatch"]="string"==typeof r[i]?Oi(r[i]):r[i])}return!0}var _a=qa&&window.performance&&window.performance.now?window.performance:Date;function Ea(){return _a.now().toFixed(3)}var Aa=Ea();function Ba(){return Aa}function Ra(n){return Aa=n}var La=Object.create(null);function za(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(n,""),t=Ri({},window.history.state);return t.key=Ba(),window.history.replaceState(t,"",e),window.addEventListener("popstate",Oa),function(){window.removeEventListener("popstate",Oa)}}function Pa(n,e,t,r){if(n.app){var i=n.options.scrollBehavior;i&&n.app.$nextTick((function(){var a=function(){var n=Ba();if(n)return La[n]}(),o=i.call(n,e,t,r?a:null);o&&("function"==typeof o.then?o.then((function(n){Ua(n,a)})).catch((function(n){0})):Ua(o,a))}))}}function Da(){var n=Ba();n&&(La[n]={x:window.pageXOffset,y:window.pageYOffset})}function Oa(n){Da(),n.state&&n.state.key&&Ra(n.state.key)}function Na(n){return Ha(n.x)||Ha(n.y)}function Fa(n){return{x:Ha(n.x)?n.x:window.pageXOffset,y:Ha(n.y)?n.y:window.pageYOffset}}function Ha(n){return"number"==typeof n}var Va=/^#\d/;function Ua(n,e){var t,r="object"==typeof n;if(r&&"string"==typeof n.selector){var i=Va.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(i){var a=n.offset&&"object"==typeof n.offset?n.offset:{};e=function(n,e){var t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{x:r.left-t.left-e.x,y:r.top-t.top-e.y}}(i,a={x:Ha((t=a).x)?t.x:0,y:Ha(t.y)?t.y:0})}else Na(n)&&(e=Fa(n))}else r&&Na(n)&&(e=Fa(n));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:n.behavior}):window.scrollTo(e.x,e.y))}var $a,Qa=qa&&((-1===($a=window.navigator.userAgent).indexOf("Android 2.")&&-1===$a.indexOf("Android 4.0")||-1===$a.indexOf("Mobile Safari")||-1!==$a.indexOf("Chrome")||-1!==$a.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function Wa(n,e){Da();var t=window.history;try{if(e){var r=Ri({},t.state);r.key=Ba(),t.replaceState(r,"",n)}else t.pushState({key:Ra(Ea())},"",n)}catch(t){window.location[e?"replace":"assign"](n)}}function Ja(n){Wa(n,!0)}function Ga(n,e,t){var r=function(i){i>=n.length?t():n[i]?e(n[i],(function(){r(i+1)})):r(i+1)};r(0)}var Ka={redirected:2,aborted:4,cancelled:8,duplicated:16};function Ya(n,e){return Za(n,e,Ka.redirected,'Redirected when going from "'+n.fullPath+'" to "'+function(n){if("string"==typeof n)return n;if("path"in n)return n.path;var e={};return no.forEach((function(t){t in n&&(e[t]=n[t])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function Xa(n,e){return Za(n,e,Ka.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function Za(n,e,t,r){var i=new Error(r);return i._isRouter=!0,i.from=n,i.to=e,i.type=t,i}var no=["params","query","hash"];function eo(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function to(n,e){return eo(n)&&n._isRouter&&(null==e||n.type===e)}function ro(n){return function(e,t,r){var i=!1,a=0,o=null;io(n,(function(n,e,t,s){if("function"==typeof n&&void 0===n.cid){i=!0,a++;var l,c=so((function(e){var i;((i=e).__esModule||oo&&"Module"===i[Symbol.toStringTag])&&(e=e.default),n.resolved="function"==typeof e?e:wa.extend(e),t.components[s]=e,--a<=0&&r()})),p=so((function(n){var e="Failed to resolve async component "+s+": "+n;o||(o=eo(n)?n:new Error(e),r(o))}));try{l=n(c,p)}catch(n){p(n)}if(l)if("function"==typeof l.then)l.then(c,p);else{var d=l.component;d&&"function"==typeof d.then&&d.then(c,p)}}})),i||r()}}function io(n,e){return ao(n.map((function(n){return Object.keys(n.components).map((function(t){return e(n.components[t],n.instances[t],n,t)}))})))}function ao(n){return Array.prototype.concat.apply([],n)}var oo="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function so(n){var e=!1;return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(!e)return e=!0,n.apply(this,t)}}var lo=function(n,e){this.router=n,this.base=function(n){if(!n)if(qa){var e=document.querySelector("base");n=(n=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else n="/";"/"!==n.charAt(0)&&(n="/"+n);return n.replace(/\/$/,"")}(e),this.current=Qi,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function co(n,e,t,r){var i=io(n,(function(n,r,i,a){var o=function(n,e){"function"!=typeof n&&(n=wa.extend(n));return n.options[e]}(n,e);if(o)return Array.isArray(o)?o.map((function(n){return t(n,r,i,a)})):t(o,r,i,a)}));return ao(r?i.reverse():i)}function po(n,e){if(e)return function(){return n.apply(e,arguments)}}lo.prototype.listen=function(n){this.cb=n},lo.prototype.onReady=function(n,e){this.ready?n():(this.readyCbs.push(n),e&&this.readyErrorCbs.push(e))},lo.prototype.onError=function(n){this.errorCbs.push(n)},lo.prototype.transitionTo=function(n,e,t){var r,i=this;try{r=this.router.match(n,this.current)}catch(n){throw this.errorCbs.forEach((function(e){e(n)})),n}var a=this.current;this.confirmTransition(r,(function(){i.updateRoute(r),e&&e(r),i.ensureURL(),i.router.afterHooks.forEach((function(n){n&&n(r,a)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(n){n(r)})))}),(function(n){t&&t(n),n&&!i.ready&&(to(n,Ka.redirected)&&a===Qi||(i.ready=!0,i.readyErrorCbs.forEach((function(e){e(n)}))))}))},lo.prototype.confirmTransition=function(n,e,t){var r=this,i=this.current;this.pending=n;var a,o,s=function(n){!to(n)&&eo(n)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(n)})):console.error(n)),t&&t(n)},l=n.matched.length-1,c=i.matched.length-1;if(Gi(n,i)&&l===c&&n.matched[l]===i.matched[c])return this.ensureURL(),n.hash&&Pa(this.router,i,n,!1),s(((o=Za(a=i,n,Ka.duplicated,'Avoided redundant navigation to current location: "'+a.fullPath+'".')).name="NavigationDuplicated",o));var p=function(n,e){var t,r=Math.max(n.length,e.length);for(t=0;t<r&&n[t]===e[t];t++);return{updated:e.slice(0,t),activated:e.slice(t),deactivated:n.slice(t)}}(this.current.matched,n.matched),d=p.updated,u=p.deactivated,m=p.activated,g=[].concat(function(n){return co(n,"beforeRouteLeave",po,!0)}(u),this.router.beforeHooks,function(n){return co(n,"beforeRouteUpdate",po)}(d),m.map((function(n){return n.beforeEnter})),ro(m)),h=function(e,t){if(r.pending!==n)return s(Xa(i,n));try{e(n,i,(function(e){!1===e?(r.ensureURL(!0),s(function(n,e){return Za(n,e,Ka.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(i,n))):eo(e)?(r.ensureURL(!0),s(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(s(Ya(i,n)),"object"==typeof e&&e.replace?r.replace(e):r.push(e)):t(e)}))}catch(n){s(n)}};Ga(g,h,(function(){Ga(function(n){return co(n,"beforeRouteEnter",(function(n,e,t,r){return function(n,e,t){return function(r,i,a){return n(r,i,(function(n){"function"==typeof n&&(e.enteredCbs[t]||(e.enteredCbs[t]=[]),e.enteredCbs[t].push(n)),a(n)}))}}(n,t,r)}))}(m).concat(r.router.resolveHooks),h,(function(){if(r.pending!==n)return s(Xa(i,n));r.pending=null,e(n),r.router.app&&r.router.app.$nextTick((function(){Yi(n)}))}))}))},lo.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},lo.prototype.setupListeners=function(){},lo.prototype.teardown=function(){this.listeners.forEach((function(n){n()})),this.listeners=[],this.current=Qi,this.pending=null};var uo=function(n){function e(e,t){n.call(this,e,t),this._startLocation=mo(this.base)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router,t=e.options.scrollBehavior,r=Qa&&t;r&&this.listeners.push(za());var i=function(){var t=n.current,i=mo(n.base);n.current===Qi&&i===n._startLocation||n.transitionTo(i,(function(n){r&&Pa(e,n,t,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},e.prototype.go=function(n){window.history.go(n)},e.prototype.push=function(n,e,t){var r=this,i=this.current;this.transitionTo(n,(function(n){Wa(ea(r.base+n.fullPath)),Pa(r.router,n,i,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,i=this.current;this.transitionTo(n,(function(n){Ja(ea(r.base+n.fullPath)),Pa(r.router,n,i,!1),e&&e(n)}),t)},e.prototype.ensureURL=function(n){if(mo(this.base)!==this.current.fullPath){var e=ea(this.base+this.current.fullPath);n?Wa(e):Ja(e)}},e.prototype.getCurrentLocation=function(){return mo(this.base)},e}(lo);function mo(n){var e=window.location.pathname,t=e.toLowerCase(),r=n.toLowerCase();return!n||t!==r&&0!==t.indexOf(ea(r+"/"))||(e=e.slice(n.length)),(e||"/")+window.location.search+window.location.hash}var go=function(n){function e(e,t,r){n.call(this,e,t),r&&function(n){var e=mo(n);if(!/^\/#/.test(e))return window.location.replace(ea(n+"/#"+e)),!0}(this.base)||ho()}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,t=Qa&&e;t&&this.listeners.push(za());var r=function(){var e=n.current;ho()&&n.transitionTo(vo(),(function(r){t&&Pa(n.router,r,e,!0),Qa||yo(r.fullPath)}))},i=Qa?"popstate":"hashchange";window.addEventListener(i,r),this.listeners.push((function(){window.removeEventListener(i,r)}))}},e.prototype.push=function(n,e,t){var r=this,i=this.current;this.transitionTo(n,(function(n){bo(n.fullPath),Pa(r.router,n,i,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,i=this.current;this.transitionTo(n,(function(n){yo(n.fullPath),Pa(r.router,n,i,!1),e&&e(n)}),t)},e.prototype.go=function(n){window.history.go(n)},e.prototype.ensureURL=function(n){var e=this.current.fullPath;vo()!==e&&(n?bo(e):yo(e))},e.prototype.getCurrentLocation=function(){return vo()},e}(lo);function ho(){var n=vo();return"/"===n.charAt(0)||(yo("/"+n),!1)}function vo(){var n=window.location.href,e=n.indexOf("#");return e<0?"":n=n.slice(e+1)}function fo(n){var e=window.location.href,t=e.indexOf("#");return(t>=0?e.slice(0,t):e)+"#"+n}function bo(n){Qa?Wa(fo(n)):window.location.hash=n}function yo(n){Qa?Ja(fo(n)):window.location.replace(fo(n))}var xo=function(n){function e(e,t){n.call(this,e,t),this.stack=[],this.index=-1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.push=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index+1).concat(n),r.index++,e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index).concat(n),e&&e(n)}),t)},e.prototype.go=function(n){var e=this,t=this.index+n;if(!(t<0||t>=this.stack.length)){var r=this.stack[t];this.confirmTransition(r,(function(){var n=e.current;e.index=t,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,n)}))}),(function(n){to(n,Ka.duplicated)&&(e.index=t)}))}},e.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},e.prototype.ensureURL=function(){},e}(lo),wo=function(n){void 0===n&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Ma(n.routes||[],this);var e=n.mode||"hash";switch(this.fallback="history"===e&&!Qa&&!1!==n.fallback,this.fallback&&(e="hash"),qa||(e="abstract"),this.mode=e,e){case"history":this.history=new uo(this,n.base);break;case"hash":this.history=new go(this,n.base,this.fallback);break;case"abstract":this.history=new xo(this,n.base);break;default:0}},So={currentRoute:{configurable:!0}};function ko(n,e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}wo.prototype.match=function(n,e,t){return this.matcher.match(n,e,t)},So.currentRoute.get=function(){return this.history&&this.history.current},wo.prototype.init=function(n){var e=this;if(this.apps.push(n),n.$once("hook:destroyed",(function(){var t=e.apps.indexOf(n);t>-1&&e.apps.splice(t,1),e.app===n&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=n;var t=this.history;if(t instanceof uo||t instanceof go){var r=function(n){t.setupListeners(),function(n){var r=t.current,i=e.options.scrollBehavior;Qa&&i&&"fullPath"in n&&Pa(e,n,r,!1)}(n)};t.transitionTo(t.getCurrentLocation(),r,r)}t.listen((function(n){e.apps.forEach((function(e){e._route=n}))}))}},wo.prototype.beforeEach=function(n){return ko(this.beforeHooks,n)},wo.prototype.beforeResolve=function(n){return ko(this.resolveHooks,n)},wo.prototype.afterEach=function(n){return ko(this.afterHooks,n)},wo.prototype.onReady=function(n,e){this.history.onReady(n,e)},wo.prototype.onError=function(n){this.history.onError(n)},wo.prototype.push=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.push(n,e,t)}));this.history.push(n,e,t)},wo.prototype.replace=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.replace(n,e,t)}));this.history.replace(n,e,t)},wo.prototype.go=function(n){this.history.go(n)},wo.prototype.back=function(){this.go(-1)},wo.prototype.forward=function(){this.go(1)},wo.prototype.getMatchedComponents=function(n){var e=n?n.matched?n:this.resolve(n).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(n){return Object.keys(n.components).map((function(e){return n.components[e]}))}))):[]},wo.prototype.resolve=function(n,e,t){var r=xa(n,e=e||this.history.current,t,this),i=this.match(r,e),a=i.redirectedFrom||i.fullPath;return{location:r,route:i,href:function(n,e,t){var r="hash"===t?"#"+e:e;return n?ea(n+"/"+r):r}(this.history.base,a,this.mode),normalizedTo:r,resolved:i}},wo.prototype.getRoutes=function(){return this.matcher.getRoutes()},wo.prototype.addRoute=function(n,e){this.matcher.addRoute(n,e),this.history.current!==Qi&&this.history.transitionTo(this.history.getCurrentLocation())},wo.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==Qi&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(wo.prototype,So),wo.install=function n(e){if(!n.installed||wa!==e){n.installed=!0,wa=e;var t=function(n){return void 0!==n},r=function(n,e){var r=n.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(n,e)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",Xi),e.component("RouterLink",ka);var i=e.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}},wo.version="3.5.3",wo.isNavigationFailure=to,wo.NavigationFailureType=Ka,wo.START_LOCATION=Qi,qa&&window.Vue&&window.Vue.use(wo);var jo=wo;t(231),t(179),t(264),t(104),t(266),t(36),t(37),t(267);function qo(n){n.locales&&Object.keys(n.locales).forEach((function(e){n.locales[e].path=e})),Object.freeze(n)}t(81),t(94),t(125);function Co(n){return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var Io=t(76),Mo=(t(191),t(19),t(44),t(234),t(235),t(40),t(26),{NotFound:function(){return Promise.all([t.e(0),t.e(4)]).then(t.bind(null,493))},Layout:function(){return Promise.all([t.e(0),t.e(2)]).then(t.bind(null,492))}}),To={"v-3715a618":function(){return t.e(5).then(t.bind(null,494))},"v-29e10a05":function(){return t.e(6).then(t.bind(null,495))},"v-205aca74":function(){return t.e(7).then(t.bind(null,496))},"v-75b91878":function(){return t.e(8).then(t.bind(null,497))},"v-725e1618":function(){return t.e(10).then(t.bind(null,498))},"v-ed8e3722":function(){return t.e(9).then(t.bind(null,499))},"v-1101483a":function(){return t.e(11).then(t.bind(null,500))},"v-2506c33c":function(){return t.e(12).then(t.bind(null,501))},"v-2631d8fe":function(){return t.e(13).then(t.bind(null,502))},"v-dd4c7ede":function(){return t.e(14).then(t.bind(null,503))},"v-05ff58a7":function(){return t.e(15).then(t.bind(null,504))},"v-65e0a7f2":function(){return t.e(16).then(t.bind(null,505))},"v-2a9abdfa":function(){return t.e(17).then(t.bind(null,506))},"v-8720726a":function(){return t.e(18).then(t.bind(null,507))},"v-4a9ffcac":function(){return t.e(19).then(t.bind(null,508))},"v-1ba1ada2":function(){return t.e(20).then(t.bind(null,509))},"v-286c81e9":function(){return t.e(21).then(t.bind(null,510))},"v-daab1818":function(){return t.e(22).then(t.bind(null,511))},"v-0f37f9f0":function(){return t.e(23).then(t.bind(null,512))},"v-5198e7be":function(){return t.e(24).then(t.bind(null,513))},"v-b0aca0e0":function(){return t.e(25).then(t.bind(null,514))},"v-a6493882":function(){return t.e(26).then(t.bind(null,515))},"v-852ab148":function(){return t.e(28).then(t.bind(null,516))},"v-a0fc14c8":function(){return t.e(27).then(t.bind(null,517))},"v-b70bddee":function(){return t.e(30).then(t.bind(null,518))},"v-62753aac":function(){return t.e(29).then(t.bind(null,519))},"v-1dace089":function(){return t.e(31).then(t.bind(null,520))},"v-53e6eb32":function(){return t.e(32).then(t.bind(null,521))},"v-23d15f89":function(){return t.e(33).then(t.bind(null,522))},"v-3968b695":function(){return t.e(34).then(t.bind(null,523))},"v-70eda528":function(){return t.e(36).then(t.bind(null,524))},"v-5fd81377":function(){return t.e(35).then(t.bind(null,525))},"v-df9543e4":function(){return t.e(39).then(t.bind(null,526))},"v-0b01fcc0":function(){return t.e(38).then(t.bind(null,527))},"v-78cb83ac":function(){return t.e(40).then(t.bind(null,528))},"v-55ea32ac":function(){return t.e(37).then(t.bind(null,529))},"v-3fd3c7b5":function(){return t.e(41).then(t.bind(null,530))},"v-2f47d23e":function(){return t.e(42).then(t.bind(null,531))},"v-4cee0db7":function(){return t.e(43).then(t.bind(null,532))},"v-78a4b30e":function(){return t.e(44).then(t.bind(null,533))},"v-7af8ffe3":function(){return t.e(45).then(t.bind(null,534))},"v-2451e369":function(){return t.e(46).then(t.bind(null,535))},"v-57d76a9a":function(){return t.e(47).then(t.bind(null,536))},"v-c70045c2":function(){return t.e(48).then(t.bind(null,537))}};function _o(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var Eo=/-(\w)/g,Ao=_o((function(n){return n.replace(Eo,(function(n,e){return e?e.toUpperCase():""}))})),Bo=/\B([A-Z])/g,Ro=_o((function(n){return n.replace(Bo,"-$1").toLowerCase()})),Lo=_o((function(n){return n.charAt(0).toUpperCase()+n.slice(1)}));function zo(n,e){if(e)return n(e)?n(e):e.includes("-")?n(Lo(Ao(e))):n(Lo(e))||n(Ro(e))}var Po=Object.assign({},Mo,To),Do=function(n){return Po[n]},Oo=function(n){return To[n]},No=function(n){return Mo[n]},Fo=function(n){return Bi.component(n)};function Ho(n){return zo(Oo,n)}function Vo(n){return zo(No,n)}function Uo(n){return zo(Do,n)}function $o(n){return zo(Fo,n)}function Qo(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Promise.all(e.filter((function(n){return n})).map(function(){var n=Object(r.a)(regeneratorRuntime.mark((function n(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if($o(e)||!Uo(e)){n.next=5;break}return n.next=3,Uo(e)();case 3:t=n.sent,Bi.component(e,t.default);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()))}function Wo(n,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[n]=e)}var Jo=t(136),Go=(t(124),t(111),t(78),t(222)),Ko=t.n(Go),Yo=t(223),Xo=t.n(Yo),Zo={created:function(){if(this.siteMeta=this.$site.headTags.filter((function(n){return"meta"===Object(Jo.a)(n,1)[0]})).map((function(n){var e=Object(Jo.a)(n,2);e[0];return e[1]})),this.$ssrContext){var n=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(e=n)?e.map((function(n){var e="<meta";return Object.keys(n).forEach((function(t){e+=" ".concat(t,'="').concat(Xo()(n[t]),'"')})),e+">"})).join("\n    "):"",this.$ssrContext.canonicalLink=es(this.$canonicalUrl)}var e},mounted:function(){this.currentMetaTags=Object(Io.a)(document.querySelectorAll("meta")),this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta:function(){document.title=this.$title,document.documentElement.lang=this.$lang;var n=this.getMergedMetaTags();this.currentMetaTags=ts(n,this.currentMetaTags)},getMergedMetaTags:function(){var n=this.$page.frontmatter.meta||[];return Ko()([{name:"description",content:this.$description}],n,this.siteMeta,rs)},updateCanonicalLink:function(){ns(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",es(this.$canonicalUrl))}},watch:{$page:function(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy:function(){ts(null,this.currentMetaTags),ns()}};function ns(){var n=document.querySelector("link[rel='canonical']");n&&n.remove()}function es(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n?'<link href="'.concat(n,'" rel="canonical" />'):""}function ts(n,e){if(e&&Object(Io.a)(e).filter((function(n){return n.parentNode===document.head})).forEach((function(n){return document.head.removeChild(n)})),n)return n.map((function(n){var e=document.createElement("meta");return Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),document.head.appendChild(e),e}))}function rs(n){for(var e=0,t=["name","property","itemprop"];e<t.length;e++){var r=t[e];if(n.hasOwnProperty(r))return n[r]+r}return JSON.stringify(n)}t(138);var is=t(152),as={mounted:function(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(is)()((function(){this.setActiveHash()}),300),setActiveHash:function(){for(var n=this,e=[].slice.call(document.querySelectorAll(".sidebar-link")),t=[].slice.call(document.querySelectorAll(".header-anchor")).filter((function(n){return e.some((function(e){return e.hash===n.hash}))})),r=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),i=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),a=window.innerHeight+r,o=0;o<t.length;o++){var s=t[o],l=t[o+1],c=0===o&&0===r||r>=s.parentElement.offsetTop+10&&(!l||r<l.parentElement.offsetTop-10),p=decodeURIComponent(this.$route.hash);if(c&&p!==decodeURIComponent(s.hash)){var d=s;if(a===i)for(var u=o+1;u<t.length;u++)if(p===decodeURIComponent(t[u].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(d.hash),(function(){n.$nextTick((function(){n.$vuepress.$set("disableScrollBehavior",!1)}))}))}}}},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)}},os=(t(107),t(102)),ss=t.n(os),ls={mounted:function(){var n=this;ss.a.configure({showSpinner:!1}),this.$router.beforeEach((function(n,e,t){n.path===e.path||Bi.component(n.name)||ss.a.start(),t()})),this.$router.afterEach((function(){ss.a.done(),n.isSidebarOpen=!1}))}};t(79),t(55),t(82),t(381);function cs(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}t(142);function ps(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ds(n,e,t){return e&&ps(n.prototype,e),t&&ps(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}t(382);var us=function(){function n(){cs(this,n);this.containerEl=document.getElementById("message-container"),this.containerEl||(this.containerEl=document.createElement("div"),this.containerEl.id="message-container",document.body.appendChild(this.containerEl))}return ds(n,[{key:"show",value:function(n){var e=this,t=n.text,r=void 0===t?"":t,i=n.duration,a=void 0===i?3e3:i,o=document.createElement("div");o.className="message move-in",o.innerHTML='\n      <i style="fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;">\n        <svg style="fill: #06a35a;font-size: 14px;" t="1572421810237" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2323" width="16" height="16"><path d="M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z" p-id="2324"></path></svg>\n      </i>\n      <div class="text">'.concat(r,"</div>\n    "),this.containerEl.appendChild(o),a>0&&setTimeout((function(){e.close(o)}),a)}},{key:"close",value:function(n){n.className=n.className.replace("move-in",""),n.className+="move-out",n.addEventListener("animationend",(function(){n.remove()}))}}]),n}(),ms={mounted:function(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated:function(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy:function(){var n=this;setTimeout((function(){(['div[class*="language-"] pre','div[class*="aside-code"] aside']instanceof Array||Array.isArray(['div[class*="language-"] pre','div[class*="aside-code"] aside']))&&['div[class*="language-"] pre','div[class*="aside-code"] aside'].forEach((function(e){document.querySelectorAll(e).forEach(n.generateCopyButton)}))}),1e3)},generateCopyButton:function(n){var e=this;if(!n.classList.contains("codecopy-enabled")){var t=document.createElement("i");t.className="code-copy",t.innerHTML='<svg  style="color:#aaa;font-size:14px" t="1572422231464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3201" width="14" height="14"><path d="M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z" p-id="3202"></path></svg>',t.title="Copy to clipboard",t.addEventListener("click",(function(){e.copyToClipboard(n.innerText)})),n.appendChild(t),n.classList.add("codecopy-enabled")}},copyToClipboard:function(n){var e=document.createElement("textarea");e.value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);var t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy"),(new us).show({text:"å¤å¶æå",duration:1e3}),document.body.removeChild(e),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}}};t(237),t(103),t(137),t(139),t(384);!function(n,e){void 0===e&&(e={});var t=e.insertAt;if(n&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===t&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}("@media (max-width: 1000px) {\n  .vuepress-plugin-demo-block__h_code {\n    display: none;\n  }\n  .vuepress-plugin-demo-block__app {\n    margin-left: auto !important;\n    margin-right: auto !important;\n  }\n}\n.vuepress-plugin-demo-block__wrapper {\n  margin-top: 10px;\n  border: 1px solid #ebebeb;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display {\n  height: 400px;\n  display: flex;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__app {\n  width: 300px;\n  border: 1px solid #ebebeb;\n  box-shadow: 1px 1px 3px #ebebeb;\n  margin-right: 5px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code {\n  flex: 1;\n  overflow: auto;\n  height: 100%;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code > pre {\n  overflow: visible;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  max-height: 400px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper div {\n  box-sizing: border-box;\n}\n.vuepress-plugin-demo-block__wrapper:hover {\n  box-shadow: 0 0 11px rgba(33, 33, 33, 0.2);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code {\n  overflow: hidden;\n  height: 0;\n  padding: 0 !important;\n  background-color: #282c34;\n  border-radius: 0 !important;\n  transition: height 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code pre {\n  margin: 0 !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  padding: 20px;\n  border-bottom: 1px solid #ebebeb;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer {\n  position: relative;\n  text-align: center;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__codepen {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__expand::before {\n  border-top: none;\n  border-right: 6px solid transparent;\n  border-bottom: 6px solid #ccc;\n  border-left: 6px solid transparent;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__codepen,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand span,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand::before {\n  border-top-color: #3eaf7c !important;\n  border-bottom-color: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover svg {\n  fill: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand-text {\n  transition: all 0.5s;\n  opacity: 0;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:nth-last-child(2) {\n  right: 50px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:last-child {\n  right: 10px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button {\n  border-color: transparent;\n  background-color: transparent;\n  font-size: 14px;\n  color: #3eaf7c;\n  cursor: pointer;\n  outline: none;\n  margin: 0;\n  width: 46px;\n  position: relative;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::before {\n  content: attr(data-tip);\n  white-space: nowrap;\n  position: absolute;\n  top: -30px;\n  left: 50%;\n  color: #eee;\n  line-height: 1;\n  z-index: 1000;\n  border-radius: 4px;\n  padding: 6px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::after {\n  content: '' !important;\n  display: block;\n  position: absolute;\n  left: 50%;\n  top: -5px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  border: 5px solid transparent;\n  border-top-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button svg {\n  width: 34px;\n  height: 20px;\n  fill: #ccc;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__codepen {\n  position: absolute;\n  top: 10px;\n  transition: all 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand {\n  position: relative;\n  width: 100px;\n  height: 40px;\n  margin: 0;\n  color: #3eaf7c;\n  font-size: 14px;\n  background-color: transparent;\n  border-color: transparent;\n  outline: none;\n  transition: all 0.5s;\n  cursor: pointer;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-top: 6px solid #ccc;\n  border-right: 6px solid transparent;\n  border-left: 6px solid transparent;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n");var gs={jsLib:[],cssLib:[],jsfiddle:!0,codepen:!0,codepenLayout:"left",codepenJsProcessor:"babel",codepenEditors:"101",horizontal:!1,vue:"https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js",react:"https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js",reactDOM:"https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"},hs={},vs=function(n){return'<div id="app">\n'.concat(n,"\n</div>")},fs=function(n){return window.$VUEPRESS_DEMO_BLOCK&&void 0!==window.$VUEPRESS_DEMO_BLOCK[n]?window.$VUEPRESS_DEMO_BLOCK[n]:gs[n]},bs=function n(e,t,r){var i=document.createElement(e);return t&&Object.keys(t).forEach((function(n){if(n.indexOf("data"))i[n]=t[n];else{var e=n.replace("data","");i.dataset[e]=t[n]}})),r&&r.forEach((function(e){var t=e.tag,r=e.attrs,a=e.children;i.appendChild(n(t,r,a))})),i},ys=function(n,e,t){var r,i=(r=n.querySelectorAll(".".concat(e)),Array.prototype.slice.call(r));return 1!==i.length||t?i:i[0]},xs=function(n,e){var t,r,i=n.match(/<style>([\s\S]+)<\/style>/),a=n.match(/<template>([\s\S]+)<\/template>/),o=n.match(/<script>([\s\S]+)<\/script>/),s={css:i&&i[1].replace(/^\n|\n$/g,""),html:a&&a[1].replace(/^\n|\n$/g,""),js:o&&o[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};s.htmlTpl=vs(s.html),s.jsTpl=(t=s.js,r=t.replace(/export\s+default\s*?\{\n*/,"").replace(/\n*\}\s*$/,"").trim(),"new Vue({\n  el: '#app',\n  ".concat(r,"\n})")),s.script=function(n,e){var t=n.split(/export\s+default/),r="(function() {".concat(t[0]," ; return ").concat(t[1],"})()"),i=window.Babel?window.Babel.transform(r,{presets:["es2015"]}).code:r,a=[eval][0](i);return a.template=e,a}(s.js,s.html);var l=fs("vue");return s.jsLib.unshift(l),s},ws=function(n,e){var t,r=n.match(/<style>([\s\S]+)<\/style>/),i=n.match(/<html>([\s\S]+)<\/html>/),a=n.match(/<script>([\s\S]+)<\/script>/),o={css:r&&r[1].replace(/^\n|\n$/g,""),html:i&&i[1].replace(/^\n|\n$/g,""),js:a&&a[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};return o.htmlTpl=o.html,o.jsTpl=o.js,o.script=(t=o.js,window.Babel?window.Babel.transform(t,{presets:["es2015"]}).code:t),o},Ss=function(n){return n=n.replace("export default ","").replace(/App\.__style__(\s*)=(\s*)`([\s\S]*)?`/,""),n+='ReactDOM.render(React.createElement(App), document.getElementById("app"))'};function ks(){var n=ys(document,"vuepress-plugin-demo-block__wrapper",!0);n.length?n.forEach((function(n){if("true"!==n.dataset.created){n.style.display="block";var e=ys(n,"vuepress-plugin-demo-block__code"),t=ys(n,"vuepress-plugin-demo-block__display"),r=ys(n,"vuepress-plugin-demo-block__footer"),i=ys(t,"vuepress-plugin-demo-block__app"),a=decodeURIComponent(n.dataset.code),o=decodeURIComponent(n.dataset.config),s=decodeURIComponent(n.dataset.type);o=o?JSON.parse(o):{};var l=e.querySelector("div").clientHeight,c="react"===s?function(n,e){var t=(0,window.Babel.transform)(n,{presets:["es2015","react"]}).code,r="(function(exports){var module={};module.exports=exports;".concat(t,";return module.exports.__esModule?module.exports.default:module.exports;})({})"),i=new Function("return ".concat(r))(),a={js:i,css:i.__style__||"",jsLib:e.jsLib||[],cssLib:e.cssLib||[],jsTpl:Ss(n),htmlTpl:vs("")},o=fs("react"),s=fs("reactDOM");return a.jsLib.unshift(o,s),a}(a,o):"vanilla"===s?ws(a,o):xs(a,o),p=bs("button",{className:"".concat("vuepress-plugin-demo-block__expand")});if(r.appendChild(p),p.addEventListener("click",js.bind(null,p,l,e,r)),fs("jsfiddle")&&r.appendChild(function(n){var e=n.css,t=n.htmlTpl,r=n.jsTpl,i=n.jsLib,a=n.cssLib,o=i.concat(a).concat(fs("cssLib")).concat(fs("jsLib")).join(",");return bs("form",{className:"vuepress-plugin-demo-block__jsfiddle",target:"_blank",action:"https://jsfiddle.net/api/post/library/pure/",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"css",value:e}},{tag:"input",attrs:{type:"hidden",name:"html",value:t}},{tag:"input",attrs:{type:"hidden",name:"js",value:r}},{tag:"input",attrs:{type:"hidden",name:"panel_js",value:3}},{tag:"input",attrs:{type:"hidden",name:"wrap",value:1}},{tag:"input",attrs:{type:"hidden",name:"resources",value:o}},{tag:"button",attrs:{type:"submit",className:"vuepress-plugin-demo-block__button",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088289967" class="icon" style="" viewBox="0 0 1170 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1952" xmlns:xlink="http://www.w3.org/1999/xlink" width="228.515625" height="200"><defs><style type="text/css"></style></defs><path d="M1028.571429 441.142857q63.428571 26.285714 102.571428 83.142857T1170.285714 650.857143q0 93.714286-67.428571 160.285714T940 877.714286q-2.285714 0-6.571429-0.285715t-6-0.285714H232q-97.142857-5.714286-164.571429-71.714286T0 645.142857q0-62.857143 31.428571-116t84-84q-6.857143-22.285714-6.857142-46.857143 0-65.714286 46.857142-112t113.714286-46.285714q54.285714 0 98.285714 33.142857 42.857143-88 127.142858-141.714286t186.571428-53.714285q94.857143 0 174.857143 46T982.571429 248.571429t46.571428 172q0 3.428571-0.285714 10.285714t-0.285714 10.285714zM267.428571 593.142857q0 69.714286 48 110.285714t118.857143 40.571429q78.285714 0 137.142857-56.571429-9.142857-11.428571-27.142857-32.285714T519.428571 626.285714q-38.285714 37.142857-82.285714 37.142857-31.428571 0-53.428571-19.142857T361.714286 594.285714q0-30.285714 22-49.714285t52.285714-19.428572q25.142857 0 48.285714 12t41.714286 31.428572 37.142857 42.857142 39.428572 46.857143 44 42.857143 55.428571 31.428572 69.428571 12q69.142857 0 116.857143-40.857143T936 594.857143q0-69.142857-48-109.714286t-118.285714-40.571428q-81.714286 0-137.714286 55.428571l53.142857 61.714286q37.714286-36.571429 81.142857-36.571429 29.714286 0 52.571429 18.857143t22.857143 48q0 32.571429-21.142857 52.285714t-53.714286 19.714286q-24.571429 0-47.142857-12t-41.142857-31.428571-37.428572-42.857143-39.714286-46.857143-44.285714-42.857143-55.142857-31.428571T434.285714 444.571429q-69.714286 0-118.285714 40.285714T267.428571 593.142857z" p-id="1953"></path></svg>',datatip:"JSFiddle"}}])}(c)),fs("codepen")&&r.appendChild(function(n){var e=n.css,t=n.htmlTpl,r=n.jsTpl,i=n.jsLib,a=n.cssLib,o=JSON.stringify({css:e,html:t,js:r,js_external:i.concat(fs("jsLib")).join(";"),css_external:a.concat(fs("cssLib")).join(";"),layout:fs("codepenLayout"),js_pre_processor:fs("codepenJsProcessor"),editors:fs("codepenEditors")});return bs("form",{className:"vuepress-plugin-demo-block__codepen",target:"_blank",action:"https://codepen.io/pen/define",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"data",value:o}},{tag:"button",attrs:{type:"submit",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088271207" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1737" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M123.428571 668l344.571429 229.714286v-205.142857L277.142857 565.142857z m-35.428571-82.285714l110.285714-73.714286-110.285714-73.714286v147.428572z m468 312l344.571429-229.714286-153.714286-102.857143-190.857143 127.428572v205.142857z m-44-281.714286l155.428571-104-155.428571-104-155.428571 104zM277.142857 458.857143l190.857143-127.428572V126.285714L123.428571 356z m548.571429 53.142857l110.285714 73.714286V438.285714z m-78.857143-53.142857l153.714286-102.857143-344.571429-229.714286v205.142857z m277.142857-102.857143v312q0 23.428571-19.428571 36.571429l-468 312q-12 7.428571-24.571429 7.428571t-24.571429-7.428571L19.428571 704.571429q-19.428571-13.142857-19.428571-36.571429V356q0-23.428571 19.428571-36.571429L487.428571 7.428571q12-7.428571 24.571429-7.428571t24.571429 7.428571l468 312q19.428571 13.142857 19.428571 36.571429z" p-id="1738"></path></svg>',className:"vuepress-plugin-demo-block__button",datatip:"Codepen"}}])}(c)),void 0!==o.horizontal?o.horizontal:fs("horizontal")){n.classList.add("vuepress-plugin-demo-block__horizontal");var d=e.firstChild.cloneNode(!0);d.classList.add("vuepress-plugin-demo-block__h_code"),t.appendChild(d)}if(c.css&&function(n){if(!hs[n]){var e=bs("style",{innerHTML:n});document.body.appendChild(e),hs[n]=!0}}(c.css),"react"===s)ReactDOM.render(React.createElement(c.js),i);else if("vue"===s){var u=(new(Vue.extend(c.script))).$mount();i.appendChild(u.$el)}else"vanilla"===s&&(i.innerHTML=c.html,new Function("return (function(){".concat(c.script,"})()"))());n.dataset.created="true"}})):setTimeout((function(n){ks()}),300)}function js(n,e,t,r){var i="1"!==n.dataset.isExpand;t.style.height=i?"".concat(e,"px"):0,i?r.classList.add("vuepress-plugin-demo-block__show-link"):r.classList.remove("vuepress-plugin-demo-block__show-link"),n.dataset.isExpand=i?"1":"0"}var qs={mounted:function(){window.$VUEPRESS_DEMO_BLOCK={jsfiddle:!1,codepen:!0,horizontal:!1},ks()},updated:function(){ks()}},Cs=(t(226),"auto"),Is="zoom-in",Ms="zoom-out",Ts="grab",_s="move";function Es(n,e,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={passive:!1};r?n.addEventListener(e,t,i):n.removeEventListener(e,t,i)}function As(n,e){if(n){var t=new Image;t.onload=function(){e&&e(t)},t.src=n}}function Bs(n){return n.dataset.original?n.dataset.original:"A"===n.parentNode.tagName?n.parentNode.getAttribute("href"):null}function Rs(n,e,t){!function(n){var e=Ls,t=zs;if(n.transition){var r=n.transition;delete n.transition,n[e]=r}if(n.transform){var i=n.transform;delete n.transform,n[t]=i}}(e);var r=n.style,i={};for(var a in e)t&&(i[a]=r[a]||""),r[a]=e[a];return i}var Ls="transition",zs="transform",Ps="transform",Ds="transitionend";var Os=function(){},Ns={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:Os,onClose:Os,onGrab:Os,onMove:Os,onRelease:Os,onBeforeOpen:Os,onBeforeClose:Os,onBeforeGrab:Os,onBeforeRelease:Os,onImageLoading:Os,onImageLoaded:Os},Fs={init:function(n){var e,t;e=this,t=n,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){e[n]=e[n].bind(t)}))},click:function(n){if(n.preventDefault(),Vs(n))return window.open(this.target.srcOriginal||n.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(n.currentTarget)},scroll:function(){var n=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||n.scrollLeft,t=window.pageYOffset||n.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:t});var r=this.lastScrollPosition.x-e,i=this.lastScrollPosition.y-t,a=this.options.scrollThreshold;(Math.abs(i)>=a||Math.abs(r)>=a)&&(this.lastScrollPosition=null,this.close())},keydown:function(n){(function(n){return"Escape"===(n.key||n.code)||27===n.keyCode})(n)&&(this.released?this.close():this.release(this.close))},mousedown:function(n){if(Hs(n)&&!Vs(n)){n.preventDefault();var e=n.clientX,t=n.clientY;this.pressTimer=setTimeout(function(){this.grab(e,t)}.bind(this),200)}},mousemove:function(n){this.released||this.move(n.clientX,n.clientY)},mouseup:function(n){Hs(n)&&!Vs(n)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(n){n.preventDefault();var e=n.touches[0],t=e.clientX,r=e.clientY;this.pressTimer=setTimeout(function(){this.grab(t,r)}.bind(this),200)},touchmove:function(n){if(!this.released){var e=n.touches[0],t=e.clientX,r=e.clientY;this.move(t,r)}},touchend:function(n){(function(n){n.targetTouches.length})(n)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function Hs(n){return 0===n.button}function Vs(n){return n.metaKey||n.ctrlKey}var Us={init:function(n){this.el=document.createElement("div"),this.instance=n,this.parent=document.body,Rs(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(n.options),Es(this.el,"click",n.handler.clickOverlay.bind(n))},updateStyle:function(n){Rs(this.el,{zIndex:n.zIndex,backgroundColor:n.bgColor,transition:"opacity\n        "+n.transitionDuration+"s\n        "+n.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},$s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qs=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),Ws=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Js={init:function(n,e){this.el=n,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=Bs(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var n=this.instance.options,e=n.zIndex,t=n.enableGrab,r=n.transitionDuration,i=n.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:t?Ts:Ms,transition:Ps+"\n        "+r+"s\n        "+i,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=Rs(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,Rs(this.el,{transform:"none"})},grab:function(n,e,t){var r=Gs(),i=r.x-n,a=r.y-e;Rs(this.el,{cursor:_s,transform:"translate3d(\n        "+(this.translate.x+i)+"px, "+(this.translate.y+a)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},move:function(n,e,t){var r=Gs(),i=r.x-n,a=r.y-e;Rs(this.el,{transition:Ps,transform:"translate3d(\n        "+(this.translate.x+i)+"px, "+(this.translate.y+a)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},restoreCloseStyle:function(){Rs(this.el,this.styleClose)},restoreOpenStyle:function(){Rs(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var n=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",n.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),n.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var n=Gs(),e=this.rect.left+this.rect.width/2,t=this.rect.top+this.rect.height/2;return{x:n.x-e,y:n.y-t}},calculateScale:function(){var n=this.el.dataset,e=n.zoomingHeight,t=n.zoomingWidth,r=this.instance.options,i=r.customSize,a=r.scaleBase;if(!i&&e&&t)return{x:t/this.rect.width,y:e/this.rect.height};if(i&&"object"===(void 0===i?"undefined":$s(i)))return{x:i.width/this.rect.width,y:i.height/this.rect.height};var o=this.rect.width/2,s=this.rect.height/2,l=Gs(),c={x:l.x-o,y:l.y-s},p=c.x/o,d=c.y/s,u=a+Math.min(p,d);if(i&&"string"==typeof i){var m=t||this.el.naturalWidth,g=e||this.el.naturalHeight,h=parseFloat(i)*m/(100*this.rect.width),v=parseFloat(i)*g/(100*this.rect.height);if(u>h||u>v)return{x:h,y:v}}return{x:u,y:u}}};function Gs(){var n=document.documentElement;return{x:Math.min(n.clientWidth,window.innerWidth)/2,y:Math.min(n.clientHeight,window.innerHeight)/2}}function Ks(n,e,t){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(r){Es(n,r,e[r],t)}))}var Ys=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=Object.create(Js),this.overlay=Object.create(Us),this.handler=Object.create(Fs),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=Ws({},Ns,e),this.overlay.init(this),this.handler.init(this)}return Qs(n,[{key:"listen",value:function(n){if("string"==typeof n)for(var e=document.querySelectorAll(n),t=e.length;t--;)this.listen(e[t]);else"IMG"===n.tagName&&(n.style.cursor=Is,Es(n,"click",this.handler.click),this.options.preloadImage&&As(Bs(n)));return this}},{key:"config",value:function(n){return n?(Ws(this.options,n),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var r="string"==typeof n?document.querySelector(n):n;if("IMG"===r.tagName){if(this.options.onBeforeOpen(r),this.target.init(r,this),!this.options.preloadImage){var i=this.target.srcOriginal;null!=i&&(this.options.onImageLoading(r),As(i,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),Es(document,"scroll",this.handler.scroll),Es(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&Es(window,"resize",this.handler.resizeWindow);var a=function n(){Es(r,Ds,n,!1),e.lock=!1,e.target.upgradeSource(),e.options.enableGrab&&Ks(document,e.handler,!0),t(r)};return Es(r,Ds,a),this}}}},{key:"close",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeClose(t),this.lock=!0,this.body.style.cursor=Cs,this.overlay.fadeOut(),this.target.zoomOut(),Es(document,"scroll",this.handler.scroll,!1),Es(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&Es(window,"resize",this.handler.resizeWindow,!1);var r=function r(){Es(t,Ds,r,!1),n.shown=!1,n.lock=!1,n.target.downgradeSource(),n.options.enableGrab&&Ks(document,n.handler,!1),n.target.restoreCloseStyle(),n.overlay.remove(),e(t)};return Es(t,Ds,r),this}}},{key:"grab",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var i=this.target.el;this.options.onBeforeGrab(i),this.released=!1,this.target.grab(n,e,t);var a=function n(){Es(i,Ds,n,!1),r(i)};return Es(i,Ds,a),this}}},{key:"move",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=_s,this.target.move(n,e,t);var i=this.target.el,a=function n(){Es(i,Ds,n,!1),r(i)};return Es(i,Ds,a),this}}},{key:"release",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeRelease(t),this.lock=!0,this.body.style.cursor=Cs,this.target.restoreOpenStyle();var r=function r(){Es(t,Ds,r,!1),n.lock=!1,n.released=!0,e(t)};return Es(t,Ds,r),this}}}]),n}(),Xs=".theme-vdoing-content img:not(.no-zoom)",Zs=JSON.parse('{"bgColor":"rgba(0,0,0,0.6)"}'),nl=Number("500"),el=function(){function n(){cs(this,n),this.instance=new Ys(Zs)}return ds(n,[{key:"update",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xs;"undefined"!=typeof window&&this.instance.listen(n)}},{key:"updateDelay",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xs,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nl;setTimeout((function(){return n.update(e)}),t)}}]),n}(),tl=[Zo,as,ls,ms,qs,{watch:{"$page.path":function(){void 0!==this.$vuepress.zooming&&this.$vuepress.zooming.updateDelay()}},mounted:function(){this.$vuepress.zooming=new el,this.$vuepress.zooming.updateDelay()}}],rl={name:"GlobalLayout",computed:{layout:function(){var n=this.getLayout();return Wo("layout",n),Bi.component(n)}},methods:{getLayout:function(){if(this.$page.path){var n=this.$page.frontmatter.layout;return n&&(this.$vuepress.getLayoutAsyncComponent(n)||this.$vuepress.getVueComponent(n))?n:"Layout"}return"NotFound"}}},il=t(30),al=Object(il.a)(rl,(function(){var n=this.$createElement;return(this._self._c||n)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(n,e,t){var r;switch(e){case"components":n[e]||(n[e]={}),Object.assign(n[e],t);break;case"mixins":n[e]||(n[e]=[]),(r=n[e]).push.apply(r,Object(Io.a)(t));break;default:throw new Error("Unknown option name.")}}(al,"mixins",tl);var ol=[{name:"v-3715a618",path:"/computerbasics/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-3715a618").then(t)}},{path:"/computerbasics/index.html",redirect:"/computerbasics/"},{path:"/00.ç®å½é¡µ/01.è®¡ç®æºåºç¡.html",redirect:"/computerbasics/"},{name:"v-29e10a05",path:"/tools/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-29e10a05").then(t)}},{path:"/tools/index.html",redirect:"/tools/"},{path:"/00.ç®å½é¡µ/02.å¼åå·¥å·.html",redirect:"/tools/"},{name:"v-205aca74",path:"/java/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-205aca74").then(t)}},{path:"/java/index.html",redirect:"/java/"},{path:"/00.ç®å½é¡µ/04.Java.html",redirect:"/java/"},{name:"v-75b91878",path:"/javaweb/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-75b91878").then(t)}},{path:"/javaweb/index.html",redirect:"/javaweb/"},{path:"/00.ç®å½é¡µ/05.JavaWeb.html",redirect:"/javaweb/"},{name:"v-725e1618",path:"/framework/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-725e1618").then(t)}},{path:"/framework/index.html",redirect:"/framework/"},{path:"/00.ç®å½é¡µ/07.æ¡æ¶.html",redirect:"/framework/"},{name:"v-ed8e3722",path:"/database/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-ed8e3722").then(t)}},{path:"/database/index.html",redirect:"/database/"},{path:"/00.ç®å½é¡µ/06.æ°æ®åº.html",redirect:"/database/"},{name:"v-1101483a",path:"/datastructrue/001/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-1101483a").then(t)}},{path:"/datastructrue/001/index.html",redirect:"/datastructrue/001/"},{path:"/01.è®¡ç®æºåºç¡/01.æ°æ®ç»æ/01.çº¢é»æ .html",redirect:"/datastructrue/001/"},{name:"v-2506c33c",path:"/computerinternet/001/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-2506c33c").then(t)}},{path:"/computerinternet/001/index.html",redirect:"/computerinternet/001/"},{path:"/01.è®¡ç®æºåºç¡/02.è®¡ç®æºç½ç»/01.å¸¸è§ç¶æç .html",redirect:"/computerinternet/001/"},{name:"v-2631d8fe",path:"/operatingsystem/001/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-2631d8fe").then(t)}},{path:"/operatingsystem/001/index.html",redirect:"/operatingsystem/001/"},{path:"/01.è®¡ç®æºåºç¡/03.æä½ç³»ç»/01.å¸¸è§é®é¢æ»ç».html",redirect:"/operatingsystem/001/"},{name:"v-dd4c7ede",path:"/markdown/001/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-dd4c7ede").then(t)}},{path:"/markdown/001/index.html",redirect:"/markdown/001/"},{path:"/02.å¼åå·¥å·/01.Markdown/01.Markdownä½¿ç¨æç¨.html",redirect:"/markdown/001/"},{name:"v-05ff58a7",path:"/git/001/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-05ff58a7").then(t)}},{path:"/git/001/index.html",redirect:"/git/001/"},{path:"/02.å¼åå·¥å·/02.Git/01.Gitä½¿ç¨æå.html",redirect:"/git/001/"},{name:"v-65e0a7f2",path:"/leetcode/001/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-65e0a7f2").then(t)}},{path:"/leetcode/001/index.html",redirect:"/leetcode/001/"},{path:"/03.ç®æ³/01.LeetCode.html",redirect:"/leetcode/001/"},{name:"v-2a9abdfa",path:"/basis/001/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-2a9abdfa").then(t)}},{path:"/basis/001/index.html",redirect:"/basis/001/"},{path:"/04.Java/01.åºç¡/01.IO.html",redirect:"/basis/001/"},{name:"v-8720726a",path:"/high/001/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-8720726a").then(t)}},{path:"/high/001/index.html",redirect:"/high/001/"},{path:"/04.Java/02.é«çº§/01.åå°.html",redirect:"/high/001/"},{name:"v-4a9ffcac",path:"/web/001/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-4a9ffcac").then(t)}},{path:"/web/001/index.html",redirect:"/web/001/"},{path:"/05.JavaWeb/01.åºç¡/01.Webåºç¡æ¦å¿µ.html",redirect:"/web/001/"},{name:"v-1ba1ada2",path:"/mysql/001/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-1ba1ada2").then(t)}},{path:"/mysql/001/index.html",redirect:"/mysql/001/"},{path:"/06.æ°æ®åº/01.MySQL/01.æ¦è¿°.html",redirect:"/mysql/001/"},{name:"v-286c81e9",path:"/spring/001/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-286c81e9").then(t)}},{path:"/spring/001/index.html",redirect:"/spring/001/"},{path:"/07.æ¡æ¶/01.Spring/01.æ¦è¿°.html",redirect:"/spring/001/"},{name:"v-daab1818",path:"/springmvc/001/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-daab1818").then(t)}},{path:"/springmvc/001/index.html",redirect:"/springmvc/001/"},{path:"/07.æ¡æ¶/02.SpringMVC/01.SpringMVCç®ä».html",redirect:"/springmvc/001/"},{name:"v-0f37f9f0",path:"/springmvc/002/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-0f37f9f0").then(t)}},{path:"/springmvc/002/index.html",redirect:"/springmvc/002/"},{path:"/07.æ¡æ¶/02.SpringMVC/02.HelloWorld.html",redirect:"/springmvc/002/"},{name:"v-5198e7be",path:"/springmvc/003/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-5198e7be").then(t)}},{path:"/springmvc/003/index.html",redirect:"/springmvc/003/"},{path:"/07.æ¡æ¶/02.SpringMVC/03.RequestMappingæ³¨è§£.html",redirect:"/springmvc/003/"},{name:"v-b0aca0e0",path:"/springmvc/004/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-b0aca0e0").then(t)}},{path:"/springmvc/004/index.html",redirect:"/springmvc/004/"},{path:"/07.æ¡æ¶/02.SpringMVC/04.SpringMVCè·åè¯·æ±åæ°.html",redirect:"/springmvc/004/"},{name:"v-a6493882",path:"/springmvc/005/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-a6493882").then(t)}},{path:"/springmvc/005/index.html",redirect:"/springmvc/005/"},{path:"/07.æ¡æ¶/02.SpringMVC/05.åå¯¹è±¡å±äº«æ°æ®.html",redirect:"/springmvc/005/"},{name:"v-852ab148",path:"/springmvc/007/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-852ab148").then(t)}},{path:"/springmvc/007/index.html",redirect:"/springmvc/007/"},{path:"/07.æ¡æ¶/02.SpringMVC/07.RESTful.html",redirect:"/springmvc/007/"},{name:"v-a0fc14c8",path:"/springmvc/006/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-a0fc14c8").then(t)}},{path:"/springmvc/006/index.html",redirect:"/springmvc/006/"},{path:"/07.æ¡æ¶/02.SpringMVC/06.SpringMVCçè§å¾.html",redirect:"/springmvc/006/"},{name:"v-b70bddee",path:"/springmvc/009/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-b70bddee").then(t)}},{path:"/springmvc/009/index.html",redirect:"/springmvc/009/"},{path:"/07.æ¡æ¶/02.SpringMVC/09.æä»¶ä¸ä¼ åä¸è½½.html",redirect:"/springmvc/009/"},{name:"v-62753aac",path:"/springmvc/008/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-62753aac").then(t)}},{path:"/springmvc/008/index.html",redirect:"/springmvc/008/"},{path:"/07.æ¡æ¶/02.SpringMVC/08.RESTfulæ¡ä¾.html",redirect:"/springmvc/008/"},{name:"v-1dace089",path:"/springmvc/010/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-1dace089").then(t)}},{path:"/springmvc/010/index.html",redirect:"/springmvc/010/"},{path:"/07.æ¡æ¶/02.SpringMVC/10.æ¦æªå¨.html",redirect:"/springmvc/010/"},{name:"v-53e6eb32",path:"/springmvc/011/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-53e6eb32").then(t)}},{path:"/springmvc/011/index.html",redirect:"/springmvc/011/"},{path:"/07.æ¡æ¶/02.SpringMVC/11.å¼å¸¸å¤çå¨.html",redirect:"/springmvc/011/"},{name:"v-23d15f89",path:"/springmvc/012/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-23d15f89").then(t)}},{path:"/springmvc/012/index.html",redirect:"/springmvc/012/"},{path:"/07.æ¡æ¶/02.SpringMVC/12.æ³¨è§£éç½®SpringMVC.html",redirect:"/springmvc/012/"},{name:"v-3968b695",path:"/springmvc/013/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-3968b695").then(t)}},{path:"/springmvc/013/index.html",redirect:"/springmvc/013/"},{path:"/07.æ¡æ¶/02.SpringMVC/13.SpringMVCæ§è¡æµç¨.html",redirect:"/springmvc/013/"},{name:"v-70eda528",path:"/springboot/002/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-70eda528").then(t)}},{path:"/springboot/002/index.html",redirect:"/springboot/002/"},{path:"/07.æ¡æ¶/03.SpringBoot/02.è¿ç»´.html",redirect:"/springboot/002/"},{name:"v-5fd81377",path:"/springboot/001/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-5fd81377").then(t)}},{path:"/springboot/001/index.html",redirect:"/springboot/001/"},{path:"/07.æ¡æ¶/03.SpringBoot/01.å¿«éå¥é¨.html",redirect:"/springboot/001/"},{name:"v-df9543e4",path:"/mybatis/001/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-df9543e4").then(t)}},{path:"/mybatis/001/index.html",redirect:"/mybatis/001/"},{path:"/07.æ¡æ¶/04.MyBatis/01.ç®ä»åéç½®.html",redirect:"/mybatis/001/"},{name:"v-0b01fcc0",path:"/springboot/004/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-0b01fcc0").then(t)}},{path:"/springboot/004/index.html",redirect:"/springboot/004/"},{path:"/07.æ¡æ¶/03.SpringBoot/04.åç.html",redirect:"/springboot/004/"},{name:"v-78cb83ac",path:"/mybatis/002/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-78cb83ac").then(t)}},{path:"/mybatis/002/index.html",redirect:"/mybatis/002/"},{path:"/07.æ¡æ¶/04.MyBatis/02.æ ¸å¿éç½®æä»¶è¯¦è§£.html",redirect:"/mybatis/002/"},{name:"v-55ea32ac",path:"/springboot/003/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-55ea32ac").then(t)}},{path:"/springboot/003/index.html",redirect:"/springboot/003/"},{path:"/07.æ¡æ¶/03.SpringBoot/03.å¼åå®ç¨ç¯.html",redirect:"/springboot/003/"},{name:"v-3fd3c7b5",path:"/mybatis/003/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-3fd3c7b5").then(t)}},{path:"/mybatis/003/index.html",redirect:"/mybatis/003/"},{path:"/07.æ¡æ¶/04.MyBatis/03.MyBatisçåç§æ¥è¯¢åè½.html",redirect:"/mybatis/003/"},{name:"v-2f47d23e",path:"/mybatis/004/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-2f47d23e").then(t)}},{path:"/mybatis/004/index.html",redirect:"/mybatis/004/"},{path:"/07.æ¡æ¶/04.MyBatis/04.èªå®ä¹æ å°resultMap.html",redirect:"/mybatis/004/"},{name:"v-4cee0db7",path:"/mybatis/005/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-4cee0db7").then(t)}},{path:"/mybatis/005/index.html",redirect:"/mybatis/005/"},{path:"/07.æ¡æ¶/04.MyBatis/05.å¨æSQL.html",redirect:"/mybatis/005/"},{name:"v-78a4b30e",path:"/mybatis/006/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-78a4b30e").then(t)}},{path:"/mybatis/006/index.html",redirect:"/mybatis/006/"},{path:"/07.æ¡æ¶/04.MyBatis/06.MyBatisçç¼å­.html",redirect:"/mybatis/006/"},{name:"v-7af8ffe3",path:"/mybatis/007/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-7af8ffe3").then(t)}},{path:"/mybatis/007/index.html",redirect:"/mybatis/007/"},{path:"/07.æ¡æ¶/04.MyBatis/07.MyBatisçéåå·¥ç¨.html",redirect:"/mybatis/007/"},{name:"v-2451e369",path:"/mybatis/008/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-2451e369").then(t)}},{path:"/mybatis/008/index.html",redirect:"/mybatis/008/"},{path:"/07.æ¡æ¶/04.MyBatis/08.åé¡µæä»¶.html",redirect:"/mybatis/008/"},{name:"v-57d76a9a",path:"/mybatis-plus/001/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-57d76a9a").then(t)}},{path:"/mybatis-plus/001/index.html",redirect:"/mybatis-plus/001/"},{path:"/07.æ¡æ¶/05.MyBatis-Plus/01.ç®ä».html",redirect:"/mybatis-plus/001/"},{name:"v-c70045c2",path:"/",component:al,beforeEnter:function(n,e,t){Qo("Layout","v-c70045c2").then(t)}},{path:"/index.html",redirect:"/"},{path:"*",component:al}],sl={title:"Coding Ayoung",description:"",base:"/",headTags:[],pages:[{title:"è®¡ç®æºåºç¡",frontmatter:{pageComponent:{name:"Catalogue",data:{key:"01.è®¡ç®æºåºç¡",imgUrl:"/img/more.png"}},title:"è®¡ç®æºåºç¡",date:"2020-03-11T21:50:53.000Z",permalink:"/computerbasics/",sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80.html",relativePath:"00.ç®å½é¡µ/01.è®¡ç®æºåºç¡.md",key:"v-3715a618",path:"/computerbasics/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"å¼åå·¥å·",frontmatter:{pageComponent:{name:"Catalogue",data:{key:"02.å¼åå·¥å·",imgUrl:"/img/more.png"}},title:"å¼åå·¥å·",date:"2020-03-11T21:50:54.000Z",permalink:"/tools/",sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/02.%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7.html",relativePath:"00.ç®å½é¡µ/02.å¼åå·¥å·.md",key:"v-29e10a05",path:"/tools/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"æ´å¤",frontmatter:{pageComponent:{name:"Catalogue",data:{key:"04.Java",imgUrl:"/img/more.png"}},title:"æ´å¤",date:"2020-03-11T21:50:56.000Z",permalink:"/java/",sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/04.Java.html",relativePath:"00.ç®å½é¡µ/04.Java.md",key:"v-205aca74",path:"/java/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"ææ¯",frontmatter:{pageComponent:{name:"Catalogue",data:{key:"05.JavaWeb",imgUrl:"/img/more.png"}},title:"ææ¯",date:"2020-03-11T21:50:55.000Z",permalink:"/javaweb/",sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/05.JavaWeb.html",relativePath:"00.ç®å½é¡µ/05.JavaWeb.md",key:"v-75b91878",path:"/javaweb/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"æ¡æ¶",frontmatter:{pageComponent:{name:"Catalogue",data:{key:"07.æ¡æ¶",imgUrl:"/img/more.png"}},title:"æ¡æ¶",date:"2020-03-11T21:50:56.000Z",permalink:"/framework/",sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/07.%E6%A1%86%E6%9E%B6.html",relativePath:"00.ç®å½é¡µ/07.æ¡æ¶.md",key:"v-725e1618",path:"/framework/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"æ´å¤",frontmatter:{pageComponent:{name:"Catalogue",data:{key:"06.æ°æ®åº",imgUrl:"/img/more.png"}},title:"æ´å¤",date:"2020-03-11T21:50:56.000Z",permalink:"/database/",sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/06.%E6%95%B0%E6%8D%AE%E5%BA%93.html",relativePath:"00.ç®å½é¡µ/06.æ°æ®åº.md",key:"v-ed8e3722",path:"/database/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"çº¢é»æ ",frontmatter:{title:"çº¢é»æ ",date:"2017-06-23T00:00:00.000Z",permalink:"/datastructrue/001/",categories:["è®¡ç®æºåºç¡","æ°æ®ç»æ"],tags:["æ°æ®ç»æ","è®¡ç®æºåºç¡"],author:null},regularPath:"/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/01.%E7%BA%A2%E9%BB%91%E6%A0%91.html",relativePath:"01.è®¡ç®æºåºç¡/01.æ°æ®ç»æ/01.çº¢é»æ .md",key:"v-1101483a",path:"/datastructrue/001/",headers:[{level:2,title:"Reference",slug:"reference",normalizedTitle:"reference",charIndex:336}],headersStr:"Reference",content:"# çº¢é»æ \n\nçº¢é»æ ç¹ç¹ :\n\n 1. æ¯ä¸ªèç¹éçº¢å³é»ï¼\n 2. æ ¹èç¹æ»æ¯é»è²çï¼\n 3. æ¯ä¸ªå¶å­èç¹é½æ¯é»è²çç©ºèç¹ï¼NILèç¹ï¼ï¼\n 4. å¦æèç¹æ¯çº¢è²çï¼åå®çå­èç¹å¿é¡»æ¯é»è²çï¼åä¹ä¸ä¸å®ï¼ï¼\n 5. ä»æ ¹èç¹å°å¶èç¹æç©ºå­èç¹çæ¯æ¡è·¯å¾ï¼å¿é¡»åå«ç¸åæ°ç®çé»è²èç¹ï¼å³ç¸åçé»è²é«åº¦ï¼ã\n\nçº¢é»æ çåºç¨ ï¼TreeMapãTreeSetä»¥åJDK1.8çHashMapåºå±é½ç¨å°äºçº¢é»æ ã\n\nä¸ºä»ä¹è¦ç¨çº¢é»æ ï¼ ç®åæ¥è¯´çº¢é»æ å°±æ¯ä¸ºäºè§£å³äºåæ¥æ¾æ çç¼ºé·ï¼å ä¸ºäºåæ¥æ¾æ å¨æäºæåµä¸ä¼éåæä¸ä¸ªçº¿æ§ç»æãè¯¦ç»äºè§£å¯ä»¥æ¥ç æ¼«ç»ï¼ä»ä¹æ¯çº¢é»æ ï¼ï¼ä¹ä»ç»å°äºäºåæ¥æ¾æ ï¼éå¸¸æ¨èï¼\n\nç¸å³éè¯» ï¼ãçº¢é»æ æ·±å¥åæåJavaå®ç°ãï¼ç¾å¢ç¹è¯ææ¯å¢éï¼\n\n\n# Reference\n\n * https://javaguide.cn/",normalizedContent:"# çº¢é»æ \n\nçº¢é»æ ç¹ç¹ :\n\n 1. æ¯ä¸ªèç¹éçº¢å³é»ï¼\n 2. æ ¹èç¹æ»æ¯é»è²çï¼\n 3. æ¯ä¸ªå¶å­èç¹é½æ¯é»è²çç©ºèç¹ï¼nilèç¹ï¼ï¼\n 4. å¦æèç¹æ¯çº¢è²çï¼åå®çå­èç¹å¿é¡»æ¯é»è²çï¼åä¹ä¸ä¸å®ï¼ï¼\n 5. ä»æ ¹èç¹å°å¶èç¹æç©ºå­èç¹çæ¯æ¡è·¯å¾ï¼å¿é¡»åå«ç¸åæ°ç®çé»è²èç¹ï¼å³ç¸åçé»è²é«åº¦ï¼ã\n\nçº¢é»æ çåºç¨ ï¼treemapãtreesetä»¥åjdk1.8çhashmapåºå±é½ç¨å°äºçº¢é»æ ã\n\nä¸ºä»ä¹è¦ç¨çº¢é»æ ï¼ ç®åæ¥è¯´çº¢é»æ å°±æ¯ä¸ºäºè§£å³äºåæ¥æ¾æ çç¼ºé·ï¼å ä¸ºäºåæ¥æ¾æ å¨æäºæåµä¸ä¼éåæä¸ä¸ªçº¿æ§ç»æãè¯¦ç»äºè§£å¯ä»¥æ¥ç æ¼«ç»ï¼ä»ä¹æ¯çº¢é»æ ï¼ï¼ä¹ä»ç»å°äºäºåæ¥æ¾æ ï¼éå¸¸æ¨èï¼\n\nç¸å³éè¯» ï¼ãçº¢é»æ æ·±å¥åæåjavaå®ç°ãï¼ç¾å¢ç¹è¯ææ¯å¢éï¼\n\n\n# reference\n\n * https://javaguide.cn/",charsets:{cjk:!0}},{title:"å¸¸è§ç¶æç ",frontmatter:{title:"å¸¸è§ç¶æç ",date:"2017-05-01T00:00:00.000Z",permalink:"/computerinternet/001/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:["è®¡ç®æºç½ç»","è®¡ç®æºåºç¡"],author:null},regularPath:"/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/01.%E5%B8%B8%E8%A7%81%E7%8A%B6%E6%80%81%E7%A0%81.html",relativePath:"01.è®¡ç®æºåºç¡/02.è®¡ç®æºç½ç»/01.å¸¸è§ç¶æç .md",key:"v-2506c33c",path:"/computerinternet/001/",headers:[{level:3,title:"1xx Informationalï¼ä¿¡æ¯æ§ç¶æç ï¼",slug:"_1xx-informational-ä¿¡æ¯æ§ç¶æç ",normalizedTitle:"1xx informationalï¼ä¿¡æ¯æ§ç¶æç ï¼",charIndex:48},{level:3,title:"2xx Successï¼æåç¶æç ï¼",slug:"_2xx-success-æåç¶æç ",normalizedTitle:"2xx successï¼æåç¶æç ï¼",charIndex:118},{level:3,title:"3xx Redirectionï¼éå®åç¶æç ï¼",slug:"_3xx-redirection-éå®åç¶æç ",normalizedTitle:"3xx redirectionï¼éå®åç¶æç ï¼",charIndex:1390},{level:3,title:"4xx Client Errorï¼å®¢æ·ç«¯éè¯¯ç¶æç ï¼",slug:"_4xx-client-error-å®¢æ·ç«¯éè¯¯ç¶æç ",normalizedTitle:"4xx client errorï¼å®¢æ·ç«¯éè¯¯ç¶æç ï¼",charIndex:1519},{level:3,title:"5xx Server Errorï¼æå¡ç«¯éè¯¯ç¶æç ï¼",slug:"_5xx-server-error-æå¡ç«¯éè¯¯ç¶æç ",normalizedTitle:"5xx server errorï¼æå¡ç«¯éè¯¯ç¶æç ï¼",charIndex:1801},{level:2,title:"Reference",slug:"reference",normalizedTitle:"reference",charIndex:1976}],headersStr:"1xx Informationalï¼ä¿¡æ¯æ§ç¶æç ï¼ 2xx Successï¼æåç¶æç ï¼ 3xx Redirectionï¼éå®åç¶æç ï¼ 4xx Client Errorï¼å®¢æ·ç«¯éè¯¯ç¶æç ï¼ 5xx Server Errorï¼æå¡ç«¯éè¯¯ç¶æç ï¼ Reference",content:"HTTP ç¶æç ç¨äºæè¿° HTTP è¯·æ±çç»æï¼æ¯å¦2xx å°±ä»£è¡¨è¯·æ±è¢«æåå¤çã\n\n\n\n\n# 1xx Informationalï¼ä¿¡æ¯æ§ç¶æç ï¼\n\nç¸æ¯äºå¶ä»ç±»å«ç¶æç æ¥è¯´ï¼1xx ä½ å¹³æ¶ä½ å¤§æ¦çä¸ä¼ç¢°å°ï¼æä»¥è¿éç´æ¥è·³è¿ã\n\n\n# 2xx Successï¼æåç¶æç ï¼\n\n * 200 OK ï¼è¯·æ±è¢«æåå¤çãæ¯å¦æä»¬åéä¸ä¸ªæ¥è¯¢ç¨æ·æ°æ®çHTTP è¯·æ±å°æå¡ç«¯ï¼æå¡ç«¯æ­£ç¡®è¿åäºç¨æ·æ°æ®ãè¿ä¸ªæ¯æä»¬å¹³æ¶æå¸¸è§çä¸ä¸ª HTTP ç¶æç ã\n * 201 Created ï¼è¯·æ±è¢«æåå¤çå¹¶ä¸å¨æå¡ç«¯åå»ºäºä¸ä¸ªæ°çèµæºãæ¯å¦æä»¬éè¿ POST è¯·æ±åå»ºä¸ä¸ªæ°çç¨æ·ã\n * 202 Accepted ï¼æå¡ç«¯å·²ç»æ¥æ¶å°äºè¯·æ±ï¼ä½æ¯è¿æªå¤çã\n * 204 No Content ï¼ æå¡ç«¯å·²ç»æåå¤çäºè¯·æ±ï¼ä½æ¯æ²¡æè¿åä»»ä½åå®¹ã\n\nè¿éæ ¼å¤æä¸ä¸ 204 ç¶æç ï¼å¹³æ¶å­¦ä¹ /å·¥ä½ä¸­è§å°çæ¬¡æ°å¹¶ä¸å¤ã\n\nHTTP RFC 2616å¯¹204ç¶æç çæè¿°å¦ä¸ï¼\n\n> The server has fulfilled the request but does not need to return an entity-body, and might want to return updated metainformation. The response MAY include new or updated metainformation in the form of entity-headers, which if present SHOULD be associated with the requested variant.\n> \n> If the client is a user agent, it SHOULD NOT change its document view from that which caused the request to be sent. This response is primarily intended to allow input for actions to take place without causing a change to the user agent's active document view, although any new or updated metainformation SHOULD be applied to the document currently in the user agent's active view.\n> \n> The 204 response MUST NOT include a message-body, and thus is always terminated by the first empty line after the header fields.\n\nç®åæ¥è¯´ï¼204ç¶æç æè¿°çæ¯æä»¬åæå¡ç«¯åé HTTP è¯·æ±ä¹åï¼åªå³æ³¨å¤çç»ææ¯å¦æåçåºæ¯ãä¹å°±æ¯è¯´æä»¬éè¦çå°±æ¯ä¸ä¸ªç»æï¼true/falseã\n\nä¸¾ä¸ªä¾å­ï¼ä½ è¦è¿½ä¸ä¸ªå¥³å­©å­ï¼ä½ é®å¥³å­©å­ï¼âæè½è¿½ä½ åï¼âï¼å¥³å­©å­åç­ï¼âå¥½ï¼âãæä»¬æè¿ä¸ªå¥³å­©å­å½åæ¯æå¡ç«¯å°±å¾å¥½çè§£ 204 ç¶æç äºã\n\n\n# 3xx Redirectionï¼éå®åç¶æç ï¼\n\n * 301 Moved Permanently ï¼ èµæºè¢«æ°¸ä¹éå®åäºãæ¯å¦ä½ çç½ç«çç½åæ´æ¢äºã\n * 302 Found ï¼èµæºè¢«ä¸´æ¶éå®åäºãæ¯å¦ä½ çç½ç«çæäºèµæºè¢«ææ¶è½¬ç§»å°å¦å¤ä¸ä¸ªç½åã\n\n\n# 4xx Client Errorï¼å®¢æ·ç«¯éè¯¯ç¶æç ï¼\n\n * 400 Bad Request ï¼ åéçHTTPè¯·æ±å­å¨é®é¢ãæ¯å¦è¯·æ±åæ°ä¸åæ³ãè¯·æ±æ¹æ³éè¯¯ã\n * 401 Unauthorized ï¼ æªè®¤è¯å´è¯·æ±éè¦è®¤è¯ä¹åæè½è®¿é®çèµæºã\n * 403 Forbidden ï¼ç´æ¥æç»HTTPè¯·æ±ï¼ä¸å¤çãä¸è¬ç¨æ¥éå¯¹éæ³è¯·æ±ã\n * 404 Not Found ï¼ ä½ è¯·æ±çèµæºæªå¨æå¡ç«¯æ¾å°ãæ¯å¦ä½ è¯·æ±æä¸ªç¨æ·çä¿¡æ¯ï¼æå¡ç«¯å¹¶æ²¡ææ¾å°æå®çç¨æ·ã\n * 409 Conflict ï¼ è¡¨ç¤ºè¯·æ±çèµæºä¸æå¡ç«¯å½åçå­ç¶æå¨å²çªï¼è¯·æ±æ æ³è¢«å¤çã\n\n\n# 5xx Server Errorï¼æå¡ç«¯éè¯¯ç¶æç ï¼\n\n * 500 Internal Server Error ï¼ æå¡ç«¯åºé®é¢äºï¼éå¸¸æ¯æå¡ç«¯åºBugäºï¼ãæ¯å¦ä½ æå¡ç«¯å¤çè¯·æ±çæ¶åçªç¶æåºå¼å¸¸ï¼ä½æ¯å¼å¸¸å¹¶ä¸ºå¨æå¡ç«¯è¢«æ­£ç¡®å¤çã\n * 502 Bad Gateway ï¼æä»¬çç½å³å°è¯·æ±è½¬åå°æå¡ç«¯ï¼ä½æ¯æå¡ç«¯è¿åçå´æ¯ä¸ä¸ªéè¯¯çååºã\n\n\n# Reference\n\n * https://javaguide.cn/",normalizedContent:"http ç¶æç ç¨äºæè¿° http è¯·æ±çç»æï¼æ¯å¦2xx å°±ä»£è¡¨è¯·æ±è¢«æåå¤çã\n\n\n\n\n# 1xx informationalï¼ä¿¡æ¯æ§ç¶æç ï¼\n\nç¸æ¯äºå¶ä»ç±»å«ç¶æç æ¥è¯´ï¼1xx ä½ å¹³æ¶ä½ å¤§æ¦çä¸ä¼ç¢°å°ï¼æä»¥è¿éç´æ¥è·³è¿ã\n\n\n# 2xx successï¼æåç¶æç ï¼\n\n * 200 ok ï¼è¯·æ±è¢«æåå¤çãæ¯å¦æä»¬åéä¸ä¸ªæ¥è¯¢ç¨æ·æ°æ®çhttp è¯·æ±å°æå¡ç«¯ï¼æå¡ç«¯æ­£ç¡®è¿åäºç¨æ·æ°æ®ãè¿ä¸ªæ¯æä»¬å¹³æ¶æå¸¸è§çä¸ä¸ª http ç¶æç ã\n * 201 created ï¼è¯·æ±è¢«æåå¤çå¹¶ä¸å¨æå¡ç«¯åå»ºäºä¸ä¸ªæ°çèµæºãæ¯å¦æä»¬éè¿ post è¯·æ±åå»ºä¸ä¸ªæ°çç¨æ·ã\n * 202 accepted ï¼æå¡ç«¯å·²ç»æ¥æ¶å°äºè¯·æ±ï¼ä½æ¯è¿æªå¤çã\n * 204 no content ï¼ æå¡ç«¯å·²ç»æåå¤çäºè¯·æ±ï¼ä½æ¯æ²¡æè¿åä»»ä½åå®¹ã\n\nè¿éæ ¼å¤æä¸ä¸ 204 ç¶æç ï¼å¹³æ¶å­¦ä¹ /å·¥ä½ä¸­è§å°çæ¬¡æ°å¹¶ä¸å¤ã\n\nhttp rfc 2616å¯¹204ç¶æç çæè¿°å¦ä¸ï¼\n\n> the server has fulfilled the request but does not need to return an entity-body, and might want to return updated metainformation. the response may include new or updated metainformation in the form of entity-headers, which if present should be associated with the requested variant.\n> \n> if the client is a user agent, it should not change its document view from that which caused the request to be sent. this response is primarily intended to allow input for actions to take place without causing a change to the user agent's active document view, although any new or updated metainformation should be applied to the document currently in the user agent's active view.\n> \n> the 204 response must not include a message-body, and thus is always terminated by the first empty line after the header fields.\n\nç®åæ¥è¯´ï¼204ç¶æç æè¿°çæ¯æä»¬åæå¡ç«¯åé http è¯·æ±ä¹åï¼åªå³æ³¨å¤çç»ææ¯å¦æåçåºæ¯ãä¹å°±æ¯è¯´æä»¬éè¦çå°±æ¯ä¸ä¸ªç»æï¼true/falseã\n\nä¸¾ä¸ªä¾å­ï¼ä½ è¦è¿½ä¸ä¸ªå¥³å­©å­ï¼ä½ é®å¥³å­©å­ï¼âæè½è¿½ä½ åï¼âï¼å¥³å­©å­åç­ï¼âå¥½ï¼âãæä»¬æè¿ä¸ªå¥³å­©å­å½åæ¯æå¡ç«¯å°±å¾å¥½çè§£ 204 ç¶æç äºã\n\n\n# 3xx redirectionï¼éå®åç¶æç ï¼\n\n * 301 moved permanently ï¼ èµæºè¢«æ°¸ä¹éå®åäºãæ¯å¦ä½ çç½ç«çç½åæ´æ¢äºã\n * 302 found ï¼èµæºè¢«ä¸´æ¶éå®åäºãæ¯å¦ä½ çç½ç«çæäºèµæºè¢«ææ¶è½¬ç§»å°å¦å¤ä¸ä¸ªç½åã\n\n\n# 4xx client errorï¼å®¢æ·ç«¯éè¯¯ç¶æç ï¼\n\n * 400 bad request ï¼ åéçhttpè¯·æ±å­å¨é®é¢ãæ¯å¦è¯·æ±åæ°ä¸åæ³ãè¯·æ±æ¹æ³éè¯¯ã\n * 401 unauthorized ï¼ æªè®¤è¯å´è¯·æ±éè¦è®¤è¯ä¹åæè½è®¿é®çèµæºã\n * 403 forbidden ï¼ç´æ¥æç»httpè¯·æ±ï¼ä¸å¤çãä¸è¬ç¨æ¥éå¯¹éæ³è¯·æ±ã\n * 404 not found ï¼ ä½ è¯·æ±çèµæºæªå¨æå¡ç«¯æ¾å°ãæ¯å¦ä½ è¯·æ±æä¸ªç¨æ·çä¿¡æ¯ï¼æå¡ç«¯å¹¶æ²¡ææ¾å°æå®çç¨æ·ã\n * 409 conflict ï¼ è¡¨ç¤ºè¯·æ±çèµæºä¸æå¡ç«¯å½åçå­ç¶æå¨å²çªï¼è¯·æ±æ æ³è¢«å¤çã\n\n\n# 5xx server errorï¼æå¡ç«¯éè¯¯ç¶æç ï¼\n\n * 500 internal server error ï¼ æå¡ç«¯åºé®é¢äºï¼éå¸¸æ¯æå¡ç«¯åºbugäºï¼ãæ¯å¦ä½ æå¡ç«¯å¤çè¯·æ±çæ¶åçªç¶æåºå¼å¸¸ï¼ä½æ¯å¼å¸¸å¹¶ä¸ºå¨æå¡ç«¯è¢«æ­£ç¡®å¤çã\n * 502 bad gateway ï¼æä»¬çç½å³å°è¯·æ±è½¬åå°æå¡ç«¯ï¼ä½æ¯æå¡ç«¯è¿åçå´æ¯ä¸ä¸ªéè¯¯çååºã\n\n\n# reference\n\n * https://javaguide.cn/",charsets:{cjk:!0}},{title:"å¸¸è§é®é¢",frontmatter:{title:"å¸¸è§é®é¢",date:"2018-01-05T00:00:00.000Z",permalink:"/operatingsystem/001/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:["æä½ç³»ç»","è®¡ç®æºåºç¡"],author:null},regularPath:"/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/03.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01.%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93.html",relativePath:"01.è®¡ç®æºåºç¡/03.æä½ç³»ç»/01.å¸¸è§é®é¢æ»ç».md",key:"v-2631d8fe",path:"/operatingsystem/001/",headers:[{level:2,title:"ä¸ æä½ç³»ç»åºç¡",slug:"ä¸-æä½ç³»ç»åºç¡",normalizedTitle:"ä¸ æä½ç³»ç»åºç¡",charIndex:2},{level:3,title:"1.1 ä»ä¹æ¯æä½ç³»ç»ï¼",slug:"_1-1-ä»ä¹æ¯æä½ç³»ç»",normalizedTitle:"1.1 ä»ä¹æ¯æä½ç³»ç»ï¼",charIndex:65},{level:3,title:"1.2 ç³»ç»è°ç¨",slug:"_1-2-ç³»ç»è°ç¨",normalizedTitle:"1.2 ç³»ç»è°ç¨",charIndex:434},{level:2,title:"äº è¿ç¨åçº¿ç¨",slug:"äº-è¿ç¨åçº¿ç¨",normalizedTitle:"äº è¿ç¨åçº¿ç¨",charIndex:996},{level:3,title:"2.1 è¿ç¨åçº¿ç¨çåºå«",slug:"_2-1-è¿ç¨åçº¿ç¨çåºå«",normalizedTitle:"2.1 è¿ç¨åçº¿ç¨çåºå«",charIndex:1008},{level:3,title:"2.2 è¿ç¨æåªå ç§ç¶æ?",slug:"_2-2-è¿ç¨æåªå ç§ç¶æ",normalizedTitle:"2.2 è¿ç¨æåªå ç§ç¶æ?",charIndex:1326},{level:3,title:"2.3 è¿ç¨é´çéä¿¡æ¹å¼",slug:"_2-3-è¿ç¨é´çéä¿¡æ¹å¼",normalizedTitle:"2.3 è¿ç¨é´çéä¿¡æ¹å¼",charIndex:1759},{level:3,title:"2.4 çº¿ç¨é´çåæ­¥çæ¹å¼",slug:"_2-4-çº¿ç¨é´çåæ­¥çæ¹å¼",normalizedTitle:"2.4 çº¿ç¨é´çåæ­¥çæ¹å¼",charIndex:2757},{level:3,title:"2.5 è¿ç¨çè°åº¦ç®æ³",slug:"_2-5-è¿ç¨çè°åº¦ç®æ³",normalizedTitle:"2.5 è¿ç¨çè°åº¦ç®æ³",charIndex:3126},{level:3,title:"2.6 ä»ä¹æ¯æ­»é",slug:"_2-6-ä»ä¹æ¯æ­»é",normalizedTitle:"2.6 ä»ä¹æ¯æ­»é",charIndex:3790},{level:3,title:"2.7 æ­»éçåä¸ªæ¡ä»¶",slug:"_2-7-æ­»éçåä¸ªæ¡ä»¶",normalizedTitle:"2.7 æ­»éçåä¸ªæ¡ä»¶",charIndex:3909},{level:3,title:"2.8 è§£å³æ­»éçæ¹æ³",slug:"_2-8-è§£å³æ­»éçæ¹æ³",normalizedTitle:"2.8 è§£å³æ­»éçæ¹æ³",charIndex:4267},{level:4,title:"æ­»éçé¢é²",slug:"æ­»éçé¢é²",normalizedTitle:"æ­»éçé¢é²",charIndex:4517},{level:4,title:"æ­»éçé¿å",slug:"æ­»éçé¿å",normalizedTitle:"æ­»éçé¿å",charIndex:5276},{level:4,title:"æ­»éçæ£æµ",slug:"æ­»éçæ£æµ",normalizedTitle:"æ­»éçæ£æµ",charIndex:5954},{level:4,title:"æ­»éæ£æµæ­¥éª¤",slug:"æ­»éæ£æµæ­¥éª¤",normalizedTitle:"æ­»éæ£æµæ­¥éª¤",charIndex:6235},{level:4,title:"æ­»éçè§£é¤",slug:"æ­»éçè§£é¤",normalizedTitle:"æ­»éçè§£é¤",charIndex:6535},{level:2,title:"ä¸ æä½ç³»ç»åå­ç®¡çåºç¡",slug:"ä¸-æä½ç³»ç»åå­ç®¡çåºç¡",normalizedTitle:"ä¸ æä½ç³»ç»åå­ç®¡çåºç¡",charIndex:6848},{level:3,title:"3.1 åå­ç®¡çä»ç»",slug:"_3-1-åå­ç®¡çä»ç»",normalizedTitle:"3.1 åå­ç®¡çä»ç»",charIndex:6865},{level:3,title:"3.2 å¸¸è§çå ç§åå­ç®¡çæºå¶",slug:"_3-2-å¸¸è§çå ç§åå­ç®¡çæºå¶",normalizedTitle:"3.2 å¸¸è§çå ç§åå­ç®¡çæºå¶",charIndex:7010},{level:3,title:"3.3 å¿«è¡¨åå¤çº§é¡µè¡¨",slug:"_3-3-å¿«è¡¨åå¤çº§é¡µè¡¨",normalizedTitle:"3.3 å¿«è¡¨åå¤çº§é¡µè¡¨",charIndex:7787},{level:4,title:"å¿«è¡¨",slug:"å¿«è¡¨",normalizedTitle:"å¿«è¡¨",charIndex:7791},{level:4,title:"å¤çº§é¡µè¡¨",slug:"å¤çº§é¡µè¡¨",normalizedTitle:"å¤çº§é¡µè¡¨",charIndex:7794},{level:4,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:1199},{level:3,title:"3.4 åé¡µæºå¶ååæ®µæºå¶çå±åç¹ååºå«",slug:"_3-4-åé¡µæºå¶ååæ®µæºå¶çå±åç¹ååºå«",normalizedTitle:"3.4 åé¡µæºå¶ååæ®µæºå¶çå±åç¹ååºå«",charIndex:8736},{level:3,title:"3.5 é»è¾(èæ)å°ååç©çå°å",slug:"_3-5-é»è¾-èæ-å°ååç©çå°å",normalizedTitle:"3.5 é»è¾(èæ)å°ååç©çå°å",charIndex:9022},{level:3,title:"3.6 CPU å¯»åäºè§£å?ä¸ºä»ä¹éè¦èæå°åç©ºé´?",slug:"_3-6-cpu-å¯»åäºè§£å-ä¸ºä»ä¹éè¦èæå°åç©ºé´",normalizedTitle:"3.6 cpu å¯»åäºè§£å?ä¸ºä»ä¹éè¦èæå°åç©ºé´?",charIndex:9246},{level:2,title:"å èæåå­",slug:"å-èæåå­",normalizedTitle:"å èæåå­",charIndex:10235},{level:3,title:"4.1 ä»ä¹æ¯èæåå­(Virtual Memory)?",slug:"_4-1-ä»ä¹æ¯èæåå­-virtual-memory",normalizedTitle:"4.1 ä»ä¹æ¯èæåå­(virtual memory)?",charIndex:10246},{level:3,title:"4.2 å±é¨æ§åç",slug:"_4-2-å±é¨æ§åç",normalizedTitle:"4.2 å±é¨æ§åç",charIndex:10964},{level:3,title:"4.3 èæå­å¨å¨",slug:"_4-3-èæå­å¨å¨",normalizedTitle:"4.3 èæå­å¨å¨",charIndex:11604},{level:3,title:"4.4 èæåå­çææ¯å®ç°",slug:"_4-4-èæåå­çææ¯å®ç°",normalizedTitle:"4.4 èæåå­çææ¯å®ç°",charIndex:12065},{level:3,title:"4.5 é¡µé¢ç½®æ¢ç®æ³",slug:"_4-5-é¡µé¢ç½®æ¢ç®æ³",normalizedTitle:"4.5 é¡µé¢ç½®æ¢ç®æ³",charIndex:12950},{level:2,title:"Reference",slug:"reference",normalizedTitle:"reference",charIndex:13763}],headersStr:"ä¸ æä½ç³»ç»åºç¡ 1.1 ä»ä¹æ¯æä½ç³»ç»ï¼ 1.2 ç³»ç»è°ç¨ äº è¿ç¨åçº¿ç¨ 2.1 è¿ç¨åçº¿ç¨çåºå« 2.2 è¿ç¨æåªå ç§ç¶æ? 2.3 è¿ç¨é´çéä¿¡æ¹å¼ 2.4 çº¿ç¨é´çåæ­¥çæ¹å¼ 2.5 è¿ç¨çè°åº¦ç®æ³ 2.6 ä»ä¹æ¯æ­»é 2.7 æ­»éçåä¸ªæ¡ä»¶ 2.8 è§£å³æ­»éçæ¹æ³ æ­»éçé¢é² æ­»éçé¿å æ­»éçæ£æµ æ­»éæ£æµæ­¥éª¤ æ­»éçè§£é¤ ä¸ æä½ç³»ç»åå­ç®¡çåºç¡ 3.1 åå­ç®¡çä»ç» 3.2 å¸¸è§çå ç§åå­ç®¡çæºå¶ 3.3 å¿«è¡¨åå¤çº§é¡µè¡¨ å¿«è¡¨ å¤çº§é¡µè¡¨ æ»ç» 3.4 åé¡µæºå¶ååæ®µæºå¶çå±åç¹ååºå« 3.5 é»è¾(èæ)å°ååç©çå°å 3.6 CPU å¯»åäºè§£å?ä¸ºä»ä¹éè¦èæå°åç©ºé´? å èæåå­ 4.1 ä»ä¹æ¯èæåå­(Virtual Memory)? 4.2 å±é¨æ§åç 4.3 èæå­å¨å¨ 4.4 èæåå­çææ¯å®ç° 4.5 é¡µé¢ç½®æ¢ç®æ³ Reference",content:"# ä¸ æä½ç³»ç»åºç¡\n\né¢è¯å®é¡¶çè¬æ¾çåååæèµ°æ¥ï¼åªè§ä»ä¸ææ¿çåéç Thinkpad ï¼ä¸ææçä»é£æ·¡é»çé¿è£ã\n\n\n# 1.1 ä»ä¹æ¯æä½ç³»ç»ï¼\n\nð¨âð»é¢è¯å® ï¼ åæ¥ä¸ªç®åé®é¢å§ï¼ä»ä¹æ¯æä½ç³»ç»ï¼\n\nð æ ï¼æéè¿ä»¥ä¸åç¹åæ¨ä»ç»ä¸ä¸ä»ä¹æ¯æä½ç³»ç»å§ï¼\n\n 1. æä½ç³»ç»ï¼Operating Systemï¼ç®ç§° OSï¼æ¯ç®¡çè®¡ç®æºç¡¬ä»¶ä¸è½¯ä»¶èµæºçç¨åºï¼æ¯è®¡ç®æºçåºç³ã\n 2. æä½ç³»ç»æ¬è´¨ä¸æ¯ä¸ä¸ªè¿è¡å¨è®¡ç®æºä¸çè½¯ä»¶ç¨åº ï¼ç¨äºç®¡çè®¡ç®æºç¡¬ä»¶åè½¯ä»¶èµæºã ä¸¾ä¾ï¼è¿è¡å¨ä½ çµèä¸çææåºç¨ç¨åºé½éè¿æä½ç³»ç»æ¥è°ç¨ç³»ç»åå­ä»¥åç£çç­ç­ç¡¬ä»¶ã\n 3. æä½ç³»ç»å­å¨å±è½äºç¡¬ä»¶å±çå¤ææ§ã æä½ç³»ç»å°±åæ¯ç¡¬ä»¶ä½¿ç¨çè´è´£äººï¼ç»ç­¹çåç§ç¸å³äºé¡¹ã\n 4. æä½ç³»ç»çåæ ¸ï¼Kernelï¼æ¯æä½ç³»ç»çæ ¸å¿é¨åï¼å®è´è´£ç³»ç»çåå­ç®¡çï¼ç¡¬ä»¶è®¾å¤çç®¡çï¼æä»¶ç³»ç»çç®¡çä»¥ååºç¨ç¨åºçç®¡çã åæ ¸æ¯è¿æ¥åºç¨ç¨åºåç¡¬ä»¶çæ¡¥æ¢ï¼å³å®çç³»ç»çæ§è½åç¨³å®æ§ã\n\n\n\n\n# 1.2 ç³»ç»è°ç¨\n\nð¨âð»é¢è¯å® ï¼ä»ä¹æ¯ç³»ç»è°ç¨å¢ï¼ è½ä¸è½è¯¦ç»ä»ç»ä¸ä¸ã\n\nð æ ï¼ä»ç»ç³»ç»è°ç¨ä¹åï¼æä»¬åæ¥äºè§£ä¸ä¸ç¨æ·æåç³»ç»æã\n\næ ¹æ®è¿ç¨è®¿é®èµæºçç¹ç¹ï¼æä»¬å¯ä»¥æè¿ç¨å¨ç³»ç»ä¸çè¿è¡åä¸ºä¸¤ä¸ªçº§å«ï¼\n\n 1. ç¨æ·æ(user mode) : ç¨æ·æè¿è¡çè¿ç¨å¯ä»¥ç´æ¥è¯»åç¨æ·ç¨åºçæ°æ®ã\n 2. ç³»ç»æ(kernel mode):å¯ä»¥ç®åççè§£ç³»ç»æè¿è¡çè¿ç¨æç¨åºå ä¹å¯ä»¥è®¿é®è®¡ç®æºçä»»ä½èµæºï¼ä¸åéå¶ã\n\nè¯´äºç¨æ·æåç³»ç»æä¹åï¼é£ä¹ä»ä¹æ¯ç³»ç»è°ç¨å¢ï¼\n\næä»¬è¿è¡çç¨åºåºæ¬é½æ¯è¿è¡å¨ç¨æ·æï¼å¦ææä»¬è°ç¨æä½ç³»ç»æä¾çç³»ç»æçº§å«çå­åè½ååå¢ï¼é£å°±éè¦ç³»ç»è°ç¨äºï¼\n\nä¹å°±æ¯è¯´å¨æä»¬è¿è¡çç¨æ·ç¨åºä¸­ï¼å¡æ¯ä¸ç³»ç»æçº§å«çèµæºæå³çæä½ï¼å¦æä»¶ç®¡çãè¿ç¨æ§å¶ãåå­ç®¡çç­)ï¼é½å¿é¡»éè¿ç³»ç»è°ç¨æ¹å¼åæä½ç³»ç»æåºæå¡è¯·æ±ï¼å¹¶ç±æä½ç³»ç»ä»£ä¸ºå®æã\n\nè¿äºç³»ç»è°ç¨æåè½å¤§è´å¯åä¸ºå¦ä¸å ç±»ï¼\n\n * è®¾å¤ç®¡çãå®æè®¾å¤çè¯·æ±æéæ¾ï¼ä»¥åè®¾å¤å¯å¨ç­åè½ã\n * æä»¶ç®¡çãå®ææä»¶çè¯»ãåãåå»ºåå é¤ç­åè½ã\n * è¿ç¨æ§å¶ãå®æè¿ç¨çåå»ºãæ¤éãé»å¡åå¤éç­åè½ã\n * è¿ç¨éä¿¡ãå®æè¿ç¨ä¹é´çæ¶æ¯ä¼ éæä¿¡å·ä¼ éç­åè½ã\n * åå­ç®¡çãå®æåå­çåéãåæ¶ä»¥åè·åä½ä¸å ç¨åå­åºå¤§å°åå°åç­åè½ã\n\n\n# äº è¿ç¨åçº¿ç¨\n\n\n# 2.1 è¿ç¨åçº¿ç¨çåºå«\n\nð¨âð»é¢è¯å®: å¥½çï¼ææç½äºï¼é£ä½ åè¯´ä¸ä¸ï¼ è¿ç¨åçº¿ç¨çåºå«ã\n\nð æï¼ å¥½çï¼ ä¸å¾æ¯ Java åå­åºåï¼æä»¬ä» JVM çè§åº¦æ¥è¯´ä¸ä¸çº¿ç¨åè¿ç¨ä¹é´çå³ç³»å§ï¼\n\n\n\nä»ä¸å¾å¯ä»¥çåºï¼ä¸ä¸ªè¿ç¨ä¸­å¯ä»¥æå¤ä¸ªçº¿ç¨ï¼å¤ä¸ªçº¿ç¨å±äº«è¿ç¨çå åæ¹æ³åº (JDK1.8 ä¹åçåç©ºé´)èµæºï¼ä½æ¯æ¯ä¸ªçº¿ç¨æèªå·±çç¨åºè®¡æ°å¨ãèææºæ  å æ¬å°æ¹æ³æ ã\n\næ»ç»ï¼ çº¿ç¨æ¯è¿ç¨ååæçæ´å°çè¿è¡åä½,ä¸ä¸ªè¿ç¨å¨å¶æ§è¡çè¿ç¨ä¸­å¯ä»¥äº§çå¤ä¸ªçº¿ç¨ãçº¿ç¨åè¿ç¨æå¤§çä¸åå¨äºåºæ¬ä¸åè¿ç¨æ¯ç¬ç«çï¼èåçº¿ç¨åä¸ä¸å®ï¼å ä¸ºåä¸è¿ç¨ä¸­ççº¿ç¨ææå¯è½ä¼ç¸äºå½±åãçº¿ç¨æ§è¡å¼éå°ï¼ä½ä¸å©äºèµæºçç®¡çåä¿æ¤ï¼èè¿ç¨æ­£ç¸åã\n\n\n# 2.2 è¿ç¨æåªå ç§ç¶æ?\n\nð¨âð»é¢è¯å® ï¼ é£ä½ åè¯´è¯´è¿ç¨æåªå ç§ç¶æ?\n\nð æ ï¼æä»¬ä¸è¬æè¿ç¨å¤§è´åä¸º 5 ç§ç¶æï¼è¿ä¸ç¹åçº¿ç¨å¾åï¼\n\n * åå»ºç¶æ(new) ï¼è¿ç¨æ­£å¨è¢«åå»ºï¼å°æªå°å°±ç»ªç¶æã\n * å°±ç»ªç¶æ(ready) ï¼è¿ç¨å·²å¤äºåå¤è¿è¡ç¶æï¼å³è¿ç¨è·å¾äºé¤äºå¤çå¨ä¹å¤çä¸åæéèµæºï¼ä¸æ¦å¾å°å¤çå¨èµæº(å¤çå¨åéçæ¶é´ç)å³å¯è¿è¡ã\n * è¿è¡ç¶æ(running) ï¼è¿ç¨æ­£å¨å¤çå¨ä¸ä¸è¿è¡(åæ ¸ CPU ä¸ä»»ææ¶å»åªæä¸ä¸ªè¿ç¨å¤äºè¿è¡ç¶æ)ã\n * é»å¡ç¶æ(waiting) ï¼åç§°ä¸ºç­å¾ç¶æï¼è¿ç¨æ­£å¨ç­å¾æä¸äºä»¶èæåè¿è¡å¦ç­å¾æèµæºä¸ºå¯ç¨æç­å¾ IO æä½å®æãå³ä½¿å¤çå¨ç©ºé²ï¼è¯¥è¿ç¨ä¹ä¸è½è¿è¡ã\n * ç»æç¶æ(terminated) ï¼è¿ç¨æ­£å¨ä»ç³»ç»ä¸­æ¶å¤±ãå¯è½æ¯è¿ç¨æ­£å¸¸ç»ææå¶ä»åå ä¸­æ­éåºè¿è¡ã\n\n> è®¢æ­£ï¼ä¸å¾ä¸­ running ç¶æè¢« interrupt å ready ç¶æè½¬æ¢çç®­å¤´æ¹ååäºã\n\n\n\n\n# 2.3 è¿ç¨é´çéä¿¡æ¹å¼\n\nð¨âð»é¢è¯å® ï¼è¿ç¨é´çéä¿¡å¸¸è§ççæåªå ç§æ¹å¼å¢?\n\nð æ ï¼å¤§æ¦æ 7 ç§å¸¸è§çè¿ç¨é´çéä¿¡æ¹å¼ã\n\n> ä¸é¢è¿é¨åæ»ç»åèäº:ãè¿ç¨é´éä¿¡ IPC (InterProcess Communication)ã è¿ç¯æç« ï¼æ¨èéè¯»ï¼æ»ç»çéå¸¸ä¸éã\n\n 1. ç®¡é/å¿åç®¡é(Pipes) ï¼ç¨äºå·æäº²ç¼å³ç³»çç¶å­è¿ç¨é´æèåå¼è¿ç¨ä¹é´çéä¿¡ã\n 2. æåç®¡é(Names Pipes) : å¿åç®¡éç±äºæ²¡æåå­ï¼åªè½ç¨äºäº²ç¼å³ç³»çè¿ç¨é´éä¿¡ãä¸ºäºåæè¿ä¸ªç¼ºç¹ï¼æåºäºæåç®¡éãæåç®¡éä¸¥æ ¼éµå¾ªåè¿ååº(first in first out)ãæåç®¡éä»¥ç£çæä»¶çæ¹å¼å­å¨ï¼å¯ä»¥å®ç°æ¬æºä»»æä¸¤ä¸ªè¿ç¨éä¿¡ã\n 3. ä¿¡å·(Signal) ï¼ä¿¡å·æ¯ä¸ç§æ¯è¾å¤æçéä¿¡æ¹å¼ï¼ç¨äºéç¥æ¥æ¶è¿ç¨æä¸ªäºä»¶å·²ç»åçï¼\n 4. æ¶æ¯éå(Message Queuing) ï¼æ¶æ¯éåæ¯æ¶æ¯çé¾è¡¨,å·æç¹å®çæ ¼å¼,å­æ¾å¨åå­ä¸­å¹¶ç±æ¶æ¯éåæ è¯ç¬¦æ è¯ãç®¡éåæ¶æ¯éåçéä¿¡æ°æ®é½æ¯åè¿ååºçååãä¸ç®¡éï¼æ åç®¡éï¼åªå­å¨äºåå­ä¸­çæä»¶ï¼å½åç®¡éï¼å­å¨äºå®éçç£çä»è´¨æèæä»¶ç³»ç»ï¼ä¸åçæ¯æ¶æ¯éåå­æ¾å¨åæ ¸ä¸­ï¼åªæå¨åæ ¸éå¯(å³ï¼æä½ç³»ç»éå¯)æèæ¾å¼å°å é¤ä¸ä¸ªæ¶æ¯éåæ¶ï¼è¯¥æ¶æ¯éåæä¼è¢«çæ­£çå é¤ãæ¶æ¯éåå¯ä»¥å®ç°æ¶æ¯çéæºæ¥è¯¢,æ¶æ¯ä¸ä¸å®è¦ä»¥åè¿ååºçæ¬¡åºè¯»å,ä¹å¯ä»¥ææ¶æ¯çç±»åè¯»å.æ¯ FIFO æ´æä¼å¿ãæ¶æ¯éååæäºä¿¡å·æ¿è½½ä¿¡æ¯éå°ï¼ç®¡éåªè½æ¿è½½æ æ ¼å¼å­ èæµä»¥åç¼å²åºå¤§å°åéç­ç¼ºç¹ã\n 5. ä¿¡å·é(Semaphores) ï¼ä¿¡å·éæ¯ä¸ä¸ªè®¡æ°å¨ï¼ç¨äºå¤è¿ç¨å¯¹å±äº«æ°æ®çè®¿é®ï¼ä¿¡å·éçæå¾å¨äºè¿ç¨é´åæ­¥ãè¿ç§éä¿¡æ¹å¼ä¸»è¦ç¨äºè§£å³ä¸åæ­¥ç¸å³çé®é¢å¹¶é¿åç«äºæ¡ä»¶ã\n 6. å±äº«åå­(Shared memory) ï¼ä½¿å¾å¤ä¸ªè¿ç¨å¯ä»¥è®¿é®åä¸ååå­ç©ºé´ï¼ä¸åè¿ç¨å¯ä»¥åæ¶çå°å¯¹æ¹è¿ç¨ä¸­å¯¹å±äº«åå­ä¸­æ°æ®çæ´æ°ãè¿ç§æ¹å¼éè¦ä¾é æç§åæ­¥æä½ï¼å¦äºæ¥éåä¿¡å·éç­ãå¯ä»¥è¯´è¿æ¯ææç¨çè¿ç¨é´éä¿¡æ¹å¼ã\n 7. å¥æ¥å­(Sockets) : æ­¤æ¹æ³ä¸»è¦ç¨äºå¨å®¢æ·ç«¯åæå¡å¨ä¹é´éè¿ç½ç»è¿è¡éä¿¡ãå¥æ¥å­æ¯æ¯æ TCP/IP çç½ç»éä¿¡çåºæ¬æä½ååï¼å¯ä»¥çåæ¯ä¸åä¸»æºä¹é´çè¿ç¨è¿è¡ååéä¿¡çç«¯ç¹ï¼ç®åçè¯´å°±æ¯éä¿¡çä¸¤æ¹çä¸ç§çº¦å®ï¼ç¨å¥æ¥å­ä¸­çç¸å³å½æ°æ¥å®æéä¿¡è¿ç¨ã\n\n\n# 2.4 çº¿ç¨é´çåæ­¥çæ¹å¼\n\nð¨âð»é¢è¯å® ï¼é£çº¿ç¨é´çåæ­¥çæ¹å¼æåªäºå¢?\n\nð æ ï¼çº¿ç¨åæ­¥æ¯ä¸¤ä¸ªæå¤ä¸ªå±äº«å³é®èµæºççº¿ç¨çå¹¶åæ§è¡ãåºè¯¥åæ­¥çº¿ç¨ä»¥é¿åå³é®çèµæºä½¿ç¨å²çªãæä½ç³»ç»ä¸è¬æä¸é¢ä¸ç§çº¿ç¨åæ­¥çæ¹å¼ï¼\n\n 1. äºæ¥é(Mutex)ï¼éç¨äºæ¥å¯¹è±¡æºå¶ï¼åªææ¥æäºæ¥å¯¹è±¡ççº¿ç¨ææè®¿é®å¬å±èµæºçæéãå ä¸ºäºæ¥å¯¹è±¡åªæä¸ä¸ªï¼æä»¥å¯ä»¥ä¿è¯å¬å±èµæºä¸ä¼è¢«å¤ä¸ªçº¿ç¨åæ¶è®¿é®ãæ¯å¦ Java ä¸­ç synchronized å³é®è¯ååç§ Lock é½æ¯è¿ç§æºå¶ã\n 2. ä¿¡å·é(Semaphore) ï¼å®åè®¸åä¸æ¶å»å¤ä¸ªçº¿ç¨è®¿é®åä¸èµæºï¼ä½æ¯éè¦æ§å¶åä¸æ¶å»è®¿é®æ­¤èµæºçæå¤§çº¿ç¨æ°éã\n 3. äºä»¶(Event) :Wait/Notifyï¼éè¿éç¥æä½çæ¹å¼æ¥ä¿æå¤çº¿ç¨åæ­¥ï¼è¿å¯ä»¥æ¹ä¾¿çå®ç°å¤çº¿ç¨ä¼åçº§çæ¯è¾æä½ã\n\n\n# 2.5 è¿ç¨çè°åº¦ç®æ³\n\nð¨âð»é¢è¯å® ï¼ä½ ç¥éæä½ç³»ç»ä¸­è¿ç¨çè°åº¦ç®æ³æåªäºå?\n\nð æ ï¼å¯å¯ï¼è¿ä¸ªæä»¬å¤§å­¦çæ¶åå­¦è¿ï¼æ¯ä¸ä¸ªå¾éè¦çç¥è¯ç¹ï¼\n\nä¸ºäºç¡®å®é¦åæ§è¡åªä¸ªè¿ç¨ä»¥åæåæ§è¡åªä¸ªè¿ç¨ä»¥å®ç°æå¤§ CPU å©ç¨çï¼è®¡ç®æºç§å­¦å®¶å·²ç»å®ä¹äºä¸äºç®æ³ï¼å®ä»¬æ¯ï¼\n\n * åå°åæå¡(FCFS)è°åº¦ç®æ³ : ä»å°±ç»ªéåä¸­éæ©ä¸ä¸ªæåè¿å¥è¯¥éåçè¿ç¨ä¸ºä¹åéèµæºï¼ä½¿å®ç«å³æ§è¡å¹¶ä¸ç´æ§è¡å°å®ææåçæäºä»¶èè¢«é»å¡æ¾å¼å ç¨ CPU æ¶åéæ°è°åº¦ã\n * ç­ä½ä¸ä¼å(SJF)çè°åº¦ç®æ³ : ä»å°±ç»ªéåä¸­éåºä¸ä¸ªä¼°è®¡è¿è¡æ¶é´æç­çè¿ç¨ä¸ºä¹åéèµæºï¼ä½¿å®ç«å³æ§è¡å¹¶ä¸ç´æ§è¡å°å®ææåçæäºä»¶èè¢«é»å¡æ¾å¼å ç¨ CPU æ¶åéæ°è°åº¦ã\n * æ¶é´çè½®è½¬è°åº¦ç®æ³ : æ¶é´çè½®è½¬è°åº¦æ¯ä¸ç§æå¤èï¼æç®åï¼æå¬å¹³ä¸ä½¿ç¨æå¹¿çç®æ³ï¼åç§° RR(Round robin)è°åº¦ãæ¯ä¸ªè¿ç¨è¢«åéä¸ä¸ªæ¶é´æ®µï¼ç§°ä½å®çæ¶é´çï¼å³è¯¥è¿ç¨åè®¸è¿è¡çæ¶é´ã\n * å¤çº§åé¦éåè°åº¦ç®æ³ ï¼åé¢ä»ç»çå ç§è¿ç¨è°åº¦çç®æ³é½æä¸å®çå±éæ§ãå¦ç­è¿ç¨ä¼åçè°åº¦ç®æ³ï¼ä»ç§é¡¾äºç­è¿ç¨èå¿½ç¥äºé¿è¿ç¨ ãå¤çº§åé¦éåè°åº¦ç®æ³æ¢è½ä½¿é«ä¼åçº§çä½ä¸å¾å°ååºåè½ä½¿ç­ä½ä¸ï¼è¿ç¨ï¼è¿éå®æãï¼å èå®æ¯ç®åè¢«å¬è®¤çä¸ç§è¾å¥½çè¿ç¨è°åº¦ç®æ³ï¼UNIX æä½ç³»ç»éåçä¾¿æ¯è¿ç§è°åº¦ç®æ³ã\n * ä¼åçº§è°åº¦ ï¼ ä¸ºæ¯ä¸ªæµç¨åéä¼åçº§ï¼é¦åæ§è¡å·ææé«ä¼åçº§çè¿ç¨ï¼ä¾æ­¤ç±»æ¨ãå·æç¸åä¼åçº§çè¿ç¨ä»¥ FCFS æ¹å¼æ§è¡ãå¯ä»¥æ ¹æ®åå­è¦æ±ï¼æ¶é´è¦æ±æä»»ä½å¶ä»èµæºè¦æ±æ¥ç¡®å®ä¼åçº§ã\n\n\n# 2.6 ä»ä¹æ¯æ­»é\n\nð¨âð»é¢è¯å® ï¼ä½ ç¥éä»ä¹æ¯æ­»éå?\n\nð æ ï¼æ­»éæè¿°çæ¯è¿æ ·ä¸ç§æåµï¼å¤ä¸ªè¿ç¨/çº¿ç¨åæ¶è¢«é»å¡ï¼å®ä»¬ä¸­çä¸ä¸ªæèå¨é¨é½å¨ç­å¾æä¸ªèµæºè¢«éæ¾ãç±äºè¿ç¨/çº¿ç¨è¢«æ éæå°é»å¡ï¼å æ­¤ç¨åºä¸å¯è½æ­£å¸¸ç»æ­¢ã\n\n\n# 2.7 æ­»éçåä¸ªæ¡ä»¶\n\nð¨âð»é¢è¯å® ï¼äº§çæ­»éçåä¸ªå¿è¦æ¡ä»¶æ¯ä»ä¹?\n\nð æ ï¼å¦æç³»ç»ä¸­ä»¥ä¸åä¸ªæ¡ä»¶åæ¶æç«ï¼é£ä¹å°±è½å¼èµ·æ­»éï¼\n\n * äºæ¥ï¼èµæºå¿é¡»å¤äºéå±äº«æ¨¡å¼ï¼å³ä¸æ¬¡åªæä¸ä¸ªè¿ç¨å¯ä»¥ä½¿ç¨ãå¦æå¦ä¸è¿ç¨ç³è¯·è¯¥èµæºï¼é£ä¹å¿é¡»ç­å¾ç´å°è¯¥èµæºè¢«éæ¾ä¸ºæ­¢ã\n * å æå¹¶ç­å¾ï¼ä¸ä¸ªè¿ç¨è³å°åºè¯¥å æä¸ä¸ªèµæºï¼å¹¶ç­å¾å¦ä¸èµæºï¼èè¯¥èµæºè¢«å¶ä»è¿ç¨æå æã\n * éæ¢å ï¼èµæºä¸è½è¢«æ¢å ãåªè½å¨ææèµæºçè¿ç¨å®æä»»å¡åï¼è¯¥èµæºæä¼è¢«éæ¾ã\n * å¾ªç¯ç­å¾ï¼æä¸ç»ç­å¾è¿ç¨ {P0, P1,..., Pn}ï¼ P0 ç­å¾çèµæºè¢« P1 å æï¼P1 ç­å¾çèµæºè¢« P2 å æï¼......ï¼Pn-1 ç­å¾çèµæºè¢« Pn å æï¼Pn ç­å¾çèµæºè¢« P0 å æã\n\næ³¨æï¼åªæåä¸ªæ¡ä»¶åæ¶æç«æ¶ï¼æ­»éæä¼åºç°ã\n\n\n# 2.8 è§£å³æ­»éçæ¹æ³\n\nè§£å³æ­»éçæ¹æ³å¯ä»¥ä»å¤ä¸ªè§åº¦å»åæï¼ä¸è¬çæåµä¸ï¼æé¢é²ï¼é¿åï¼æ£æµåè§£é¤åç§ã\n\n * é¢é² æ¯éç¨æç§ç­ç¥ï¼éå¶å¹¶åè¿ç¨å¯¹èµæºçè¯·æ±ï¼ä»èä½¿å¾æ­»éçå¿è¦æ¡ä»¶å¨ç³»ç»æ§è¡çä»»ä½æ¶é´ä¸é½ä¸æ»¡è¶³ã\n\n * é¿ååæ¯ç³»ç»å¨åéèµæºæ¶ï¼æ ¹æ®èµæºçä½¿ç¨æåµæåååºé¢æµï¼ä»èé¿åæ­»éçåç\n\n * æ£æµæ¯æç³»ç»è®¾æä¸é¨çæºæï¼å½æ­»éåçæ¶ï¼è¯¥æºæè½å¤æ£æµæ­»éçåçï¼å¹¶ç²¾ç¡®å°ç¡®å®ä¸æ­»éæå³çè¿ç¨åèµæºã\n\n * è§£é¤ æ¯ä¸æ£æµç¸éå¥çä¸ç§æªæ½ï¼ç¨äºå°è¿ç¨ä»æ­»éç¶æä¸è§£è±åºæ¥ã\n\n# æ­»éçé¢é²\n\næ­»éåå¤§å¿è¦æ¡ä»¶ä¸é¢é½å·²ç»ååºæ¥äºï¼å¾æ¾ç¶ï¼åªè¦ç ´ååä¸ªå¿è¦æ¡ä»¶ä¸­çä»»ä½ä¸ä¸ªå°±è½å¤é¢é²æ­»éçåçã\n\nç ´åç¬¬ä¸ä¸ªæ¡ä»¶ äºæ¥æ¡ä»¶ï¼ä½¿å¾èµæºæ¯å¯ä»¥åæ¶è®¿é®çï¼è¿æ¯ç§ç®åçæ¹æ³ï¼ç£çå°±å¯ä»¥ç¨è¿ç§æ¹æ³ç®¡çï¼ä½æ¯æä»¬è¦ç¥éï¼æå¾å¤èµæº å¾å¾æ¯ä¸è½åæ¶è®¿é®ç ï¼æä»¥è¿ç§åæ³å¨å¤§å¤æ°çåºåæ¯è¡ä¸éçã\n\nç ´åç¬¬ä¸ä¸ªæ¡ä»¶ éæ¢å  ï¼ä¹å°±æ¯è¯´å¯ä»¥éç¨ å¥å¤ºå¼è°åº¦ç®æ³ï¼ä½å¥å¤ºå¼è°åº¦æ¹æ³ç®åä¸è¬ä»éç¨äº ä¸»å­èµæº å å¤çå¨èµæº çåéï¼å¹¶ä¸éç¨äºæä»¥çèµæºï¼ä¼å¯¼è´ èµæºå©ç¨çä¸éã\n\næä»¥ä¸è¬æ¯è¾å®ç¨ç é¢é²æ­»éçæ¹æ³ï¼æ¯éè¿èèç ´åç¬¬äºä¸ªæ¡ä»¶åç¬¬åä¸ªæ¡ä»¶ã\n\n1ãéæåéç­ç¥\n\néæåéç­ç¥å¯ä»¥ç ´åæ­»éäº§ççç¬¬äºä¸ªæ¡ä»¶ï¼å æå¹¶ç­å¾ï¼ãæè°éæåéç­ç¥ï¼å°±æ¯æä¸ä¸ªè¿ç¨å¿é¡»å¨æ§è¡åå°±ç³è¯·å°å®æéè¦çå¨é¨èµæºï¼å¹¶ä¸ç¥éå®æè¦çèµæºé½å¾å°æ»¡è¶³ä¹åæå¼å§æ§è¡ãè¿ç¨è¦ä¹å æææçèµæºç¶åå¼å§æ§è¡ï¼è¦ä¹ä¸å æèµæºï¼ä¸ä¼åºç°å æä¸äºèµæºç­å¾ä¸äºèµæºçæåµã\n\néæåéç­ç¥é»è¾ç®åï¼å®ç°ä¹å¾å®¹æï¼ä½è¿ç§ç­ç¥ ä¸¥éå°éä½äºèµæºå©ç¨çï¼å ä¸ºå¨æ¯ä¸ªè¿ç¨æå æçèµæºä¸­ï¼æäºèµæºæ¯å¨æ¯è¾é åçæ§è¡æ¶é´ééç¨çï¼çè³æäºèµæºæ¯å¨é¢å¤çæåµä¸ææ¯ç¨çï¼è¿æ ·å°±å¯è½é æäºä¸ä¸ªè¿ç¨å æäºä¸äº å ä¹ä¸ç¨çèµæºèä½¿å¶ä»éè¦è¯¥èµæºçè¿ç¨äº§çç­å¾ çæåµã\n\n2ãå±æ¬¡åéç­ç¥\n\nå±æ¬¡åéç­ç¥ç ´åäºäº§çæ­»éçç¬¬åä¸ªæ¡ä»¶(å¾ªç¯ç­å¾)ãå¨å±æ¬¡åéç­ç¥ä¸ï¼ææçèµæºè¢«åæäºå¤ä¸ªå±æ¬¡ï¼ä¸ä¸ªè¿ç¨å¾å°æä¸æ¬¡çä¸ä¸ªèµæºåï¼å®åªè½åç³è¯·è¾é«ä¸å±çèµæºï¼å½ä¸ä¸ªè¿ç¨è¦éæ¾æå±çä¸ä¸ªèµæºæ¶ï¼å¿é¡»åéæ¾æå ç¨çè¾é«å±çèµæºï¼æè¿ç§ç­ç¥ï¼æ¯ä¸å¯è½åºç°å¾ªç¯ç­å¾é¾çï¼å ä¸ºé£æ ·çè¯ï¼å°±åºç°äºå·²ç»ç³è¯·äºè¾é«å±çèµæºï¼åèå»ç³è¯·äºè¾ä½å±çèµæºï¼ä¸ç¬¦åå±æ¬¡åéç­ç¥ï¼è¯æç¥ã\n\n# æ­»éçé¿å\n\nä¸é¢æå°ç ç ´å æ­»éäº§ççåä¸ªå¿è¦æ¡ä»¶ä¹ä¸å°±å¯ä»¥æå é¢é²ç³»ç»åçæ­»é ï¼ä½æ¯ä¼å¯¼è´ ä½æçè¿ç¨è¿è¡ å èµæºä½¿ç¨ç ãèæ­»éçé¿åç¸åï¼å®çè§åº¦æ¯åè®¸ç³»ç»ä¸­åæ¶å­å¨åä¸ªå¿è¦æ¡ä»¶ ï¼åªè¦ææ¡å¹¶åè¿ç¨ä¸­ä¸æ¯ä¸ªè¿ç¨æå³çèµæºå¨æç³è¯·æåµï¼ååº ææºååççéæ© ï¼ä»ç¶å¯ä»¥é¿åæ­»éï¼å ä¸ºåå¤§æ¡ä»¶ä»ä»æ¯äº§çæ­»éçå¿è¦æ¡ä»¶ã\n\næä»¬å°ç³»ç»çç¶æåä¸º å®å¨ç¶æ å ä¸å®å¨ç¶æ ï¼æ¯å½å¨æªç³è¯·èåéèµæºååæµè¯ç³»ç»ç¶æï¼è¥æç³»ç»èµæºåéç»ç³è¯·èä¼äº§çæ­»éï¼åæç»åéï¼å¦åæ¥åç³è¯·ï¼å¹¶ä¸ºå®åéèµæºã\n\n> å¦ææä½ç³»ç»è½å¤ä¿è¯ææçè¿ç¨å¨æéçæ¶é´åå¾å°éè¦çå¨é¨èµæºï¼åç§°ç³»ç»å¤äºå®å¨ç¶æï¼å¦åè¯´ç³»ç»æ¯ä¸å®å¨çãå¾æ¾ç¶ï¼ç³»ç»å¤äºå®å¨ç¶æåä¸ä¼åçæ­»éï¼ç³»ç»è¥å¤äºä¸å®å¨ç¶æåå¯è½åçæ­»éã\n\né£ä¹å¦ä½ä¿è¯ç³»ç»ä¿æå¨å®å¨ç¶æå¢ï¼éè¿ç®æ³ï¼å¶ä¸­æå·æä»£è¡¨æ§ç é¿åæ­»éç®æ³ å°±æ¯ Dijkstra çé¶è¡å®¶ç®æ³ï¼é¶è¡å®¶ç®æ³ç¨ä¸å¥è¯è¡¨è¾¾å°±æ¯ï¼å½ä¸ä¸ªè¿ç¨ç³è¯·ä½¿ç¨èµæºçæ¶åï¼é¶è¡å®¶ç®æ³ éè¿å è¯æ¢ åéç»è¯¥è¿ç¨èµæºï¼ç¶åéè¿ å®å¨æ§ç®æ³ å¤æ­åéåç³»ç»æ¯å¦å¤äºå®å¨ç¶æï¼è¥ä¸å®å¨åè¯æ¢åéä½åºï¼è®©è¯¥è¿ç¨ç»§ç»­ç­å¾ï¼è¥è½å¤è¿å¥å°å®å¨çç¶æï¼åå°± ççåéèµæºç»è¯¥è¿ç¨ã\n\né¶è¡å®¶ç®æ³è¯¦æå¯è§ï¼ãä¸å¥è¯+ä¸å¼ å¾è¯´æ¸æ¥ââé¶è¡å®¶ç®æ³ã ã\n\næä½ç³»ç»æç¨æ ä¸­è®²è¿°çé¶è¡å®¶ç®æ³ä¹æ¯è¾æ¸æ°ï¼å¯ä»¥ä¸ç.\n\næ­»éçé¿å(é¶è¡å®¶ç®æ³)æ¹åè§£å³äº èµæºä½¿ç¨çä½çé®é¢ ï¼ä½æ¯å®è¦ä¸æ­å°æ£æµæ¯ä¸ªè¿ç¨å¯¹åç±»èµæºçå ç¨åç³è¯·æåµï¼ä»¥åå å®å¨æ§æ£æ¥ ï¼éè¦è±è´¹è¾å¤çæ¶é´ã\n\n# æ­»éçæ£æµ\n\nå¯¹èµæºçåéå ä»¥éå¶å¯ä»¥ é¢é²åé¿å æ­»éçåçï¼ä½æ¯é½ä¸å©äºåè¿ç¨å¯¹ç³»ç»èµæºçååå±äº«ãè§£å³æ­»éé®é¢çå¦ä¸æ¡éå¾æ¯ æ­»éæ£æµåè§£é¤ (è¿éçªç¶èæ³å°äºä¹è§éåæ²è§éï¼æè§æ­»éçæ£æµåè§£é¤å°±åæ¯ ä¹è§é ï¼åéèµæºæ¶ä¸å»æåç®¡ä¼ä¸ä¼åçæ­»éäºï¼ç­å°ççæ­»éåºç°äºåæ¥è§£å³åï¼è æ­»éçé¢é²åé¿å æ´åæ¯æ²è§éï¼æ»æ¯è§å¾æ­»éä¼åºç°ï¼æä»¥å¨åéèµæºçæ¶åå°±å¾è°¨æ)ã\n\nè¿ç§æ¹æ³å¯¹èµæºçåéä¸å ä»¥ä»»ä½éå¶ï¼ä¹ä¸éåæ­»éé¿åæªæ½ï¼ä½ç³»ç» å®æ¶å°è¿è¡ä¸ä¸ª âæ­»éæ£æµâ çç¨åºï¼å¤æ­ç³»ç»åæ¯å¦åºç°æ­»éï¼å¦ææ£æµå°ç³»ç»åçäºæ­»éï¼åéåæªæ½å»è§£é¤å®ã\n\n# æ­»éæ£æµæ­¥éª¤\n\nç¥éäºæ­»éæ£æµçåçï¼æä»¬å¯ä»¥å©ç¨ä¸åæ­¥éª¤ç¼åä¸ä¸ª æ­»éæ£æµ ç¨åºï¼æ£æµç³»ç»æ¯å¦äº§çäºæ­»éã\n\n 1. å¦æè¿ç¨-èµæºåéå¾ä¸­æ ç¯è·¯ï¼åæ­¤æ¶ç³»ç»æ²¡æåçæ­»é\n 2. å¦æè¿ç¨-èµæºåéå¾ä¸­æç¯è·¯ï¼ä¸æ¯ä¸ªèµæºç±»ä»æä¸ä¸ªèµæºï¼åç³»ç»ä¸­å·²ç»åçäºæ­»éã\n 3. å¦æè¿ç¨-èµæºåéå¾ä¸­æç¯è·¯ï¼ä¸æ¶åå°çèµæºç±»æå¤ä¸ªèµæºï¼æ­¤æ¶ç³»ç»æªå¿ä¼åçæ­»éãå¦æè½å¨è¿ç¨-èµæºåéå¾ä¸­æ¾åºä¸ä¸ª æ¢ä¸é»å¡åéç¬ç«çè¿ç¨ ï¼è¯¥è¿ç¨è½å¤å¨æéçæ¶é´åå½è¿å æçèµæºï¼ä¹å°±æ¯æè¾¹ç»æ¶é¤æäºï¼éå¤æ­¤è¿ç¨ï¼ç´å°è½å¨æéçæ¶é´å æ¶é¤ææçè¾¹ ï¼åä¸ä¼åçæ­»éï¼å¦åä¼åçæ­»éã(æ¶é¤è¾¹çè¿ç¨ç±»ä¼¼äº æææåº)\n\n# æ­»éçè§£é¤\n\nå½æ­»éæ£æµç¨åºæ£æµå°å­å¨æ­»éåçæ¶ï¼åºè®¾æ³è®©å¶è§£é¤ï¼è®©ç³»ç»ä»æ­»éç¶æä¸­æ¢å¤è¿æ¥ï¼å¸¸ç¨çè§£é¤æ­»éçæ¹æ³æä»¥ä¸åç§ï¼\n\n 1. ç«å³ç»æææè¿ç¨çæ§è¡ï¼éæ°å¯å¨æä½ç³»ç» ï¼è¿ç§æ¹æ³ç®åï¼ä½ä»¥åæå¨çå·¥ä½å¨é¨ä½åºï¼æå¤±å¾å¤§ã\n 2. æ¤éæ¶åæ­»éçææè¿ç¨ï¼è§£é¤æ­»éåç»§ç»­è¿è¡ ï¼è¿ç§æ¹æ³è½å½»åºæç ´æ­»éçå¾ªç¯ç­å¾æ¡ä»¶ï¼ä½å°ä»åºå¾å¤§ä»£ä»·ï¼ä¾å¦æäºè¿ç¨å¯è½å·²ç»è®¡ç®äºå¾é¿æ¶é´ï¼ç±äºè¢«æ¤éèä½¿äº§ççé¨åç»æä¹è¢«æ¶é¤äºï¼åéæ°æ§è¡æ¶è¿è¦åæ¬¡è¿è¡è®¡ç®ã\n 3. éä¸ªæ¤éæ¶åæ­»éçè¿ç¨ï¼åæ¶å¶èµæºç´è³æ­»éè§£é¤ã\n 4. æ¢å èµæº ï¼ä»æ¶åæ­»éçä¸ä¸ªæå ä¸ªè¿ç¨ä¸­æ¢å èµæºï¼æå¤ºå¾çèµæºååéç»æ¶åæ­»éçè¿ç¨ç´è³æ­»éè§£é¤ã\n\n\n# ä¸ æä½ç³»ç»åå­ç®¡çåºç¡\n\n\n# 3.1 åå­ç®¡çä»ç»\n\nð¨âð» é¢è¯å®: æä½ç³»ç»çåå­ç®¡çä¸»è¦æ¯åä»ä¹ï¼\n\nð æï¼ æä½ç³»ç»çåå­ç®¡çä¸»è¦è´è´£åå­çåéä¸åæ¶ï¼malloc å½æ°ï¼ç³è¯·åå­ï¼free å½æ°ï¼éæ¾åå­ï¼ï¼å¦å¤å°åè½¬æ¢ä¹å°±æ¯å°é»è¾å°åè½¬æ¢æç¸åºçç©çå°åç­åè½ä¹æ¯æä½ç³»ç»åå­ç®¡çåçäºæã\n\n\n# 3.2 å¸¸è§çå ç§åå­ç®¡çæºå¶\n\nð¨âð» é¢è¯å®: æä½ç³»ç»çåå­ç®¡çæºå¶äºè§£åï¼åå­ç®¡çæåªå ç§æ¹å¼?\n\nð æï¼ è¿ä¸ªå¨å­¦ä¹ æä½ç³»ç»çæ¶åæäºè§£è¿ã\n\nç®ååä¸ºè¿ç»­åéç®¡çæ¹å¼åéè¿ç»­åéç®¡çæ¹å¼è¿ä¸¤ç§ãè¿ç»­åéç®¡çæ¹å¼æ¯æä¸ºä¸ä¸ªç¨æ·ç¨åºåéä¸ä¸ªè¿ç»­çåå­ç©ºé´ï¼å¸¸è§çå¦ åå¼ç®¡ç ãåæ ·å°ï¼éè¿ç»­åéç®¡çæ¹å¼åè®¸ä¸ä¸ªç¨åºä½¿ç¨çåå­åå¸å¨ç¦»æ£æèè¯´ä¸ç¸é»çåå­ä¸­ï¼å¸¸è§çå¦é¡µå¼ç®¡ç å æ®µå¼ç®¡çã\n\n 1. åå¼ç®¡ç ï¼ è¿å¤æ¶ä»£çè®¡ç®æºæä½ç³»ç»çåå­ç®¡çæ¹å¼ãå°åå­åä¸ºå ä¸ªåºå®å¤§å°çåï¼æ¯ä¸ªåä¸­åªåå«ä¸ä¸ªè¿ç¨ãå¦æç¨åºè¿è¡éè¦åå­çè¯ï¼æä½ç³»ç»å°±åéç»å®ä¸åï¼å¦æç¨åºè¿è¡åªéè¦å¾å°çç©ºé´çè¯ï¼åéçè¿ååå­å¾å¤§ä¸é¨åå ä¹è¢«æµªè´¹äºãè¿äºå¨æ¯ä¸ªåä¸­æªè¢«å©ç¨çç©ºé´ï¼æä»¬ç§°ä¹ä¸ºç¢çã\n 2. é¡µå¼ç®¡ç ï¼æä¸»å­åä¸ºå¤§å°ç¸ç­ä¸åºå®çä¸é¡µä¸é¡µçå½¢å¼ï¼é¡µè¾å°ï¼ç¸æ¯äºåå¼ç®¡ççååç²åº¦æ´å°ï¼æé«äºåå­å©ç¨çï¼åå°äºç¢çãé¡µå¼ç®¡çéè¿é¡µè¡¨å¯¹åºé»è¾å°ååç©çå°åã\n 3. æ®µå¼ç®¡ç ï¼ é¡µå¼ç®¡çè½ç¶æé«äºåå­å©ç¨çï¼ä½æ¯é¡µå¼ç®¡çå¶ä¸­çé¡µå¹¶æ ä»»ä½å®éæä¹ã æ®µå¼ç®¡çæä¸»å­åä¸ºä¸æ®µæ®µçï¼æ®µæ¯æå®éæä¹çï¼æ¯ä¸ªæ®µå®ä¹äºä¸ç»é»è¾ä¿¡æ¯ï¼ä¾å¦,æä¸»ç¨åºæ®µ MAINãå­ç¨åºæ®µ Xãæ°æ®æ®µ D åæ æ®µ S ç­ã æ®µå¼ç®¡çéè¿æ®µè¡¨å¯¹åºé»è¾å°ååç©çå°åã\n\nç®åæ¥è¯´ï¼é¡µæ¯ç©çåä½ï¼æ®µæ¯é»è¾åä½ãåé¡µå¯ä»¥æææé«åå­å©ç¨çï¼åæ®µå¯ä»¥æ´å¥½æ»¡è¶³ç¨æ·éæ±ã\n\nð¨âð»é¢è¯å® ï¼ åç­çè¿ä¸éï¼ä¸è¿æ¼æäºä¸ä¸ªå¾éè¦ç æ®µé¡µå¼ç®¡çæºå¶ ãæ®µé¡µå¼ç®¡çæºå¶ç»åäºæ®µå¼ç®¡çåé¡µå¼ç®¡ççä¼ç¹ãç®åæ¥è¯´æ®µé¡µå¼ç®¡çæºå¶å°±æ¯æä¸»å­ååæè¥å¹²æ®µï¼æ¯ä¸ªæ®µååæè¥å¹²é¡µï¼ä¹å°±æ¯è¯´ æ®µé¡µå¼ç®¡çæºå¶ ä¸­æ®µä¸æ®µä¹é´ä»¥åæ®µçåé¨çé½æ¯ç¦»æ£çã\n\nð æ ï¼è°¢è°¢é¢è¯å®ï¼ååæè¿ä¸ªç»å¿è®°äºï½\n\n\n# 3.3 å¿«è¡¨åå¤çº§é¡µè¡¨\n\nð¨âð»é¢è¯å® ï¼ é¡µè¡¨ç®¡çæºå¶ä¸­æä¸¤ä¸ªå¾éè¦çæ¦å¿µï¼å¿«è¡¨åå¤çº§é¡µè¡¨ï¼è¿ä¸¤ä¸ªä¸è¥¿åå«è§£å³äºé¡µè¡¨ç®¡çä¸­å¾éè¦çä¸¤ä¸ªé®é¢ãä½ ç»æç®åä»ç»ä¸ä¸å§ï¼\n\nð æ ï¼å¨åé¡µåå­ç®¡çä¸­ï¼å¾éè¦çä¸¤ç¹æ¯ï¼\n\n 1. èæå°åå°ç©çå°åçè½¬æ¢è¦å¿«ã\n 2. è§£å³èæå°åç©ºé´å¤§ï¼é¡µè¡¨ä¹ä¼å¾å¤§çé®é¢ã\n\n# å¿«è¡¨\n\nä¸ºäºæé«èæå°åå°ç©çå°åçè½¬æ¢éåº¦ï¼æä½ç³»ç»å¨ é¡µè¡¨æ¹æ¡ åºç¡ä¹ä¸å¼å¥äº å¿«è¡¨ æ¥å éèæå°åå°ç©çå°åçè½¬æ¢ãæä»¬å¯ä»¥æå¿«è¡¨çè§£ä¸ºä¸ç§ç¹æ®çé«éç¼å²å­å¨å¨ï¼Cacheï¼ï¼å¶ä¸­çåå®¹æ¯é¡µè¡¨çä¸é¨åæèå¨é¨åå®¹ãä½ä¸ºé¡µè¡¨ç Cacheï¼å®çä½ç¨ä¸é¡µè¡¨ç¸ä¼¼ï¼ä½æ¯æé«äºè®¿é®éçãç±äºéç¨é¡µè¡¨åå°åè½¬æ¢ï¼è¯»ååå­æ°æ®æ¶ CPU è¦è®¿é®ä¸¤æ¬¡ä¸»å­ãæäºå¿«è¡¨ï¼ææ¶åªè¦è®¿é®ä¸æ¬¡é«éç¼å²å­å¨å¨ï¼ä¸æ¬¡ä¸»å­ï¼è¿æ ·å¯å éæ¥æ¾å¹¶æé«æä»¤æ§è¡éåº¦ã\n\nä½¿ç¨å¿«è¡¨ä¹åçå°åè½¬æ¢æµç¨æ¯è¿æ ·çï¼\n\n 1. æ ¹æ®èæå°åä¸­çé¡µå·æ¥å¿«è¡¨ï¼\n 2. å¦æè¯¥é¡µå¨å¿«è¡¨ä¸­ï¼ç´æ¥ä»å¿«è¡¨ä¸­è¯»åç¸åºçç©çå°åï¼\n 3. å¦æè¯¥é¡µä¸å¨å¿«è¡¨ä¸­ï¼å°±è®¿é®åå­ä¸­çé¡µè¡¨ï¼åä»é¡µè¡¨ä¸­å¾å°ç©çå°åï¼åæ¶å°é¡µè¡¨ä¸­çè¯¥æ å°è¡¨é¡¹æ·»å å°å¿«è¡¨ä¸­ï¼\n 4. å½å¿«è¡¨å¡«æ»¡åï¼åè¦ç»è®°æ°é¡µæ¶ï¼å°±æç§ä¸å®çæ·æ±°ç­ç¥æ·æ±°æå¿«è¡¨ä¸­çä¸ä¸ªé¡µã\n\nçå®äºä¹åä½ ä¼åç°å¿«è¡¨åæä»¬å¹³æ¶ç»å¸¸å¨æä»¬å¼åçç³»ç»ä½¿ç¨çç¼å­ï¼æ¯å¦ Redisï¼å¾åï¼çç¡®æ¯è¿æ ·çï¼æä½ç³»ç»ä¸­çå¾å¤ææ³ãå¾å¤ç»å¸çç®æ³ï¼ä½ é½å¯ä»¥å¨æä»¬æ¥å¸¸å¼åä½¿ç¨çåç§å·¥å·æèæ¡æ¶ä¸­æ¾å°å®ä»¬çå½±å­ã\n\n# å¤çº§é¡µè¡¨\n\nå¼å¥å¤çº§é¡µè¡¨çä¸»è¦ç®çæ¯ä¸ºäºé¿åæå¨é¨é¡µè¡¨ä¸ç´æ¾å¨åå­ä¸­å ç¨è¿å¤ç©ºé´ï¼ç¹å«æ¯é£äºæ ¹æ¬å°±ä¸éè¦çé¡µè¡¨å°±ä¸éè¦ä¿çå¨åå­ä¸­ãå¤çº§é¡µè¡¨å±äºæ¶é´æ¢ç©ºé´çå¸ååºæ¯ï¼å·ä½å¯ä»¥æ¥çä¸é¢è¿ç¯æç« \n\n * å¤çº§é¡µè¡¨å¦ä½èçº¦åå­ï¼https://www.polarxiong.com/archives/å¤çº§é¡µè¡¨å¦ä½èçº¦åå­.html\n\n# æ»ç»\n\nä¸ºäºæé«åå­çç©ºé´æ§è½ï¼æåºäºå¤çº§é¡µè¡¨çæ¦å¿µï¼ä½æ¯æå°ç©ºé´æ§è½æ¯ä»¥æµªè´¹æ¶é´æ§è½ä¸ºåºç¡çï¼å æ­¤ä¸ºäºè¡¥åæå¤±çæ¶é´æ§è½ï¼æåºäºå¿«è¡¨ï¼å³ TLBï¼çæ¦å¿µã ä¸è®ºæ¯å¿«è¡¨è¿æ¯å¤çº§é¡µè¡¨å®éä¸é½å©ç¨å°äºç¨åºçå±é¨æ§åçï¼å±é¨æ§åçå¨åé¢çèæåå­è¿é¨åä¼ä»ç»å°ã\n\n\n# 3.4 åé¡µæºå¶ååæ®µæºå¶çå±åç¹ååºå«\n\nð¨âð»é¢è¯å® ï¼ åé¡µæºå¶ååæ®µæºå¶æåªäºå±åç¹ååºå«å¢ï¼\n\nð æ ï¼\n\n 1. å±åç¹ ï¼\n    * åé¡µæºå¶ååæ®µæºå¶é½æ¯ä¸ºäºæé«åå­å©ç¨çï¼åå°åå­ç¢çã\n    * é¡µåæ®µé½æ¯ç¦»æ£å­å¨çï¼æä»¥ä¸¤èé½æ¯ç¦»æ£åéåå­çæ¹å¼ãä½æ¯ï¼æ¯ä¸ªé¡µåæ®µä¸­çåå­æ¯è¿ç»­çã\n 2. åºå« ï¼\n    * é¡µçå¤§å°æ¯åºå®çï¼ç±æä½ç³»ç»å³å®ï¼èæ®µçå¤§å°ä¸åºå®ï¼åå³äºæä»¬å½åè¿è¡çç¨åºã\n    * åé¡µä»ä»æ¯ä¸ºäºæ»¡è¶³æä½ç³»ç»åå­ç®¡ççéæ±ï¼èæ®µæ¯é»è¾ä¿¡æ¯çåä½ï¼å¨ç¨åºä¸­å¯ä»¥ä½ç°ä¸ºä»£ç æ®µï¼æ°æ®æ®µï¼è½å¤æ´å¥½æ»¡è¶³ç¨æ·çéè¦ã\n\n\n# 3.5 é»è¾(èæ)å°ååç©çå°å\n\nð¨âð»é¢è¯å® ï¼ä½ ååè¿æå°äºé»è¾å°ååç©çå°åè¿ä¸¤ä¸ªæ¦å¿µï¼æä¸å¤ªæ¸æ¥ï¼ä½ è½ä¸ºæè§£éä¸ä¸ä¸ï¼\n\nð æï¼ em...å¥½çåï¼æä»¬ç¼ç¨ä¸è¬åªæå¯è½åé»è¾å°åæäº¤éï¼æ¯å¦å¨ C è¯­è¨ä¸­ï¼æééé¢å­å¨çæ°å¼å°±å¯ä»¥çè§£æä¸ºåå­éçä¸ä¸ªå°åï¼è¿ä¸ªå°åä¹å°±æ¯æä»¬è¯´çé»è¾å°åï¼é»è¾å°åç±æä½ç³»ç»å³å®ãç©çå°åæçæ¯çå®ç©çåå­ä¸­å°åï¼æ´å·ä½ä¸ç¹æ¥è¯´å°±æ¯åå­å°åå¯å­å¨ä¸­çå°åãç©çå°åæ¯åå­ååçæ­£çå°åã\n\n\n# 3.6 CPU å¯»åäºè§£å?ä¸ºä»ä¹éè¦èæå°åç©ºé´?\n\nð¨âð»é¢è¯å® ï¼CPU å¯»åäºè§£å?ä¸ºä»ä¹éè¦èæå°åç©ºé´?\n\nð æ ï¼è¿é¨åæçä¸æ¸æ¥ï¼\n\näºæ¯é¢è¯å®ä¹åæé»é»å»æ¥éäºç¸å³ææ¡£ï¼çä¸äºæ²¡æææ¯çæ³ªæ°´ããã\n\n> è¿é¨ååå®¹åèäº Microsoft å®ç½çä»ç»ï¼å°åï¼https://docs.microsoft.com/zh-cn/windows-hardware/drivers/gettingstarted/virtual-address-spaces?redirectedfrom=MSDN\n\nç°ä»£å¤çå¨ä½¿ç¨çæ¯ä¸ç§ç§°ä¸º èæå¯»å(Virtual Addressing) çå¯»åæ¹å¼ãä½¿ç¨èæå¯»åï¼CPU éè¦å°èæå°åç¿»è¯æç©çå°åï¼è¿æ ·æè½è®¿é®å°çå®çç©çåå­ã å®éä¸å®æèæå°åè½¬æ¢ä¸ºç©çå°åè½¬æ¢çç¡¬ä»¶æ¯ CPU ä¸­å«æä¸ä¸ªè¢«ç§°ä¸º åå­ç®¡çååï¼Memory Management Unit, MMUï¼ çç¡¬ä»¶ãå¦ä¸å¾æç¤ºï¼\n\n\n\nä¸ºä»ä¹è¦æèæå°åç©ºé´å¢ï¼\n\nåä»æ²¡æèæå°åç©ºé´çæ¶åè¯´èµ·å§ï¼æ²¡æèæå°åç©ºé´çæ¶åï¼ç¨åºç´æ¥è®¿é®åæä½çé½æ¯ç©çåå­ ãä½æ¯è¿æ ·æä»ä¹é®é¢å¢ï¼\n\n 1. ç¨æ·ç¨åºå¯ä»¥è®¿é®ä»»æåå­ï¼å¯»ååå­çæ¯ä¸ªå­èï¼è¿æ ·å°±å¾å®¹æï¼æææèæ æï¼ç ´åæä½ç³»ç»ï¼é ææä½ç³»ç»å´©æºã\n 2. æ³è¦åæ¶è¿è¡å¤ä¸ªç¨åºç¹å«å°é¾ï¼æ¯å¦ä½ æ³åæ¶è¿è¡ä¸ä¸ªå¾®ä¿¡åä¸ä¸ª QQ é³ä¹é½ä¸è¡ãä¸ºä»ä¹å¢ï¼ä¸¾ä¸ªç®åçä¾å­ï¼å¾®ä¿¡å¨è¿è¡çæ¶åç»åå­å°å 1xxx èµå¼åï¼QQ é³ä¹ä¹åæ ·ç»åå­å°å 1xxx èµå¼ï¼é£ä¹ QQ é³ä¹å¯¹åå­çèµå¼å°±ä¼è¦çå¾®ä¿¡ä¹åæèµçå¼ï¼è¿å°±é æäºå¾®ä¿¡è¿ä¸ªç¨åºå°±ä¼å´©æºã\n\næ»ç»æ¥è¯´ï¼å¦æç´æ¥æç©çå°åæ´é²åºæ¥çè¯ä¼å¸¦æ¥ä¸¥éé®é¢ï¼æ¯å¦å¯è½å¯¹æä½ç³»ç»é æä¼¤å®³ä»¥åç»åæ¶è¿è¡å¤ä¸ªç¨åºé æå°é¾ã\n\néè¿èæå°åè®¿é®åå­æä»¥ä¸ä¼å¿ï¼\n\n * ç¨åºå¯ä»¥ä½¿ç¨ä¸ç³»åç¸é»çèæå°åæ¥è®¿é®ç©çåå­ä¸­ä¸ç¸é»çå¤§åå­ç¼å²åºã\n * ç¨åºå¯ä»¥ä½¿ç¨ä¸ç³»åèæå°åæ¥è®¿é®å¤§äºå¯ç¨ç©çåå­çåå­ç¼å²åºãå½ç©çåå­çä¾åºéåå°æ¶ï¼åå­ç®¡çå¨ä¼å°ç©çåå­é¡µï¼éå¸¸å¤§å°ä¸º 4 KBï¼ä¿å­å°ç£çæä»¶ãæ°æ®æä»£ç é¡µä¼æ ¹æ®éè¦å¨ç©çåå­ä¸ç£çä¹é´ç§»å¨ã\n * ä¸åè¿ç¨ä½¿ç¨çèæå°åå½¼æ­¤éç¦»ãä¸ä¸ªè¿ç¨ä¸­çä»£ç æ æ³æ´æ¹æ­£å¨ç±å¦ä¸è¿ç¨ææä½ç³»ç»ä½¿ç¨çç©çåå­ã\n\n\n# å èæåå­\n\n\n# 4.1 ä»ä¹æ¯èæåå­(Virtual Memory)?\n\nð¨âð»é¢è¯å® ï¼åé®ä½ ä¸ä¸ªå¸¸è¯æ§çé®é¢ï¼ä»ä¹æ¯èæåå­(Virtual Memory)?\n\nð æ ï¼è¿ä¸ªå¨æä»¬å¹³æ¶ä½¿ç¨çµèç¹å«æ¯ Windows ç³»ç»çæ¶åå¤ªå¸¸è§äºãå¾å¤æ¶åæä»¬ä½¿ç¨äºå¾å¤å åå­çè½¯ä»¶ï¼è¿äºè½¯ä»¶å ç¨çåå­å¯è½å·²ç»è¿è¿è¶åºäºæä»¬çµèæ¬èº«å·æçç©çåå­ãä¸ºä»ä¹å¯ä»¥è¿æ ·å¢ï¼ æ­£æ¯å ä¸º èæåå­ çå­å¨ï¼éè¿ èæåå­ å¯ä»¥è®©ç¨åºå¯ä»¥æ¥æè¶è¿ç³»ç»ç©çåå­å¤§å°çå¯ç¨åå­ç©ºé´ãå¦å¤ï¼èæåå­ä¸ºæ¯ä¸ªè¿ç¨æä¾äºä¸ä¸ªä¸è´çãç§æçå°åç©ºé´ï¼å®è®©æ¯ä¸ªè¿ç¨äº§çäºä¸ç§èªå·±å¨ç¬äº«ä¸»å­çéè§ï¼æ¯ä¸ªè¿ç¨æ¥æä¸çè¿ç»­å®æ´çåå­ç©ºé´ï¼ãè¿æ ·ä¼æ´å ææå°ç®¡çåå­å¹¶åå°åºéã\n\nèæåå­æ¯è®¡ç®æºç³»ç»åå­ç®¡ççä¸ç§ææ¯ï¼æä»¬å¯ä»¥æå¨è®¾ç½®èªå·±çµèçèæåå­ãä¸è¦åçº¯è®¤ä¸ºèæåå­åªæ¯âä½¿ç¨ç¡¬çç©ºé´æ¥æ©å±åå­âçææ¯ãèæåå­çéè¦æä¹æ¯å®å®ä¹äºä¸ä¸ªè¿ç»­çèæå°åç©ºé´ï¼å¹¶ä¸ æåå­æ©å±å°ç¡¬çç©ºé´ãæ¨èéè¯»ï¼ãèæåå­çé£ç¹äºå¿ã\n\nç»´åºç¾ç§ä¸­æå å¥è¯æ¯è¿æ ·ä»ç»èæåå­çã\n\n> èæåå­ ä½¿å¾åºç¨ç¨åºè®¤ä¸ºå®æ¥æè¿ç»­çå¯ç¨çåå­ï¼ä¸ä¸ªè¿ç»­å®æ´çå°åç©ºé´ï¼ï¼èå®éä¸ï¼å®éå¸¸æ¯è¢«åéæå¤ä¸ªç©çåå­ç¢çï¼è¿æé¨åææ¶å­å¨å¨å¤é¨ç£çå­å¨å¨ä¸ï¼å¨éè¦æ¶è¿è¡æ°æ®äº¤æ¢ãä¸æ²¡æä½¿ç¨èæåå­ææ¯çç³»ç»ç¸æ¯ï¼ä½¿ç¨è¿ç§ææ¯çç³»ç»ä½¿å¾å¤§åç¨åºçç¼ååå¾æ´å®¹æï¼å¯¹çæ­£çç©çåå­ï¼ä¾å¦ RAMï¼çä½¿ç¨ä¹æ´ææçãç®åï¼å¤§å¤æ°æä½ç³»ç»é½ä½¿ç¨äºèæåå­ï¼å¦ Windows å®¶æçâèæåå­âï¼Linux çâäº¤æ¢ç©ºé´âç­ãFrom:https://zh.wikipedia.org/wiki/èæåå­\n\n\n# 4.2 å±é¨æ§åç\n\nð¨âð»é¢è¯å® ï¼è¦æ³æ´å¥½å°çè§£èæåå­ææ¯ï¼å¿é¡»è¦ç¥éè®¡ç®æºä¸­èåçå±é¨æ§åçãå¦å¤ï¼å±é¨æ§åçæ¢éç¨äºç¨åºç»æï¼ä¹éç¨äºæ°æ®ç»æï¼æ¯éå¸¸éè¦çä¸ä¸ªæ¦å¿µã\n\nð æ ï¼å±é¨æ§åçæ¯èæåå­ææ¯çåºç¡ï¼æ­£æ¯å ä¸ºç¨åºè¿è¡å·æå±é¨æ§åçï¼æå¯ä»¥åªè£å¥é¨åç¨åºå°åå­å°±å¼å§è¿è¡ã\n\n> ä»¥ä¸åå®¹æèªãè®¡ç®æºæä½ç³»ç»æç¨ã ç¬¬ 4 ç« å­å¨å¨ç®¡çã\n\næ©å¨ 1968 å¹´çæ¶åï¼å°±æäººæåºæä»¬çç¨åºå¨æ§è¡çæ¶åå¾å¾åç°å±é¨æ§è§å¾ï¼ä¹å°±æ¯è¯´å¨æä¸ªè¾ç­çæ¶é´æ®µåï¼ç¨åºæ§è¡å±éäºæä¸å°é¨åï¼ç¨åºè®¿é®çå­å¨ç©ºé´ä¹å±éäºæä¸ªåºåã\n\nå±é¨æ§åçè¡¨ç°å¨ä»¥ä¸ä¸¤ä¸ªæ¹é¢ï¼\n\n 1. æ¶é´å±é¨æ§ ï¼å¦æç¨åºä¸­çææ¡æä»¤ä¸æ¦æ§è¡ï¼ä¸ä¹ä»¥åè¯¥æä»¤å¯è½åæ¬¡æ§è¡ï¼å¦æææ°æ®è¢«è®¿é®è¿ï¼ä¸ä¹ä»¥åè¯¥æ°æ®å¯è½åæ¬¡è¢«è®¿é®ãäº§çæ¶é´å±é¨æ§çå¸ååå ï¼æ¯ç±äºå¨ç¨åºä¸­å­å¨çå¤§éçå¾ªç¯æä½ã\n 2. ç©ºé´å±é¨æ§ ï¼ä¸æ¦ç¨åºè®¿é®äºæä¸ªå­å¨ååï¼å¨ä¸ä¹ä¹åï¼å¶éè¿çå­å¨ååä¹å°è¢«è®¿é®ï¼å³ç¨åºå¨ä¸æ®µæ¶é´åæè®¿é®çå°åï¼å¯è½éä¸­å¨ä¸å®çèå´ä¹åï¼è¿æ¯å ä¸ºæä»¤éå¸¸æ¯é¡ºåºå­æ¾ãé¡ºåºæ§è¡çï¼æ°æ®ä¹ä¸è¬æ¯ä»¥åéãæ°ç»ãè¡¨ç­å½¢å¼ç°èå­å¨çã\n\næ¶é´å±é¨æ§æ¯éè¿å°è¿æ¥ä½¿ç¨çæä»¤åæ°æ®ä¿å­å°é«éç¼å­å­å¨å¨ä¸­ï¼å¹¶ä½¿ç¨é«éç¼å­çå±æ¬¡ç»æå®ç°ãç©ºé´å±é¨æ§éå¸¸æ¯ä½¿ç¨è¾å¤§çé«éç¼å­ï¼å¹¶å°é¢åæºå¶éæå°é«éç¼å­æ§å¶é»è¾ä¸­å®ç°ãèæåå­ææ¯å®éä¸å°±æ¯å»ºç«äº âåå­ä¸å¤å­âçä¸¤çº§å­å¨å¨çç»æï¼å©ç¨å±é¨æ§åçå®ç°é«éç¼å­ã\n\n\n# 4.3 èæå­å¨å¨\n\n> åè¯¯ï¼èæå­å¨å¨åå«åèæåå­ï¼é½æ¯ Virtual Memory çç¿»è¯ï¼å±äºåä¸ä¸ªæ¦å¿µã\n\nð¨âð»é¢è¯å® ï¼é½è¯´äºèæåå­äºãä½ åè®²è®²èæå­å¨å¨æï¼\n\nð æ ï¼\n\n> è¿é¨ååå®¹æ¥èªï¼çéèç æä½ç³»ç»ç¥è¯ç¹æ´çã\n\nåºäºå±é¨æ§åçï¼å¨ç¨åºè£å¥æ¶ï¼å¯ä»¥å°ç¨åºçä¸é¨åè£å¥åå­ï¼èå°å¶ä»é¨åçå¨å¤å­ï¼å°±å¯ä»¥å¯å¨ç¨åºæ§è¡ãç±äºå¤å­å¾å¾æ¯åå­å¤§å¾å¤ï¼æä»¥æä»¬è¿è¡çè½¯ä»¶çåå­å¤§å°å®éä¸æ¯å¯ä»¥æ¯è®¡ç®æºç³»ç»å®éçåå­å¤§å°å¤§çãå¨ç¨åºæ§è¡è¿ç¨ä¸­ï¼å½æè®¿é®çä¿¡æ¯ä¸å¨åå­æ¶ï¼ç±æä½ç³»ç»å°æéè¦çé¨åè°å¥åå­ï¼ç¶åç»§ç»­æ§è¡ç¨åºãå¦ä¸æ¹é¢ï¼æä½ç³»ç»å°åå­ä¸­ææ¶ä¸ä½¿ç¨çåå®¹æ¢å°å¤å­ä¸ï¼ä»èè¾åºç©ºé´å­æ¾å°è¦è°å¥åå­çä¿¡æ¯ãè¿æ ·ï¼è®¡ç®æºå¥½åä¸ºç¨æ·æä¾äºä¸ä¸ªæ¯å®éåå­å¤§å¾å¤çå­å¨å¨ââèæå­å¨å¨ã\n\nå®éä¸ï¼æè§å¾èæåå­åæ ·æ¯ä¸ç§æ¶é´æ¢ç©ºé´çç­ç¥ï¼ä½ ç¨ CPU çè®¡ç®æ¶é´ï¼é¡µçè°å¥è°åºè±è´¹çæ¶é´ï¼æ¢æ¥äºä¸ä¸ªèæçæ´å¤§çç©ºé´æ¥æ¯æç¨åºçè¿è¡ãä¸å¾ä¸æå¹ï¼ç¨åºä¸çå ä¹ä¸æ¯æ¶é´æ¢ç©ºé´å°±æ¯ç©ºé´æ¢æ¶é´ã\n\n\n# 4.4 èæåå­çææ¯å®ç°\n\nð¨âð»é¢è¯å® ï¼èæåå­ææ¯çå®ç°å¢ï¼\n\nð æ ï¼èæåå­çå®ç°éè¦å»ºç«å¨ç¦»æ£åéçåå­ç®¡çæ¹å¼çåºç¡ä¸ã èæåå­çå®ç°æä»¥ä¸ä¸ç§æ¹å¼ï¼\n\n 1. è¯·æ±åé¡µå­å¨ç®¡ç ï¼å»ºç«å¨åé¡µç®¡çä¹ä¸ï¼ä¸ºäºæ¯æèæå­å¨å¨åè½èå¢å äºè¯·æ±è°é¡µåè½åé¡µé¢ç½®æ¢åè½ãè¯·æ±åé¡µæ¯ç®åæå¸¸ç¨çä¸ç§å®ç°èæå­å¨å¨çæ¹æ³ãè¯·æ±åé¡µå­å¨ç®¡çç³»ç»ä¸­ï¼å¨ä½ä¸å¼å§è¿è¡ä¹åï¼ä»è£å¥å½åè¦æ§è¡çé¨åæ®µå³å¯è¿è¡ãåå¦å¨ä½ä¸è¿è¡çè¿ç¨ä¸­åç°è¦è®¿é®çé¡µé¢ä¸å¨åå­ï¼åç±å¤çå¨éç¥æä½ç³»ç»æç§å¯¹åºçé¡µé¢ç½®æ¢ç®æ³å°ç¸åºçé¡µé¢è°å¥å°ä¸»å­ï¼åæ¶æä½ç³»ç»ä¹å¯ä»¥å°ææ¶ä¸ç¨çé¡µé¢ç½®æ¢å°å¤å­ä¸­ã\n 2. è¯·æ±åæ®µå­å¨ç®¡ç ï¼å»ºç«å¨åæ®µå­å¨ç®¡çä¹ä¸ï¼å¢å äºè¯·æ±è°æ®µåè½ãåæ®µç½®æ¢åè½ãè¯·æ±åæ®µå¨å­ç®¡çæ¹å¼å°±å¦åè¯·æ±åé¡µå¨å­ç®¡çæ¹å¼ä¸æ ·ï¼å¨ä½ä¸å¼å§è¿è¡ä¹åï¼ä»è£å¥å½åè¦æ§è¡çé¨åæ®µå³å¯è¿è¡ï¼å¨æ§è¡è¿ç¨ä¸­ï¼å¯ä½¿ç¨è¯·æ±è°å¥ä¸­æ­å¨æè£å¥è¦è®¿é®ä½åä¸å¨åå­çç¨åºæ®µï¼å½åå­ç©ºé´å·²æ»¡ï¼èåéè¦è£å¥æ°çæ®µæ¶ï¼æ ¹æ®ç½®æ¢åè½éå½è°åºæä¸ªæ®µï¼ä»¥ä¾¿è¾åºç©ºé´èè£å¥æ°çæ®µã\n 3. è¯·æ±æ®µé¡µå¼å­å¨ç®¡ç\n\nè¿éå¤è¯´ä¸ä¸ï¼å¾å¤äººå®¹æææ··è¯·æ±åé¡µä¸åé¡µå­å¨ç®¡çï¼ä¸¤èæä½ä¸åå¢ï¼\n\nè¯·æ±åé¡µå­å¨ç®¡çå»ºç«å¨åé¡µç®¡çä¹ä¸ãä»ä»¬çæ ¹æ¬åºå«æ¯æ¯å¦å°ç¨åºå¨é¨æéçå¨é¨å°åç©ºé´é½è£å¥ä¸»å­ï¼è¿ä¹æ¯è¯·æ±åé¡µå­å¨ç®¡çå¯ä»¥æä¾èæåå­çåå ï¼æä»¬å¨ä¸é¢å·²ç»åæè¿äºã\n\nå®ä»¬ä¹é´çæ ¹æ¬åºå«å¨äºæ¯å¦å°ä¸ä½ä¸çå¨é¨å°åç©ºé´åæ¶è£å¥ä¸»å­ãè¯·æ±åé¡µå­å¨ç®¡çä¸è¦æ±å°ä½ä¸å¨é¨å°åç©ºé´åæ¶è£å¥ä¸»å­ãåºäºè¿ä¸ç¹ï¼è¯·æ±åé¡µå­å¨ç®¡çå¯ä»¥æä¾èå­ï¼èåé¡µå­å¨ç®¡çå´ä¸è½æä¾èå­ã\n\nä¸ç®¡æ¯ä¸é¢é£ç§å®ç°æ¹å¼ï¼æä»¬ä¸è¬é½éè¦ï¼\n\n 1. ä¸å®å®¹éçåå­åå¤å­ï¼å¨è½½å¥ç¨åºçæ¶åï¼åªéè¦å°ç¨åºçä¸é¨åè£å¥åå­ï¼èå°å¶ä»é¨åçå¨å¤å­ï¼ç¶åç¨åºå°±å¯ä»¥æ§è¡äºï¼\n 2. ç¼ºé¡µä¸­æ­ï¼å¦æéæ§è¡çæä»¤æè®¿é®çæ°æ®å°æªå¨åå­ï¼ç§°ä¸ºç¼ºé¡µæç¼ºæ®µï¼ï¼åç±å¤çå¨éç¥æä½ç³»ç»å°ç¸åºçé¡µé¢ææ®µè°å¥å°åå­ï¼ç¶åç»§ç»­æ§è¡ç¨åºï¼\n 3. èæå°åç©ºé´ ï¼é»è¾å°åå°ç©çå°åçåæ¢ã\n\n\n# 4.5 é¡µé¢ç½®æ¢ç®æ³\n\nð¨âð»é¢è¯å® ï¼èæåå­ç®¡çå¾éè¦çä¸ä¸ªæ¦å¿µå°±æ¯é¡µé¢ç½®æ¢ç®æ³ãé£ä½ è¯´ä¸ä¸ é¡µé¢ç½®æ¢ç®æ³çä½ç¨?å¸¸è§çé¡µé¢ç½®æ¢ç®æ³æåªäº?\n\nð æ ï¼\n\n> è¿ä¸ªé¢ç®ç»å¸¸ä½ä¸ºç¬è¯é¢åºç°ï¼ç½ä¸å·²ç»ç»åºäºå¾ä¸éçåç­ï¼æè¿éåªæ¯æ»ç»æ´çäºä¸ä¸ã\n\nå°åæ å°è¿ç¨ä¸­ï¼è¥å¨é¡µé¢ä¸­åç°æè¦è®¿é®çé¡µé¢ä¸å¨åå­ä¸­ï¼ååçç¼ºé¡µä¸­æ­ ã\n\n> ç¼ºé¡µä¸­æ­ å°±æ¯è¦è®¿é®çé¡µä¸å¨ä¸»å­ï¼éè¦æä½ç³»ç»å°å¶è°å¥ä¸»å­ååè¿è¡è®¿é®ã å¨è¿ä¸ªæ¶åï¼è¢«åå­æ å°çæä»¶å®éä¸æäºä¸ä¸ªåé¡µäº¤æ¢æä»¶ã\n\nå½åçç¼ºé¡µä¸­æ­æ¶ï¼å¦æå½ååå­ä¸­å¹¶æ²¡æç©ºé²çé¡µé¢ï¼æä½ç³»ç»å°±å¿é¡»å¨åå­éæ©ä¸ä¸ªé¡µé¢å°å¶ç§»åºåå­ï¼ä»¥ä¾¿ä¸ºå³å°è°å¥çé¡µé¢è®©åºç©ºé´ãç¨æ¥éæ©æ·æ±°åªä¸é¡µçè§åå«åé¡µé¢ç½®æ¢ç®æ³ï¼æä»¬å¯ä»¥æé¡µé¢ç½®æ¢ç®æ³çææ¯æ·æ±°é¡µé¢çè§åã\n\n * OPT é¡µé¢ç½®æ¢ç®æ³ï¼æä½³é¡µé¢ç½®æ¢ç®æ³ï¼ ï¼æä½³(Optimal, OPT)ç½®æ¢ç®æ³æéæ©çè¢«æ·æ±°é¡µé¢å°æ¯ä»¥åæ°¸ä¸ä½¿ç¨çï¼æèæ¯å¨æé¿æ¶é´åä¸åè¢«è®¿é®çé¡µé¢,è¿æ ·å¯ä»¥ä¿è¯è·å¾æä½çç¼ºé¡µçãä½ç±äºäººä»¬ç®åæ æ³é¢ç¥è¿ç¨å¨åå­ä¸çè¥åé¡µé¢ä¸­åªä¸ªæ¯æªæ¥æé¿æ¶é´åä¸åè¢«è®¿é®çï¼å èè¯¥ç®æ³æ æ³å®ç°ãä¸è¬ä½ä¸ºè¡¡éå¶ä»ç½®æ¢ç®æ³çæ¹æ³ã\n * FIFOï¼First In First Outï¼ é¡µé¢ç½®æ¢ç®æ³ï¼åè¿ååºé¡µé¢ç½®æ¢ç®æ³ï¼ : æ»æ¯æ·æ±°æåè¿å¥åå­çé¡µé¢ï¼å³éæ©å¨åå­ä¸­é©»çæ¶é´æä¹çé¡µé¢è¿è¡æ·æ±°ã\n * LRU ï¼Least Recently Usedï¼é¡µé¢ç½®æ¢ç®æ³ï¼æè¿æä¹æªä½¿ç¨é¡µé¢ç½®æ¢ç®æ³ï¼ ï¼LRU ç®æ³èµäºæ¯ä¸ªé¡µé¢ä¸ä¸ªè®¿é®å­æ®µï¼ç¨æ¥è®°å½ä¸ä¸ªé¡µé¢èªä¸æ¬¡è¢«è®¿é®ä»¥æ¥æç»åçæ¶é´ Tï¼å½é¡»æ·æ±°ä¸ä¸ªé¡µé¢æ¶ï¼éæ©ç°æé¡µé¢ä¸­å¶ T å¼æå¤§çï¼å³æè¿æä¹æªä½¿ç¨çé¡µé¢äºä»¥æ·æ±°ã\n * LFU ï¼Least Frequently Usedï¼é¡µé¢ç½®æ¢ç®æ³ï¼æå°ä½¿ç¨é¡µé¢ç½®æ¢ç®æ³ï¼ : è¯¥ç½®æ¢ç®æ³éæ©å¨ä¹åæ¶æä½¿ç¨æå°çé¡µé¢ä½ä¸ºæ·æ±°é¡µã\n\n\n# Reference\n\n * https://javaguide.cn/",normalizedContent:"# ä¸ æä½ç³»ç»åºç¡\n\né¢è¯å®é¡¶çè¬æ¾çåååæèµ°æ¥ï¼åªè§ä»ä¸ææ¿çåéç thinkpad ï¼ä¸ææçä»é£æ·¡é»çé¿è£ã\n\n\n# 1.1 ä»ä¹æ¯æä½ç³»ç»ï¼\n\nð¨âð»é¢è¯å® ï¼ åæ¥ä¸ªç®åé®é¢å§ï¼ä»ä¹æ¯æä½ç³»ç»ï¼\n\nð æ ï¼æéè¿ä»¥ä¸åç¹åæ¨ä»ç»ä¸ä¸ä»ä¹æ¯æä½ç³»ç»å§ï¼\n\n 1. æä½ç³»ç»ï¼operating systemï¼ç®ç§° osï¼æ¯ç®¡çè®¡ç®æºç¡¬ä»¶ä¸è½¯ä»¶èµæºçç¨åºï¼æ¯è®¡ç®æºçåºç³ã\n 2. æä½ç³»ç»æ¬è´¨ä¸æ¯ä¸ä¸ªè¿è¡å¨è®¡ç®æºä¸çè½¯ä»¶ç¨åº ï¼ç¨äºç®¡çè®¡ç®æºç¡¬ä»¶åè½¯ä»¶èµæºã ä¸¾ä¾ï¼è¿è¡å¨ä½ çµèä¸çææåºç¨ç¨åºé½éè¿æä½ç³»ç»æ¥è°ç¨ç³»ç»åå­ä»¥åç£çç­ç­ç¡¬ä»¶ã\n 3. æä½ç³»ç»å­å¨å±è½äºç¡¬ä»¶å±çå¤ææ§ã æä½ç³»ç»å°±åæ¯ç¡¬ä»¶ä½¿ç¨çè´è´£äººï¼ç»ç­¹çåç§ç¸å³äºé¡¹ã\n 4. æä½ç³»ç»çåæ ¸ï¼kernelï¼æ¯æä½ç³»ç»çæ ¸å¿é¨åï¼å®è´è´£ç³»ç»çåå­ç®¡çï¼ç¡¬ä»¶è®¾å¤çç®¡çï¼æä»¶ç³»ç»çç®¡çä»¥ååºç¨ç¨åºçç®¡çã åæ ¸æ¯è¿æ¥åºç¨ç¨åºåç¡¬ä»¶çæ¡¥æ¢ï¼å³å®çç³»ç»çæ§è½åç¨³å®æ§ã\n\n\n\n\n# 1.2 ç³»ç»è°ç¨\n\nð¨âð»é¢è¯å® ï¼ä»ä¹æ¯ç³»ç»è°ç¨å¢ï¼ è½ä¸è½è¯¦ç»ä»ç»ä¸ä¸ã\n\nð æ ï¼ä»ç»ç³»ç»è°ç¨ä¹åï¼æä»¬åæ¥äºè§£ä¸ä¸ç¨æ·æåç³»ç»æã\n\næ ¹æ®è¿ç¨è®¿é®èµæºçç¹ç¹ï¼æä»¬å¯ä»¥æè¿ç¨å¨ç³»ç»ä¸çè¿è¡åä¸ºä¸¤ä¸ªçº§å«ï¼\n\n 1. ç¨æ·æ(user mode) : ç¨æ·æè¿è¡çè¿ç¨å¯ä»¥ç´æ¥è¯»åç¨æ·ç¨åºçæ°æ®ã\n 2. ç³»ç»æ(kernel mode):å¯ä»¥ç®åççè§£ç³»ç»æè¿è¡çè¿ç¨æç¨åºå ä¹å¯ä»¥è®¿é®è®¡ç®æºçä»»ä½èµæºï¼ä¸åéå¶ã\n\nè¯´äºç¨æ·æåç³»ç»æä¹åï¼é£ä¹ä»ä¹æ¯ç³»ç»è°ç¨å¢ï¼\n\næä»¬è¿è¡çç¨åºåºæ¬é½æ¯è¿è¡å¨ç¨æ·æï¼å¦ææä»¬è°ç¨æä½ç³»ç»æä¾çç³»ç»æçº§å«çå­åè½ååå¢ï¼é£å°±éè¦ç³»ç»è°ç¨äºï¼\n\nä¹å°±æ¯è¯´å¨æä»¬è¿è¡çç¨æ·ç¨åºä¸­ï¼å¡æ¯ä¸ç³»ç»æçº§å«çèµæºæå³çæä½ï¼å¦æä»¶ç®¡çãè¿ç¨æ§å¶ãåå­ç®¡çç­)ï¼é½å¿é¡»éè¿ç³»ç»è°ç¨æ¹å¼åæä½ç³»ç»æåºæå¡è¯·æ±ï¼å¹¶ç±æä½ç³»ç»ä»£ä¸ºå®æã\n\nè¿äºç³»ç»è°ç¨æåè½å¤§è´å¯åä¸ºå¦ä¸å ç±»ï¼\n\n * è®¾å¤ç®¡çãå®æè®¾å¤çè¯·æ±æéæ¾ï¼ä»¥åè®¾å¤å¯å¨ç­åè½ã\n * æä»¶ç®¡çãå®ææä»¶çè¯»ãåãåå»ºåå é¤ç­åè½ã\n * è¿ç¨æ§å¶ãå®æè¿ç¨çåå»ºãæ¤éãé»å¡åå¤éç­åè½ã\n * è¿ç¨éä¿¡ãå®æè¿ç¨ä¹é´çæ¶æ¯ä¼ éæä¿¡å·ä¼ éç­åè½ã\n * åå­ç®¡çãå®æåå­çåéãåæ¶ä»¥åè·åä½ä¸å ç¨åå­åºå¤§å°åå°åç­åè½ã\n\n\n# äº è¿ç¨åçº¿ç¨\n\n\n# 2.1 è¿ç¨åçº¿ç¨çåºå«\n\nð¨âð»é¢è¯å®: å¥½çï¼ææç½äºï¼é£ä½ åè¯´ä¸ä¸ï¼ è¿ç¨åçº¿ç¨çåºå«ã\n\nð æï¼ å¥½çï¼ ä¸å¾æ¯ java åå­åºåï¼æä»¬ä» jvm çè§åº¦æ¥è¯´ä¸ä¸çº¿ç¨åè¿ç¨ä¹é´çå³ç³»å§ï¼\n\n\n\nä»ä¸å¾å¯ä»¥çåºï¼ä¸ä¸ªè¿ç¨ä¸­å¯ä»¥æå¤ä¸ªçº¿ç¨ï¼å¤ä¸ªçº¿ç¨å±äº«è¿ç¨çå åæ¹æ³åº (jdk1.8 ä¹åçåç©ºé´)èµæºï¼ä½æ¯æ¯ä¸ªçº¿ç¨æèªå·±çç¨åºè®¡æ°å¨ãèææºæ  å æ¬å°æ¹æ³æ ã\n\næ»ç»ï¼ çº¿ç¨æ¯è¿ç¨ååæçæ´å°çè¿è¡åä½,ä¸ä¸ªè¿ç¨å¨å¶æ§è¡çè¿ç¨ä¸­å¯ä»¥äº§çå¤ä¸ªçº¿ç¨ãçº¿ç¨åè¿ç¨æå¤§çä¸åå¨äºåºæ¬ä¸åè¿ç¨æ¯ç¬ç«çï¼èåçº¿ç¨åä¸ä¸å®ï¼å ä¸ºåä¸è¿ç¨ä¸­ççº¿ç¨ææå¯è½ä¼ç¸äºå½±åãçº¿ç¨æ§è¡å¼éå°ï¼ä½ä¸å©äºèµæºçç®¡çåä¿æ¤ï¼èè¿ç¨æ­£ç¸åã\n\n\n# 2.2 è¿ç¨æåªå ç§ç¶æ?\n\nð¨âð»é¢è¯å® ï¼ é£ä½ åè¯´è¯´è¿ç¨æåªå ç§ç¶æ?\n\nð æ ï¼æä»¬ä¸è¬æè¿ç¨å¤§è´åä¸º 5 ç§ç¶æï¼è¿ä¸ç¹åçº¿ç¨å¾åï¼\n\n * åå»ºç¶æ(new) ï¼è¿ç¨æ­£å¨è¢«åå»ºï¼å°æªå°å°±ç»ªç¶æã\n * å°±ç»ªç¶æ(ready) ï¼è¿ç¨å·²å¤äºåå¤è¿è¡ç¶æï¼å³è¿ç¨è·å¾äºé¤äºå¤çå¨ä¹å¤çä¸åæéèµæºï¼ä¸æ¦å¾å°å¤çå¨èµæº(å¤çå¨åéçæ¶é´ç)å³å¯è¿è¡ã\n * è¿è¡ç¶æ(running) ï¼è¿ç¨æ­£å¨å¤çå¨ä¸ä¸è¿è¡(åæ ¸ cpu ä¸ä»»ææ¶å»åªæä¸ä¸ªè¿ç¨å¤äºè¿è¡ç¶æ)ã\n * é»å¡ç¶æ(waiting) ï¼åç§°ä¸ºç­å¾ç¶æï¼è¿ç¨æ­£å¨ç­å¾æä¸äºä»¶èæåè¿è¡å¦ç­å¾æèµæºä¸ºå¯ç¨æç­å¾ io æä½å®æãå³ä½¿å¤çå¨ç©ºé²ï¼è¯¥è¿ç¨ä¹ä¸è½è¿è¡ã\n * ç»æç¶æ(terminated) ï¼è¿ç¨æ­£å¨ä»ç³»ç»ä¸­æ¶å¤±ãå¯è½æ¯è¿ç¨æ­£å¸¸ç»ææå¶ä»åå ä¸­æ­éåºè¿è¡ã\n\n> è®¢æ­£ï¼ä¸å¾ä¸­ running ç¶æè¢« interrupt å ready ç¶æè½¬æ¢çç®­å¤´æ¹ååäºã\n\n\n\n\n# 2.3 è¿ç¨é´çéä¿¡æ¹å¼\n\nð¨âð»é¢è¯å® ï¼è¿ç¨é´çéä¿¡å¸¸è§ççæåªå ç§æ¹å¼å¢?\n\nð æ ï¼å¤§æ¦æ 7 ç§å¸¸è§çè¿ç¨é´çéä¿¡æ¹å¼ã\n\n> ä¸é¢è¿é¨åæ»ç»åèäº:ãè¿ç¨é´éä¿¡ ipc (interprocess communication)ã è¿ç¯æç« ï¼æ¨èéè¯»ï¼æ»ç»çéå¸¸ä¸éã\n\n 1. ç®¡é/å¿åç®¡é(pipes) ï¼ç¨äºå·æäº²ç¼å³ç³»çç¶å­è¿ç¨é´æèåå¼è¿ç¨ä¹é´çéä¿¡ã\n 2. æåç®¡é(names pipes) : å¿åç®¡éç±äºæ²¡æåå­ï¼åªè½ç¨äºäº²ç¼å³ç³»çè¿ç¨é´éä¿¡ãä¸ºäºåæè¿ä¸ªç¼ºç¹ï¼æåºäºæåç®¡éãæåç®¡éä¸¥æ ¼éµå¾ªåè¿ååº(first in first out)ãæåç®¡éä»¥ç£çæä»¶çæ¹å¼å­å¨ï¼å¯ä»¥å®ç°æ¬æºä»»æä¸¤ä¸ªè¿ç¨éä¿¡ã\n 3. ä¿¡å·(signal) ï¼ä¿¡å·æ¯ä¸ç§æ¯è¾å¤æçéä¿¡æ¹å¼ï¼ç¨äºéç¥æ¥æ¶è¿ç¨æä¸ªäºä»¶å·²ç»åçï¼\n 4. æ¶æ¯éå(message queuing) ï¼æ¶æ¯éåæ¯æ¶æ¯çé¾è¡¨,å·æç¹å®çæ ¼å¼,å­æ¾å¨åå­ä¸­å¹¶ç±æ¶æ¯éåæ è¯ç¬¦æ è¯ãç®¡éåæ¶æ¯éåçéä¿¡æ°æ®é½æ¯åè¿ååºçååãä¸ç®¡éï¼æ åç®¡éï¼åªå­å¨äºåå­ä¸­çæä»¶ï¼å½åç®¡éï¼å­å¨äºå®éçç£çä»è´¨æèæä»¶ç³»ç»ï¼ä¸åçæ¯æ¶æ¯éåå­æ¾å¨åæ ¸ä¸­ï¼åªæå¨åæ ¸éå¯(å³ï¼æä½ç³»ç»éå¯)æèæ¾å¼å°å é¤ä¸ä¸ªæ¶æ¯éåæ¶ï¼è¯¥æ¶æ¯éåæä¼è¢«çæ­£çå é¤ãæ¶æ¯éåå¯ä»¥å®ç°æ¶æ¯çéæºæ¥è¯¢,æ¶æ¯ä¸ä¸å®è¦ä»¥åè¿ååºçæ¬¡åºè¯»å,ä¹å¯ä»¥ææ¶æ¯çç±»åè¯»å.æ¯ fifo æ´æä¼å¿ãæ¶æ¯éååæäºä¿¡å·æ¿è½½ä¿¡æ¯éå°ï¼ç®¡éåªè½æ¿è½½æ æ ¼å¼å­ èæµä»¥åç¼å²åºå¤§å°åéç­ç¼ºç¹ã\n 5. ä¿¡å·é(semaphores) ï¼ä¿¡å·éæ¯ä¸ä¸ªè®¡æ°å¨ï¼ç¨äºå¤è¿ç¨å¯¹å±äº«æ°æ®çè®¿é®ï¼ä¿¡å·éçæå¾å¨äºè¿ç¨é´åæ­¥ãè¿ç§éä¿¡æ¹å¼ä¸»è¦ç¨äºè§£å³ä¸åæ­¥ç¸å³çé®é¢å¹¶é¿åç«äºæ¡ä»¶ã\n 6. å±äº«åå­(shared memory) ï¼ä½¿å¾å¤ä¸ªè¿ç¨å¯ä»¥è®¿é®åä¸ååå­ç©ºé´ï¼ä¸åè¿ç¨å¯ä»¥åæ¶çå°å¯¹æ¹è¿ç¨ä¸­å¯¹å±äº«åå­ä¸­æ°æ®çæ´æ°ãè¿ç§æ¹å¼éè¦ä¾é æç§åæ­¥æä½ï¼å¦äºæ¥éåä¿¡å·éç­ãå¯ä»¥è¯´è¿æ¯ææç¨çè¿ç¨é´éä¿¡æ¹å¼ã\n 7. å¥æ¥å­(sockets) : æ­¤æ¹æ³ä¸»è¦ç¨äºå¨å®¢æ·ç«¯åæå¡å¨ä¹é´éè¿ç½ç»è¿è¡éä¿¡ãå¥æ¥å­æ¯æ¯æ tcp/ip çç½ç»éä¿¡çåºæ¬æä½ååï¼å¯ä»¥çåæ¯ä¸åä¸»æºä¹é´çè¿ç¨è¿è¡ååéä¿¡çç«¯ç¹ï¼ç®åçè¯´å°±æ¯éä¿¡çä¸¤æ¹çä¸ç§çº¦å®ï¼ç¨å¥æ¥å­ä¸­çç¸å³å½æ°æ¥å®æéä¿¡è¿ç¨ã\n\n\n# 2.4 çº¿ç¨é´çåæ­¥çæ¹å¼\n\nð¨âð»é¢è¯å® ï¼é£çº¿ç¨é´çåæ­¥çæ¹å¼æåªäºå¢?\n\nð æ ï¼çº¿ç¨åæ­¥æ¯ä¸¤ä¸ªæå¤ä¸ªå±äº«å³é®èµæºççº¿ç¨çå¹¶åæ§è¡ãåºè¯¥åæ­¥çº¿ç¨ä»¥é¿åå³é®çèµæºä½¿ç¨å²çªãæä½ç³»ç»ä¸è¬æä¸é¢ä¸ç§çº¿ç¨åæ­¥çæ¹å¼ï¼\n\n 1. äºæ¥é(mutex)ï¼éç¨äºæ¥å¯¹è±¡æºå¶ï¼åªææ¥æäºæ¥å¯¹è±¡ççº¿ç¨ææè®¿é®å¬å±èµæºçæéãå ä¸ºäºæ¥å¯¹è±¡åªæä¸ä¸ªï¼æä»¥å¯ä»¥ä¿è¯å¬å±èµæºä¸ä¼è¢«å¤ä¸ªçº¿ç¨åæ¶è®¿é®ãæ¯å¦ java ä¸­ç synchronized å³é®è¯ååç§ lock é½æ¯è¿ç§æºå¶ã\n 2. ä¿¡å·é(semaphore) ï¼å®åè®¸åä¸æ¶å»å¤ä¸ªçº¿ç¨è®¿é®åä¸èµæºï¼ä½æ¯éè¦æ§å¶åä¸æ¶å»è®¿é®æ­¤èµæºçæå¤§çº¿ç¨æ°éã\n 3. äºä»¶(event) :wait/notifyï¼éè¿éç¥æä½çæ¹å¼æ¥ä¿æå¤çº¿ç¨åæ­¥ï¼è¿å¯ä»¥æ¹ä¾¿çå®ç°å¤çº¿ç¨ä¼åçº§çæ¯è¾æä½ã\n\n\n# 2.5 è¿ç¨çè°åº¦ç®æ³\n\nð¨âð»é¢è¯å® ï¼ä½ ç¥éæä½ç³»ç»ä¸­è¿ç¨çè°åº¦ç®æ³æåªäºå?\n\nð æ ï¼å¯å¯ï¼è¿ä¸ªæä»¬å¤§å­¦çæ¶åå­¦è¿ï¼æ¯ä¸ä¸ªå¾éè¦çç¥è¯ç¹ï¼\n\nä¸ºäºç¡®å®é¦åæ§è¡åªä¸ªè¿ç¨ä»¥åæåæ§è¡åªä¸ªè¿ç¨ä»¥å®ç°æå¤§ cpu å©ç¨çï¼è®¡ç®æºç§å­¦å®¶å·²ç»å®ä¹äºä¸äºç®æ³ï¼å®ä»¬æ¯ï¼\n\n * åå°åæå¡(fcfs)è°åº¦ç®æ³ : ä»å°±ç»ªéåä¸­éæ©ä¸ä¸ªæåè¿å¥è¯¥éåçè¿ç¨ä¸ºä¹åéèµæºï¼ä½¿å®ç«å³æ§è¡å¹¶ä¸ç´æ§è¡å°å®ææåçæäºä»¶èè¢«é»å¡æ¾å¼å ç¨ cpu æ¶åéæ°è°åº¦ã\n * ç­ä½ä¸ä¼å(sjf)çè°åº¦ç®æ³ : ä»å°±ç»ªéåä¸­éåºä¸ä¸ªä¼°è®¡è¿è¡æ¶é´æç­çè¿ç¨ä¸ºä¹åéèµæºï¼ä½¿å®ç«å³æ§è¡å¹¶ä¸ç´æ§è¡å°å®ææåçæäºä»¶èè¢«é»å¡æ¾å¼å ç¨ cpu æ¶åéæ°è°åº¦ã\n * æ¶é´çè½®è½¬è°åº¦ç®æ³ : æ¶é´çè½®è½¬è°åº¦æ¯ä¸ç§æå¤èï¼æç®åï¼æå¬å¹³ä¸ä½¿ç¨æå¹¿çç®æ³ï¼åç§° rr(round robin)è°åº¦ãæ¯ä¸ªè¿ç¨è¢«åéä¸ä¸ªæ¶é´æ®µï¼ç§°ä½å®çæ¶é´çï¼å³è¯¥è¿ç¨åè®¸è¿è¡çæ¶é´ã\n * å¤çº§åé¦éåè°åº¦ç®æ³ ï¼åé¢ä»ç»çå ç§è¿ç¨è°åº¦çç®æ³é½æä¸å®çå±éæ§ãå¦ç­è¿ç¨ä¼åçè°åº¦ç®æ³ï¼ä»ç§é¡¾äºç­è¿ç¨èå¿½ç¥äºé¿è¿ç¨ ãå¤çº§åé¦éåè°åº¦ç®æ³æ¢è½ä½¿é«ä¼åçº§çä½ä¸å¾å°ååºåè½ä½¿ç­ä½ä¸ï¼è¿ç¨ï¼è¿éå®æãï¼å èå®æ¯ç®åè¢«å¬è®¤çä¸ç§è¾å¥½çè¿ç¨è°åº¦ç®æ³ï¼unix æä½ç³»ç»éåçä¾¿æ¯è¿ç§è°åº¦ç®æ³ã\n * ä¼åçº§è°åº¦ ï¼ ä¸ºæ¯ä¸ªæµç¨åéä¼åçº§ï¼é¦åæ§è¡å·ææé«ä¼åçº§çè¿ç¨ï¼ä¾æ­¤ç±»æ¨ãå·æç¸åä¼åçº§çè¿ç¨ä»¥ fcfs æ¹å¼æ§è¡ãå¯ä»¥æ ¹æ®åå­è¦æ±ï¼æ¶é´è¦æ±æä»»ä½å¶ä»èµæºè¦æ±æ¥ç¡®å®ä¼åçº§ã\n\n\n# 2.6 ä»ä¹æ¯æ­»é\n\nð¨âð»é¢è¯å® ï¼ä½ ç¥éä»ä¹æ¯æ­»éå?\n\nð æ ï¼æ­»éæè¿°çæ¯è¿æ ·ä¸ç§æåµï¼å¤ä¸ªè¿ç¨/çº¿ç¨åæ¶è¢«é»å¡ï¼å®ä»¬ä¸­çä¸ä¸ªæèå¨é¨é½å¨ç­å¾æä¸ªèµæºè¢«éæ¾ãç±äºè¿ç¨/çº¿ç¨è¢«æ éæå°é»å¡ï¼å æ­¤ç¨åºä¸å¯è½æ­£å¸¸ç»æ­¢ã\n\n\n# 2.7 æ­»éçåä¸ªæ¡ä»¶\n\nð¨âð»é¢è¯å® ï¼äº§çæ­»éçåä¸ªå¿è¦æ¡ä»¶æ¯ä»ä¹?\n\nð æ ï¼å¦æç³»ç»ä¸­ä»¥ä¸åä¸ªæ¡ä»¶åæ¶æç«ï¼é£ä¹å°±è½å¼èµ·æ­»éï¼\n\n * äºæ¥ï¼èµæºå¿é¡»å¤äºéå±äº«æ¨¡å¼ï¼å³ä¸æ¬¡åªæä¸ä¸ªè¿ç¨å¯ä»¥ä½¿ç¨ãå¦æå¦ä¸è¿ç¨ç³è¯·è¯¥èµæºï¼é£ä¹å¿é¡»ç­å¾ç´å°è¯¥èµæºè¢«éæ¾ä¸ºæ­¢ã\n * å æå¹¶ç­å¾ï¼ä¸ä¸ªè¿ç¨è³å°åºè¯¥å æä¸ä¸ªèµæºï¼å¹¶ç­å¾å¦ä¸èµæºï¼èè¯¥èµæºè¢«å¶ä»è¿ç¨æå æã\n * éæ¢å ï¼èµæºä¸è½è¢«æ¢å ãåªè½å¨ææèµæºçè¿ç¨å®æä»»å¡åï¼è¯¥èµæºæä¼è¢«éæ¾ã\n * å¾ªç¯ç­å¾ï¼æä¸ç»ç­å¾è¿ç¨ {p0, p1,..., pn}ï¼ p0 ç­å¾çèµæºè¢« p1 å æï¼p1 ç­å¾çèµæºè¢« p2 å æï¼......ï¼pn-1 ç­å¾çèµæºè¢« pn å æï¼pn ç­å¾çèµæºè¢« p0 å æã\n\næ³¨æï¼åªæåä¸ªæ¡ä»¶åæ¶æç«æ¶ï¼æ­»éæä¼åºç°ã\n\n\n# 2.8 è§£å³æ­»éçæ¹æ³\n\nè§£å³æ­»éçæ¹æ³å¯ä»¥ä»å¤ä¸ªè§åº¦å»åæï¼ä¸è¬çæåµä¸ï¼æé¢é²ï¼é¿åï¼æ£æµåè§£é¤åç§ã\n\n * é¢é² æ¯éç¨æç§ç­ç¥ï¼éå¶å¹¶åè¿ç¨å¯¹èµæºçè¯·æ±ï¼ä»èä½¿å¾æ­»éçå¿è¦æ¡ä»¶å¨ç³»ç»æ§è¡çä»»ä½æ¶é´ä¸é½ä¸æ»¡è¶³ã\n\n * é¿ååæ¯ç³»ç»å¨åéèµæºæ¶ï¼æ ¹æ®èµæºçä½¿ç¨æåµæåååºé¢æµï¼ä»èé¿åæ­»éçåç\n\n * æ£æµæ¯æç³»ç»è®¾æä¸é¨çæºæï¼å½æ­»éåçæ¶ï¼è¯¥æºæè½å¤æ£æµæ­»éçåçï¼å¹¶ç²¾ç¡®å°ç¡®å®ä¸æ­»éæå³çè¿ç¨åèµæºã\n\n * è§£é¤ æ¯ä¸æ£æµç¸éå¥çä¸ç§æªæ½ï¼ç¨äºå°è¿ç¨ä»æ­»éç¶æä¸è§£è±åºæ¥ã\n\n# æ­»éçé¢é²\n\næ­»éåå¤§å¿è¦æ¡ä»¶ä¸é¢é½å·²ç»ååºæ¥äºï¼å¾æ¾ç¶ï¼åªè¦ç ´ååä¸ªå¿è¦æ¡ä»¶ä¸­çä»»ä½ä¸ä¸ªå°±è½å¤é¢é²æ­»éçåçã\n\nç ´åç¬¬ä¸ä¸ªæ¡ä»¶ äºæ¥æ¡ä»¶ï¼ä½¿å¾èµæºæ¯å¯ä»¥åæ¶è®¿é®çï¼è¿æ¯ç§ç®åçæ¹æ³ï¼ç£çå°±å¯ä»¥ç¨è¿ç§æ¹æ³ç®¡çï¼ä½æ¯æä»¬è¦ç¥éï¼æå¾å¤èµæº å¾å¾æ¯ä¸è½åæ¶è®¿é®ç ï¼æä»¥è¿ç§åæ³å¨å¤§å¤æ°çåºåæ¯è¡ä¸éçã\n\nç ´åç¬¬ä¸ä¸ªæ¡ä»¶ éæ¢å  ï¼ä¹å°±æ¯è¯´å¯ä»¥éç¨ å¥å¤ºå¼è°åº¦ç®æ³ï¼ä½å¥å¤ºå¼è°åº¦æ¹æ³ç®åä¸è¬ä»éç¨äº ä¸»å­èµæº å å¤çå¨èµæº çåéï¼å¹¶ä¸éç¨äºæä»¥çèµæºï¼ä¼å¯¼è´ èµæºå©ç¨çä¸éã\n\næä»¥ä¸è¬æ¯è¾å®ç¨ç é¢é²æ­»éçæ¹æ³ï¼æ¯éè¿èèç ´åç¬¬äºä¸ªæ¡ä»¶åç¬¬åä¸ªæ¡ä»¶ã\n\n1ãéæåéç­ç¥\n\néæåéç­ç¥å¯ä»¥ç ´åæ­»éäº§ççç¬¬äºä¸ªæ¡ä»¶ï¼å æå¹¶ç­å¾ï¼ãæè°éæåéç­ç¥ï¼å°±æ¯æä¸ä¸ªè¿ç¨å¿é¡»å¨æ§è¡åå°±ç³è¯·å°å®æéè¦çå¨é¨èµæºï¼å¹¶ä¸ç¥éå®æè¦çèµæºé½å¾å°æ»¡è¶³ä¹åæå¼å§æ§è¡ãè¿ç¨è¦ä¹å æææçèµæºç¶åå¼å§æ§è¡ï¼è¦ä¹ä¸å æèµæºï¼ä¸ä¼åºç°å æä¸äºèµæºç­å¾ä¸äºèµæºçæåµã\n\néæåéç­ç¥é»è¾ç®åï¼å®ç°ä¹å¾å®¹æï¼ä½è¿ç§ç­ç¥ ä¸¥éå°éä½äºèµæºå©ç¨çï¼å ä¸ºå¨æ¯ä¸ªè¿ç¨æå æçèµæºä¸­ï¼æäºèµæºæ¯å¨æ¯è¾é åçæ§è¡æ¶é´ééç¨çï¼çè³æäºèµæºæ¯å¨é¢å¤çæåµä¸ææ¯ç¨çï¼è¿æ ·å°±å¯è½é æäºä¸ä¸ªè¿ç¨å æäºä¸äº å ä¹ä¸ç¨çèµæºèä½¿å¶ä»éè¦è¯¥èµæºçè¿ç¨äº§çç­å¾ çæåµã\n\n2ãå±æ¬¡åéç­ç¥\n\nå±æ¬¡åéç­ç¥ç ´åäºäº§çæ­»éçç¬¬åä¸ªæ¡ä»¶(å¾ªç¯ç­å¾)ãå¨å±æ¬¡åéç­ç¥ä¸ï¼ææçèµæºè¢«åæäºå¤ä¸ªå±æ¬¡ï¼ä¸ä¸ªè¿ç¨å¾å°æä¸æ¬¡çä¸ä¸ªèµæºåï¼å®åªè½åç³è¯·è¾é«ä¸å±çèµæºï¼å½ä¸ä¸ªè¿ç¨è¦éæ¾æå±çä¸ä¸ªèµæºæ¶ï¼å¿é¡»åéæ¾æå ç¨çè¾é«å±çèµæºï¼æè¿ç§ç­ç¥ï¼æ¯ä¸å¯è½åºç°å¾ªç¯ç­å¾é¾çï¼å ä¸ºé£æ ·çè¯ï¼å°±åºç°äºå·²ç»ç³è¯·äºè¾é«å±çèµæºï¼åèå»ç³è¯·äºè¾ä½å±çèµæºï¼ä¸ç¬¦åå±æ¬¡åéç­ç¥ï¼è¯æç¥ã\n\n# æ­»éçé¿å\n\nä¸é¢æå°ç ç ´å æ­»éäº§ççåä¸ªå¿è¦æ¡ä»¶ä¹ä¸å°±å¯ä»¥æå é¢é²ç³»ç»åçæ­»é ï¼ä½æ¯ä¼å¯¼è´ ä½æçè¿ç¨è¿è¡ å èµæºä½¿ç¨ç ãèæ­»éçé¿åç¸åï¼å®çè§åº¦æ¯åè®¸ç³»ç»ä¸­åæ¶å­å¨åä¸ªå¿è¦æ¡ä»¶ ï¼åªè¦ææ¡å¹¶åè¿ç¨ä¸­ä¸æ¯ä¸ªè¿ç¨æå³çèµæºå¨æç³è¯·æåµï¼ååº ææºååççéæ© ï¼ä»ç¶å¯ä»¥é¿åæ­»éï¼å ä¸ºåå¤§æ¡ä»¶ä»ä»æ¯äº§çæ­»éçå¿è¦æ¡ä»¶ã\n\næä»¬å°ç³»ç»çç¶æåä¸º å®å¨ç¶æ å ä¸å®å¨ç¶æ ï¼æ¯å½å¨æªç³è¯·èåéèµæºååæµè¯ç³»ç»ç¶æï¼è¥æç³»ç»èµæºåéç»ç³è¯·èä¼äº§çæ­»éï¼åæç»åéï¼å¦åæ¥åç³è¯·ï¼å¹¶ä¸ºå®åéèµæºã\n\n> å¦ææä½ç³»ç»è½å¤ä¿è¯ææçè¿ç¨å¨æéçæ¶é´åå¾å°éè¦çå¨é¨èµæºï¼åç§°ç³»ç»å¤äºå®å¨ç¶æï¼å¦åè¯´ç³»ç»æ¯ä¸å®å¨çãå¾æ¾ç¶ï¼ç³»ç»å¤äºå®å¨ç¶æåä¸ä¼åçæ­»éï¼ç³»ç»è¥å¤äºä¸å®å¨ç¶æåå¯è½åçæ­»éã\n\né£ä¹å¦ä½ä¿è¯ç³»ç»ä¿æå¨å®å¨ç¶æå¢ï¼éè¿ç®æ³ï¼å¶ä¸­æå·æä»£è¡¨æ§ç é¿åæ­»éç®æ³ å°±æ¯ dijkstra çé¶è¡å®¶ç®æ³ï¼é¶è¡å®¶ç®æ³ç¨ä¸å¥è¯è¡¨è¾¾å°±æ¯ï¼å½ä¸ä¸ªè¿ç¨ç³è¯·ä½¿ç¨èµæºçæ¶åï¼é¶è¡å®¶ç®æ³ éè¿å è¯æ¢ åéç»è¯¥è¿ç¨èµæºï¼ç¶åéè¿ å®å¨æ§ç®æ³ å¤æ­åéåç³»ç»æ¯å¦å¤äºå®å¨ç¶æï¼è¥ä¸å®å¨åè¯æ¢åéä½åºï¼è®©è¯¥è¿ç¨ç»§ç»­ç­å¾ï¼è¥è½å¤è¿å¥å°å®å¨çç¶æï¼åå°± ççåéèµæºç»è¯¥è¿ç¨ã\n\né¶è¡å®¶ç®æ³è¯¦æå¯è§ï¼ãä¸å¥è¯+ä¸å¼ å¾è¯´æ¸æ¥ââé¶è¡å®¶ç®æ³ã ã\n\næä½ç³»ç»æç¨æ ä¸­è®²è¿°çé¶è¡å®¶ç®æ³ä¹æ¯è¾æ¸æ°ï¼å¯ä»¥ä¸ç.\n\næ­»éçé¿å(é¶è¡å®¶ç®æ³)æ¹åè§£å³äº èµæºä½¿ç¨çä½çé®é¢ ï¼ä½æ¯å®è¦ä¸æ­å°æ£æµæ¯ä¸ªè¿ç¨å¯¹åç±»èµæºçå ç¨åç³è¯·æåµï¼ä»¥åå å®å¨æ§æ£æ¥ ï¼éè¦è±è´¹è¾å¤çæ¶é´ã\n\n# æ­»éçæ£æµ\n\nå¯¹èµæºçåéå ä»¥éå¶å¯ä»¥ é¢é²åé¿å æ­»éçåçï¼ä½æ¯é½ä¸å©äºåè¿ç¨å¯¹ç³»ç»èµæºçååå±äº«ãè§£å³æ­»éé®é¢çå¦ä¸æ¡éå¾æ¯ æ­»éæ£æµåè§£é¤ (è¿éçªç¶èæ³å°äºä¹è§éåæ²è§éï¼æè§æ­»éçæ£æµåè§£é¤å°±åæ¯ ä¹è§é ï¼åéèµæºæ¶ä¸å»æåç®¡ä¼ä¸ä¼åçæ­»éäºï¼ç­å°ççæ­»éåºç°äºåæ¥è§£å³åï¼è æ­»éçé¢é²åé¿å æ´åæ¯æ²è§éï¼æ»æ¯è§å¾æ­»éä¼åºç°ï¼æä»¥å¨åéèµæºçæ¶åå°±å¾è°¨æ)ã\n\nè¿ç§æ¹æ³å¯¹èµæºçåéä¸å ä»¥ä»»ä½éå¶ï¼ä¹ä¸éåæ­»éé¿åæªæ½ï¼ä½ç³»ç» å®æ¶å°è¿è¡ä¸ä¸ª âæ­»éæ£æµâ çç¨åºï¼å¤æ­ç³»ç»åæ¯å¦åºç°æ­»éï¼å¦ææ£æµå°ç³»ç»åçäºæ­»éï¼åéåæªæ½å»è§£é¤å®ã\n\n# æ­»éæ£æµæ­¥éª¤\n\nç¥éäºæ­»éæ£æµçåçï¼æä»¬å¯ä»¥å©ç¨ä¸åæ­¥éª¤ç¼åä¸ä¸ª æ­»éæ£æµ ç¨åºï¼æ£æµç³»ç»æ¯å¦äº§çäºæ­»éã\n\n 1. å¦æè¿ç¨-èµæºåéå¾ä¸­æ ç¯è·¯ï¼åæ­¤æ¶ç³»ç»æ²¡æåçæ­»é\n 2. å¦æè¿ç¨-èµæºåéå¾ä¸­æç¯è·¯ï¼ä¸æ¯ä¸ªèµæºç±»ä»æä¸ä¸ªèµæºï¼åç³»ç»ä¸­å·²ç»åçäºæ­»éã\n 3. å¦æè¿ç¨-èµæºåéå¾ä¸­æç¯è·¯ï¼ä¸æ¶åå°çèµæºç±»æå¤ä¸ªèµæºï¼æ­¤æ¶ç³»ç»æªå¿ä¼åçæ­»éãå¦æè½å¨è¿ç¨-èµæºåéå¾ä¸­æ¾åºä¸ä¸ª æ¢ä¸é»å¡åéç¬ç«çè¿ç¨ ï¼è¯¥è¿ç¨è½å¤å¨æéçæ¶é´åå½è¿å æçèµæºï¼ä¹å°±æ¯æè¾¹ç»æ¶é¤æäºï¼éå¤æ­¤è¿ç¨ï¼ç´å°è½å¨æéçæ¶é´å æ¶é¤ææçè¾¹ ï¼åä¸ä¼åçæ­»éï¼å¦åä¼åçæ­»éã(æ¶é¤è¾¹çè¿ç¨ç±»ä¼¼äº æææåº)\n\n# æ­»éçè§£é¤\n\nå½æ­»éæ£æµç¨åºæ£æµå°å­å¨æ­»éåçæ¶ï¼åºè®¾æ³è®©å¶è§£é¤ï¼è®©ç³»ç»ä»æ­»éç¶æä¸­æ¢å¤è¿æ¥ï¼å¸¸ç¨çè§£é¤æ­»éçæ¹æ³æä»¥ä¸åç§ï¼\n\n 1. ç«å³ç»æææè¿ç¨çæ§è¡ï¼éæ°å¯å¨æä½ç³»ç» ï¼è¿ç§æ¹æ³ç®åï¼ä½ä»¥åæå¨çå·¥ä½å¨é¨ä½åºï¼æå¤±å¾å¤§ã\n 2. æ¤éæ¶åæ­»éçææè¿ç¨ï¼è§£é¤æ­»éåç»§ç»­è¿è¡ ï¼è¿ç§æ¹æ³è½å½»åºæç ´æ­»éçå¾ªç¯ç­å¾æ¡ä»¶ï¼ä½å°ä»åºå¾å¤§ä»£ä»·ï¼ä¾å¦æäºè¿ç¨å¯è½å·²ç»è®¡ç®äºå¾é¿æ¶é´ï¼ç±äºè¢«æ¤éèä½¿äº§ççé¨åç»æä¹è¢«æ¶é¤äºï¼åéæ°æ§è¡æ¶è¿è¦åæ¬¡è¿è¡è®¡ç®ã\n 3. éä¸ªæ¤éæ¶åæ­»éçè¿ç¨ï¼åæ¶å¶èµæºç´è³æ­»éè§£é¤ã\n 4. æ¢å èµæº ï¼ä»æ¶åæ­»éçä¸ä¸ªæå ä¸ªè¿ç¨ä¸­æ¢å èµæºï¼æå¤ºå¾çèµæºååéç»æ¶åæ­»éçè¿ç¨ç´è³æ­»éè§£é¤ã\n\n\n# ä¸ æä½ç³»ç»åå­ç®¡çåºç¡\n\n\n# 3.1 åå­ç®¡çä»ç»\n\nð¨âð» é¢è¯å®: æä½ç³»ç»çåå­ç®¡çä¸»è¦æ¯åä»ä¹ï¼\n\nð æï¼ æä½ç³»ç»çåå­ç®¡çä¸»è¦è´è´£åå­çåéä¸åæ¶ï¼malloc å½æ°ï¼ç³è¯·åå­ï¼free å½æ°ï¼éæ¾åå­ï¼ï¼å¦å¤å°åè½¬æ¢ä¹å°±æ¯å°é»è¾å°åè½¬æ¢æç¸åºçç©çå°åç­åè½ä¹æ¯æä½ç³»ç»åå­ç®¡çåçäºæã\n\n\n# 3.2 å¸¸è§çå ç§åå­ç®¡çæºå¶\n\nð¨âð» é¢è¯å®: æä½ç³»ç»çåå­ç®¡çæºå¶äºè§£åï¼åå­ç®¡çæåªå ç§æ¹å¼?\n\nð æï¼ è¿ä¸ªå¨å­¦ä¹ æä½ç³»ç»çæ¶åæäºè§£è¿ã\n\nç®ååä¸ºè¿ç»­åéç®¡çæ¹å¼åéè¿ç»­åéç®¡çæ¹å¼è¿ä¸¤ç§ãè¿ç»­åéç®¡çæ¹å¼æ¯æä¸ºä¸ä¸ªç¨æ·ç¨åºåéä¸ä¸ªè¿ç»­çåå­ç©ºé´ï¼å¸¸è§çå¦ åå¼ç®¡ç ãåæ ·å°ï¼éè¿ç»­åéç®¡çæ¹å¼åè®¸ä¸ä¸ªç¨åºä½¿ç¨çåå­åå¸å¨ç¦»æ£æèè¯´ä¸ç¸é»çåå­ä¸­ï¼å¸¸è§çå¦é¡µå¼ç®¡ç å æ®µå¼ç®¡çã\n\n 1. åå¼ç®¡ç ï¼ è¿å¤æ¶ä»£çè®¡ç®æºæä½ç³»ç»çåå­ç®¡çæ¹å¼ãå°åå­åä¸ºå ä¸ªåºå®å¤§å°çåï¼æ¯ä¸ªåä¸­åªåå«ä¸ä¸ªè¿ç¨ãå¦æç¨åºè¿è¡éè¦åå­çè¯ï¼æä½ç³»ç»å°±åéç»å®ä¸åï¼å¦æç¨åºè¿è¡åªéè¦å¾å°çç©ºé´çè¯ï¼åéçè¿ååå­å¾å¤§ä¸é¨åå ä¹è¢«æµªè´¹äºãè¿äºå¨æ¯ä¸ªåä¸­æªè¢«å©ç¨çç©ºé´ï¼æä»¬ç§°ä¹ä¸ºç¢çã\n 2. é¡µå¼ç®¡ç ï¼æä¸»å­åä¸ºå¤§å°ç¸ç­ä¸åºå®çä¸é¡µä¸é¡µçå½¢å¼ï¼é¡µè¾å°ï¼ç¸æ¯äºåå¼ç®¡ççååç²åº¦æ´å°ï¼æé«äºåå­å©ç¨çï¼åå°äºç¢çãé¡µå¼ç®¡çéè¿é¡µè¡¨å¯¹åºé»è¾å°ååç©çå°åã\n 3. æ®µå¼ç®¡ç ï¼ é¡µå¼ç®¡çè½ç¶æé«äºåå­å©ç¨çï¼ä½æ¯é¡µå¼ç®¡çå¶ä¸­çé¡µå¹¶æ ä»»ä½å®éæä¹ã æ®µå¼ç®¡çæä¸»å­åä¸ºä¸æ®µæ®µçï¼æ®µæ¯æå®éæä¹çï¼æ¯ä¸ªæ®µå®ä¹äºä¸ç»é»è¾ä¿¡æ¯ï¼ä¾å¦,æä¸»ç¨åºæ®µ mainãå­ç¨åºæ®µ xãæ°æ®æ®µ d åæ æ®µ s ç­ã æ®µå¼ç®¡çéè¿æ®µè¡¨å¯¹åºé»è¾å°ååç©çå°åã\n\nç®åæ¥è¯´ï¼é¡µæ¯ç©çåä½ï¼æ®µæ¯é»è¾åä½ãåé¡µå¯ä»¥æææé«åå­å©ç¨çï¼åæ®µå¯ä»¥æ´å¥½æ»¡è¶³ç¨æ·éæ±ã\n\nð¨âð»é¢è¯å® ï¼ åç­çè¿ä¸éï¼ä¸è¿æ¼æäºä¸ä¸ªå¾éè¦ç æ®µé¡µå¼ç®¡çæºå¶ ãæ®µé¡µå¼ç®¡çæºå¶ç»åäºæ®µå¼ç®¡çåé¡µå¼ç®¡ççä¼ç¹ãç®åæ¥è¯´æ®µé¡µå¼ç®¡çæºå¶å°±æ¯æä¸»å­ååæè¥å¹²æ®µï¼æ¯ä¸ªæ®µååæè¥å¹²é¡µï¼ä¹å°±æ¯è¯´ æ®µé¡µå¼ç®¡çæºå¶ ä¸­æ®µä¸æ®µä¹é´ä»¥åæ®µçåé¨çé½æ¯ç¦»æ£çã\n\nð æ ï¼è°¢è°¢é¢è¯å®ï¼ååæè¿ä¸ªç»å¿è®°äºï½\n\n\n# 3.3 å¿«è¡¨åå¤çº§é¡µè¡¨\n\nð¨âð»é¢è¯å® ï¼ é¡µè¡¨ç®¡çæºå¶ä¸­æä¸¤ä¸ªå¾éè¦çæ¦å¿µï¼å¿«è¡¨åå¤çº§é¡µè¡¨ï¼è¿ä¸¤ä¸ªä¸è¥¿åå«è§£å³äºé¡µè¡¨ç®¡çä¸­å¾éè¦çä¸¤ä¸ªé®é¢ãä½ ç»æç®åä»ç»ä¸ä¸å§ï¼\n\nð æ ï¼å¨åé¡µåå­ç®¡çä¸­ï¼å¾éè¦çä¸¤ç¹æ¯ï¼\n\n 1. èæå°åå°ç©çå°åçè½¬æ¢è¦å¿«ã\n 2. è§£å³èæå°åç©ºé´å¤§ï¼é¡µè¡¨ä¹ä¼å¾å¤§çé®é¢ã\n\n# å¿«è¡¨\n\nä¸ºäºæé«èæå°åå°ç©çå°åçè½¬æ¢éåº¦ï¼æä½ç³»ç»å¨ é¡µè¡¨æ¹æ¡ åºç¡ä¹ä¸å¼å¥äº å¿«è¡¨ æ¥å éèæå°åå°ç©çå°åçè½¬æ¢ãæä»¬å¯ä»¥æå¿«è¡¨çè§£ä¸ºä¸ç§ç¹æ®çé«éç¼å²å­å¨å¨ï¼cacheï¼ï¼å¶ä¸­çåå®¹æ¯é¡µè¡¨çä¸é¨åæèå¨é¨åå®¹ãä½ä¸ºé¡µè¡¨ç cacheï¼å®çä½ç¨ä¸é¡µè¡¨ç¸ä¼¼ï¼ä½æ¯æé«äºè®¿é®éçãç±äºéç¨é¡µè¡¨åå°åè½¬æ¢ï¼è¯»ååå­æ°æ®æ¶ cpu è¦è®¿é®ä¸¤æ¬¡ä¸»å­ãæäºå¿«è¡¨ï¼ææ¶åªè¦è®¿é®ä¸æ¬¡é«éç¼å²å­å¨å¨ï¼ä¸æ¬¡ä¸»å­ï¼è¿æ ·å¯å éæ¥æ¾å¹¶æé«æä»¤æ§è¡éåº¦ã\n\nä½¿ç¨å¿«è¡¨ä¹åçå°åè½¬æ¢æµç¨æ¯è¿æ ·çï¼\n\n 1. æ ¹æ®èæå°åä¸­çé¡µå·æ¥å¿«è¡¨ï¼\n 2. å¦æè¯¥é¡µå¨å¿«è¡¨ä¸­ï¼ç´æ¥ä»å¿«è¡¨ä¸­è¯»åç¸åºçç©çå°åï¼\n 3. å¦æè¯¥é¡µä¸å¨å¿«è¡¨ä¸­ï¼å°±è®¿é®åå­ä¸­çé¡µè¡¨ï¼åä»é¡µè¡¨ä¸­å¾å°ç©çå°åï¼åæ¶å°é¡µè¡¨ä¸­çè¯¥æ å°è¡¨é¡¹æ·»å å°å¿«è¡¨ä¸­ï¼\n 4. å½å¿«è¡¨å¡«æ»¡åï¼åè¦ç»è®°æ°é¡µæ¶ï¼å°±æç§ä¸å®çæ·æ±°ç­ç¥æ·æ±°æå¿«è¡¨ä¸­çä¸ä¸ªé¡µã\n\nçå®äºä¹åä½ ä¼åç°å¿«è¡¨åæä»¬å¹³æ¶ç»å¸¸å¨æä»¬å¼åçç³»ç»ä½¿ç¨çç¼å­ï¼æ¯å¦ redisï¼å¾åï¼çç¡®æ¯è¿æ ·çï¼æä½ç³»ç»ä¸­çå¾å¤ææ³ãå¾å¤ç»å¸çç®æ³ï¼ä½ é½å¯ä»¥å¨æä»¬æ¥å¸¸å¼åä½¿ç¨çåç§å·¥å·æèæ¡æ¶ä¸­æ¾å°å®ä»¬çå½±å­ã\n\n# å¤çº§é¡µè¡¨\n\nå¼å¥å¤çº§é¡µè¡¨çä¸»è¦ç®çæ¯ä¸ºäºé¿åæå¨é¨é¡µè¡¨ä¸ç´æ¾å¨åå­ä¸­å ç¨è¿å¤ç©ºé´ï¼ç¹å«æ¯é£äºæ ¹æ¬å°±ä¸éè¦çé¡µè¡¨å°±ä¸éè¦ä¿çå¨åå­ä¸­ãå¤çº§é¡µè¡¨å±äºæ¶é´æ¢ç©ºé´çå¸ååºæ¯ï¼å·ä½å¯ä»¥æ¥çä¸é¢è¿ç¯æç« \n\n * å¤çº§é¡µè¡¨å¦ä½èçº¦åå­ï¼https://www.polarxiong.com/archives/å¤çº§é¡µè¡¨å¦ä½èçº¦åå­.html\n\n# æ»ç»\n\nä¸ºäºæé«åå­çç©ºé´æ§è½ï¼æåºäºå¤çº§é¡µè¡¨çæ¦å¿µï¼ä½æ¯æå°ç©ºé´æ§è½æ¯ä»¥æµªè´¹æ¶é´æ§è½ä¸ºåºç¡çï¼å æ­¤ä¸ºäºè¡¥åæå¤±çæ¶é´æ§è½ï¼æåºäºå¿«è¡¨ï¼å³ tlbï¼çæ¦å¿µã ä¸è®ºæ¯å¿«è¡¨è¿æ¯å¤çº§é¡µè¡¨å®éä¸é½å©ç¨å°äºç¨åºçå±é¨æ§åçï¼å±é¨æ§åçå¨åé¢çèæåå­è¿é¨åä¼ä»ç»å°ã\n\n\n# 3.4 åé¡µæºå¶ååæ®µæºå¶çå±åç¹ååºå«\n\nð¨âð»é¢è¯å® ï¼ åé¡µæºå¶ååæ®µæºå¶æåªäºå±åç¹ååºå«å¢ï¼\n\nð æ ï¼\n\n 1. å±åç¹ ï¼\n    * åé¡µæºå¶ååæ®µæºå¶é½æ¯ä¸ºäºæé«åå­å©ç¨çï¼åå°åå­ç¢çã\n    * é¡µåæ®µé½æ¯ç¦»æ£å­å¨çï¼æä»¥ä¸¤èé½æ¯ç¦»æ£åéåå­çæ¹å¼ãä½æ¯ï¼æ¯ä¸ªé¡µåæ®µä¸­çåå­æ¯è¿ç»­çã\n 2. åºå« ï¼\n    * é¡µçå¤§å°æ¯åºå®çï¼ç±æä½ç³»ç»å³å®ï¼èæ®µçå¤§å°ä¸åºå®ï¼åå³äºæä»¬å½åè¿è¡çç¨åºã\n    * åé¡µä»ä»æ¯ä¸ºäºæ»¡è¶³æä½ç³»ç»åå­ç®¡ççéæ±ï¼èæ®µæ¯é»è¾ä¿¡æ¯çåä½ï¼å¨ç¨åºä¸­å¯ä»¥ä½ç°ä¸ºä»£ç æ®µï¼æ°æ®æ®µï¼è½å¤æ´å¥½æ»¡è¶³ç¨æ·çéè¦ã\n\n\n# 3.5 é»è¾(èæ)å°ååç©çå°å\n\nð¨âð»é¢è¯å® ï¼ä½ ååè¿æå°äºé»è¾å°ååç©çå°åè¿ä¸¤ä¸ªæ¦å¿µï¼æä¸å¤ªæ¸æ¥ï¼ä½ è½ä¸ºæè§£éä¸ä¸ä¸ï¼\n\nð æï¼ em...å¥½çåï¼æä»¬ç¼ç¨ä¸è¬åªæå¯è½åé»è¾å°åæäº¤éï¼æ¯å¦å¨ c è¯­è¨ä¸­ï¼æééé¢å­å¨çæ°å¼å°±å¯ä»¥çè§£æä¸ºåå­éçä¸ä¸ªå°åï¼è¿ä¸ªå°åä¹å°±æ¯æä»¬è¯´çé»è¾å°åï¼é»è¾å°åç±æä½ç³»ç»å³å®ãç©çå°åæçæ¯çå®ç©çåå­ä¸­å°åï¼æ´å·ä½ä¸ç¹æ¥è¯´å°±æ¯åå­å°åå¯å­å¨ä¸­çå°åãç©çå°åæ¯åå­ååçæ­£çå°åã\n\n\n# 3.6 cpu å¯»åäºè§£å?ä¸ºä»ä¹éè¦èæå°åç©ºé´?\n\nð¨âð»é¢è¯å® ï¼cpu å¯»åäºè§£å?ä¸ºä»ä¹éè¦èæå°åç©ºé´?\n\nð æ ï¼è¿é¨åæçä¸æ¸æ¥ï¼\n\näºæ¯é¢è¯å®ä¹åæé»é»å»æ¥éäºç¸å³ææ¡£ï¼çä¸äºæ²¡æææ¯çæ³ªæ°´ããã\n\n> è¿é¨ååå®¹åèäº microsoft å®ç½çä»ç»ï¼å°åï¼https://docs.microsoft.com/zh-cn/windows-hardware/drivers/gettingstarted/virtual-address-spaces?redirectedfrom=msdn\n\nç°ä»£å¤çå¨ä½¿ç¨çæ¯ä¸ç§ç§°ä¸º èæå¯»å(virtual addressing) çå¯»åæ¹å¼ãä½¿ç¨èæå¯»åï¼cpu éè¦å°èæå°åç¿»è¯æç©çå°åï¼è¿æ ·æè½è®¿é®å°çå®çç©çåå­ã å®éä¸å®æèæå°åè½¬æ¢ä¸ºç©çå°åè½¬æ¢çç¡¬ä»¶æ¯ cpu ä¸­å«æä¸ä¸ªè¢«ç§°ä¸º åå­ç®¡çååï¼memory management unit, mmuï¼ çç¡¬ä»¶ãå¦ä¸å¾æç¤ºï¼\n\n\n\nä¸ºä»ä¹è¦æèæå°åç©ºé´å¢ï¼\n\nåä»æ²¡æèæå°åç©ºé´çæ¶åè¯´èµ·å§ï¼æ²¡æèæå°åç©ºé´çæ¶åï¼ç¨åºç´æ¥è®¿é®åæä½çé½æ¯ç©çåå­ ãä½æ¯è¿æ ·æä»ä¹é®é¢å¢ï¼\n\n 1. ç¨æ·ç¨åºå¯ä»¥è®¿é®ä»»æåå­ï¼å¯»ååå­çæ¯ä¸ªå­èï¼è¿æ ·å°±å¾å®¹æï¼æææèæ æï¼ç ´åæä½ç³»ç»ï¼é ææä½ç³»ç»å´©æºã\n 2. æ³è¦åæ¶è¿è¡å¤ä¸ªç¨åºç¹å«å°é¾ï¼æ¯å¦ä½ æ³åæ¶è¿è¡ä¸ä¸ªå¾®ä¿¡åä¸ä¸ª qq é³ä¹é½ä¸è¡ãä¸ºä»ä¹å¢ï¼ä¸¾ä¸ªç®åçä¾å­ï¼å¾®ä¿¡å¨è¿è¡çæ¶åç»åå­å°å 1xxx èµå¼åï¼qq é³ä¹ä¹åæ ·ç»åå­å°å 1xxx èµå¼ï¼é£ä¹ qq é³ä¹å¯¹åå­çèµå¼å°±ä¼è¦çå¾®ä¿¡ä¹åæèµçå¼ï¼è¿å°±é æäºå¾®ä¿¡è¿ä¸ªç¨åºå°±ä¼å´©æºã\n\næ»ç»æ¥è¯´ï¼å¦æç´æ¥æç©çå°åæ´é²åºæ¥çè¯ä¼å¸¦æ¥ä¸¥éé®é¢ï¼æ¯å¦å¯è½å¯¹æä½ç³»ç»é æä¼¤å®³ä»¥åç»åæ¶è¿è¡å¤ä¸ªç¨åºé æå°é¾ã\n\néè¿èæå°åè®¿é®åå­æä»¥ä¸ä¼å¿ï¼\n\n * ç¨åºå¯ä»¥ä½¿ç¨ä¸ç³»åç¸é»çèæå°åæ¥è®¿é®ç©çåå­ä¸­ä¸ç¸é»çå¤§åå­ç¼å²åºã\n * ç¨åºå¯ä»¥ä½¿ç¨ä¸ç³»åèæå°åæ¥è®¿é®å¤§äºå¯ç¨ç©çåå­çåå­ç¼å²åºãå½ç©çåå­çä¾åºéåå°æ¶ï¼åå­ç®¡çå¨ä¼å°ç©çåå­é¡µï¼éå¸¸å¤§å°ä¸º 4 kbï¼ä¿å­å°ç£çæä»¶ãæ°æ®æä»£ç é¡µä¼æ ¹æ®éè¦å¨ç©çåå­ä¸ç£çä¹é´ç§»å¨ã\n * ä¸åè¿ç¨ä½¿ç¨çèæå°åå½¼æ­¤éç¦»ãä¸ä¸ªè¿ç¨ä¸­çä»£ç æ æ³æ´æ¹æ­£å¨ç±å¦ä¸è¿ç¨ææä½ç³»ç»ä½¿ç¨çç©çåå­ã\n\n\n# å èæåå­\n\n\n# 4.1 ä»ä¹æ¯èæåå­(virtual memory)?\n\nð¨âð»é¢è¯å® ï¼åé®ä½ ä¸ä¸ªå¸¸è¯æ§çé®é¢ï¼ä»ä¹æ¯èæåå­(virtual memory)?\n\nð æ ï¼è¿ä¸ªå¨æä»¬å¹³æ¶ä½¿ç¨çµèç¹å«æ¯ windows ç³»ç»çæ¶åå¤ªå¸¸è§äºãå¾å¤æ¶åæä»¬ä½¿ç¨äºå¾å¤å åå­çè½¯ä»¶ï¼è¿äºè½¯ä»¶å ç¨çåå­å¯è½å·²ç»è¿è¿è¶åºäºæä»¬çµèæ¬èº«å·æçç©çåå­ãä¸ºä»ä¹å¯ä»¥è¿æ ·å¢ï¼ æ­£æ¯å ä¸º èæåå­ çå­å¨ï¼éè¿ èæåå­ å¯ä»¥è®©ç¨åºå¯ä»¥æ¥æè¶è¿ç³»ç»ç©çåå­å¤§å°çå¯ç¨åå­ç©ºé´ãå¦å¤ï¼èæåå­ä¸ºæ¯ä¸ªè¿ç¨æä¾äºä¸ä¸ªä¸è´çãç§æçå°åç©ºé´ï¼å®è®©æ¯ä¸ªè¿ç¨äº§çäºä¸ç§èªå·±å¨ç¬äº«ä¸»å­çéè§ï¼æ¯ä¸ªè¿ç¨æ¥æä¸çè¿ç»­å®æ´çåå­ç©ºé´ï¼ãè¿æ ·ä¼æ´å ææå°ç®¡çåå­å¹¶åå°åºéã\n\nèæåå­æ¯è®¡ç®æºç³»ç»åå­ç®¡ççä¸ç§ææ¯ï¼æä»¬å¯ä»¥æå¨è®¾ç½®èªå·±çµèçèæåå­ãä¸è¦åçº¯è®¤ä¸ºèæåå­åªæ¯âä½¿ç¨ç¡¬çç©ºé´æ¥æ©å±åå­âçææ¯ãèæåå­çéè¦æä¹æ¯å®å®ä¹äºä¸ä¸ªè¿ç»­çèæå°åç©ºé´ï¼å¹¶ä¸ æåå­æ©å±å°ç¡¬çç©ºé´ãæ¨èéè¯»ï¼ãèæåå­çé£ç¹äºå¿ã\n\nç»´åºç¾ç§ä¸­æå å¥è¯æ¯è¿æ ·ä»ç»èæåå­çã\n\n> èæåå­ ä½¿å¾åºç¨ç¨åºè®¤ä¸ºå®æ¥æè¿ç»­çå¯ç¨çåå­ï¼ä¸ä¸ªè¿ç»­å®æ´çå°åç©ºé´ï¼ï¼èå®éä¸ï¼å®éå¸¸æ¯è¢«åéæå¤ä¸ªç©çåå­ç¢çï¼è¿æé¨åææ¶å­å¨å¨å¤é¨ç£çå­å¨å¨ä¸ï¼å¨éè¦æ¶è¿è¡æ°æ®äº¤æ¢ãä¸æ²¡æä½¿ç¨èæåå­ææ¯çç³»ç»ç¸æ¯ï¼ä½¿ç¨è¿ç§ææ¯çç³»ç»ä½¿å¾å¤§åç¨åºçç¼ååå¾æ´å®¹æï¼å¯¹çæ­£çç©çåå­ï¼ä¾å¦ ramï¼çä½¿ç¨ä¹æ´ææçãç®åï¼å¤§å¤æ°æä½ç³»ç»é½ä½¿ç¨äºèæåå­ï¼å¦ windows å®¶æçâèæåå­âï¼linux çâäº¤æ¢ç©ºé´âç­ãfrom:https://zh.wikipedia.org/wiki/èæåå­\n\n\n# 4.2 å±é¨æ§åç\n\nð¨âð»é¢è¯å® ï¼è¦æ³æ´å¥½å°çè§£èæåå­ææ¯ï¼å¿é¡»è¦ç¥éè®¡ç®æºä¸­èåçå±é¨æ§åçãå¦å¤ï¼å±é¨æ§åçæ¢éç¨äºç¨åºç»æï¼ä¹éç¨äºæ°æ®ç»æï¼æ¯éå¸¸éè¦çä¸ä¸ªæ¦å¿µã\n\nð æ ï¼å±é¨æ§åçæ¯èæåå­ææ¯çåºç¡ï¼æ­£æ¯å ä¸ºç¨åºè¿è¡å·æå±é¨æ§åçï¼æå¯ä»¥åªè£å¥é¨åç¨åºå°åå­å°±å¼å§è¿è¡ã\n\n> ä»¥ä¸åå®¹æèªãè®¡ç®æºæä½ç³»ç»æç¨ã ç¬¬ 4 ç« å­å¨å¨ç®¡çã\n\næ©å¨ 1968 å¹´çæ¶åï¼å°±æäººæåºæä»¬çç¨åºå¨æ§è¡çæ¶åå¾å¾åç°å±é¨æ§è§å¾ï¼ä¹å°±æ¯è¯´å¨æä¸ªè¾ç­çæ¶é´æ®µåï¼ç¨åºæ§è¡å±éäºæä¸å°é¨åï¼ç¨åºè®¿é®çå­å¨ç©ºé´ä¹å±éäºæä¸ªåºåã\n\nå±é¨æ§åçè¡¨ç°å¨ä»¥ä¸ä¸¤ä¸ªæ¹é¢ï¼\n\n 1. æ¶é´å±é¨æ§ ï¼å¦æç¨åºä¸­çææ¡æä»¤ä¸æ¦æ§è¡ï¼ä¸ä¹ä»¥åè¯¥æä»¤å¯è½åæ¬¡æ§è¡ï¼å¦æææ°æ®è¢«è®¿é®è¿ï¼ä¸ä¹ä»¥åè¯¥æ°æ®å¯è½åæ¬¡è¢«è®¿é®ãäº§çæ¶é´å±é¨æ§çå¸ååå ï¼æ¯ç±äºå¨ç¨åºä¸­å­å¨çå¤§éçå¾ªç¯æä½ã\n 2. ç©ºé´å±é¨æ§ ï¼ä¸æ¦ç¨åºè®¿é®äºæä¸ªå­å¨ååï¼å¨ä¸ä¹ä¹åï¼å¶éè¿çå­å¨ååä¹å°è¢«è®¿é®ï¼å³ç¨åºå¨ä¸æ®µæ¶é´åæè®¿é®çå°åï¼å¯è½éä¸­å¨ä¸å®çèå´ä¹åï¼è¿æ¯å ä¸ºæä»¤éå¸¸æ¯é¡ºåºå­æ¾ãé¡ºåºæ§è¡çï¼æ°æ®ä¹ä¸è¬æ¯ä»¥åéãæ°ç»ãè¡¨ç­å½¢å¼ç°èå­å¨çã\n\næ¶é´å±é¨æ§æ¯éè¿å°è¿æ¥ä½¿ç¨çæä»¤åæ°æ®ä¿å­å°é«éç¼å­å­å¨å¨ä¸­ï¼å¹¶ä½¿ç¨é«éç¼å­çå±æ¬¡ç»æå®ç°ãç©ºé´å±é¨æ§éå¸¸æ¯ä½¿ç¨è¾å¤§çé«éç¼å­ï¼å¹¶å°é¢åæºå¶éæå°é«éç¼å­æ§å¶é»è¾ä¸­å®ç°ãèæåå­ææ¯å®éä¸å°±æ¯å»ºç«äº âåå­ä¸å¤å­âçä¸¤çº§å­å¨å¨çç»æï¼å©ç¨å±é¨æ§åçå®ç°é«éç¼å­ã\n\n\n# 4.3 èæå­å¨å¨\n\n> åè¯¯ï¼èæå­å¨å¨åå«åèæåå­ï¼é½æ¯ virtual memory çç¿»è¯ï¼å±äºåä¸ä¸ªæ¦å¿µã\n\nð¨âð»é¢è¯å® ï¼é½è¯´äºèæåå­äºãä½ åè®²è®²èæå­å¨å¨æï¼\n\nð æ ï¼\n\n> è¿é¨ååå®¹æ¥èªï¼çéèç æä½ç³»ç»ç¥è¯ç¹æ´çã\n\nåºäºå±é¨æ§åçï¼å¨ç¨åºè£å¥æ¶ï¼å¯ä»¥å°ç¨åºçä¸é¨åè£å¥åå­ï¼èå°å¶ä»é¨åçå¨å¤å­ï¼å°±å¯ä»¥å¯å¨ç¨åºæ§è¡ãç±äºå¤å­å¾å¾æ¯åå­å¤§å¾å¤ï¼æä»¥æä»¬è¿è¡çè½¯ä»¶çåå­å¤§å°å®éä¸æ¯å¯ä»¥æ¯è®¡ç®æºç³»ç»å®éçåå­å¤§å°å¤§çãå¨ç¨åºæ§è¡è¿ç¨ä¸­ï¼å½æè®¿é®çä¿¡æ¯ä¸å¨åå­æ¶ï¼ç±æä½ç³»ç»å°æéè¦çé¨åè°å¥åå­ï¼ç¶åç»§ç»­æ§è¡ç¨åºãå¦ä¸æ¹é¢ï¼æä½ç³»ç»å°åå­ä¸­ææ¶ä¸ä½¿ç¨çåå®¹æ¢å°å¤å­ä¸ï¼ä»èè¾åºç©ºé´å­æ¾å°è¦è°å¥åå­çä¿¡æ¯ãè¿æ ·ï¼è®¡ç®æºå¥½åä¸ºç¨æ·æä¾äºä¸ä¸ªæ¯å®éåå­å¤§å¾å¤çå­å¨å¨ââèæå­å¨å¨ã\n\nå®éä¸ï¼æè§å¾èæåå­åæ ·æ¯ä¸ç§æ¶é´æ¢ç©ºé´çç­ç¥ï¼ä½ ç¨ cpu çè®¡ç®æ¶é´ï¼é¡µçè°å¥è°åºè±è´¹çæ¶é´ï¼æ¢æ¥äºä¸ä¸ªèæçæ´å¤§çç©ºé´æ¥æ¯æç¨åºçè¿è¡ãä¸å¾ä¸æå¹ï¼ç¨åºä¸çå ä¹ä¸æ¯æ¶é´æ¢ç©ºé´å°±æ¯ç©ºé´æ¢æ¶é´ã\n\n\n# 4.4 èæåå­çææ¯å®ç°\n\nð¨âð»é¢è¯å® ï¼èæåå­ææ¯çå®ç°å¢ï¼\n\nð æ ï¼èæåå­çå®ç°éè¦å»ºç«å¨ç¦»æ£åéçåå­ç®¡çæ¹å¼çåºç¡ä¸ã èæåå­çå®ç°æä»¥ä¸ä¸ç§æ¹å¼ï¼\n\n 1. è¯·æ±åé¡µå­å¨ç®¡ç ï¼å»ºç«å¨åé¡µç®¡çä¹ä¸ï¼ä¸ºäºæ¯æèæå­å¨å¨åè½èå¢å äºè¯·æ±è°é¡µåè½åé¡µé¢ç½®æ¢åè½ãè¯·æ±åé¡µæ¯ç®åæå¸¸ç¨çä¸ç§å®ç°èæå­å¨å¨çæ¹æ³ãè¯·æ±åé¡µå­å¨ç®¡çç³»ç»ä¸­ï¼å¨ä½ä¸å¼å§è¿è¡ä¹åï¼ä»è£å¥å½åè¦æ§è¡çé¨åæ®µå³å¯è¿è¡ãåå¦å¨ä½ä¸è¿è¡çè¿ç¨ä¸­åç°è¦è®¿é®çé¡µé¢ä¸å¨åå­ï¼åç±å¤çå¨éç¥æä½ç³»ç»æç§å¯¹åºçé¡µé¢ç½®æ¢ç®æ³å°ç¸åºçé¡µé¢è°å¥å°ä¸»å­ï¼åæ¶æä½ç³»ç»ä¹å¯ä»¥å°ææ¶ä¸ç¨çé¡µé¢ç½®æ¢å°å¤å­ä¸­ã\n 2. è¯·æ±åæ®µå­å¨ç®¡ç ï¼å»ºç«å¨åæ®µå­å¨ç®¡çä¹ä¸ï¼å¢å äºè¯·æ±è°æ®µåè½ãåæ®µç½®æ¢åè½ãè¯·æ±åæ®µå¨å­ç®¡çæ¹å¼å°±å¦åè¯·æ±åé¡µå¨å­ç®¡çæ¹å¼ä¸æ ·ï¼å¨ä½ä¸å¼å§è¿è¡ä¹åï¼ä»è£å¥å½åè¦æ§è¡çé¨åæ®µå³å¯è¿è¡ï¼å¨æ§è¡è¿ç¨ä¸­ï¼å¯ä½¿ç¨è¯·æ±è°å¥ä¸­æ­å¨æè£å¥è¦è®¿é®ä½åä¸å¨åå­çç¨åºæ®µï¼å½åå­ç©ºé´å·²æ»¡ï¼èåéè¦è£å¥æ°çæ®µæ¶ï¼æ ¹æ®ç½®æ¢åè½éå½è°åºæä¸ªæ®µï¼ä»¥ä¾¿è¾åºç©ºé´èè£å¥æ°çæ®µã\n 3. è¯·æ±æ®µé¡µå¼å­å¨ç®¡ç\n\nè¿éå¤è¯´ä¸ä¸ï¼å¾å¤äººå®¹æææ··è¯·æ±åé¡µä¸åé¡µå­å¨ç®¡çï¼ä¸¤èæä½ä¸åå¢ï¼\n\nè¯·æ±åé¡µå­å¨ç®¡çå»ºç«å¨åé¡µç®¡çä¹ä¸ãä»ä»¬çæ ¹æ¬åºå«æ¯æ¯å¦å°ç¨åºå¨é¨æéçå¨é¨å°åç©ºé´é½è£å¥ä¸»å­ï¼è¿ä¹æ¯è¯·æ±åé¡µå­å¨ç®¡çå¯ä»¥æä¾èæåå­çåå ï¼æä»¬å¨ä¸é¢å·²ç»åæè¿äºã\n\nå®ä»¬ä¹é´çæ ¹æ¬åºå«å¨äºæ¯å¦å°ä¸ä½ä¸çå¨é¨å°åç©ºé´åæ¶è£å¥ä¸»å­ãè¯·æ±åé¡µå­å¨ç®¡çä¸è¦æ±å°ä½ä¸å¨é¨å°åç©ºé´åæ¶è£å¥ä¸»å­ãåºäºè¿ä¸ç¹ï¼è¯·æ±åé¡µå­å¨ç®¡çå¯ä»¥æä¾èå­ï¼èåé¡µå­å¨ç®¡çå´ä¸è½æä¾èå­ã\n\nä¸ç®¡æ¯ä¸é¢é£ç§å®ç°æ¹å¼ï¼æä»¬ä¸è¬é½éè¦ï¼\n\n 1. ä¸å®å®¹éçåå­åå¤å­ï¼å¨è½½å¥ç¨åºçæ¶åï¼åªéè¦å°ç¨åºçä¸é¨åè£å¥åå­ï¼èå°å¶ä»é¨åçå¨å¤å­ï¼ç¶åç¨åºå°±å¯ä»¥æ§è¡äºï¼\n 2. ç¼ºé¡µä¸­æ­ï¼å¦æéæ§è¡çæä»¤æè®¿é®çæ°æ®å°æªå¨åå­ï¼ç§°ä¸ºç¼ºé¡µæç¼ºæ®µï¼ï¼åç±å¤çå¨éç¥æä½ç³»ç»å°ç¸åºçé¡µé¢ææ®µè°å¥å°åå­ï¼ç¶åç»§ç»­æ§è¡ç¨åºï¼\n 3. èæå°åç©ºé´ ï¼é»è¾å°åå°ç©çå°åçåæ¢ã\n\n\n# 4.5 é¡µé¢ç½®æ¢ç®æ³\n\nð¨âð»é¢è¯å® ï¼èæåå­ç®¡çå¾éè¦çä¸ä¸ªæ¦å¿µå°±æ¯é¡µé¢ç½®æ¢ç®æ³ãé£ä½ è¯´ä¸ä¸ é¡µé¢ç½®æ¢ç®æ³çä½ç¨?å¸¸è§çé¡µé¢ç½®æ¢ç®æ³æåªäº?\n\nð æ ï¼\n\n> è¿ä¸ªé¢ç®ç»å¸¸ä½ä¸ºç¬è¯é¢åºç°ï¼ç½ä¸å·²ç»ç»åºäºå¾ä¸éçåç­ï¼æè¿éåªæ¯æ»ç»æ´çäºä¸ä¸ã\n\nå°åæ å°è¿ç¨ä¸­ï¼è¥å¨é¡µé¢ä¸­åç°æè¦è®¿é®çé¡µé¢ä¸å¨åå­ä¸­ï¼ååçç¼ºé¡µä¸­æ­ ã\n\n> ç¼ºé¡µä¸­æ­ å°±æ¯è¦è®¿é®çé¡µä¸å¨ä¸»å­ï¼éè¦æä½ç³»ç»å°å¶è°å¥ä¸»å­ååè¿è¡è®¿é®ã å¨è¿ä¸ªæ¶åï¼è¢«åå­æ å°çæä»¶å®éä¸æäºä¸ä¸ªåé¡µäº¤æ¢æä»¶ã\n\nå½åçç¼ºé¡µä¸­æ­æ¶ï¼å¦æå½ååå­ä¸­å¹¶æ²¡æç©ºé²çé¡µé¢ï¼æä½ç³»ç»å°±å¿é¡»å¨åå­éæ©ä¸ä¸ªé¡µé¢å°å¶ç§»åºåå­ï¼ä»¥ä¾¿ä¸ºå³å°è°å¥çé¡µé¢è®©åºç©ºé´ãç¨æ¥éæ©æ·æ±°åªä¸é¡µçè§åå«åé¡µé¢ç½®æ¢ç®æ³ï¼æä»¬å¯ä»¥æé¡µé¢ç½®æ¢ç®æ³çææ¯æ·æ±°é¡µé¢çè§åã\n\n * opt é¡µé¢ç½®æ¢ç®æ³ï¼æä½³é¡µé¢ç½®æ¢ç®æ³ï¼ ï¼æä½³(optimal, opt)ç½®æ¢ç®æ³æéæ©çè¢«æ·æ±°é¡µé¢å°æ¯ä»¥åæ°¸ä¸ä½¿ç¨çï¼æèæ¯å¨æé¿æ¶é´åä¸åè¢«è®¿é®çé¡µé¢,è¿æ ·å¯ä»¥ä¿è¯è·å¾æä½çç¼ºé¡µçãä½ç±äºäººä»¬ç®åæ æ³é¢ç¥è¿ç¨å¨åå­ä¸çè¥åé¡µé¢ä¸­åªä¸ªæ¯æªæ¥æé¿æ¶é´åä¸åè¢«è®¿é®çï¼å èè¯¥ç®æ³æ æ³å®ç°ãä¸è¬ä½ä¸ºè¡¡éå¶ä»ç½®æ¢ç®æ³çæ¹æ³ã\n * fifoï¼first in first outï¼ é¡µé¢ç½®æ¢ç®æ³ï¼åè¿ååºé¡µé¢ç½®æ¢ç®æ³ï¼ : æ»æ¯æ·æ±°æåè¿å¥åå­çé¡µé¢ï¼å³éæ©å¨åå­ä¸­é©»çæ¶é´æä¹çé¡µé¢è¿è¡æ·æ±°ã\n * lru ï¼least recently usedï¼é¡µé¢ç½®æ¢ç®æ³ï¼æè¿æä¹æªä½¿ç¨é¡µé¢ç½®æ¢ç®æ³ï¼ ï¼lru ç®æ³èµäºæ¯ä¸ªé¡µé¢ä¸ä¸ªè®¿é®å­æ®µï¼ç¨æ¥è®°å½ä¸ä¸ªé¡µé¢èªä¸æ¬¡è¢«è®¿é®ä»¥æ¥æç»åçæ¶é´ tï¼å½é¡»æ·æ±°ä¸ä¸ªé¡µé¢æ¶ï¼éæ©ç°æé¡µé¢ä¸­å¶ t å¼æå¤§çï¼å³æè¿æä¹æªä½¿ç¨çé¡µé¢äºä»¥æ·æ±°ã\n * lfu ï¼least frequently usedï¼é¡µé¢ç½®æ¢ç®æ³ï¼æå°ä½¿ç¨é¡µé¢ç½®æ¢ç®æ³ï¼ : è¯¥ç½®æ¢ç®æ³éæ©å¨ä¹åæ¶æä½¿ç¨æå°çé¡µé¢ä½ä¸ºæ·æ±°é¡µã\n\n\n# reference\n\n * https://javaguide.cn/",charsets:{cjk:!0}},{title:"Markdown",frontmatter:{title:"Markdown",permalink:"/markdown/001/",categories:["å¼åå·¥å·","Markdown"],tags:["Markdown"],date:"2018-09-20T00:00:00.000Z"},regularPath:"/02.%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/01.Markdown/01.Markdown%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B.html",relativePath:"02.å¼åå·¥å·/01.Markdown/01.Markdownä½¿ç¨æç¨.md",key:"v-dd4c7ede",path:"/markdown/001/",headers:[{level:2,title:"ä¸ãMarkdown",slug:"ä¸ãmarkdown",normalizedTitle:"ä¸ãmarkdown",charIndex:19},{level:3,title:"ç®ä»",slug:"ç®ä»",normalizedTitle:"ç®ä»",charIndex:34},{level:3,title:"åºç¨",slug:"åºç¨",normalizedTitle:"åºç¨",charIndex:87},{level:3,title:"ç¼è¾å¨",slug:"ç¼è¾å¨",normalizedTitle:"ç¼è¾å¨",charIndex:152},{level:2,title:"äºãå¾½ç« ",slug:"äºãå¾½ç« ",normalizedTitle:"äºãå¾½ç« ",charIndex:194},{level:4,title:"ä»ä¹æ¯å¾½ç« ",slug:"ä»ä¹æ¯å¾½ç« ",normalizedTitle:"ä»ä¹æ¯å¾½ç« ",charIndex:202},{level:4,title:"å¾½ç« çä½¿ç¨",slug:"å¾½ç« çä½¿ç¨",normalizedTitle:"å¾½ç« çä½¿ç¨",charIndex:318},{level:2,title:"ä¸ãè®¾ç½®ç®å½",slug:"ä¸ãè®¾ç½®ç®å½",normalizedTitle:"ä¸ãè®¾ç½®ç®å½",charIndex:567},{level:2,title:"åãæ é¢",slug:"åãæ é¢",normalizedTitle:"åãæ é¢",charIndex:1181},{level:2,title:"äºçº§æ é¢",slug:"äºçº§æ é¢",normalizedTitle:"äºçº§æ é¢",charIndex:1199},{level:3,title:"ä¸çº§æ é¢",slug:"ä¸çº§æ é¢",normalizedTitle:"ä¸çº§æ é¢",charIndex:1211},{level:4,title:"åçº§æ é¢",slug:"åçº§æ é¢",normalizedTitle:"åçº§æ é¢",charIndex:1225},{level:5,title:"äºçº§æ é¢",slug:"äºçº§æ é¢",normalizedTitle:"äºçº§æ é¢",charIndex:1241},{level:6,title:"å­çº§æ é¢",slug:"å­çº§æ é¢",normalizedTitle:"å­çº§æ é¢",charIndex:1259},{level:2,title:"äºãææ¬",slug:"äºãææ¬",normalizedTitle:"äºãææ¬",charIndex:1269},{level:3,title:"æ®µè½",slug:"æ®µè½",normalizedTitle:"æ®µè½",charIndex:1281},{level:3,title:"å­ä½",slug:"å­ä½",normalizedTitle:"å­ä½",charIndex:1291},{level:3,title:"å é¤çº¿",slug:"å é¤çº¿",normalizedTitle:"å é¤çº¿",charIndex:1301},{level:3,title:"ä¸åçº¿",slug:"ä¸åçº¿",normalizedTitle:"ä¸åçº¿",charIndex:1312},{level:3,title:"æå­é«äº®",slug:"æå­é«äº®",normalizedTitle:"æå­é«äº®",charIndex:1323},{level:3,title:"åéçº¿",slug:"åéçº¿",normalizedTitle:"åéçº¿",charIndex:1335},{level:3,title:"èæ³¨",slug:"èæ³¨",normalizedTitle:"èæ³¨",charIndex:1346},{level:2,title:"å­ãåè¡¨",slug:"å­ãåè¡¨",normalizedTitle:"å­ãåè¡¨",charIndex:1354},{level:3,title:"æ åºåè¡¨",slug:"æ åºåè¡¨",normalizedTitle:"æ åºåè¡¨",charIndex:1366},{level:3,title:"æåºåè¡¨",slug:"æåºåè¡¨",normalizedTitle:"æåºåè¡¨",charIndex:1378},{level:3,title:"æå åè¡¨",slug:"æå åè¡¨",normalizedTitle:"æå åè¡¨",charIndex:1390},{level:3,title:"å¸¦å¤éæ¡åè¡¨",slug:"å¸¦å¤éæ¡åè¡¨",normalizedTitle:"å¸¦å¤éæ¡åè¡¨",charIndex:1402},{level:3,title:"åè¡¨åµå¥",slug:"åè¡¨åµå¥",normalizedTitle:"åè¡¨åµå¥",charIndex:1416},{level:2,title:"ä¸ãåºåå¼ç¨",slug:"ä¸ãåºåå¼ç¨",normalizedTitle:"ä¸ãåºåå¼ç¨",charIndex:1426},{level:4,title:"åºååµå¥",slug:"åºååµå¥",normalizedTitle:"åºååµå¥",charIndex:1440},{level:4,title:"åºåä¸­ä½¿ç¨åè¡¨",slug:"åºåä¸­ä½¿ç¨åè¡¨",normalizedTitle:"åºåä¸­ä½¿ç¨åè¡¨",charIndex:1452},{level:4,title:"åè¡¨ä¸­ä½¿ç¨åºå",slug:"åè¡¨ä¸­ä½¿ç¨åºå",normalizedTitle:"åè¡¨ä¸­ä½¿ç¨åºå",charIndex:1467},{level:2,title:"å«ãä»£ç ",slug:"å«ãä»£ç ",normalizedTitle:"å«ãä»£ç ",charIndex:1480},{level:3,title:"ä»£ç åºå",slug:"ä»£ç åºå",normalizedTitle:"ä»£ç åºå",charIndex:1492},{level:2,title:"ä¹ãé¾æ¥",slug:"ä¹ãé¾æ¥",normalizedTitle:"ä¹ãé¾æ¥",charIndex:1502},{level:3,title:"åéé¾æ¥",slug:"åéé¾æ¥",normalizedTitle:"åéé¾æ¥",charIndex:1514},{level:3,title:"Githubä»åºä¸­ä½¿ç¨åé¨é¾æ¥",slug:"githubä»åºä¸­ä½¿ç¨åé¨é¾æ¥",normalizedTitle:"githubä»åºä¸­ä½¿ç¨åé¨é¾æ¥",charIndex:4679},{level:3,title:"éç¹é¾æ¥",slug:"éç¹é¾æ¥",normalizedTitle:"éç¹é¾æ¥",charIndex:1547},{level:2,title:"åãå¾ç",slug:"åãå¾ç",normalizedTitle:"åãå¾ç",charIndex:1557},{level:3,title:"å¾çå®½é«",slug:"å¾çå®½é«",normalizedTitle:"å¾çå®½é«",charIndex:1569},{level:3,title:"ç¸å¯¹è·¯å¾ä»¥åGithubä¸­ä½¿ç¨å¾ç",slug:"ç¸å¯¹è·¯å¾ä»¥ågithubä¸­ä½¿ç¨å¾ç",normalizedTitle:"ç¸å¯¹è·¯å¾ä»¥ågithubä¸­ä½¿ç¨å¾ç",charIndex:1581},{level:2,title:"åä¸ãè¡¨æ ¼",slug:"åä¸ãè¡¨æ ¼",normalizedTitle:"åä¸ãè¡¨æ ¼",charIndex:1604},{level:2,title:"åäºãEmojiè¡¨æå",slug:"åäºãemojiè¡¨æå",normalizedTitle:"åäºãemojiè¡¨æå",charIndex:1615},{level:2,title:"åä¸ãå¶ä»æå·§",slug:"åä¸ãå¶ä»æå·§",normalizedTitle:"åä¸ãå¶ä»æå·§",charIndex:1632},{level:3,title:"æ¯æç HTML åç´ ",slug:"æ¯æç-html-åç´ ",normalizedTitle:"æ¯æç html åç´ ",charIndex:1647},{level:3,title:"è½¬ä¹",slug:"è½¬ä¹",normalizedTitle:"è½¬ä¹",charIndex:1666},{level:3,title:"æ°å­¦å¬å¼",slug:"æ°å­¦å¬å¼",normalizedTitle:"æ°å­¦å¬å¼",charIndex:1676},{level:3,title:"å¾è¡¨",slug:"å¾è¡¨",normalizedTitle:"å¾è¡¨",charIndex:1688},{level:3,title:"æµç¨å¾",slug:"æµç¨å¾",normalizedTitle:"æµç¨å¾",charIndex:1698},{level:3,title:"æ¶åºå¾",slug:"æ¶åºå¾",normalizedTitle:"æ¶åºå¾",charIndex:1709},{level:3,title:"çç¹å¾",slug:"çç¹å¾",normalizedTitle:"çç¹å¾",charIndex:1720}],excerpt:'<h1 id="markdownä½¿ç¨æç¨"><a class="header-anchor" href="#markdownä½¿ç¨æç¨">#</a> Markdownä½¿ç¨æç¨</h1>\n<h2 id="ä¸ãmarkdown"><a class="header-anchor" href="#ä¸ãmarkdown">#</a> ä¸ãMarkdown</h2>\n<h3 id="ç®ä»"><a class="header-anchor" href="#ç®ä»">#</a> ç®ä»</h3>\n<p><img src="https://raw.githubusercontent.com/xugaoyi/image_store/master/blog/md_logo.png" alt="logo"></p>\n<p><code>Markdown</code> æ¯ä¸ç§è½»éçº§æ è®°è¯­è¨ï¼å®åè®¸äººä»¬ä½¿ç¨æè¯»æåççº¯ææ¬æ ¼å¼ç¼åææ¡£ã</p>\n',headersStr:"ä¸ãMarkdown ç®ä» åºç¨ ç¼è¾å¨ äºãå¾½ç«  ä»ä¹æ¯å¾½ç«  å¾½ç« çä½¿ç¨ ä¸ãè®¾ç½®ç®å½ åãæ é¢ äºçº§æ é¢ ä¸çº§æ é¢ åçº§æ é¢ äºçº§æ é¢ å­çº§æ é¢ äºãææ¬ æ®µè½ å­ä½ å é¤çº¿ ä¸åçº¿ æå­é«äº® åéçº¿ èæ³¨ å­ãåè¡¨ æ åºåè¡¨ æåºåè¡¨ æå åè¡¨ å¸¦å¤éæ¡åè¡¨ åè¡¨åµå¥ ä¸ãåºåå¼ç¨ åºååµå¥ åºåä¸­ä½¿ç¨åè¡¨ åè¡¨ä¸­ä½¿ç¨åºå å«ãä»£ç  ä»£ç åºå ä¹ãé¾æ¥ åéé¾æ¥ Githubä»åºä¸­ä½¿ç¨åé¨é¾æ¥ éç¹é¾æ¥ åãå¾ç å¾çå®½é« ç¸å¯¹è·¯å¾ä»¥åGithubä¸­ä½¿ç¨å¾ç åä¸ãè¡¨æ ¼ åäºãEmojiè¡¨æå åä¸ãå¶ä»æå·§ æ¯æç HTML åç´  è½¬ä¹ æ°å­¦å¬å¼ å¾è¡¨ æµç¨å¾ æ¶åºå¾ çç¹å¾",content:"# Markdownä½¿ç¨æç¨\n\n\n# ä¸ãMarkdown\n\n\n# ç®ä»\n\n\n\nMarkdown æ¯ä¸ç§è½»éçº§æ è®°è¯­è¨ï¼å®åè®¸äººä»¬ä½¿ç¨æè¯»æåççº¯ææ¬æ ¼å¼ç¼åææ¡£ã\n\n\n# åºç¨\n\nå½åè®¸å¤ç½ç«é½å¹¿æ³ä½¿ç¨ Markdown æ¥æ°åå¸®å©ææ¡£ææ¯ç¨äºè®ºåä¸åè¡¨æ¶æ¯ãä¾å¦ï¼GitHubãç®ä¹¦ãç¥ä¹ç­\n\n\n# ç¼è¾å¨\n\næ¨èä½¿ç¨Typoraï¼å®ç½ï¼https://typora.io/\n\n\n# äºãå¾½ç« \n\n# ä»ä¹æ¯å¾½ç« \n\nå¾½ç« æ¯ä¸ç§å°å·§ç²¾ç¾çå°å¾æ ï¼ä¸è¬éæç¸å³æå­è¿è¡è¾å©è¯´æï¼å¯å¯¹æ°æ®è¿è¡çæ§ï¼é¾æ¥è·³è½¬ç­ï¼å¯æè¡¨ç°åã\n\nå¸¸è§äºgithubé¡¹ç®ä¸»é¡µï¼ä½å¶ä¸ä»åºç°äº github é¡¹ç®ä¸»é¡µï¼å¡æ¯è½å¤è¡¨ç°å¾ççå°æ¹é½å¯ä»¥åºç°å¾½ç« ã\n\n# å¾½ç« çä½¿ç¨\n\n * å¨markdownä¸­ä½¿ç¨\n\næ ¼å¼:\n[![å¾çæå­è¯´æ](å¾çæºå°å)](è¶é¾æ¥å°å)  # å³è¶é¾æ¥åé¨åµå¥å¾ç\n\nè¯­æ³ï¼\n[![github](https://img.shields.io/badge/github-xugaoyi-brightgreen.svg)](https://github.com/xugaoyi)\n\n\n\n\nå¾½ç« çæç½ç«ï¼https://shields.io/\n\næ¬ææ¡£ä¸»è¦ä»ç»markdownï¼ä¸å¯¹å¾½ç« åè¿å¤ä»ç»ï¼è¯¦ç»ä»ç»è¯· æ³æ äºè§£ã\n\n\n# ä¸ãè®¾ç½®ç®å½\n\nè®¾ç½®ä¹åä¼æ ¹æ®åçº§æ é¢æ¥èªå¨çæç®å½ã\n\n[TOC]\n\n\n> æ³¨ï¼githubææªæ¯æã\n\n[TOC]\n\nå¨githubçæTOCçæ¹æ³ï¼https://github.com/ekalinin/github-markdown-toc\n\nwindowsç³»ç»éè¦åºäºgolangå®ç°çå·¥å·ï¼https://github.com/ekalinin/github-markdown-toc.go\n\n> å¦æä½ æGOè¯­è¨çç¼è¯ç¯å¢ï¼å¯ä»¥å°è¯èªå·±ç¼è¯ï¼å¦ææ²¡æï¼å¯ä»¥ç´æ¥ä¸è½½ç¼è¯å¥½çäºè¿å¶æä»¶ã\n> \n> å¦windowsç³»ç»64ä½ ä¸è½½ï¼gh-md-toc.windows.amd64.tgz ï¼386 æ¯32ä½ï¼amd64æ¯64ä½ï¼\n> \n> ä¸è½½è§£ååï¼åç°æ²¡æåç¼åæ æ³è¯å«ï¼å®éä¸è¿æ¯ä¸ªexeæä»¶ï¼æä»¥åªéè¦æ´åå°å¨åé¢å ä¸.exeå°±å¯ä»¥å¼å§æå¿«ä½¿ç¨äºã\n> \n> ä½¿ç¨æ¹æ³ï¼\n> \n>  1. é¦åå°.mdææ¡£å¤å¶å°gh-md-toc.exeçæ ¹ç®å½ä¸\n>  2. å¨è¯¥ç®å½ä¸æå¼ç³»ç»å½ä»¤è¡ï¼è¾å¥å½ä»¤ï¼gh-md-toc.exe README.MD çæç®å½\n>  3. æçæçç®å½å¤å¶å°.mdæä»¶å³å¯ã\n\nè¿æ¯gh-md-tocçæçç®å½ï¼\n\n * ä¸ãMarkdown\n   * ç®ä»\n   * åºç¨\n   * ç¼è¾å¨\n * äºãå¾½ç« \n   * ä»ä¹æ¯å¾½ç« \n   * å¾½ç« çä½¿ç¨\n * ä¸ãè®¾ç½®ç®å½\n * åãæ é¢\n * ä¸çº§æ é¢\n   * äºçº§æ é¢\n     * ä¸çº§æ é¢\n       * åçº§æ é¢\n         * äºçº§æ é¢\n           * å­çº§æ é¢\n   * äºãææ¬\n     * æ®µè½\n     * å­ä½\n     * å é¤çº¿\n     * ä¸åçº¿\n     * æå­é«äº®\n     * åéçº¿\n     * èæ³¨\n   * å­ãåè¡¨\n     * æ åºåè¡¨\n     * æåºåè¡¨\n     * æå åè¡¨\n     * å¸¦å¤éæ¡åè¡¨\n     * åè¡¨åµå¥\n   * ä¸ãåºåå¼ç¨\n     * åºååµå¥\n     * åºåä¸­ä½¿ç¨åè¡¨\n     * åè¡¨ä¸­ä½¿ç¨åºå\n   * å«ãä»£ç \n     * ä»£ç åºå\n   * ä¹ãé¾æ¥\n     * åéé¾æ¥\n     * Githubä¸­ä½¿ç¨åé¨é¾æ¥\n     * éç¹é¾æ¥\n   * åãå¾ç\n     * å¾çå®½é«\n     * ç¸å¯¹è·¯å¾ä»¥åGithubä¸­ä½¿ç¨å¾ç\n   * åä¸ãè¡¨æ ¼\n   * åäºãEmojiè¡¨æå\n   * åä¸ãå¶ä»æå·§\n     * æ¯æç HTML åç´ \n     * è½¬ä¹\n     * æ°å­¦å¬å¼\n     * å¾è¡¨\n     * æµç¨å¾\n     * æ¶åºå¾\n     * çç¹å¾\n\n\n# åãæ é¢\n\n# ä¸çº§æ é¢\n## äºçº§æ é¢\n### ä¸çº§æ é¢\n#### åçº§æ é¢\n##### äºçº§æ é¢\n###### å­çº§æ é¢\n\n\n\n# ä¸çº§æ é¢\n\n\n# äºçº§æ é¢\n\n\n# ä¸çº§æ é¢\n\n# åçº§æ é¢\n\n# äºçº§æ é¢\n\n# å­çº§æ é¢\n\n\n# äºãææ¬\n\n\n# æ®µè½\n\nMarkdown æ®µè½æ²¡æç¹æ®çæ ¼å¼ï¼ç´æ¥ç¼åæå­ï¼éè¦æ®µè½ç¼©è¿æ¶ä½¿ç¨2ä¸ªTab\n\n\n# å­ä½\n\n*æä½ææ¬*\næ _æä½ææ¬_\n**ç²ä½ææ¬**\næ  __ç²ä½ææ¬__\n***ç²æä½ææ¬***\næ ___ç²æä½ææ¬___\n\n\næä½ææ¬\n\næä½ææ¬\n\nç²ä½ææ¬\n\nç²ä½ææ¬\n\nç²æä½ææ¬\n\nç²æä½ææ¬\n\n\n# å é¤çº¿\n\nå¦ææ®µè½ä¸çæå­è¦æ·»å å é¤çº¿ï¼åªéè¦å¨æå­çä¸¤ç«¯å ä¸ä¸¤ä¸ªæ³¢æµªçº¿ ~~ å³å¯ï¼å®ä¾å¦ä¸ï¼\n\n~~BAIDU.COM~~\n\n\nBAIDU.COM\n\n\n# ä¸åçº¿\n\nä¸åçº¿å¯ä»¥éè¿ HTML ç<u> æ ç­¾æ¥å®ç°ï¼\n\n<u>å¸¦ä¸åçº¿çææ¬</u>\n\n\nå¸¦ä¸åçº¿çææ¬\n\n\n# æå­é«äº®\n\næå­é«äº®è½ä½¿è¡åé¨åæå­é«äº®ï¼ä½¿ç¨ä¸å¯¹åå¼å·ã\n\n`html` `css` `javascript`\n\n\nhtml css javascript\n\n\n# åéçº¿\n\nä½ å¯ä»¥å¨ä¸è¡ä¸­ç¨ä¸ä¸ªä»¥ä¸çæå·ãåå·ãåºçº¿æ¥å»ºç«ä¸ä¸ªåéçº¿ï¼è¡åä¸è½æå¶ä»ä¸è¥¿ãä½ ä¹å¯ä»¥å¨æå·ææ¯åå·ä¸­é´æå¥ç©ºæ ¼ãä¸é¢æ¯ç§åæ³é½å¯ä»¥å»ºç«åéçº¿ï¼\n\n***\n\n*****\n\n- - -\n\n----------\n\n\n----------------------------------------\n\n\n# èæ³¨\n\nèæ³¨æ¯å¯¹ææ¬çè¡¥åè¯´æã\n\n[^åé]\nå¨ææ¡£ç»å°¾æå¶ä»ä½ç½®çµ¦åéèµå¼ï¼\n[^åé]: æ³¨ææ¡åæ¾ç¤ºçåå®¹\n\né¼ æ ç§»å°è¿é> [^åå½]\n[^åå½]: æ³¨ææ¡åæ¾ç¤ºçåå®¹\n\n\n> æ³¨ï¼å¨é¨åçº¿ä¸é¢è§æªæ¯æ\n\né¼ æ ç§»å°è¿é> ^åå½\n\n\n# å­ãåè¡¨\n\n\n# æ åºåè¡¨\n\nä½¿ç¨æå·*ãå å·+ææ¯åå·-ä½ä¸ºåè¡¨æ è®°ï¼\n\n* ç¬¬ä¸é¡¹\n* ç¬¬äºé¡¹\n\n+ ç¬¬ä¸é¡¹\n+ ç¬¬äºé¡¹\n\n- ç¬¬ä¸é¡¹\n- ç¬¬äºé¡¹\n\n\n * ç¬¬ä¸é¡¹\n * ç¬¬äºé¡¹\n\n\n# æåºåè¡¨\n\nä½¿ç¨æ°å­å¹¶å ä¸. å·æ¥è¡¨ç¤º\n\n1. ç¬¬ä¸é¡¹\n2. ç¬¬äºé¡¹\n\n\n 1. ç¬¬ä¸é¡¹\n 2. ç¬¬äºé¡¹\n\n\n# æå åè¡¨\n\n<details>\n<summary>ç¹ææå¼å³é­æå </summary>\n æå åå®¹\n <ul>\n     <li>1</li>\n     <li>2</li>\n     <li>3</li>\n </ul>\n</details>\n\n\n> æ³¨æï¼<details> æ ç­¾ååmarkdownä»£ç æ æï¼å¯åhtmlä»£ç ï¼å¦ul>liãtableç­\n\nç¹ææå¼å³é­æå  æå åå®¹\n * 1\n * 2\n * 3\n\nåå«tableçæå \n\nåç±»        ä¾è¯\näººç§°ä»£è¯-ä¸»æ ¼   Iæï¼youä½ ï¼heä»ï¼sheå¥¹ï¼theyä»ä»¬ï¼ weæä»¬\näººç§°ä»£è¯-å®¾æ ¼   meæï¼ youä½ ï¼ himä»ï¼ herå¥¹ï¼ themä»ä»¬ï¼ usæä»¬\nç©ä¸»ä»£è¯      myæçï¼ hisä»çï¼ yourä½ çï¼yourä½ ä»¬çï¼ï¼ theirä»ä»¬çï¼ herså¥¹ç\næç¤ºä»£è¯      thisè¿ï¼ thaté£ï¼ theseè¿äºï¼ those é£äº\nåèº«ä»£è¯      myselfæèªå·±ï¼ himselfä»èªå·±ï¼ themselvesä»ä»¬èªå·±ï¼\n          yourselfä½ (ä»¬)èªå·±ï¼herselfå¥¹èªå·±\nçé®ä»£è¯      whoè°ï¼ whatä»ä¹ï¼ whichåªä¸ª\nä¸å®ä»£è¯      someä¸äºï¼ manyè®¸å¤ï¼ bothä¸¤ä¸ªãä¸¤ä¸ªé½ï¼ anyè®¸å¤\nå³ç³»ä»£è¯      whichâ¦â¦çç©ï¼ whoâ¦â¦çäººï¼ thatâ¦â¦çäººæç©ï¼ whoè°ï¼ thatå¼å¯¼å®è¯­ä»å¥\nç¸äºä»£è¯      each other äºç¸ï¼ one anotheräºç¸\nè¿æ¥ä»£è¯      who,whom,whose,what,which,whatever,whichever,whoever,whomever\næ¿ä»£è¯       oneï¼åæ°ï¼ï¼onesï¼å¤æ°ï¼\n\n\n# å¸¦å¤éæ¡åè¡¨\n\n* [x] ç¬¬ä¸é¡¹\n* [ ] ç¬¬äºé¡¹\n* [ ] ç¬¬ä¸é¡¹\n\n\n> æ³¨ï¼å¨é¨åçº¿ä¸é¢è§æªæ¯æ\n\n * [x] ç¬¬ä¸é¡¹\n\n * [ ] ç¬¬äºé¡¹\n\n * [ ] ç¬¬ä¸é¡¹\n\n\n# åè¡¨åµå¥\n\n1. ç¬¬ä¸é¡¹ï¼\n    - ç¬¬ä¸é¡¹åµå¥çç¬¬ä¸ä¸ªåç´ \n    - ç¬¬ä¸é¡¹åµå¥çç¬¬äºä¸ªåç´ \n2. ç¬¬äºé¡¹ï¼\n    - ç¬¬äºé¡¹åµå¥çç¬¬ä¸ä¸ªåç´ \n       - ç¬¬ä¸å±åµå¥\n\n\n 1. ç¬¬ä¸é¡¹\n    * åµå¥1\n    * åµå¥2\n 2. ç¬¬äºé¡¹\n    * åµå¥1\n      * åµå¥2\n\n\n# ä¸ãåºåå¼ç¨\n\nåºåå¼ç¨æ¯å¨æ®µè½å¼å¤´ä½¿ç¨ >ç¬¦å· ï¼ç¶ååé¢ç´§è·ä¸ä¸ªç©ºæ ¼ç¬¦å·ï¼\n\n> åºåå¼ç¨\n\n\n> åºåå¼ç¨\n> \n> Typoraä¸­åè½¦é®èªå¨å»¶ä¼¸åºå\n\n# åºååµå¥\n\n> ç¬¬ä¸å±\n> > ç¬¬äºå±\n> > > ç¬¬ä¸å±\n\n\n> ç¬¬ä¸å±\n> \n> > ç¬¬äºå±\n> > \n> > > ç¬¬ä¸å±\n\n# åºåä¸­ä½¿ç¨åè¡¨\n\n> åºåä¸­ä½¿ç¨åè¡¨\n> 1. ç¬¬ä¸é¡¹\n> 2. ç¬¬äºé¡¹\n> * 111\n> * 222\n\n\n> åºåä¸­ä½¿ç¨åè¡¨\n> \n>  1. ç¬¬ä¸é¡¹\n>  2. ç¬¬äºé¡¹\n>     * 111\n>     * 222\n\n# åè¡¨ä¸­ä½¿ç¨åºå\n\n* ç¬¬ä¸é¡¹\n    > åºå\n* ç¬¬äºé¡¹\n\n\n * ç¬¬ä¸é¡¹\n   \n   > åºå\n   > \n   > åºå\n\n * ç¬¬äºé¡¹\n\n\n# å«ãä»£ç \n\nå¦ææ¯æ®µè½ä¸çä¸ä¸ªä»£ç çæ®µå¯ä»¥ç¨åå¼å·æå®åèµ·æ¥ï¼`ï¼ï¼ç¤ºä¾ï¼\n\n`alert()`\n\n\nalert()\n\n\n# ä»£ç åºå\n\nç¨ä¸ä¸ªåå¼å· ``` åè£¹ä¸æ®µä»£ç ï¼å¹¶æå®ä¸ç§è¯­è¨ï¼ä¹å¯ä»¥ä¸æå®ï¼ï¼æå®ä»£ç è¯­è¨åä¼æä»£ç çé¢è²é«äº®\n\næ¬ä»£ç åºåä¸ºç¤ºä¾è¯´æï¼\n\n```javascript\nfunction test() {\n\talert('test')\n}\nâ```\n\n\nææï¼\n\nfunction test() {\n\talert('test')\n}\n\n\n\n# ä¹ãé¾æ¥\n\næ ¼å¼ï¼\n\n[é¾æ¥åç§°](é¾æ¥å°å)\n\n[é¾æ¥åç§°](é¾æ¥å°å,å¯éçalt)\n\næ\n\n<é¾æ¥å°å>\n\n\nç¤ºä¾ï¼\n\n[ç¾åº¦](http://www.baidu.com,'ç¾åº¦')\n\n\nç¾åº¦\n\nç´æ¥æ¾ç¤ºé¾æ¥å°åï¼\n\n<http://www.baidu.com>\n\n\nhttp://www.baidu.com\n\n\n# åéé¾æ¥\n\né¾æ¥å¯ä»¥ç¨åéæ¥ä»£æ¿ï¼ææ¡£æ«å°¾æå¶ä»ä½ç½®éå¸¦åéå°åï¼\n\nè¿ä¸ªé¾æ¥ç¨ 1 ä½ä¸ºç½ååé [Google][1]\nè¿ä¸ªé¾æ¥ç¨ baidu ä½ä¸ºç½ååé [Baidu][baidu]\n\nç¶åå¨ææ¡£çç»å°¾æå¶ä»ä½ç½®ç»åéèµå¼ï¼ç½åï¼\n  [1]: http://www.google.com/\n  [baidu]: http://www.baidu.com/\n\n\nè¿ä¸ªé¾æ¥ç¨ 1 ä½ä¸ºç½ååé Google\n\nè¿ä¸ªé¾æ¥ç¨ baidu ä½ä¸ºç½ååé Baidu\n\n\n# Githubä»åºä¸­ä½¿ç¨åé¨é¾æ¥\n\nå¯ä½¿ç¨ç¸å¯¹è·¯å¾ï¼åææ¯æè¯¥è·¯å¾ä¸çæä»¶ï¼\n[test](test.md)\n\n\ntest\n\n\n# éç¹é¾æ¥\n\næ¬æä»¶ä¸­æ¯ä¸ä¸ªæ é¢é½æ¯ä¸ä¸ªéç¹ï¼åHTMLçéç¹ï¼#ï¼ç±»ä¼¼\n\n[Markdown](#Markdown)\n\n\n> æ³¨ï¼ githubå¯¹å«ææ ç¹ç¬¦å·çæ é¢è¿è¡éç¹æ¶ä¼å¿½ç¥ææ ç¹ç¬¦å·ï¼ æ¬é¡µä¸­ï¼å¦æè¿æ ·ååæ æ³è·³è½¬ï¼[é¾æ¥](#ä¹ãé¾æ¥) æ­£ç¡®åæ³ï¼[é¾æ¥](#ä¹é¾æ¥)\n\nMarkdown\n\né¾æ¥\n\næµç¨å¾\n\n\n# åãå¾ç\n\nåé¾æ¥çåºå«æ¯åé¢å¤ä¸ä¸ªæå¹å·!\n\n![å¾çå](å¾çé¾æ¥)\n\n\nå½ç¶ï¼ä½ ä¹å¯ä»¥åé¾æ¥é£æ ·å¯¹å¾çå°åä½¿ç¨åé:\n\nè¿éé¾æ¥ç¨ img ä½ä¸ºå¾çå°ååé\nç¶åå¨ææ¡£çç»å°¾æå¶ä»ä½ç½®ç»åéèµå¼ï¼å¾çå°åï¼\n![RUNOOB][img]\n[img]: https://raw.githubusercontent.com/xugaoyi/image_store/master/blog/md_logo.png\n\n\n\n\n\n# å¾çå®½é«\n\nå¦ä¸æ³è®¾ç½®å¾çå®½é«ï¼å¯ä»¥ä½¿ç¨ <img> æ ç­¾ã\n\n<img src=\"https://raw.githubusercontent.com/xugaoyi/image_store/master/blog/md_logo.png\" width=\"50px\" height=\"30px\">\n\n\n\n# ç¸å¯¹è·¯å¾ä»¥åGithubä¸­ä½¿ç¨å¾ç\n\nä¸ç®¡æ¯å¨æ¬å°è¿æ¯å¨githubåä¸ä¸ªä»åºä¸­ï¼å¦æå¾çå­å¨ï¼å¯ä»¥ä½¿ç¨ç¸å¯¹è·¯å¾ã\n\nç¸å¯¹è·¯å¾å¾çï¼\n\n![å¤´åå¾ç](./md-img/test.jpg)\n\n\ngithubä¸å¦æå¼ç¨å¶ä»githubä»åºä¸­çå¾çåè¦æ³¨æå°åæ ¼å¼ï¼ä»åºå°å/raw/åæ¯å/å¾çè·¯å¾ æ https://raw.githubusercontent.com/ç¨æ·å/ä»åºå/åæ¯å/å¾çè·¯å¾\n\n![å¶ä»ä»åºçå¾ç1](https://github.com/xugaoyi/vue-music/raw/master/src/common/image/default.png)\næ\n![å¶ä»ä»åºçå¾ç2](https://raw.githubusercontent.com/xugaoyi/image_store/master/blog/md_logo.png)\n\n\n\n\n\n\n\n\n# åä¸ãè¡¨æ ¼\n\nå¶ä½è¡¨æ ¼ä½¿ç¨ |æ¥åéä¸åçååæ ¼ï¼ä½¿ç¨-æ¥åéè¡¨å¤´åå¶ä»è¡ã\n\n|  è¡¨å¤´   | è¡¨å¤´  |\n|  ----  | ----  |\n| ååæ ¼  | ååæ ¼ |\n| ååæ ¼  | ååæ ¼ |\n\n\nè¡¨å¤´    è¡¨å¤´\nååæ ¼   ååæ ¼\nååæ ¼   ååæ ¼\n\nå¯¹é½æ¹å¼\n\n * -: è®¾ç½®åå®¹åæ é¢æ å±å³å¯¹é½\n * :- è®¾ç½®åå®¹åæ é¢æ å±å·¦å¯¹é½\n * :-: è®¾ç½®åå®¹åæ é¢æ å±ä¸­å¯¹é½\n\n| å·¦å¯¹é½ | å³å¯¹é½ | å±ä¸­å¯¹é½ |\n| :-----| ----: | :----: |\n| ååæ ¼ | ååæ ¼ | ååæ ¼ |\n| ååæ ¼ | ååæ ¼ | ååæ ¼ |\n\n\nå·¦å¯¹é½   å³å¯¹é½   å±ä¸­å¯¹é½\nååæ ¼   ååæ ¼   ååæ ¼\nååæ ¼   ååæ ¼   ååæ ¼\n\n\n# åäºãEmojiè¡¨æå\n\nEmojiè¡¨æè±æåçååå åå·ï¼Typoreä¸åè¾å¥åå·åè¾å¥é¦å­æ¯æè¡¨ææç¤º\n\n:smirk:\n\n\nð ð¸ðð´ ðððð âï¸\n\næ´å¤è¡¨æåç§°è¯·æ¥çï¼è¡¨æåæ¸å\n\n\n# åä¸ãå¶ä»æå·§\n\n\n# æ¯æç HTML åç´ \n\nä¸å¨ Markdown è¯­æ³æ¶µçèå´ä¹åçæ ç­¾ï¼é½å¯ä»¥ç´æ¥å¨ææ¡£éé¢ç¨ HTML æ°åã\n\nç®åæ¯æç HTML åç´ æï¼<kbd> <b> <i> <em> <sup> <sub> <br>ç­ç­ ï¼å¦ï¼\n\nä½¿ç¨ <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Del</kbd> éå¯çµè\n\n\nä½¿ç¨ Ctrl+Alt+Del éå¯çµè\n\nææ¯ä½¿ç¨bæ ç­¾çå ç²å­ä½\n\n\n# è½¬ä¹\n\nMarkdown ä½¿ç¨äºå¾å¤ç¹æ®ç¬¦å·æ¥è¡¨ç¤ºç¹å®çæä¹ï¼å¦æéè¦æ¾ç¤ºç¹å®çç¬¦å·åéè¦ä½¿ç¨åææ è½¬ä¹å­ç¬¦ï¼\n\n**æªè½¬ä¹æå·æ¾ç¤ºå ç²**\n\\*\\* è½¬ä¹æ¾ç¤ºæå· \\*\\*\n\n\næªè½¬ä¹æå·æ¾ç¤ºå ç² ** è½¬ä¹æ¾ç¤ºæå· **\n\nMarkdown æ¯æä»¥ä¸è¿äºç¬¦å·åé¢å ä¸åææ æ¥å¸®å©æå¥æ®éçç¬¦å·ï¼\n\n\\   åæçº¿\n`   åå¼å·\n*   æå·\n_   ä¸åçº¿\n{}  è±æ¬å·\n[]  æ¹æ¬å·\n()  å°æ¬å·\n#   äºå­å·\n+   å å·\n-   åå·\n.   è±æå¥ç¹\n!   æå¹å·\n\n\n----------------------------------------\n\n*** ä»¥ä¸é¨åå¨Githubæå¶ä»å¨çº¿é¢è§ä¸­ææªæ¯æ ***\n\n----------------------------------------\n\n\n# æ°å­¦å¬å¼\n\nå½ä½ éè¦å¨ç¼è¾å¨ä¸­æå¥æ°å­¦å¬å¼æ¶ï¼å¯ä»¥ä½¿ç¨ä¸¤ä¸ªç¾åç¬¦ $$ åè£¹ TeX æ LaTeX æ ¼å¼çæ°å­¦å¬å¼æ¥å®ç°ãæäº¤åï¼é®ç­åæç« é¡µä¼æ ¹æ®éè¦å è½½ Mathjax å¯¹æ°å­¦å¬å¼è¿è¡æ¸²æãå¦ï¼\n\n$$\n\\mathbf{V}_1 \\times \\mathbf{V}_2 =  \\begin{vmatrix}\n\\mathbf{i} & \\mathbf{j} & \\mathbf{k} \\\\\n\\frac{\\partial X}{\\partial u} &  \\frac{\\partial Y}{\\partial u} & 0 \\\\\n\\frac{\\partial X}{\\partial v} &  \\frac{\\partial Y}{\\partial v} & 0 \\\\\n\\end{vmatrix}\n$$tep1}{\\style{visibility:hidden}{(x+1)(x+1)}}\n$$\n\n\n$$ \\mathbf{V}_1 \\times \\mathbf{V}_2 = \\begin{vmatrix} \\mathbf{i} & \\mathbf{j} & \\mathbf{k} \\ \\frac{\\partial X}{\\partial u} & \\frac{\\partial Y}{\\partial u} & 0 \\ \\frac{\\partial X}{\\partial v} & \\frac{\\partial Y}{\\partial v} & 0 \\ \\end{vmatrix} $$\n\n\n# å¾è¡¨\n\n```chart\n,Budget,Income,Expenses,Debt\nJune,5000,8000,4000,6000\nJuly,3000,1000,4000,3000\nAug,5000,7000,6000,3000\nSep,7000,2000,3000,1000\nOct,6000,5000,4000,2000\nNov,4000,3000,5000,\n\ntype: pie\ntitle: Monthly Revenue\nx.title: Amount\ny.title: Month\ny.suffix: $\nâ```\nâ```mermaid\nsequenceDiagram\nA->>B: æ¯å¦å·²æ¶å°æ¶æ¯ï¼\nB--\x3e>A: å·²æ¶å°æ¶æ¯\nâ```\n\n\n> æ³¨ï¼å¨Typoraä¸­æªæ¯æ\n\n\n# æµç¨å¾\n\nè¯­æ³ï¼\nâ```mermaid\ngraph TD\nA[æ¨¡åA] --\x3e|A1| B(æ¨¡åB)\nB --\x3e C{å¤æ­æ¡ä»¶C}\nC --\x3e|æ¡ä»¶C1| D[æ¨¡åD]\nC --\x3e|æ¡ä»¶C2| E[æ¨¡åE]\nC --\x3e|æ¡ä»¶C3| F[æ¨¡åF]\nâ```\n\n\næµç¨å¾ç¸å³æç« ï¼\n\nhttps://www.jianshu.com/p/b421cc723da5\n\nhttp://www.imooc.com/article/292708\n\n\n# æ¶åºå¾\n\n```mermaid\nsequenceDiagram\nA->>B: æ¯å¦å·²æ¶å°æ¶æ¯ï¼\nB--\x3e>A: å·²æ¶å°æ¶æ¯\nâ```\n\n\n\n# çç¹å¾\n\n```mermaid\ngantt\ntitle çç¹å¾\ndateFormat  YYYY-MM-DD\nsection é¡¹ç®A\nä»»å¡1           :a1, 2018-06-06, 30d\nä»»å¡2     :after a1  , 20d\nsection é¡¹ç®B\nä»»å¡3      :2018-06-12  , 12d\nä»»å¡4      : 24d\nâ```\n\n\nåå°é¡¶é¨",normalizedContent:"# markdownä½¿ç¨æç¨\n\n\n# ä¸ãmarkdown\n\n\n# ç®ä»\n\n\n\nmarkdown æ¯ä¸ç§è½»éçº§æ è®°è¯­è¨ï¼å®åè®¸äººä»¬ä½¿ç¨æè¯»æåççº¯ææ¬æ ¼å¼ç¼åææ¡£ã\n\n\n# åºç¨\n\nå½åè®¸å¤ç½ç«é½å¹¿æ³ä½¿ç¨ markdown æ¥æ°åå¸®å©ææ¡£ææ¯ç¨äºè®ºåä¸åè¡¨æ¶æ¯ãä¾å¦ï¼githubãç®ä¹¦ãç¥ä¹ç­\n\n\n# ç¼è¾å¨\n\næ¨èä½¿ç¨typoraï¼å®ç½ï¼https://typora.io/\n\n\n# äºãå¾½ç« \n\n# ä»ä¹æ¯å¾½ç« \n\nå¾½ç« æ¯ä¸ç§å°å·§ç²¾ç¾çå°å¾æ ï¼ä¸è¬éæç¸å³æå­è¿è¡è¾å©è¯´æï¼å¯å¯¹æ°æ®è¿è¡çæ§ï¼é¾æ¥è·³è½¬ç­ï¼å¯æè¡¨ç°åã\n\nå¸¸è§äºgithubé¡¹ç®ä¸»é¡µï¼ä½å¶ä¸ä»åºç°äº github é¡¹ç®ä¸»é¡µï¼å¡æ¯è½å¤è¡¨ç°å¾ççå°æ¹é½å¯ä»¥åºç°å¾½ç« ã\n\n# å¾½ç« çä½¿ç¨\n\n * å¨markdownä¸­ä½¿ç¨\n\næ ¼å¼:\n[![å¾çæå­è¯´æ](å¾çæºå°å)](è¶é¾æ¥å°å)  # å³è¶é¾æ¥åé¨åµå¥å¾ç\n\nè¯­æ³ï¼\n[![github](https://img.shields.io/badge/github-xugaoyi-brightgreen.svg)](https://github.com/xugaoyi)\n\n\n\n\nå¾½ç« çæç½ç«ï¼https://shields.io/\n\næ¬ææ¡£ä¸»è¦ä»ç»markdownï¼ä¸å¯¹å¾½ç« åè¿å¤ä»ç»ï¼è¯¦ç»ä»ç»è¯· æ³æ äºè§£ã\n\n\n# ä¸ãè®¾ç½®ç®å½\n\nè®¾ç½®ä¹åä¼æ ¹æ®åçº§æ é¢æ¥èªå¨çæç®å½ã\n\n[toc]\n\n\n> æ³¨ï¼githubææªæ¯æã\n\n[toc]\n\nå¨githubçætocçæ¹æ³ï¼https://github.com/ekalinin/github-markdown-toc\n\nwindowsç³»ç»éè¦åºäºgolangå®ç°çå·¥å·ï¼https://github.com/ekalinin/github-markdown-toc.go\n\n> å¦æä½ ægoè¯­è¨çç¼è¯ç¯å¢ï¼å¯ä»¥å°è¯èªå·±ç¼è¯ï¼å¦ææ²¡æï¼å¯ä»¥ç´æ¥ä¸è½½ç¼è¯å¥½çäºè¿å¶æä»¶ã\n> \n> å¦windowsç³»ç»64ä½ ä¸è½½ï¼gh-md-toc.windows.amd64.tgz ï¼386 æ¯32ä½ï¼amd64æ¯64ä½ï¼\n> \n> ä¸è½½è§£ååï¼åç°æ²¡æåç¼åæ æ³è¯å«ï¼å®éä¸è¿æ¯ä¸ªexeæä»¶ï¼æä»¥åªéè¦æ´åå°å¨åé¢å ä¸.exeå°±å¯ä»¥å¼å§æå¿«ä½¿ç¨äºã\n> \n> ä½¿ç¨æ¹æ³ï¼\n> \n>  1. é¦åå°.mdææ¡£å¤å¶å°gh-md-toc.exeçæ ¹ç®å½ä¸\n>  2. å¨è¯¥ç®å½ä¸æå¼ç³»ç»å½ä»¤è¡ï¼è¾å¥å½ä»¤ï¼gh-md-toc.exe readme.md çæç®å½\n>  3. æçæçç®å½å¤å¶å°.mdæä»¶å³å¯ã\n\nè¿æ¯gh-md-tocçæçç®å½ï¼\n\n * ä¸ãmarkdown\n   * ç®ä»\n   * åºç¨\n   * ç¼è¾å¨\n * äºãå¾½ç« \n   * ä»ä¹æ¯å¾½ç« \n   * å¾½ç« çä½¿ç¨\n * ä¸ãè®¾ç½®ç®å½\n * åãæ é¢\n * ä¸çº§æ é¢\n   * äºçº§æ é¢\n     * ä¸çº§æ é¢\n       * åçº§æ é¢\n         * äºçº§æ é¢\n           * å­çº§æ é¢\n   * äºãææ¬\n     * æ®µè½\n     * å­ä½\n     * å é¤çº¿\n     * ä¸åçº¿\n     * æå­é«äº®\n     * åéçº¿\n     * èæ³¨\n   * å­ãåè¡¨\n     * æ åºåè¡¨\n     * æåºåè¡¨\n     * æå åè¡¨\n     * å¸¦å¤éæ¡åè¡¨\n     * åè¡¨åµå¥\n   * ä¸ãåºåå¼ç¨\n     * åºååµå¥\n     * åºåä¸­ä½¿ç¨åè¡¨\n     * åè¡¨ä¸­ä½¿ç¨åºå\n   * å«ãä»£ç \n     * ä»£ç åºå\n   * ä¹ãé¾æ¥\n     * åéé¾æ¥\n     * githubä¸­ä½¿ç¨åé¨é¾æ¥\n     * éç¹é¾æ¥\n   * åãå¾ç\n     * å¾çå®½é«\n     * ç¸å¯¹è·¯å¾ä»¥ågithubä¸­ä½¿ç¨å¾ç\n   * åä¸ãè¡¨æ ¼\n   * åäºãemojiè¡¨æå\n   * åä¸ãå¶ä»æå·§\n     * æ¯æç html åç´ \n     * è½¬ä¹\n     * æ°å­¦å¬å¼\n     * å¾è¡¨\n     * æµç¨å¾\n     * æ¶åºå¾\n     * çç¹å¾\n\n\n# åãæ é¢\n\n# ä¸çº§æ é¢\n## äºçº§æ é¢\n### ä¸çº§æ é¢\n#### åçº§æ é¢\n##### äºçº§æ é¢\n###### å­çº§æ é¢\n\n\n\n# ä¸çº§æ é¢\n\n\n# äºçº§æ é¢\n\n\n# ä¸çº§æ é¢\n\n# åçº§æ é¢\n\n# äºçº§æ é¢\n\n# å­çº§æ é¢\n\n\n# äºãææ¬\n\n\n# æ®µè½\n\nmarkdown æ®µè½æ²¡æç¹æ®çæ ¼å¼ï¼ç´æ¥ç¼åæå­ï¼éè¦æ®µè½ç¼©è¿æ¶ä½¿ç¨2ä¸ªtab\n\n\n# å­ä½\n\n*æä½ææ¬*\næ _æä½ææ¬_\n**ç²ä½ææ¬**\næ  __ç²ä½ææ¬__\n***ç²æä½ææ¬***\næ ___ç²æä½ææ¬___\n\n\næä½ææ¬\n\næä½ææ¬\n\nç²ä½ææ¬\n\nç²ä½ææ¬\n\nç²æä½ææ¬\n\nç²æä½ææ¬\n\n\n# å é¤çº¿\n\nå¦ææ®µè½ä¸çæå­è¦æ·»å å é¤çº¿ï¼åªéè¦å¨æå­çä¸¤ç«¯å ä¸ä¸¤ä¸ªæ³¢æµªçº¿ ~~ å³å¯ï¼å®ä¾å¦ä¸ï¼\n\n~~baidu.com~~\n\n\nbaidu.com\n\n\n# ä¸åçº¿\n\nä¸åçº¿å¯ä»¥éè¿ html ç<u> æ ç­¾æ¥å®ç°ï¼\n\n<u>å¸¦ä¸åçº¿çææ¬</u>\n\n\nå¸¦ä¸åçº¿çææ¬\n\n\n# æå­é«äº®\n\næå­é«äº®è½ä½¿è¡åé¨åæå­é«äº®ï¼ä½¿ç¨ä¸å¯¹åå¼å·ã\n\n`html` `css` `javascript`\n\n\nhtml css javascript\n\n\n# åéçº¿\n\nä½ å¯ä»¥å¨ä¸è¡ä¸­ç¨ä¸ä¸ªä»¥ä¸çæå·ãåå·ãåºçº¿æ¥å»ºç«ä¸ä¸ªåéçº¿ï¼è¡åä¸è½æå¶ä»ä¸è¥¿ãä½ ä¹å¯ä»¥å¨æå·ææ¯åå·ä¸­é´æå¥ç©ºæ ¼ãä¸é¢æ¯ç§åæ³é½å¯ä»¥å»ºç«åéçº¿ï¼\n\n***\n\n*****\n\n- - -\n\n----------\n\n\n----------------------------------------\n\n\n# èæ³¨\n\nèæ³¨æ¯å¯¹ææ¬çè¡¥åè¯´æã\n\n[^åé]\nå¨ææ¡£ç»å°¾æå¶ä»ä½ç½®çµ¦åéèµå¼ï¼\n[^åé]: æ³¨ææ¡åæ¾ç¤ºçåå®¹\n\né¼ æ ç§»å°è¿é> [^åå½]\n[^åå½]: æ³¨ææ¡åæ¾ç¤ºçåå®¹\n\n\n> æ³¨ï¼å¨é¨åçº¿ä¸é¢è§æªæ¯æ\n\né¼ æ ç§»å°è¿é> ^åå½\n\n\n# å­ãåè¡¨\n\n\n# æ åºåè¡¨\n\nä½¿ç¨æå·*ãå å·+ææ¯åå·-ä½ä¸ºåè¡¨æ è®°ï¼\n\n* ç¬¬ä¸é¡¹\n* ç¬¬äºé¡¹\n\n+ ç¬¬ä¸é¡¹\n+ ç¬¬äºé¡¹\n\n- ç¬¬ä¸é¡¹\n- ç¬¬äºé¡¹\n\n\n * ç¬¬ä¸é¡¹\n * ç¬¬äºé¡¹\n\n\n# æåºåè¡¨\n\nä½¿ç¨æ°å­å¹¶å ä¸. å·æ¥è¡¨ç¤º\n\n1. ç¬¬ä¸é¡¹\n2. ç¬¬äºé¡¹\n\n\n 1. ç¬¬ä¸é¡¹\n 2. ç¬¬äºé¡¹\n\n\n# æå åè¡¨\n\n<details>\n<summary>ç¹ææå¼å³é­æå </summary>\n æå åå®¹\n <ul>\n     <li>1</li>\n     <li>2</li>\n     <li>3</li>\n </ul>\n</details>\n\n\n> æ³¨æï¼<details> æ ç­¾ååmarkdownä»£ç æ æï¼å¯åhtmlä»£ç ï¼å¦ul>liãtableç­\n\nç¹ææå¼å³é­æå  æå åå®¹\n * 1\n * 2\n * 3\n\nåå«tableçæå \n\nåç±»        ä¾è¯\näººç§°ä»£è¯-ä¸»æ ¼   iæï¼youä½ ï¼heä»ï¼sheå¥¹ï¼theyä»ä»¬ï¼ weæä»¬\näººç§°ä»£è¯-å®¾æ ¼   meæï¼ youä½ ï¼ himä»ï¼ herå¥¹ï¼ themä»ä»¬ï¼ usæä»¬\nç©ä¸»ä»£è¯      myæçï¼ hisä»çï¼ yourä½ çï¼yourä½ ä»¬çï¼ï¼ theirä»ä»¬çï¼ herså¥¹ç\næç¤ºä»£è¯      thisè¿ï¼ thaté£ï¼ theseè¿äºï¼ those é£äº\nåèº«ä»£è¯      myselfæèªå·±ï¼ himselfä»èªå·±ï¼ themselvesä»ä»¬èªå·±ï¼\n          yourselfä½ (ä»¬)èªå·±ï¼herselfå¥¹èªå·±\nçé®ä»£è¯      whoè°ï¼ whatä»ä¹ï¼ whichåªä¸ª\nä¸å®ä»£è¯      someä¸äºï¼ manyè®¸å¤ï¼ bothä¸¤ä¸ªãä¸¤ä¸ªé½ï¼ anyè®¸å¤\nå³ç³»ä»£è¯      whichâ¦â¦çç©ï¼ whoâ¦â¦çäººï¼ thatâ¦â¦çäººæç©ï¼ whoè°ï¼ thatå¼å¯¼å®è¯­ä»å¥\nç¸äºä»£è¯      each other äºç¸ï¼ one anotheräºç¸\nè¿æ¥ä»£è¯      who,whom,whose,what,which,whatever,whichever,whoever,whomever\næ¿ä»£è¯       oneï¼åæ°ï¼ï¼onesï¼å¤æ°ï¼\n\n\n# å¸¦å¤éæ¡åè¡¨\n\n* [x] ç¬¬ä¸é¡¹\n* [ ] ç¬¬äºé¡¹\n* [ ] ç¬¬ä¸é¡¹\n\n\n> æ³¨ï¼å¨é¨åçº¿ä¸é¢è§æªæ¯æ\n\n * [x] ç¬¬ä¸é¡¹\n\n * [ ] ç¬¬äºé¡¹\n\n * [ ] ç¬¬ä¸é¡¹\n\n\n# åè¡¨åµå¥\n\n1. ç¬¬ä¸é¡¹ï¼\n    - ç¬¬ä¸é¡¹åµå¥çç¬¬ä¸ä¸ªåç´ \n    - ç¬¬ä¸é¡¹åµå¥çç¬¬äºä¸ªåç´ \n2. ç¬¬äºé¡¹ï¼\n    - ç¬¬äºé¡¹åµå¥çç¬¬ä¸ä¸ªåç´ \n       - ç¬¬ä¸å±åµå¥\n\n\n 1. ç¬¬ä¸é¡¹\n    * åµå¥1\n    * åµå¥2\n 2. ç¬¬äºé¡¹\n    * åµå¥1\n      * åµå¥2\n\n\n# ä¸ãåºåå¼ç¨\n\nåºåå¼ç¨æ¯å¨æ®µè½å¼å¤´ä½¿ç¨ >ç¬¦å· ï¼ç¶ååé¢ç´§è·ä¸ä¸ªç©ºæ ¼ç¬¦å·ï¼\n\n> åºåå¼ç¨\n\n\n> åºåå¼ç¨\n> \n> typoraä¸­åè½¦é®èªå¨å»¶ä¼¸åºå\n\n# åºååµå¥\n\n> ç¬¬ä¸å±\n> > ç¬¬äºå±\n> > > ç¬¬ä¸å±\n\n\n> ç¬¬ä¸å±\n> \n> > ç¬¬äºå±\n> > \n> > > ç¬¬ä¸å±\n\n# åºåä¸­ä½¿ç¨åè¡¨\n\n> åºåä¸­ä½¿ç¨åè¡¨\n> 1. ç¬¬ä¸é¡¹\n> 2. ç¬¬äºé¡¹\n> * 111\n> * 222\n\n\n> åºåä¸­ä½¿ç¨åè¡¨\n> \n>  1. ç¬¬ä¸é¡¹\n>  2. ç¬¬äºé¡¹\n>     * 111\n>     * 222\n\n# åè¡¨ä¸­ä½¿ç¨åºå\n\n* ç¬¬ä¸é¡¹\n    > åºå\n* ç¬¬äºé¡¹\n\n\n * ç¬¬ä¸é¡¹\n   \n   > åºå\n   > \n   > åºå\n\n * ç¬¬äºé¡¹\n\n\n# å«ãä»£ç \n\nå¦ææ¯æ®µè½ä¸çä¸ä¸ªä»£ç çæ®µå¯ä»¥ç¨åå¼å·æå®åèµ·æ¥ï¼`ï¼ï¼ç¤ºä¾ï¼\n\n`alert()`\n\n\nalert()\n\n\n# ä»£ç åºå\n\nç¨ä¸ä¸ªåå¼å· ``` åè£¹ä¸æ®µä»£ç ï¼å¹¶æå®ä¸ç§è¯­è¨ï¼ä¹å¯ä»¥ä¸æå®ï¼ï¼æå®ä»£ç è¯­è¨åä¼æä»£ç çé¢è²é«äº®\n\næ¬ä»£ç åºåä¸ºç¤ºä¾è¯´æï¼\n\n```javascript\nfunction test() {\n\talert('test')\n}\nâ```\n\n\nææï¼\n\nfunction test() {\n\talert('test')\n}\n\n\n\n# ä¹ãé¾æ¥\n\næ ¼å¼ï¼\n\n[é¾æ¥åç§°](é¾æ¥å°å)\n\n[é¾æ¥åç§°](é¾æ¥å°å,å¯éçalt)\n\næ\n\n<é¾æ¥å°å>\n\n\nç¤ºä¾ï¼\n\n[ç¾åº¦](http://www.baidu.com,'ç¾åº¦')\n\n\nç¾åº¦\n\nç´æ¥æ¾ç¤ºé¾æ¥å°åï¼\n\n<http://www.baidu.com>\n\n\nhttp://www.baidu.com\n\n\n# åéé¾æ¥\n\né¾æ¥å¯ä»¥ç¨åéæ¥ä»£æ¿ï¼ææ¡£æ«å°¾æå¶ä»ä½ç½®éå¸¦åéå°åï¼\n\nè¿ä¸ªé¾æ¥ç¨ 1 ä½ä¸ºç½ååé [google][1]\nè¿ä¸ªé¾æ¥ç¨ baidu ä½ä¸ºç½ååé [baidu][baidu]\n\nç¶åå¨ææ¡£çç»å°¾æå¶ä»ä½ç½®ç»åéèµå¼ï¼ç½åï¼\n  [1]: http://www.google.com/\n  [baidu]: http://www.baidu.com/\n\n\nè¿ä¸ªé¾æ¥ç¨ 1 ä½ä¸ºç½ååé google\n\nè¿ä¸ªé¾æ¥ç¨ baidu ä½ä¸ºç½ååé baidu\n\n\n# githubä»åºä¸­ä½¿ç¨åé¨é¾æ¥\n\nå¯ä½¿ç¨ç¸å¯¹è·¯å¾ï¼åææ¯æè¯¥è·¯å¾ä¸çæä»¶ï¼\n[test](test.md)\n\n\ntest\n\n\n# éç¹é¾æ¥\n\næ¬æä»¶ä¸­æ¯ä¸ä¸ªæ é¢é½æ¯ä¸ä¸ªéç¹ï¼åhtmlçéç¹ï¼#ï¼ç±»ä¼¼\n\n[markdown](#markdown)\n\n\n> æ³¨ï¼ githubå¯¹å«ææ ç¹ç¬¦å·çæ é¢è¿è¡éç¹æ¶ä¼å¿½ç¥ææ ç¹ç¬¦å·ï¼ æ¬é¡µä¸­ï¼å¦æè¿æ ·ååæ æ³è·³è½¬ï¼[é¾æ¥](#ä¹ãé¾æ¥) æ­£ç¡®åæ³ï¼[é¾æ¥](#ä¹é¾æ¥)\n\nmarkdown\n\né¾æ¥\n\næµç¨å¾\n\n\n# åãå¾ç\n\nåé¾æ¥çåºå«æ¯åé¢å¤ä¸ä¸ªæå¹å·!\n\n![å¾çå](å¾çé¾æ¥)\n\n\nå½ç¶ï¼ä½ ä¹å¯ä»¥åé¾æ¥é£æ ·å¯¹å¾çå°åä½¿ç¨åé:\n\nè¿éé¾æ¥ç¨ img ä½ä¸ºå¾çå°ååé\nç¶åå¨ææ¡£çç»å°¾æå¶ä»ä½ç½®ç»åéèµå¼ï¼å¾çå°åï¼\n![runoob][img]\n[img]: https://raw.githubusercontent.com/xugaoyi/image_store/master/blog/md_logo.png\n\n\n\n\n\n# å¾çå®½é«\n\nå¦ä¸æ³è®¾ç½®å¾çå®½é«ï¼å¯ä»¥ä½¿ç¨ <img> æ ç­¾ã\n\n<img src=\"https://raw.githubusercontent.com/xugaoyi/image_store/master/blog/md_logo.png\" width=\"50px\" height=\"30px\">\n\n\n\n# ç¸å¯¹è·¯å¾ä»¥ågithubä¸­ä½¿ç¨å¾ç\n\nä¸ç®¡æ¯å¨æ¬å°è¿æ¯å¨githubåä¸ä¸ªä»åºä¸­ï¼å¦æå¾çå­å¨ï¼å¯ä»¥ä½¿ç¨ç¸å¯¹è·¯å¾ã\n\nç¸å¯¹è·¯å¾å¾çï¼\n\n![å¤´åå¾ç](./md-img/test.jpg)\n\n\ngithubä¸å¦æå¼ç¨å¶ä»githubä»åºä¸­çå¾çåè¦æ³¨æå°åæ ¼å¼ï¼ä»åºå°å/raw/åæ¯å/å¾çè·¯å¾ æ https://raw.githubusercontent.com/ç¨æ·å/ä»åºå/åæ¯å/å¾çè·¯å¾\n\n![å¶ä»ä»åºçå¾ç1](https://github.com/xugaoyi/vue-music/raw/master/src/common/image/default.png)\næ\n![å¶ä»ä»åºçå¾ç2](https://raw.githubusercontent.com/xugaoyi/image_store/master/blog/md_logo.png)\n\n\n\n\n\n\n\n\n# åä¸ãè¡¨æ ¼\n\nå¶ä½è¡¨æ ¼ä½¿ç¨ |æ¥åéä¸åçååæ ¼ï¼ä½¿ç¨-æ¥åéè¡¨å¤´åå¶ä»è¡ã\n\n|  è¡¨å¤´   | è¡¨å¤´  |\n|  ----  | ----  |\n| ååæ ¼  | ååæ ¼ |\n| ååæ ¼  | ååæ ¼ |\n\n\nè¡¨å¤´    è¡¨å¤´\nååæ ¼   ååæ ¼\nååæ ¼   ååæ ¼\n\nå¯¹é½æ¹å¼\n\n * -: è®¾ç½®åå®¹åæ é¢æ å±å³å¯¹é½\n * :- è®¾ç½®åå®¹åæ é¢æ å±å·¦å¯¹é½\n * :-: è®¾ç½®åå®¹åæ é¢æ å±ä¸­å¯¹é½\n\n| å·¦å¯¹é½ | å³å¯¹é½ | å±ä¸­å¯¹é½ |\n| :-----| ----: | :----: |\n| ååæ ¼ | ååæ ¼ | ååæ ¼ |\n| ååæ ¼ | ååæ ¼ | ååæ ¼ |\n\n\nå·¦å¯¹é½   å³å¯¹é½   å±ä¸­å¯¹é½\nååæ ¼   ååæ ¼   ååæ ¼\nååæ ¼   ååæ ¼   ååæ ¼\n\n\n# åäºãemojiè¡¨æå\n\nemojiè¡¨æè±æåçååå åå·ï¼typoreä¸åè¾å¥åå·åè¾å¥é¦å­æ¯æè¡¨ææç¤º\n\n:smirk:\n\n\nð ð¸ðð´ ðððð âï¸\n\næ´å¤è¡¨æåç§°è¯·æ¥çï¼è¡¨æåæ¸å\n\n\n# åä¸ãå¶ä»æå·§\n\n\n# æ¯æç html åç´ \n\nä¸å¨ markdown è¯­æ³æ¶µçèå´ä¹åçæ ç­¾ï¼é½å¯ä»¥ç´æ¥å¨ææ¡£éé¢ç¨ html æ°åã\n\nç®åæ¯æç html åç´ æï¼<kbd> <b> <i> <em> <sup> <sub> <br>ç­ç­ ï¼å¦ï¼\n\nä½¿ç¨ <kbd>ctrl</kbd>+<kbd>alt</kbd>+<kbd>del</kbd> éå¯çµè\n\n\nä½¿ç¨ ctrl+alt+del éå¯çµè\n\nææ¯ä½¿ç¨bæ ç­¾çå ç²å­ä½\n\n\n# è½¬ä¹\n\nmarkdown ä½¿ç¨äºå¾å¤ç¹æ®ç¬¦å·æ¥è¡¨ç¤ºç¹å®çæä¹ï¼å¦æéè¦æ¾ç¤ºç¹å®çç¬¦å·åéè¦ä½¿ç¨åææ è½¬ä¹å­ç¬¦ï¼\n\n**æªè½¬ä¹æå·æ¾ç¤ºå ç²**\n\\*\\* è½¬ä¹æ¾ç¤ºæå· \\*\\*\n\n\næªè½¬ä¹æå·æ¾ç¤ºå ç² ** è½¬ä¹æ¾ç¤ºæå· **\n\nmarkdown æ¯æä»¥ä¸è¿äºç¬¦å·åé¢å ä¸åææ æ¥å¸®å©æå¥æ®éçç¬¦å·ï¼\n\n\\   åæçº¿\n`   åå¼å·\n*   æå·\n_   ä¸åçº¿\n{}  è±æ¬å·\n[]  æ¹æ¬å·\n()  å°æ¬å·\n#   äºå­å·\n+   å å·\n-   åå·\n.   è±æå¥ç¹\n!   æå¹å·\n\n\n----------------------------------------\n\n*** ä»¥ä¸é¨åå¨githubæå¶ä»å¨çº¿é¢è§ä¸­ææªæ¯æ ***\n\n----------------------------------------\n\n\n# æ°å­¦å¬å¼\n\nå½ä½ éè¦å¨ç¼è¾å¨ä¸­æå¥æ°å­¦å¬å¼æ¶ï¼å¯ä»¥ä½¿ç¨ä¸¤ä¸ªç¾åç¬¦ $$ åè£¹ tex æ latex æ ¼å¼çæ°å­¦å¬å¼æ¥å®ç°ãæäº¤åï¼é®ç­åæç« é¡µä¼æ ¹æ®éè¦å è½½ mathjax å¯¹æ°å­¦å¬å¼è¿è¡æ¸²æãå¦ï¼\n\n$$\n\\mathbf{v}_1 \\times \\mathbf{v}_2 =  \\begin{vmatrix}\n\\mathbf{i} & \\mathbf{j} & \\mathbf{k} \\\\\n\\frac{\\partial x}{\\partial u} &  \\frac{\\partial y}{\\partial u} & 0 \\\\\n\\frac{\\partial x}{\\partial v} &  \\frac{\\partial y}{\\partial v} & 0 \\\\\n\\end{vmatrix}\n$$tep1}{\\style{visibility:hidden}{(x+1)(x+1)}}\n$$\n\n\n$$ \\mathbf{v}_1 \\times \\mathbf{v}_2 = \\begin{vmatrix} \\mathbf{i} & \\mathbf{j} & \\mathbf{k} \\ \\frac{\\partial x}{\\partial u} & \\frac{\\partial y}{\\partial u} & 0 \\ \\frac{\\partial x}{\\partial v} & \\frac{\\partial y}{\\partial v} & 0 \\ \\end{vmatrix} $$\n\n\n# å¾è¡¨\n\n```chart\n,budget,income,expenses,debt\njune,5000,8000,4000,6000\njuly,3000,1000,4000,3000\naug,5000,7000,6000,3000\nsep,7000,2000,3000,1000\noct,6000,5000,4000,2000\nnov,4000,3000,5000,\n\ntype: pie\ntitle: monthly revenue\nx.title: amount\ny.title: month\ny.suffix: $\nâ```\nâ```mermaid\nsequencediagram\na->>b: æ¯å¦å·²æ¶å°æ¶æ¯ï¼\nb--\x3e>a: å·²æ¶å°æ¶æ¯\nâ```\n\n\n> æ³¨ï¼å¨typoraä¸­æªæ¯æ\n\n\n# æµç¨å¾\n\nè¯­æ³ï¼\nâ```mermaid\ngraph td\na[æ¨¡åa] --\x3e|a1| b(æ¨¡åb)\nb --\x3e c{å¤æ­æ¡ä»¶c}\nc --\x3e|æ¡ä»¶c1| d[æ¨¡åd]\nc --\x3e|æ¡ä»¶c2| e[æ¨¡åe]\nc --\x3e|æ¡ä»¶c3| f[æ¨¡åf]\nâ```\n\n\næµç¨å¾ç¸å³æç« ï¼\n\nhttps://www.jianshu.com/p/b421cc723da5\n\nhttp://www.imooc.com/article/292708\n\n\n# æ¶åºå¾\n\n```mermaid\nsequencediagram\na->>b: æ¯å¦å·²æ¶å°æ¶æ¯ï¼\nb--\x3e>a: å·²æ¶å°æ¶æ¯\nâ```\n\n\n\n# çç¹å¾\n\n```mermaid\ngantt\ntitle çç¹å¾\ndateformat  yyyy-mm-dd\nsection é¡¹ç®a\nä»»å¡1           :a1, 2018-06-06, 30d\nä»»å¡2     :after a1  , 20d\nsection é¡¹ç®b\nä»»å¡3      :2018-06-12  , 12d\nä»»å¡4      : 24d\nâ```\n\n\nåå°é¡¶é¨",charsets:{cjk:!0}},{title:"Git",frontmatter:{title:"Git",permalink:"/git/001/",categories:["å¼åå·¥å·","Git"],tags:["Git"],date:"2018-07-12T00:00:00.000Z"},regularPath:"/02.%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/02.Git/01.Git%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C.html",relativePath:"02.å¼åå·¥å·/02.Git/01.Gitä½¿ç¨æå.md",key:"v-05ff58a7",path:"/git/001/",headers:[{level:2,title:"å®è£",slug:"å®è£",normalizedTitle:"å®è£",charIndex:14},{level:2,title:"åå»ºçæ¬åºï¼ä»åºï¼",slug:"åå»ºçæ¬åº-ä»åº",normalizedTitle:"åå»ºçæ¬åºï¼ä»åºï¼",charIndex:290},{level:2,title:"æ·»å æä»¶å°ä»åº",slug:"æ·»å æä»¶å°ä»åº",normalizedTitle:"æ·»å æä»¶å°ä»åº",charIndex:446},{level:4,title:"æäº¤æè¿°è§è",slug:"æäº¤æè¿°è§è",normalizedTitle:"æäº¤æè¿°è§è",charIndex:743},{level:2,title:"çæ¬ç®¡ç",slug:"çæ¬ç®¡ç",normalizedTitle:"çæ¬ç®¡ç",charIndex:767},{level:4,title:"æäº¤ä¿®æ¹",slug:"æäº¤ä¿®æ¹",normalizedTitle:"æäº¤ä¿®æ¹",charIndex:866},{level:4,title:"æ¥ççæ¬è®°å½",slug:"æ¥ççæ¬è®°å½",normalizedTitle:"æ¥ççæ¬è®°å½",charIndex:1029},{level:4,title:"åéçæ¬",slug:"åéçæ¬",normalizedTitle:"åéçæ¬",charIndex:1122},{level:4,title:"æ¤éä¿®æ¹",slug:"æ¤éä¿®æ¹",normalizedTitle:"æ¤éä¿®æ¹",charIndex:1467},{level:4,title:"å é¤æä»¶",slug:"å é¤æä»¶",normalizedTitle:"å é¤æä»¶",charIndex:1541},{level:2,title:"è¿ç¨ä»åº",slug:"è¿ç¨ä»åº",normalizedTitle:"è¿ç¨ä»åº",charIndex:1616},{level:4,title:"SSHéªè¯",slug:"sshéªè¯",normalizedTitle:"sshéªè¯",charIndex:1624},{level:4,title:"å³èè¿ç¨ä»åº",slug:"å³èè¿ç¨ä»åº",normalizedTitle:"å³èè¿ç¨ä»åº",charIndex:1635},{level:4,title:"æ¥çè¿ç¨ä»åº",slug:"æ¥çè¿ç¨ä»åº",normalizedTitle:"æ¥çè¿ç¨ä»åº",charIndex:2637},{level:4,title:"å é¤è¿ç¨ä»åº",slug:"å é¤è¿ç¨ä»åº",normalizedTitle:"å é¤è¿ç¨ä»åº",charIndex:2672},{level:4,title:"ä»è¿ç¨åºåéé¡¹ç®",slug:"ä»è¿ç¨åºåéé¡¹ç®",normalizedTitle:"ä»è¿ç¨åºåéé¡¹ç®",charIndex:2713},{level:5,title:"åéæå®åæ¯",slug:"åéæå®åæ¯",normalizedTitle:"åéæå®åæ¯",charIndex:2755},{level:2,title:"åæ¯ç®¡ç",slug:"åæ¯ç®¡ç",normalizedTitle:"åæ¯ç®¡ç",charIndex:2803},{level:4,title:"åå»ºåæ¯",slug:"åå»ºåæ¯",normalizedTitle:"åå»ºåæ¯",charIndex:2811},{level:4,title:"æ¥çåæ¯",slug:"æ¥çåæ¯",normalizedTitle:"æ¥çåæ¯",charIndex:2850},{level:4,title:"åæ¢åæ¯",slug:"åæ¢åæ¯",normalizedTitle:"åæ¢åæ¯",charIndex:2903},{level:4,title:"åå¹¶åæ¯",slug:"åå¹¶åæ¯",normalizedTitle:"åå¹¶åæ¯",charIndex:2939},{level:4,title:"å é¤åæ¯",slug:"å é¤åæ¯",normalizedTitle:"å é¤åæ¯",charIndex:3076},{level:4,title:"ä¿®æ¹åæ¯å",slug:"ä¿®æ¹åæ¯å",normalizedTitle:"ä¿®æ¹åæ¯å",charIndex:3113},{level:2,title:"å¸®å©å½ä»¤",slug:"å¸®å©å½ä»¤",normalizedTitle:"å¸®å©å½ä»¤",charIndex:3161},{level:2,title:"åèææ¡£",slug:"åèææ¡£",normalizedTitle:"åèææ¡£",charIndex:6585}],excerpt:'<h1 id="gitä½¿ç¨æå"><a class="header-anchor" href="#gitä½¿ç¨æå">#</a> Gitä½¿ç¨æå</h1>\n<h2 id="å®è£"><a class="header-anchor" href="#å®è£">#</a> å®è£</h2>\n<p>å®ç½ä¸è½½ï¼<a href="https://git-scm.com/downloads" target="_blank" rel="noopener noreferrer">https://git-scm.com/downloads<OutboundLink/></a> ä¸è½½å®æåä½¿ç¨é»è®¤è¿è¡å®è£ã</p>\n<p>å®è£å®æåï¼å¨å¼å§èåéæ¾å° <code>Git</code> -&gt; <code>Git Bash</code>ï¼è¹¦åºä¸ä¸ªç±»ä¼¼å½ä»¤è¡çªå£çä¸è¥¿ï¼å°±è¯´æGitå®è£æåï¼\nè¿éè¦æåä¸æ­¥è®¾ç½®ï¼å¨å½ä»¤è¡è¾å¥ï¼</p>\n\x3c!--beforebegin--\x3e<div class="language-bash extra-class">\x3c!--afterbegin--\x3e<pre v-pre class="language-bash"><code><span class="token function">git</span> config --global user.name <span class="token string">"Your Name"</span>\n<span class="token function">git</span> config --global user.email <span class="token string">"email@example.com"</span>\n</code></pre>\n\x3c!--beforeend--\x3e</div>\x3c!--afterend--\x3e<p>å ä¸ºGitæ¯åå¸å¼çæ¬æ§å¶ç³»ç»ï¼æä»¥ï¼æ¯ä¸ªæºå¨é½å¿é¡»èªæ¥å®¶é¨ï¼ä½ çåå­åEmailå°åã</p>\n',headersStr:"å®è£ åå»ºçæ¬åºï¼ä»åºï¼ æ·»å æä»¶å°ä»åº æäº¤æè¿°è§è çæ¬ç®¡ç æäº¤ä¿®æ¹ æ¥ççæ¬è®°å½ åéçæ¬ æ¤éä¿®æ¹ å é¤æä»¶ è¿ç¨ä»åº SSHéªè¯ å³èè¿ç¨ä»åº æ¥çè¿ç¨ä»åº å é¤è¿ç¨ä»åº ä»è¿ç¨åºåéé¡¹ç® åéæå®åæ¯ åæ¯ç®¡ç åå»ºåæ¯ æ¥çåæ¯ åæ¢åæ¯ åå¹¶åæ¯ å é¤åæ¯ ä¿®æ¹åæ¯å å¸®å©å½ä»¤ åèææ¡£",content:"# Gitä½¿ç¨æå\n\n\n# å®è£\n\nå®ç½ä¸è½½ï¼https://git-scm.com/downloads ä¸è½½å®æåä½¿ç¨é»è®¤è¿è¡å®è£ã\n\nå®è£å®æåï¼å¨å¼å§èåéæ¾å° Git -> Git Bashï¼è¹¦åºä¸ä¸ªç±»ä¼¼å½ä»¤è¡çªå£çä¸è¥¿ï¼å°±è¯´æGitå®è£æåï¼ è¿éè¦æåä¸æ­¥è®¾ç½®ï¼å¨å½ä»¤è¡è¾å¥ï¼\n\ngit config --global user.name \"Your Name\"\ngit config --global user.email \"email@example.com\"\n\n\nå ä¸ºGitæ¯åå¸å¼çæ¬æ§å¶ç³»ç»ï¼æä»¥ï¼æ¯ä¸ªæºå¨é½å¿é¡»èªæ¥å®¶é¨ï¼ä½ çåå­åEmailå°åã\n\n\n# åå»ºçæ¬åºï¼ä»åºï¼\n\n# åå»ºä»åº\nmkdir <ä»åºname> \n\n# è¿å¥ä»åº\ncd <ä»åºname>\n\n# æ­¤å½ä»¤ç¨äºæ¾ç¤ºå½åç®å½\npwd\n\n# æå½åç®å½åå§åæGitä»åº\ngit init\n\n\n> ä¹ä¸ä¸å®å¿é¡»å¨ç©ºç®å½ä¸åå»ºGitä»åºï¼éæ©ä¸ä¸ªå·²ç»æä¸è¥¿çç®å½ç´æ¥git initä¹æ¯å¯ä»¥çã\n\n\n# æ·»å æä»¶å°ä»åº\n\nå¨ä»åºç®å½ä¸æ¾å¥æä»¶ï¼å¦æ°å»ºä¸ä¸ªtest.txtæä»¶ï¼ç¶åä½¿ç¨git add test.txtå½ä»¤åè¯Gitï¼ææä»¶æ·»å å°ç¼å­åºï¼ç¶åä½¿ç¨git commit -m \"æäº¤æè¿°\"åè¯Gitï¼ææä»¶æäº¤å°ä»åºã\n\n# æ·»å æå®æä»¶ææä»¶å¤¹å°ç¼å­åºï¼æä»¶éæ·»å åç¼\ngit add <æä»¶ææä»¶å¤¹name>                   # åä¸ªæä»¶\ngit add <æä»¶ææä»¶å¤¹name> <æä»¶ææä»¶å¤¹name>  # å¤ä¸ªæä»¶\n\n# æ å¨é¨æä»¶åæ¶æ·»å å°ç¼å­åº\ngit add .\n\n# ææä»¶ä»ç¼å­åºæäº¤è³ä»åº\ngit commit -m \"æäº¤æè¿°\"\n\n\n# æäº¤æè¿°è§è\n\nå¨æäº¤ä»£ç æ¶è¾å¥æ¸æ°çè¯´ææå©äºçæ¬ç®¡çï¼å»ºè®®æ­éå¦ä¸å³é®å­ç¼åæäº¤æè¿°\n\n# æ°å»º(add)\n# å é¤(rm)\n# æ´æ°(update)\n# æ¹å¨(change)\n# å®ç°\n# åå¸\n# ä¿®å¤\n...\n\n\n\n# çæ¬ç®¡ç\n\n# æäº¤ä¿®æ¹\n\nå¦ä¿®æ¹test.txtçåå®¹åï¼è¿è¡git statuså½ä»¤ççè¢«ä¿®æ¹çæä»¶ï¼ç¶ååä½¿ç¨git add test.txtã git commit -m \"ä¿®æ¹æè¿°\"æä¿®æ¹åçæä»¶æäº¤å°ä»åºï¼æäº¤åå¯åæ¬¡ä½¿ç¨git statusæ¥çå½åç¶æã\n\n# æ¾ç¤º æ°å¢/å é¤/è¢«æ¹å¨ç­ çæä»¶\ngit status\n\n\n# æ¥ççæ¬è®°å½\n\n# æ¥ççæ¬è®°å½\ngit log   # æ¾ç¤ºçæ¬å·ãæäº¤æ¶é´ç­ä¿¡æ¯\n\n\n> ä¹å¯ä½¿ç¨å¯è§åå·¥å·æ¥çGitçæ¬åå²ï¼ å¨ä»åºç®å½å³é® > Git BUI Here\n\n# åéçæ¬\n\né¦åï¼Gitå¿é¡»ç¥éå½åçæ¬æ¯åªä¸ªçæ¬ï¼å¨Gitä¸­ï¼ç¨HEADè¡¨ç¤ºå½åçæ¬ï¼ä¹å°±æ¯ææ°çæäº¤1094adb...ï¼æ³¨ææçæäº¤IDåä½ çè¯å®ä¸ä¸æ ·ï¼ï¼ä¸ä¸ä¸ªçæ¬å°±æ¯HEAD^ï¼ä¸ä¸ä¸ä¸ªçæ¬å°±æ¯HEAD^^ï¼å½ç¶å¾ä¸100ä¸ªçæ¬å100ä¸ª^æ¯è¾å®¹ææ°ä¸è¿æ¥ï¼æä»¥åæHEAD~100ã\n\n# åéå°ä¸ä¸ä¸ªçæ¬\n$ git reset --hard HEAD^\n\n\næ­¤æ¶æ¥çgit logè®°å½åç°ï¼åæ¥ææ°ççæ¬å·²ç»æ²¡æäºï¼æ³åå°åæ¥ææ°ççæ¬æä¹åï¼è¿å°±éè¦ç¥éææ°ççæ¬ççæ¬å·\n\n# è·³è½¬å°æå®çæ¬\ngit reset --hard <çæ¬å·åå ä½>\n\n\nä½æ¯ä¸ç¥éçæ¬å·æä¹åï¼Gitæä¾äºä¸ä¸ªå½ä»¤git reflogç¨æ¥è®°å½ä½ çæ¯ä¸æ¬¡å½ä»¤\n\ngit reflog\n\n\n# æ¤éä¿®æ¹\n\nhttps://www.liaoxuefeng.com/wiki/896043488029600/897889638509536\n\n# å é¤æä»¶\n\nhttps://www.liaoxuefeng.com/wiki/896043488029600/900002180232448\n\n\n# è¿ç¨ä»åº\n\n# SSHéªè¯\n\nä½¿æ¬æºè½å³èè¿ç¨ä»åºï¼é¦æ¬¡éè¦SSHéªè¯\n\n * ç¬¬1æ­¥ï¼åå»ºSSH Keyãå¨ç¨æ·ä¸»ï¼C:\\Users\\dellï¼ç®å½ä¸ï¼ççææ²¡æ.sshç®å½ï¼ å¦ææï¼åççè¿ä¸ªç®å½ä¸ææ²¡æid_rsaåid_rsa.pubè¿ä¸¤ä¸ªæä»¶ï¼å¦æå·²ç»æäºï¼å¯ç´æ¥è·³å°ä¸ä¸æ­¥ã å¦ææ²¡æï¼æå¼Shellï¼Windowsä¸æå¼Git Bashï¼ï¼åå»ºSSH Keyï¼\n\n# åå»ºSSH Key\nssh-keygen -t rsa -C \"é®ä»¶å°å\"\n\n\n * ç¬¬2æ­¥ï¼ç»éGitHubï¼å³ä¸è§å¤´å > settings > SSH and GPG keys >Add SSH Keyï¼å¨keyçææ¬æ¡éç²è´´id_rsa.pubæä»¶çåå®¹\n\n# å³èè¿ç¨ä»åº\n\nSSHéªè¯å®æåï¼å¨githubåå»ºä»åºï¼åå»ºä»åºæ¶è®°å¾åæ¶ Initialize this repository with a READMEçå¾éï¼ç¶åå¨æ¬å°å½ä»¤ï¼\n\n# å³èè¿ç¨ä»åºï¼ä»åºåä¸è¬ä½¿ç¨origin\ngit remote add <ä»åºå> <è¿ç¨ä»åºå°å>\n\n# ç¤ºä¾\ngit remote add origin git@github.com:xugaoyi/test.git\n\n\nä¸ä¸æ­¥ï¼å°±å¯ä»¥ææ¬å°åºçææåå®¹æ¨éå°è¿ç¨åºä¸\n\n# ææä»¶æ¨éå°è¿ç¨ä»åº\ngit push -u <ä»åºå> <åæ¯å>\n\n# ç¤ºä¾\ngit push -u origin master\n\n\nç±äºè¿ç¨åºæ¯ç©ºçï¼æä»¬ç¬¬ä¸æ¬¡æ¨émasteråæ¯æ¶ï¼å ä¸äº-uåæ°ï¼Gitä¸ä½ä¼ææ¬å°çmasteråæ¯åå®¹æ¨éçè¿ç¨æ°çmasteråæ¯ï¼è¿ä¼ææ¬å°çmasteråæ¯åè¿ç¨çmasteråæ¯å³èèµ·æ¥ï¼å¨ä»¥åçæ¨éæèæåæ¶å°±å¯ä»¥ç®åå½ä»¤ã\n\n> åææ¯ç®å½å·²ç»git initåå§åæä»åºï¼å¹¶ä¸git statusç¶ææ¯æ²¡ææ¹å¨çï¼å¦æææ¹å¨åågit add .æ·»å è³ç¼å­åºï¼git commit -m 'æäº¤æè¿°'æäº¤è³ä»åºï¼ç¶åæ§è¡ä¸é¢å½ä»¤ã\n> \n> å¦åå»ºä»åºæ¶å¾éäº Initialize this repository with a README åéåæåREADME.mdæä»¶å°æ¬å°ä»åºgit pull\n> \n> å¯å³èå¤ä¸ªè¿ç¨ä»åºï¼æ³¨æç»ä¸åçè¿ç¨ä»åºåä¸ä¸æ ·çåç§°ï¼æäº¤æ¯åå«æåç§°æäº¤å°ä¸ä¸æ ·çè¿ç¨ä»åºã\n\n# ç®åçæ¨éå½ä»¤\ngit push\n\n\n# æ¥çè¿ç¨ä»åº\n\n# æ¥çè¿ç¨ä»åº\ngit remote -v\n\n\n# å é¤è¿ç¨ä»åº\n\n# å é¤è¿ç¨ä»åº\ngit remote rm <ä»åºå>\n\n\n# ä»è¿ç¨åºåéé¡¹ç®\n\n# ä»è¿ç¨åºåéé¡¹ç®\ngit clone <ä»åºå°å>\n\n\n# åéæå®åæ¯\n\n# åéæå®åæ¯\ngit clone -b <åæ¯å> <ä»åºå°å>\n\n\n\n# åæ¯ç®¡ç\n\n# åå»ºåæ¯\n\n# åå»ºåæ¯\ngit checkout -b <åæ¯å>\n\n\n# æ¥çåæ¯\n\n# æ¥çåæ¯\ngit branch\n\n\næ¥çåæ¯æ¶ï¼å¨åæ¯åå¸¦ * å·çè¡¨ç¤ºå½åçåæ¯\n\n# åæ¢åæ¯\n\n# åæ¢åæ¯\ngit checkout <åæ¯å>\n\n\n# åå¹¶åæ¯\n\n# åå¹¶æ¬å°çåæ¯\ngit merge <åæ¯å>\n\n# åå¹¶è¿ç¨çåæ¯\ngit merge <è¿ç¨ä»åºå>/<åæ¯å>\n\n\næ³¨æï¼æ¯å°æå®åæ¯åå¹¶å°å½ååæ¯ï¼å¹¶éå½ååæ¯åå¹¶å°æå®åæ¯ã\n\nä¸è¬æåµä¸æ¯æå½ååæ¯åæ¢å°ä¸»åæ¯ï¼ç¶åæå­åæ¯åå¹¶å°ä¸»åæ¯ã\n\n# å é¤åæ¯\n\n# å é¤åæ¯\ngit branch -d <åæ¯å>\n\n\n# ä¿®æ¹åæ¯å\n\n# ä¿®æ¹åæ¯å\ngit branch -m <ååæ¯å> <æ°åæ¯å>\n\n\n\n# å¸®å©å½ä»¤\n\nå¦å¯¹å½ä»¤ä¸æ¸æ¥æ¶ï¼å¯ä½¿ç¨git helpå½ä»¤æ¾ç¤ºåºgitå½ä»¤ä»ç»ã\n\n# å¸®å©å½ä»¤\ngit help\n\n\n$ git help\nusage: git [--version] [--help] [-C <path>] [-c <name>=<value>]\n           [--exec-path[=<path>]] [--html-path] [--man-path] [--info-path]\n           [-p | --paginate | -P | --no-pager] [--no-replace-objects] [--bare]\n           [--git-dir=<path>] [--work-tree=<path>] [--namespace=<name>]\n           <command> [<args>]\n\nThese are common Git commands used in various situations:\n\nstart a working area (see also: git help tutorial)\n   clone      Clone a repository into a new directory\n   init       Create an empty Git repository or reinitialize an existing one\n\nwork on the current change (see also: git help everyday)\n   add        Add file contents to the index\n   mv         Move or rename a file, a directory, or a symlink\n   reset      Reset current HEAD to the specified state\n   rm         Remove files from the working tree and from the index\n\nexamine the history and state (see also: git help revisions)\n   bisect     Use binary search to find the commit that introduced a bug\n   grep       Print lines matching a pattern\n   log        Show commit logs\n   show       Show various types of objects\n   status     Show the working tree status\n\ngrow, mark and tweak your common history\n   branch     List, create, or delete branches\n   checkout   Switch branches or restore working tree files\n   commit     Record changes to the repository\n   diff       Show changes between commits, commit and working tree, etc\n   merge      Join two or more development histories together\n   rebase     Reapply commits on top of another base tip\n   tag        Create, list, delete or verify a tag object signed with GPG\n\ncollaborate (see also: git help workflows)\n   fetch      Download objects and refs from another repository\n   pull       Fetch from and integrate with another repository or a local branch\n   push       Update remote refs along with associated objects\n\n'git help -a' and 'git help -g' list available subcommands and some\nconcept guides. See 'git help <command>' or 'git help <concept>'\nto read about a specific subcommand or concept.\n\n\nç¿»è¯å·¥å·ç¿»è¯ä¸­æ\n\n$ git help\nä½¿ç¨ï¼git [--version] [--help] [-C <path>] [-c <name>=<value>]\n           [--exec-path[=<path>]] [--html-path] [--man-path] [--info-path]\n           [-p | --paginate | -P | --no-pager] [--no-replace-objects] [--bare]\n           [--git-dir=<path>] [--work-tree=<path>] [--namespace=<name>]\n           <command> [<args>]\n\nè¿äºæ¯å¨åç§æåµä¸ä½¿ç¨çéç¨Gitå½ä»¤ï¼\n\nstart a working area (åè§å½ä»¤: git help tutorial)\n   clone      å°å­å¨åºåéå°æ°ç®å½ä¸­\n   init       åå»ºä¸ä¸ªç©ºçGitå­å¨åºæéæ°åå§åä¸ä¸ªç°æçå­å¨åº\n\nwork on the current change (åè§å½ä»¤: git help everyday)\n   add        å°æä»¶åå®¹æ·»å å°ç´¢å¼ä¸­\n   mv         ç§»å¨æéå½åæä»¶ãç®å½æç¬¦å·é¾æ¥\n   reset      å°å½åç£å¤´éç½®ä¸ºæå®ç¶æ\n   rm         ä»å·¥ä½æ åç´¢å¼ä¸­å é¤æä»¶\n\nexamine the history and state (åè§å½ä»¤: git help revisions)\n   bisect     ä½¿ç¨äºåæ¥æ¾æ¥æ¾å¼å¥éè¯¯çæäº¤\n   grep       æå°ä¸æ¨¡å¼å¹éçè¡\n   log        æ¾ç¤ºæäº¤æ¥å¿\n   show       æ¾ç¤ºåç§ç±»åçå¯¹è±¡\n   status     æ¾ç¤ºå·¥ä½æ ç¶æ\n\ngrow, mark and tweak your common history\n   branch     ååºãåå»ºæå é¤åæ¯\n   checkout   åæ¢åæ¯æè¿åå·¥ä½æ æä»¶\n   commit     è®°å½å¯¹å­å¨åºçæ´æ¹\n   diff       æ¾ç¤ºæäº¤ãæäº¤åå·¥ä½æ ç­ä¹é´çæ´æ¹\n   merge      å°ä¸¤ä¸ªæå¤ä¸ªå¼ååå²è¿æ¥å¨ä¸èµ·\n   rebase     å¨å¦ä¸ä¸ªåºæ¬æç¤ºä¹ä¸éæ°åºç¨æäº¤\n   tag        åå»ºãåè¡¨ãå é¤æéªè¯ç¨GPGç­¾åçæ è®°å¯¹è±¡\n\ncollaborate (åè§å½ä»¤: git help workflows)\n   fetch      ä»å¦ä¸ä¸ªå­å¨åºä¸è½½å¯¹è±¡åå¼ç¨\n   pull       ä»å¦ä¸ä¸ªå­å¨åºææ¬å°åæ¯è·åå¹¶ä¸ä¹éæ\n   push       æ´æ°è¿ç¨å¼ç¨åç¸å³å¯¹è±¡\n\n'git help -a' å 'git help -g' ååºå¯ç¨çå­å½ä»¤åä¸äºæ¦å¿µæå¯¼ã\nå½ä»¤'git help <command>' æ 'git help <concept>' æ¥çç¹å®å­å½ä»¤ææ¦å¿µ.\n\n\n\n# åèææ¡£\n\nhttps://www.liaoxuefeng.com/wiki/896043488029600",normalizedContent:"# gitä½¿ç¨æå\n\n\n# å®è£\n\nå®ç½ä¸è½½ï¼https://git-scm.com/downloads ä¸è½½å®æåä½¿ç¨é»è®¤è¿è¡å®è£ã\n\nå®è£å®æåï¼å¨å¼å§èåéæ¾å° git -> git bashï¼è¹¦åºä¸ä¸ªç±»ä¼¼å½ä»¤è¡çªå£çä¸è¥¿ï¼å°±è¯´ægitå®è£æåï¼ è¿éè¦æåä¸æ­¥è®¾ç½®ï¼å¨å½ä»¤è¡è¾å¥ï¼\n\ngit config --global user.name \"your name\"\ngit config --global user.email \"email@example.com\"\n\n\nå ä¸ºgitæ¯åå¸å¼çæ¬æ§å¶ç³»ç»ï¼æä»¥ï¼æ¯ä¸ªæºå¨é½å¿é¡»èªæ¥å®¶é¨ï¼ä½ çåå­åemailå°åã\n\n\n# åå»ºçæ¬åºï¼ä»åºï¼\n\n# åå»ºä»åº\nmkdir <ä»åºname> \n\n# è¿å¥ä»åº\ncd <ä»åºname>\n\n# æ­¤å½ä»¤ç¨äºæ¾ç¤ºå½åç®å½\npwd\n\n# æå½åç®å½åå§åægitä»åº\ngit init\n\n\n> ä¹ä¸ä¸å®å¿é¡»å¨ç©ºç®å½ä¸åå»ºgitä»åºï¼éæ©ä¸ä¸ªå·²ç»æä¸è¥¿çç®å½ç´æ¥git initä¹æ¯å¯ä»¥çã\n\n\n# æ·»å æä»¶å°ä»åº\n\nå¨ä»åºç®å½ä¸æ¾å¥æä»¶ï¼å¦æ°å»ºä¸ä¸ªtest.txtæä»¶ï¼ç¶åä½¿ç¨git add test.txtå½ä»¤åè¯gitï¼ææä»¶æ·»å å°ç¼å­åºï¼ç¶åä½¿ç¨git commit -m \"æäº¤æè¿°\"åè¯gitï¼ææä»¶æäº¤å°ä»åºã\n\n# æ·»å æå®æä»¶ææä»¶å¤¹å°ç¼å­åºï¼æä»¶éæ·»å åç¼\ngit add <æä»¶ææä»¶å¤¹name>                   # åä¸ªæä»¶\ngit add <æä»¶ææä»¶å¤¹name> <æä»¶ææä»¶å¤¹name>  # å¤ä¸ªæä»¶\n\n# æ å¨é¨æä»¶åæ¶æ·»å å°ç¼å­åº\ngit add .\n\n# ææä»¶ä»ç¼å­åºæäº¤è³ä»åº\ngit commit -m \"æäº¤æè¿°\"\n\n\n# æäº¤æè¿°è§è\n\nå¨æäº¤ä»£ç æ¶è¾å¥æ¸æ°çè¯´ææå©äºçæ¬ç®¡çï¼å»ºè®®æ­éå¦ä¸å³é®å­ç¼åæäº¤æè¿°\n\n# æ°å»º(add)\n# å é¤(rm)\n# æ´æ°(update)\n# æ¹å¨(change)\n# å®ç°\n# åå¸\n# ä¿®å¤\n...\n\n\n\n# çæ¬ç®¡ç\n\n# æäº¤ä¿®æ¹\n\nå¦ä¿®æ¹test.txtçåå®¹åï¼è¿è¡git statuså½ä»¤ççè¢«ä¿®æ¹çæä»¶ï¼ç¶ååä½¿ç¨git add test.txtã git commit -m \"ä¿®æ¹æè¿°\"æä¿®æ¹åçæä»¶æäº¤å°ä»åºï¼æäº¤åå¯åæ¬¡ä½¿ç¨git statusæ¥çå½åç¶æã\n\n# æ¾ç¤º æ°å¢/å é¤/è¢«æ¹å¨ç­ çæä»¶\ngit status\n\n\n# æ¥ççæ¬è®°å½\n\n# æ¥ççæ¬è®°å½\ngit log   # æ¾ç¤ºçæ¬å·ãæäº¤æ¶é´ç­ä¿¡æ¯\n\n\n> ä¹å¯ä½¿ç¨å¯è§åå·¥å·æ¥çgitçæ¬åå²ï¼ å¨ä»åºç®å½å³é® > git bui here\n\n# åéçæ¬\n\né¦åï¼gitå¿é¡»ç¥éå½åçæ¬æ¯åªä¸ªçæ¬ï¼å¨gitä¸­ï¼ç¨headè¡¨ç¤ºå½åçæ¬ï¼ä¹å°±æ¯ææ°çæäº¤1094adb...ï¼æ³¨ææçæäº¤idåä½ çè¯å®ä¸ä¸æ ·ï¼ï¼ä¸ä¸ä¸ªçæ¬å°±æ¯head^ï¼ä¸ä¸ä¸ä¸ªçæ¬å°±æ¯head^^ï¼å½ç¶å¾ä¸100ä¸ªçæ¬å100ä¸ª^æ¯è¾å®¹ææ°ä¸è¿æ¥ï¼æä»¥åæhead~100ã\n\n# åéå°ä¸ä¸ä¸ªçæ¬\n$ git reset --hard head^\n\n\næ­¤æ¶æ¥çgit logè®°å½åç°ï¼åæ¥ææ°ççæ¬å·²ç»æ²¡æäºï¼æ³åå°åæ¥ææ°ççæ¬æä¹åï¼è¿å°±éè¦ç¥éææ°ççæ¬ççæ¬å·\n\n# è·³è½¬å°æå®çæ¬\ngit reset --hard <çæ¬å·åå ä½>\n\n\nä½æ¯ä¸ç¥éçæ¬å·æä¹åï¼gitæä¾äºä¸ä¸ªå½ä»¤git reflogç¨æ¥è®°å½ä½ çæ¯ä¸æ¬¡å½ä»¤\n\ngit reflog\n\n\n# æ¤éä¿®æ¹\n\nhttps://www.liaoxuefeng.com/wiki/896043488029600/897889638509536\n\n# å é¤æä»¶\n\nhttps://www.liaoxuefeng.com/wiki/896043488029600/900002180232448\n\n\n# è¿ç¨ä»åº\n\n# sshéªè¯\n\nä½¿æ¬æºè½å³èè¿ç¨ä»åºï¼é¦æ¬¡éè¦sshéªè¯\n\n * ç¬¬1æ­¥ï¼åå»ºssh keyãå¨ç¨æ·ä¸»ï¼c:\\users\\dellï¼ç®å½ä¸ï¼ççææ²¡æ.sshç®å½ï¼ å¦ææï¼åççè¿ä¸ªç®å½ä¸ææ²¡æid_rsaåid_rsa.pubè¿ä¸¤ä¸ªæä»¶ï¼å¦æå·²ç»æäºï¼å¯ç´æ¥è·³å°ä¸ä¸æ­¥ã å¦ææ²¡æï¼æå¼shellï¼windowsä¸æå¼git bashï¼ï¼åå»ºssh keyï¼\n\n# åå»ºssh key\nssh-keygen -t rsa -c \"é®ä»¶å°å\"\n\n\n * ç¬¬2æ­¥ï¼ç»égithubï¼å³ä¸è§å¤´å > settings > ssh and gpg keys >add ssh keyï¼å¨keyçææ¬æ¡éç²è´´id_rsa.pubæä»¶çåå®¹\n\n# å³èè¿ç¨ä»åº\n\nsshéªè¯å®æåï¼å¨githubåå»ºä»åºï¼åå»ºä»åºæ¶è®°å¾åæ¶ initialize this repository with a readmeçå¾éï¼ç¶åå¨æ¬å°å½ä»¤ï¼\n\n# å³èè¿ç¨ä»åºï¼ä»åºåä¸è¬ä½¿ç¨origin\ngit remote add <ä»åºå> <è¿ç¨ä»åºå°å>\n\n# ç¤ºä¾\ngit remote add origin git@github.com:xugaoyi/test.git\n\n\nä¸ä¸æ­¥ï¼å°±å¯ä»¥ææ¬å°åºçææåå®¹æ¨éå°è¿ç¨åºä¸\n\n# ææä»¶æ¨éå°è¿ç¨ä»åº\ngit push -u <ä»åºå> <åæ¯å>\n\n# ç¤ºä¾\ngit push -u origin master\n\n\nç±äºè¿ç¨åºæ¯ç©ºçï¼æä»¬ç¬¬ä¸æ¬¡æ¨émasteråæ¯æ¶ï¼å ä¸äº-uåæ°ï¼gitä¸ä½ä¼ææ¬å°çmasteråæ¯åå®¹æ¨éçè¿ç¨æ°çmasteråæ¯ï¼è¿ä¼ææ¬å°çmasteråæ¯åè¿ç¨çmasteråæ¯å³èèµ·æ¥ï¼å¨ä»¥åçæ¨éæèæåæ¶å°±å¯ä»¥ç®åå½ä»¤ã\n\n> åææ¯ç®å½å·²ç»git initåå§åæä»åºï¼å¹¶ä¸git statusç¶ææ¯æ²¡ææ¹å¨çï¼å¦æææ¹å¨åågit add .æ·»å è³ç¼å­åºï¼git commit -m 'æäº¤æè¿°'æäº¤è³ä»åºï¼ç¶åæ§è¡ä¸é¢å½ä»¤ã\n> \n> å¦åå»ºä»åºæ¶å¾éäº initialize this repository with a readme åéåæåreadme.mdæä»¶å°æ¬å°ä»åºgit pull\n> \n> å¯å³èå¤ä¸ªè¿ç¨ä»åºï¼æ³¨æç»ä¸åçè¿ç¨ä»åºåä¸ä¸æ ·çåç§°ï¼æäº¤æ¯åå«æåç§°æäº¤å°ä¸ä¸æ ·çè¿ç¨ä»åºã\n\n# ç®åçæ¨éå½ä»¤\ngit push\n\n\n# æ¥çè¿ç¨ä»åº\n\n# æ¥çè¿ç¨ä»åº\ngit remote -v\n\n\n# å é¤è¿ç¨ä»åº\n\n# å é¤è¿ç¨ä»åº\ngit remote rm <ä»åºå>\n\n\n# ä»è¿ç¨åºåéé¡¹ç®\n\n# ä»è¿ç¨åºåéé¡¹ç®\ngit clone <ä»åºå°å>\n\n\n# åéæå®åæ¯\n\n# åéæå®åæ¯\ngit clone -b <åæ¯å> <ä»åºå°å>\n\n\n\n# åæ¯ç®¡ç\n\n# åå»ºåæ¯\n\n# åå»ºåæ¯\ngit checkout -b <åæ¯å>\n\n\n# æ¥çåæ¯\n\n# æ¥çåæ¯\ngit branch\n\n\næ¥çåæ¯æ¶ï¼å¨åæ¯åå¸¦ * å·çè¡¨ç¤ºå½åçåæ¯\n\n# åæ¢åæ¯\n\n# åæ¢åæ¯\ngit checkout <åæ¯å>\n\n\n# åå¹¶åæ¯\n\n# åå¹¶æ¬å°çåæ¯\ngit merge <åæ¯å>\n\n# åå¹¶è¿ç¨çåæ¯\ngit merge <è¿ç¨ä»åºå>/<åæ¯å>\n\n\næ³¨æï¼æ¯å°æå®åæ¯åå¹¶å°å½ååæ¯ï¼å¹¶éå½ååæ¯åå¹¶å°æå®åæ¯ã\n\nä¸è¬æåµä¸æ¯æå½ååæ¯åæ¢å°ä¸»åæ¯ï¼ç¶åæå­åæ¯åå¹¶å°ä¸»åæ¯ã\n\n# å é¤åæ¯\n\n# å é¤åæ¯\ngit branch -d <åæ¯å>\n\n\n# ä¿®æ¹åæ¯å\n\n# ä¿®æ¹åæ¯å\ngit branch -m <ååæ¯å> <æ°åæ¯å>\n\n\n\n# å¸®å©å½ä»¤\n\nå¦å¯¹å½ä»¤ä¸æ¸æ¥æ¶ï¼å¯ä½¿ç¨git helpå½ä»¤æ¾ç¤ºåºgitå½ä»¤ä»ç»ã\n\n# å¸®å©å½ä»¤\ngit help\n\n\n$ git help\nusage: git [--version] [--help] [-c <path>] [-c <name>=<value>]\n           [--exec-path[=<path>]] [--html-path] [--man-path] [--info-path]\n           [-p | --paginate | -p | --no-pager] [--no-replace-objects] [--bare]\n           [--git-dir=<path>] [--work-tree=<path>] [--namespace=<name>]\n           <command> [<args>]\n\nthese are common git commands used in various situations:\n\nstart a working area (see also: git help tutorial)\n   clone      clone a repository into a new directory\n   init       create an empty git repository or reinitialize an existing one\n\nwork on the current change (see also: git help everyday)\n   add        add file contents to the index\n   mv         move or rename a file, a directory, or a symlink\n   reset      reset current head to the specified state\n   rm         remove files from the working tree and from the index\n\nexamine the history and state (see also: git help revisions)\n   bisect     use binary search to find the commit that introduced a bug\n   grep       print lines matching a pattern\n   log        show commit logs\n   show       show various types of objects\n   status     show the working tree status\n\ngrow, mark and tweak your common history\n   branch     list, create, or delete branches\n   checkout   switch branches or restore working tree files\n   commit     record changes to the repository\n   diff       show changes between commits, commit and working tree, etc\n   merge      join two or more development histories together\n   rebase     reapply commits on top of another base tip\n   tag        create, list, delete or verify a tag object signed with gpg\n\ncollaborate (see also: git help workflows)\n   fetch      download objects and refs from another repository\n   pull       fetch from and integrate with another repository or a local branch\n   push       update remote refs along with associated objects\n\n'git help -a' and 'git help -g' list available subcommands and some\nconcept guides. see 'git help <command>' or 'git help <concept>'\nto read about a specific subcommand or concept.\n\n\nç¿»è¯å·¥å·ç¿»è¯ä¸­æ\n\n$ git help\nä½¿ç¨ï¼git [--version] [--help] [-c <path>] [-c <name>=<value>]\n           [--exec-path[=<path>]] [--html-path] [--man-path] [--info-path]\n           [-p | --paginate | -p | --no-pager] [--no-replace-objects] [--bare]\n           [--git-dir=<path>] [--work-tree=<path>] [--namespace=<name>]\n           <command> [<args>]\n\nè¿äºæ¯å¨åç§æåµä¸ä½¿ç¨çéç¨gitå½ä»¤ï¼\n\nstart a working area (åè§å½ä»¤: git help tutorial)\n   clone      å°å­å¨åºåéå°æ°ç®å½ä¸­\n   init       åå»ºä¸ä¸ªç©ºçgitå­å¨åºæéæ°åå§åä¸ä¸ªç°æçå­å¨åº\n\nwork on the current change (åè§å½ä»¤: git help everyday)\n   add        å°æä»¶åå®¹æ·»å å°ç´¢å¼ä¸­\n   mv         ç§»å¨æéå½åæä»¶ãç®å½æç¬¦å·é¾æ¥\n   reset      å°å½åç£å¤´éç½®ä¸ºæå®ç¶æ\n   rm         ä»å·¥ä½æ åç´¢å¼ä¸­å é¤æä»¶\n\nexamine the history and state (åè§å½ä»¤: git help revisions)\n   bisect     ä½¿ç¨äºåæ¥æ¾æ¥æ¾å¼å¥éè¯¯çæäº¤\n   grep       æå°ä¸æ¨¡å¼å¹éçè¡\n   log        æ¾ç¤ºæäº¤æ¥å¿\n   show       æ¾ç¤ºåç§ç±»åçå¯¹è±¡\n   status     æ¾ç¤ºå·¥ä½æ ç¶æ\n\ngrow, mark and tweak your common history\n   branch     ååºãåå»ºæå é¤åæ¯\n   checkout   åæ¢åæ¯æè¿åå·¥ä½æ æä»¶\n   commit     è®°å½å¯¹å­å¨åºçæ´æ¹\n   diff       æ¾ç¤ºæäº¤ãæäº¤åå·¥ä½æ ç­ä¹é´çæ´æ¹\n   merge      å°ä¸¤ä¸ªæå¤ä¸ªå¼ååå²è¿æ¥å¨ä¸èµ·\n   rebase     å¨å¦ä¸ä¸ªåºæ¬æç¤ºä¹ä¸éæ°åºç¨æäº¤\n   tag        åå»ºãåè¡¨ãå é¤æéªè¯ç¨gpgç­¾åçæ è®°å¯¹è±¡\n\ncollaborate (åè§å½ä»¤: git help workflows)\n   fetch      ä»å¦ä¸ä¸ªå­å¨åºä¸è½½å¯¹è±¡åå¼ç¨\n   pull       ä»å¦ä¸ä¸ªå­å¨åºææ¬å°åæ¯è·åå¹¶ä¸ä¹éæ\n   push       æ´æ°è¿ç¨å¼ç¨åç¸å³å¯¹è±¡\n\n'git help -a' å 'git help -g' ååºå¯ç¨çå­å½ä»¤åä¸äºæ¦å¿µæå¯¼ã\nå½ä»¤'git help <command>' æ 'git help <concept>' æ¥çç¹å®å­å½ä»¤ææ¦å¿µ.\n\n\n\n# åèææ¡£\n\nhttps://www.liaoxuefeng.com/wiki/896043488029600",charsets:{cjk:!0}},{title:"LeetCode",frontmatter:{title:"LeetCode",permalink:"/leetcode/001/",categories:["ç®æ³"],tags:["LeetCode"],date:"2022-07-15T00:00:00.000Z"},regularPath:"/03.%E7%AE%97%E6%B3%95/01.LeetCode.html",relativePath:"03.ç®æ³/01.LeetCode.md",key:"v-65e0a7f2",path:"/leetcode/001/",headers:[{level:2,title:"ä¸¤æ°ä¹å",slug:"ä¸¤æ°ä¹å",normalizedTitle:"ä¸¤æ°ä¹å",charIndex:37},{level:2,title:"æ°ç»éå",slug:"æ°ç»éå",normalizedTitle:"æ°ç»éå",charIndex:47}],headersStr:"ä¸¤æ°ä¹å æ°ç»éå",content:"# Leetcodeåé¢ç¬è®°\n\n * Leetcodeåé¢ç¬è®°\n   * ä¸¤æ°ä¹å\n   * æ°ç»éå\n\n\n# ä¸¤æ°ä¹å\n\né¢ç®æè¿°(Easy)ï¼ç»å®ä¸ä¸ªæ´æ°æ°ç»numsåä¸ä¸ªæ´æ°ç®æ å¼targetï¼è¯·ä½ å¨è¯¥æ°ç»ä¸­æ¾åº åä¸ºç®æ å¼targetçé£ä¸¤ä¸ªæ´æ°ï¼å¹¶è¿åå®ä»¬çæ°ç»ä¸æ ãå¯ä»¥åè®¾æ¯ç§è¾å¥åªä¼å¯¹åºä¸ä¸ªç­æ¡ãä½æ¯ï¼æ°ç»ä¸­åä¸ä¸ªåç´ å¨ç­æ¡éä¸è½éå¤åºç°ãå¯ä»¥æä»»æé¡ºåºè¿åç­æ¡ã\n\nç¤ºä¾ 1ï¼\n\nè¾å¥ï¼nums = [2,7,11,15], target = 9\nè¾åºï¼[0,1]\nè§£éï¼å ä¸º nums[0] + nums[1] == 9 ï¼è¿å [0, 1] ã\n\n\nç¤ºä¾ 2ï¼\n\nè¾å¥ï¼nums = [3,2,4], target = 6\nè¾åºï¼[1,2]\n\n\nç¤ºä¾ 3ï¼\n\nè¾å¥ï¼nums = [3,3], target = 6\nè¾åºï¼[0,1]\n\n\nåæ(Easy)ï¼ä½¿ç¨ä¸¤ä¸ªforå¾ªç¯è¿­ä»£éå\n\nä»£ç ï¼\n\nclass Solution {\npublic:\n    vector<int> twoSum(vector<int>& nums, int target) {\n        vector<int> result;\n        for(int i = 0; i < nums.size(); i++){\n            for(int j = i + 1; j < nums.size(); j++) {\n                if(nums[i] + nums[j] == target) {\n                    result.push_back(i);\n                    result.push_back(j);\n                }\n            }\n        }\n        return result;\n\n    }\n};\n\n\n\n\nclass Solution {\npublic:\n    int lengthOfLongestSubstring(string s) {\n        // åå¸éåï¼è®°å½æ¯ä¸ªå­ç¬¦æ¯å¦åºç°è¿\n        unordered_set<char> occ;\n        int n = s.size();\n        // å³æéï¼åå§å¼ä¸º -1ï¼ç¸å½äºæä»¬å¨å­ç¬¦ä¸²çå·¦è¾¹ççå·¦ä¾§ï¼è¿æ²¡æå¼å§ç§»å¨\n\n        int p = -1;\n        int count  = 0;\n        // æä¸¾å·¦æéçä½ç½®ï¼åå§å¼éæ§å°è¡¨ç¤ºä¸º -1\n        for (int i = 0; i < n; ++i) {\n            if (i != 0) {\n                // å·¦æéåå³ç§»å¨ä¸æ ¼ï¼ç§»é¤ä¸ä¸ªå­ç¬¦\n                occ.erase(s[i - 1]);\n            }\n            while (p + 1 < n && !occ.count(s[p + 1])) {\n                // ä¸æ­å°ç§»å¨å³æé\n                occ.insert(s[p + 1]);\n                p++;\n            }\n            // ç¬¬ i å° rk ä¸ªå­ç¬¦æ¯ä¸ä¸ªæé¿çæ éå¤å­ç¬¦å­ä¸²\n            count = max(count, p - i + 1);\n        }\n        return count;\n    }\n};\n\n\n\nclass Solution {\npublic:\n    double findMedianSortedArrays(vector<int>& nums1, vector<int>& nums2) {\n        int nums1_length = nums1.size();\n        int nums2_length = nums2.size();\n\n        vector <int> num;\n        int nums1index = 0;\n        int nums2index = 0;\n\n\n        while (nums1index < nums1_length && nums2index < nums2_length) {\n            if (nums1[nums1index] <= nums2[nums2index]) {\n                num.push_back(nums1[nums1index]);\n                nums1index++;\n                // num.push_back(nums1[nums1index]);\n            }\n            else {\n                num.push_back(nums2[nums2index]);\n                nums2index++;\n                // num.push_back(nums1[nums2index]);\n            }\n            \n        }\n\n        while (nums1index < nums1_length) {\n            num.push_back(nums1[nums1index]);\n            nums1index++; \n        }\n\n        while (nums2index < nums2_length) {\n            num.push_back(nums2[nums2index]);\n            nums2index++;\n        }\n\n\n\n        if (num.size() % 2 == 0){\n            return (num[num.size() / 2] * 1.0 + num[num.size() / 2 - 1]*1.0) / 2;\n        }\n        else {\n            return num[num.size() / 2] ;\n        }\n\n\n    }\n};\n\n\n\npublic class Solution {\n\n    public String longestPalindrome(String s) {\n        int len = s.length();\n        if (len < 2) {\n            return s;\n        }\n\n        int maxLen = 1;\n        int begin = 0;\n        // dp[i][j] è¡¨ç¤º s[i..j] æ¯å¦æ¯åæä¸²\n        boolean[][] dp = new boolean[len][len];\n        // åå§åï¼ææé¿åº¦ä¸º 1 çå­ä¸²é½æ¯åæä¸²\n        for (int i = 0; i < len; i++) {\n            dp[i][i] = true;\n        }\n\n        char[] charArray = s.toCharArray();\n        // éæ¨å¼å§\n        // åæä¸¾å­ä¸²é¿åº¦\n        for (int L = 2; L <= len; L++) {\n            // æä¸¾å·¦è¾¹çï¼å·¦è¾¹ççä¸éè®¾ç½®å¯ä»¥å®½æ¾ä¸äº\n            for (int i = 0; i < len; i++) {\n                // ç± L å i å¯ä»¥ç¡®å®å³è¾¹çï¼å³ j - i + 1 = L å¾\n                int j = L + i - 1;\n                // å¦æå³è¾¹çè¶çï¼å°±å¯ä»¥éåºå½åå¾ªç¯\n                if (j >= len) {\n                    break;\n                }\n\n                if (charArray[i] != charArray[j]) {\n                    dp[i][j] = false;\n                } else {\n                    // æ­¤æ¶çcharArray[i]åcharArray[j]å·²ç»ç¸ç­äºï¼æä»¥å¿ç¶ä¸ºåæå­ç¬¦ä¸²\n                    if (j - i < 3) {\n                        dp[i][j] = true;\n                    } else {\n                        dp[i][j] = dp[i + 1][j - 1];\n                    }\n                }\n\n                // åªè¦ dp[i][L] == true æç«ï¼å°±è¡¨ç¤ºå­ä¸² s[i..L] æ¯åæï¼æ­¤æ¶è®°å½åæé¿åº¦åèµ·å§ä½ç½®\n                if (dp[i][j] && j - i + 1 > maxLen) {\n                    maxLen = j - i + 1;\n                    begin = i;\n                }\n            }\n        }\n        return s.substring(begin, begin + maxLen);\n    }\n}\n\n\n\nclass Solution {\npublic:\n    bool isMatch(string s, string p) {\n\n\n        // è¿éé¢ç®æ²¡çæ\n                int m = s.size();\n        int n = p.size();\n\n        auto matches = [&](int i, int j) {\n            if (i == 0) {\n                return false;\n            }\n            if (p[j - 1] == '.') {\n                return true;\n            }\n            return s[i - 1] == p[j - 1];\n        };\n\n        vector<vector<int>> f(m + 1, vector<int>(n + 1));\n        f[0][0] = true;\n        for (int i = 0; i <= m; ++i) {\n            for (int j = 1; j <= n; ++j) {\n                if (p[j - 1] == '*') {\n                    f[i][j] |= f[i][j - 2];\n                    if (matches(i, j - 1)) {\n                        f[i][j] |= f[i - 1][j];\n                    }\n                }\n                else {\n                    if (matches(i, j)) {\n                        f[i][j] |= f[i - 1][j - 1];\n                    }\n                }\n            }\n        }\n        return f[m][n];\n\n\n    }\n};\n\n\n\n/**\n * Definition for singly-linked list.\n * struct ListNode {\n *     int val;\n *     ListNode *next;\n *     ListNode() : val(0), next(nullptr) {}\n *     ListNode(int x) :al(x), next(nullptr) {}\n *     ListNode(int x, ListNode *next) : val(x), next(next) {}\n * };\n */\nclass Solution {\npublic:\n    ListNode* addTwoNumbers(ListNode* l1, ListNode* l2) {\n        ListNode *head = nullptr;\n        ListNode *tail = nullptr;\n        int carry = 0;\n\n        while (l1 || l2) {\n            int n1 = l1 ? l1->val : 0;\n            int n2 = l2 ? l2->val : 0;\n\n            int sum = n1 + n2 + carry;\n            if(!head) {\n                head = tail = new ListNode(sum % 10);\n            }\n            else {\n                tail->next = new ListNode(sum % 10);\n                tail = tail->next;\n            }\n            carry = sum / 10;\n\n            if(l1) {\n                l1 = l1->next;\n            }\n            if(l2) {\n                l2 = l2->next;\n            }\n        }\n\n        if(carry > 0) {\n            tail->next = new ListNode(carry);\n        }\n        return head;\n\n    }\n};\n\n\n\n\n# æ°ç»éå\n\né¦åå¯¹æ°ç»è¿è¡æåºï¼æåºååºå®ä¸ä¸ªæ° nums[i]nums[i]ï¼åä½¿ç¨å·¦å³æéæå nums[i]nums[i]åé¢çä¸¤ç«¯ï¼æ°å­åå«ä¸º nums[L]nums[L] å nums[R]nums[R]ï¼è®¡ç®ä¸ä¸ªæ°çå sumsum å¤æ­æ¯å¦æ»¡è¶³ä¸º 00ï¼æ»¡è¶³åæ·»å è¿ç»æé å¦æ nums[i]nums[i]å¤§äº 00ï¼åä¸æ°ä¹åå¿ç¶æ æ³ç­äº 00ï¼ç»æå¾ªç¯ å¦æ nums[i]nums[i] == nums[i-1]nums[iâ1]ï¼åè¯´æè¯¥æ°å­éå¤ï¼ä¼å¯¼è´ç»æéå¤ï¼æä»¥åºè¯¥è·³è¿ å½ sumsum == 00 æ¶ï¼nums[L]nums[L] == nums[L+1]nums[L+1] åä¼å¯¼è´ç»æéå¤ï¼åºè¯¥è·³è¿ï¼L++L++ å½ sumsum == 00 æ¶ï¼nums[R]nums[R] == nums[R-1]nums[Râ1] åä¼å¯¼è´ç»æéå¤ï¼åºè¯¥è·³è¿ï¼R--Rââ æ¶é´å¤æåº¦ï¼O(n^2)O(n 2 )ï¼nn ä¸ºæ°ç»é¿åº¦\n\nä½èï¼guanpengchn é¾æ¥ï¼https://leetcode-cn.com/problems/3sum/solution/hua-jie-suan-fa-15-san-shu-zhi-he-by-guanpengchn/ æ¥æºï¼åæ£ï¼LeetCodeï¼ èä½æå½ä½èææãåä¸è½¬è½½è¯·èç³»ä½èè·å¾ææï¼éåä¸è½¬è½½è¯·æ³¨æåºå¤ã\n\næ´åç ´è§£ä¸è¡\n\nclass Solution {\npublic:\n    vector<vector<int>> threeSum(vector<int>& nums) {\n        vector<vector<int> > num;\n        int indeX = -1;\n        for(int i = 0; i < nums.size(); i++) {\n            for(int j = i+ 1; j <nums.size(); j++) {\n                for (int k = j + 1; k < nums.size(); k++ ) {\n                    if (nums[i] + nums[j] + nums[k] == 0) {\n                        indeX++;\n                        num.push_back(vector<int>());\n                        num[indeX].push_back(nums[i]);\n                        num[indeX].push_back(nums[j]);\n                        num[indeX].push_back(nums[k]);\n                    }\n                }\n            }\n        }\n        return num;\n        \n    }\n};\n\n\n\nclass Solution {\npublic:\n    vector<vector<int>> threeSum(vector<int>& nums) {\n        int n = nums.size();\n\n        // æåºå»é\n        sort(nums.begin(), nums.end());\n        vector<vector<int>> ans;\n        // æä¸¾ a\n        for (int first = 0; first < n; ++first) {\n            // éè¦åä¸ä¸æ¬¡æä¸¾çæ°ä¸ç¸å\n\n            if(nums[first] > 0) {\n                break;\n            }\n            if (first > 0 && nums[first] == nums[first - 1]) {\n                continue;\n            }\n            // c å¯¹åºçæéåå§æåæ°ç»çæå³ç«¯\n            int third = n - 1;\n            int target = -nums[first];\n            // æä¸¾ b\n            for (int second = first + 1; second < n; ++second) {\n                // éè¦åä¸ä¸æ¬¡æä¸¾çæ°ä¸ç¸å\n                if (second > first + 1 && nums[second] == nums[second - 1]) {\n                    continue;\n                }\n                // éè¦ä¿è¯ b çæéå¨ c çæéçå·¦ä¾§\n                while (second < third && nums[second] + nums[third] > target) {\n                    --third;\n                }\n                // å¦ææééåï¼éç b åç»­çå¢å \n                // å°±ä¸ä¼ææ»¡è¶³ a+b+c=0 å¹¶ä¸ b<c ç c äºï¼å¯ä»¥éåºå¾ªç¯\n                if (second == third) {\n                    break;\n                }\n                if (nums[second] + nums[third] == target) {\n                    ans.push_back({nums[first], nums[second], nums[third]});\n                }\n            }\n        }\n        return ans;\n    }\n};\n\n\n/**\n * Definition for singly-linked list.\n * struct ListNode {\n *     int val;\n *     ListNode *next;\n *     ListNode() : val(0), next(nullptr) {}\n *     ListNode(int x) : val(x), next(nullptr) {}\n *     ListNode(int x, ListNode *next) : val(x), next(next) {}\n * };\n */\nclass Solution {\npublic:\n    ListNode* mergeTwoLists(ListNode* list1, ListNode* list2) {\n\n\n        if (list1 == NULL) {\n            return list2;\n        }\n        if (list2 == NULL) {\n            return list1;\n        }\n\n        ListNode *head = new ListNode;\n        ListNode *tail = head;\n\n        while (list1 && list2) {\n            int n1 = list1->val;\n            int n2 = list2->val;\n\n            // tail->next = new ListNode();\n            if (n1 <= n2) {\n                tail->next = list1;\n                list1 = list1->next;\n            }\n            else {\n                tail->next = list2;\n                list2 = list2->next;\n            }\n            tail = tail->next;\n        }\n\n        tail->next = list1 == NULL? list2 : list1;\n\n\n        return head->next; \n    }\n};\n\n\n\n/**\n * Definition for singly-linked list.\n * struct ListNode {\n *     int val;\n *     ListNode *next;\n *     ListNode() : val(0), next(nullptr) {}\n *     ListNode(int x) : val(x), next(nullptr) {}\n *     ListNode(int x, ListNode *next) : val(x), next(next) {}\n * };\n */\nclass Solution {\npublic:\n    ListNode* removeNthFromEnd(ListNode* head, int n) {\n\n\n        // é¦åè·åé¿åº¦\n        ListNode *tail = head;\n        int count = 0;\n        while (tail) {\n            count = count + 1;\n            tail = tail->next; \n        }\n\n        // å¤´æä¸ä¸ªæé\n        // ä¸»è¦ç®çé¿åæéèµå¼éè¯¯\n        ListNode* dummy = new ListNode(0, head);\n        tail = dummy;\n        for (int i = 1; i < count - n + 1; ++i) {\n            tail = tail->next;\n        }\n        ListNode *Temptail = tail->next;\n        tail->next = Temptail->next;\n        ListNode* ans = dummy->next;\n        delete dummy;\n        return ans;\n    }\n};\n\n\n\nclass Solution {\npublic:\n    bool isValid(string s) {\n        int n = s.size();\n        if (n % 2 == 1 || n == 0) {\n            return false;\n        }\n        stack<char>sta;\n        for(int i = 0; i < n; i++) {\n            char ch = s[i];\n            if (sta.empty()) {\n                sta.push(ch);\n            }\n            else {\n                char tempch = sta.top();\n                if(tempch == '(' && ch == ')' || tempch == '[' && ch == ']' || tempch == '{' && ch == '}') {\n                    sta.pop();\n                }\n                else {\n                    sta.push(ch);\n                }\n            }\n        }\n        if(sta.empty()) {\n            return true;\n        }\n        else {\n            return false;\n        }\n\n    }\n};\n\n\n\nclass Solution {\npublic:\n    vector<string> result;\n    vector<string> letterCombinations(string digits) {\n\n        if(digits.size() == 0) {\n            return result;\n        }\n\n        //ä»é¶å¼å§è¿è¡æ·±åº¦æç´¢\n        dfs(digits, 0);\n        return result;\n\n    }\n\n    void dfs(string digits, int index) {\n\n        // è¿­ä»£ç»æ­¢æ¡ä»¶\n        if(index == digits.length()) {\n            result.push_back(digits);\n            return;\n        }\n\n        // æç»­æ·±åº¦æç´¢\n        switch(digits[index]){\n            case '2': digits[index] = 'a'; dfs(digits,index+1);\n                      digits[index] = 'b'; dfs(digits,index+1);  \n                      digits[index] = 'c'; dfs(digits,index+1);\n                      break;\n            case '3': digits[index] = 'd'; dfs(digits,index+1);\n                      digits[index] = 'e'; dfs(digits,index+1);  \n                      digits[index] = 'f'; dfs(digits,index+1);\n                      break;  \n            case '4': digits[index] = 'g'; dfs(digits,index+1);\n                      digits[index] = 'h'; dfs(digits,index+1);  \n                      digits[index] = 'i'; dfs(digits,index+1);\n                      break;  \n            case '5': digits[index] = 'j'; dfs(digits,index+1);\n                      digits[index] = 'k'; dfs(digits,index+1);  \n                      digits[index] = 'l'; dfs(digits,index+1);\n                      break; \n            case '6': digits[index] = 'm'; dfs(digits,index+1);\n                      digits[index] = 'n'; dfs(digits,index+1);  \n                      digits[index] = 'o'; dfs(digits,index+1);\n                      break;  \n            case '7': digits[index] = 'p'; dfs(digits,index+1);\n                      digits[index] = 'q'; dfs(digits,index+1);  \n                      digits[index] = 'r'; dfs(digits,index+1);\n                      digits[index] = 's'; dfs(digits,index+1);\n                      break;  \n            case '8': digits[index] = 't'; dfs(digits,index+1);\n                      digits[index] = 'u'; dfs(digits,index+1);  \n                      digits[index] = 'v'; dfs(digits,index+1);\n                      break;  \n            case '9': digits[index] = 'w'; dfs(digits,index+1);\n                      digits[index] = 'x'; dfs(digits,index+1);  \n                      digits[index] = 'y'; dfs(digits,index+1);\n                      digits[index] = 'z'; dfs(digits,index+1);\n                      break;\n            \n\n        }\n    }\n};\n\n\n\nclass Solution {\npublic:\n\n    vector<string> result;\n    vector<string> generateParenthesis(int n) {\n        DFS(\"(\", n-1, n);\n        return result;\n    }\n\n    void DFS (string str, int left, int right) {\n        if (left < 0 || right < 0 || right < left) {\n            return;\n        }\n        if (left == 0 && right == 0) {\n            result.push_back(str);\n            return;\n        }\n        DFS(str + '(', left-1, right);\n        DFS(str + ')', left, right-1);\n    }\n\n        \n};\n\n\n\n\n/**\n * Definition for singly-linked list.\n * struct ListNode {\n *     int val;\n *     ListNode *next;\n *     ListNode() : val(0), next(nullptr) {}\n *     ListNode(int x) : val(x), next(nullptr) {}\n *     ListNode(int x, ListNode *next) : val(x), next(next) {}\n * };\n */\nclass Solution {\npublic:\n\n    ListNode* addTwolists(ListNode *a, ListNode *b) {\n        // è¦æ¯Aä¸ºç©ºBä¸ç©ºï¼ç´æ¥è¿åB\n        // è¦æ¯Aä¸ç©ºä½æ¯lists[i]ä¸ºç©ºè¿åa\n        if ((!a) || (!b)) {\n            return a ? a: b;\n        }\n        ListNode head, *tail = &head;\n        ListNode *tempa = a;\n        ListNode *tempb = b;\n        while(tempa && tempb) {\n            if (tempa->val >= tempb->val) {\n                tail->next = tempb;\n                tempb = tempb->next;\n            }\n            else {\n                tail->next = tempa;\n                tempa = tempa->next;\n            }\n            tail = tail->next;\n        }\n        tail->next = (tempa ? tempa : tempb);\n        return head.next;\n    }\n    ListNode* mergeKLists(vector<ListNode*>& lists) {\n\n        ListNode *ans = nullptr;\n        for(size_t i = 0; i < lists.size(); i++) {\n            ans = addTwolists(ans, lists[i]);\n        }\n        return ans;\n    }\n};\n\n\n\nclass Solution {\n    public int search(int[] nums, int target) {\n        for (int i = 0; i < nums.length; i++) {\n            if (nums[i] == target) {\n                return i;\n            }\n        }\n        return -1;\n    }\n}\n\n\näºåæ¥æ¾\n\nclass Solution {\n    public int search(int[] nums, int target) {\n        int n = nums.length;\n        if (n == 0) {\n            return -1;\n        }\n        if (n == 1) {\n            return nums[0] == target ? 0 : -1;\n        }\n        int l = 0, r = n - 1;\n        while (l <= r) {\n            int mid = (l + r) / 2;\n            if (nums[mid] == target) {\n                return mid;\n            }\n            if (nums[0] <= nums[mid]) {\n                if (nums[0] <= target && target < nums[mid]) {\n                    r = mid - 1;\n                } else {\n                    l = mid + 1;\n                }\n            } else {\n                if (nums[mid] < target && target <= nums[n - 1]) {\n                    l = mid + 1;\n                } else {\n                    r = mid - 1;\n                }\n            }\n        }\n        return -1;\n    }\n}\n\n\n\n\nclass Solution {\n\n\n    public int[] searchRange(int[] nums, int target) {\n        // é»è®¤æ¾å°ç¬¦åé¢ææå°ç\n        int leftIdx = binarySearch(nums, target, true);\n        // æ¾å°æ¯ç¬¦åé¢æå¤§çä¸ä¸ä¸ª\n        int rightIdx = binarySearch(nums, target, false) - 1;\n        if (leftIdx <= rightIdx && rightIdx < nums.length && nums[leftIdx] == target && nums[rightIdx] == target) {\n            return new int[]{leftIdx, rightIdx};\n        } \n        return new int[]{-1, -1};\n    }\n\n    public int binarySearch(int[] nums, int target, boolean lower) {\n        int left = 0, right = nums.length - 1, ans = nums.length;\n        while (left <= right) {\n            int mid = (left + right) / 2;\n            if (nums[mid] > target || (lower && nums[mid] >= target)) {\n                right = mid - 1;\n                ans = mid;\n            } else {\n                left = mid + 1;\n            }\n        }\n        return ans;\n    }\n}\n\n\n\nimport JAVA.util.ArrayDeque;\nimport JAVA.util.ArrayList;\nimport JAVA.util.Arrays;\nimport JAVA.util.Deque;\nimport JAVA.util.List;\n\n\nclass Solution {\n    public List<List<Integer>> combinationSum(int[] candidates, int target) {\n\n        int len = candidates.length;\n\n\n        // å£°æç»æ\n        List<List<Integer>> result = new ArrayList<>();\n\n        if(len == 0) {\n            return result;\n        }\n\n        // é¦åæåº\n        Arrays.sort(candidates);\n        Deque<Integer> path = new ArrayDeque<>();\n        DFS(candidates, 0, len, target, path, result);\n        return result;\n    }\n\n    private void DFS (int[] candidates, int begin, int len, int target, Deque<Integer> path, List<List<Integer>> result) {\n\n        // éå½ç»æ­¢æ¡ä»¶å¼åªå¤æ­ç­äº 0 çæåµ\n        if (target == 0) {\n            result.add(new ArrayList<>(path));\n            return;\n        }\n\n        for (int i = begin; i < len; i++) {\n            if(target - candidates[i] < 0) {\n                break;\n            }\n\n            path.addLast(candidates[i]);\n            DFS(candidates, i, len, target - candidates[i], path, result);\n            path.removeLast();\n        }\n\n    }\n}\n\n\nimport JAVA.util.ArrayList;\nimport JAVA.util.List;\n\n\nclass Solution {\n    public List<List<Integer>> permute(int[] nums) {\n\n\n        // é¦åæ¯ç¹å¤\n        int len = nums.length;\n        // ä½¿ç¨ä¸ä¸ªå¨ææ°ç»ä¿å­ææå¯è½çå¨æå\n        List<List<Integer>> result = new ArrayList<>();\n\n        if (len == 0) {\n            return result;\n        }\n\n        boolean[] label = new boolean[len];\n        List<Integer> path = new ArrayList<>();\n\n        DFS(nums, 0, len, label, path, result);\n        return result;\n    }\n    \n    public void DFS (int[] nums, int depth, int len, boolean[] label, List<Integer> path, List<List<Integer>> result) {\n\n        if (depth == len) {\n            result.add(path);\n            return;\n        }\n\n        for (int i = 0; i < len; i++) {\n            if (!label[i]) {\n\n                // ä¿å­å½åè·¯å¾å°æ°çlistä¸­\n                List<Integer> newPath = new ArrayList<>(path);\n                // æ·»å ç¶æ\n                newPath.add(nums[i]);\n\n                // ä¿å­æ°çç¶æ\n                boolean[] newLabel = new boolean[len];\n\n                for (int j = 0; j < len; j++) {\n                    newLabel[j] = label[j];\n                }\n                // System.arraycopy(label, 0, len, newLabel, 0, len);\n                newLabel[i] = true;\n                DFS(nums, depth + 1, len, newLabel, newPath, result);\n            }\n        }\n\n    }\n}\n\n\nclass Solution {\n    public void rotate(int[][] matrix) {\n        int n = matrix.length;\n        int[][] matrix_new = new int[n][n];\n        for (int i = 0; i < n; ++i) {\n            for (int j = 0; j < n; ++j) {\n                matrix_new[j][n - i - 1] = matrix[i][j];\n            }\n        }\n        for (int i = 0; i < n; ++i) {\n            for (int j = 0; j < n; ++j) {\n                matrix[i][j] = matrix_new[i][j];\n            }\n        }\n    }\n}\n\n\nclass Solution {\n    public void rotate(int[][] matrix) {\n        int n = matrix.length;\n\n        int len = n % 2 == 0? n / 2 : n / 2 + 1;\n\n        for(int i = 0; i < len; i++) {\n            // ArrayList<Integer> newList = new ArrayList<Integer>();\n\n            for (int j = i; j < n-i-1; j++) {\n            \n                if (j >= i) {\n                ArrayList<Integer> newList = new ArrayList<Integer>();\n                newList.add(matrix[n-1-j][i]);  // 13\n                newList.add(matrix[i][j]);  // 1\n                newList.add(matrix[j][n-1-i]);  //10\n                newList.add(matrix[n-1-i][n-1-j]);  // 12\n                matrix[i][j] = newList.get(0);  // 13\n                matrix[j][n-1-i] = newList.get(1);  // 1\n                matrix[n-1-i][n-1-j] = newList.get(2);  // 10\n                matrix[n-1-j][i] = newList.get(3);  // 12\n                }\n            }\n        }\n \n    }\n}\n\n\nclass Solution {\n    // ä¸¤ä¸ªå­ç¬¦ä¸²äºä¸ºå­æ¯å¼ä½è¯ï¼å½ä¸ä»å½ä¸¤ä¸ªå­ç¬¦ä¸²åå«çå­æ¯ç¸åãåä¸ç»å­æ¯å¼ä½è¯ä¸­çå­ç¬¦ä¸²å·å¤ç¸åç¹ï¼å¯ä»¥ä½¿ç¨ç¸åç¹ä½ä¸ºä¸ç»å­æ¯å¼ä½è¯çæ å¿ï¼ä½¿ç¨åå¸è¡¨å­å¨æ¯ä¸ç»å­æ¯å¼ä½è¯ï¼åå¸è¡¨çé®ä¸ºä¸ç»å­æ¯å¼ä½è¯çæ å¿ï¼åå¸è¡¨çå¼ä¸ºä¸ç»å­æ¯å¼ä½è¯åè¡¨ã\n\n    // éåæ¯ä¸ªå­ç¬¦ä¸²ï¼å¯¹äºæ¯ä¸ªå­ç¬¦ä¸²ï¼å¾å°è¯¥å­ç¬¦ä¸²æå¨çä¸ç»å­æ¯å¼ä½è¯çæ å¿ï¼å°å½åå­ç¬¦ä¸²å å¥è¯¥ç»å­æ¯å¼ä½è¯çåè¡¨ä¸­ãéåå¨é¨å­ç¬¦ä¸²ä¹åï¼åå¸è¡¨ä¸­çæ¯ä¸ªé®å¼å¯¹å³ä¸ºä¸ç»å­æ¯å¼ä½è¯ã\n\n\n    public List<List<String>> groupAnagrams(String[] strs) {\n        Map<String, List<String>> map = new HashMap<String, List<String>>();\n        // ç±äºäºä¸ºå­æ¯å¼ä½è¯çä¸¤ä¸ªå­ç¬¦ä¸²åå«çå­æ¯ç¸åï¼å æ­¤å¯¹ä¸¤ä¸ªå­ç¬¦ä¸²åå«è¿è¡æåºä¹åå¾å°çå­ç¬¦ä¸²ä¸å®æ¯ç¸åçï¼æå¯ä»¥å°æåºä¹åçå­ç¬¦ä¸²ä½ä¸ºåå¸è¡¨çé®ã\n        for (int i = 0; i < strs.length; i++) {\n            char[] strsArray = strs[i].toCharArray();\n\n            Arrays.sort(strsArray);\n            \n            String key = new String(strsArray);\n            List<String> list = map.getOrDefault(key, new ArrayList<String>());\n            list.add(strs[i]);\n            map.put(key, list);\n        }\n\n        return new ArrayList<List<String>>(map.values());\n\n    }\n}\n\n\nclass Solution {\n    public int maxSubArray(int[] nums) {\n\n        int pre = 0;\n        int maxRes = nums[0];\n\n        for(int i = 0; i < nums.length; i++) {\n            pre = Math.max(pre + nums[i], nums[i]);\n\n            maxRes = Math.max(maxRes, pre);\n\n        }\n\n        return maxRes;\n\n    }\n}\n\n\nclass Solution {\n    public boolean canJump(int[] nums) {\n        int maxRes = 0;\n\n        for(int i = 0;  i < nums.length; i++) {\n\n            if(i <= maxRes) {\n                maxRes = Math.max(maxRes, i + nums[i] );\n                if (maxRes >= nums.length-1) {\n                    return true;\n                }\n            }\n\n        }\n        return false;\n\n    }\n}\n\n\nclass Solution {\n    public int[][] merge(int[][] intervals) {\n        if(intervals.length == 0) {\n            return new int[][]{};\n        }\n\n        //é¦åæåºï¼è¿éåºè¯¥æ¯lamdaè¡¨è¾¾å¼\n        // Arrays.sort(intervals,(a,b)->{return a[0]-b[0];});\n        Arrays.sort(intervals,(a,b)->{return a[0]-b[0];});\n\n        int[][] result = new int[intervals.length][2];\n        int index = 0;\n\n        int start = intervals[0][0];\n        int end = intervals[0][1];\n\n        for(int i = 1; i < intervals.length; i++) {\n\n            // åä¸ä¸ªçèµ·ç¹ä½ç½®å°äºç­äºåä¸ä¸ªçç»æä½ç½®å¯ä»¥åå¹¶\n            if (intervals[i][0] <= end) {\n\n                // åå»å¤æ­åä¸ä¸ªç¹ååä¸ä¸ªç¹ç»æä½ç½®çå¤§å°\n                if (intervals[i][1] >= end) {\n                    end = intervals[i][1];\n                }\n                else {\n                    end = end;\n                }\n                // end  = intervals[i][1];\n            }\n            // ä¸è½åå¹¶\n            else {\n                result[index][0] = start;\n                result[index][1] = end;\n                index++;\n                // æ´æ°ä¸ä¸ä¸ªä½ç½®\n                start = intervals[i][0];\n                end = intervals[i][1];\n            }\n        }\n\n        result[index][0] = start;\n        result[index][1] = end;\n        return Arrays.copyOfRange(result, 0, index+1);\n    }\n}\n\n\nclass Solution {\n    public int uniquePaths(int m, int n) {\n        int[][] path = new int[m][n];\n        for (int i = 0; i < m; ++i) {\n            path[i][0] = 1;\n        }\n        for (int j = 0; j < n; ++j) {\n            path[0][j] = 1;\n        }\n        for (int i = 1; i < m; ++i) {\n            for (int j = 1; j < n; ++j) {\n                path[i][j] = path[i - 1][j] + path[i][j - 1];\n            }\n        }\n        return path[m - 1][n - 1];\n    }\n}\n\n\nclass Solution {\n    public int minPathSum(int[][] grid) {\n\n        int m = grid.length;\n        int n = grid[0].length;\n\n        int[][] dp = new int[m][n];\n\n        // ç¶æåå§å\n        dp[0][0] = grid[0][0];\n\n        \n        for(int i = 1; i < m; i++) {\n            dp[i][0] = dp[i-1][0] + grid[i][0];\n        }\n\n        for(int j = 1; j < n; j++) {\n            dp[0][j] = dp[0][j-1] + grid[0][j];\n        }\n\n\n        for (int i = 1; i < m ; i++) {\n            for (int j = 1; j < n ; j++) {\n                dp[i][j] = grid[i][j] + Math.min(dp[i-1][j], dp[i][j-1]);\n            }\n        }\n\n        // è¿åç»æ\n        return dp[m-1][n-1];\n    }\n}\n\n\næ·±åº¦æç´¢è¶åºæ¶é´éå¶\n\nclass Solution {\n    public int climbStairs(int n) {\n        int count = 0;\n\n        return DFS(n);\n\n    }\n\n    public int DFS(int n) {\n        if (n == 0) {\n            return 1;\n        }\n        if (n < 0) {\n            return 0;\n        }\n        return DFS(n - 1) + DFS(n - 2);\n    }\n}\n\n\næ¬è´¨ä¸ä¸ºææ³¢é£å¥æ°å\n\nclass Solution {\n    public int climbStairs(int n) {\n        int p = 0, q = 0, r = 1;\n        for (int i = 1; i <= n; ++i) {\n            p = q; \n            q = r; \n            r = p + q;\n        }\n        return r;\n\n    }\n}\n\n\n// éç¨æ è¿è¡åæè¿éæbug\n// (()è¿ç§åæä¸åºæ¥\nclass Solution {\n    public int longestValidParentheses(String s) {\n\n        int maxValue = 0;\n        int temp = 0;\n\n        Deque<Integer> stack = new LinkedList<Integer>();\n\n        // é¦åæ¾å¥ç¬¬ä¸ä¸ªåç´ \n        // stack.push(s.chartAt(0));\n\n        for(int i = 0; i < s.length(); i++) {\n\n            // å¦ææ ç©ºå¿é¡»æ¾å¥æ°åç´ \n            if (stack.isEmpty()) {\n                stack.push(i);\n            }\n            /// æ ä¸æ¯ç©ºç\n            else {\n                // æ é¡¶åç´ ä¸º(\n                if (s.charAt(stack.peek()) == '(') {\n\n                    if (s.charAt(i) == ')') {\n                        // åºæ \n                        stack.pop();\n                        temp = temp + 2;\n                    }\n\n                    else {\n                        stack.push(i);\n                    }\n\n                }\n                // æ é¡¶åç´ ä¸º)\n                else {\n                    maxValue = Math.max(maxValue, temp);\n                    temp = 0;\n                }\n            }\n\n        }\n        return maxValue;\n\n    }\n}\n\n\nclass Solution {\n    public int longestValidParentheses(String s) {\n\n        int maxValue = 0;\n        int left = 0;\n        int right = 0;\n\n\n        // ä»åå¾å\n        for (int i = 0; i < s.length(); i++) {\n            if (s.charAt(i) == '(') {\n                left++;\n            } else {\n                right++;\n            }\n            if (left == right) {\n                maxValue = Math.max(maxValue, 2 * right);\n            } else if (right > left) {\n                left = right = 0;\n            }\n        }\n\n        //ä»åå¾å\n        left = 0;\n        right = 0;\n        for (int i = s.length() - 1; i >= 0; i--) {\n            if (s.charAt(i) == '(') {\n                left++;\n            } else {\n                right++;\n            }\n            if (left == right) {\n                maxValue = Math.max(maxValue, 2 * right);\n            } else if (left > right) {\n                left = right = 0;\n            }\n        }\n        return maxValue;\n\n    }\n}\n\n\nclass Solution {\n    public int trap(int[] height) {\n        int area = 0;\n\n        Deque<Integer> stack = new LinkedList<Integer>();\n\n        // å©ç¨æ è¿è¡æ±è§£\n        // æ ä¸­å­å¨çåç´ ä¸ºä¾æ¬¡éåçæ°\n        // ç¶åæ ¹æ®éå¢çæ°è¿è¡æ±è§£\n\n        for(int i= 0; i < height.length; i++) {\n\n            // æ ä¸ä¸ºç©ºä¸åé¢çåç´ å¼å§éå¢æ¶è¿è¡åºæ å¤æ­\n            while(!stack.isEmpty() && height[i] > height[stack.peek()]) {\n\n                // è·åä¸­é´çåç´ \n                int middle = stack.pop();\n\n                if (stack.isEmpty()) {\n                    break;\n                }\n\n                int left = stack.peek();  // è·åå·¦è¾¹çåç´ \n\n                int Width = i - left - 1;  // å®½åº¦\n\n                int Height = height[i] > height[left] ? height[left] : height[i];  // è·åæå°å¼\n\n                area = area + (Height - height[middle]) * Width;\n\n\n            }\n\n            // å­å¨æ¯ä¸ªåç´ \n            stack.push(i);\n        }\n\n        return area;\n\n    }\n}\n\n\nclass Solution {\n    public void sortColors(int[] nums) {\n\n        int len = nums.length;\n\n        if(len <= 1) {\n            return;\n        }\n        // all in [0, zero) = 0\n        // all in [zero, i) = 1\n        // all in [two, len - 1] = 2\n        \n        // å¾ªç¯ç»æ­¢æ¡ä»¶æ¯ i == twoï¼é£ä¹å¾ªç¯å¯ä»¥ç»§ç»­çæ¡ä»¶æ¯ i < two\n        // ä¸ºäºä¿è¯åå§åçæ¶å [0, zero) ä¸ºç©ºï¼è®¾ç½® zero = 0ï¼\n        // æä»¥ä¸é¢éåå° 0 çæ¶åï¼åäº¤æ¢ï¼åå \n        int zero = 0;\n\n        // ä¸ºäºä¿è¯åå§åçæ¶å [two, len - 1] ä¸ºç©ºï¼è®¾ç½® two = len\n        // æä»¥ä¸é¢éåå° 2 çæ¶åï¼ååï¼åäº¤æ¢\n        int two = len;\n        int i = 0;\n        // å½ i == two ä¸é¢çä¸ä¸ªå­åºé´æ­£å¥½è¦çäºå¨é¨æ°ç»\n        // å æ­¤ï¼å¾ªç¯å¯ä»¥ç»§ç»­çæ¡ä»¶æ¯ i < two\n\n\n\n        while (i < two) {\n            if(nums[i] == 0) {\n                myswap(nums, i, zero);\n                zero++;\n                i++;\n            }\n            else if (nums[i] == 1){\n                i++;\n            }\n            else {\n                two--;\n                myswap(nums, i, two);\n            }\n\n        }\n\n\n    }\n\n\n    private void myswap(int[] nums, int left, int right) {\n        int temp = nums[left];\n        nums[left] = nums[right];\n        nums[right] = temp;\n    }\n}\n\n\n\nclass Solution {\n    public List<List<Integer>> subsets(int[] nums) {\n\n        List<Integer> temp = new ArrayList<Integer>();\n        List<List<Integer>> res = new ArrayList<List<Integer>>();\n\n\n        for(int mask = 0; mask < (1 << nums.length); mask++) {\n            temp.clear();\n\n            for(int i = 0; i < nums.length; i++) {\n\n                if ((mask & (1 << i)) != 0) {\n                    temp.add(nums[i]);\n                }\n            }\n\n            res.add(new ArrayList<Integer>(temp));\n\n\n\n\n\n        }\n        return res;\n\n    }\n}\n\n\n\n// è¿æéå½çä¸­åºéå\nclass Solution {\n    public List<Integer> inorderTraversal(TreeNode root) {\n\n        List<Integer> result = new ArrayList<Integer>();\n        Deque<TreeNode> sta = new LinkedList<TreeNode>();\n\n        while(root != null || !sta.isEmpty()) {\n\n            while(root != null) {\n                sta.push(root);\n                root = root.left;\n            }\n            root = sta.pop();\n            result.add(root.val);\n            root = root.right;\n        }\n\n        return result;\n\n    }\n}\n\n\n\n// åæ ·ä¹æéå½çæ¬\n/**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode() {}\n *     TreeNode(int val) { this.val = val; }\n *     TreeNode(int val, TreeNode left, TreeNode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass Solution {\n    public boolean isSymmetric(TreeNode root) {\n\n        // å·¦å³ä¸¤è¾¹åæ¶éå\n        return check(root, root);\n    }\n\n\n// 1ãoffer()åadd()çåºå«\n// add()åoffer()é½æ¯åéåä¸­æ·»å ä¸ä¸ªåç´ ãä½æ¯å¦ææ³å¨ä¸ä¸ªæ»¡çéåä¸­å å¥ä¸ä¸ªæ°åç´ ï¼è°ç¨ add() æ¹æ³å°±ä¼æåºä¸ä¸ª unchecked å¼å¸¸ï¼èè°ç¨ offer() æ¹æ³ä¼è¿å falseãå¯ä»¥æ®æ­¤å¨ç¨åºä¸­è¿è¡ææçå¤æ­ï¼\n\n// 2ãpeek()åelement()çåºå«\n// peek()åelement()é½å°å¨ä¸ç§»é¤çæåµä¸è¿åéå¤´ï¼ä½æ¯peek()æ¹æ³å¨éåä¸ºç©ºæ¶è¿ånullï¼è°ç¨element()æ¹æ³ä¼æåºNoSuchElementExceptionå¼å¸¸ã\n\n// 3ãpoll()åremove()çåºå«\n// poll()åremove()é½å°ç§»é¤å¹¶ä¸è¿åå¯¹å¤´ï¼ä½æ¯å¨poll()å¨éåä¸ºç©ºæ¶è¿ånullï¼èremove()ä¼æåºNoSuchElementExceptionå¼å¸¸ã\n    public boolean check(TreeNode u, TreeNode v){\n        Queue<TreeNode> q = new LinkedList<TreeNode>();\n\n        // æ·»å ä¸ä¸ªåç´ å°éå°¾\n        q.offer(u);\n        q.offer(v);\n\n        while(!q.isEmpty()) {\n            u = q.poll();\n            v = q.poll();\n\n\n            //å¦æä¸¤ä¸ªèç¹é½ä¸ºç©ºå°±ç»§ç»­å¾ªç¯ï¼ä¸¤èæä¸ä¸ªä¸ºç©ºå°±è¿åfalse\n            if(u == null && v == null) {\n                continue;\n\n            }\n\n            //å¦æä¸¤ä¸ªèç¹é½ä¸ºç©ºå°±ç»§ç»­å¾ªç¯ï¼ä¸¤èæä¸ä¸ªä¸ºç©ºå°±è¿åfalse\n            if ((u == null || v == null)) {\n                return false;\n            }\n\n            if (u.val != v.val) {\n                return false;\n            }\n            //å°å·¦èç¹çå·¦å­©å­ï¼ å³èç¹çå³å­©å­æ¾å¥éå\n            q.offer(u.left);\n            q.offer(v.right);\n            \n            \n            q.offer(u.right);\n            q.offer(v.left);\n        }\n        return true;\n\n\n\n\n    }\n}\n\n\n\nclass Solution {\n    public int numTrees(int n) {\n        // ä»¥æ¯ä¸ä¸ªç¹ä¸ºä¸­å¿åå«è®¡ç®ä¸¤è¾¹\n        //\n        int[] count = new int[n+1];\n        count[0] = 1;\n        count[1] = 1;\n\n        for (int i = 2; i <= n; i++) {\n\n            for(int j = 1; j <= i; j++) {\n                count[i] = count[i] + count[j - 1] * count[i - j];\n            }\n        }\n        return count[n];\n\n    }\n}\n\n\n/**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode() {}\n *     TreeNode(int val) { this.val = val; }\n *     TreeNode(int val, TreeNode left, TreeNode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass Solution {\n    public List<List<Integer>> levelOrder(TreeNode root) {\n        List<List<Integer>> result = new ArrayList<List<Integer>>();\n\n        if (root == null) {\n            return result;\n        }\n\n\n        Queue<TreeNode> queue = new LinkedList<TreeNode>();\n        // æ ¹èç¹å¥éå\n        queue.offer(root);\n\n        while (!queue.isEmpty()) {\n\n            List<Integer> level = new ArrayList<Integer>();\n\n            int queuelength = queue.size();\n\n            // æå½åéåä¸­ææç¹å¯¹åºçä¸ä¸å±å¨é¨å­èµ·æ¥\n            for(int i = 0; i < queuelength; i++) {\n                // ååºéååè¿æ¥çåç´ \n                TreeNode node = queue.poll();\n                level.add(node.val);\n\n                if(node.left != null) {\n                    queue.offer(node.left);\n                }\n\n                if(node.right != null) {\n                    queue.add(node.right);\n                }\n            }\n            result.add(level);\n        }\n        return result;\n    }\n}\n\n\n/**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode() {}\n *     TreeNode(int val) { this.val = val; }\n *     TreeNode(int val, TreeNode left, TreeNode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass Solution {\n    public boolean isValidBST(TreeNode root) {\n        return isValidBST(root, Long.MIN_VALUE, Long.MAX_VALUE);\n    }\n    public boolean isValidBST(TreeNode root, long min, long max) {\n        if (root == null) {\n            return true;\n        }\n        if (root.val <= min || root.val >= max) {\n            return false;\n        }\n        return isValidBST(root.left, min, root.val) && isValidBST(root.right, root.val, max);\n    }\n}\n\n\n/**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode() {}\n *     TreeNode(int val) { this.val = val; }\n *     TreeNode(int val, TreeNode left, TreeNode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass Solution {\n    public int maxDepth(TreeNode root) {\n\n        int count = 0;\n\n        if (root == null) {\n            return count;\n        }\n        Queue<TreeNode> queue = new LinkedList<TreeNode>();\n        // æ ¹èç¹å¥éå\n        queue.offer(root);\n\n        while (!queue.isEmpty()) {\n            count = count + 1;\n\n            int queuelength = queue.size();\n            for(int i = 0; i < queuelength; i++) {\n                // ååºéååè¿æ¥çåç´ \n                TreeNode node = queue.poll();\n                if(node.left != null) {\n                    queue.offer(node.left);\n                }\n\n                if(node.right != null) {\n                    queue.add(node.right);\n                }\n            }\n        }\n        return count;\n    }\n}\n\n\n\n\næ·±åº¦éå\n\nclass Solution {\n    public int maxDepth(TreeNode root) {\n        if(root == null) {\n            return 0;\n        } else {\n            int left = maxDepth(root.left);\n            int right = maxDepth(root.right);\n            return Math.max(left, right) + 1;\n        }\n    }\n}\n\n\n/**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode() {}\n *     TreeNode(int val) { this.val = val; }\n *     TreeNode(int val, TreeNode left, TreeNode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass Solution {\n\n//     æä»¬ç¨ä¸ä¸ªæ åä¸ä¸ªæéè¾å©è¿è¡äºåæ çæé ãåå§æ¶æ ä¸­å­æ¾äºæ ¹èç¹ï¼ååºéåçç¬¬ä¸ä¸ªèç¹ï¼ï¼æéæåä¸­åºéåçç¬¬ä¸ä¸ªèç¹ï¼\n\n// æä»¬ä¾æ¬¡æä¸¾ååºéåä¸­é¤äºç¬¬ä¸ä¸ªèç¹ä»¥å¤çæ¯ä¸ªèç¹ãå¦æ index æ°å¥½æåæ é¡¶èç¹ï¼é£ä¹æä»¬ä¸æ­å°å¼¹åºæ é¡¶èç¹å¹¶åå³ç§»å¨ indexï¼å¹¶å°å½åèç¹ä½ä¸ºæåä¸ä¸ªå¼¹åºçèç¹çå³å¿å­ï¼å¦æ index åæ é¡¶èç¹ä¸åï¼æä»¬å°å½åèç¹ä½ä¸ºæ é¡¶èç¹çå·¦å¿å­ï¼\n\n// æ è®ºæ¯åªä¸ç§æåµï¼æä»¬æåé½å°å½åçèç¹å¥æ ã\n    public TreeNode buildTree(int[] preorder, int[] inorder) {\n        // preorder = [3, 9, 8, 5, 4, 10, 20, 15, 7]\n        // inorder = [4, 5, 8, 10, 9, 3, 15, 20, 7]\n//         3\n//        / \\\n//       9  20\n//      /  /  \\\n//     8  15   7\n//    / \\\n//   5  10\n//  /\n// 4\n\n        if (preorder.length == 0 || preorder == null) {\n            return null;\n        }\n\n\n        // æ¾å°ååºéåçæ ¹èç¹\n        TreeNode root = new TreeNode(preorder[0]);\n        // å£°ææ \n        Deque<TreeNode> stack = new LinkedList<TreeNode>();\n        // æ ¹èç¹å¥æ \n        stack.push(root);\n\n        int index = 0;\n\n        for(int i = 1; i < preorder.length; i++) {\n            int preorderVal = preorder[i];\n            // peekä¸æ¹åæ çå¼(ä¸å é¤æ é¡¶çå¼)ï¼popä¼ææ é¡¶çå¼å é¤ã\n            TreeNode node = stack.peek();\n\n            if (node.val != inorder[index]) {\n                node.left = new TreeNode(preorderVal);\n                stack.push(node.left);\n            }\n            else {\n                // æ ä¸­çèç¹çé¡ºåºåå®ä»¬å¨ååºéåä¸­åºç°çé¡ºåºæ¯ä¸è´\n                // èä¸æ¯ä¸ä¸ªèç¹çå³å¿å­é½è¿æ²¡æè¢«éåè¿\n                // é£ä¹è¿äºèç¹çé¡ºåºåå®ä»¬å¨ä¸­åºéåä¸­åºç°çé¡ºåºä¸å®æ¯ç¸åç\n                while (!stack.isEmpty() && stack.peek().val == inorder[index]) {\n                    node = stack.pop();\n                    index++;\n                }\n                node.right = new TreeNode(preorderVal);\n                stack.push(node.right);\n            }\n        }\n        return root;\n\n    }\n}\n\n\n\n/**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode() {}\n *     TreeNode(int val) { this.val = val; }\n *     TreeNode(int val, TreeNode left, TreeNode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass Solution {\n    public void flatten(TreeNode root) {\n\n        List<TreeNode> list = new ArrayList<TreeNode>();\n\n        Deque<TreeNode> stack = new LinkedList<TreeNode>();\n\n        TreeNode node = root;\n\n        while(node != null || !stack.isEmpty()) {\n            while (node != null) {\n                list.add(node);\n                stack.push(node);\n                node = node.left;\n            }\n            node = stack.pop();\n            node = node.right;\n        }\n\n        int size = list.size();\n\n        for(int i = 1; i < size; i++) {\n            TreeNode prev = list.get(i-1);\n            TreeNode next = list.get(i);\n            prev.left = null;\n            prev.right = next;\n            next.left = null;\n            next.right = null;\n        }\n    }\n}\n\n\nclass Solution {\n    public int maxProfit(int[] prices) {\n        int minprice = Integer.MAX_VALUE;\n        int maxprofit = 0;\n        for (int i = 0; i < prices.length; i++) {\n            if (prices[i] < minprice) {\n                minprice = prices[i];\n            } else if (prices[i] - minprice > maxprofit) {\n                maxprofit = prices[i] - minprice;\n            }\n        }\n        return maxprofit;\n    }\n\n}\n\n\n// import JAVA.util.Arrays;\n\nclass Solution {\n    public int longestConsecutive(int[] nums) {\n        if (nums.length <= 0) {\n            return 0;\n        }\n\n        if (nums.length == 1) {\n            return 1;\n        }\n\n        Arrays.sort(nums);\n        int index = 1;\n        int maxLength = 0;\n\n        for(int i = 0; i < nums.length-1; i++) {\n            if (nums[i+1] != nums[i]) {\n                if (nums[i+1] - nums[i] == 1) {\n                    index++;\n                    // maxLength = index > maxLength ? index : maxLength;\n\n                }\n                else {\n                    index=1;\n                    \n                }\n            }\n            maxLength = index > maxLength ? index : maxLength;\n        }\n        return maxLength;\n    }\n}\n\n\nclass Solution {\n    public int singleNumber(int[] nums) {\n\n        if(nums.length == 1) {\n            return nums[0];\n        }\n\n        // é»è®¤åç´ å¨é¨å¤§äº0\n        Map<Integer, Integer> map = new HashMap<>();\n        for (Integer i : nums) {\n            Integer count = map.get(i);\n            count = count == null ? 1 : ++count;\n            map.put(i, count);\n        }\n        for (Integer i : map.keySet()) {\n            Integer count = map.get(i);\n            if (count == 1) {\n                return i;\n            }\n        }\n        return -1; // can't find it.\n\n    }\n}\n\n\n/**\n * Definition for singly-linked list.\n * class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode(int x) {\n *         val = x;\n *         next = null;\n *     }\n * }\n */\npublic class Solution {\n    public boolean hasCycle(ListNode head) {\n        Set<ListNode> seen = new HashSet<ListNode>();\n        while (head != null) {\n            if (!seen.add(head)) {\n                return true;\n            }\n            head = head.next;\n        }\n        return false;\n\n    }\n}\n\n// æä»¬å¯ä»¥æ ¹æ®ä¸è¿°æè·¯æ¥è§£å³æ¬é¢ãå·ä½å°ï¼æä»¬å®ä¹ä¸¤ä¸ªæéï¼\n// ä¸å¿«ä¸æ»¡ãæ¢æéæ¯æ¬¡åªç§»å¨ä¸æ­¥ï¼èå¿«æéæ¯æ¬¡ç§»å¨ä¸¤æ­¥ã\n// åå§æ¶ï¼æ¢æéå¨ä½ç½® headï¼èå¿«æéå¨ä½ç½® head.nextã\n// è¿æ ·ä¸æ¥ï¼å¦æå¨ç§»å¨çè¿ç¨ä¸­ï¼å¿«æéåè¿æ¥è¿½ä¸æ¢æéï¼\n// å°±è¯´æè¯¥é¾è¡¨ä¸ºç¯å½¢é¾è¡¨ãå¦åå¿«æéå°å°è¾¾é¾è¡¨å°¾é¨ï¼\n// è¯¥é¾è¡¨ä¸ä¸ºç¯å½¢é¾è¡¨ã\n\n\npublic class Solution {\n    public boolean hasCycle(ListNode head) {\n        // èµ·å§ï¼fastãslow = head\n        // æ ¸å¿ï¼fast = fast.next.next;slow = slow.next;fast==slow?return true:fast\n        // ç»æ­¢ï¼fast!=null && fast.next!=null\n        if(head == null || head.next == null)return false; \n        ListNode fast = head;\n        ListNode slow = head;\n        while(fast != null && fast.next != null){\n            fast = fast.next.next;\n            slow = slow.next;\n            if(fast == slow){\n                return true;\n            }\n        }\n        return false;\n    }\n}\n\n\n\nclass Solution {\n    public boolean wordBreak(String s, List<String> wordDict) {\n        Set<String> wordDictSet = new HashSet(wordDict);\n        boolean[] dp = new boolean[s.length() + 1];\n        dp[0] = true;\n        for (int i = 1; i <= s.length(); i++) {\n            for (int j = 0; j < i; j++) {\n                if (dp[j] && wordDictSet.contains(s.substring(j, i))) {\n                    dp[i] = true;\n                    break;\n                }\n            }\n        }\n        return dp[s.length()];\n    }\n}\n\n\n// slow * 2 = fast;\n// slow = a + b;\n// fast = a + b + c + b = a + 2*b + c;\n// (a + b)*2 = a + 2*b + c;\n// a = c;\n// å£å¤´è§£éå°±æ¯\n// å¿«éèµ°çæ¯æ¢éçä¸¤åã\n// æ¢éèµ°è¿çè·¯ï¼å¿«éèµ°è¿ä¸éã\n// å¿«éèµ°è¿çå©ä½è·¯ç¨ï¼ä¹å°±æ¯åæ¢éèµ°è¿çå¨é¨è·¯ç¨ç¸ç­ã(a+b = c+b)\n// å¨å»å¿«éè¿½èµ¶æ¢éçåå(b)ï¼å©ä½è·¯ç¨å³ä¸ºææ±å¥ç¯è·ç¦»(a=c)\n/**\n * Definition for singly-linked list.\n * class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode(int x) {\n *         val = x;\n *         next = null;\n *     }\n * }\n */\npublic class Solution {\n    public ListNode detectCycle(ListNode head) {\n\n        if(head == null) {\n            return null;\n        }\n\n        ListNode pre = head;\n        ListNode fast = head;\n\n        while(fast != null) {\n\n            pre = pre.next;\n            if(fast.next != null) {\n                fast = fast.next.next;\n            } else {\n                return null;\n            }\n\n            // äºèéåå¿ç¶æç¯\n            if(pre == fast) {\n                ListNode pr = head;\n                while (pr != pre) {\n                    pr = pr.next;\n                    pre = pre.next;\n                }\n                return pr;\n            }\n\n        }\n        return null;\n        \n    }\n}\n\n\n\nclass Solution {\n    public int majorityElement(int[] nums) {\n        Arrays.sort(nums);\n        return nums[nums.length / 2];\n    }\n}\n\n\nclass Solution {\n    public int maxProduct(int[] nums) {\n\n        int max = Integer.MIN_VALUE;\n        int imax = 1;\n        int imin = 1;\n\n        for(int i = 0; i < nums.length; i++) {\n            if(nums[i] < 0) {\n\n                int temp = imax;\n                imax = imin;\n                imin = temp;\n            }\n            \n            imax = Math.max(imax * nums[i], nums[i]);\n            imin = Math.min(imin * nums[i], nums[i]);\n\n            max = Math.max(max, imax);\n        }\n        return max;\n    }\n}\n\n\nclass Solution {\n    public int numIslands(char[][] grid) {\n\n        int m = grid.length;\n        int n = grid[0].length;\n        int count = 0;\n\n        for (int i = 0; i < m; i++) {\n            for (int j = 0; j < n; j++) {\n                if (grid[i][j] == '1') {\n                    count++;\n                    dfs(grid, i, j);\n                }\n            }\n        }\n        return count;\n\n    }\n\n    void dfs (char[][] grid, int i, int j) {\n        int m = grid.length;\n        int n = grid[0].length;\n\n        if(i < 0 || j < 0 || i >= m || j >= n || grid[i][j] == '0') {\n            return;\n        }\n\n        grid[i][j] = '0';\n        dfs(grid, i-1, j);\n        dfs(grid, i+1, j);\n        dfs(grid, i, j-1);\n        dfs(grid, i, j+1);\n    }\n}\n\n\n\n/**\n * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode() {}\n *     ListNode(int val) { this.val = val; }\n *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\n * }\n */\nclass Solution {\n    public ListNode sortList(ListNode head) {\n        return sortList(head, null);\n\n    }\n\n    public ListNode sortList(ListNode head, ListNode tail) {\n        if (head == null) {\n            return head;\n        }\n        if (head.next == tail) {\n            head.next = null;\n            return head;\n        }\n\n        ListNode slow = head; // ç§»å¨å°ä¸­é´çå°æ¹\n        ListNode fast = head;  // ç§»å¨å°å°¾é¨\n\n        while(fast != tail) {\n            slow = slow.next;\n            fast = fast.next;\n            if (fast != tail) {\n                fast = fast.next;\n            }\n        }\n\n        ListNode mid = slow;\n        ListNode list1 = sortList(head, mid);\n        ListNode list2 = sortList(mid, tail);\n\n        ListNode res = merge(list1, list2);\n        return res;\n    }\n\n    public ListNode merge(ListNode head1, ListNode head2) {\n\n        ListNode dyhead = new ListNode(0);\n        \n        ListNode temp = dyhead;\n        ListNode temp1 = head1;\n        ListNode temp2 = head2;\n\n        while(temp1 != null && temp2 != null) {\n            if(temp1.val < temp2.val) {\n                temp.next = temp1;\n                temp1 = temp1.next;\n            }\n            else {\n                temp.next = temp2;\n                temp2 = temp2.next;\n            }\n            temp = temp.next;\n        }\n        if (temp1 != null) {\n            temp.next = temp1;\n        }\n        if (temp2 != null) {\n            temp.next = temp2;\n        }\n\n        return dyhead.next;\n\n    }\n}\n\n\nclass MinStack {\n    Deque<Integer> stack;\n    Deque<Integer> minstack;\n    public MinStack() {\n        stack = new LinkedList<Integer>();\n        minstack = new LinkedList<Integer>();\n        minstack.push(Integer.MAX_VALUE);\n\n    }\n    \n    public void push(int val) {\n        stack.push(val);\n        minstack.push(Math.min(val, minstack.peek()));\n    }\n    \n    public void pop() {\n        stack.pop();\n        minstack.pop();\n\n    }\n    \n    public int top() {\n        return stack.peek();\n\n    }\n    \n    public int getMin() {\n        return minstack.peek();\n\n    }\n}\n\n/**\n * Your MinStack object will be instantiated and called as such:\n * MinStack obj = new MinStack();\n * obj.push(val);\n * obj.pop();\n * int param_3 = obj.top();\n * int param_4 = obj.getMin();\n */\n\n\n\n\n\n/**\n * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode(int x) {\n *         val = x;\n *         next = null;\n *     }\n * }\n */\n\npublic class Solution {\n    public ListNode getIntersectionNode(ListNode headA, ListNode headB) {\n\n        if(headA == null || headB == null) {\n            return null;\n        }\n\n        ListNode pA = headA;\n        ListNode pB = headB;\n        while(pA != pB) {\n\n            pA = pA == null ? headB : pA.next;\n            pB = pB == null ? headA : pB.next;\n\n        }\n        return pB;       \n    }\n}\n\n\nclass Solution {\n    public int rob(int[] nums) {\n\n        int len = nums.length;\n        if (len == 1) {\n            return nums[0];\n        }\n        else {\n            int[] dp = new int[len];\n            dp[0] = nums[0];\n            dp[1] = Math.max(nums[0], nums[1]);\n\n            for (int i = 2; i < len; i++) {\n                dp[i] = Math.max(dp[i-2] + nums[i], dp[i-1]);\n            }\n            return dp[len - 1];\n        }\n\n    }\n}\n\n\n/**\n * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode() {}\n *     ListNode(int val) { this.val = val; }\n *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\n * }\n */\nclass Solution {\n    public ListNode reverseList(ListNode head) {\n        Deque<ListNode> stack = new LinkedList<ListNode>();\n\n        ListNode pHead = head;\n\n        if (pHead == null) {\n            return pHead;\n        }\n\n        while (pHead != null) {\n            stack.push(pHead);\n            pHead = pHead.next;\n        }\n\n        ListNode res = stack.pop();\n        ListNode finalres = res;\n        while(!stack.isEmpty()) {\n            res.next = stack.pop();\n            res = res.next;\n        }\n        res.next = null;\n        return finalres;\n\n        \n    }\n}\n\n\n\n\n// ç¬¬äºç§æ¯åæé\nclass Solution {\n    public ListNode reverseList(ListNode head) {\n        ListNode prev = null;\n        ListNode curr = head;\n        while (curr != null) {\n            ListNode next = curr.next;\n            curr.next = prev;\n            prev = curr;\n            curr = next;\n        }\n        return prev;\n    }\n}\n\n\n\nclass Solution {\n    public boolean canFinish(int numCourses, int[][] prerequisites) {\n        // å£°æå­å¨å¾ç»æçåé\n        List<List<Integer>> graph = new ArrayList<>();\n        for (int i = 0; i < numCourses; i++) {\n            graph.add(new ArrayList<Integer>());\n        }\n\n        int[] visited = new int[numCourses];\n\n        for(int i = 0; i < prerequisites.length; i++) {\n\n            int nowcourse = prerequisites[i][0];\n            int precourse = prerequisites[i][1];\n\n            // ä¸æ ä¸ºnowcourseçæ°ç»éé¢çåå®¹æ¯nowcourseçææåç½®è¯¾ç¨\n            graph.get(nowcourse).add(precourse);\n        }\n\n        // æ·±åº¦éå\n\n        for(int i = 0; i < numCourses; i++) {\n            if (dfs(graph, visited, i) == true) {\n                return false;\n            }\n        }\n        return true;\n\n    }\n\n    public boolean dfs(List<List<Integer>> graph, int[] visited, int index) {\n        // 1ä»£è¡¨æ¬¡èç¹æ­£å¨è¢«è®¿é®, å¦ææ­£å¨è¢«è®¿é®çèç¹ï¼åæ¬¡è¢«è®¿é®ï¼åå­å¨ç¯ï¼æ æ³å®æè¯¾ç¨\n        if (visited[index] == 1) {\n            return true;\n        }\n        // 2ä»£è¡¨èç¹è¢«è®¿é®è¿ï¼æ éåæ¬¡è®¿é®\n        if (visited[index] == 2) {\n            return false;\n        }\n\n\n        // è®¾ç½®è¯¥è¯¾ç¨ä¸ºæ­£å¨è®¿é®çç¶æ\n        visited[index] = 1;\n\n        for (Integer next : graph.get(index)) {\n\n            if (dfs(graph, visited, next) == true) {\n                return true;\n            }\n        }\n\n        // å½åè¯¾ç¨å·²ç»è¢«è®¿é®\n        visited[index] = 2;\n        return false;\n\n    }\n}\n\n\n/**\n * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode() {}\n *     ListNode(int val) { this.val = val; }\n *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\n * }\n */\n\n\n// æ´ä¸ªæµç¨å¯ä»¥åä¸ºä»¥ä¸äºä¸ªæ­¥éª¤ï¼\n// æ¾å°ååé¨åé¾è¡¨çå°¾èç¹ã\n// åè½¬ååé¨åé¾è¡¨ã\n// å¤æ­æ¯å¦åæã\n// æ¢å¤é¾è¡¨ã\n// è¿åç»æã\n\nclass Solution {\n    public boolean isPalindrome(ListNode head) {\n\n        // æ¾å°ä¸­é´ä½ç½®åç»æä½ç½®\n        ListNode slow = head;\n        ListNode fast = head;\n\n\n        while (fast.next != null && fast.next.next != null) {\n            slow = slow.next;\n            fast = fast.next.next;\n        }\n\n        // åè½¬åé¢çæ°æ®\n        ListNode middle = slow;\n\n        ListNode secondHalfStart = reverseList(middle.next);\n\n        ListNode p1 = head;\n        ListNode p2 = secondHalfStart;\n\n        boolean result = true;\n\n        while (result && p2 != null) {\n            if (p1.val != p2.val) {\n                result = false;\n            }\n            p1 = p1.next;\n            p2 = p2.next;\n        }\n\n        middle.next = reverseList(secondHalfStart);\n        return result;\n\n    }\n\n\n    private ListNode reverseList(ListNode head) {\n        ListNode prev = null;\n        ListNode curr = head;\n        while (curr != null) {\n            ListNode nextTemp = curr.next;\n            curr.next = prev;\n            prev = curr;\n            curr = nextTemp;\n        }\n        return prev;\n    }\n\n}\n\n\n\n/**\n     * éå½æ¹å¼éååè½¬\n     */\n    public TreeNode invertTree(TreeNode root) {\n        if (root == null) {\n            return null;\n        }\n\n        TreeNode temp = root.left;\n        root.left = root.right;\n        root.right = temp;\n\n        invertTree(root.left);\n        invertTree(root.right);\n        return root;\n    }\n\n    /**\n     * å±åºéåæ¹å¼åè½¬\n     */\n    public TreeNode invertTreeByQueue(TreeNode root) {\n        if (root == null) {\n            return null;\n        }\n        Queue<TreeNode> queue = new ArrayDeque<>();\n        queue.offer(root);\n        while (!queue.isEmpty()) {\n            TreeNode node = queue.poll();\n            TreeNode temp = node.left;\n            node.left = node.right;\n            node.right = temp;\n            if (node.left != null) {\n                queue.offer(node.left);\n            }\n            if (node.right != null) {\n                queue.offer(node.right);\n            }\n        }\n        return root;\n    }\n\n\n\nclass Node {\n    boolean is_end;\n    Node[] son = new Node[26];\n    Node() {\n        is_end = false;\n        for (int i = 0; i < 26; i++) {\n            son[i] = null;\n        }\n    }\n}\n\n\nclass Trie {\n\n    Node root;\n\n    public Trie() {\n        root = new Node();\n    }\n    \n    public void insert(String word) {\n        Node p = root;\n        for(int i = 0; i < word.length(); i++) {\n\n            int val = word.charAt(i) - 'a';\n            if(p.son[val] == null) {\n                p.son[val] = new Node();\n            }\n            p = p.son[val];\n        }\n        p.is_end = true;\n\n    }\n    \n    public boolean search(String word) {\n        Node p = root;\n        for(int i = 0; i < word.length(); i++) {\n\n            int val = word.charAt(i) - 'a';\n            if(p.son[val] == null) {\n                return false;\n            }\n            p = p.son[val];\n        }\n        return p.is_end;\n    }\n    \n    public boolean startsWith(String prefix) {\n        Node p = root;\n        for(int i = 0;i < prefix.length();i ++)\n        {\n            int u = prefix.charAt(i) - 'a';\n            if(p.son[u] == null) return false;\n            p = p.son[u]; \n        }\n        return true;\n\n    }\n}\n\n/**\n * Your Trie object will be instantiated and called as such:\n * Trie obj = new Trie();\n * obj.insert(word);\n * boolean param_2 = obj.search(word);\n * boolean param_3 = obj.startsWith(prefix);\n */\n\n\n// https://leetcode-cn.com/problems/kth-largest-element-in-an-array/\n// è¿ä¸ªé¢ç®å¯ä»¥éæ°åä¸ä¸\nclass Solution {\n    public int findKthLargest(int[] nums, int k) {\n        Arrays.sort(nums);\n        return nums[nums.length - k];\n    }\n}\n\n\n/**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode(int x) { val = x; }\n * }\n */\nclass Solution {\n    Map<Integer, TreeNode> parent = new HashMap<Integer, TreeNode>();\n    Set<Integer> visited = new HashSet<Integer>();\n\n    public void DFS(TreeNode root) {\n        if (root.left != null) {\n            parent.put(root.left.val, root);\n            DFS(root.left);\n        }\n        if (root.right != null) {\n            parent.put(root.right.val, root);\n            DFS(root.right);\n        }\n    }\n    public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {\n        DFS(root);\n\n\n        // æ¾å°äºPçææç¶èç¹\n        while (p!=null) {\n            visited.add(p.val);\n            p = parent.get(p.val);\n        }\n\n        // æ ¹æ®pçèç¹å»æ¾qçèç¹\n        while(q!=null) {\n            if (visited.contains(q.val)) {\n                return q;\n            }\n            q = parent.get(q.val);\n        }\n        return null;\n        \n    }\n}\n\n\nclass Solution {\n    public int[] productExceptSelf(int[] nums) {\n\n        // å·¦è¾¹çåä¹èµ·æ¥\n        int[] resultLeft = new int[nums.length];\n        resultLeft[0] = 1;\n        for(int i = 1; i < nums.length; i++) {\n            resultLeft[i] = nums[i-1] * resultLeft[i-1];\n        }\n\n        // å³è¾¹çä¹èµ·æ¥\n        int[] resultRight = new int[nums.length];\n        resultRight[nums.length-1] = 1;\n        for(int i = nums.length-2; i >= 0; i--) {\n            resultRight[i] = nums[i+1] * resultRight[i+1];\n        }\n\n        // å·¦å³ç¸ä¹\n        for(int i = 0; i < nums.length; i++) {\n            nums[i] = resultRight[i] * resultLeft[i];\n        }\n        return nums;\n\n    }\n}\n\n\n\nclass Solution {\n    public boolean searchMatrix(int[][] matrix, int target) {\n\n\n\n        int m = matrix.length;\n        int n = matrix[0].length;\n\n        int i = 0;\n        int j = n - 1;\n\n        while (i < m && j >= 0) {\n\n            if (matrix[i][j] == target) {\n                return true;\n            }\n            else if (matrix[i][j] < target) {\n                i++;\n            }\n            else {\n                j--;\n            }\n        }\n        return false;\n        \n    }\n}\n\n\nclass Solution {\n    public int[] dailyTemperatures(int[] temperatures) {\n\n        int len = temperatures.length;\n        int [] result = new int[len];\n\n        Deque<Integer> temp = new LinkedList<Integer>();\n\n        for (int i = 0; i < len; i++) {\n            int tempvalue = temperatures[i];\n            while (!temp.isEmpty() && tempvalue > temperatures[temp.peek()]) {\n                int pre = temp.pop();\n                result[pre] = i - pre;\n            }\n            temp.push(i);\n        }\n        return result;\n    }\n}\n\n\nclass Solution {\n    public int countSubstrings(String s) {\n\n        int count = 0;\n        int len = s.length();\n\n        // i ç¨æ¥æ§å¶\n        for (int i = 0; i < 2 * len - 1; i++) {\n\n            int left = i / 2;\n            int right = i / 2 + i % 2;\n            while (left >= 0 && right < len && s.charAt(left) == s.charAt(right)) {\n                left--;\n                right++;\n                count++;\n            }\n        }\n        return count;\n\n    }\n}\n\n\nclass Solution {\n    public List<Integer> findDisappearedNumbers(int[] nums) {\n        // æä»¬å¯ä»¥ç¨ä¸ä¸ªåå¸è¡¨è®°å½æ°ç» \\textit{nums}nums ä¸­çæ°å­ï¼ç±äºæ°å­èå´åå¨ [1,n][1,n] ä¸­ï¼è®°å½æ°å­åæä»¬åå©ç¨åå¸è¡¨æ£æ¥ [1,n][1,n] ä¸­çæ¯ä¸ä¸ªæ°æ¯å¦åºç°ï¼ä»èæ¾å°ç¼ºå¤±çæ°å­ã\n        // ç±äºæ°å­èå´åå¨ [1,n][1,n] ä¸­ï¼æä»¬ä¹å¯ä»¥ç¨ä¸ä¸ªé¿åº¦ä¸º nn çæ°ç»æ¥ä»£æ¿åå¸è¡¨ãè¿ä¸åæ³çç©ºé´å¤æåº¦æ¯ O(n)O(n) çãæä»¬çç®æ æ¯ä¼åç©ºé´å¤æåº¦å° O(1)O(1)ã\n        // æ³¨æå° \\textit{nums}nums çé¿åº¦æ°å¥½ä¹ä¸º nnï¼è½å¦è®© \\textit{nums}nums åå½åå¸è¡¨å¢ï¼\n        // ç±äº \\textit{nums}nums çæ°å­èå´åå¨ [1,n][1,n] ä¸­ï¼æä»¬å¯ä»¥å©ç¨è¿ä¸èå´ä¹å¤çæ°å­ï¼æ¥è¡¨è¾¾ãæ¯å¦å­å¨ãçå«ä¹ã\n        // å·ä½æ¥è¯´ï¼éå \\textit{nums}numsï¼æ¯éå°ä¸ä¸ªæ° xxï¼å°±è®© \\textit{nums}[x-1]nums[xâ1] å¢å  nnã\n        // ç±äº \\textit{nums}nums ä¸­æææ°åå¨ [1,n][1,n] ä¸­ï¼å¢å ä»¥åï¼è¿äºæ°å¿ç¶å¤§äº nnãæåæä»¬éå \\textit{nums}numsï¼è¥ \\textit{nums}[i]nums[i] æªå¤§äº nnï¼å°±è¯´ææ²¡æéå°è¿æ° i+1i+1ã\n        // è¿æ ·æä»¬å°±æ¾å°äºç¼ºå¤±çæ°å­ã\n        // æ³¨æï¼å½æä»¬éåå°æä¸ªä½ç½®æ¶ï¼å¶ä¸­çæ°å¯è½å·²ç»è¢«å¢å è¿ï¼å æ­¤éè¦å¯¹ nn åæ¨¡æ¥è¿ååºå®æ¬æ¥çå¼ã\n        int len  = nums.length;\n        for (int i = 0; i < len; i++) {\n            int x = (nums[i] - 1) % len;\n            nums[x] = nums[x] + len;\n        }\n\n        List<Integer> result = new ArrayList<Integer>();\n        for (int i = 0; i < len; i++) {\n            if (nums[i] <= len) {\n                result.add(i+1);\n            }\n        }\n        return result;\n\n\n    }\n}\n\n\n// å¨é»ç¼ç®æ³è½åæ¶ï¼éå¤é è½®å­æ¯ä¸å¯é¿åçï¼ä¹æ¯åºå½çãå æ­¤è¯»èä»¬ä¹éè¦å°è¯ä½¿ç¨åç§æ¹æ³èªå·±å®ç°å ä¸ªå·æä½è®¡æ°åè½çå½æ°ãæ¬æ¹æ³å°ä½¿ç¨ä½è¿ç®ä¸­ç§»ä½çæä½å®ç°ä½è®¡æ°åè½ã\n\n// å·ä½å°ï¼è®° s = x \\oplus ys=xâyï¼æä»¬å¯ä»¥ä¸æ­å°æ£æ¥ ss çæä½ä½ï¼å¦ææä½ä½ä¸º 11ï¼é£ä¹ä»¤è®¡æ°å¨å ä¸ï¼ç¶åæä»¬ä»¤ ss æ´ä½å³ç§»ä¸ä½ï¼è¿æ · ss çæä½ä½å°è¢«èå»ï¼åæ¬çæ¬¡ä½ä½å°±åæäºæ°çæä½ä½ãæä»¬éå¤è¿ä¸ªè¿ç¨ç´å° s=0s=0 ä¸ºæ­¢ãè¿æ ·è®¡æ°å¨ä¸­å°±ç´¯è®¡äº ss çäºè¿å¶è¡¨ç¤ºä¸­ 11 çæ°éã\n\nclass Solution {\n    // å·ä½å°ï¼è®° s = x \\oplus ys=xâyï¼æä»¬å¯ä»¥ä¸æ­å°æ£æ¥ ss çæä½ä½ï¼å¦ææä½ä½ä¸º 11ï¼é£ä¹ä»¤è®¡æ°å¨å ä¸ï¼ç¶åæä»¬ä»¤ ss æ´ä½å³ç§»ä¸ä½ï¼è¿æ · ss çæä½ä½å°è¢«èå»ï¼åæ¬çæ¬¡ä½ä½å°±åæäºæ°çæä½ä½ãæä»¬éå¤è¿ä¸ªè¿ç¨ç´å° s=0s=0 ä¸ºæ­¢ãè¿æ ·è®¡æ°å¨ä¸­å°±ç´¯è®¡äº ss çäºè¿å¶è¡¨ç¤ºä¸­ 11 çæ°éã\n\n    public int hammingDistance(int x, int y) {\n\n        // å¼ææä½\n        int s = x ^ y;\n\n        // ç»è®¡ç»æ\n        int count = 0;\n        while (s != 0) {\n            // ç»è®¡ä¸ªæ°\n            count += s & 1;\n            // åå³ç§»1ä½\n            s >>= 1;\n        }\n        return count;\n\n\n    }\n}\n\n\n``JAVA class Solution { int count = 0; public int findTargetSumWays(int[] nums, int target) { subSum(nums, target, 0, 0); return count; }\n\npublic void subSum(int[] nums, int target, int index, int sub) {\n    if (index == nums.length) {\n        if (target == sub) {\n            count++;\n        }\n    }\n    else {\n        subSum(nums, target, index+1, sub+nums[index]);\n        subSum(nums, target, index+1, sub-nums[index]);\n    }\n\n}\n\n\n}\n\n\n```JAVA\n/**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode() {}\n *     TreeNode(int val) { this.val = val; }\n *     TreeNode(int val, TreeNode left, TreeNode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass Solution {\n    int sum = 0;\n    public TreeNode convertBST(TreeNode root) {\n\n        if (root != null) {\n            convertBST(root.right);\n            sum = sum + root.val;\n            root.val = sum;\n            convertBST(root.left);\n        }\n        return root;\n\n    }\n}\n\n\n/**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode() {}\n *     TreeNode(int val) { this.val = val; }\n *     TreeNode(int val, TreeNode left, TreeNode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass Solution {\n    int result;\n    public int diameterOfBinaryTree(TreeNode root) {\n        result = 1;\n        DFS(root);\n        return result - 1;\n    }\n    public int DFS( TreeNode root) {\n        if (root == null) {\n            return 0;\n        }\n        int leftlength = DFS(root.left); // å·¦èç¹æ·±åº¦\n        int rightlength = DFS(root.right); // å³èç¹æ·±åº¦\n        result = Math.max(result, rightlength + leftlength + 1); // æ´æ°ç»æ\n\n        return Math.max(leftlength ,rightlength) + 1;\n\n    }\n}\n\n\n/**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode() {}\n *     TreeNode(int val) { this.val = val; }\n *     TreeNode(int val, TreeNode left, TreeNode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass Solution {\n    public TreeNode mergeTrees(TreeNode root1, TreeNode root2) {\n\n        if(root1 == null) {\n            return root2;\n        }\n        if(root2 == null) {\n            return root1;\n        }\n\n        TreeNode merged = new TreeNode(root1.val + root2.val);\n        merged.left = mergeTrees(root1.left, root2.left);\n        merged.right = mergeTrees(root1.right, root2.right);\n        return merged;\n\n    }\n}\n\n\nclass Solution {\n    public int subarraySum(int[] nums, int k) {\n\n        int pre = 0;\n        int count = 0;\n        HashMap<Integer, Integer> mp = new HashMap<>();\n        mp.put(0, 1);\n\n        for(int i = 0; i < nums.length; i++) {\n            pre = pre + nums[i];\n            // å¤æ­æ¯å¦å­å¨\n            if (mp.containsKey(pre-k)) {\n                count = count + mp.get(pre-k);\n            }\n            // getOrDefault(Object key, V defaultValue)\n            // Mapéåä¸­æè¿ä¸ªkeyæ¶ï¼å°±ä½¿ç¨è¿ä¸ªkeyå¯¹åºçvalueå¼\n            // å¦ææ²¡æå°±ä½¿ç¨é»è®¤å¼defaultValue\n            mp.put(pre, mp.getOrDefault(pre, 0) + 1);\n        }\n        return count;\n\n    }\n}\n\n\nclass Solution {\n    // è®²è§£\n    public int leastInterval(char[] tasks, int n) {\n\n        // ç»è®¡æ¯ä¸ªå­ç¬¦åºç°çä¸ªæ°\n        int[] arr = new int[26];\n        for(int i = 0; i < tasks.length; i++) {\n            arr[tasks[i] - 'A']++;\n        }\n\n        // æ¾å°åºç°å­æ°æå¤çå­ç¬¦\n        int maxCount = 0;\n        for(int i = 0; i < 26; i++) {\n            maxCount = Math.max(maxCount, arr[i]);\n        }\n\n        // åmaxCount-1è¡\n        int ret = (maxCount - 1) * (n + 1);\n        for (int i = 0; i < 26; i++) {\n\n            // è®¡ç®ç¬¬maxCountè¡\n            if (arr[i] == maxCount) {\n                ret++;\n            }\n        }\n        // ä¸æ¦åæ°è¶è¿n+1å°±ç´æ¥åæ°ç»çé¿åº¦æå¤§å¼\n        return Math.max(ret, tasks.length);\n    }\n} \n\n\nclass Solution {\n    public List<Integer> findAnagrams(String s, String p) {\n        // å¨ç®æ³çå®ç°ä¸­ï¼æä»¬å¯ä»¥ä½¿ç¨æ°ç»æ¥å­å¨å­ç¬¦ä¸² pp åæ»å¨çªå£ä¸­æ¯ç§å­æ¯çæ°éã\n        int slength = s.length();\n        int plength = p.length();\n\n        if (slength < plength) {\n            return new ArrayList<Integer>();\n        }\n\n\n        List<Integer> Slieder = new ArrayList<Integer>();\n    \n        int[] scount = new int[26];\n        int[] pcount = new int[26];\n    \n        // æ¯è¾ç¬¬ä¸ä¸ªçªå£\n        for(int i = 0; i < plength; i++) {\n            scount[s.charAt(i) - 'a']++;\n            pcount[p.charAt(i) - 'a']++;\n        }\n    \n        if (Arrays.equals(scount, pcount)) {\n            Slieder.add(0);\n        }\n    \n        // åé¢å¶ä»çªå£\n        for (int i = 0; i < slength - plength; i++) {\n            scount[s.charAt(i) - 'a']--;\n            scount[s.charAt(i + plength) - 'a']++;\n            if (Arrays.equals(scount, pcount)) {\n                Slieder.add(i + 1);\n            }\n    \n        }\n        return Slieder;\n\n\n    }\n}\n\n\n/**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode() {}\n *     TreeNode(int val) { this.val = val; }\n *     TreeNode(int val, TreeNode left, TreeNode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass Solution {\n    public int pathSum(TreeNode root, int targetSum) {\n        if (root == null) {\n            return 0;\n        }\n        int res = DFS(root, targetSum);\n        res += pathSum(root.left, targetSum); // è¿éä¸æ¯DFS,èæ¯pathSum\n        res += pathSum(root.right, targetSum);\n        return res;\n    }\n\n\n    public int DFS(TreeNode root, int targetSum) {\n        int result = 0;\n        if (root == null) {\n            return 0;\n        }\n\n        if (root.val == targetSum) {\n            result++;\n        } \n        result += DFS(root.left, targetSum - root.val);\n        result += DFS(root.right, targetSum - root.val);\n        return result;\n    }\n}\n\n\nclass Solution {\n    public int[][] reconstructQueue(int[][] people) {\n\n        // å°æ¯ä¸ªäººæç§èº«é«ä»å¤§å°å°è¿è¡æåºï¼å¤çèº«é«ç¸åçäººä½¿ç¨çæ¹æ³ç±»ä¼¼\n        Arrays.sort(people, new Comparator<int[]>() {\n            public int compare(int[] person1, int[] person2) {\n                if (person1[0] != person2[0]) {\n                    return person2[0] - person1[0];\n                } else {\n                    return person1[1] - person2[1];\n                }\n            }\n        });\n\n        List<int[]> result = new ArrayList<int[]>();\n        // å¤ä¹ listæ¹æ³\n        for(int[] person : people) {\n            //\n            result.add(person[1], person);\n        }\n\n        return result.toArray(new int[result.size()][]);\n\n    }\n}\n\n\nå®å¨å¹³æ¹æ°\nclass Solution {\n    public int numSquares(int n) {\n        int[] res = new int[n+1];\n        for (int i = 1; i <= n; i++) {\n            int minn = Integer.MAX_VALUE;\n            for(int j = 1; j * j <= i; j++) {\n                minn = Math.min(minn, res[i- j * j]);\n            }\n            res[i] = minn + 1;\n        }\n        return res[n];\n    }\n    \n}\n\n\nclass Solution {\n    // https://leetcode.cn/problems/coin-change/solution/dong-tai-gui-hua-tao-lu-xiang-jie-by-wei-lai-bu-ke/\n    // èåé®é¢\n    public int coinChange(int[] coins, int amount) {\n        int max = amount + 1;\n        int[] dp = new int[amount + 1];\n        Arrays.fill(dp,max);\n        dp[0] = 0;\n        for (int i = 1; i <= amount; i++) {\n\n            for (int j = 0; j < coins.length; j++) {\n\n                // ç¡¬å¸é¢å¼æ­¤æ¶å¤§äºiå®å¨æ²¡æå¤æ­çå¿è¦\n                if (coins[j] <= i) {\n                    dp[i] = Math.min(dp[i], dp[i - coins[j]] + 1);\n                }\n            }\n        }\n        return dp[amount] > amount? -1 :dp[amount];\n\n    }\n\n\n}\n",normalizedContent:"# leetcodeåé¢ç¬è®°\n\n * leetcodeåé¢ç¬è®°\n   * ä¸¤æ°ä¹å\n   * æ°ç»éå\n\n\n# ä¸¤æ°ä¹å\n\né¢ç®æè¿°(easy)ï¼ç»å®ä¸ä¸ªæ´æ°æ°ç»numsåä¸ä¸ªæ´æ°ç®æ å¼targetï¼è¯·ä½ å¨è¯¥æ°ç»ä¸­æ¾åº åä¸ºç®æ å¼targetçé£ä¸¤ä¸ªæ´æ°ï¼å¹¶è¿åå®ä»¬çæ°ç»ä¸æ ãå¯ä»¥åè®¾æ¯ç§è¾å¥åªä¼å¯¹åºä¸ä¸ªç­æ¡ãä½æ¯ï¼æ°ç»ä¸­åä¸ä¸ªåç´ å¨ç­æ¡éä¸è½éå¤åºç°ãå¯ä»¥æä»»æé¡ºåºè¿åç­æ¡ã\n\nç¤ºä¾ 1ï¼\n\nè¾å¥ï¼nums = [2,7,11,15], target = 9\nè¾åºï¼[0,1]\nè§£éï¼å ä¸º nums[0] + nums[1] == 9 ï¼è¿å [0, 1] ã\n\n\nç¤ºä¾ 2ï¼\n\nè¾å¥ï¼nums = [3,2,4], target = 6\nè¾åºï¼[1,2]\n\n\nç¤ºä¾ 3ï¼\n\nè¾å¥ï¼nums = [3,3], target = 6\nè¾åºï¼[0,1]\n\n\nåæ(easy)ï¼ä½¿ç¨ä¸¤ä¸ªforå¾ªç¯è¿­ä»£éå\n\nä»£ç ï¼\n\nclass solution {\npublic:\n    vector<int> twosum(vector<int>& nums, int target) {\n        vector<int> result;\n        for(int i = 0; i < nums.size(); i++){\n            for(int j = i + 1; j < nums.size(); j++) {\n                if(nums[i] + nums[j] == target) {\n                    result.push_back(i);\n                    result.push_back(j);\n                }\n            }\n        }\n        return result;\n\n    }\n};\n\n\n\n\nclass solution {\npublic:\n    int lengthoflongestsubstring(string s) {\n        // åå¸éåï¼è®°å½æ¯ä¸ªå­ç¬¦æ¯å¦åºç°è¿\n        unordered_set<char> occ;\n        int n = s.size();\n        // å³æéï¼åå§å¼ä¸º -1ï¼ç¸å½äºæä»¬å¨å­ç¬¦ä¸²çå·¦è¾¹ççå·¦ä¾§ï¼è¿æ²¡æå¼å§ç§»å¨\n\n        int p = -1;\n        int count  = 0;\n        // æä¸¾å·¦æéçä½ç½®ï¼åå§å¼éæ§å°è¡¨ç¤ºä¸º -1\n        for (int i = 0; i < n; ++i) {\n            if (i != 0) {\n                // å·¦æéåå³ç§»å¨ä¸æ ¼ï¼ç§»é¤ä¸ä¸ªå­ç¬¦\n                occ.erase(s[i - 1]);\n            }\n            while (p + 1 < n && !occ.count(s[p + 1])) {\n                // ä¸æ­å°ç§»å¨å³æé\n                occ.insert(s[p + 1]);\n                p++;\n            }\n            // ç¬¬ i å° rk ä¸ªå­ç¬¦æ¯ä¸ä¸ªæé¿çæ éå¤å­ç¬¦å­ä¸²\n            count = max(count, p - i + 1);\n        }\n        return count;\n    }\n};\n\n\n\nclass solution {\npublic:\n    double findmediansortedarrays(vector<int>& nums1, vector<int>& nums2) {\n        int nums1_length = nums1.size();\n        int nums2_length = nums2.size();\n\n        vector <int> num;\n        int nums1index = 0;\n        int nums2index = 0;\n\n\n        while (nums1index < nums1_length && nums2index < nums2_length) {\n            if (nums1[nums1index] <= nums2[nums2index]) {\n                num.push_back(nums1[nums1index]);\n                nums1index++;\n                // num.push_back(nums1[nums1index]);\n            }\n            else {\n                num.push_back(nums2[nums2index]);\n                nums2index++;\n                // num.push_back(nums1[nums2index]);\n            }\n            \n        }\n\n        while (nums1index < nums1_length) {\n            num.push_back(nums1[nums1index]);\n            nums1index++; \n        }\n\n        while (nums2index < nums2_length) {\n            num.push_back(nums2[nums2index]);\n            nums2index++;\n        }\n\n\n\n        if (num.size() % 2 == 0){\n            return (num[num.size() / 2] * 1.0 + num[num.size() / 2 - 1]*1.0) / 2;\n        }\n        else {\n            return num[num.size() / 2] ;\n        }\n\n\n    }\n};\n\n\n\npublic class solution {\n\n    public string longestpalindrome(string s) {\n        int len = s.length();\n        if (len < 2) {\n            return s;\n        }\n\n        int maxlen = 1;\n        int begin = 0;\n        // dp[i][j] è¡¨ç¤º s[i..j] æ¯å¦æ¯åæä¸²\n        boolean[][] dp = new boolean[len][len];\n        // åå§åï¼ææé¿åº¦ä¸º 1 çå­ä¸²é½æ¯åæä¸²\n        for (int i = 0; i < len; i++) {\n            dp[i][i] = true;\n        }\n\n        char[] chararray = s.tochararray();\n        // éæ¨å¼å§\n        // åæä¸¾å­ä¸²é¿åº¦\n        for (int l = 2; l <= len; l++) {\n            // æä¸¾å·¦è¾¹çï¼å·¦è¾¹ççä¸éè®¾ç½®å¯ä»¥å®½æ¾ä¸äº\n            for (int i = 0; i < len; i++) {\n                // ç± l å i å¯ä»¥ç¡®å®å³è¾¹çï¼å³ j - i + 1 = l å¾\n                int j = l + i - 1;\n                // å¦æå³è¾¹çè¶çï¼å°±å¯ä»¥éåºå½åå¾ªç¯\n                if (j >= len) {\n                    break;\n                }\n\n                if (chararray[i] != chararray[j]) {\n                    dp[i][j] = false;\n                } else {\n                    // æ­¤æ¶çchararray[i]åchararray[j]å·²ç»ç¸ç­äºï¼æä»¥å¿ç¶ä¸ºåæå­ç¬¦ä¸²\n                    if (j - i < 3) {\n                        dp[i][j] = true;\n                    } else {\n                        dp[i][j] = dp[i + 1][j - 1];\n                    }\n                }\n\n                // åªè¦ dp[i][l] == true æç«ï¼å°±è¡¨ç¤ºå­ä¸² s[i..l] æ¯åæï¼æ­¤æ¶è®°å½åæé¿åº¦åèµ·å§ä½ç½®\n                if (dp[i][j] && j - i + 1 > maxlen) {\n                    maxlen = j - i + 1;\n                    begin = i;\n                }\n            }\n        }\n        return s.substring(begin, begin + maxlen);\n    }\n}\n\n\n\nclass solution {\npublic:\n    bool ismatch(string s, string p) {\n\n\n        // è¿éé¢ç®æ²¡çæ\n                int m = s.size();\n        int n = p.size();\n\n        auto matches = [&](int i, int j) {\n            if (i == 0) {\n                return false;\n            }\n            if (p[j - 1] == '.') {\n                return true;\n            }\n            return s[i - 1] == p[j - 1];\n        };\n\n        vector<vector<int>> f(m + 1, vector<int>(n + 1));\n        f[0][0] = true;\n        for (int i = 0; i <= m; ++i) {\n            for (int j = 1; j <= n; ++j) {\n                if (p[j - 1] == '*') {\n                    f[i][j] |= f[i][j - 2];\n                    if (matches(i, j - 1)) {\n                        f[i][j] |= f[i - 1][j];\n                    }\n                }\n                else {\n                    if (matches(i, j)) {\n                        f[i][j] |= f[i - 1][j - 1];\n                    }\n                }\n            }\n        }\n        return f[m][n];\n\n\n    }\n};\n\n\n\n/**\n * definition for singly-linked list.\n * struct listnode {\n *     int val;\n *     listnode *next;\n *     listnode() : val(0), next(nullptr) {}\n *     listnode(int x) :al(x), next(nullptr) {}\n *     listnode(int x, listnode *next) : val(x), next(next) {}\n * };\n */\nclass solution {\npublic:\n    listnode* addtwonumbers(listnode* l1, listnode* l2) {\n        listnode *head = nullptr;\n        listnode *tail = nullptr;\n        int carry = 0;\n\n        while (l1 || l2) {\n            int n1 = l1 ? l1->val : 0;\n            int n2 = l2 ? l2->val : 0;\n\n            int sum = n1 + n2 + carry;\n            if(!head) {\n                head = tail = new listnode(sum % 10);\n            }\n            else {\n                tail->next = new listnode(sum % 10);\n                tail = tail->next;\n            }\n            carry = sum / 10;\n\n            if(l1) {\n                l1 = l1->next;\n            }\n            if(l2) {\n                l2 = l2->next;\n            }\n        }\n\n        if(carry > 0) {\n            tail->next = new listnode(carry);\n        }\n        return head;\n\n    }\n};\n\n\n\n\n# æ°ç»éå\n\né¦åå¯¹æ°ç»è¿è¡æåºï¼æåºååºå®ä¸ä¸ªæ° nums[i]nums[i]ï¼åä½¿ç¨å·¦å³æéæå nums[i]nums[i]åé¢çä¸¤ç«¯ï¼æ°å­åå«ä¸º nums[l]nums[l] å nums[r]nums[r]ï¼è®¡ç®ä¸ä¸ªæ°çå sumsum å¤æ­æ¯å¦æ»¡è¶³ä¸º 00ï¼æ»¡è¶³åæ·»å è¿ç»æé å¦æ nums[i]nums[i]å¤§äº 00ï¼åä¸æ°ä¹åå¿ç¶æ æ³ç­äº 00ï¼ç»æå¾ªç¯ å¦æ nums[i]nums[i] == nums[i-1]nums[iâ1]ï¼åè¯´æè¯¥æ°å­éå¤ï¼ä¼å¯¼è´ç»æéå¤ï¼æä»¥åºè¯¥è·³è¿ å½ sumsum == 00 æ¶ï¼nums[l]nums[l] == nums[l+1]nums[l+1] åä¼å¯¼è´ç»æéå¤ï¼åºè¯¥è·³è¿ï¼l++l++ å½ sumsum == 00 æ¶ï¼nums[r]nums[r] == nums[r-1]nums[râ1] åä¼å¯¼è´ç»æéå¤ï¼åºè¯¥è·³è¿ï¼r--rââ æ¶é´å¤æåº¦ï¼o(n^2)o(n 2 )ï¼nn ä¸ºæ°ç»é¿åº¦\n\nä½èï¼guanpengchn é¾æ¥ï¼https://leetcode-cn.com/problems/3sum/solution/hua-jie-suan-fa-15-san-shu-zhi-he-by-guanpengchn/ æ¥æºï¼åæ£ï¼leetcodeï¼ èä½æå½ä½èææãåä¸è½¬è½½è¯·èç³»ä½èè·å¾ææï¼éåä¸è½¬è½½è¯·æ³¨æåºå¤ã\n\næ´åç ´è§£ä¸è¡\n\nclass solution {\npublic:\n    vector<vector<int>> threesum(vector<int>& nums) {\n        vector<vector<int> > num;\n        int index = -1;\n        for(int i = 0; i < nums.size(); i++) {\n            for(int j = i+ 1; j <nums.size(); j++) {\n                for (int k = j + 1; k < nums.size(); k++ ) {\n                    if (nums[i] + nums[j] + nums[k] == 0) {\n                        index++;\n                        num.push_back(vector<int>());\n                        num[index].push_back(nums[i]);\n                        num[index].push_back(nums[j]);\n                        num[index].push_back(nums[k]);\n                    }\n                }\n            }\n        }\n        return num;\n        \n    }\n};\n\n\n\nclass solution {\npublic:\n    vector<vector<int>> threesum(vector<int>& nums) {\n        int n = nums.size();\n\n        // æåºå»é\n        sort(nums.begin(), nums.end());\n        vector<vector<int>> ans;\n        // æä¸¾ a\n        for (int first = 0; first < n; ++first) {\n            // éè¦åä¸ä¸æ¬¡æä¸¾çæ°ä¸ç¸å\n\n            if(nums[first] > 0) {\n                break;\n            }\n            if (first > 0 && nums[first] == nums[first - 1]) {\n                continue;\n            }\n            // c å¯¹åºçæéåå§æåæ°ç»çæå³ç«¯\n            int third = n - 1;\n            int target = -nums[first];\n            // æä¸¾ b\n            for (int second = first + 1; second < n; ++second) {\n                // éè¦åä¸ä¸æ¬¡æä¸¾çæ°ä¸ç¸å\n                if (second > first + 1 && nums[second] == nums[second - 1]) {\n                    continue;\n                }\n                // éè¦ä¿è¯ b çæéå¨ c çæéçå·¦ä¾§\n                while (second < third && nums[second] + nums[third] > target) {\n                    --third;\n                }\n                // å¦ææééåï¼éç b åç»­çå¢å \n                // å°±ä¸ä¼ææ»¡è¶³ a+b+c=0 å¹¶ä¸ b<c ç c äºï¼å¯ä»¥éåºå¾ªç¯\n                if (second == third) {\n                    break;\n                }\n                if (nums[second] + nums[third] == target) {\n                    ans.push_back({nums[first], nums[second], nums[third]});\n                }\n            }\n        }\n        return ans;\n    }\n};\n\n\n/**\n * definition for singly-linked list.\n * struct listnode {\n *     int val;\n *     listnode *next;\n *     listnode() : val(0), next(nullptr) {}\n *     listnode(int x) : val(x), next(nullptr) {}\n *     listnode(int x, listnode *next) : val(x), next(next) {}\n * };\n */\nclass solution {\npublic:\n    listnode* mergetwolists(listnode* list1, listnode* list2) {\n\n\n        if (list1 == null) {\n            return list2;\n        }\n        if (list2 == null) {\n            return list1;\n        }\n\n        listnode *head = new listnode;\n        listnode *tail = head;\n\n        while (list1 && list2) {\n            int n1 = list1->val;\n            int n2 = list2->val;\n\n            // tail->next = new listnode();\n            if (n1 <= n2) {\n                tail->next = list1;\n                list1 = list1->next;\n            }\n            else {\n                tail->next = list2;\n                list2 = list2->next;\n            }\n            tail = tail->next;\n        }\n\n        tail->next = list1 == null? list2 : list1;\n\n\n        return head->next; \n    }\n};\n\n\n\n/**\n * definition for singly-linked list.\n * struct listnode {\n *     int val;\n *     listnode *next;\n *     listnode() : val(0), next(nullptr) {}\n *     listnode(int x) : val(x), next(nullptr) {}\n *     listnode(int x, listnode *next) : val(x), next(next) {}\n * };\n */\nclass solution {\npublic:\n    listnode* removenthfromend(listnode* head, int n) {\n\n\n        // é¦åè·åé¿åº¦\n        listnode *tail = head;\n        int count = 0;\n        while (tail) {\n            count = count + 1;\n            tail = tail->next; \n        }\n\n        // å¤´æä¸ä¸ªæé\n        // ä¸»è¦ç®çé¿åæéèµå¼éè¯¯\n        listnode* dummy = new listnode(0, head);\n        tail = dummy;\n        for (int i = 1; i < count - n + 1; ++i) {\n            tail = tail->next;\n        }\n        listnode *temptail = tail->next;\n        tail->next = temptail->next;\n        listnode* ans = dummy->next;\n        delete dummy;\n        return ans;\n    }\n};\n\n\n\nclass solution {\npublic:\n    bool isvalid(string s) {\n        int n = s.size();\n        if (n % 2 == 1 || n == 0) {\n            return false;\n        }\n        stack<char>sta;\n        for(int i = 0; i < n; i++) {\n            char ch = s[i];\n            if (sta.empty()) {\n                sta.push(ch);\n            }\n            else {\n                char tempch = sta.top();\n                if(tempch == '(' && ch == ')' || tempch == '[' && ch == ']' || tempch == '{' && ch == '}') {\n                    sta.pop();\n                }\n                else {\n                    sta.push(ch);\n                }\n            }\n        }\n        if(sta.empty()) {\n            return true;\n        }\n        else {\n            return false;\n        }\n\n    }\n};\n\n\n\nclass solution {\npublic:\n    vector<string> result;\n    vector<string> lettercombinations(string digits) {\n\n        if(digits.size() == 0) {\n            return result;\n        }\n\n        //ä»é¶å¼å§è¿è¡æ·±åº¦æç´¢\n        dfs(digits, 0);\n        return result;\n\n    }\n\n    void dfs(string digits, int index) {\n\n        // è¿­ä»£ç»æ­¢æ¡ä»¶\n        if(index == digits.length()) {\n            result.push_back(digits);\n            return;\n        }\n\n        // æç»­æ·±åº¦æç´¢\n        switch(digits[index]){\n            case '2': digits[index] = 'a'; dfs(digits,index+1);\n                      digits[index] = 'b'; dfs(digits,index+1);  \n                      digits[index] = 'c'; dfs(digits,index+1);\n                      break;\n            case '3': digits[index] = 'd'; dfs(digits,index+1);\n                      digits[index] = 'e'; dfs(digits,index+1);  \n                      digits[index] = 'f'; dfs(digits,index+1);\n                      break;  \n            case '4': digits[index] = 'g'; dfs(digits,index+1);\n                      digits[index] = 'h'; dfs(digits,index+1);  \n                      digits[index] = 'i'; dfs(digits,index+1);\n                      break;  \n            case '5': digits[index] = 'j'; dfs(digits,index+1);\n                      digits[index] = 'k'; dfs(digits,index+1);  \n                      digits[index] = 'l'; dfs(digits,index+1);\n                      break; \n            case '6': digits[index] = 'm'; dfs(digits,index+1);\n                      digits[index] = 'n'; dfs(digits,index+1);  \n                      digits[index] = 'o'; dfs(digits,index+1);\n                      break;  \n            case '7': digits[index] = 'p'; dfs(digits,index+1);\n                      digits[index] = 'q'; dfs(digits,index+1);  \n                      digits[index] = 'r'; dfs(digits,index+1);\n                      digits[index] = 's'; dfs(digits,index+1);\n                      break;  \n            case '8': digits[index] = 't'; dfs(digits,index+1);\n                      digits[index] = 'u'; dfs(digits,index+1);  \n                      digits[index] = 'v'; dfs(digits,index+1);\n                      break;  \n            case '9': digits[index] = 'w'; dfs(digits,index+1);\n                      digits[index] = 'x'; dfs(digits,index+1);  \n                      digits[index] = 'y'; dfs(digits,index+1);\n                      digits[index] = 'z'; dfs(digits,index+1);\n                      break;\n            \n\n        }\n    }\n};\n\n\n\nclass solution {\npublic:\n\n    vector<string> result;\n    vector<string> generateparenthesis(int n) {\n        dfs(\"(\", n-1, n);\n        return result;\n    }\n\n    void dfs (string str, int left, int right) {\n        if (left < 0 || right < 0 || right < left) {\n            return;\n        }\n        if (left == 0 && right == 0) {\n            result.push_back(str);\n            return;\n        }\n        dfs(str + '(', left-1, right);\n        dfs(str + ')', left, right-1);\n    }\n\n        \n};\n\n\n\n\n/**\n * definition for singly-linked list.\n * struct listnode {\n *     int val;\n *     listnode *next;\n *     listnode() : val(0), next(nullptr) {}\n *     listnode(int x) : val(x), next(nullptr) {}\n *     listnode(int x, listnode *next) : val(x), next(next) {}\n * };\n */\nclass solution {\npublic:\n\n    listnode* addtwolists(listnode *a, listnode *b) {\n        // è¦æ¯aä¸ºç©ºbä¸ç©ºï¼ç´æ¥è¿åb\n        // è¦æ¯aä¸ç©ºä½æ¯lists[i]ä¸ºç©ºè¿åa\n        if ((!a) || (!b)) {\n            return a ? a: b;\n        }\n        listnode head, *tail = &head;\n        listnode *tempa = a;\n        listnode *tempb = b;\n        while(tempa && tempb) {\n            if (tempa->val >= tempb->val) {\n                tail->next = tempb;\n                tempb = tempb->next;\n            }\n            else {\n                tail->next = tempa;\n                tempa = tempa->next;\n            }\n            tail = tail->next;\n        }\n        tail->next = (tempa ? tempa : tempb);\n        return head.next;\n    }\n    listnode* mergeklists(vector<listnode*>& lists) {\n\n        listnode *ans = nullptr;\n        for(size_t i = 0; i < lists.size(); i++) {\n            ans = addtwolists(ans, lists[i]);\n        }\n        return ans;\n    }\n};\n\n\n\nclass solution {\n    public int search(int[] nums, int target) {\n        for (int i = 0; i < nums.length; i++) {\n            if (nums[i] == target) {\n                return i;\n            }\n        }\n        return -1;\n    }\n}\n\n\näºåæ¥æ¾\n\nclass solution {\n    public int search(int[] nums, int target) {\n        int n = nums.length;\n        if (n == 0) {\n            return -1;\n        }\n        if (n == 1) {\n            return nums[0] == target ? 0 : -1;\n        }\n        int l = 0, r = n - 1;\n        while (l <= r) {\n            int mid = (l + r) / 2;\n            if (nums[mid] == target) {\n                return mid;\n            }\n            if (nums[0] <= nums[mid]) {\n                if (nums[0] <= target && target < nums[mid]) {\n                    r = mid - 1;\n                } else {\n                    l = mid + 1;\n                }\n            } else {\n                if (nums[mid] < target && target <= nums[n - 1]) {\n                    l = mid + 1;\n                } else {\n                    r = mid - 1;\n                }\n            }\n        }\n        return -1;\n    }\n}\n\n\n\n\nclass solution {\n\n\n    public int[] searchrange(int[] nums, int target) {\n        // é»è®¤æ¾å°ç¬¦åé¢ææå°ç\n        int leftidx = binarysearch(nums, target, true);\n        // æ¾å°æ¯ç¬¦åé¢æå¤§çä¸ä¸ä¸ª\n        int rightidx = binarysearch(nums, target, false) - 1;\n        if (leftidx <= rightidx && rightidx < nums.length && nums[leftidx] == target && nums[rightidx] == target) {\n            return new int[]{leftidx, rightidx};\n        } \n        return new int[]{-1, -1};\n    }\n\n    public int binarysearch(int[] nums, int target, boolean lower) {\n        int left = 0, right = nums.length - 1, ans = nums.length;\n        while (left <= right) {\n            int mid = (left + right) / 2;\n            if (nums[mid] > target || (lower && nums[mid] >= target)) {\n                right = mid - 1;\n                ans = mid;\n            } else {\n                left = mid + 1;\n            }\n        }\n        return ans;\n    }\n}\n\n\n\nimport java.util.arraydeque;\nimport java.util.arraylist;\nimport java.util.arrays;\nimport java.util.deque;\nimport java.util.list;\n\n\nclass solution {\n    public list<list<integer>> combinationsum(int[] candidates, int target) {\n\n        int len = candidates.length;\n\n\n        // å£°æç»æ\n        list<list<integer>> result = new arraylist<>();\n\n        if(len == 0) {\n            return result;\n        }\n\n        // é¦åæåº\n        arrays.sort(candidates);\n        deque<integer> path = new arraydeque<>();\n        dfs(candidates, 0, len, target, path, result);\n        return result;\n    }\n\n    private void dfs (int[] candidates, int begin, int len, int target, deque<integer> path, list<list<integer>> result) {\n\n        // éå½ç»æ­¢æ¡ä»¶å¼åªå¤æ­ç­äº 0 çæåµ\n        if (target == 0) {\n            result.add(new arraylist<>(path));\n            return;\n        }\n\n        for (int i = begin; i < len; i++) {\n            if(target - candidates[i] < 0) {\n                break;\n            }\n\n            path.addlast(candidates[i]);\n            dfs(candidates, i, len, target - candidates[i], path, result);\n            path.removelast();\n        }\n\n    }\n}\n\n\nimport java.util.arraylist;\nimport java.util.list;\n\n\nclass solution {\n    public list<list<integer>> permute(int[] nums) {\n\n\n        // é¦åæ¯ç¹å¤\n        int len = nums.length;\n        // ä½¿ç¨ä¸ä¸ªå¨ææ°ç»ä¿å­ææå¯è½çå¨æå\n        list<list<integer>> result = new arraylist<>();\n\n        if (len == 0) {\n            return result;\n        }\n\n        boolean[] label = new boolean[len];\n        list<integer> path = new arraylist<>();\n\n        dfs(nums, 0, len, label, path, result);\n        return result;\n    }\n    \n    public void dfs (int[] nums, int depth, int len, boolean[] label, list<integer> path, list<list<integer>> result) {\n\n        if (depth == len) {\n            result.add(path);\n            return;\n        }\n\n        for (int i = 0; i < len; i++) {\n            if (!label[i]) {\n\n                // ä¿å­å½åè·¯å¾å°æ°çlistä¸­\n                list<integer> newpath = new arraylist<>(path);\n                // æ·»å ç¶æ\n                newpath.add(nums[i]);\n\n                // ä¿å­æ°çç¶æ\n                boolean[] newlabel = new boolean[len];\n\n                for (int j = 0; j < len; j++) {\n                    newlabel[j] = label[j];\n                }\n                // system.arraycopy(label, 0, len, newlabel, 0, len);\n                newlabel[i] = true;\n                dfs(nums, depth + 1, len, newlabel, newpath, result);\n            }\n        }\n\n    }\n}\n\n\nclass solution {\n    public void rotate(int[][] matrix) {\n        int n = matrix.length;\n        int[][] matrix_new = new int[n][n];\n        for (int i = 0; i < n; ++i) {\n            for (int j = 0; j < n; ++j) {\n                matrix_new[j][n - i - 1] = matrix[i][j];\n            }\n        }\n        for (int i = 0; i < n; ++i) {\n            for (int j = 0; j < n; ++j) {\n                matrix[i][j] = matrix_new[i][j];\n            }\n        }\n    }\n}\n\n\nclass solution {\n    public void rotate(int[][] matrix) {\n        int n = matrix.length;\n\n        int len = n % 2 == 0? n / 2 : n / 2 + 1;\n\n        for(int i = 0; i < len; i++) {\n            // arraylist<integer> newlist = new arraylist<integer>();\n\n            for (int j = i; j < n-i-1; j++) {\n            \n                if (j >= i) {\n                arraylist<integer> newlist = new arraylist<integer>();\n                newlist.add(matrix[n-1-j][i]);  // 13\n                newlist.add(matrix[i][j]);  // 1\n                newlist.add(matrix[j][n-1-i]);  //10\n                newlist.add(matrix[n-1-i][n-1-j]);  // 12\n                matrix[i][j] = newlist.get(0);  // 13\n                matrix[j][n-1-i] = newlist.get(1);  // 1\n                matrix[n-1-i][n-1-j] = newlist.get(2);  // 10\n                matrix[n-1-j][i] = newlist.get(3);  // 12\n                }\n            }\n        }\n \n    }\n}\n\n\nclass solution {\n    // ä¸¤ä¸ªå­ç¬¦ä¸²äºä¸ºå­æ¯å¼ä½è¯ï¼å½ä¸ä»å½ä¸¤ä¸ªå­ç¬¦ä¸²åå«çå­æ¯ç¸åãåä¸ç»å­æ¯å¼ä½è¯ä¸­çå­ç¬¦ä¸²å·å¤ç¸åç¹ï¼å¯ä»¥ä½¿ç¨ç¸åç¹ä½ä¸ºä¸ç»å­æ¯å¼ä½è¯çæ å¿ï¼ä½¿ç¨åå¸è¡¨å­å¨æ¯ä¸ç»å­æ¯å¼ä½è¯ï¼åå¸è¡¨çé®ä¸ºä¸ç»å­æ¯å¼ä½è¯çæ å¿ï¼åå¸è¡¨çå¼ä¸ºä¸ç»å­æ¯å¼ä½è¯åè¡¨ã\n\n    // éåæ¯ä¸ªå­ç¬¦ä¸²ï¼å¯¹äºæ¯ä¸ªå­ç¬¦ä¸²ï¼å¾å°è¯¥å­ç¬¦ä¸²æå¨çä¸ç»å­æ¯å¼ä½è¯çæ å¿ï¼å°å½åå­ç¬¦ä¸²å å¥è¯¥ç»å­æ¯å¼ä½è¯çåè¡¨ä¸­ãéåå¨é¨å­ç¬¦ä¸²ä¹åï¼åå¸è¡¨ä¸­çæ¯ä¸ªé®å¼å¯¹å³ä¸ºä¸ç»å­æ¯å¼ä½è¯ã\n\n\n    public list<list<string>> groupanagrams(string[] strs) {\n        map<string, list<string>> map = new hashmap<string, list<string>>();\n        // ç±äºäºä¸ºå­æ¯å¼ä½è¯çä¸¤ä¸ªå­ç¬¦ä¸²åå«çå­æ¯ç¸åï¼å æ­¤å¯¹ä¸¤ä¸ªå­ç¬¦ä¸²åå«è¿è¡æåºä¹åå¾å°çå­ç¬¦ä¸²ä¸å®æ¯ç¸åçï¼æå¯ä»¥å°æåºä¹åçå­ç¬¦ä¸²ä½ä¸ºåå¸è¡¨çé®ã\n        for (int i = 0; i < strs.length; i++) {\n            char[] strsarray = strs[i].tochararray();\n\n            arrays.sort(strsarray);\n            \n            string key = new string(strsarray);\n            list<string> list = map.getordefault(key, new arraylist<string>());\n            list.add(strs[i]);\n            map.put(key, list);\n        }\n\n        return new arraylist<list<string>>(map.values());\n\n    }\n}\n\n\nclass solution {\n    public int maxsubarray(int[] nums) {\n\n        int pre = 0;\n        int maxres = nums[0];\n\n        for(int i = 0; i < nums.length; i++) {\n            pre = math.max(pre + nums[i], nums[i]);\n\n            maxres = math.max(maxres, pre);\n\n        }\n\n        return maxres;\n\n    }\n}\n\n\nclass solution {\n    public boolean canjump(int[] nums) {\n        int maxres = 0;\n\n        for(int i = 0;  i < nums.length; i++) {\n\n            if(i <= maxres) {\n                maxres = math.max(maxres, i + nums[i] );\n                if (maxres >= nums.length-1) {\n                    return true;\n                }\n            }\n\n        }\n        return false;\n\n    }\n}\n\n\nclass solution {\n    public int[][] merge(int[][] intervals) {\n        if(intervals.length == 0) {\n            return new int[][]{};\n        }\n\n        //é¦åæåºï¼è¿éåºè¯¥æ¯lamdaè¡¨è¾¾å¼\n        // arrays.sort(intervals,(a,b)->{return a[0]-b[0];});\n        arrays.sort(intervals,(a,b)->{return a[0]-b[0];});\n\n        int[][] result = new int[intervals.length][2];\n        int index = 0;\n\n        int start = intervals[0][0];\n        int end = intervals[0][1];\n\n        for(int i = 1; i < intervals.length; i++) {\n\n            // åä¸ä¸ªçèµ·ç¹ä½ç½®å°äºç­äºåä¸ä¸ªçç»æä½ç½®å¯ä»¥åå¹¶\n            if (intervals[i][0] <= end) {\n\n                // åå»å¤æ­åä¸ä¸ªç¹ååä¸ä¸ªç¹ç»æä½ç½®çå¤§å°\n                if (intervals[i][1] >= end) {\n                    end = intervals[i][1];\n                }\n                else {\n                    end = end;\n                }\n                // end  = intervals[i][1];\n            }\n            // ä¸è½åå¹¶\n            else {\n                result[index][0] = start;\n                result[index][1] = end;\n                index++;\n                // æ´æ°ä¸ä¸ä¸ªä½ç½®\n                start = intervals[i][0];\n                end = intervals[i][1];\n            }\n        }\n\n        result[index][0] = start;\n        result[index][1] = end;\n        return arrays.copyofrange(result, 0, index+1);\n    }\n}\n\n\nclass solution {\n    public int uniquepaths(int m, int n) {\n        int[][] path = new int[m][n];\n        for (int i = 0; i < m; ++i) {\n            path[i][0] = 1;\n        }\n        for (int j = 0; j < n; ++j) {\n            path[0][j] = 1;\n        }\n        for (int i = 1; i < m; ++i) {\n            for (int j = 1; j < n; ++j) {\n                path[i][j] = path[i - 1][j] + path[i][j - 1];\n            }\n        }\n        return path[m - 1][n - 1];\n    }\n}\n\n\nclass solution {\n    public int minpathsum(int[][] grid) {\n\n        int m = grid.length;\n        int n = grid[0].length;\n\n        int[][] dp = new int[m][n];\n\n        // ç¶æåå§å\n        dp[0][0] = grid[0][0];\n\n        \n        for(int i = 1; i < m; i++) {\n            dp[i][0] = dp[i-1][0] + grid[i][0];\n        }\n\n        for(int j = 1; j < n; j++) {\n            dp[0][j] = dp[0][j-1] + grid[0][j];\n        }\n\n\n        for (int i = 1; i < m ; i++) {\n            for (int j = 1; j < n ; j++) {\n                dp[i][j] = grid[i][j] + math.min(dp[i-1][j], dp[i][j-1]);\n            }\n        }\n\n        // è¿åç»æ\n        return dp[m-1][n-1];\n    }\n}\n\n\næ·±åº¦æç´¢è¶åºæ¶é´éå¶\n\nclass solution {\n    public int climbstairs(int n) {\n        int count = 0;\n\n        return dfs(n);\n\n    }\n\n    public int dfs(int n) {\n        if (n == 0) {\n            return 1;\n        }\n        if (n < 0) {\n            return 0;\n        }\n        return dfs(n - 1) + dfs(n - 2);\n    }\n}\n\n\næ¬è´¨ä¸ä¸ºææ³¢é£å¥æ°å\n\nclass solution {\n    public int climbstairs(int n) {\n        int p = 0, q = 0, r = 1;\n        for (int i = 1; i <= n; ++i) {\n            p = q; \n            q = r; \n            r = p + q;\n        }\n        return r;\n\n    }\n}\n\n\n// éç¨æ è¿è¡åæè¿éæbug\n// (()è¿ç§åæä¸åºæ¥\nclass solution {\n    public int longestvalidparentheses(string s) {\n\n        int maxvalue = 0;\n        int temp = 0;\n\n        deque<integer> stack = new linkedlist<integer>();\n\n        // é¦åæ¾å¥ç¬¬ä¸ä¸ªåç´ \n        // stack.push(s.chartat(0));\n\n        for(int i = 0; i < s.length(); i++) {\n\n            // å¦ææ ç©ºå¿é¡»æ¾å¥æ°åç´ \n            if (stack.isempty()) {\n                stack.push(i);\n            }\n            /// æ ä¸æ¯ç©ºç\n            else {\n                // æ é¡¶åç´ ä¸º(\n                if (s.charat(stack.peek()) == '(') {\n\n                    if (s.charat(i) == ')') {\n                        // åºæ \n                        stack.pop();\n                        temp = temp + 2;\n                    }\n\n                    else {\n                        stack.push(i);\n                    }\n\n                }\n                // æ é¡¶åç´ ä¸º)\n                else {\n                    maxvalue = math.max(maxvalue, temp);\n                    temp = 0;\n                }\n            }\n\n        }\n        return maxvalue;\n\n    }\n}\n\n\nclass solution {\n    public int longestvalidparentheses(string s) {\n\n        int maxvalue = 0;\n        int left = 0;\n        int right = 0;\n\n\n        // ä»åå¾å\n        for (int i = 0; i < s.length(); i++) {\n            if (s.charat(i) == '(') {\n                left++;\n            } else {\n                right++;\n            }\n            if (left == right) {\n                maxvalue = math.max(maxvalue, 2 * right);\n            } else if (right > left) {\n                left = right = 0;\n            }\n        }\n\n        //ä»åå¾å\n        left = 0;\n        right = 0;\n        for (int i = s.length() - 1; i >= 0; i--) {\n            if (s.charat(i) == '(') {\n                left++;\n            } else {\n                right++;\n            }\n            if (left == right) {\n                maxvalue = math.max(maxvalue, 2 * right);\n            } else if (left > right) {\n                left = right = 0;\n            }\n        }\n        return maxvalue;\n\n    }\n}\n\n\nclass solution {\n    public int trap(int[] height) {\n        int area = 0;\n\n        deque<integer> stack = new linkedlist<integer>();\n\n        // å©ç¨æ è¿è¡æ±è§£\n        // æ ä¸­å­å¨çåç´ ä¸ºä¾æ¬¡éåçæ°\n        // ç¶åæ ¹æ®éå¢çæ°è¿è¡æ±è§£\n\n        for(int i= 0; i < height.length; i++) {\n\n            // æ ä¸ä¸ºç©ºä¸åé¢çåç´ å¼å§éå¢æ¶è¿è¡åºæ å¤æ­\n            while(!stack.isempty() && height[i] > height[stack.peek()]) {\n\n                // è·åä¸­é´çåç´ \n                int middle = stack.pop();\n\n                if (stack.isempty()) {\n                    break;\n                }\n\n                int left = stack.peek();  // è·åå·¦è¾¹çåç´ \n\n                int width = i - left - 1;  // å®½åº¦\n\n                int height = height[i] > height[left] ? height[left] : height[i];  // è·åæå°å¼\n\n                area = area + (height - height[middle]) * width;\n\n\n            }\n\n            // å­å¨æ¯ä¸ªåç´ \n            stack.push(i);\n        }\n\n        return area;\n\n    }\n}\n\n\nclass solution {\n    public void sortcolors(int[] nums) {\n\n        int len = nums.length;\n\n        if(len <= 1) {\n            return;\n        }\n        // all in [0, zero) = 0\n        // all in [zero, i) = 1\n        // all in [two, len - 1] = 2\n        \n        // å¾ªç¯ç»æ­¢æ¡ä»¶æ¯ i == twoï¼é£ä¹å¾ªç¯å¯ä»¥ç»§ç»­çæ¡ä»¶æ¯ i < two\n        // ä¸ºäºä¿è¯åå§åçæ¶å [0, zero) ä¸ºç©ºï¼è®¾ç½® zero = 0ï¼\n        // æä»¥ä¸é¢éåå° 0 çæ¶åï¼åäº¤æ¢ï¼åå \n        int zero = 0;\n\n        // ä¸ºäºä¿è¯åå§åçæ¶å [two, len - 1] ä¸ºç©ºï¼è®¾ç½® two = len\n        // æä»¥ä¸é¢éåå° 2 çæ¶åï¼ååï¼åäº¤æ¢\n        int two = len;\n        int i = 0;\n        // å½ i == two ä¸é¢çä¸ä¸ªå­åºé´æ­£å¥½è¦çäºå¨é¨æ°ç»\n        // å æ­¤ï¼å¾ªç¯å¯ä»¥ç»§ç»­çæ¡ä»¶æ¯ i < two\n\n\n\n        while (i < two) {\n            if(nums[i] == 0) {\n                myswap(nums, i, zero);\n                zero++;\n                i++;\n            }\n            else if (nums[i] == 1){\n                i++;\n            }\n            else {\n                two--;\n                myswap(nums, i, two);\n            }\n\n        }\n\n\n    }\n\n\n    private void myswap(int[] nums, int left, int right) {\n        int temp = nums[left];\n        nums[left] = nums[right];\n        nums[right] = temp;\n    }\n}\n\n\n\nclass solution {\n    public list<list<integer>> subsets(int[] nums) {\n\n        list<integer> temp = new arraylist<integer>();\n        list<list<integer>> res = new arraylist<list<integer>>();\n\n\n        for(int mask = 0; mask < (1 << nums.length); mask++) {\n            temp.clear();\n\n            for(int i = 0; i < nums.length; i++) {\n\n                if ((mask & (1 << i)) != 0) {\n                    temp.add(nums[i]);\n                }\n            }\n\n            res.add(new arraylist<integer>(temp));\n\n\n\n\n\n        }\n        return res;\n\n    }\n}\n\n\n\n// è¿æéå½çä¸­åºéå\nclass solution {\n    public list<integer> inordertraversal(treenode root) {\n\n        list<integer> result = new arraylist<integer>();\n        deque<treenode> sta = new linkedlist<treenode>();\n\n        while(root != null || !sta.isempty()) {\n\n            while(root != null) {\n                sta.push(root);\n                root = root.left;\n            }\n            root = sta.pop();\n            result.add(root.val);\n            root = root.right;\n        }\n\n        return result;\n\n    }\n}\n\n\n\n// åæ ·ä¹æéå½çæ¬\n/**\n * definition for a binary tree node.\n * public class treenode {\n *     int val;\n *     treenode left;\n *     treenode right;\n *     treenode() {}\n *     treenode(int val) { this.val = val; }\n *     treenode(int val, treenode left, treenode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass solution {\n    public boolean issymmetric(treenode root) {\n\n        // å·¦å³ä¸¤è¾¹åæ¶éå\n        return check(root, root);\n    }\n\n\n// 1ãoffer()åadd()çåºå«\n// add()åoffer()é½æ¯åéåä¸­æ·»å ä¸ä¸ªåç´ ãä½æ¯å¦ææ³å¨ä¸ä¸ªæ»¡çéåä¸­å å¥ä¸ä¸ªæ°åç´ ï¼è°ç¨ add() æ¹æ³å°±ä¼æåºä¸ä¸ª unchecked å¼å¸¸ï¼èè°ç¨ offer() æ¹æ³ä¼è¿å falseãå¯ä»¥æ®æ­¤å¨ç¨åºä¸­è¿è¡ææçå¤æ­ï¼\n\n// 2ãpeek()åelement()çåºå«\n// peek()åelement()é½å°å¨ä¸ç§»é¤çæåµä¸è¿åéå¤´ï¼ä½æ¯peek()æ¹æ³å¨éåä¸ºç©ºæ¶è¿ånullï¼è°ç¨element()æ¹æ³ä¼æåºnosuchelementexceptionå¼å¸¸ã\n\n// 3ãpoll()åremove()çåºå«\n// poll()åremove()é½å°ç§»é¤å¹¶ä¸è¿åå¯¹å¤´ï¼ä½æ¯å¨poll()å¨éåä¸ºç©ºæ¶è¿ånullï¼èremove()ä¼æåºnosuchelementexceptionå¼å¸¸ã\n    public boolean check(treenode u, treenode v){\n        queue<treenode> q = new linkedlist<treenode>();\n\n        // æ·»å ä¸ä¸ªåç´ å°éå°¾\n        q.offer(u);\n        q.offer(v);\n\n        while(!q.isempty()) {\n            u = q.poll();\n            v = q.poll();\n\n\n            //å¦æä¸¤ä¸ªèç¹é½ä¸ºç©ºå°±ç»§ç»­å¾ªç¯ï¼ä¸¤èæä¸ä¸ªä¸ºç©ºå°±è¿åfalse\n            if(u == null && v == null) {\n                continue;\n\n            }\n\n            //å¦æä¸¤ä¸ªèç¹é½ä¸ºç©ºå°±ç»§ç»­å¾ªç¯ï¼ä¸¤èæä¸ä¸ªä¸ºç©ºå°±è¿åfalse\n            if ((u == null || v == null)) {\n                return false;\n            }\n\n            if (u.val != v.val) {\n                return false;\n            }\n            //å°å·¦èç¹çå·¦å­©å­ï¼ å³èç¹çå³å­©å­æ¾å¥éå\n            q.offer(u.left);\n            q.offer(v.right);\n            \n            \n            q.offer(u.right);\n            q.offer(v.left);\n        }\n        return true;\n\n\n\n\n    }\n}\n\n\n\nclass solution {\n    public int numtrees(int n) {\n        // ä»¥æ¯ä¸ä¸ªç¹ä¸ºä¸­å¿åå«è®¡ç®ä¸¤è¾¹\n        //\n        int[] count = new int[n+1];\n        count[0] = 1;\n        count[1] = 1;\n\n        for (int i = 2; i <= n; i++) {\n\n            for(int j = 1; j <= i; j++) {\n                count[i] = count[i] + count[j - 1] * count[i - j];\n            }\n        }\n        return count[n];\n\n    }\n}\n\n\n/**\n * definition for a binary tree node.\n * public class treenode {\n *     int val;\n *     treenode left;\n *     treenode right;\n *     treenode() {}\n *     treenode(int val) { this.val = val; }\n *     treenode(int val, treenode left, treenode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass solution {\n    public list<list<integer>> levelorder(treenode root) {\n        list<list<integer>> result = new arraylist<list<integer>>();\n\n        if (root == null) {\n            return result;\n        }\n\n\n        queue<treenode> queue = new linkedlist<treenode>();\n        // æ ¹èç¹å¥éå\n        queue.offer(root);\n\n        while (!queue.isempty()) {\n\n            list<integer> level = new arraylist<integer>();\n\n            int queuelength = queue.size();\n\n            // æå½åéåä¸­ææç¹å¯¹åºçä¸ä¸å±å¨é¨å­èµ·æ¥\n            for(int i = 0; i < queuelength; i++) {\n                // ååºéååè¿æ¥çåç´ \n                treenode node = queue.poll();\n                level.add(node.val);\n\n                if(node.left != null) {\n                    queue.offer(node.left);\n                }\n\n                if(node.right != null) {\n                    queue.add(node.right);\n                }\n            }\n            result.add(level);\n        }\n        return result;\n    }\n}\n\n\n/**\n * definition for a binary tree node.\n * public class treenode {\n *     int val;\n *     treenode left;\n *     treenode right;\n *     treenode() {}\n *     treenode(int val) { this.val = val; }\n *     treenode(int val, treenode left, treenode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass solution {\n    public boolean isvalidbst(treenode root) {\n        return isvalidbst(root, long.min_value, long.max_value);\n    }\n    public boolean isvalidbst(treenode root, long min, long max) {\n        if (root == null) {\n            return true;\n        }\n        if (root.val <= min || root.val >= max) {\n            return false;\n        }\n        return isvalidbst(root.left, min, root.val) && isvalidbst(root.right, root.val, max);\n    }\n}\n\n\n/**\n * definition for a binary tree node.\n * public class treenode {\n *     int val;\n *     treenode left;\n *     treenode right;\n *     treenode() {}\n *     treenode(int val) { this.val = val; }\n *     treenode(int val, treenode left, treenode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass solution {\n    public int maxdepth(treenode root) {\n\n        int count = 0;\n\n        if (root == null) {\n            return count;\n        }\n        queue<treenode> queue = new linkedlist<treenode>();\n        // æ ¹èç¹å¥éå\n        queue.offer(root);\n\n        while (!queue.isempty()) {\n            count = count + 1;\n\n            int queuelength = queue.size();\n            for(int i = 0; i < queuelength; i++) {\n                // ååºéååè¿æ¥çåç´ \n                treenode node = queue.poll();\n                if(node.left != null) {\n                    queue.offer(node.left);\n                }\n\n                if(node.right != null) {\n                    queue.add(node.right);\n                }\n            }\n        }\n        return count;\n    }\n}\n\n\n\n\næ·±åº¦éå\n\nclass solution {\n    public int maxdepth(treenode root) {\n        if(root == null) {\n            return 0;\n        } else {\n            int left = maxdepth(root.left);\n            int right = maxdepth(root.right);\n            return math.max(left, right) + 1;\n        }\n    }\n}\n\n\n/**\n * definition for a binary tree node.\n * public class treenode {\n *     int val;\n *     treenode left;\n *     treenode right;\n *     treenode() {}\n *     treenode(int val) { this.val = val; }\n *     treenode(int val, treenode left, treenode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass solution {\n\n//     æä»¬ç¨ä¸ä¸ªæ åä¸ä¸ªæéè¾å©è¿è¡äºåæ çæé ãåå§æ¶æ ä¸­å­æ¾äºæ ¹èç¹ï¼ååºéåçç¬¬ä¸ä¸ªèç¹ï¼ï¼æéæåä¸­åºéåçç¬¬ä¸ä¸ªèç¹ï¼\n\n// æä»¬ä¾æ¬¡æä¸¾ååºéåä¸­é¤äºç¬¬ä¸ä¸ªèç¹ä»¥å¤çæ¯ä¸ªèç¹ãå¦æ index æ°å¥½æåæ é¡¶èç¹ï¼é£ä¹æä»¬ä¸æ­å°å¼¹åºæ é¡¶èç¹å¹¶åå³ç§»å¨ indexï¼å¹¶å°å½åèç¹ä½ä¸ºæåä¸ä¸ªå¼¹åºçèç¹çå³å¿å­ï¼å¦æ index åæ é¡¶èç¹ä¸åï¼æä»¬å°å½åèç¹ä½ä¸ºæ é¡¶èç¹çå·¦å¿å­ï¼\n\n// æ è®ºæ¯åªä¸ç§æåµï¼æä»¬æåé½å°å½åçèç¹å¥æ ã\n    public treenode buildtree(int[] preorder, int[] inorder) {\n        // preorder = [3, 9, 8, 5, 4, 10, 20, 15, 7]\n        // inorder = [4, 5, 8, 10, 9, 3, 15, 20, 7]\n//         3\n//        / \\\n//       9  20\n//      /  /  \\\n//     8  15   7\n//    / \\\n//   5  10\n//  /\n// 4\n\n        if (preorder.length == 0 || preorder == null) {\n            return null;\n        }\n\n\n        // æ¾å°ååºéåçæ ¹èç¹\n        treenode root = new treenode(preorder[0]);\n        // å£°ææ \n        deque<treenode> stack = new linkedlist<treenode>();\n        // æ ¹èç¹å¥æ \n        stack.push(root);\n\n        int index = 0;\n\n        for(int i = 1; i < preorder.length; i++) {\n            int preorderval = preorder[i];\n            // peekä¸æ¹åæ çå¼(ä¸å é¤æ é¡¶çå¼)ï¼popä¼ææ é¡¶çå¼å é¤ã\n            treenode node = stack.peek();\n\n            if (node.val != inorder[index]) {\n                node.left = new treenode(preorderval);\n                stack.push(node.left);\n            }\n            else {\n                // æ ä¸­çèç¹çé¡ºåºåå®ä»¬å¨ååºéåä¸­åºç°çé¡ºåºæ¯ä¸è´\n                // èä¸æ¯ä¸ä¸ªèç¹çå³å¿å­é½è¿æ²¡æè¢«éåè¿\n                // é£ä¹è¿äºèç¹çé¡ºåºåå®ä»¬å¨ä¸­åºéåä¸­åºç°çé¡ºåºä¸å®æ¯ç¸åç\n                while (!stack.isempty() && stack.peek().val == inorder[index]) {\n                    node = stack.pop();\n                    index++;\n                }\n                node.right = new treenode(preorderval);\n                stack.push(node.right);\n            }\n        }\n        return root;\n\n    }\n}\n\n\n\n/**\n * definition for a binary tree node.\n * public class treenode {\n *     int val;\n *     treenode left;\n *     treenode right;\n *     treenode() {}\n *     treenode(int val) { this.val = val; }\n *     treenode(int val, treenode left, treenode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass solution {\n    public void flatten(treenode root) {\n\n        list<treenode> list = new arraylist<treenode>();\n\n        deque<treenode> stack = new linkedlist<treenode>();\n\n        treenode node = root;\n\n        while(node != null || !stack.isempty()) {\n            while (node != null) {\n                list.add(node);\n                stack.push(node);\n                node = node.left;\n            }\n            node = stack.pop();\n            node = node.right;\n        }\n\n        int size = list.size();\n\n        for(int i = 1; i < size; i++) {\n            treenode prev = list.get(i-1);\n            treenode next = list.get(i);\n            prev.left = null;\n            prev.right = next;\n            next.left = null;\n            next.right = null;\n        }\n    }\n}\n\n\nclass solution {\n    public int maxprofit(int[] prices) {\n        int minprice = integer.max_value;\n        int maxprofit = 0;\n        for (int i = 0; i < prices.length; i++) {\n            if (prices[i] < minprice) {\n                minprice = prices[i];\n            } else if (prices[i] - minprice > maxprofit) {\n                maxprofit = prices[i] - minprice;\n            }\n        }\n        return maxprofit;\n    }\n\n}\n\n\n// import java.util.arrays;\n\nclass solution {\n    public int longestconsecutive(int[] nums) {\n        if (nums.length <= 0) {\n            return 0;\n        }\n\n        if (nums.length == 1) {\n            return 1;\n        }\n\n        arrays.sort(nums);\n        int index = 1;\n        int maxlength = 0;\n\n        for(int i = 0; i < nums.length-1; i++) {\n            if (nums[i+1] != nums[i]) {\n                if (nums[i+1] - nums[i] == 1) {\n                    index++;\n                    // maxlength = index > maxlength ? index : maxlength;\n\n                }\n                else {\n                    index=1;\n                    \n                }\n            }\n            maxlength = index > maxlength ? index : maxlength;\n        }\n        return maxlength;\n    }\n}\n\n\nclass solution {\n    public int singlenumber(int[] nums) {\n\n        if(nums.length == 1) {\n            return nums[0];\n        }\n\n        // é»è®¤åç´ å¨é¨å¤§äº0\n        map<integer, integer> map = new hashmap<>();\n        for (integer i : nums) {\n            integer count = map.get(i);\n            count = count == null ? 1 : ++count;\n            map.put(i, count);\n        }\n        for (integer i : map.keyset()) {\n            integer count = map.get(i);\n            if (count == 1) {\n                return i;\n            }\n        }\n        return -1; // can't find it.\n\n    }\n}\n\n\n/**\n * definition for singly-linked list.\n * class listnode {\n *     int val;\n *     listnode next;\n *     listnode(int x) {\n *         val = x;\n *         next = null;\n *     }\n * }\n */\npublic class solution {\n    public boolean hascycle(listnode head) {\n        set<listnode> seen = new hashset<listnode>();\n        while (head != null) {\n            if (!seen.add(head)) {\n                return true;\n            }\n            head = head.next;\n        }\n        return false;\n\n    }\n}\n\n// æä»¬å¯ä»¥æ ¹æ®ä¸è¿°æè·¯æ¥è§£å³æ¬é¢ãå·ä½å°ï¼æä»¬å®ä¹ä¸¤ä¸ªæéï¼\n// ä¸å¿«ä¸æ»¡ãæ¢æéæ¯æ¬¡åªç§»å¨ä¸æ­¥ï¼èå¿«æéæ¯æ¬¡ç§»å¨ä¸¤æ­¥ã\n// åå§æ¶ï¼æ¢æéå¨ä½ç½® headï¼èå¿«æéå¨ä½ç½® head.nextã\n// è¿æ ·ä¸æ¥ï¼å¦æå¨ç§»å¨çè¿ç¨ä¸­ï¼å¿«æéåè¿æ¥è¿½ä¸æ¢æéï¼\n// å°±è¯´æè¯¥é¾è¡¨ä¸ºç¯å½¢é¾è¡¨ãå¦åå¿«æéå°å°è¾¾é¾è¡¨å°¾é¨ï¼\n// è¯¥é¾è¡¨ä¸ä¸ºç¯å½¢é¾è¡¨ã\n\n\npublic class solution {\n    public boolean hascycle(listnode head) {\n        // èµ·å§ï¼fastãslow = head\n        // æ ¸å¿ï¼fast = fast.next.next;slow = slow.next;fast==slow?return true:fast\n        // ç»æ­¢ï¼fast!=null && fast.next!=null\n        if(head == null || head.next == null)return false; \n        listnode fast = head;\n        listnode slow = head;\n        while(fast != null && fast.next != null){\n            fast = fast.next.next;\n            slow = slow.next;\n            if(fast == slow){\n                return true;\n            }\n        }\n        return false;\n    }\n}\n\n\n\nclass solution {\n    public boolean wordbreak(string s, list<string> worddict) {\n        set<string> worddictset = new hashset(worddict);\n        boolean[] dp = new boolean[s.length() + 1];\n        dp[0] = true;\n        for (int i = 1; i <= s.length(); i++) {\n            for (int j = 0; j < i; j++) {\n                if (dp[j] && worddictset.contains(s.substring(j, i))) {\n                    dp[i] = true;\n                    break;\n                }\n            }\n        }\n        return dp[s.length()];\n    }\n}\n\n\n// slow * 2 = fast;\n// slow = a + b;\n// fast = a + b + c + b = a + 2*b + c;\n// (a + b)*2 = a + 2*b + c;\n// a = c;\n// å£å¤´è§£éå°±æ¯\n// å¿«éèµ°çæ¯æ¢éçä¸¤åã\n// æ¢éèµ°è¿çè·¯ï¼å¿«éèµ°è¿ä¸éã\n// å¿«éèµ°è¿çå©ä½è·¯ç¨ï¼ä¹å°±æ¯åæ¢éèµ°è¿çå¨é¨è·¯ç¨ç¸ç­ã(a+b = c+b)\n// å¨å»å¿«éè¿½èµ¶æ¢éçåå(b)ï¼å©ä½è·¯ç¨å³ä¸ºææ±å¥ç¯è·ç¦»(a=c)\n/**\n * definition for singly-linked list.\n * class listnode {\n *     int val;\n *     listnode next;\n *     listnode(int x) {\n *         val = x;\n *         next = null;\n *     }\n * }\n */\npublic class solution {\n    public listnode detectcycle(listnode head) {\n\n        if(head == null) {\n            return null;\n        }\n\n        listnode pre = head;\n        listnode fast = head;\n\n        while(fast != null) {\n\n            pre = pre.next;\n            if(fast.next != null) {\n                fast = fast.next.next;\n            } else {\n                return null;\n            }\n\n            // äºèéåå¿ç¶æç¯\n            if(pre == fast) {\n                listnode pr = head;\n                while (pr != pre) {\n                    pr = pr.next;\n                    pre = pre.next;\n                }\n                return pr;\n            }\n\n        }\n        return null;\n        \n    }\n}\n\n\n\nclass solution {\n    public int majorityelement(int[] nums) {\n        arrays.sort(nums);\n        return nums[nums.length / 2];\n    }\n}\n\n\nclass solution {\n    public int maxproduct(int[] nums) {\n\n        int max = integer.min_value;\n        int imax = 1;\n        int imin = 1;\n\n        for(int i = 0; i < nums.length; i++) {\n            if(nums[i] < 0) {\n\n                int temp = imax;\n                imax = imin;\n                imin = temp;\n            }\n            \n            imax = math.max(imax * nums[i], nums[i]);\n            imin = math.min(imin * nums[i], nums[i]);\n\n            max = math.max(max, imax);\n        }\n        return max;\n    }\n}\n\n\nclass solution {\n    public int numislands(char[][] grid) {\n\n        int m = grid.length;\n        int n = grid[0].length;\n        int count = 0;\n\n        for (int i = 0; i < m; i++) {\n            for (int j = 0; j < n; j++) {\n                if (grid[i][j] == '1') {\n                    count++;\n                    dfs(grid, i, j);\n                }\n            }\n        }\n        return count;\n\n    }\n\n    void dfs (char[][] grid, int i, int j) {\n        int m = grid.length;\n        int n = grid[0].length;\n\n        if(i < 0 || j < 0 || i >= m || j >= n || grid[i][j] == '0') {\n            return;\n        }\n\n        grid[i][j] = '0';\n        dfs(grid, i-1, j);\n        dfs(grid, i+1, j);\n        dfs(grid, i, j-1);\n        dfs(grid, i, j+1);\n    }\n}\n\n\n\n/**\n * definition for singly-linked list.\n * public class listnode {\n *     int val;\n *     listnode next;\n *     listnode() {}\n *     listnode(int val) { this.val = val; }\n *     listnode(int val, listnode next) { this.val = val; this.next = next; }\n * }\n */\nclass solution {\n    public listnode sortlist(listnode head) {\n        return sortlist(head, null);\n\n    }\n\n    public listnode sortlist(listnode head, listnode tail) {\n        if (head == null) {\n            return head;\n        }\n        if (head.next == tail) {\n            head.next = null;\n            return head;\n        }\n\n        listnode slow = head; // ç§»å¨å°ä¸­é´çå°æ¹\n        listnode fast = head;  // ç§»å¨å°å°¾é¨\n\n        while(fast != tail) {\n            slow = slow.next;\n            fast = fast.next;\n            if (fast != tail) {\n                fast = fast.next;\n            }\n        }\n\n        listnode mid = slow;\n        listnode list1 = sortlist(head, mid);\n        listnode list2 = sortlist(mid, tail);\n\n        listnode res = merge(list1, list2);\n        return res;\n    }\n\n    public listnode merge(listnode head1, listnode head2) {\n\n        listnode dyhead = new listnode(0);\n        \n        listnode temp = dyhead;\n        listnode temp1 = head1;\n        listnode temp2 = head2;\n\n        while(temp1 != null && temp2 != null) {\n            if(temp1.val < temp2.val) {\n                temp.next = temp1;\n                temp1 = temp1.next;\n            }\n            else {\n                temp.next = temp2;\n                temp2 = temp2.next;\n            }\n            temp = temp.next;\n        }\n        if (temp1 != null) {\n            temp.next = temp1;\n        }\n        if (temp2 != null) {\n            temp.next = temp2;\n        }\n\n        return dyhead.next;\n\n    }\n}\n\n\nclass minstack {\n    deque<integer> stack;\n    deque<integer> minstack;\n    public minstack() {\n        stack = new linkedlist<integer>();\n        minstack = new linkedlist<integer>();\n        minstack.push(integer.max_value);\n\n    }\n    \n    public void push(int val) {\n        stack.push(val);\n        minstack.push(math.min(val, minstack.peek()));\n    }\n    \n    public void pop() {\n        stack.pop();\n        minstack.pop();\n\n    }\n    \n    public int top() {\n        return stack.peek();\n\n    }\n    \n    public int getmin() {\n        return minstack.peek();\n\n    }\n}\n\n/**\n * your minstack object will be instantiated and called as such:\n * minstack obj = new minstack();\n * obj.push(val);\n * obj.pop();\n * int param_3 = obj.top();\n * int param_4 = obj.getmin();\n */\n\n\n\n\n\n/**\n * definition for singly-linked list.\n * public class listnode {\n *     int val;\n *     listnode next;\n *     listnode(int x) {\n *         val = x;\n *         next = null;\n *     }\n * }\n */\n\npublic class solution {\n    public listnode getintersectionnode(listnode heada, listnode headb) {\n\n        if(heada == null || headb == null) {\n            return null;\n        }\n\n        listnode pa = heada;\n        listnode pb = headb;\n        while(pa != pb) {\n\n            pa = pa == null ? headb : pa.next;\n            pb = pb == null ? heada : pb.next;\n\n        }\n        return pb;       \n    }\n}\n\n\nclass solution {\n    public int rob(int[] nums) {\n\n        int len = nums.length;\n        if (len == 1) {\n            return nums[0];\n        }\n        else {\n            int[] dp = new int[len];\n            dp[0] = nums[0];\n            dp[1] = math.max(nums[0], nums[1]);\n\n            for (int i = 2; i < len; i++) {\n                dp[i] = math.max(dp[i-2] + nums[i], dp[i-1]);\n            }\n            return dp[len - 1];\n        }\n\n    }\n}\n\n\n/**\n * definition for singly-linked list.\n * public class listnode {\n *     int val;\n *     listnode next;\n *     listnode() {}\n *     listnode(int val) { this.val = val; }\n *     listnode(int val, listnode next) { this.val = val; this.next = next; }\n * }\n */\nclass solution {\n    public listnode reverselist(listnode head) {\n        deque<listnode> stack = new linkedlist<listnode>();\n\n        listnode phead = head;\n\n        if (phead == null) {\n            return phead;\n        }\n\n        while (phead != null) {\n            stack.push(phead);\n            phead = phead.next;\n        }\n\n        listnode res = stack.pop();\n        listnode finalres = res;\n        while(!stack.isempty()) {\n            res.next = stack.pop();\n            res = res.next;\n        }\n        res.next = null;\n        return finalres;\n\n        \n    }\n}\n\n\n\n\n// ç¬¬äºç§æ¯åæé\nclass solution {\n    public listnode reverselist(listnode head) {\n        listnode prev = null;\n        listnode curr = head;\n        while (curr != null) {\n            listnode next = curr.next;\n            curr.next = prev;\n            prev = curr;\n            curr = next;\n        }\n        return prev;\n    }\n}\n\n\n\nclass solution {\n    public boolean canfinish(int numcourses, int[][] prerequisites) {\n        // å£°æå­å¨å¾ç»æçåé\n        list<list<integer>> graph = new arraylist<>();\n        for (int i = 0; i < numcourses; i++) {\n            graph.add(new arraylist<integer>());\n        }\n\n        int[] visited = new int[numcourses];\n\n        for(int i = 0; i < prerequisites.length; i++) {\n\n            int nowcourse = prerequisites[i][0];\n            int precourse = prerequisites[i][1];\n\n            // ä¸æ ä¸ºnowcourseçæ°ç»éé¢çåå®¹æ¯nowcourseçææåç½®è¯¾ç¨\n            graph.get(nowcourse).add(precourse);\n        }\n\n        // æ·±åº¦éå\n\n        for(int i = 0; i < numcourses; i++) {\n            if (dfs(graph, visited, i) == true) {\n                return false;\n            }\n        }\n        return true;\n\n    }\n\n    public boolean dfs(list<list<integer>> graph, int[] visited, int index) {\n        // 1ä»£è¡¨æ¬¡èç¹æ­£å¨è¢«è®¿é®, å¦ææ­£å¨è¢«è®¿é®çèç¹ï¼åæ¬¡è¢«è®¿é®ï¼åå­å¨ç¯ï¼æ æ³å®æè¯¾ç¨\n        if (visited[index] == 1) {\n            return true;\n        }\n        // 2ä»£è¡¨èç¹è¢«è®¿é®è¿ï¼æ éåæ¬¡è®¿é®\n        if (visited[index] == 2) {\n            return false;\n        }\n\n\n        // è®¾ç½®è¯¥è¯¾ç¨ä¸ºæ­£å¨è®¿é®çç¶æ\n        visited[index] = 1;\n\n        for (integer next : graph.get(index)) {\n\n            if (dfs(graph, visited, next) == true) {\n                return true;\n            }\n        }\n\n        // å½åè¯¾ç¨å·²ç»è¢«è®¿é®\n        visited[index] = 2;\n        return false;\n\n    }\n}\n\n\n/**\n * definition for singly-linked list.\n * public class listnode {\n *     int val;\n *     listnode next;\n *     listnode() {}\n *     listnode(int val) { this.val = val; }\n *     listnode(int val, listnode next) { this.val = val; this.next = next; }\n * }\n */\n\n\n// æ´ä¸ªæµç¨å¯ä»¥åä¸ºä»¥ä¸äºä¸ªæ­¥éª¤ï¼\n// æ¾å°ååé¨åé¾è¡¨çå°¾èç¹ã\n// åè½¬ååé¨åé¾è¡¨ã\n// å¤æ­æ¯å¦åæã\n// æ¢å¤é¾è¡¨ã\n// è¿åç»æã\n\nclass solution {\n    public boolean ispalindrome(listnode head) {\n\n        // æ¾å°ä¸­é´ä½ç½®åç»æä½ç½®\n        listnode slow = head;\n        listnode fast = head;\n\n\n        while (fast.next != null && fast.next.next != null) {\n            slow = slow.next;\n            fast = fast.next.next;\n        }\n\n        // åè½¬åé¢çæ°æ®\n        listnode middle = slow;\n\n        listnode secondhalfstart = reverselist(middle.next);\n\n        listnode p1 = head;\n        listnode p2 = secondhalfstart;\n\n        boolean result = true;\n\n        while (result && p2 != null) {\n            if (p1.val != p2.val) {\n                result = false;\n            }\n            p1 = p1.next;\n            p2 = p2.next;\n        }\n\n        middle.next = reverselist(secondhalfstart);\n        return result;\n\n    }\n\n\n    private listnode reverselist(listnode head) {\n        listnode prev = null;\n        listnode curr = head;\n        while (curr != null) {\n            listnode nexttemp = curr.next;\n            curr.next = prev;\n            prev = curr;\n            curr = nexttemp;\n        }\n        return prev;\n    }\n\n}\n\n\n\n/**\n     * éå½æ¹å¼éååè½¬\n     */\n    public treenode inverttree(treenode root) {\n        if (root == null) {\n            return null;\n        }\n\n        treenode temp = root.left;\n        root.left = root.right;\n        root.right = temp;\n\n        inverttree(root.left);\n        inverttree(root.right);\n        return root;\n    }\n\n    /**\n     * å±åºéåæ¹å¼åè½¬\n     */\n    public treenode inverttreebyqueue(treenode root) {\n        if (root == null) {\n            return null;\n        }\n        queue<treenode> queue = new arraydeque<>();\n        queue.offer(root);\n        while (!queue.isempty()) {\n            treenode node = queue.poll();\n            treenode temp = node.left;\n            node.left = node.right;\n            node.right = temp;\n            if (node.left != null) {\n                queue.offer(node.left);\n            }\n            if (node.right != null) {\n                queue.offer(node.right);\n            }\n        }\n        return root;\n    }\n\n\n\nclass node {\n    boolean is_end;\n    node[] son = new node[26];\n    node() {\n        is_end = false;\n        for (int i = 0; i < 26; i++) {\n            son[i] = null;\n        }\n    }\n}\n\n\nclass trie {\n\n    node root;\n\n    public trie() {\n        root = new node();\n    }\n    \n    public void insert(string word) {\n        node p = root;\n        for(int i = 0; i < word.length(); i++) {\n\n            int val = word.charat(i) - 'a';\n            if(p.son[val] == null) {\n                p.son[val] = new node();\n            }\n            p = p.son[val];\n        }\n        p.is_end = true;\n\n    }\n    \n    public boolean search(string word) {\n        node p = root;\n        for(int i = 0; i < word.length(); i++) {\n\n            int val = word.charat(i) - 'a';\n            if(p.son[val] == null) {\n                return false;\n            }\n            p = p.son[val];\n        }\n        return p.is_end;\n    }\n    \n    public boolean startswith(string prefix) {\n        node p = root;\n        for(int i = 0;i < prefix.length();i ++)\n        {\n            int u = prefix.charat(i) - 'a';\n            if(p.son[u] == null) return false;\n            p = p.son[u]; \n        }\n        return true;\n\n    }\n}\n\n/**\n * your trie object will be instantiated and called as such:\n * trie obj = new trie();\n * obj.insert(word);\n * boolean param_2 = obj.search(word);\n * boolean param_3 = obj.startswith(prefix);\n */\n\n\n// https://leetcode-cn.com/problems/kth-largest-element-in-an-array/\n// è¿ä¸ªé¢ç®å¯ä»¥éæ°åä¸ä¸\nclass solution {\n    public int findkthlargest(int[] nums, int k) {\n        arrays.sort(nums);\n        return nums[nums.length - k];\n    }\n}\n\n\n/**\n * definition for a binary tree node.\n * public class treenode {\n *     int val;\n *     treenode left;\n *     treenode right;\n *     treenode(int x) { val = x; }\n * }\n */\nclass solution {\n    map<integer, treenode> parent = new hashmap<integer, treenode>();\n    set<integer> visited = new hashset<integer>();\n\n    public void dfs(treenode root) {\n        if (root.left != null) {\n            parent.put(root.left.val, root);\n            dfs(root.left);\n        }\n        if (root.right != null) {\n            parent.put(root.right.val, root);\n            dfs(root.right);\n        }\n    }\n    public treenode lowestcommonancestor(treenode root, treenode p, treenode q) {\n        dfs(root);\n\n\n        // æ¾å°äºpçææç¶èç¹\n        while (p!=null) {\n            visited.add(p.val);\n            p = parent.get(p.val);\n        }\n\n        // æ ¹æ®pçèç¹å»æ¾qçèç¹\n        while(q!=null) {\n            if (visited.contains(q.val)) {\n                return q;\n            }\n            q = parent.get(q.val);\n        }\n        return null;\n        \n    }\n}\n\n\nclass solution {\n    public int[] productexceptself(int[] nums) {\n\n        // å·¦è¾¹çåä¹èµ·æ¥\n        int[] resultleft = new int[nums.length];\n        resultleft[0] = 1;\n        for(int i = 1; i < nums.length; i++) {\n            resultleft[i] = nums[i-1] * resultleft[i-1];\n        }\n\n        // å³è¾¹çä¹èµ·æ¥\n        int[] resultright = new int[nums.length];\n        resultright[nums.length-1] = 1;\n        for(int i = nums.length-2; i >= 0; i--) {\n            resultright[i] = nums[i+1] * resultright[i+1];\n        }\n\n        // å·¦å³ç¸ä¹\n        for(int i = 0; i < nums.length; i++) {\n            nums[i] = resultright[i] * resultleft[i];\n        }\n        return nums;\n\n    }\n}\n\n\n\nclass solution {\n    public boolean searchmatrix(int[][] matrix, int target) {\n\n\n\n        int m = matrix.length;\n        int n = matrix[0].length;\n\n        int i = 0;\n        int j = n - 1;\n\n        while (i < m && j >= 0) {\n\n            if (matrix[i][j] == target) {\n                return true;\n            }\n            else if (matrix[i][j] < target) {\n                i++;\n            }\n            else {\n                j--;\n            }\n        }\n        return false;\n        \n    }\n}\n\n\nclass solution {\n    public int[] dailytemperatures(int[] temperatures) {\n\n        int len = temperatures.length;\n        int [] result = new int[len];\n\n        deque<integer> temp = new linkedlist<integer>();\n\n        for (int i = 0; i < len; i++) {\n            int tempvalue = temperatures[i];\n            while (!temp.isempty() && tempvalue > temperatures[temp.peek()]) {\n                int pre = temp.pop();\n                result[pre] = i - pre;\n            }\n            temp.push(i);\n        }\n        return result;\n    }\n}\n\n\nclass solution {\n    public int countsubstrings(string s) {\n\n        int count = 0;\n        int len = s.length();\n\n        // i ç¨æ¥æ§å¶\n        for (int i = 0; i < 2 * len - 1; i++) {\n\n            int left = i / 2;\n            int right = i / 2 + i % 2;\n            while (left >= 0 && right < len && s.charat(left) == s.charat(right)) {\n                left--;\n                right++;\n                count++;\n            }\n        }\n        return count;\n\n    }\n}\n\n\nclass solution {\n    public list<integer> finddisappearednumbers(int[] nums) {\n        // æä»¬å¯ä»¥ç¨ä¸ä¸ªåå¸è¡¨è®°å½æ°ç» \\textit{nums}nums ä¸­çæ°å­ï¼ç±äºæ°å­èå´åå¨ [1,n][1,n] ä¸­ï¼è®°å½æ°å­åæä»¬åå©ç¨åå¸è¡¨æ£æ¥ [1,n][1,n] ä¸­çæ¯ä¸ä¸ªæ°æ¯å¦åºç°ï¼ä»èæ¾å°ç¼ºå¤±çæ°å­ã\n        // ç±äºæ°å­èå´åå¨ [1,n][1,n] ä¸­ï¼æä»¬ä¹å¯ä»¥ç¨ä¸ä¸ªé¿åº¦ä¸º nn çæ°ç»æ¥ä»£æ¿åå¸è¡¨ãè¿ä¸åæ³çç©ºé´å¤æåº¦æ¯ o(n)o(n) çãæä»¬çç®æ æ¯ä¼åç©ºé´å¤æåº¦å° o(1)o(1)ã\n        // æ³¨æå° \\textit{nums}nums çé¿åº¦æ°å¥½ä¹ä¸º nnï¼è½å¦è®© \\textit{nums}nums åå½åå¸è¡¨å¢ï¼\n        // ç±äº \\textit{nums}nums çæ°å­èå´åå¨ [1,n][1,n] ä¸­ï¼æä»¬å¯ä»¥å©ç¨è¿ä¸èå´ä¹å¤çæ°å­ï¼æ¥è¡¨è¾¾ãæ¯å¦å­å¨ãçå«ä¹ã\n        // å·ä½æ¥è¯´ï¼éå \\textit{nums}numsï¼æ¯éå°ä¸ä¸ªæ° xxï¼å°±è®© \\textit{nums}[x-1]nums[xâ1] å¢å  nnã\n        // ç±äº \\textit{nums}nums ä¸­æææ°åå¨ [1,n][1,n] ä¸­ï¼å¢å ä»¥åï¼è¿äºæ°å¿ç¶å¤§äº nnãæåæä»¬éå \\textit{nums}numsï¼è¥ \\textit{nums}[i]nums[i] æªå¤§äº nnï¼å°±è¯´ææ²¡æéå°è¿æ° i+1i+1ã\n        // è¿æ ·æä»¬å°±æ¾å°äºç¼ºå¤±çæ°å­ã\n        // æ³¨æï¼å½æä»¬éåå°æä¸ªä½ç½®æ¶ï¼å¶ä¸­çæ°å¯è½å·²ç»è¢«å¢å è¿ï¼å æ­¤éè¦å¯¹ nn åæ¨¡æ¥è¿ååºå®æ¬æ¥çå¼ã\n        int len  = nums.length;\n        for (int i = 0; i < len; i++) {\n            int x = (nums[i] - 1) % len;\n            nums[x] = nums[x] + len;\n        }\n\n        list<integer> result = new arraylist<integer>();\n        for (int i = 0; i < len; i++) {\n            if (nums[i] <= len) {\n                result.add(i+1);\n            }\n        }\n        return result;\n\n\n    }\n}\n\n\n// å¨é»ç¼ç®æ³è½åæ¶ï¼éå¤é è½®å­æ¯ä¸å¯é¿åçï¼ä¹æ¯åºå½çãå æ­¤è¯»èä»¬ä¹éè¦å°è¯ä½¿ç¨åç§æ¹æ³èªå·±å®ç°å ä¸ªå·æä½è®¡æ°åè½çå½æ°ãæ¬æ¹æ³å°ä½¿ç¨ä½è¿ç®ä¸­ç§»ä½çæä½å®ç°ä½è®¡æ°åè½ã\n\n// å·ä½å°ï¼è®° s = x \\oplus ys=xâyï¼æä»¬å¯ä»¥ä¸æ­å°æ£æ¥ ss çæä½ä½ï¼å¦ææä½ä½ä¸º 11ï¼é£ä¹ä»¤è®¡æ°å¨å ä¸ï¼ç¶åæä»¬ä»¤ ss æ´ä½å³ç§»ä¸ä½ï¼è¿æ · ss çæä½ä½å°è¢«èå»ï¼åæ¬çæ¬¡ä½ä½å°±åæäºæ°çæä½ä½ãæä»¬éå¤è¿ä¸ªè¿ç¨ç´å° s=0s=0 ä¸ºæ­¢ãè¿æ ·è®¡æ°å¨ä¸­å°±ç´¯è®¡äº ss çäºè¿å¶è¡¨ç¤ºä¸­ 11 çæ°éã\n\nclass solution {\n    // å·ä½å°ï¼è®° s = x \\oplus ys=xâyï¼æä»¬å¯ä»¥ä¸æ­å°æ£æ¥ ss çæä½ä½ï¼å¦ææä½ä½ä¸º 11ï¼é£ä¹ä»¤è®¡æ°å¨å ä¸ï¼ç¶åæä»¬ä»¤ ss æ´ä½å³ç§»ä¸ä½ï¼è¿æ · ss çæä½ä½å°è¢«èå»ï¼åæ¬çæ¬¡ä½ä½å°±åæäºæ°çæä½ä½ãæä»¬éå¤è¿ä¸ªè¿ç¨ç´å° s=0s=0 ä¸ºæ­¢ãè¿æ ·è®¡æ°å¨ä¸­å°±ç´¯è®¡äº ss çäºè¿å¶è¡¨ç¤ºä¸­ 11 çæ°éã\n\n    public int hammingdistance(int x, int y) {\n\n        // å¼ææä½\n        int s = x ^ y;\n\n        // ç»è®¡ç»æ\n        int count = 0;\n        while (s != 0) {\n            // ç»è®¡ä¸ªæ°\n            count += s & 1;\n            // åå³ç§»1ä½\n            s >>= 1;\n        }\n        return count;\n\n\n    }\n}\n\n\n``java class solution { int count = 0; public int findtargetsumways(int[] nums, int target) { subsum(nums, target, 0, 0); return count; }\n\npublic void subsum(int[] nums, int target, int index, int sub) {\n    if (index == nums.length) {\n        if (target == sub) {\n            count++;\n        }\n    }\n    else {\n        subsum(nums, target, index+1, sub+nums[index]);\n        subsum(nums, target, index+1, sub-nums[index]);\n    }\n\n}\n\n\n}\n\n\n```java\n/**\n * definition for a binary tree node.\n * public class treenode {\n *     int val;\n *     treenode left;\n *     treenode right;\n *     treenode() {}\n *     treenode(int val) { this.val = val; }\n *     treenode(int val, treenode left, treenode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass solution {\n    int sum = 0;\n    public treenode convertbst(treenode root) {\n\n        if (root != null) {\n            convertbst(root.right);\n            sum = sum + root.val;\n            root.val = sum;\n            convertbst(root.left);\n        }\n        return root;\n\n    }\n}\n\n\n/**\n * definition for a binary tree node.\n * public class treenode {\n *     int val;\n *     treenode left;\n *     treenode right;\n *     treenode() {}\n *     treenode(int val) { this.val = val; }\n *     treenode(int val, treenode left, treenode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass solution {\n    int result;\n    public int diameterofbinarytree(treenode root) {\n        result = 1;\n        dfs(root);\n        return result - 1;\n    }\n    public int dfs( treenode root) {\n        if (root == null) {\n            return 0;\n        }\n        int leftlength = dfs(root.left); // å·¦èç¹æ·±åº¦\n        int rightlength = dfs(root.right); // å³èç¹æ·±åº¦\n        result = math.max(result, rightlength + leftlength + 1); // æ´æ°ç»æ\n\n        return math.max(leftlength ,rightlength) + 1;\n\n    }\n}\n\n\n/**\n * definition for a binary tree node.\n * public class treenode {\n *     int val;\n *     treenode left;\n *     treenode right;\n *     treenode() {}\n *     treenode(int val) { this.val = val; }\n *     treenode(int val, treenode left, treenode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass solution {\n    public treenode mergetrees(treenode root1, treenode root2) {\n\n        if(root1 == null) {\n            return root2;\n        }\n        if(root2 == null) {\n            return root1;\n        }\n\n        treenode merged = new treenode(root1.val + root2.val);\n        merged.left = mergetrees(root1.left, root2.left);\n        merged.right = mergetrees(root1.right, root2.right);\n        return merged;\n\n    }\n}\n\n\nclass solution {\n    public int subarraysum(int[] nums, int k) {\n\n        int pre = 0;\n        int count = 0;\n        hashmap<integer, integer> mp = new hashmap<>();\n        mp.put(0, 1);\n\n        for(int i = 0; i < nums.length; i++) {\n            pre = pre + nums[i];\n            // å¤æ­æ¯å¦å­å¨\n            if (mp.containskey(pre-k)) {\n                count = count + mp.get(pre-k);\n            }\n            // getordefault(object key, v defaultvalue)\n            // mapéåä¸­æè¿ä¸ªkeyæ¶ï¼å°±ä½¿ç¨è¿ä¸ªkeyå¯¹åºçvalueå¼\n            // å¦ææ²¡æå°±ä½¿ç¨é»è®¤å¼defaultvalue\n            mp.put(pre, mp.getordefault(pre, 0) + 1);\n        }\n        return count;\n\n    }\n}\n\n\nclass solution {\n    // è®²è§£\n    public int leastinterval(char[] tasks, int n) {\n\n        // ç»è®¡æ¯ä¸ªå­ç¬¦åºç°çä¸ªæ°\n        int[] arr = new int[26];\n        for(int i = 0; i < tasks.length; i++) {\n            arr[tasks[i] - 'a']++;\n        }\n\n        // æ¾å°åºç°å­æ°æå¤çå­ç¬¦\n        int maxcount = 0;\n        for(int i = 0; i < 26; i++) {\n            maxcount = math.max(maxcount, arr[i]);\n        }\n\n        // åmaxcount-1è¡\n        int ret = (maxcount - 1) * (n + 1);\n        for (int i = 0; i < 26; i++) {\n\n            // è®¡ç®ç¬¬maxcountè¡\n            if (arr[i] == maxcount) {\n                ret++;\n            }\n        }\n        // ä¸æ¦åæ°è¶è¿n+1å°±ç´æ¥åæ°ç»çé¿åº¦æå¤§å¼\n        return math.max(ret, tasks.length);\n    }\n} \n\n\nclass solution {\n    public list<integer> findanagrams(string s, string p) {\n        // å¨ç®æ³çå®ç°ä¸­ï¼æä»¬å¯ä»¥ä½¿ç¨æ°ç»æ¥å­å¨å­ç¬¦ä¸² pp åæ»å¨çªå£ä¸­æ¯ç§å­æ¯çæ°éã\n        int slength = s.length();\n        int plength = p.length();\n\n        if (slength < plength) {\n            return new arraylist<integer>();\n        }\n\n\n        list<integer> slieder = new arraylist<integer>();\n    \n        int[] scount = new int[26];\n        int[] pcount = new int[26];\n    \n        // æ¯è¾ç¬¬ä¸ä¸ªçªå£\n        for(int i = 0; i < plength; i++) {\n            scount[s.charat(i) - 'a']++;\n            pcount[p.charat(i) - 'a']++;\n        }\n    \n        if (arrays.equals(scount, pcount)) {\n            slieder.add(0);\n        }\n    \n        // åé¢å¶ä»çªå£\n        for (int i = 0; i < slength - plength; i++) {\n            scount[s.charat(i) - 'a']--;\n            scount[s.charat(i + plength) - 'a']++;\n            if (arrays.equals(scount, pcount)) {\n                slieder.add(i + 1);\n            }\n    \n        }\n        return slieder;\n\n\n    }\n}\n\n\n/**\n * definition for a binary tree node.\n * public class treenode {\n *     int val;\n *     treenode left;\n *     treenode right;\n *     treenode() {}\n *     treenode(int val) { this.val = val; }\n *     treenode(int val, treenode left, treenode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass solution {\n    public int pathsum(treenode root, int targetsum) {\n        if (root == null) {\n            return 0;\n        }\n        int res = dfs(root, targetsum);\n        res += pathsum(root.left, targetsum); // è¿éä¸æ¯dfs,èæ¯pathsum\n        res += pathsum(root.right, targetsum);\n        return res;\n    }\n\n\n    public int dfs(treenode root, int targetsum) {\n        int result = 0;\n        if (root == null) {\n            return 0;\n        }\n\n        if (root.val == targetsum) {\n            result++;\n        } \n        result += dfs(root.left, targetsum - root.val);\n        result += dfs(root.right, targetsum - root.val);\n        return result;\n    }\n}\n\n\nclass solution {\n    public int[][] reconstructqueue(int[][] people) {\n\n        // å°æ¯ä¸ªäººæç§èº«é«ä»å¤§å°å°è¿è¡æåºï¼å¤çèº«é«ç¸åçäººä½¿ç¨çæ¹æ³ç±»ä¼¼\n        arrays.sort(people, new comparator<int[]>() {\n            public int compare(int[] person1, int[] person2) {\n                if (person1[0] != person2[0]) {\n                    return person2[0] - person1[0];\n                } else {\n                    return person1[1] - person2[1];\n                }\n            }\n        });\n\n        list<int[]> result = new arraylist<int[]>();\n        // å¤ä¹ listæ¹æ³\n        for(int[] person : people) {\n            //\n            result.add(person[1], person);\n        }\n\n        return result.toarray(new int[result.size()][]);\n\n    }\n}\n\n\nå®å¨å¹³æ¹æ°\nclass solution {\n    public int numsquares(int n) {\n        int[] res = new int[n+1];\n        for (int i = 1; i <= n; i++) {\n            int minn = integer.max_value;\n            for(int j = 1; j * j <= i; j++) {\n                minn = math.min(minn, res[i- j * j]);\n            }\n            res[i] = minn + 1;\n        }\n        return res[n];\n    }\n    \n}\n\n\nclass solution {\n    // https://leetcode.cn/problems/coin-change/solution/dong-tai-gui-hua-tao-lu-xiang-jie-by-wei-lai-bu-ke/\n    // èåé®é¢\n    public int coinchange(int[] coins, int amount) {\n        int max = amount + 1;\n        int[] dp = new int[amount + 1];\n        arrays.fill(dp,max);\n        dp[0] = 0;\n        for (int i = 1; i <= amount; i++) {\n\n            for (int j = 0; j < coins.length; j++) {\n\n                // ç¡¬å¸é¢å¼æ­¤æ¶å¤§äºiå®å¨æ²¡æå¤æ­çå¿è¦\n                if (coins[j] <= i) {\n                    dp[i] = math.min(dp[i], dp[i - coins[j]] + 1);\n                }\n            }\n        }\n        return dp[amount] > amount? -1 :dp[amount];\n\n    }\n\n\n}\n",charsets:{cjk:!0}},{title:"IO",frontmatter:{title:"IO",permalink:"/basis/001/",categories:["Java","åºç¡"],tags:["Java"],date:"2021-07-20T00:00:00.000Z"},regularPath:"/04.Java/01.%E5%9F%BA%E7%A1%80/01.IO.html",relativePath:"04.Java/01.åºç¡/01.IO.md",key:"v-2a9abdfa",path:"/basis/001/",headers:[{level:2,title:"I/O",slug:"i-o",normalizedTitle:"i/o",charIndex:2},{level:3,title:"ä½ä¸º I/O?",slug:"ä½ä¸º-i-o",normalizedTitle:"ä½ä¸º i/o?",charIndex:10},{level:3,title:"æåªäºå¸¸è§ç IO æ¨¡å?",slug:"æåªäºå¸¸è§ç-io-æ¨¡å",normalizedTitle:"æåªäºå¸¸è§ç io æ¨¡å?",charIndex:820},{level:2,title:"Java ä¸­ 3 ç§å¸¸è§ IO æ¨¡å",slug:"java-ä¸­-3-ç§å¸¸è§-io-æ¨¡å",normalizedTitle:"java ä¸­ 3 ç§å¸¸è§ io æ¨¡å",charIndex:932},{level:3,title:"BIO (Blocking I/O)",slug:"bio-blocking-i-o",normalizedTitle:"bio (blocking i/o)",charIndex:955},{level:3,title:"NIO (Non-blocking/New I/O)",slug:"nio-non-blocking-new-i-o",normalizedTitle:"nio (non-blocking/new i/o)",charIndex:1142},{level:3,title:"AIO (Asynchronous I/O)",slug:"aio-asynchronous-i-o",normalizedTitle:"aio (asynchronous i/o)",charIndex:2106},{level:2,title:"Reference",slug:"reference",normalizedTitle:"reference",charIndex:2392}],headersStr:"I/O ä½ä¸º I/O? æåªäºå¸¸è§ç IO æ¨¡å? Java ä¸­ 3 ç§å¸¸è§ IO æ¨¡å BIO (Blocking I/O) NIO (Non-blocking/New I/O) AIO (Asynchronous I/O) Reference",content:"# I/O\n\n\n# ä½ä¸º I/O?\n\nI/Oï¼Input/Outpuï¼ å³è¾å¥ï¼è¾åº ã\n\næä»¬åä»è®¡ç®æºç»æçè§åº¦æ¥è§£è¯»ä¸ä¸ I/Oã\n\næ ¹æ®å¯.è¯ºä¾æ¼ç»æï¼è®¡ç®æºç»æåä¸º 5 å¤§é¨åï¼è¿ç®å¨ãæ§å¶å¨ãå­å¨å¨ãè¾å¥è®¾å¤ãè¾åºè®¾å¤ã\n\n\n\nè¾å¥è®¾å¤ï¼æ¯å¦é®çï¼åè¾åºè®¾å¤ï¼æ¯å¦æ¾ç¤ºå¨ï¼é½å±äºå¤é¨è®¾å¤ãç½å¡ãç¡¬çè¿ç§æ¢å¯ä»¥å±äºè¾å¥è®¾å¤ï¼ä¹å¯ä»¥å±äºè¾åºè®¾å¤ã\n\nè¾å¥è®¾å¤åè®¡ç®æºè¾å¥æ°æ®ï¼è¾åºè®¾å¤æ¥æ¶è®¡ç®æºè¾åºçæ°æ®ã\n\nä»è®¡ç®æºç»æçè§è§æ¥ççè¯ï¼ I/O æè¿°äºè®¡ç®æºç³»ç»ä¸å¤é¨è®¾å¤ä¹é´éä¿¡çè¿ç¨ã\n\næä»¬ååä»åºç¨ç¨åºçè§åº¦æ¥è§£è¯»ä¸ä¸ I/Oã\n\næ ¹æ®å¤§å­¦éå­¦å°çæä½ç³»ç»ç¸å³çç¥è¯ï¼ä¸ºäºä¿è¯æä½ç³»ç»çç¨³å®æ§åå®å¨æ§ï¼ä¸ä¸ªè¿ç¨çå°åç©ºé´ååä¸º ç¨æ·ç©ºé´ï¼User spaceï¼ å åæ ¸ç©ºé´ï¼Kernel space ï¼ ã\n\nåæä»¬å¹³å¸¸è¿è¡çåºç¨ç¨åºé½æ¯è¿è¡å¨ç¨æ·ç©ºé´ï¼åªæåæ ¸ç©ºé´æè½è¿è¡ç³»ç»æçº§å«çèµæºæå³çæä½ï¼æ¯å¦æä»¶ç®¡çãè¿ç¨éä¿¡ãåå­ç®¡çç­ç­ãä¹å°±æ¯è¯´ï¼æä»¬æ³è¦è¿è¡ IO æä½ï¼ä¸å®æ¯è¦ä¾èµåæ ¸ç©ºé´çè½åã\n\nå¹¶ä¸ï¼ç¨æ·ç©ºé´çç¨åºä¸è½ç´æ¥è®¿é®åæ ¸ç©ºé´ã\n\nå½æ³è¦æ§è¡ IO æä½æ¶ï¼ç±äºæ²¡ææ§è¡è¿äºæä½çæéï¼åªè½åèµ·ç³»ç»è°ç¨è¯·æ±æä½ç³»ç»å¸®å¿å®æã\n\nå æ­¤ï¼ç¨æ·è¿ç¨æ³è¦æ§è¡ IO æä½çè¯ï¼å¿é¡»éè¿ ç³»ç»è°ç¨ æ¥é´æ¥è®¿é®åæ ¸ç©ºé´\n\næä»¬å¨å¹³å¸¸å¼åè¿ç¨ä¸­æ¥è§¦æå¤çå°±æ¯ ç£ç IOï¼è¯»åæä»¶ï¼ å ç½ç» IOï¼ç½ç»è¯·æ±åååºï¼ã\n\nä»åºç¨ç¨åºçè§è§æ¥ççè¯ï¼æä»¬çåºç¨ç¨åºå¯¹æä½ç³»ç»çåæ ¸åèµ· IO è°ç¨ï¼ç³»ç»è°ç¨ï¼ï¼æä½ç³»ç»è´è´£çåæ ¸æ§è¡å·ä½ç IO æä½ãä¹å°±æ¯è¯´ï¼æä»¬çåºç¨ç¨åºå®éä¸åªæ¯åèµ·äº IO æä½çè°ç¨èå·²ï¼å·ä½ IO çæ§è¡æ¯ç±æä½ç³»ç»çåæ ¸æ¥å®æçã\n\nå½åºç¨ç¨åºåèµ· I/O è°ç¨åï¼ä¼ç»åä¸¤ä¸ªæ­¥éª¤ï¼\n\n 1. åæ ¸ç­å¾ I/O è®¾å¤åå¤å¥½æ°æ®\n 2. åæ ¸å°æ°æ®ä»åæ ¸ç©ºé´æ·è´å°ç¨æ·ç©ºé´ã\n\n\n# æåªäºå¸¸è§ç IO æ¨¡å?\n\nUNIX ç³»ç»ä¸ï¼ IO æ¨¡åä¸å±æ 5 ç§ï¼ åæ­¥é»å¡ I/Oãåæ­¥éé»å¡ I/OãI/O å¤è·¯å¤ç¨ãä¿¡å·é©±å¨ I/O åå¼æ­¥ I/Oã\n\nè¿ä¹æ¯æä»¬ç»å¸¸æå°ç 5 ç§ IO æ¨¡åã\n\n\n# Java ä¸­ 3 ç§å¸¸è§ IO æ¨¡å\n\n\n# BIO (Blocking I/O)\n\nBIO å±äºåæ­¥é»å¡ IO æ¨¡å ã\n\nåæ­¥é»å¡ IO æ¨¡åä¸­ï¼åºç¨ç¨åºåèµ· read è°ç¨åï¼ä¼ä¸ç´é»å¡ï¼ç´å°åæ ¸ææ°æ®æ·è´å°ç¨æ·ç©ºé´ã\n\n\n\nå¨å®¢æ·ç«¯è¿æ¥æ°éä¸é«çæåµä¸ï¼æ¯æ²¡é®é¢çãä½æ¯ï¼å½é¢å¯¹åä¸çè³ç¾ä¸çº§è¿æ¥çæ¶åï¼ä¼ ç»ç BIO æ¨¡åæ¯æ è½ä¸ºåçãå æ­¤ï¼æä»¬éè¦ä¸ç§æ´é«æç I/O å¤çæ¨¡åæ¥åºå¯¹æ´é«çå¹¶åéã\n\n\n# NIO (Non-blocking/New I/O)\n\nJava ä¸­ç NIO äº Java 1.4 ä¸­å¼å¥ï¼å¯¹åº java.nio åï¼æä¾äº Channel , Selectorï¼Buffer ç­æ½è±¡ãNIO ä¸­ç N å¯ä»¥çè§£ä¸º Non-blockingï¼ä¸åçº¯æ¯ Newãå®æ¯æ¯æé¢åç¼å²çï¼åºäºééç I/O æä½æ¹æ³ã å¯¹äºé«è´è½½ãé«å¹¶åçï¼ç½ç»ï¼åºç¨ï¼åºä½¿ç¨ NIO ã\n\nJava ä¸­ç NIO å¯ä»¥çä½æ¯ I/O å¤è·¯å¤ç¨æ¨¡åãä¹æå¾å¤äººè®¤ä¸ºï¼Java ä¸­ç NIO å±äºåæ­¥éé»å¡ IO æ¨¡åã\n\nè·çæçæè·¯å¾ä¸ççï¼ç¸ä¿¡ä½ ä¼å¾å°ç­æ¡ï¼\n\næä»¬åæ¥çç åæ­¥éé»å¡ IO æ¨¡åã\n\n\n\nåæ­¥éé»å¡ IO æ¨¡åä¸­ï¼åºç¨ç¨åºä¼ä¸ç´åèµ· read è°ç¨ï¼ç­å¾æ°æ®ä»åæ ¸ç©ºé´æ·è´å°ç¨æ·ç©ºé´çè¿æ®µæ¶é´éï¼çº¿ç¨ä¾ç¶æ¯é»å¡çï¼ç´å°å¨åæ ¸ææ°æ®æ·è´å°ç¨æ·ç©ºé´ã\n\nç¸æ¯äºåæ­¥é»å¡ IO æ¨¡åï¼åæ­¥éé»å¡ IO æ¨¡åç¡®å®æäºå¾å¤§æ¹è¿ãéè¿è½®è¯¢æä½ï¼é¿åäºä¸ç´é»å¡ã\n\nä½æ¯ï¼è¿ç§ IO æ¨¡ååæ ·å­å¨é®é¢ï¼åºç¨ç¨åºä¸æ­è¿è¡ I/O ç³»ç»è°ç¨è½®è¯¢æ°æ®æ¯å¦å·²ç»åå¤å¥½çè¿ç¨æ¯ååæ¶è CPU èµæºçã\n\nè¿ä¸ªæ¶åï¼I/O å¤è·¯å¤ç¨æ¨¡å å°±ä¸åºäºã\n\n\n\nIO å¤è·¯å¤ç¨æ¨¡åä¸­ï¼çº¿ç¨é¦ååèµ· select è°ç¨ï¼è¯¢é®åæ ¸æ°æ®æ¯å¦åå¤å°±ç»ªï¼ç­åæ ¸ææ°æ®åå¤å¥½äºï¼ç¨æ·çº¿ç¨ååèµ· read è°ç¨ãread è°ç¨çè¿ç¨ï¼æ°æ®ä»åæ ¸ç©ºé´ -> ç¨æ·ç©ºé´ï¼è¿æ¯é»å¡çã\n\n> ç®åæ¯æ IO å¤è·¯å¤ç¨çç³»ç»è°ç¨ï¼æ selectï¼epoll ç­ç­ãselect ç³»ç»è°ç¨ï¼ç®åå ä¹å¨ææçæä½ç³»ç»ä¸é½ææ¯æã\n> \n>  * select è°ç¨ ï¼åæ ¸æä¾çç³»ç»è°ç¨ï¼å®æ¯æä¸æ¬¡æ¥è¯¢å¤ä¸ªç³»ç»è°ç¨çå¯ç¨ç¶æãå ä¹ææçæä½ç³»ç»é½æ¯æã\n>  * epoll è°ç¨ ï¼linux 2.6 åæ ¸ï¼å±äº select è°ç¨çå¢å¼ºçæ¬ï¼ä¼åäº IO çæ§è¡æçã\n\nIO å¤è·¯å¤ç¨æ¨¡åï¼éè¿åå°æ æçç³»ç»è°ç¨ï¼åå°äºå¯¹ CPU èµæºçæ¶èã\n\nJava ä¸­ç NIO ï¼æä¸ä¸ªéå¸¸éè¦çéæ©å¨ ( Selector ) çæ¦å¿µï¼ä¹å¯ä»¥è¢«ç§°ä¸º å¤è·¯å¤ç¨å¨ãéè¿å®ï¼åªéè¦ä¸ä¸ªçº¿ç¨ä¾¿å¯ä»¥ç®¡çå¤ä¸ªå®¢æ·ç«¯è¿æ¥ãå½å®¢æ·ç«¯æ°æ®å°äºä¹åï¼æä¼ä¸ºå¶æå¡ã\n\n\n\n\n# AIO (Asynchronous I/O)\n\nAIO ä¹å°±æ¯ NIO 2ãJava 7 ä¸­å¼å¥äº NIO çæ¹è¿ç NIO 2,å®æ¯å¼æ­¥ IO æ¨¡åã\n\nå¼æ­¥ IO æ¯åºäºäºä»¶ååè°æºå¶å®ç°çï¼ä¹å°±æ¯åºç¨æä½ä¹åä¼ç´æ¥è¿åï¼ä¸ä¼å µå¡å¨é£éï¼å½åå°å¤çå®æï¼æä½ç³»ç»ä¼éç¥ç¸åºççº¿ç¨è¿è¡åç»­çæä½ã\n\n\n\nç®åæ¥è¯´ AIO çåºç¨è¿ä¸æ¯å¾å¹¿æ³ãNetty ä¹åä¹å°è¯ä½¿ç¨è¿ AIOï¼ä¸è¿åæ¾å¼äºãè¿æ¯å ä¸ºï¼Netty ä½¿ç¨äº AIO ä¹åï¼å¨ Linux ç³»ç»ä¸çæ§è½å¹¶æ²¡æå¤å°æåã\n\næåï¼æ¥ä¸å¼ å¾ï¼ç®åæ»ç»ä¸ä¸ Java ä¸­ç BIOãNIOãAIOã\n\n\n\n\n# Reference\n\n * https://javaguide.cn/",normalizedContent:"# i/o\n\n\n# ä½ä¸º i/o?\n\ni/oï¼input/outpuï¼ å³è¾å¥ï¼è¾åº ã\n\næä»¬åä»è®¡ç®æºç»æçè§åº¦æ¥è§£è¯»ä¸ä¸ i/oã\n\næ ¹æ®å¯.è¯ºä¾æ¼ç»æï¼è®¡ç®æºç»æåä¸º 5 å¤§é¨åï¼è¿ç®å¨ãæ§å¶å¨ãå­å¨å¨ãè¾å¥è®¾å¤ãè¾åºè®¾å¤ã\n\n\n\nè¾å¥è®¾å¤ï¼æ¯å¦é®çï¼åè¾åºè®¾å¤ï¼æ¯å¦æ¾ç¤ºå¨ï¼é½å±äºå¤é¨è®¾å¤ãç½å¡ãç¡¬çè¿ç§æ¢å¯ä»¥å±äºè¾å¥è®¾å¤ï¼ä¹å¯ä»¥å±äºè¾åºè®¾å¤ã\n\nè¾å¥è®¾å¤åè®¡ç®æºè¾å¥æ°æ®ï¼è¾åºè®¾å¤æ¥æ¶è®¡ç®æºè¾åºçæ°æ®ã\n\nä»è®¡ç®æºç»æçè§è§æ¥ççè¯ï¼ i/o æè¿°äºè®¡ç®æºç³»ç»ä¸å¤é¨è®¾å¤ä¹é´éä¿¡çè¿ç¨ã\n\næä»¬ååä»åºç¨ç¨åºçè§åº¦æ¥è§£è¯»ä¸ä¸ i/oã\n\næ ¹æ®å¤§å­¦éå­¦å°çæä½ç³»ç»ç¸å³çç¥è¯ï¼ä¸ºäºä¿è¯æä½ç³»ç»çç¨³å®æ§åå®å¨æ§ï¼ä¸ä¸ªè¿ç¨çå°åç©ºé´ååä¸º ç¨æ·ç©ºé´ï¼user spaceï¼ å åæ ¸ç©ºé´ï¼kernel space ï¼ ã\n\nåæä»¬å¹³å¸¸è¿è¡çåºç¨ç¨åºé½æ¯è¿è¡å¨ç¨æ·ç©ºé´ï¼åªæåæ ¸ç©ºé´æè½è¿è¡ç³»ç»æçº§å«çèµæºæå³çæä½ï¼æ¯å¦æä»¶ç®¡çãè¿ç¨éä¿¡ãåå­ç®¡çç­ç­ãä¹å°±æ¯è¯´ï¼æä»¬æ³è¦è¿è¡ io æä½ï¼ä¸å®æ¯è¦ä¾èµåæ ¸ç©ºé´çè½åã\n\nå¹¶ä¸ï¼ç¨æ·ç©ºé´çç¨åºä¸è½ç´æ¥è®¿é®åæ ¸ç©ºé´ã\n\nå½æ³è¦æ§è¡ io æä½æ¶ï¼ç±äºæ²¡ææ§è¡è¿äºæä½çæéï¼åªè½åèµ·ç³»ç»è°ç¨è¯·æ±æä½ç³»ç»å¸®å¿å®æã\n\nå æ­¤ï¼ç¨æ·è¿ç¨æ³è¦æ§è¡ io æä½çè¯ï¼å¿é¡»éè¿ ç³»ç»è°ç¨ æ¥é´æ¥è®¿é®åæ ¸ç©ºé´\n\næä»¬å¨å¹³å¸¸å¼åè¿ç¨ä¸­æ¥è§¦æå¤çå°±æ¯ ç£ç ioï¼è¯»åæä»¶ï¼ å ç½ç» ioï¼ç½ç»è¯·æ±åååºï¼ã\n\nä»åºç¨ç¨åºçè§è§æ¥ççè¯ï¼æä»¬çåºç¨ç¨åºå¯¹æä½ç³»ç»çåæ ¸åèµ· io è°ç¨ï¼ç³»ç»è°ç¨ï¼ï¼æä½ç³»ç»è´è´£çåæ ¸æ§è¡å·ä½ç io æä½ãä¹å°±æ¯è¯´ï¼æä»¬çåºç¨ç¨åºå®éä¸åªæ¯åèµ·äº io æä½çè°ç¨èå·²ï¼å·ä½ io çæ§è¡æ¯ç±æä½ç³»ç»çåæ ¸æ¥å®æçã\n\nå½åºç¨ç¨åºåèµ· i/o è°ç¨åï¼ä¼ç»åä¸¤ä¸ªæ­¥éª¤ï¼\n\n 1. åæ ¸ç­å¾ i/o è®¾å¤åå¤å¥½æ°æ®\n 2. åæ ¸å°æ°æ®ä»åæ ¸ç©ºé´æ·è´å°ç¨æ·ç©ºé´ã\n\n\n# æåªäºå¸¸è§ç io æ¨¡å?\n\nunix ç³»ç»ä¸ï¼ io æ¨¡åä¸å±æ 5 ç§ï¼ åæ­¥é»å¡ i/oãåæ­¥éé»å¡ i/oãi/o å¤è·¯å¤ç¨ãä¿¡å·é©±å¨ i/o åå¼æ­¥ i/oã\n\nè¿ä¹æ¯æä»¬ç»å¸¸æå°ç 5 ç§ io æ¨¡åã\n\n\n# java ä¸­ 3 ç§å¸¸è§ io æ¨¡å\n\n\n# bio (blocking i/o)\n\nbio å±äºåæ­¥é»å¡ io æ¨¡å ã\n\nåæ­¥é»å¡ io æ¨¡åä¸­ï¼åºç¨ç¨åºåèµ· read è°ç¨åï¼ä¼ä¸ç´é»å¡ï¼ç´å°åæ ¸ææ°æ®æ·è´å°ç¨æ·ç©ºé´ã\n\n\n\nå¨å®¢æ·ç«¯è¿æ¥æ°éä¸é«çæåµä¸ï¼æ¯æ²¡é®é¢çãä½æ¯ï¼å½é¢å¯¹åä¸çè³ç¾ä¸çº§è¿æ¥çæ¶åï¼ä¼ ç»ç bio æ¨¡åæ¯æ è½ä¸ºåçãå æ­¤ï¼æä»¬éè¦ä¸ç§æ´é«æç i/o å¤çæ¨¡åæ¥åºå¯¹æ´é«çå¹¶åéã\n\n\n# nio (non-blocking/new i/o)\n\njava ä¸­ç nio äº java 1.4 ä¸­å¼å¥ï¼å¯¹åº java.nio åï¼æä¾äº channel , selectorï¼buffer ç­æ½è±¡ãnio ä¸­ç n å¯ä»¥çè§£ä¸º non-blockingï¼ä¸åçº¯æ¯ newãå®æ¯æ¯æé¢åç¼å²çï¼åºäºééç i/o æä½æ¹æ³ã å¯¹äºé«è´è½½ãé«å¹¶åçï¼ç½ç»ï¼åºç¨ï¼åºä½¿ç¨ nio ã\n\njava ä¸­ç nio å¯ä»¥çä½æ¯ i/o å¤è·¯å¤ç¨æ¨¡åãä¹æå¾å¤äººè®¤ä¸ºï¼java ä¸­ç nio å±äºåæ­¥éé»å¡ io æ¨¡åã\n\nè·çæçæè·¯å¾ä¸ççï¼ç¸ä¿¡ä½ ä¼å¾å°ç­æ¡ï¼\n\næä»¬åæ¥çç åæ­¥éé»å¡ io æ¨¡åã\n\n\n\nåæ­¥éé»å¡ io æ¨¡åä¸­ï¼åºç¨ç¨åºä¼ä¸ç´åèµ· read è°ç¨ï¼ç­å¾æ°æ®ä»åæ ¸ç©ºé´æ·è´å°ç¨æ·ç©ºé´çè¿æ®µæ¶é´éï¼çº¿ç¨ä¾ç¶æ¯é»å¡çï¼ç´å°å¨åæ ¸ææ°æ®æ·è´å°ç¨æ·ç©ºé´ã\n\nç¸æ¯äºåæ­¥é»å¡ io æ¨¡åï¼åæ­¥éé»å¡ io æ¨¡åç¡®å®æäºå¾å¤§æ¹è¿ãéè¿è½®è¯¢æä½ï¼é¿åäºä¸ç´é»å¡ã\n\nä½æ¯ï¼è¿ç§ io æ¨¡ååæ ·å­å¨é®é¢ï¼åºç¨ç¨åºä¸æ­è¿è¡ i/o ç³»ç»è°ç¨è½®è¯¢æ°æ®æ¯å¦å·²ç»åå¤å¥½çè¿ç¨æ¯ååæ¶è cpu èµæºçã\n\nè¿ä¸ªæ¶åï¼i/o å¤è·¯å¤ç¨æ¨¡å å°±ä¸åºäºã\n\n\n\nio å¤è·¯å¤ç¨æ¨¡åä¸­ï¼çº¿ç¨é¦ååèµ· select è°ç¨ï¼è¯¢é®åæ ¸æ°æ®æ¯å¦åå¤å°±ç»ªï¼ç­åæ ¸ææ°æ®åå¤å¥½äºï¼ç¨æ·çº¿ç¨ååèµ· read è°ç¨ãread è°ç¨çè¿ç¨ï¼æ°æ®ä»åæ ¸ç©ºé´ -> ç¨æ·ç©ºé´ï¼è¿æ¯é»å¡çã\n\n> ç®åæ¯æ io å¤è·¯å¤ç¨çç³»ç»è°ç¨ï¼æ selectï¼epoll ç­ç­ãselect ç³»ç»è°ç¨ï¼ç®åå ä¹å¨ææçæä½ç³»ç»ä¸é½ææ¯æã\n> \n>  * select è°ç¨ ï¼åæ ¸æä¾çç³»ç»è°ç¨ï¼å®æ¯æä¸æ¬¡æ¥è¯¢å¤ä¸ªç³»ç»è°ç¨çå¯ç¨ç¶æãå ä¹ææçæä½ç³»ç»é½æ¯æã\n>  * epoll è°ç¨ ï¼linux 2.6 åæ ¸ï¼å±äº select è°ç¨çå¢å¼ºçæ¬ï¼ä¼åäº io çæ§è¡æçã\n\nio å¤è·¯å¤ç¨æ¨¡åï¼éè¿åå°æ æçç³»ç»è°ç¨ï¼åå°äºå¯¹ cpu èµæºçæ¶èã\n\njava ä¸­ç nio ï¼æä¸ä¸ªéå¸¸éè¦çéæ©å¨ ( selector ) çæ¦å¿µï¼ä¹å¯ä»¥è¢«ç§°ä¸º å¤è·¯å¤ç¨å¨ãéè¿å®ï¼åªéè¦ä¸ä¸ªçº¿ç¨ä¾¿å¯ä»¥ç®¡çå¤ä¸ªå®¢æ·ç«¯è¿æ¥ãå½å®¢æ·ç«¯æ°æ®å°äºä¹åï¼æä¼ä¸ºå¶æå¡ã\n\n\n\n\n# aio (asynchronous i/o)\n\naio ä¹å°±æ¯ nio 2ãjava 7 ä¸­å¼å¥äº nio çæ¹è¿ç nio 2,å®æ¯å¼æ­¥ io æ¨¡åã\n\nå¼æ­¥ io æ¯åºäºäºä»¶ååè°æºå¶å®ç°çï¼ä¹å°±æ¯åºç¨æä½ä¹åä¼ç´æ¥è¿åï¼ä¸ä¼å µå¡å¨é£éï¼å½åå°å¤çå®æï¼æä½ç³»ç»ä¼éç¥ç¸åºççº¿ç¨è¿è¡åç»­çæä½ã\n\n\n\nç®åæ¥è¯´ aio çåºç¨è¿ä¸æ¯å¾å¹¿æ³ãnetty ä¹åä¹å°è¯ä½¿ç¨è¿ aioï¼ä¸è¿åæ¾å¼äºãè¿æ¯å ä¸ºï¼netty ä½¿ç¨äº aio ä¹åï¼å¨ linux ç³»ç»ä¸çæ§è½å¹¶æ²¡æå¤å°æåã\n\næåï¼æ¥ä¸å¼ å¾ï¼ç®åæ»ç»ä¸ä¸ java ä¸­ç bioãnioãaioã\n\n\n\n\n# reference\n\n * https://javaguide.cn/",charsets:{cjk:!0}},{title:"åå°",frontmatter:{title:"åå°",category:"Java",tag:["Java","é«çº§"],permalink:"/high/001/",date:"2021-05-18T00:00:00.000Z"},regularPath:"/04.Java/02.%E9%AB%98%E7%BA%A7/01.%E5%8F%8D%E5%B0%84.html",relativePath:"04.Java/02.é«çº§/01.åå°.md",key:"v-8720726a",path:"/high/001/",headers:[{level:2,title:"ä½ä¸ºåå°ï¼",slug:"ä½ä¸ºåå°",normalizedTitle:"ä½ä¸ºåå°ï¼",charIndex:2},{level:2,title:"åå°çåºç¨åºæ¯äºè§£ä¹ï¼",slug:"åå°çåºç¨åºæ¯äºè§£ä¹",normalizedTitle:"åå°çåºç¨åºæ¯äºè§£ä¹ï¼",charIndex:140},{level:2,title:"è°è°åå°æºå¶çä¼ç¼ºç¹",slug:"è°è°åå°æºå¶çä¼ç¼ºç¹",normalizedTitle:"è°è°åå°æºå¶çä¼ç¼ºç¹",charIndex:1125},{level:2,title:"åå°å®æ",slug:"åå°å®æ",normalizedTitle:"åå°å®æ",charIndex:1320},{level:3,title:"è·å Class å¯¹è±¡çåç§æ¹å¼",slug:"è·å-class-å¯¹è±¡çåç§æ¹å¼",normalizedTitle:"è·å class å¯¹è±¡çåç§æ¹å¼",charIndex:1329},{level:3,title:"åå°çä¸äºåºæ¬æä½",slug:"åå°çä¸äºåºæ¬æä½",normalizedTitle:"åå°çä¸äºåºæ¬æä½",charIndex:1956},{level:2,title:"Reference",slug:"reference",normalizedTitle:"reference",charIndex:4097}],headersStr:"ä½ä¸ºåå°ï¼ åå°çåºç¨åºæ¯äºè§£ä¹ï¼ è°è°åå°æºå¶çä¼ç¼ºç¹ åå°å®æ è·å Class å¯¹è±¡çåç§æ¹å¼ åå°çä¸äºåºæ¬æä½ Reference",content:'# ä½ä¸ºåå°ï¼\n\nå¦æè¯´å¤§å®¶ç ç©¶è¿æ¡æ¶çåºå±åçæèå±ä»¬èªå·±åè¿æ¡æ¶çè¯ï¼ä¸å®å¯¹åå°è¿ä¸ªæ¦å¿µä¸éçã\n\nåå°ä¹æä»¥è¢«ç§°ä¸ºæ¡æ¶ççµé­ï¼ä¸»è¦æ¯å ä¸ºå®èµäºäºæä»¬å¨è¿è¡æ¶åæç±»ä»¥åæ§è¡ç±»ä¸­æ¹æ³çè½åã\n\néè¿åå°ä½ å¯ä»¥è·åä»»æä¸ä¸ªç±»çææå±æ§åæ¹æ³ï¼ä½ è¿å¯ä»¥è°ç¨è¿äºæ¹æ³åå±æ§ã\n\n\n# åå°çåºç¨åºæ¯äºè§£ä¹ï¼\n\nåå±ä»¬å¹³æ¶å¤§é¨åæ¶åé½æ¯å¨åä¸å¡ä»£ç ï¼å¾å°ä¼æ¥è§¦å°ç´æ¥ä½¿ç¨åå°æºå¶çåºæ¯ã\n\nä½æ¯ï¼è¿å¹¶ä¸ä»£è¡¨åå°æ²¡æç¨ãç¸åï¼æ­£æ¯å ä¸ºåå°ï¼ä½ æè½è¿ä¹è½»æ¾å°ä½¿ç¨åç§æ¡æ¶ãå Spring/Spring BootãMyBatis ç­ç­æ¡æ¶ä¸­é½å¤§éä½¿ç¨äºåå°æºå¶ã\n\nè¿äºæ¡æ¶ä¸­ä¹å¤§éä½¿ç¨äºå¨æä»£çï¼èå¨æä»£ççå®ç°ä¹ä¾èµåå°ã\n\næ¯å¦ä¸é¢æ¯éè¿ JDK å®ç°å¨æä»£ççç¤ºä¾ä»£ç ï¼å¶ä¸­å°±ä½¿ç¨äºåå°ç±» Method æ¥è°ç¨æå®çæ¹æ³ã\n\npublic class DebugInvocationHandler implements InvocationHandler {\n    /**\n     * ä»£çç±»ä¸­ççå®å¯¹è±¡\n     */\n    private final Object target;\n\n    public DebugInvocationHandler(Object target) {\n        this.target = target;\n    }\n\n\n    public Object invoke(Object proxy, Method method, Object[] args) throws InvocationTargetException, IllegalAccessException {\n        System.out.println("before method " + method.getName());\n        Object result = method.invoke(target, args);\n        System.out.println("after method " + method.getName());\n        return result;\n    }\n}\n\n\n\nå¦å¤ï¼å Java ä¸­çä¸å¤§å©å¨ æ³¨è§£ çå®ç°ä¹ç¨å°äºåå°ã\n\nä¸ºä»ä¹ä½ ä½¿ç¨ Spring çæ¶å ï¼ä¸ä¸ª@Componentæ³¨è§£å°±å£°æäºä¸ä¸ªç±»ä¸º Spring Bean å¢ï¼ä¸ºä»ä¹ä½ éè¿ä¸ä¸ª @Valueæ³¨è§£å°±è¯»åå°éç½®æä»¶ä¸­çå¼å¢ï¼ç©¶ç«æ¯æä¹èµ·ä½ç¨çå¢ï¼\n\nè¿äºé½æ¯å ä¸ºä½ å¯ä»¥åºäºåå°åæç±»ï¼ç¶åè·åå°ç±»/å±æ§/æ¹æ³/æ¹æ³çåæ°ä¸çæ³¨è§£ãä½ è·åå°æ³¨è§£ä¹åï¼å°±å¯ä»¥åè¿ä¸æ­¥çå¤çã\n\n\n# è°è°åå°æºå¶çä¼ç¼ºç¹\n\nä¼ç¹ ï¼ å¯ä»¥è®©å±ä»¬çä»£ç æ´å çµæ´»ãä¸ºåç§æ¡æ¶æä¾å¼ç®±å³ç¨çåè½æä¾äºä¾¿å©\n\nç¼ºç¹ ï¼è®©æä»¬å¨è¿è¡æ¶æäºåææä½ç±»çè½åï¼è¿åæ ·ä¹å¢å äºå®å¨é®é¢ãæ¯å¦å¯ä»¥æ è§æ³ååæ°çå®å¨æ£æ¥ï¼æ³ååæ°çå®å¨æ£æ¥åçå¨ç¼è¯æ¶ï¼ãå¦å¤ï¼åå°çæ§è½ä¹è¦ç¨å·®ç¹ï¼ä¸è¿ï¼å¯¹äºæ¡æ¶æ¥è¯´å®éæ¯å½±åä¸å¤§çãç¸å³éè¯»ï¼Java Reflection: Why is it so slow?\n\n\n# åå°å®æ\n\n\n# è·å Class å¯¹è±¡çåç§æ¹å¼\n\nå¦ææä»¬å¨æè·åå°è¿äºä¿¡æ¯ï¼æä»¬éè¦ä¾é  Class å¯¹è±¡ãClass ç±»å¯¹è±¡å°ä¸ä¸ªç±»çæ¹æ³ãåéç­ä¿¡æ¯åè¯è¿è¡çç¨åºãJava æä¾äºåç§æ¹å¼è·å Class å¯¹è±¡:\n\n1. ç¥éå·ä½ç±»çæåµä¸å¯ä»¥ä½¿ç¨ï¼\n\nClass alunbarClass = TargetObject.class;\n\n\nä½æ¯æä»¬ä¸è¬æ¯ä¸ç¥éå·ä½ç±»çï¼åºæ¬é½æ¯éè¿éååä¸é¢çç±»æ¥è·å Class å¯¹è±¡ï¼éè¿æ­¤æ¹å¼è·å Class å¯¹è±¡ä¸ä¼è¿è¡åå§å\n\n2. éè¿ Class.forName()ä¼ å¥ç±»çå¨è·¯å¾è·åï¼\n\nClass alunbarClass1 = Class.forName("cn.javaguide.TargetObject");\n\n\n3. éè¿å¯¹è±¡å®ä¾instance.getClass()è·åï¼\n\nTargetObject o = new TargetObject();\nClass alunbarClass2 = o.getClass();\n\n\n4. éè¿ç±»å è½½å¨xxxClassLoader.loadClass()ä¼ å¥ç±»è·¯å¾è·å:\n\nClassLoader.getSystemClassLoader().loadClass("cn.javaguide.TargetObject");\n\n\néè¿ç±»å è½½å¨è·å Class å¯¹è±¡ä¸ä¼è¿è¡åå§åï¼æå³çä¸è¿è¡åæ¬åå§åç­ä¸ç³»åæ­¥éª¤ï¼éæä»£ç ååéæå¯¹è±¡ä¸ä¼å¾å°æ§è¡\n\n\n# åå°çä¸äºåºæ¬æä½\n\n 1. åå»ºä¸ä¸ªæä»¬è¦ä½¿ç¨åå°æä½çç±» TargetObjectã\n\npackage cn.javaguide;\n\npublic class TargetObject {\n    private String value;\n\n    public TargetObject() {\n        value = "JavaGuide";\n    }\n\n    public void publicMethod(String s) {\n        System.out.println("I love " + s);\n    }\n\n    private void privateMethod() {\n        System.out.println("value is " + value);\n    }\n}\n\n\n 2. ä½¿ç¨åå°æä½è¿ä¸ªç±»çæ¹æ³ä»¥ååæ°\n\npackage cn.javaguide;\n\nimport java.lang.reflect.Field;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\n\npublic class Main {\n    public static void main(String[] args) throws ClassNotFoundException, NoSuchMethodException, IllegalAccessException, InstantiationException, InvocationTargetException, NoSuchFieldException {\n        /**\n         * è·å TargetObject ç±»ç Class å¯¹è±¡å¹¶ä¸åå»º TargetObject ç±»å®ä¾\n         */\n        Class<?> targetClass = Class.forName("cn.javaguide.TargetObject");\n        TargetObject targetObject = (TargetObject) targetClass.newInstance();\n        /**\n         * è·å TargetObject ç±»ä¸­å®ä¹çæææ¹æ³\n         */\n        Method[] methods = targetClass.getDeclaredMethods();\n        for (Method method : methods) {\n            System.out.println(method.getName());\n        }\n\n        /**\n         * è·åæå®æ¹æ³å¹¶è°ç¨\n         */\n        Method publicMethod = targetClass.getDeclaredMethod("publicMethod",\n                String.class);\n\n        publicMethod.invoke(targetObject, "JavaGuide");\n\n        /**\n         * è·åæå®åæ°å¹¶å¯¹åæ°è¿è¡ä¿®æ¹\n         */\n        Field field = targetClass.getDeclaredField("value");\n        //ä¸ºäºå¯¹ç±»ä¸­çåæ°è¿è¡ä¿®æ¹æä»¬åæ¶å®å¨æ£æ¥\n        field.setAccessible(true);\n        field.set(targetObject, "JavaGuide");\n\n        /**\n         * è°ç¨ private æ¹æ³\n         */\n        Method privateMethod = targetClass.getDeclaredMethod("privateMethod");\n        //ä¸ºäºè°ç¨privateæ¹æ³æä»¬åæ¶å®å¨æ£æ¥\n        privateMethod.setAccessible(true);\n        privateMethod.invoke(targetObject);\n    }\n}\n\n\n\nè¾åºåå®¹ï¼\n\npublicMethod\nprivateMethod\nI love JavaGuide\nvalue is JavaGuide\n\n\næ³¨æ : æè¯»èæå°ä¸é¢ä»£ç è¿è¡ä¼æåº ClassNotFoundException å¼å¸¸,å·ä½åå æ¯ä½ æ²¡æä¸é¢æè¿æ®µä»£ç çååæ¿æ¢æèªå·±åå»ºç TargetObject æå¨çå ã\n\nClass<?> targetClass = Class.forName("cn.javaguide.TargetObject");\n\n\n\n# Reference\n\n * https://javaguide.cn/',normalizedContent:'# ä½ä¸ºåå°ï¼\n\nå¦æè¯´å¤§å®¶ç ç©¶è¿æ¡æ¶çåºå±åçæèå±ä»¬èªå·±åè¿æ¡æ¶çè¯ï¼ä¸å®å¯¹åå°è¿ä¸ªæ¦å¿µä¸éçã\n\nåå°ä¹æä»¥è¢«ç§°ä¸ºæ¡æ¶ççµé­ï¼ä¸»è¦æ¯å ä¸ºå®èµäºäºæä»¬å¨è¿è¡æ¶åæç±»ä»¥åæ§è¡ç±»ä¸­æ¹æ³çè½åã\n\néè¿åå°ä½ å¯ä»¥è·åä»»æä¸ä¸ªç±»çææå±æ§åæ¹æ³ï¼ä½ è¿å¯ä»¥è°ç¨è¿äºæ¹æ³åå±æ§ã\n\n\n# åå°çåºç¨åºæ¯äºè§£ä¹ï¼\n\nåå±ä»¬å¹³æ¶å¤§é¨åæ¶åé½æ¯å¨åä¸å¡ä»£ç ï¼å¾å°ä¼æ¥è§¦å°ç´æ¥ä½¿ç¨åå°æºå¶çåºæ¯ã\n\nä½æ¯ï¼è¿å¹¶ä¸ä»£è¡¨åå°æ²¡æç¨ãç¸åï¼æ­£æ¯å ä¸ºåå°ï¼ä½ æè½è¿ä¹è½»æ¾å°ä½¿ç¨åç§æ¡æ¶ãå spring/spring bootãmybatis ç­ç­æ¡æ¶ä¸­é½å¤§éä½¿ç¨äºåå°æºå¶ã\n\nè¿äºæ¡æ¶ä¸­ä¹å¤§éä½¿ç¨äºå¨æä»£çï¼èå¨æä»£ççå®ç°ä¹ä¾èµåå°ã\n\næ¯å¦ä¸é¢æ¯éè¿ jdk å®ç°å¨æä»£ççç¤ºä¾ä»£ç ï¼å¶ä¸­å°±ä½¿ç¨äºåå°ç±» method æ¥è°ç¨æå®çæ¹æ³ã\n\npublic class debuginvocationhandler implements invocationhandler {\n    /**\n     * ä»£çç±»ä¸­ççå®å¯¹è±¡\n     */\n    private final object target;\n\n    public debuginvocationhandler(object target) {\n        this.target = target;\n    }\n\n\n    public object invoke(object proxy, method method, object[] args) throws invocationtargetexception, illegalaccessexception {\n        system.out.println("before method " + method.getname());\n        object result = method.invoke(target, args);\n        system.out.println("after method " + method.getname());\n        return result;\n    }\n}\n\n\n\nå¦å¤ï¼å java ä¸­çä¸å¤§å©å¨ æ³¨è§£ çå®ç°ä¹ç¨å°äºåå°ã\n\nä¸ºä»ä¹ä½ ä½¿ç¨ spring çæ¶å ï¼ä¸ä¸ª@componentæ³¨è§£å°±å£°æäºä¸ä¸ªç±»ä¸º spring bean å¢ï¼ä¸ºä»ä¹ä½ éè¿ä¸ä¸ª @valueæ³¨è§£å°±è¯»åå°éç½®æä»¶ä¸­çå¼å¢ï¼ç©¶ç«æ¯æä¹èµ·ä½ç¨çå¢ï¼\n\nè¿äºé½æ¯å ä¸ºä½ å¯ä»¥åºäºåå°åæç±»ï¼ç¶åè·åå°ç±»/å±æ§/æ¹æ³/æ¹æ³çåæ°ä¸çæ³¨è§£ãä½ è·åå°æ³¨è§£ä¹åï¼å°±å¯ä»¥åè¿ä¸æ­¥çå¤çã\n\n\n# è°è°åå°æºå¶çä¼ç¼ºç¹\n\nä¼ç¹ ï¼ å¯ä»¥è®©å±ä»¬çä»£ç æ´å çµæ´»ãä¸ºåç§æ¡æ¶æä¾å¼ç®±å³ç¨çåè½æä¾äºä¾¿å©\n\nç¼ºç¹ ï¼è®©æä»¬å¨è¿è¡æ¶æäºåææä½ç±»çè½åï¼è¿åæ ·ä¹å¢å äºå®å¨é®é¢ãæ¯å¦å¯ä»¥æ è§æ³ååæ°çå®å¨æ£æ¥ï¼æ³ååæ°çå®å¨æ£æ¥åçå¨ç¼è¯æ¶ï¼ãå¦å¤ï¼åå°çæ§è½ä¹è¦ç¨å·®ç¹ï¼ä¸è¿ï¼å¯¹äºæ¡æ¶æ¥è¯´å®éæ¯å½±åä¸å¤§çãç¸å³éè¯»ï¼java reflection: why is it so slow?\n\n\n# åå°å®æ\n\n\n# è·å class å¯¹è±¡çåç§æ¹å¼\n\nå¦ææä»¬å¨æè·åå°è¿äºä¿¡æ¯ï¼æä»¬éè¦ä¾é  class å¯¹è±¡ãclass ç±»å¯¹è±¡å°ä¸ä¸ªç±»çæ¹æ³ãåéç­ä¿¡æ¯åè¯è¿è¡çç¨åºãjava æä¾äºåç§æ¹å¼è·å class å¯¹è±¡:\n\n1. ç¥éå·ä½ç±»çæåµä¸å¯ä»¥ä½¿ç¨ï¼\n\nclass alunbarclass = targetobject.class;\n\n\nä½æ¯æä»¬ä¸è¬æ¯ä¸ç¥éå·ä½ç±»çï¼åºæ¬é½æ¯éè¿éååä¸é¢çç±»æ¥è·å class å¯¹è±¡ï¼éè¿æ­¤æ¹å¼è·å class å¯¹è±¡ä¸ä¼è¿è¡åå§å\n\n2. éè¿ class.forname()ä¼ å¥ç±»çå¨è·¯å¾è·åï¼\n\nclass alunbarclass1 = class.forname("cn.javaguide.targetobject");\n\n\n3. éè¿å¯¹è±¡å®ä¾instance.getclass()è·åï¼\n\ntargetobject o = new targetobject();\nclass alunbarclass2 = o.getclass();\n\n\n4. éè¿ç±»å è½½å¨xxxclassloader.loadclass()ä¼ å¥ç±»è·¯å¾è·å:\n\nclassloader.getsystemclassloader().loadclass("cn.javaguide.targetobject");\n\n\néè¿ç±»å è½½å¨è·å class å¯¹è±¡ä¸ä¼è¿è¡åå§åï¼æå³çä¸è¿è¡åæ¬åå§åç­ä¸ç³»åæ­¥éª¤ï¼éæä»£ç ååéæå¯¹è±¡ä¸ä¼å¾å°æ§è¡\n\n\n# åå°çä¸äºåºæ¬æä½\n\n 1. åå»ºä¸ä¸ªæä»¬è¦ä½¿ç¨åå°æä½çç±» targetobjectã\n\npackage cn.javaguide;\n\npublic class targetobject {\n    private string value;\n\n    public targetobject() {\n        value = "javaguide";\n    }\n\n    public void publicmethod(string s) {\n        system.out.println("i love " + s);\n    }\n\n    private void privatemethod() {\n        system.out.println("value is " + value);\n    }\n}\n\n\n 2. ä½¿ç¨åå°æä½è¿ä¸ªç±»çæ¹æ³ä»¥ååæ°\n\npackage cn.javaguide;\n\nimport java.lang.reflect.field;\nimport java.lang.reflect.invocationtargetexception;\nimport java.lang.reflect.method;\n\npublic class main {\n    public static void main(string[] args) throws classnotfoundexception, nosuchmethodexception, illegalaccessexception, instantiationexception, invocationtargetexception, nosuchfieldexception {\n        /**\n         * è·å targetobject ç±»ç class å¯¹è±¡å¹¶ä¸åå»º targetobject ç±»å®ä¾\n         */\n        class<?> targetclass = class.forname("cn.javaguide.targetobject");\n        targetobject targetobject = (targetobject) targetclass.newinstance();\n        /**\n         * è·å targetobject ç±»ä¸­å®ä¹çæææ¹æ³\n         */\n        method[] methods = targetclass.getdeclaredmethods();\n        for (method method : methods) {\n            system.out.println(method.getname());\n        }\n\n        /**\n         * è·åæå®æ¹æ³å¹¶è°ç¨\n         */\n        method publicmethod = targetclass.getdeclaredmethod("publicmethod",\n                string.class);\n\n        publicmethod.invoke(targetobject, "javaguide");\n\n        /**\n         * è·åæå®åæ°å¹¶å¯¹åæ°è¿è¡ä¿®æ¹\n         */\n        field field = targetclass.getdeclaredfield("value");\n        //ä¸ºäºå¯¹ç±»ä¸­çåæ°è¿è¡ä¿®æ¹æä»¬åæ¶å®å¨æ£æ¥\n        field.setaccessible(true);\n        field.set(targetobject, "javaguide");\n\n        /**\n         * è°ç¨ private æ¹æ³\n         */\n        method privatemethod = targetclass.getdeclaredmethod("privatemethod");\n        //ä¸ºäºè°ç¨privateæ¹æ³æä»¬åæ¶å®å¨æ£æ¥\n        privatemethod.setaccessible(true);\n        privatemethod.invoke(targetobject);\n    }\n}\n\n\n\nè¾åºåå®¹ï¼\n\npublicmethod\nprivatemethod\ni love javaguide\nvalue is javaguide\n\n\næ³¨æ : æè¯»èæå°ä¸é¢ä»£ç è¿è¡ä¼æåº classnotfoundexception å¼å¸¸,å·ä½åå æ¯ä½ æ²¡æä¸é¢æè¿æ®µä»£ç çååæ¿æ¢æèªå·±åå»ºç targetobject æå¨çå ã\n\nclass<?> targetclass = class.forname("cn.javaguide.targetobject");\n\n\n\n# reference\n\n * https://javaguide.cn/',charsets:{cjk:!0}},{title:"Webåºç¡æ¦å¿µç®ä»",frontmatter:{title:"Webåºç¡æ¦å¿µç®ä»",date:"2021-10-04T00:00:00.000Z",permalink:"/web/001/",categories:["JavaWeb","åºç¡"],tags:["Java","Web"],author:null},regularPath:"/05.JavaWeb/01.%E5%9F%BA%E7%A1%80/01.Web%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5.html",relativePath:"05.JavaWeb/01.åºç¡/01.Webåºç¡æ¦å¿µ.md",key:"v-4a9ffcac",path:"/web/001/",headers:[{level:2,title:"1ãæå¡å¨ä¸å®¢æ·ç«¯",slug:"_1ãæå¡å¨ä¸å®¢æ·ç«¯",normalizedTitle:"1ãæå¡å¨ä¸å®¢æ·ç«¯",charIndex:3},{level:3,title:"â çº¿ä¸çæå¡å¨ä¸å®¢æ·ç«¯",slug:"_1çº¿ä¸çæå¡å¨ä¸å®¢æ·ç«¯",normalizedTitle:"â çº¿ä¸çæå¡å¨ä¸å®¢æ·ç«¯",charIndex:18},{level:3,title:"â¡çº¿ä¸çæå¡å¨ä¸å®¢æ·ç«¯",slug:"_2çº¿ä¸çæå¡å¨ä¸å®¢æ·ç«¯",normalizedTitle:"â¡çº¿ä¸çæå¡å¨ä¸å®¢æ·ç«¯",charIndex:35},{level:3,title:"â¢å®¢æ·ç«¯çåç§å½¢å¼",slug:"_3å®¢æ·ç«¯çåç§å½¢å¼",normalizedTitle:"â¢å®¢æ·ç«¯çåç§å½¢å¼",charIndex:52},{level:4,title:"[1]PCç«¯ç½é¡µ",slug:"_1-pcç«¯ç½é¡µ",normalizedTitle:"[1]pcç«¯ç½é¡µ",charIndex:313},{level:4,title:"[2]ç§»å¨ç«¯",slug:"_2-ç§»å¨ç«¯",normalizedTitle:"[2]ç§»å¨ç«¯",charIndex:327},{level:4,title:"[3]Iotè®¾å¤",slug:"_3-iotè®¾å¤",normalizedTitle:"[3]iotè®¾å¤",charIndex:339},{level:3,title:"â£æå¡å¨çåç§å½¢å¼",slug:"_4æå¡å¨çåç§å½¢å¼",normalizedTitle:"â£æå¡å¨çåç§å½¢å¼",charIndex:67},{level:2,title:"2ãæå¡å¨ç«¯åºç¨ç¨åº",slug:"_2ãæå¡å¨ç«¯åºç¨ç¨åº",normalizedTitle:"2ãæå¡å¨ç«¯åºç¨ç¨åº",charIndex:80},{level:2,title:"3ãä¸å¡",slug:"_3ãä¸å¡",normalizedTitle:"3ãä¸å¡",charIndex:94},{level:2,title:"4ãè¯·æ±åååº",slug:"_4ãè¯·æ±åååº",normalizedTitle:"4ãè¯·æ±åååº",charIndex:102},{level:3,title:"â åçå¨é¥­é¦çè¯·æ±åååº",slug:"_1åçå¨é¥­é¦çè¯·æ±åååº",normalizedTitle:"â åçå¨é¥­é¦çè¯·æ±åååº",charIndex:115},{level:3,title:"â¡é¡¹ç®ä¸­çè¯·æ±åååº",slug:"_2é¡¹ç®ä¸­çè¯·æ±åååº",normalizedTitle:"â¡é¡¹ç®ä¸­çè¯·æ±åååº",charIndex:133},{level:2,title:"5ãé¡¹ç®çé»è¾ææ",slug:"_5ãé¡¹ç®çé»è¾ææ",normalizedTitle:"5ãé¡¹ç®çé»è¾ææ",charIndex:147},{level:2,title:"6ãæ¶æ",slug:"_6ãæ¶æ",normalizedTitle:"6ãæ¶æ",charIndex:160},{level:3,title:"â æ¦å¿µ",slug:"_1æ¦å¿µ",normalizedTitle:"â æ¦å¿µ",charIndex:170},{level:3,title:"â¡åå±æ¼ååç¨",slug:"_2åå±æ¼ååç¨",normalizedTitle:"â¡åå±æ¼ååç¨",charIndex:179},{level:4,title:"[1]åä¸æ¶æ",slug:"_1-åä¸æ¶æ",normalizedTitle:"[1]åä¸æ¶æ",charIndex:1383},{level:4,title:"[2]åå¸å¼æ¶æ",slug:"_2-åå¸å¼æ¶æ",normalizedTitle:"[2]åå¸å¼æ¶æ",charIndex:1465},{level:3,title:"â¢åä¸æ¶æææ¯ä½ç³»",slug:"_3åä¸æ¶æææ¯ä½ç³»",normalizedTitle:"â¢åä¸æ¶æææ¯ä½ç³»",charIndex:192},{level:2,title:"7ãæ¬é¶æ®µææ¯ä½ç³»",slug:"_7ãæ¬é¶æ®µææ¯ä½ç³»",normalizedTitle:"7ãæ¬é¶æ®µææ¯ä½ç³»",charIndex:205},{level:2,title:"8ãæ¬é¶æ®µæ¡ä¾ç®ä»",slug:"_8ãæ¬é¶æ®µæ¡ä¾ç®ä»",normalizedTitle:"8ãæ¬é¶æ®µæ¡ä¾ç®ä»",charIndex:218}],headersStr:"1ãæå¡å¨ä¸å®¢æ·ç«¯ â çº¿ä¸çæå¡å¨ä¸å®¢æ·ç«¯ â¡çº¿ä¸çæå¡å¨ä¸å®¢æ·ç«¯ â¢å®¢æ·ç«¯çåç§å½¢å¼ [1]PCç«¯ç½é¡µ [2]ç§»å¨ç«¯ [3]Iotè®¾å¤ â£æå¡å¨çåç§å½¢å¼ 2ãæå¡å¨ç«¯åºç¨ç¨åº 3ãä¸å¡ 4ãè¯·æ±åååº â åçå¨é¥­é¦çè¯·æ±åååº â¡é¡¹ç®ä¸­çè¯·æ±åååº 5ãé¡¹ç®çé»è¾ææ 6ãæ¶æ â æ¦å¿µ â¡åå±æ¼ååç¨ [1]åä¸æ¶æ [2]åå¸å¼æ¶æ â¢åä¸æ¶æææ¯ä½ç³» 7ãæ¬é¶æ®µææ¯ä½ç³» 8ãæ¬é¶æ®µæ¡ä¾ç®ä»",content:" * 1ãæå¡å¨ä¸å®¢æ·ç«¯\n   * â çº¿ä¸çæå¡å¨ä¸å®¢æ·ç«¯\n   * â¡çº¿ä¸çæå¡å¨ä¸å®¢æ·ç«¯\n   * â¢å®¢æ·ç«¯çåç§å½¢å¼\n   * â£æå¡å¨çåç§å½¢å¼\n * 2ãæå¡å¨ç«¯åºç¨ç¨åº\n * 3ãä¸å¡\n * 4ãè¯·æ±åååº\n   * â åçå¨é¥­é¦çè¯·æ±åååº\n   * â¡é¡¹ç®ä¸­çè¯·æ±åååº\n * 5ãé¡¹ç®çé»è¾ææ\n * 6ãæ¶æ\n   * â æ¦å¿µ\n   * â¡åå±æ¼ååç¨\n   * â¢åä¸æ¶æææ¯ä½ç³»\n * 7ãæ¬é¶æ®µææ¯ä½ç³»\n * 8ãæ¬é¶æ®µæ¡ä¾ç®ä»\n\n\n\n\n# 01. Webåºç¡æ¦å¿µ\n\n\n# 1ãæå¡å¨ä¸å®¢æ·ç«¯\n\n\n# â çº¿ä¸çæå¡å¨ä¸å®¢æ·ç«¯\n\n\n\n\n# â¡çº¿ä¸çæå¡å¨ä¸å®¢æ·ç«¯\n\n\n\n\n# â¢å®¢æ·ç«¯çåç§å½¢å¼\n\n# [1]PCç«¯ç½é¡µ\n\n\n\n# [2]ç§»å¨ç«¯\n\n\n\n# [3]Iotè®¾å¤\n\n\n\n\n# â£æå¡å¨çåç§å½¢å¼\n\n\n# 2ãæå¡å¨ç«¯åºç¨ç¨åº\n\næä»¬è¦å¼åçå°±æ¯æå¡å¨ç«¯åºç¨ç¨åºã\n\n\n\n\n# 3ãä¸å¡\n\né¡¹ç®ä¸­çåè½å°±æ¯ä¸å¡ã\n\n\n# 4ãè¯·æ±åååº\n\n\n# â åçå¨é¥­é¦çè¯·æ±åååº\n\n\n\n\n# â¡é¡¹ç®ä¸­çè¯·æ±åååº\n\n\n\n\n# 5ãé¡¹ç®çé»è¾ææ\n\n * è¯·æ±ï¼è¯·æ±æ¯é¡¹ç®ä¸­æåºæ¬çé»è¾ååï¼å°±åä¸äºä¸ç©é½ç±åå­ææ\n   \n   > ä¸¾ä¾ï¼ç¹è¶é¾æ¥è·³è½¬å°æ³¨åé¡µé¢\n\n * åè½ï¼ä¸ä¸ªåè½åå«å¾å¤ä¸ªè¯·æ±\n   \n   > ä¸¾ä¾ï¼æ³¨åç¨æ·åè½\n   > \n   >  * è¯·æ±1ï¼ç¹è¶é¾æ¥è·³è½¬å°æ³¨åé¡µé¢\n   >  * è¯·æ±2ï¼åéè¯·æ±è·åç­ä¿¡éªè¯ç \n   >  * è¯·æ±3ï¼æ£æ¥ç¨æ·åæ¯å¦å¯ç¨\n   >  * è¯·æ±4ï¼æäº¤è¡¨åå®ææ³¨å\n\n * æ¨¡åï¼ä¸ä¸ªæ¨¡ååå«å¾å¤åè½\n   \n   > ä¸¾ä¾ï¼ç¨æ·ä¿¡æ¯ç®¡çæ¨¡å\n   > \n   >  * åè½1ï¼ç¨æ·æ³¨ååè½\n   >  * åè½2ï¼ç¨æ·ç»å½åè½\n   >  * åè½3ï¼ä¸ªäººä¸­å¿ââè´¦æ·å®å¨åè½\n   >  * åè½4ï¼ä¸ªäººä¸­å¿ââè´¦æ·ç»å®åè½\n   >  * åè½5ï¼ä¸ªäººä¸­å¿ââæ¶è´§å°ååè½\n   >  * åè½6ï¼ä¸ªäººä¸­å¿ââæçé¶è¡å¡åè½\n\n * å­ç³»ç»ï¼æ ¹æ®é¡¹ç®è§æ¨¡çä¸åï¼å­ç³»ç»è¿å±é»è¾æ¦å¿µå¯è½æä¹å¯è½æ²¡æãå¦æè®¾ç½®äºå­ç³»ç»ï¼é£ä¹å­ç³»ç»ä¸­ä¹å¿ç¶åå«å¾å¤æ¨¡åãå¶å®åºå¤§é¡¹ç®çå­ç³»ç»å·²ç»ç¸å½äºä¸ä¸ªé¡¹ç®äºï¼çè³æ¯å°åé¡¹ç®æ´ä¸ªé½å¤§ã\n   \n   > ä¸¾ä¾ï¼è®¤è¯ä¸­å¿å­ç³»ç»\n   > \n   >  * æ¨¡å1ï¼ç¨æ·ä¿¡æ¯ç®¡çæ¨¡å\n   >  * æ¨¡å2ï¼æéç®¡çæ¨¡å\n   >  * æ¨¡å3ï¼ææç®¡çæ¨¡å\n   >  * æ¨¡å4ï¼æéæ£æ¥æ¨¡å\n\n * é¡¹ç®ï¼ä¸ºäºè§£å³ç°å®çæ´»ä¸­çå®éé®é¢å¼åä¸ä¸ªé¡¹ç®ï¼è¿ä¸ªé¡¹ç®å°±æ¯ä¸ºè¿ä¸ªéæ±æä¾çä¸æ´å¥è§£å³æ¹æ¡ã\n   \n   > ä¸¾ä¾ï¼çµåé¡¹ç®\n   > \n   >  * å­ç³»ç»1ï¼è®¤è¯ä¸­å¿å­ç³»ç»\n   >  * å­ç³»ç»2ï¼ååç®¡çå­ç³»ç»\n   >  * å­ç³»ç»3ï¼è´­ç©è½¦å­ç³»ç»\n   >  * å­ç³»ç»4ï¼ä»å¨å­ç³»ç»\n   >  * å­ç³»ç»5ï¼ç©æµå­ç³»ç»\n   >  * å­ç³»ç»6ï¼è®¢åå­ç³»ç»\n\n\n\n\n# 6ãæ¶æ\n\n\n# â æ¦å¿µ\n\nãæ¶æãå¶å®å°±æ¯é¡¹ç®çãç»æããåªä¸è¿ãç»æãè¿ä¸ªè¯å¤ªå°äºï¼ä¸éåç¨æ¥æè¿°é¡¹ç®è¿ä¹å¤§çä¸è¥¿ï¼æä»¥æ¢äºå¦ä¸ä¸ªæ´å¤§çè¯ï¼æ¶æãæä»¥å½æä»¬èä¸ä¸ªé¡¹ç®çæ¶ææ¶ï¼æä»¬èçæ¯é¡¹ç®æ¯ç±åªäºé¨åç»æçã\n\n\n# â¡åå±æ¼ååç¨\n\n# [1]åä¸æ¶æ\n\nä¸ä¸ªé¡¹ç®å°±æ¯ä¸ä¸ªå·¥ç¨ï¼è¿æ ·çç»æå°±æ¯åä¸æ¶æï¼ä¹å«all in oneãæä»¬ç°å¨çJavaWebé¶æ®µãSSMé¶æ®µé½æ¯å­¦ä¹ åä¸æ¶æå¼åææ¯ã\n\n# [2]åå¸å¼æ¶æ\n\nä¸ä¸ªé¡¹ç®ä¸­åå«å¾å¤å·¥ç¨ï¼æ¯ä¸ªå·¥ç¨ä½ä¸ºä¸ä¸ªæ¨¡åãæ¨¡åä¹é´å­å¨è°ç¨å³ç³»ãåå¸å¼æ¶æé¶æ®µçææ¯åä¸ºä¸¤ç±»ï¼\n\n * Javaæ¡æ¶ï¼SpringBootãSpringCloudãDubboç­ç­ã\n * ä¸­é´ä»¶ï¼RedisãElasticSearchãFastDFSãNginxãZookeeperãRabbitMQç­ç­ã\n\n\n\n\n# â¢åä¸æ¶æææ¯ä½ç³»\n\n * è§å¾ï¼ç¨æ·çæä½çé¢+æ°æ®çå¨ææ¾ç¤º\n   * åç«¯ææ¯ï¼HTML/CSS/JavaScript\n   * æå¡å¨ç«¯é¡µé¢æ¨¡æ¿ææ¯ï¼Thymeleaf\n * æ§å¶å±ï¼å¤çè¯·æ±+è·³è½¬é¡µé¢\n   * æå¡å¨ï¼Tomcat\n   * æ§å¶å¨ï¼Servlet\n   * åå¯¹è±¡ï¼requestãsessionãservletContext\n   * è¿æ»¤å¨ï¼Filter\n   * çå¬å¨ï¼Listener\n   * å¼æ­¥äº¤äºï¼Ajax\n * ä¸å¡é»è¾å±ï¼ä¸å¡é»è¾è®¡ç®\n * æä¹åå±ï¼æä½æ°æ®åº\n\n\n\n\n# 7ãæ¬é¶æ®µææ¯ä½ç³»\n\n\n\n\n# 8ãæ¬é¶æ®µæ¡ä¾ç®ä»\n\n\n\n",normalizedContent:" * 1ãæå¡å¨ä¸å®¢æ·ç«¯\n   * â çº¿ä¸çæå¡å¨ä¸å®¢æ·ç«¯\n   * â¡çº¿ä¸çæå¡å¨ä¸å®¢æ·ç«¯\n   * â¢å®¢æ·ç«¯çåç§å½¢å¼\n   * â£æå¡å¨çåç§å½¢å¼\n * 2ãæå¡å¨ç«¯åºç¨ç¨åº\n * 3ãä¸å¡\n * 4ãè¯·æ±åååº\n   * â åçå¨é¥­é¦çè¯·æ±åååº\n   * â¡é¡¹ç®ä¸­çè¯·æ±åååº\n * 5ãé¡¹ç®çé»è¾ææ\n * 6ãæ¶æ\n   * â æ¦å¿µ\n   * â¡åå±æ¼ååç¨\n   * â¢åä¸æ¶æææ¯ä½ç³»\n * 7ãæ¬é¶æ®µææ¯ä½ç³»\n * 8ãæ¬é¶æ®µæ¡ä¾ç®ä»\n\n\n\n\n# 01. webåºç¡æ¦å¿µ\n\n\n# 1ãæå¡å¨ä¸å®¢æ·ç«¯\n\n\n# â çº¿ä¸çæå¡å¨ä¸å®¢æ·ç«¯\n\n\n\n\n# â¡çº¿ä¸çæå¡å¨ä¸å®¢æ·ç«¯\n\n\n\n\n# â¢å®¢æ·ç«¯çåç§å½¢å¼\n\n# [1]pcç«¯ç½é¡µ\n\n\n\n# [2]ç§»å¨ç«¯\n\n\n\n# [3]iotè®¾å¤\n\n\n\n\n# â£æå¡å¨çåç§å½¢å¼\n\n\n# 2ãæå¡å¨ç«¯åºç¨ç¨åº\n\næä»¬è¦å¼åçå°±æ¯æå¡å¨ç«¯åºç¨ç¨åºã\n\n\n\n\n# 3ãä¸å¡\n\né¡¹ç®ä¸­çåè½å°±æ¯ä¸å¡ã\n\n\n# 4ãè¯·æ±åååº\n\n\n# â åçå¨é¥­é¦çè¯·æ±åååº\n\n\n\n\n# â¡é¡¹ç®ä¸­çè¯·æ±åååº\n\n\n\n\n# 5ãé¡¹ç®çé»è¾ææ\n\n * è¯·æ±ï¼è¯·æ±æ¯é¡¹ç®ä¸­æåºæ¬çé»è¾ååï¼å°±åä¸äºä¸ç©é½ç±åå­ææ\n   \n   > ä¸¾ä¾ï¼ç¹è¶é¾æ¥è·³è½¬å°æ³¨åé¡µé¢\n\n * åè½ï¼ä¸ä¸ªåè½åå«å¾å¤ä¸ªè¯·æ±\n   \n   > ä¸¾ä¾ï¼æ³¨åç¨æ·åè½\n   > \n   >  * è¯·æ±1ï¼ç¹è¶é¾æ¥è·³è½¬å°æ³¨åé¡µé¢\n   >  * è¯·æ±2ï¼åéè¯·æ±è·åç­ä¿¡éªè¯ç \n   >  * è¯·æ±3ï¼æ£æ¥ç¨æ·åæ¯å¦å¯ç¨\n   >  * è¯·æ±4ï¼æäº¤è¡¨åå®ææ³¨å\n\n * æ¨¡åï¼ä¸ä¸ªæ¨¡ååå«å¾å¤åè½\n   \n   > ä¸¾ä¾ï¼ç¨æ·ä¿¡æ¯ç®¡çæ¨¡å\n   > \n   >  * åè½1ï¼ç¨æ·æ³¨ååè½\n   >  * åè½2ï¼ç¨æ·ç»å½åè½\n   >  * åè½3ï¼ä¸ªäººä¸­å¿ââè´¦æ·å®å¨åè½\n   >  * åè½4ï¼ä¸ªäººä¸­å¿ââè´¦æ·ç»å®åè½\n   >  * åè½5ï¼ä¸ªäººä¸­å¿ââæ¶è´§å°ååè½\n   >  * åè½6ï¼ä¸ªäººä¸­å¿ââæçé¶è¡å¡åè½\n\n * å­ç³»ç»ï¼æ ¹æ®é¡¹ç®è§æ¨¡çä¸åï¼å­ç³»ç»è¿å±é»è¾æ¦å¿µå¯è½æä¹å¯è½æ²¡æãå¦æè®¾ç½®äºå­ç³»ç»ï¼é£ä¹å­ç³»ç»ä¸­ä¹å¿ç¶åå«å¾å¤æ¨¡åãå¶å®åºå¤§é¡¹ç®çå­ç³»ç»å·²ç»ç¸å½äºä¸ä¸ªé¡¹ç®äºï¼çè³æ¯å°åé¡¹ç®æ´ä¸ªé½å¤§ã\n   \n   > ä¸¾ä¾ï¼è®¤è¯ä¸­å¿å­ç³»ç»\n   > \n   >  * æ¨¡å1ï¼ç¨æ·ä¿¡æ¯ç®¡çæ¨¡å\n   >  * æ¨¡å2ï¼æéç®¡çæ¨¡å\n   >  * æ¨¡å3ï¼ææç®¡çæ¨¡å\n   >  * æ¨¡å4ï¼æéæ£æ¥æ¨¡å\n\n * é¡¹ç®ï¼ä¸ºäºè§£å³ç°å®çæ´»ä¸­çå®éé®é¢å¼åä¸ä¸ªé¡¹ç®ï¼è¿ä¸ªé¡¹ç®å°±æ¯ä¸ºè¿ä¸ªéæ±æä¾çä¸æ´å¥è§£å³æ¹æ¡ã\n   \n   > ä¸¾ä¾ï¼çµåé¡¹ç®\n   > \n   >  * å­ç³»ç»1ï¼è®¤è¯ä¸­å¿å­ç³»ç»\n   >  * å­ç³»ç»2ï¼ååç®¡çå­ç³»ç»\n   >  * å­ç³»ç»3ï¼è´­ç©è½¦å­ç³»ç»\n   >  * å­ç³»ç»4ï¼ä»å¨å­ç³»ç»\n   >  * å­ç³»ç»5ï¼ç©æµå­ç³»ç»\n   >  * å­ç³»ç»6ï¼è®¢åå­ç³»ç»\n\n\n\n\n# 6ãæ¶æ\n\n\n# â æ¦å¿µ\n\nãæ¶æãå¶å®å°±æ¯é¡¹ç®çãç»æããåªä¸è¿ãç»æãè¿ä¸ªè¯å¤ªå°äºï¼ä¸éåç¨æ¥æè¿°é¡¹ç®è¿ä¹å¤§çä¸è¥¿ï¼æä»¥æ¢äºå¦ä¸ä¸ªæ´å¤§çè¯ï¼æ¶æãæä»¥å½æä»¬èä¸ä¸ªé¡¹ç®çæ¶ææ¶ï¼æä»¬èçæ¯é¡¹ç®æ¯ç±åªäºé¨åç»æçã\n\n\n# â¡åå±æ¼ååç¨\n\n# [1]åä¸æ¶æ\n\nä¸ä¸ªé¡¹ç®å°±æ¯ä¸ä¸ªå·¥ç¨ï¼è¿æ ·çç»æå°±æ¯åä¸æ¶æï¼ä¹å«all in oneãæä»¬ç°å¨çjavawebé¶æ®µãssmé¶æ®µé½æ¯å­¦ä¹ åä¸æ¶æå¼åææ¯ã\n\n# [2]åå¸å¼æ¶æ\n\nä¸ä¸ªé¡¹ç®ä¸­åå«å¾å¤å·¥ç¨ï¼æ¯ä¸ªå·¥ç¨ä½ä¸ºä¸ä¸ªæ¨¡åãæ¨¡åä¹é´å­å¨è°ç¨å³ç³»ãåå¸å¼æ¶æé¶æ®µçææ¯åä¸ºä¸¤ç±»ï¼\n\n * javaæ¡æ¶ï¼springbootãspringcloudãdubboç­ç­ã\n * ä¸­é´ä»¶ï¼redisãelasticsearchãfastdfsãnginxãzookeeperãrabbitmqç­ç­ã\n\n\n\n\n# â¢åä¸æ¶æææ¯ä½ç³»\n\n * è§å¾ï¼ç¨æ·çæä½çé¢+æ°æ®çå¨ææ¾ç¤º\n   * åç«¯ææ¯ï¼html/css/javascript\n   * æå¡å¨ç«¯é¡µé¢æ¨¡æ¿ææ¯ï¼thymeleaf\n * æ§å¶å±ï¼å¤çè¯·æ±+è·³è½¬é¡µé¢\n   * æå¡å¨ï¼tomcat\n   * æ§å¶å¨ï¼servlet\n   * åå¯¹è±¡ï¼requestãsessionãservletcontext\n   * è¿æ»¤å¨ï¼filter\n   * çå¬å¨ï¼listener\n   * å¼æ­¥äº¤äºï¼ajax\n * ä¸å¡é»è¾å±ï¼ä¸å¡é»è¾è®¡ç®\n * æä¹åå±ï¼æä½æ°æ®åº\n\n\n\n\n# 7ãæ¬é¶æ®µææ¯ä½ç³»\n\n\n\n\n# 8ãæ¬é¶æ®µæ¡ä¾ç®ä»\n\n\n\n",charsets:{cjk:!0}},{title:"æ¦è¿°",frontmatter:{title:"æ¦è¿°",date:"2021-01-05T00:00:00.000Z",permalink:"/mysql/001/",categories:["æ°æ®åº","MySQL"],tags:["MySQL"]},regularPath:"/06.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MySQL/01.%E6%A6%82%E8%BF%B0.html",relativePath:"06.æ°æ®åº/01.MySQL/01.æ¦è¿°.md",key:"v-1ba1ada2",path:"/mysql/001/",headers:[{level:2,title:"1. ä¸ºä»ä¹è¦ä½¿ç¨æ°æ®åº",slug:"_1-ä¸ºä»ä¹è¦ä½¿ç¨æ°æ®åº",normalizedTitle:"1. ä¸ºä»ä¹è¦ä½¿ç¨æ°æ®åº",charIndex:57},{level:2,title:"2. æ°æ®åºä¸æ°æ®åºç®¡çç³»ç»",slug:"_2-æ°æ®åºä¸æ°æ®åºç®¡çç³»ç»",normalizedTitle:"2. æ°æ®åºä¸æ°æ®åºç®¡çç³»ç»",charIndex:250},{level:3,title:"2.1 æ°æ®åºçç¸å³æ¦å¿µ",slug:"_2-1-æ°æ®åºçç¸å³æ¦å¿µ",normalizedTitle:"2.1 æ°æ®åºçç¸å³æ¦å¿µ",charIndex:269},{level:3,title:"2.2 æ°æ®åºä¸æ°æ®åºç®¡çç³»ç»çå³ç³»",slug:"_2-2-æ°æ®åºä¸æ°æ®åºç®¡çç³»ç»çå³ç³»",normalizedTitle:"2.2 æ°æ®åºä¸æ°æ®åºç®¡çç³»ç»çå³ç³»",charIndex:505},{level:3,title:"2.3 å¸¸è§çæ°æ®åºç®¡çç³»ç»æå(DBMS)",slug:"_2-3-å¸¸è§çæ°æ®åºç®¡çç³»ç»æå-dbms",normalizedTitle:"2.3 å¸¸è§çæ°æ®åºç®¡çç³»ç»æå(dbms)",charIndex:641},{level:3,title:"2.4 å¸¸è§çæ°æ®åºä»ç»",slug:"_2-4-å¸¸è§çæ°æ®åºä»ç»",normalizedTitle:"2.4 å¸¸è§çæ°æ®åºä»ç»",charIndex:909},{level:2,title:"3. MySQLä»ç»",slug:"_3-mysqlä»ç»",normalizedTitle:"3. mysqlä»ç»",charIndex:1729},{level:3,title:"3.1 æ¦è¿°",slug:"_3-1-æ¦è¿°",normalizedTitle:"3.1 æ¦è¿°",charIndex:1746},{level:3,title:"3.2 MySQLåå±å²éå¤§äºä»¶",slug:"_3-2-mysqlåå±å²éå¤§äºä»¶",normalizedTitle:"3.2 mysqlåå±å²éå¤§äºä»¶",charIndex:2347},{level:3,title:"1.4 å³äºMySQL 8.0",slug:"_1-4-å³äºmysql-8-0",normalizedTitle:"1.4 å³äºmysql 8.0",charIndex:2489},{level:3,title:"1.5 Why choose MySQL?",slug:"_1-5-why-choose-mysql",normalizedTitle:"1.5 why choose mysql?",charIndex:2658},{level:3,title:"1.6 Oracle vs MySQL",slug:"_1-6-oracle-vs-mysql",normalizedTitle:"1.6 oracle vs mysql",charIndex:2835},{level:2,title:"4. RDBMS ä¸ éRDBMS",slug:"_4-rdbms-ä¸-érdbms",normalizedTitle:"4. rdbms ä¸ érdbms",charIndex:3045},{level:3,title:"4.1 å³ç³»åæ°æ®åº(RDBMS)",slug:"_4-1-å³ç³»åæ°æ®åº-rdbms",normalizedTitle:"4.1 å³ç³»åæ°æ®åº(rdbms)",charIndex:3160},{level:4,title:"4.1.1 å®è´¨",slug:"_4-1-1-å®è´¨",normalizedTitle:"4.1.1 å®è´¨",charIndex:3181},{level:4,title:"4.1.2 ä¼å¿",slug:"_4-1-2-ä¼å¿",normalizedTitle:"4.1.2 ä¼å¿",charIndex:3459},{level:3,title:"4.2 éå³ç³»åæ°æ®åº(éRDBMS)",slug:"_4-2-éå³ç³»åæ°æ®åº-érdbms",normalizedTitle:"4.2 éå³ç³»åæ°æ®åº(érdbms)",charIndex:3546},{level:4,title:"4.2.1 ä»ç»",slug:"_4-2-1-ä»ç»",normalizedTitle:"4.2.1 ä»ç»",charIndex:3569},{level:4,title:"4.2.2 æåªäºéå³ç³»åæ°æ®åº",slug:"_4-2-2-æåªäºéå³ç³»åæ°æ®åº",normalizedTitle:"4.2.2 æåªäºéå³ç³»åæ°æ®åº",charIndex:3687},{level:4,title:"4.2.3 NoSQLçæ¼å",slug:"_4-2-3-nosqlçæ¼å",normalizedTitle:"4.2.3 nosqlçæ¼å",charIndex:4723},{level:3,title:"4.3 å°ç»",slug:"_4-3-å°ç»",normalizedTitle:"4.3 å°ç»",charIndex:5157},{level:2,title:"5. å³ç³»åæ°æ®åºè®¾è®¡è§å",slug:"_5-å³ç³»åæ°æ®åºè®¾è®¡è§å",normalizedTitle:"5. å³ç³»åæ°æ®åºè®¾è®¡è§å",charIndex:5306},{level:3,title:"5.1 è¡¨ãè®°å½ãå­æ®µ",slug:"_5-1-è¡¨ãè®°å½ãå­æ®µ",normalizedTitle:"5.1 è¡¨ãè®°å½ãå­æ®µ",charIndex:5490},{level:3,title:"5.2 è¡¨çå³èå³ç³»",slug:"_5-2-è¡¨çå³èå³ç³»",normalizedTitle:"5.2 è¡¨çå³èå³ç³»",charIndex:5833},{level:4,title:"5.2.1 ä¸å¯¹ä¸å³èï¼one-to-oneï¼",slug:"_5-2-1-ä¸å¯¹ä¸å³è-one-to-one",normalizedTitle:"5.2.1 ä¸å¯¹ä¸å³èï¼one-to-oneï¼",charIndex:5941},{level:4,title:"5.2.2 ä¸å¯¹å¤å³ç³»ï¼one-to-manyï¼",slug:"_5-2-2-ä¸å¯¹å¤å³ç³»-one-to-many",normalizedTitle:"5.2.2 ä¸å¯¹å¤å³ç³»ï¼one-to-manyï¼",charIndex:6255},{level:4,title:"5.2.3 å¤å¯¹å¤ï¼many-to-manyï¼",slug:"_5-2-3-å¤å¯¹å¤-many-to-many",normalizedTitle:"5.2.3 å¤å¯¹å¤ï¼many-to-manyï¼",charIndex:6426},{level:4,title:"5.3.4 èªæå¼ç¨(Self reference)",slug:"_5-3-4-èªæå¼ç¨-self-reference",normalizedTitle:"5.3.4 èªæå¼ç¨(self reference)",charIndex:7058}],headersStr:"1. ä¸ºä»ä¹è¦ä½¿ç¨æ°æ®åº 2. æ°æ®åºä¸æ°æ®åºç®¡çç³»ç» 2.1 æ°æ®åºçç¸å³æ¦å¿µ 2.2 æ°æ®åºä¸æ°æ®åºç®¡çç³»ç»çå³ç³» 2.3 å¸¸è§çæ°æ®åºç®¡çç³»ç»æå(DBMS) 2.4 å¸¸è§çæ°æ®åºä»ç» 3. MySQLä»ç» 3.1 æ¦è¿° 3.2 MySQLåå±å²éå¤§äºä»¶ 1.4 å³äºMySQL 8.0 1.5 Why choose MySQL? 1.6 Oracle vs MySQL 4. RDBMS ä¸ éRDBMS 4.1 å³ç³»åæ°æ®åº(RDBMS) 4.1.1 å®è´¨ 4.1.2 ä¼å¿ 4.2 éå³ç³»åæ°æ®åº(éRDBMS) 4.2.1 ä»ç» 4.2.2 æåªäºéå³ç³»åæ°æ®åº 4.2.3 NoSQLçæ¼å 4.3 å°ç» 5. å³ç³»åæ°æ®åºè®¾è®¡è§å 5.1 è¡¨ãè®°å½ãå­æ®µ 5.2 è¡¨çå³èå³ç³» 5.2.1 ä¸å¯¹ä¸å³èï¼one-to-oneï¼ 5.2.2 ä¸å¯¹å¤å³ç³»ï¼one-to-manyï¼ 5.2.3 å¤å¯¹å¤ï¼many-to-manyï¼ 5.3.4 èªæå¼ç¨(Self reference)",content:"# 01 æ°æ®åºæ¦è¿°\n\n----------------------------------------\n\n\n# 1. ä¸ºä»ä¹è¦ä½¿ç¨æ°æ®åº\n\n * æä¹å(persistence)ï¼ææ°æ®ä¿å­å°å¯æçµå¼å­å¨è®¾å¤ä¸­ä»¥ä¾ä¹åä½¿ç¨ãå¤§å¤æ°æåµä¸ï¼ç¹å«æ¯ä¼ä¸çº§åºç¨ï¼æ°æ®æä¹åæå³çå°åå­ä¸­çæ°æ®ä¿å­å°ç¡¬çä¸å ä»¥âåºåâï¼èæä¹åçå®ç°è¿ç¨å¤§å¤éè¿åç§å³ç³»æ°æ®åºæ¥å®æã\n * æä¹åçä¸»è¦ä½ç¨æ¯å°åå­ä¸­çæ°æ®å­å¨å¨å³ç³»åæ°æ®åºä¸­ï¼å½ç¶ä¹å¯ä»¥å­å¨å¨ç£çæä»¶ãXMLæ°æ®æä»¶ä¸­ã\n\nçæ´»ä¸­çä¾å­ï¼\n\n\n\n\n# 2. æ°æ®åºä¸æ°æ®åºç®¡çç³»ç»\n\n\n# 2.1 æ°æ®åºçç¸å³æ¦å¿µ\n\nDBï¼æ°æ®åºï¼DATABASEï¼\nå³å­å¨æ°æ®çâä»åºâï¼å¶æ¬è´¨æ¯ä¸ä¸ªæä»¶ç³»ç»ãå®ä¿å­äºä¸ç³»åæç»ç»çæ°æ®ã\nDBMSï¼æ°æ®åºç®¡çç³»ç»ï¼Database Management Systemï¼\næ¯ä¸ç§æçºµåç®¡çæ°æ®åºçå¤§åè½¯ä»¶ï¼ç¨äºå»ºç«ãä½¿ç¨åç»´æ¤æ°æ®åºï¼å¯¹æ°æ®åºè¿è¡ç»ä¸ç®¡çåæ§å¶ãç¨æ·éè¿æ°æ®åºç®¡çç³»ç»è®¿é®æ°æ®åºä¸­è¡¨åçæ°æ®ã\nSQLï¼ç»æåæ¥è¯¢è¯­è¨ï¼Structured Query Languageï¼\nä¸é¨ç¨æ¥ä¸æ°æ®åºéä¿¡çè¯­è¨ã\n\n\n# 2.2 æ°æ®åºä¸æ°æ®åºç®¡çç³»ç»çå³ç³»\n\næ°æ®åºç®¡çç³»ç»(DBMS)å¯ä»¥ç®¡çå¤ä¸ªæ°æ®åºï¼ä¸è¬å¼åäººåä¼éå¯¹æ¯ä¸ä¸ªåºç¨åå»ºä¸ä¸ªæ°æ®åºãä¸ºä¿å­åºç¨ä¸­å®ä½çæ°æ®ï¼ä¸è¬ä¼å¨æ°æ®åºåå»ºå¤ä¸ªè¡¨ï¼ä»¥ä¿å­ç¨åºä¸­å®ä½ç¨æ·çæ°æ®ã\n\næ°æ®åºç®¡çç³»ç»ãæ°æ®åºåè¡¨çå³ç³»å¦å¾æç¤ºï¼\n\n\n\n\n\n\n# 2.3 å¸¸è§çæ°æ®åºç®¡çç³»ç»æå(DBMS)\n\nç®åäºèç½ä¸å¸¸è§çæ°æ®åºç®¡çè½¯ä»¶æOracleãMySQLãMS SQL ServerãDB2ãPostgreSQLãAccessãSybaseãInformixè¿å ç§ãä»¥ä¸æ¯2021å¹´DB-Engines Ranking å¯¹åæ°æ®åºåæ¬¢è¿ç¨åº¦è¿è¡è°æ¥åçç»è®¡ç»æï¼ï¼æ¥çæ°æ®åºææ°æå:https://db-engines.com/en/rankingï¼\n\n\n\nããã\n\n\n\nå¯¹åºçèµ°å¿å¾ï¼ï¼https://db-engines.com/en/ranking_trendï¼\n\n\n\n\n# 2.4 å¸¸è§çæ°æ®åºä»ç»\n\nOracle\n\n1979 å¹´ï¼Oracle 2 è¯çï¼å®æ¯ç¬¬ä¸ä¸ªåç¨ç RDBMSï¼å³ç³»åæ°æ®åºç®¡çç³»ç»ï¼ãéç Oracle è½¯ä»¶çåæ°è¶æ¥è¶å¤§ï¼å¬å¸ä¹æ¹åå« Oracle å¬å¸ã\n\n2007å¹´ï¼æ»è®¡85äº¿ç¾éæ¶è´­BEA Systemsã\n\n2009å¹´ï¼æ»è®¡74äº¿ç¾éæ¶è´­SUNãæ­¤åç2008å¹´ï¼SUNä»¥10äº¿ç¾éæ¶è´­MySQLãæå³çOracle åæ¶æ¥æäº MySQL çç®¡çæï¼è³æ­¤ Oracle å¨æ°æ®åºé¢åä¸­æä¸ºç»å¯¹çé¢å¯¼èã\n\n2013å¹´ï¼ç²éª¨æè¶è¶IBMï¼æä¸ºç»§Microsoftåå¨çç¬¬äºå¤§è½¯ä»¶å¬å¸ã\n\nå¦ä» Oracle çå¹´æ¶å¥è¾¾å°äº 400 äº¿ç¾éï¼è¶³ä»¥è¯æåç¨ï¼æ¶è´¹ï¼æ°æ®åºè½¯ä»¶çä»·å¼ã\n\nSQL Server\n\nSQL Server æ¯å¾®è½¯å¼åçå¤§ååä¸æ°æ®åºï¼è¯çäº 1989 å¹´ãC#ã.netç­è¯­è¨å¸¸ä½¿ç¨ï¼ä¸WinNTå®å¨éæï¼ä¹å¯ä»¥å¾å¥½å°ä¸Microsoft BackOfficeäº§åéæã\n\nDB2\n\nIBMå¬å¸çæ°æ®åºäº§å,æ¶è´¹çãå¸¸åºç¨å¨é¶è¡ç³»ç»ä¸­ã\n\nPostgreSQL\n\nPostgreSQL çç¨³å®æ§æå¼ºï¼æç¬¦åSQLæ åï¼å¼æ¾æºç ï¼å·å¤åä¸çº§DBMSè´¨éãPGå¯¹æ°æ®éå¤§çææ¬ä»¥åSQLå¤çè¾å¿«ã\n\nSyBase\n\nå·²ç»æ·¡åºåå²èå°ãæä¾äºä¸ä¸ªéå¸¸ä¸ä¸æ°æ®å»ºæ¨¡çå·¥å·PowerDesignerã\n\nSQLite\n\nåµå¥å¼çå°åæ°æ®åºï¼åºç¨å¨ææºç«¯ã é¶éç½®ï¼SQlite3ä¸ç¨å®è£ï¼ä¸ç¨éç½®ï¼ä¸ç¨å¯å¨ï¼å³é­æèéç½®æ°æ®åºå®ä¾ãå½ç³»ç»å´©æºåä¸ç¨åä»»ä½æ¢å¤æä½ï¼åä¸æ¬¡ä½¿ç¨æ°æ®åºçæ¶åèªå¨æ¢å¤ã\n\ninformix\n\nIBMå¬å¸åºåï¼åèªInformation åUnixçç»åï¼å®æ¯ç¬¬ä¸ä¸ªè¢«ç§»æ¤å°Linuxä¸çåä¸æ°æ®åºäº§åãä»è¿è¡äºunix/linuxå¹³å°ï¼å½ä»¤è¡æä½ã æ§è½è¾é«ï¼æ¯æéç¾¤ï¼éåºäºå®å¨æ§è¦æ±æé«çç³»ç»ï¼å°¤å¶æ¯é¶è¡ï¼è¯å¸ç³»ç»çåºç¨ã\n\n\n# 3. MySQLä»ç»\n\n\n\n\n# 3.1 æ¦è¿°\n\n * MySQLæ¯ä¸ä¸ªå¼æ¾æºä»£ç çå³ç³»åæ°æ®åºç®¡çç³»ç»ï¼ç±çå¸MySQL ABï¼åå§äººMichael Wideniusï¼å¬å¸1995å¹´å¼åï¼è¿éæä¸ºå¼æºæ°æ®åºç No.1ã\n * 2008è¢«Sunæ¶è´­ï¼10äº¿ç¾éï¼ï¼2009å¹´Sunè¢«Oracleæ¶è´­ãMariaDBåºè¿èçãï¼MySQL çåé èæå¿ MySQL æé­æºçé£é©ï¼å æ­¤åå»ºäº MySQL çåæ¯é¡¹ç® MariaDBï¼\n * MySQL6.x çæ¬ä¹ååä¸ºç¤¾åºçååä¸çã\n * MySQLæ¯ä¸ç§å³èæ°æ®åºç®¡çç³»ç»ï¼å°æ°æ®ä¿å­å¨ä¸åçè¡¨ä¸­ï¼èä¸æ¯å°æææ°æ®æ¾å¨ä¸ä¸ªå¤§ä»åºåï¼è¿æ ·å°±å¢å äºéåº¦å¹¶æé«äºçµæ´»æ§ã\n * MySQLæ¯å¼æºçï¼æä»¥ä½ ä¸éè¦æ¯ä»é¢å¤çè´¹ç¨ã\n * MySQLæ¯å¯ä»¥å®å¶çï¼éç¨äºGPLï¼GNU General Public Licenseï¼åè®®ï¼ä½ å¯ä»¥ä¿®æ¹æºç æ¥å¼åèªå·±çMySQLç³»ç»ã\n * MySQLæ¯æå¤§åçæ°æ®åºãå¯ä»¥å¤çæ¥æä¸åä¸æ¡è®°å½çå¤§åæ°æ®åºã\n * MySQLæ¯æå¤§åæ°æ®åºï¼æ¯æ5000ä¸æ¡è®°å½çæ°æ®ä»åºï¼32ä½ç³»ç»è¡¨æä»¶æå¤§å¯æ¯æ4GBï¼64ä½ç³»ç»æ¯ææå¤§çè¡¨æä»¶ä¸º8TBã\n * MySQLä½¿ç¨æ åçSQLæ°æ®è¯­è¨å½¢å¼ã\n * MySQLå¯ä»¥åè®¸è¿è¡äºå¤ä¸ªç³»ç»ä¸ï¼å¹¶ä¸æ¯æå¤ç§è¯­è¨ãè¿äºç¼ç¨è¯­è¨åæ¬CãC++ãPythonãJavaãPerlãPHPåRubyç­ã\n\n\n# 3.2 MySQLåå±å²éå¤§äºä»¶\n\nMySQLçåå²å°±æ¯æ´ä¸ªäºèç½çåå±å²ãäºèç½ä¸å¡ä»ç¤¾äº¤é¢åãçµåé¢åå°éèé¢åçåå±ï¼æ¨å¨çåºç¨å¯¹æ°æ®åºçéæ±æåï¼å¯¹ä¼ ç»çæ°æ®åºæå¡è½åæåºäºææãé«å¹¶åãé«æ§è½ãé«å¯ç¨ãè½»èµæºãæç»´æ¤ãææ©å±çéæ±ï¼ä¿è¿äºMySQLçé¿è¶³åå±ã\n\n\n\n\n# 1.4 å³äºMySQL 8.0\n\nMySQLä»5.7çæ¬ç´æ¥è·³è·åå¸äº8.0çæ¬ï¼å¯è§è¿æ¯ä¸ä¸ªä»¤äººå´å¥çéç¨ç¢çæ¬ãMySQL 8çæ¬å¨åè½ä¸åäºæ¾èçæ¹è¿ä¸å¢å¼ºï¼å¼åèå¯¹MySQLçæºä»£ç è¿è¡äºéæï¼æçªåºçä¸ç¹æ¯å¤MySQL Optimizerä¼åå¨è¿è¡äºæ¹è¿ãä¸ä»å¨éåº¦ä¸å¾å°äºæ¹åï¼è¿ä¸ºç¨æ·å¸¦æ¥äºæ´å¥½çæ§è½åæ´æ£çä½éªã\n\n\n# 1.5 Why choose MySQL?\n\n\n\nä¸ºä»ä¹å¦æ­¤å¤çååè¦éç¨MySQLï¼å¤§æ¦æ»ç»çåå ä¸»è¦æä»¥ä¸å ç¹ï¼\n\n 1. å¼æ¾æºä»£ç ï¼ä½¿ç¨ææ¬ä½ã\n\n 2. æ§è½åè¶ï¼æå¡ç¨³å®ã\n\n 3. è½¯ä»¶ä½ç§¯å°ï¼ä½¿ç¨ç®åï¼å¹¶ä¸æäºç»´æ¤ã\n\n 4. åå²æ ä¹ï¼ç¤¾åºç¨æ·éå¸¸æ´»è·ï¼éå°é®é¢å¯ä»¥å¯»æ±å¸®å©ã\n\n 5. è®¸å¤äºèç½å¬å¸å¨ç¨ï¼ç»è¿äºæ¶é´çéªè¯ã\n\n\n# 1.6 Oracle vs MySQL\n\nOracle æ´éåå¤§åè·¨å½ä¼ä¸çä½¿ç¨ï¼å ä¸ºä»ä»¬å¯¹è´¹ç¨ä¸ææï¼ä½æ¯å¯¹æ§è½è¦æ±ä»¥åå®å¨æ§ææ´é«çè¦æ±ã\n\nMySQL ç±äºå¶ä½ç§¯å°ãéåº¦å¿«ãæ»ä½æ¥æææ¬ä½ï¼å¯å¤çä¸åä¸æ¡è®°å½çå¤§åæ°æ®åºï¼å°¤å¶æ¯å¼æ¾æºç è¿ä¸ç¹ç¹ï¼ä½¿å¾å¾å¤äºèç½å¬å¸ãä¸­å°åç½ç«éæ©äºMySQLä½ä¸ºç½ç«æ°æ®åºï¼Facebookï¼Twitterï¼YouTubeï¼é¿éå·´å·´/èèéæï¼å»åªå¿ï¼ç¾å¢å¤åï¼è¾è®¯ï¼ã\n\n\n# 4. RDBMS ä¸ éRDBMS\n\nä»æåä¸­æä»¬è½çåºæ¥ï¼å³ç³»åæ°æ®åºç»å¯¹æ¯ DBMS çä¸»æµï¼å¶ä¸­ä½¿ç¨æå¤ç DBMS åå«æ¯ OracleãMySQL å SQL Serverãè¿äºé½æ¯å³ç³»åæ°æ®åºï¼RDBMSï¼ã\n\n\n# 4.1 å³ç³»åæ°æ®åº(RDBMS)\n\n# 4.1.1 å®è´¨\n\n * è¿ç§ç±»åçæ°æ®åºæ¯æå¤èçæ°æ®åºç±»åï¼å³ç³»åæ°æ®åºæ¨¡åæ¯æå¤æçæ°æ®ç»æå½ç»ä¸ºç®åçäºåå³ç³»ï¼å³äºç»´è¡¨æ ¼å½¢å¼ï¼ã\n   \n   \n\n * å³ç³»åæ°æ®åºä»¥è¡(row)åå(column)çå½¢å¼å­å¨æ°æ®ï¼ä»¥ä¾¿äºç¨æ·çè§£ãè¿ä¸ç³»åçè¡ååè¢«ç§°ä¸ºè¡¨(table)ï¼ä¸ç»è¡¨ç»æäºä¸ä¸ªåº(database)ã\n\n * è¡¨ä¸è¡¨ä¹é´çæ°æ®è®°å½æå³ç³»(relationship)ãç°å®ä¸çä¸­çåç§å®ä½ä»¥åå®ä½ä¹é´çåç§èç³»åç¨å³ç³»æ¨¡åæ¥è¡¨ç¤ºãå³ç³»åæ°æ®åºï¼å°±æ¯å»ºç«å¨å³ç³»æ¨¡ååºç¡ä¸çæ°æ®åºã\n\n * SQL å°±æ¯å³ç³»åæ°æ®åºçæ¥è¯¢è¯­è¨ã\n\n\n\n# 4.1.2 ä¼å¿\n\n * å¤ææ¥è¯¢ å¯ä»¥ç¨SQLè¯­å¥æ¹ä¾¿çå¨ä¸ä¸ªè¡¨ä»¥åå¤ä¸ªè¡¨ä¹é´åéå¸¸å¤æçæ°æ®æ¥è¯¢ã\n * äºå¡æ¯æ ä½¿å¾å¯¹äºå®å¨æ§è½å¾é«çæ°æ®è®¿é®è¦æ±å¾ä»¥å®ç°ã\n\n\n# 4.2 éå³ç³»åæ°æ®åº(éRDBMS)\n\n# 4.2.1 ä»ç»\n\néå³ç³»åæ°æ®åºï¼å¯çæä¼ ç»å³ç³»åæ°æ®åºçåè½éå²çæ¬ï¼åºäºé®å¼å¯¹å­å¨æ°æ®ï¼ä¸éè¦ç»è¿SQLå±çè§£æï¼æ§è½éå¸¸é«ãåæ¶ï¼éè¿åå°ä¸å¸¸ç¨çåè½ï¼è¿ä¸æ­¥æé«æ§è½ã\n\nç®ååºæ¬ä¸å¤§é¨åä¸»æµçéå³ç³»åæ°æ®åºé½æ¯åè´¹çã\n\n# 4.2.2 æåªäºéå³ç³»åæ°æ®åº\n\nç¸æ¯äº SQLï¼NoSQL æ³æéå³ç³»åæ°æ®åºï¼åæ¬äºæ¦åä¸çé®å¼åæ°æ®åºãææ¡£åæ°æ®åºãæç´¢å¼æååå­å¨ç­ï¼é¤æ­¤ä»¥å¤è¿åæ¬å¾å½¢æ°æ®åºãä¹åªæç¨ NoSQL ä¸è¯æè½å°è¿äºææ¯åæ¬è¿æ¥ã\n\né®å¼åæ°æ®åº\n\né®å¼åæ°æ®åºéè¿ Key-Value é®å¼çæ¹å¼æ¥å­å¨æ°æ®ï¼å¶ä¸­ Key å Value å¯ä»¥æ¯ç®åçå¯¹è±¡ï¼ä¹å¯ä»¥æ¯å¤æçå¯¹è±¡ãKey ä½ä¸ºå¯ä¸çæ è¯ç¬¦ï¼ä¼ç¹æ¯æ¥æ¾éåº¦å¿«ï¼å¨è¿æ¹é¢ææ¾ä¼äºå³ç³»åæ°æ®åºï¼ç¼ºç¹æ¯æ æ³åå³ç³»åæ°æ®åºä¸æ ·ä½¿ç¨æ¡ä»¶è¿æ»¤ï¼æ¯å¦ WHEREï¼ï¼å¦æä½ ä¸ç¥éå»åªéæ¾æ°æ®ï¼å°±è¦éåææçé®ï¼è¿å°±ä¼æ¶èå¤§éçè®¡ç®ã\n\né®å¼åæ°æ®åºå¸åçä½¿ç¨åºæ¯æ¯ä½ä¸ºåå­ç¼å­ãRedisæ¯ææµè¡çé®å¼åæ°æ®åºã\n\n\n\nææ¡£åæ°æ®åº\n\næ­¤ç±»æ°æ®åºå¯å­æ¾å¹¶è·åææ¡£ï¼å¯ä»¥æ¯XMLãJSONç­æ ¼å¼ãå¨æ°æ®åºä¸­ææ¡£ä½ä¸ºå¤çä¿¡æ¯çåºæ¬åä½ï¼ä¸ä¸ªææ¡£å°±ç¸å½äºä¸æ¡è®°å½ãææ¡£æ°æ®åºæå­æ¾çææ¡£ï¼å°±ç¸å½äºé®å¼æ°æ®åºæå­æ¾çâå¼âãMongoDB æ¯ææµè¡çææ¡£åæ°æ®åºãæ­¤å¤ï¼è¿æCouchDBç­ã\n\næç´¢å¼ææ°æ®åº\n\nè½ç¶å³ç³»åæ°æ®åºéç¨äºç´¢å¼æåæ£ç´¢æçï¼ä½æ¯éå¯¹å¨æç´¢å¼æçå´è¾ä½ãæç´¢å¼ææ°æ®åºæ¯åºç¨å¨æç´¢å¼æé¢åçæ°æ®å­å¨å½¢å¼ï¼ç±äºæç´¢å¼æä¼ç¬åå¤§éçæ°æ®ï¼å¹¶ä»¥ç¹å®çæ ¼å¼è¿è¡å­å¨ï¼è¿æ ·å¨æ£ç´¢çæ¶åæè½ä¿è¯æ§è½æä¼ãæ ¸å¿åçæ¯âåæç´¢å¼âã\n\nå¸åäº§åï¼SolrãElasticsearchãSplunk ç­ã\n\nåå¼æ°æ®åº\n\nåå¼æ°æ®åºæ¯ç¸å¯¹äºè¡å¼å­å¨çæ°æ®åºï¼OracleãMySQLãSQL Server ç­æ°æ®åºé½æ¯éç¨çè¡å¼å­å¨ï¼Row-basedï¼ï¼èåå¼æ°æ®åºæ¯å°æ°æ®æç§åå­å¨å°æ°æ®åºä¸­ï¼è¿æ ·åçå¥½å¤æ¯å¯ä»¥å¤§ééä½ç³»ç»ç I/Oï¼éåäºåå¸å¼æä»¶ç³»ç»ï¼ä¸è¶³å¨äºåè½ç¸å¯¹æéãå¸åäº§åï¼HBaseç­ã\n\n\n\nå¾å½¢æ°æ®åº\n\nå¾å½¢æ°æ®åºï¼å©ç¨äºå¾è¿ç§æ°æ®ç»æå­å¨äºå®ä½ï¼å¯¹è±¡ï¼ä¹é´çå³ç³»ãå¾å½¢æ°æ®åºæå¸åçä¾å­å°±æ¯ç¤¾äº¤ç½ç»ä¸­äººä¸äººçå³ç³»ï¼æ°æ®æ¨¡åä¸»è¦æ¯ä»¥èç¹åè¾¹ï¼å³ç³»ï¼æ¥å®ç°ï¼ç¹ç¹å¨äºè½é«æå°è§£å³å¤æçå³ç³»é®é¢ã\n\nå¾å½¢æ°æ®åºé¡¾åæä¹ï¼å°±æ¯ä¸ç§å­å¨å¾å½¢å³ç³»çæ°æ®åºãå®å©ç¨äºå¾è¿ç§æ°æ®ç»æå­å¨äºå®ä½ï¼å¯¹è±¡ï¼ä¹é´çå³ç³»ãå³ç³»åæ°æ®ç¨äºå­å¨æç¡®å³ç³»çæ°æ®ï¼ä½å¯¹äºå¤æå³ç³»çæ°æ®å­å¨å´æäºåä¸ä»å¿ãå¦ç¤¾äº¤ç½ç»ä¸­äººç©ä¹é´çå³ç³»ï¼å¦æç¨å³ç³»åæ°æ®åºåéå¸¸å¤æï¼ç¨å¾å½¢æ°æ®åºå°éå¸¸ç®åãå¸åäº§åï¼Neo4JãInfoGridç­ã\n\n# 4.2.3 NoSQLçæ¼å\n\nç±äº SQL ä¸ç´ç§°é¸ DBMSï¼å æ­¤è®¸å¤äººå¨æèæ¯å¦æä¸ç§æ°æ®åºææ¯è½è¿ç¦» SQLï¼äºæ¯ NoSQL è¯çäºï¼ä½æ¯éçåå±å´åç°è¶æ¥è¶ç¦»ä¸å¼ SQLãå°ç®åä¸ºæ­¢ NoSQL éµè¥ä¸­ç DBMS é½ä¼æå®ç°ç±»ä¼¼ SQL çåè½ãä¸é¢æ¯âNoSQLâè¿ä¸ªåè¯å¨ä¸åæ¶æçè¯ éï¼ä»è¿äºéä¹çååä¸­å¯ä»¥çåº NoSQL åè½çæ¼åï¼\n\n1970ï¼NoSQL = We have no SQL\n\n1980ï¼NoSQL = Know SQL\n\n2000ï¼NoSQL = No SQL!\n\n2005ï¼NoSQL = Not only SQL\n\n2013ï¼NoSQL = No, SQL!\n\nNoSQL å¯¹ SQL ååºäºå¾å¥½çè¡¥åï¼æ¯å¦å®éå¼åä¸­ï¼æå¾å¤ä¸å¡éæ±ï¼å¶å®å¹¶ä¸éè¦å®æ´çå³ç³»åæ°æ®åºåè½ï¼éå³ç³»åæ°æ®åºçåè½å°±è¶³å¤ä½¿ç¨äºãè¿ç§æåµä¸ï¼ä½¿ç¨æ§è½æ´é«ãææ¬æ´ä½çéå³ç³»åæ°æ®åºå½ç¶æ¯æ´ææºçéæ©ãæ¯å¦ï¼æ¥å¿æ¶éãæè¡æ¦ãå®æ¶å¨ç­ã\n\n\n# 4.3 å°ç»\n\nNoSQL çåç±»å¾å¤ï¼å³ä¾¿å¦æ­¤ï¼å¨ DBMS æåä¸­ï¼è¿æ¯ SQL éµè¥çæ¯éæ´å¤§ï¼å½±ååå 5 ç DBMS ä¸­æ 4 ä¸ªæ¯å³ç³»åæ°æ®åºï¼èæåå 20 ç DBMS ä¸­ä¹æ 12 ä¸ªæ¯å³ç³»åæ°æ®åºãæä»¥è¯´ï¼ææ¡ SQL æ¯éå¸¸æå¿è¦çãæ´å¥è¯¾ç¨å°å´ç» SQL å±å¼ã\n\n\n# 5. å³ç³»åæ°æ®åºè®¾è®¡è§å\n\n * å³ç³»åæ°æ®åºçå¸åæ°æ®ç»æå°±æ¯æ°æ®è¡¨ï¼è¿äºæ°æ®è¡¨çç»æé½æ¯ç»æåçï¼Structuredï¼ã\n\n * å°æ°æ®æ¾å°è¡¨ä¸­ï¼è¡¨åæ¾å°åºä¸­ã\n\n * ä¸ä¸ªæ°æ®åºä¸­å¯ä»¥æå¤ä¸ªè¡¨ï¼æ¯ä¸ªè¡¨é½æä¸ä¸ªåå­ï¼ç¨æ¥æ è¯èªå·±ãè¡¨åå·æå¯ä¸æ§ã\n\n * è¡¨å·æä¸äºç¹æ§ï¼è¿äºç¹æ§å®ä¹äºæ°æ®å¨è¡¨ä¸­å¦ä½å­å¨ï¼ç±»ä¼¼JavaåPythonä¸­ âç±»âçè®¾è®¡ã\n\n\n# 5.1 è¡¨ãè®°å½ãå­æ®µ\n\n * E-Rï¼entity-relationshipï¼å®ä½-èç³»ï¼æ¨¡åä¸­æä¸ä¸ªä¸»è¦æ¦å¿µæ¯ï¼å®ä½éãå±æ§ãèç³»éã\n\n * ä¸ä¸ªå®ä½éï¼classï¼å¯¹åºäºæ°æ®åºä¸­çä¸ä¸ªè¡¨ï¼tableï¼ï¼ä¸ä¸ªå®ä½ï¼instanceï¼åå¯¹åºäºæ°æ®åºè¡¨ä¸­çä¸è¡ï¼rowï¼ï¼ä¹ç§°ä¸ºä¸æ¡è®°å½ï¼recordï¼ãä¸ä¸ªå±æ§ï¼attributeï¼å¯¹åºäºæ°æ®åºè¡¨ä¸­çä¸åï¼columnï¼ï¼ä¹ç§°ä¸ºä¸ä¸ªå­æ®µï¼fieldï¼ã\n\n\n\nORMææ³ (Object Relational Mapping)ä½ç°ï¼\næ°æ®åºä¸­çä¸ä¸ªè¡¨  <---\x3e JavaæPythonä¸­çä¸ä¸ªç±»\nè¡¨ä¸­çä¸æ¡æ°æ®  <---\x3e ç±»ä¸­çä¸ä¸ªå¯¹è±¡ï¼æå®ä½ï¼\nè¡¨ä¸­çä¸ä¸ªå  <----\x3e ç±»ä¸­çä¸ä¸ªå­æ®µãå±æ§(field)\n\n\n\n# 5.2 è¡¨çå³èå³ç³»\n\n * è¡¨ä¸è¡¨ä¹é´çæ°æ®è®°å½æå³ç³»(relationship)ãç°å®ä¸çä¸­çåç§å®ä½ä»¥åå®ä½ä¹é´çåç§èç³»åç¨å³ç³»æ¨¡åæ¥è¡¨ç¤ºã\n\n * åç§ï¼ä¸å¯¹ä¸å³èãä¸å¯¹å¤å³èãå¤å¯¹å¤å³èãèªæå¼ç¨\n\n# 5.2.1 ä¸å¯¹ä¸å³èï¼one-to-oneï¼\n\n * å¨å®éçå¼åä¸­åºç¨ä¸å¤ï¼å ä¸ºä¸å¯¹ä¸å¯ä»¥åå»ºæä¸å¼ è¡¨ã\n * ä¸¾ä¾ï¼è®¾è®¡å­¦çè¡¨ï¼å­¦å·ãå§åãææºå·ç ãç­çº§ãç³»å«ãèº«ä»½è¯å·ç ãå®¶åº­ä½åãç±è´¯ãç´§æ¥èç³»äººã...\n   \n   * æä¸ºä¸¤ä¸ªè¡¨ï¼ä¸¤ä¸ªè¡¨çè®°å½æ¯ä¸ä¸å¯¹åºå³ç³»ã\n   \n   * åºç¡ä¿¡æ¯è¡¨ï¼å¸¸ç¨ä¿¡æ¯ï¼ï¼å­¦å·ãå§åãææºå·ç ãç­çº§ãç³»å«\n   \n   * æ¡£æ¡ä¿¡æ¯è¡¨ï¼ä¸å¸¸ç¨ä¿¡æ¯ï¼ï¼å­¦å·ãèº«ä»½è¯å·ç ãå®¶åº­ä½åãç±è´¯ãç´§æ¥èç³»äººã...\n\n * ä¸¤ç§å»ºè¡¨ååï¼\n   * å¤é®å¯ä¸ï¼ä¸»è¡¨çä¸»é®åä»è¡¨çå¤é®ï¼å¯ä¸ï¼ï¼å½¢æä¸»å¤é®å³ç³»ï¼å¤é®å¯ä¸ã\n   * å¤é®æ¯ä¸»é®ï¼ä¸»è¡¨çä¸»é®åä»è¡¨çä¸»é®ï¼å½¢æä¸»å¤é®å³ç³»ã\n\n\n\n# 5.2.2 ä¸å¯¹å¤å³ç³»ï¼one-to-manyï¼\n\n * å¸¸è§å®ä¾åºæ¯ï¼å®¢æ·è¡¨åè®¢åè¡¨ï¼åç±»è¡¨åååè¡¨ï¼é¨é¨è¡¨ååå·¥è¡¨ã\n * ä¸¾ä¾ï¼\n   \n   * åå·¥è¡¨ï¼ç¼å·ãå§åã...ãæå±é¨é¨\n   \n   * é¨é¨è¡¨ï¼ç¼å·ãåç§°ãç®ä»\n\n * ä¸å¯¹å¤å»ºè¡¨ååï¼å¨ä»è¡¨(å¤æ¹)åå»ºä¸ä¸ªå­æ®µï¼å­æ®µä½ä¸ºå¤é®æåä¸»è¡¨(ä¸æ¹)çä¸»é®\n\n\n\n\n\n\n\n# 5.2.3 å¤å¯¹å¤ï¼many-to-manyï¼\n\nè¦è¡¨ç¤ºå¤å¯¹å¤å³ç³»ï¼å¿é¡»åå»ºç¬¬ä¸ä¸ªè¡¨ï¼è¯¥è¡¨éå¸¸ç§°ä¸ºèæ¥è¡¨ï¼å®å°å¤å¯¹å¤å³ç³»ååä¸ºä¸¤ä¸ªä¸å¯¹å¤å³ç³»ãå°è¿ä¸¤ä¸ªè¡¨çä¸»é®é½æå¥å°ç¬¬ä¸ä¸ªè¡¨ä¸­ã\n\n\n\n * ä¸¾ä¾1ï¼å­¦ç-è¯¾ç¨\n   \n   * å­¦çä¿¡æ¯è¡¨ï¼ä¸è¡ä»£è¡¨ä¸ä¸ªå­¦ççä¿¡æ¯ï¼å­¦å·ãå§åãææºå·ç ãç­çº§ãç³»å«...ï¼\n   \n   * è¯¾ç¨ä¿¡æ¯è¡¨ï¼ä¸è¡ä»£è¡¨ä¸ä¸ªè¯¾ç¨çä¿¡æ¯ï¼è¯¾ç¨ç¼å·ãæè¯¾èå¸ãç®ä»...ï¼\n   \n   * éè¯¾ä¿¡æ¯è¡¨ï¼ä¸ä¸ªå­¦çå¯ä»¥éå¤é¨è¯¾ï¼ä¸é¨è¯¾å¯ä»¥è¢«å¤ä¸ªå­¦çéæ©\n     \n     å­¦å·     è¯¾ç¨ç¼å·  \n     1        1001\n     2        1001\n     1        1002\n     \n\n * ä¸¾ä¾2ï¼äº§å-è®¢å\n   \n   âè®¢åâè¡¨åâäº§åâè¡¨æä¸ç§å¤å¯¹å¤çå³ç³»ï¼è¿ç§å³ç³»æ¯éè¿ä¸âè®¢åæç»âè¡¨å»ºç«ä¸¤ä¸ªä¸å¯¹å¤å³ç³»æ¥å®ä¹çãä¸ä¸ªè®¢åå¯ä»¥æå¤ä¸ªäº§åï¼æ¯ä¸ªäº§åå¯ä»¥åºç°å¨å¤ä¸ªè®¢åä¸­ã\n   \n   * äº§åè¡¨ï¼âäº§åâè¡¨ä¸­çæ¯æ¡è®°å½è¡¨ç¤ºä¸ä¸ªäº§åã\n   * è®¢åè¡¨ï¼âè®¢åâè¡¨ä¸­çæ¯æ¡è®°å½è¡¨ç¤ºä¸ä¸ªè®¢åã\n   * è®¢åæç»è¡¨ï¼æ¯ä¸ªäº§åå¯ä»¥ä¸âè®¢åâè¡¨ä¸­çå¤æ¡è®°å½å¯¹åºï¼å³åºç°å¨å¤ä¸ªè®¢åä¸­ãä¸ä¸ªè®¢åå¯ä»¥ä¸âäº§åâè¡¨ä¸­çå¤æ¡è®°å½å¯¹åºï¼å³åå«å¤ä¸ªäº§åã\n\n\n\n * ä¸¾ä¾3ï¼ç¨æ·-è§è²\n * å¤å¯¹å¤å³ç³»å»ºè¡¨ååï¼éè¦åå»ºç¬¬ä¸å¼ è¡¨ï¼ä¸­é´è¡¨ä¸­è³å°ä¸¤ä¸ªå­æ®µï¼è¿ä¸¤ä¸ªå­æ®µåå«ä½ä¸ºå¤é®æååèªä¸æ¹çä¸»é®ã\n\n\n\n# 5.3.4 èªæå¼ç¨(Self reference)\n\n",normalizedContent:"# 01 æ°æ®åºæ¦è¿°\n\n----------------------------------------\n\n\n# 1. ä¸ºä»ä¹è¦ä½¿ç¨æ°æ®åº\n\n * æä¹å(persistence)ï¼ææ°æ®ä¿å­å°å¯æçµå¼å­å¨è®¾å¤ä¸­ä»¥ä¾ä¹åä½¿ç¨ãå¤§å¤æ°æåµä¸ï¼ç¹å«æ¯ä¼ä¸çº§åºç¨ï¼æ°æ®æä¹åæå³çå°åå­ä¸­çæ°æ®ä¿å­å°ç¡¬çä¸å ä»¥âåºåâï¼èæä¹åçå®ç°è¿ç¨å¤§å¤éè¿åç§å³ç³»æ°æ®åºæ¥å®æã\n * æä¹åçä¸»è¦ä½ç¨æ¯å°åå­ä¸­çæ°æ®å­å¨å¨å³ç³»åæ°æ®åºä¸­ï¼å½ç¶ä¹å¯ä»¥å­å¨å¨ç£çæä»¶ãxmlæ°æ®æä»¶ä¸­ã\n\nçæ´»ä¸­çä¾å­ï¼\n\n\n\n\n# 2. æ°æ®åºä¸æ°æ®åºç®¡çç³»ç»\n\n\n# 2.1 æ°æ®åºçç¸å³æ¦å¿µ\n\ndbï¼æ°æ®åºï¼databaseï¼\nå³å­å¨æ°æ®çâä»åºâï¼å¶æ¬è´¨æ¯ä¸ä¸ªæä»¶ç³»ç»ãå®ä¿å­äºä¸ç³»åæç»ç»çæ°æ®ã\ndbmsï¼æ°æ®åºç®¡çç³»ç»ï¼database management systemï¼\næ¯ä¸ç§æçºµåç®¡çæ°æ®åºçå¤§åè½¯ä»¶ï¼ç¨äºå»ºç«ãä½¿ç¨åç»´æ¤æ°æ®åºï¼å¯¹æ°æ®åºè¿è¡ç»ä¸ç®¡çåæ§å¶ãç¨æ·éè¿æ°æ®åºç®¡çç³»ç»è®¿é®æ°æ®åºä¸­è¡¨åçæ°æ®ã\nsqlï¼ç»æåæ¥è¯¢è¯­è¨ï¼structured query languageï¼\nä¸é¨ç¨æ¥ä¸æ°æ®åºéä¿¡çè¯­è¨ã\n\n\n# 2.2 æ°æ®åºä¸æ°æ®åºç®¡çç³»ç»çå³ç³»\n\næ°æ®åºç®¡çç³»ç»(dbms)å¯ä»¥ç®¡çå¤ä¸ªæ°æ®åºï¼ä¸è¬å¼åäººåä¼éå¯¹æ¯ä¸ä¸ªåºç¨åå»ºä¸ä¸ªæ°æ®åºãä¸ºä¿å­åºç¨ä¸­å®ä½çæ°æ®ï¼ä¸è¬ä¼å¨æ°æ®åºåå»ºå¤ä¸ªè¡¨ï¼ä»¥ä¿å­ç¨åºä¸­å®ä½ç¨æ·çæ°æ®ã\n\næ°æ®åºç®¡çç³»ç»ãæ°æ®åºåè¡¨çå³ç³»å¦å¾æç¤ºï¼\n\n\n\n\n\n\n# 2.3 å¸¸è§çæ°æ®åºç®¡çç³»ç»æå(dbms)\n\nç®åäºèç½ä¸å¸¸è§çæ°æ®åºç®¡çè½¯ä»¶æoracleãmysqlãms sql serverãdb2ãpostgresqlãaccessãsybaseãinformixè¿å ç§ãä»¥ä¸æ¯2021å¹´db-engines ranking å¯¹åæ°æ®åºåæ¬¢è¿ç¨åº¦è¿è¡è°æ¥åçç»è®¡ç»æï¼ï¼æ¥çæ°æ®åºææ°æå:https://db-engines.com/en/rankingï¼\n\n\n\nããã\n\n\n\nå¯¹åºçèµ°å¿å¾ï¼ï¼https://db-engines.com/en/ranking_trendï¼\n\n\n\n\n# 2.4 å¸¸è§çæ°æ®åºä»ç»\n\noracle\n\n1979 å¹´ï¼oracle 2 è¯çï¼å®æ¯ç¬¬ä¸ä¸ªåç¨ç rdbmsï¼å³ç³»åæ°æ®åºç®¡çç³»ç»ï¼ãéç oracle è½¯ä»¶çåæ°è¶æ¥è¶å¤§ï¼å¬å¸ä¹æ¹åå« oracle å¬å¸ã\n\n2007å¹´ï¼æ»è®¡85äº¿ç¾éæ¶è´­bea systemsã\n\n2009å¹´ï¼æ»è®¡74äº¿ç¾éæ¶è´­sunãæ­¤åç2008å¹´ï¼sunä»¥10äº¿ç¾éæ¶è´­mysqlãæå³çoracle åæ¶æ¥æäº mysql çç®¡çæï¼è³æ­¤ oracle å¨æ°æ®åºé¢åä¸­æä¸ºç»å¯¹çé¢å¯¼èã\n\n2013å¹´ï¼ç²éª¨æè¶è¶ibmï¼æä¸ºç»§microsoftåå¨çç¬¬äºå¤§è½¯ä»¶å¬å¸ã\n\nå¦ä» oracle çå¹´æ¶å¥è¾¾å°äº 400 äº¿ç¾éï¼è¶³ä»¥è¯æåç¨ï¼æ¶è´¹ï¼æ°æ®åºè½¯ä»¶çä»·å¼ã\n\nsql server\n\nsql server æ¯å¾®è½¯å¼åçå¤§ååä¸æ°æ®åºï¼è¯çäº 1989 å¹´ãc#ã.netç­è¯­è¨å¸¸ä½¿ç¨ï¼ä¸winntå®å¨éæï¼ä¹å¯ä»¥å¾å¥½å°ä¸microsoft backofficeäº§åéæã\n\ndb2\n\nibmå¬å¸çæ°æ®åºäº§å,æ¶è´¹çãå¸¸åºç¨å¨é¶è¡ç³»ç»ä¸­ã\n\npostgresql\n\npostgresql çç¨³å®æ§æå¼ºï¼æç¬¦åsqlæ åï¼å¼æ¾æºç ï¼å·å¤åä¸çº§dbmsè´¨éãpgå¯¹æ°æ®éå¤§çææ¬ä»¥åsqlå¤çè¾å¿«ã\n\nsybase\n\nå·²ç»æ·¡åºåå²èå°ãæä¾äºä¸ä¸ªéå¸¸ä¸ä¸æ°æ®å»ºæ¨¡çå·¥å·powerdesignerã\n\nsqlite\n\nåµå¥å¼çå°åæ°æ®åºï¼åºç¨å¨ææºç«¯ã é¶éç½®ï¼sqlite3ä¸ç¨å®è£ï¼ä¸ç¨éç½®ï¼ä¸ç¨å¯å¨ï¼å³é­æèéç½®æ°æ®åºå®ä¾ãå½ç³»ç»å´©æºåä¸ç¨åä»»ä½æ¢å¤æä½ï¼åä¸æ¬¡ä½¿ç¨æ°æ®åºçæ¶åèªå¨æ¢å¤ã\n\ninformix\n\nibmå¬å¸åºåï¼åèªinformation åunixçç»åï¼å®æ¯ç¬¬ä¸ä¸ªè¢«ç§»æ¤å°linuxä¸çåä¸æ°æ®åºäº§åãä»è¿è¡äºunix/linuxå¹³å°ï¼å½ä»¤è¡æä½ã æ§è½è¾é«ï¼æ¯æéç¾¤ï¼éåºäºå®å¨æ§è¦æ±æé«çç³»ç»ï¼å°¤å¶æ¯é¶è¡ï¼è¯å¸ç³»ç»çåºç¨ã\n\n\n# 3. mysqlä»ç»\n\n\n\n\n# 3.1 æ¦è¿°\n\n * mysqlæ¯ä¸ä¸ªå¼æ¾æºä»£ç çå³ç³»åæ°æ®åºç®¡çç³»ç»ï¼ç±çå¸mysql abï¼åå§äººmichael wideniusï¼å¬å¸1995å¹´å¼åï¼è¿éæä¸ºå¼æºæ°æ®åºç no.1ã\n * 2008è¢«sunæ¶è´­ï¼10äº¿ç¾éï¼ï¼2009å¹´sunè¢«oracleæ¶è´­ãmariadbåºè¿èçãï¼mysql çåé èæå¿ mysql æé­æºçé£é©ï¼å æ­¤åå»ºäº mysql çåæ¯é¡¹ç® mariadbï¼\n * mysql6.x çæ¬ä¹ååä¸ºç¤¾åºçååä¸çã\n * mysqlæ¯ä¸ç§å³èæ°æ®åºç®¡çç³»ç»ï¼å°æ°æ®ä¿å­å¨ä¸åçè¡¨ä¸­ï¼èä¸æ¯å°æææ°æ®æ¾å¨ä¸ä¸ªå¤§ä»åºåï¼è¿æ ·å°±å¢å äºéåº¦å¹¶æé«äºçµæ´»æ§ã\n * mysqlæ¯å¼æºçï¼æä»¥ä½ ä¸éè¦æ¯ä»é¢å¤çè´¹ç¨ã\n * mysqlæ¯å¯ä»¥å®å¶çï¼éç¨äºgplï¼gnu general public licenseï¼åè®®ï¼ä½ å¯ä»¥ä¿®æ¹æºç æ¥å¼åèªå·±çmysqlç³»ç»ã\n * mysqlæ¯æå¤§åçæ°æ®åºãå¯ä»¥å¤çæ¥æä¸åä¸æ¡è®°å½çå¤§åæ°æ®åºã\n * mysqlæ¯æå¤§åæ°æ®åºï¼æ¯æ5000ä¸æ¡è®°å½çæ°æ®ä»åºï¼32ä½ç³»ç»è¡¨æä»¶æå¤§å¯æ¯æ4gbï¼64ä½ç³»ç»æ¯ææå¤§çè¡¨æä»¶ä¸º8tbã\n * mysqlä½¿ç¨æ åçsqlæ°æ®è¯­è¨å½¢å¼ã\n * mysqlå¯ä»¥åè®¸è¿è¡äºå¤ä¸ªç³»ç»ä¸ï¼å¹¶ä¸æ¯æå¤ç§è¯­è¨ãè¿äºç¼ç¨è¯­è¨åæ¬cãc++ãpythonãjavaãperlãphpårubyç­ã\n\n\n# 3.2 mysqlåå±å²éå¤§äºä»¶\n\nmysqlçåå²å°±æ¯æ´ä¸ªäºèç½çåå±å²ãäºèç½ä¸å¡ä»ç¤¾äº¤é¢åãçµåé¢åå°éèé¢åçåå±ï¼æ¨å¨çåºç¨å¯¹æ°æ®åºçéæ±æåï¼å¯¹ä¼ ç»çæ°æ®åºæå¡è½åæåºäºææãé«å¹¶åãé«æ§è½ãé«å¯ç¨ãè½»èµæºãæç»´æ¤ãææ©å±çéæ±ï¼ä¿è¿äºmysqlçé¿è¶³åå±ã\n\n\n\n\n# 1.4 å³äºmysql 8.0\n\nmysqlä»5.7çæ¬ç´æ¥è·³è·åå¸äº8.0çæ¬ï¼å¯è§è¿æ¯ä¸ä¸ªä»¤äººå´å¥çéç¨ç¢çæ¬ãmysql 8çæ¬å¨åè½ä¸åäºæ¾èçæ¹è¿ä¸å¢å¼ºï¼å¼åèå¯¹mysqlçæºä»£ç è¿è¡äºéæï¼æçªåºçä¸ç¹æ¯å¤mysql optimizerä¼åå¨è¿è¡äºæ¹è¿ãä¸ä»å¨éåº¦ä¸å¾å°äºæ¹åï¼è¿ä¸ºç¨æ·å¸¦æ¥äºæ´å¥½çæ§è½åæ´æ£çä½éªã\n\n\n# 1.5 why choose mysql?\n\n\n\nä¸ºä»ä¹å¦æ­¤å¤çååè¦éç¨mysqlï¼å¤§æ¦æ»ç»çåå ä¸»è¦æä»¥ä¸å ç¹ï¼\n\n 1. å¼æ¾æºä»£ç ï¼ä½¿ç¨ææ¬ä½ã\n\n 2. æ§è½åè¶ï¼æå¡ç¨³å®ã\n\n 3. è½¯ä»¶ä½ç§¯å°ï¼ä½¿ç¨ç®åï¼å¹¶ä¸æäºç»´æ¤ã\n\n 4. åå²æ ä¹ï¼ç¤¾åºç¨æ·éå¸¸æ´»è·ï¼éå°é®é¢å¯ä»¥å¯»æ±å¸®å©ã\n\n 5. è®¸å¤äºèç½å¬å¸å¨ç¨ï¼ç»è¿äºæ¶é´çéªè¯ã\n\n\n# 1.6 oracle vs mysql\n\noracle æ´éåå¤§åè·¨å½ä¼ä¸çä½¿ç¨ï¼å ä¸ºä»ä»¬å¯¹è´¹ç¨ä¸ææï¼ä½æ¯å¯¹æ§è½è¦æ±ä»¥åå®å¨æ§ææ´é«çè¦æ±ã\n\nmysql ç±äºå¶ä½ç§¯å°ãéåº¦å¿«ãæ»ä½æ¥æææ¬ä½ï¼å¯å¤çä¸åä¸æ¡è®°å½çå¤§åæ°æ®åºï¼å°¤å¶æ¯å¼æ¾æºç è¿ä¸ç¹ç¹ï¼ä½¿å¾å¾å¤äºèç½å¬å¸ãä¸­å°åç½ç«éæ©äºmysqlä½ä¸ºç½ç«æ°æ®åºï¼facebookï¼twitterï¼youtubeï¼é¿éå·´å·´/èèéæï¼å»åªå¿ï¼ç¾å¢å¤åï¼è¾è®¯ï¼ã\n\n\n# 4. rdbms ä¸ érdbms\n\nä»æåä¸­æä»¬è½çåºæ¥ï¼å³ç³»åæ°æ®åºç»å¯¹æ¯ dbms çä¸»æµï¼å¶ä¸­ä½¿ç¨æå¤ç dbms åå«æ¯ oracleãmysql å sql serverãè¿äºé½æ¯å³ç³»åæ°æ®åºï¼rdbmsï¼ã\n\n\n# 4.1 å³ç³»åæ°æ®åº(rdbms)\n\n# 4.1.1 å®è´¨\n\n * è¿ç§ç±»åçæ°æ®åºæ¯æå¤èçæ°æ®åºç±»åï¼å³ç³»åæ°æ®åºæ¨¡åæ¯æå¤æçæ°æ®ç»æå½ç»ä¸ºç®åçäºåå³ç³»ï¼å³äºç»´è¡¨æ ¼å½¢å¼ï¼ã\n   \n   \n\n * å³ç³»åæ°æ®åºä»¥è¡(row)åå(column)çå½¢å¼å­å¨æ°æ®ï¼ä»¥ä¾¿äºç¨æ·çè§£ãè¿ä¸ç³»åçè¡ååè¢«ç§°ä¸ºè¡¨(table)ï¼ä¸ç»è¡¨ç»æäºä¸ä¸ªåº(database)ã\n\n * è¡¨ä¸è¡¨ä¹é´çæ°æ®è®°å½æå³ç³»(relationship)ãç°å®ä¸çä¸­çåç§å®ä½ä»¥åå®ä½ä¹é´çåç§èç³»åç¨å³ç³»æ¨¡åæ¥è¡¨ç¤ºãå³ç³»åæ°æ®åºï¼å°±æ¯å»ºç«å¨å³ç³»æ¨¡ååºç¡ä¸çæ°æ®åºã\n\n * sql å°±æ¯å³ç³»åæ°æ®åºçæ¥è¯¢è¯­è¨ã\n\n\n\n# 4.1.2 ä¼å¿\n\n * å¤ææ¥è¯¢ å¯ä»¥ç¨sqlè¯­å¥æ¹ä¾¿çå¨ä¸ä¸ªè¡¨ä»¥åå¤ä¸ªè¡¨ä¹é´åéå¸¸å¤æçæ°æ®æ¥è¯¢ã\n * äºå¡æ¯æ ä½¿å¾å¯¹äºå®å¨æ§è½å¾é«çæ°æ®è®¿é®è¦æ±å¾ä»¥å®ç°ã\n\n\n# 4.2 éå³ç³»åæ°æ®åº(érdbms)\n\n# 4.2.1 ä»ç»\n\néå³ç³»åæ°æ®åºï¼å¯çæä¼ ç»å³ç³»åæ°æ®åºçåè½éå²çæ¬ï¼åºäºé®å¼å¯¹å­å¨æ°æ®ï¼ä¸éè¦ç»è¿sqlå±çè§£æï¼æ§è½éå¸¸é«ãåæ¶ï¼éè¿åå°ä¸å¸¸ç¨çåè½ï¼è¿ä¸æ­¥æé«æ§è½ã\n\nç®ååºæ¬ä¸å¤§é¨åä¸»æµçéå³ç³»åæ°æ®åºé½æ¯åè´¹çã\n\n# 4.2.2 æåªäºéå³ç³»åæ°æ®åº\n\nç¸æ¯äº sqlï¼nosql æ³æéå³ç³»åæ°æ®åºï¼åæ¬äºæ¦åä¸çé®å¼åæ°æ®åºãææ¡£åæ°æ®åºãæç´¢å¼æååå­å¨ç­ï¼é¤æ­¤ä»¥å¤è¿åæ¬å¾å½¢æ°æ®åºãä¹åªæç¨ nosql ä¸è¯æè½å°è¿äºææ¯åæ¬è¿æ¥ã\n\né®å¼åæ°æ®åº\n\né®å¼åæ°æ®åºéè¿ key-value é®å¼çæ¹å¼æ¥å­å¨æ°æ®ï¼å¶ä¸­ key å value å¯ä»¥æ¯ç®åçå¯¹è±¡ï¼ä¹å¯ä»¥æ¯å¤æçå¯¹è±¡ãkey ä½ä¸ºå¯ä¸çæ è¯ç¬¦ï¼ä¼ç¹æ¯æ¥æ¾éåº¦å¿«ï¼å¨è¿æ¹é¢ææ¾ä¼äºå³ç³»åæ°æ®åºï¼ç¼ºç¹æ¯æ æ³åå³ç³»åæ°æ®åºä¸æ ·ä½¿ç¨æ¡ä»¶è¿æ»¤ï¼æ¯å¦ whereï¼ï¼å¦æä½ ä¸ç¥éå»åªéæ¾æ°æ®ï¼å°±è¦éåææçé®ï¼è¿å°±ä¼æ¶èå¤§éçè®¡ç®ã\n\né®å¼åæ°æ®åºå¸åçä½¿ç¨åºæ¯æ¯ä½ä¸ºåå­ç¼å­ãredisæ¯ææµè¡çé®å¼åæ°æ®åºã\n\n\n\nææ¡£åæ°æ®åº\n\næ­¤ç±»æ°æ®åºå¯å­æ¾å¹¶è·åææ¡£ï¼å¯ä»¥æ¯xmlãjsonç­æ ¼å¼ãå¨æ°æ®åºä¸­ææ¡£ä½ä¸ºå¤çä¿¡æ¯çåºæ¬åä½ï¼ä¸ä¸ªææ¡£å°±ç¸å½äºä¸æ¡è®°å½ãææ¡£æ°æ®åºæå­æ¾çææ¡£ï¼å°±ç¸å½äºé®å¼æ°æ®åºæå­æ¾çâå¼âãmongodb æ¯ææµè¡çææ¡£åæ°æ®åºãæ­¤å¤ï¼è¿æcouchdbç­ã\n\næç´¢å¼ææ°æ®åº\n\nè½ç¶å³ç³»åæ°æ®åºéç¨äºç´¢å¼æåæ£ç´¢æçï¼ä½æ¯éå¯¹å¨æç´¢å¼æçå´è¾ä½ãæç´¢å¼ææ°æ®åºæ¯åºç¨å¨æç´¢å¼æé¢åçæ°æ®å­å¨å½¢å¼ï¼ç±äºæç´¢å¼æä¼ç¬åå¤§éçæ°æ®ï¼å¹¶ä»¥ç¹å®çæ ¼å¼è¿è¡å­å¨ï¼è¿æ ·å¨æ£ç´¢çæ¶åæè½ä¿è¯æ§è½æä¼ãæ ¸å¿åçæ¯âåæç´¢å¼âã\n\nå¸åäº§åï¼solrãelasticsearchãsplunk ç­ã\n\nåå¼æ°æ®åº\n\nåå¼æ°æ®åºæ¯ç¸å¯¹äºè¡å¼å­å¨çæ°æ®åºï¼oracleãmysqlãsql server ç­æ°æ®åºé½æ¯éç¨çè¡å¼å­å¨ï¼row-basedï¼ï¼èåå¼æ°æ®åºæ¯å°æ°æ®æç§åå­å¨å°æ°æ®åºä¸­ï¼è¿æ ·åçå¥½å¤æ¯å¯ä»¥å¤§ééä½ç³»ç»ç i/oï¼éåäºåå¸å¼æä»¶ç³»ç»ï¼ä¸è¶³å¨äºåè½ç¸å¯¹æéãå¸åäº§åï¼hbaseç­ã\n\n\n\nå¾å½¢æ°æ®åº\n\nå¾å½¢æ°æ®åºï¼å©ç¨äºå¾è¿ç§æ°æ®ç»æå­å¨äºå®ä½ï¼å¯¹è±¡ï¼ä¹é´çå³ç³»ãå¾å½¢æ°æ®åºæå¸åçä¾å­å°±æ¯ç¤¾äº¤ç½ç»ä¸­äººä¸äººçå³ç³»ï¼æ°æ®æ¨¡åä¸»è¦æ¯ä»¥èç¹åè¾¹ï¼å³ç³»ï¼æ¥å®ç°ï¼ç¹ç¹å¨äºè½é«æå°è§£å³å¤æçå³ç³»é®é¢ã\n\nå¾å½¢æ°æ®åºé¡¾åæä¹ï¼å°±æ¯ä¸ç§å­å¨å¾å½¢å³ç³»çæ°æ®åºãå®å©ç¨äºå¾è¿ç§æ°æ®ç»æå­å¨äºå®ä½ï¼å¯¹è±¡ï¼ä¹é´çå³ç³»ãå³ç³»åæ°æ®ç¨äºå­å¨æç¡®å³ç³»çæ°æ®ï¼ä½å¯¹äºå¤æå³ç³»çæ°æ®å­å¨å´æäºåä¸ä»å¿ãå¦ç¤¾äº¤ç½ç»ä¸­äººç©ä¹é´çå³ç³»ï¼å¦æç¨å³ç³»åæ°æ®åºåéå¸¸å¤æï¼ç¨å¾å½¢æ°æ®åºå°éå¸¸ç®åãå¸åäº§åï¼neo4jãinfogridç­ã\n\n# 4.2.3 nosqlçæ¼å\n\nç±äº sql ä¸ç´ç§°é¸ dbmsï¼å æ­¤è®¸å¤äººå¨æèæ¯å¦æä¸ç§æ°æ®åºææ¯è½è¿ç¦» sqlï¼äºæ¯ nosql è¯çäºï¼ä½æ¯éçåå±å´åç°è¶æ¥è¶ç¦»ä¸å¼ sqlãå°ç®åä¸ºæ­¢ nosql éµè¥ä¸­ç dbms é½ä¼æå®ç°ç±»ä¼¼ sql çåè½ãä¸é¢æ¯ânosqlâè¿ä¸ªåè¯å¨ä¸åæ¶æçè¯ éï¼ä»è¿äºéä¹çååä¸­å¯ä»¥çåº nosql åè½çæ¼åï¼\n\n1970ï¼nosql = we have no sql\n\n1980ï¼nosql = know sql\n\n2000ï¼nosql = no sql!\n\n2005ï¼nosql = not only sql\n\n2013ï¼nosql = no, sql!\n\nnosql å¯¹ sql ååºäºå¾å¥½çè¡¥åï¼æ¯å¦å®éå¼åä¸­ï¼æå¾å¤ä¸å¡éæ±ï¼å¶å®å¹¶ä¸éè¦å®æ´çå³ç³»åæ°æ®åºåè½ï¼éå³ç³»åæ°æ®åºçåè½å°±è¶³å¤ä½¿ç¨äºãè¿ç§æåµä¸ï¼ä½¿ç¨æ§è½æ´é«ãææ¬æ´ä½çéå³ç³»åæ°æ®åºå½ç¶æ¯æ´ææºçéæ©ãæ¯å¦ï¼æ¥å¿æ¶éãæè¡æ¦ãå®æ¶å¨ç­ã\n\n\n# 4.3 å°ç»\n\nnosql çåç±»å¾å¤ï¼å³ä¾¿å¦æ­¤ï¼å¨ dbms æåä¸­ï¼è¿æ¯ sql éµè¥çæ¯éæ´å¤§ï¼å½±ååå 5 ç dbms ä¸­æ 4 ä¸ªæ¯å³ç³»åæ°æ®åºï¼èæåå 20 ç dbms ä¸­ä¹æ 12 ä¸ªæ¯å³ç³»åæ°æ®åºãæä»¥è¯´ï¼ææ¡ sql æ¯éå¸¸æå¿è¦çãæ´å¥è¯¾ç¨å°å´ç» sql å±å¼ã\n\n\n# 5. å³ç³»åæ°æ®åºè®¾è®¡è§å\n\n * å³ç³»åæ°æ®åºçå¸åæ°æ®ç»æå°±æ¯æ°æ®è¡¨ï¼è¿äºæ°æ®è¡¨çç»æé½æ¯ç»æåçï¼structuredï¼ã\n\n * å°æ°æ®æ¾å°è¡¨ä¸­ï¼è¡¨åæ¾å°åºä¸­ã\n\n * ä¸ä¸ªæ°æ®åºä¸­å¯ä»¥æå¤ä¸ªè¡¨ï¼æ¯ä¸ªè¡¨é½æä¸ä¸ªåå­ï¼ç¨æ¥æ è¯èªå·±ãè¡¨åå·æå¯ä¸æ§ã\n\n * è¡¨å·æä¸äºç¹æ§ï¼è¿äºç¹æ§å®ä¹äºæ°æ®å¨è¡¨ä¸­å¦ä½å­å¨ï¼ç±»ä¼¼javaåpythonä¸­ âç±»âçè®¾è®¡ã\n\n\n# 5.1 è¡¨ãè®°å½ãå­æ®µ\n\n * e-rï¼entity-relationshipï¼å®ä½-èç³»ï¼æ¨¡åä¸­æä¸ä¸ªä¸»è¦æ¦å¿µæ¯ï¼å®ä½éãå±æ§ãèç³»éã\n\n * ä¸ä¸ªå®ä½éï¼classï¼å¯¹åºäºæ°æ®åºä¸­çä¸ä¸ªè¡¨ï¼tableï¼ï¼ä¸ä¸ªå®ä½ï¼instanceï¼åå¯¹åºäºæ°æ®åºè¡¨ä¸­çä¸è¡ï¼rowï¼ï¼ä¹ç§°ä¸ºä¸æ¡è®°å½ï¼recordï¼ãä¸ä¸ªå±æ§ï¼attributeï¼å¯¹åºäºæ°æ®åºè¡¨ä¸­çä¸åï¼columnï¼ï¼ä¹ç§°ä¸ºä¸ä¸ªå­æ®µï¼fieldï¼ã\n\n\n\normææ³ (object relational mapping)ä½ç°ï¼\næ°æ®åºä¸­çä¸ä¸ªè¡¨  <---\x3e javaæpythonä¸­çä¸ä¸ªç±»\nè¡¨ä¸­çä¸æ¡æ°æ®  <---\x3e ç±»ä¸­çä¸ä¸ªå¯¹è±¡ï¼æå®ä½ï¼\nè¡¨ä¸­çä¸ä¸ªå  <----\x3e ç±»ä¸­çä¸ä¸ªå­æ®µãå±æ§(field)\n\n\n\n# 5.2 è¡¨çå³èå³ç³»\n\n * è¡¨ä¸è¡¨ä¹é´çæ°æ®è®°å½æå³ç³»(relationship)ãç°å®ä¸çä¸­çåç§å®ä½ä»¥åå®ä½ä¹é´çåç§èç³»åç¨å³ç³»æ¨¡åæ¥è¡¨ç¤ºã\n\n * åç§ï¼ä¸å¯¹ä¸å³èãä¸å¯¹å¤å³èãå¤å¯¹å¤å³èãèªæå¼ç¨\n\n# 5.2.1 ä¸å¯¹ä¸å³èï¼one-to-oneï¼\n\n * å¨å®éçå¼åä¸­åºç¨ä¸å¤ï¼å ä¸ºä¸å¯¹ä¸å¯ä»¥åå»ºæä¸å¼ è¡¨ã\n * ä¸¾ä¾ï¼è®¾è®¡å­¦çè¡¨ï¼å­¦å·ãå§åãææºå·ç ãç­çº§ãç³»å«ãèº«ä»½è¯å·ç ãå®¶åº­ä½åãç±è´¯ãç´§æ¥èç³»äººã...\n   \n   * æä¸ºä¸¤ä¸ªè¡¨ï¼ä¸¤ä¸ªè¡¨çè®°å½æ¯ä¸ä¸å¯¹åºå³ç³»ã\n   \n   * åºç¡ä¿¡æ¯è¡¨ï¼å¸¸ç¨ä¿¡æ¯ï¼ï¼å­¦å·ãå§åãææºå·ç ãç­çº§ãç³»å«\n   \n   * æ¡£æ¡ä¿¡æ¯è¡¨ï¼ä¸å¸¸ç¨ä¿¡æ¯ï¼ï¼å­¦å·ãèº«ä»½è¯å·ç ãå®¶åº­ä½åãç±è´¯ãç´§æ¥èç³»äººã...\n\n * ä¸¤ç§å»ºè¡¨ååï¼\n   * å¤é®å¯ä¸ï¼ä¸»è¡¨çä¸»é®åä»è¡¨çå¤é®ï¼å¯ä¸ï¼ï¼å½¢æä¸»å¤é®å³ç³»ï¼å¤é®å¯ä¸ã\n   * å¤é®æ¯ä¸»é®ï¼ä¸»è¡¨çä¸»é®åä»è¡¨çä¸»é®ï¼å½¢æä¸»å¤é®å³ç³»ã\n\n\n\n# 5.2.2 ä¸å¯¹å¤å³ç³»ï¼one-to-manyï¼\n\n * å¸¸è§å®ä¾åºæ¯ï¼å®¢æ·è¡¨åè®¢åè¡¨ï¼åç±»è¡¨åååè¡¨ï¼é¨é¨è¡¨ååå·¥è¡¨ã\n * ä¸¾ä¾ï¼\n   \n   * åå·¥è¡¨ï¼ç¼å·ãå§åã...ãæå±é¨é¨\n   \n   * é¨é¨è¡¨ï¼ç¼å·ãåç§°ãç®ä»\n\n * ä¸å¯¹å¤å»ºè¡¨ååï¼å¨ä»è¡¨(å¤æ¹)åå»ºä¸ä¸ªå­æ®µï¼å­æ®µä½ä¸ºå¤é®æåä¸»è¡¨(ä¸æ¹)çä¸»é®\n\n\n\n\n\n\n\n# 5.2.3 å¤å¯¹å¤ï¼many-to-manyï¼\n\nè¦è¡¨ç¤ºå¤å¯¹å¤å³ç³»ï¼å¿é¡»åå»ºç¬¬ä¸ä¸ªè¡¨ï¼è¯¥è¡¨éå¸¸ç§°ä¸ºèæ¥è¡¨ï¼å®å°å¤å¯¹å¤å³ç³»ååä¸ºä¸¤ä¸ªä¸å¯¹å¤å³ç³»ãå°è¿ä¸¤ä¸ªè¡¨çä¸»é®é½æå¥å°ç¬¬ä¸ä¸ªè¡¨ä¸­ã\n\n\n\n * ä¸¾ä¾1ï¼å­¦ç-è¯¾ç¨\n   \n   * å­¦çä¿¡æ¯è¡¨ï¼ä¸è¡ä»£è¡¨ä¸ä¸ªå­¦ççä¿¡æ¯ï¼å­¦å·ãå§åãææºå·ç ãç­çº§ãç³»å«...ï¼\n   \n   * è¯¾ç¨ä¿¡æ¯è¡¨ï¼ä¸è¡ä»£è¡¨ä¸ä¸ªè¯¾ç¨çä¿¡æ¯ï¼è¯¾ç¨ç¼å·ãæè¯¾èå¸ãç®ä»...ï¼\n   \n   * éè¯¾ä¿¡æ¯è¡¨ï¼ä¸ä¸ªå­¦çå¯ä»¥éå¤é¨è¯¾ï¼ä¸é¨è¯¾å¯ä»¥è¢«å¤ä¸ªå­¦çéæ©\n     \n     å­¦å·     è¯¾ç¨ç¼å·  \n     1        1001\n     2        1001\n     1        1002\n     \n\n * ä¸¾ä¾2ï¼äº§å-è®¢å\n   \n   âè®¢åâè¡¨åâäº§åâè¡¨æä¸ç§å¤å¯¹å¤çå³ç³»ï¼è¿ç§å³ç³»æ¯éè¿ä¸âè®¢åæç»âè¡¨å»ºç«ä¸¤ä¸ªä¸å¯¹å¤å³ç³»æ¥å®ä¹çãä¸ä¸ªè®¢åå¯ä»¥æå¤ä¸ªäº§åï¼æ¯ä¸ªäº§åå¯ä»¥åºç°å¨å¤ä¸ªè®¢åä¸­ã\n   \n   * äº§åè¡¨ï¼âäº§åâè¡¨ä¸­çæ¯æ¡è®°å½è¡¨ç¤ºä¸ä¸ªäº§åã\n   * è®¢åè¡¨ï¼âè®¢åâè¡¨ä¸­çæ¯æ¡è®°å½è¡¨ç¤ºä¸ä¸ªè®¢åã\n   * è®¢åæç»è¡¨ï¼æ¯ä¸ªäº§åå¯ä»¥ä¸âè®¢åâè¡¨ä¸­çå¤æ¡è®°å½å¯¹åºï¼å³åºç°å¨å¤ä¸ªè®¢åä¸­ãä¸ä¸ªè®¢åå¯ä»¥ä¸âäº§åâè¡¨ä¸­çå¤æ¡è®°å½å¯¹åºï¼å³åå«å¤ä¸ªäº§åã\n\n\n\n * ä¸¾ä¾3ï¼ç¨æ·-è§è²\n * å¤å¯¹å¤å³ç³»å»ºè¡¨ååï¼éè¦åå»ºç¬¬ä¸å¼ è¡¨ï¼ä¸­é´è¡¨ä¸­è³å°ä¸¤ä¸ªå­æ®µï¼è¿ä¸¤ä¸ªå­æ®µåå«ä½ä¸ºå¤é®æååèªä¸æ¹çä¸»é®ã\n\n\n\n# 5.3.4 èªæå¼ç¨(self reference)\n\n",charsets:{cjk:!0}},{title:"æ¦è¿°",frontmatter:{title:"æ¦è¿°",date:"2022-02-03T17:56:40.000Z",permalink:"/spring/001/",categories:["æ¡æ¶","Spring"],tags:["Spring"],author:{name:"leejiayang"}},regularPath:"/07.%E6%A1%86%E6%9E%B6/01.Spring/01.%E6%A6%82%E8%BF%B0.html",relativePath:"07.æ¡æ¶/01.Spring/01.æ¦è¿°.md",key:"v-286c81e9",path:"/spring/001/",headersStr:null,content:"# 01. æ¦è¿°\n\n 1. Springæ¯è½»éçº§çå¼æºçJavaEEæ¡æ¶\n 2. Springå¯ä»¥è§£å³ä¼ä¸åºç¨å¼åçå¤ææ§\n 3. Springæä¸¤ä¸ªæ ¸å¿é¨åï¼IOCåAop\n\n * IOCï¼æ§å¶åè½¬ï¼æåå»ºå¯¹è±¡è¿ç¨äº¤ç»Springè¿è¡ç®¡ç\n * Aopï¼é¢ååé¢ï¼ä¸ä¿®æ¹æºä»£ç è¿è¡åè½å¢å¼º\n\n 4. Springç¹ç¹\n\n * æ¹ä¾¿è§£è¦ï¼ç®åå¼å\n * Aopç¼ç¨æ¯æ\n * æ¹ä¾¿ç¨åºæµè¯\n * æ¹ä¾¿åå¶ä»æ¡æ¶è¿è¡æ´å\n * æ¹ä¾¿è¿è¡äºå¡æä½\n * éä½APIå¼åé¾åº¦",normalizedContent:"# 01. æ¦è¿°\n\n 1. springæ¯è½»éçº§çå¼æºçjavaeeæ¡æ¶\n 2. springå¯ä»¥è§£å³ä¼ä¸åºç¨å¼åçå¤ææ§\n 3. springæä¸¤ä¸ªæ ¸å¿é¨åï¼iocåaop\n\n * iocï¼æ§å¶åè½¬ï¼æåå»ºå¯¹è±¡è¿ç¨äº¤ç»springè¿è¡ç®¡ç\n * aopï¼é¢ååé¢ï¼ä¸ä¿®æ¹æºä»£ç è¿è¡åè½å¢å¼º\n\n 4. springç¹ç¹\n\n * æ¹ä¾¿è§£è¦ï¼ç®åå¼å\n * aopç¼ç¨æ¯æ\n * æ¹ä¾¿ç¨åºæµè¯\n * æ¹ä¾¿åå¶ä»æ¡æ¶è¿è¡æ´å\n * æ¹ä¾¿è¿è¡äºå¡æä½\n * éä½apiå¼åé¾åº¦",charsets:{cjk:!0}},{title:"SpringMVCç®ä»",frontmatter:{title:"SpringMVCç®ä»",date:"2022-04-26T00:00:00.000Z",permalink:"/springmvc/001/",categories:["æ¡æ¶","SpringMVC"],tags:["SpringMVC"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/02.SpringMVC/01.SpringMVC%E7%AE%80%E4%BB%8B.html",relativePath:"07.æ¡æ¶/02.SpringMVC/01.SpringMVCç®ä».md",key:"v-daab1818",path:"/springmvc/001/",headers:[{level:3,title:"1ãä»ä¹æ¯MVC",slug:"_1ãä»ä¹æ¯mvc",normalizedTitle:"1ãä»ä¹æ¯mvc",charIndex:20},{level:3,title:"2ãä»ä¹æ¯SpringMVC",slug:"_2ãä»ä¹æ¯springmvc",normalizedTitle:"2ãä»ä¹æ¯springmvc",charIndex:443},{level:3,title:"3ãSpringMVCçç¹ç¹",slug:"_3ãspringmvcçç¹ç¹",normalizedTitle:"3ãspringmvcçç¹ç¹",charIndex:684}],headersStr:"1ãä»ä¹æ¯MVC 2ãä»ä¹æ¯SpringMVC 3ãSpringMVCçç¹ç¹",content:"# ä¸ãSpringMVCç®ä»\n\n\n# 1ãä»ä¹æ¯MVC\n\nMVCæ¯ä¸ç§è½¯ä»¶æ¶æçææ³ï¼å°è½¯ä»¶æç§æ¨¡åãè§å¾ãæ§å¶å¨æ¥åå\n\nMï¼Modelï¼æ¨¡åå±ï¼æå·¥ç¨ä¸­çJavaBeanï¼ä½ç¨æ¯å¤çæ°æ®\n\nJavaBeanåä¸ºä¸¤ç±»ï¼\n\n * ä¸ç±»ç§°ä¸ºå®ä½ç±»Beanï¼ä¸é¨å­å¨ä¸å¡æ°æ®çï¼å¦ StudentãUser ç­\n * ä¸ç±»ç§°ä¸ºä¸å¡å¤ç Beanï¼æ Service æ Dao å¯¹è±¡ï¼ä¸é¨ç¨äºå¤çä¸å¡é»è¾åæ°æ®è®¿é®ã\n\nVï¼Viewï¼è§å¾å±ï¼æå·¥ç¨ä¸­çhtmlæjspç­é¡µé¢ï¼ä½ç¨æ¯ä¸ç¨æ·è¿è¡äº¤äºï¼å±ç¤ºæ°æ®\n\nCï¼Controllerï¼æ§å¶å±ï¼æå·¥ç¨ä¸­çservletï¼ä½ç¨æ¯æ¥æ¶è¯·æ±åååºæµè§å¨\n\nMVCçå·¥ä½æµç¨ï¼ ç¨æ·éè¿è§å¾å±åéè¯·æ±å°æå¡å¨ï¼å¨æå¡å¨ä¸­è¯·æ±è¢«Controlleræ¥æ¶ï¼Controllerè°ç¨ç¸åºçModelå±å¤çè¯·æ±ï¼å¤çå®æ¯å°ç»æè¿åå°Controllerï¼Controlleråæ ¹æ®è¯·æ±å¤ççç»ææ¾å°ç¸åºçViewè§å¾ï¼æ¸²ææ°æ®åæç»ååºç»æµè§å¨\n\n\n# 2ãä»ä¹æ¯SpringMVC\n\nSpringMVCæ¯Springçä¸ä¸ªåç»­äº§åï¼æ¯Springçä¸ä¸ªå­é¡¹ç®\n\nSpringMVC æ¯ Spring ä¸ºè¡¨è¿°å±å¼åæä¾çä¸æ´å¥å®å¤çè§£å³æ¹æ¡ãå¨è¡¨è¿°å±æ¡æ¶åç» StrustãWebWorkãStrust2 ç­è¯¸å¤äº§åçåä»£æ´è¿­ä¹åï¼ç®åä¸çæ®ééæ©äº SpringMVC ä½ä¸º Java EE é¡¹ç®è¡¨è¿°å±å¼åçé¦éæ¹æ¡ã\n\n> æ³¨ï¼ä¸å±æ¶æåä¸ºè¡¨è¿°å±ï¼æè¡¨ç¤ºå±ï¼ãä¸å¡é»è¾å±ãæ°æ®è®¿é®å±ï¼è¡¨è¿°å±è¡¨ç¤ºåå°é¡µé¢ååå°servlet\n\n\n# 3ãSpringMVCçç¹ç¹\n\n * Spring å®¶æåçäº§åï¼ä¸ IOC å®¹å¨ç­åºç¡è®¾æ½æ ç¼å¯¹æ¥\n * åºäºåççServletï¼éè¿äºåè½å¼ºå¤§çåç«¯æ§å¶å¨DispatcherServletï¼å¯¹è¯·æ±åååºè¿è¡ç»ä¸å¤ç\n * è¡¨è¿°å±åç»åé¢åéè¦è§£å³çé®é¢å¨æ¹ä½è¦çï¼æä¾å¨é¢è§£å³æ¹æ¡\n * ä»£ç æ¸æ°ç®æ´ï¼å¤§å¹åº¦æåå¼åæç\n * åé¨ç»ä»¶åç¨åº¦é«ï¼å¯ææå¼ç»ä»¶å³æå³ç¨ï¼æ³è¦ä»ä¹åè½éç½®ç¸åºç»ä»¶å³å¯\n * æ§è½åèï¼å°¤å¶éåç°ä»£å¤§åãè¶å¤§åäºèç½é¡¹ç®è¦æ±",normalizedContent:"# ä¸ãspringmvcç®ä»\n\n\n# 1ãä»ä¹æ¯mvc\n\nmvcæ¯ä¸ç§è½¯ä»¶æ¶æçææ³ï¼å°è½¯ä»¶æç§æ¨¡åãè§å¾ãæ§å¶å¨æ¥åå\n\nmï¼modelï¼æ¨¡åå±ï¼æå·¥ç¨ä¸­çjavabeanï¼ä½ç¨æ¯å¤çæ°æ®\n\njavabeanåä¸ºä¸¤ç±»ï¼\n\n * ä¸ç±»ç§°ä¸ºå®ä½ç±»beanï¼ä¸é¨å­å¨ä¸å¡æ°æ®çï¼å¦ studentãuser ç­\n * ä¸ç±»ç§°ä¸ºä¸å¡å¤ç beanï¼æ service æ dao å¯¹è±¡ï¼ä¸é¨ç¨äºå¤çä¸å¡é»è¾åæ°æ®è®¿é®ã\n\nvï¼viewï¼è§å¾å±ï¼æå·¥ç¨ä¸­çhtmlæjspç­é¡µé¢ï¼ä½ç¨æ¯ä¸ç¨æ·è¿è¡äº¤äºï¼å±ç¤ºæ°æ®\n\ncï¼controllerï¼æ§å¶å±ï¼æå·¥ç¨ä¸­çservletï¼ä½ç¨æ¯æ¥æ¶è¯·æ±åååºæµè§å¨\n\nmvcçå·¥ä½æµç¨ï¼ ç¨æ·éè¿è§å¾å±åéè¯·æ±å°æå¡å¨ï¼å¨æå¡å¨ä¸­è¯·æ±è¢«controlleræ¥æ¶ï¼controllerè°ç¨ç¸åºçmodelå±å¤çè¯·æ±ï¼å¤çå®æ¯å°ç»æè¿åå°controllerï¼controlleråæ ¹æ®è¯·æ±å¤ççç»ææ¾å°ç¸åºçviewè§å¾ï¼æ¸²ææ°æ®åæç»ååºç»æµè§å¨\n\n\n# 2ãä»ä¹æ¯springmvc\n\nspringmvcæ¯springçä¸ä¸ªåç»­äº§åï¼æ¯springçä¸ä¸ªå­é¡¹ç®\n\nspringmvc æ¯ spring ä¸ºè¡¨è¿°å±å¼åæä¾çä¸æ´å¥å®å¤çè§£å³æ¹æ¡ãå¨è¡¨è¿°å±æ¡æ¶åç» strustãwebworkãstrust2 ç­è¯¸å¤äº§åçåä»£æ´è¿­ä¹åï¼ç®åä¸çæ®ééæ©äº springmvc ä½ä¸º java ee é¡¹ç®è¡¨è¿°å±å¼åçé¦éæ¹æ¡ã\n\n> æ³¨ï¼ä¸å±æ¶æåä¸ºè¡¨è¿°å±ï¼æè¡¨ç¤ºå±ï¼ãä¸å¡é»è¾å±ãæ°æ®è®¿é®å±ï¼è¡¨è¿°å±è¡¨ç¤ºåå°é¡µé¢ååå°servlet\n\n\n# 3ãspringmvcçç¹ç¹\n\n * spring å®¶æåçäº§åï¼ä¸ ioc å®¹å¨ç­åºç¡è®¾æ½æ ç¼å¯¹æ¥\n * åºäºåççservletï¼éè¿äºåè½å¼ºå¤§çåç«¯æ§å¶å¨dispatcherservletï¼å¯¹è¯·æ±åååºè¿è¡ç»ä¸å¤ç\n * è¡¨è¿°å±åç»åé¢åéè¦è§£å³çé®é¢å¨æ¹ä½è¦çï¼æä¾å¨é¢è§£å³æ¹æ¡\n * ä»£ç æ¸æ°ç®æ´ï¼å¤§å¹åº¦æåå¼åæç\n * åé¨ç»ä»¶åç¨åº¦é«ï¼å¯ææå¼ç»ä»¶å³æå³ç¨ï¼æ³è¦ä»ä¹åè½éç½®ç¸åºç»ä»¶å³å¯\n * æ§è½åèï¼å°¤å¶éåç°ä»£å¤§åãè¶å¤§åäºèç½é¡¹ç®è¦æ±",charsets:{cjk:!0}},{title:"HelloWorld",frontmatter:{title:"HelloWorld",date:"2022-04-27T00:00:00.000Z",permalink:"/springmvc/002/",categories:["æ¡æ¶","SpringMVC"],tags:["SpringMVC"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/02.SpringMVC/02.HelloWorld.html",relativePath:"07.æ¡æ¶/02.SpringMVC/02.HelloWorld.md",key:"v-0f37f9f0",path:"/springmvc/002/",headers:[{level:3,title:"1ãå¼åç¯å¢",slug:"_1ãå¼åç¯å¢",normalizedTitle:"1ãå¼åç¯å¢",charIndex:19},{level:3,title:"2ãåå»ºmavenå·¥ç¨",slug:"_2ãåå»ºmavenå·¥ç¨",normalizedTitle:"2ãåå»ºmavenå·¥ç¨",charIndex:99},{level:5,title:"a>æ·»å webæ¨¡å",slug:"a-æ·»å webæ¨¡å",normalizedTitle:"a&gt;æ·»å webæ¨¡å",charIndex:null},{level:5,title:"b>æåæ¹å¼ï¼war",slug:"b-æåæ¹å¼-war",normalizedTitle:"b&gt;æåæ¹å¼ï¼war",charIndex:null},{level:5,title:"c>å¼å¥ä¾èµ",slug:"c-å¼å¥ä¾èµ",normalizedTitle:"c&gt;å¼å¥ä¾èµ",charIndex:null},{level:3,title:"3ãéç½®web.xml",slug:"_3ãéç½®web-xml",normalizedTitle:"3ãéç½®web.xml",charIndex:1025},{level:5,title:"a>é»è®¤éç½®æ¹å¼",slug:"a-é»è®¤éç½®æ¹å¼",normalizedTitle:"a&gt;é»è®¤éç½®æ¹å¼",charIndex:null},{level:5,title:"b>æ©å±éç½®æ¹å¼ï¼æä¼éç½®æ¹æ³ï¼",slug:"b-æ©å±éç½®æ¹å¼-æä¼éç½®æ¹æ³",normalizedTitle:"b&gt;æ©å±éç½®æ¹å¼ï¼æä¼éç½®æ¹æ³ï¼",charIndex:null},{level:3,title:"4ãåå»ºè¯·æ±æ§å¶å¨",slug:"_4ãåå»ºè¯·æ±æ§å¶å¨",normalizedTitle:"4ãåå»ºè¯·æ±æ§å¶å¨",charIndex:2927},{level:3,title:"5ãåå»ºspringMVCçéç½®æä»¶",slug:"_5ãåå»ºspringmvcçéç½®æä»¶",normalizedTitle:"5ãåå»ºspringmvcçéç½®æä»¶",charIndex:3194},{level:3,title:"6ãæµè¯HelloWorld",slug:"_6ãæµè¯helloworld",normalizedTitle:"6ãæµè¯helloworld",charIndex:4904},{level:5,title:"a>å®ç°å¯¹é¦é¡µçè®¿é®",slug:"a-å®ç°å¯¹é¦é¡µçè®¿é®",normalizedTitle:"a&gt;å®ç°å¯¹é¦é¡µçè®¿é®",charIndex:null},{level:5,title:"b>éè¿è¶é¾æ¥è·³è½¬å°æå®é¡µé¢",slug:"b-éè¿è¶é¾æ¥è·³è½¬å°æå®é¡µé¢",normalizedTitle:"b&gt;éè¿è¶é¾æ¥è·³è½¬å°æå®é¡µé¢",charIndex:null},{level:3,title:"7ãæ»ç»",slug:"_7ãæ»ç»",normalizedTitle:"7ãæ»ç»",charIndex:5636}],headersStr:"1ãå¼åç¯å¢ 2ãåå»ºmavenå·¥ç¨ a>æ·»å webæ¨¡å b>æåæ¹å¼ï¼war c>å¼å¥ä¾èµ 3ãéç½®web.xml a>é»è®¤éç½®æ¹å¼ b>æ©å±éç½®æ¹å¼ï¼æä¼éç½®æ¹æ³ï¼ 4ãåå»ºè¯·æ±æ§å¶å¨ 5ãåå»ºspringMVCçéç½®æä»¶ 6ãæµè¯HelloWorld a>å®ç°å¯¹é¦é¡µçè®¿é® b>éè¿è¶é¾æ¥è·³è½¬å°æå®é¡µé¢ 7ãæ»ç»",content:'# äºãHelloWorld\n\n\n# 1ãå¼åç¯å¢\n\nIDEï¼idea 2019.2\n\næå»ºå·¥å·ï¼maven3.5.4ï¼è§£å³ä¾èµï¼\n\næå¡å¨ï¼tomcat7\n\nSpringçæ¬ï¼5.3.1\n\n\n# 2ãåå»ºmavenå·¥ç¨\n\n# a>æ·»å webæ¨¡å\n\n# b>æåæ¹å¼ï¼war\n\n# c>å¼å¥ä¾èµ\n\n<dependencies>\n    \x3c!-- SpringMVC --\x3e\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-webmvc</artifactId>\n        <version>5.3.1</version>\n    </dependency>\n\n    \x3c!-- æ¥å¿ --\x3e\n    <dependency>\n        <groupId>ch.qos.logback</groupId>\n        <artifactId>logback-classic</artifactId>\n        <version>1.2.3</version>\n    </dependency>\n\n    \x3c!-- ServletAPI --\x3e\n    <dependency>\n        <groupId>javax.servlet</groupId>\n        <artifactId>javax.servlet-api</artifactId>\n        <version>3.1.0</version>\n        <scope>provided</scope>\n    </dependency>\n\n    \x3c!-- Spring5åThymeleafæ´åå --\x3e\n    <dependency>\n        <groupId>org.thymeleaf</groupId>\n        <artifactId>thymeleaf-spring5</artifactId>\n        <version>3.0.12.RELEASE</version>\n    </dependency>\n</dependencies>\n\n\næ³¨ï¼ç±äº Maven çä¼ éæ§ï¼æä»¬ä¸å¿å°ææéè¦çåå¨é¨éç½®ä¾èµï¼èæ¯éç½®æé¡¶ç«¯çä¾èµï¼å¶ä»é ä¼ éæ§å¯¼å¥ã\n\n\n\n\n# 3ãéç½®web.xml\n\næ³¨åSpringMVCçåç«¯æ§å¶å¨DispatcherServletï¼å°è£äºå¯¹ææè¯·æ±çå¤çï¼\n\n# a>é»è®¤éç½®æ¹å¼\n\næ­¤éç½®ä½ç¨ä¸ï¼SpringMVCçéç½®æä»¶é»è®¤ä½äºWEB-INFä¸ï¼é»è®¤åç§°ä¸º<servlet-name>-servlet.xmlï¼ä¾å¦ï¼ä»¥ä¸éç½®æå¯¹åºSpringMVCçéç½®æä»¶ä½äºWEB-INFä¸ï¼æä»¶åä¸ºspringMVC-servlet.xml\n\n\x3c!-- éç½®SpringMVCçåç«¯æ§å¶å¨ï¼å¯¹æµè§å¨åéçè¯·æ±ç»ä¸è¿è¡å¤ç --\x3e\n<servlet>\n    <servlet-name>springMVC</servlet-name>\n    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\n</servlet>\n<servlet-mapping>\n    <servlet-name>springMVC</servlet-name>\n    \x3c!--\n        è®¾ç½®springMVCçæ ¸å¿æ§å¶å¨æè½å¤ççè¯·æ±çè¯·æ±è·¯å¾\n        /æå¹éçè¯·æ±å¯ä»¥æ¯/loginæ.htmlæ.jsæ.cssæ¹å¼çè¯·æ±è·¯å¾\n        ä½æ¯/ä¸è½å¹é.jspè¯·æ±è·¯å¾çè¯·æ±\n    --\x3e\n    <url-pattern>/</url-pattern>\n</servlet-mapping>\n\n\n# b>æ©å±éç½®æ¹å¼ï¼æä¼éç½®æ¹æ³ï¼\n\nå¯éè¿init-paramæ ç­¾è®¾ç½®SpringMVCéç½®æä»¶çä½ç½®ååç§°ï¼è®©webappæä»¶å¤¹ä¸åªæ¾webé¡µé¢ï¼ï¼éè¿load-on-startupæ ç­¾è®¾ç½®SpringMVCåç«¯æ§å¶å¨DispatcherServletçåå§åæ¶é´\n\n\x3c!-- éç½®SpringMVCçåç«¯æ§å¶å¨ï¼å¯¹æµè§å¨åéçè¯·æ±ç»ä¸è¿è¡å¤ç --\x3e\n<servlet>\n    <servlet-name>springMVC</servlet-name>\n    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\n    \x3c!-- éè¿åå§ååæ°æå®SpringMVCéç½®æä»¶çä½ç½®ååç§° --\x3e\n    <init-param>\n        \x3c!-- contextConfigLocationä¸ºåºå®å¼ --\x3e\n        <param-name>contextConfigLocation</param-name>\n        \x3c!-- ä½¿ç¨classpath:è¡¨ç¤ºä»ç±»è·¯å¾æ¥æ¾éç½®æä»¶ï¼ä¾å¦mavenå·¥ç¨ä¸­çsrc/main/resources --\x3e\n        <param-value>classpath:springMVC.xml</param-value>\n    </init-param>\n    \x3c!-- \n \t\tä½ä¸ºæ¡æ¶çæ ¸å¿ç»ä»¶ï¼å¨å¯å¨è¿ç¨ä¸­æå¤§éçåå§åæä½è¦å\n\t\tèè¿äºæä½æ¾å¨ç¬¬ä¸æ¬¡è¯·æ±æ¶ææ§è¡ä¼ä¸¥éå½±åè®¿é®éåº¦\n\t\tå æ­¤éè¦éè¿æ­¤æ ç­¾å°å¯å¨æ§å¶DispatcherServletçåå§åæ¶é´æåå°æå¡å¨å¯å¨æ¶\n\t--\x3e\n    <load-on-startup>1</load-on-startup>\n</servlet>\n<servlet-mapping>\n    <servlet-name>springMVC</servlet-name>\n    \x3c!--\n        è®¾ç½®springMVCçæ ¸å¿æ§å¶å¨æè½å¤ççè¯·æ±çè¯·æ±è·¯å¾\n        /æå¹éçè¯·æ±å¯ä»¥æ¯/loginæ.htmlæ.jsæ.cssæ¹å¼çè¯·æ±è·¯å¾\n        ä½æ¯/ä¸è½å¹é.jspè¯·æ±è·¯å¾çè¯·æ±\n    --\x3e\n    <url-pattern>/</url-pattern>\n</servlet-mapping>\n\n\n> æ³¨ï¼\n> \n> <url-pattern>æ ç­¾ä¸­ä½¿ç¨/å/*çåºå«ï¼\n> \n> /æå¹éçè¯·æ±å¯ä»¥æ¯/loginæ.htmlæ.jsæ.cssæ¹å¼çè¯·æ±è·¯å¾ï¼ä½æ¯/ä¸è½å¹é.jspè¯·æ±è·¯å¾çè¯·æ±\n> \n> å æ­¤å°±å¯ä»¥é¿åå¨è®¿é®jspé¡µé¢æ¶ï¼è¯¥è¯·æ±è¢«DispatcherServletå¤çï¼ä»èæ¾ä¸å°ç¸åºçé¡µé¢\n> \n> /*åè½å¤å¹éææè¯·æ±ï¼åæ¬jspæä»¶ï¼ï¼ä¾å¦å¨ä½¿ç¨è¿æ»¤å¨æ¶ï¼è¥éè¦å¯¹ææè¯·æ±è¿è¡è¿æ»¤ï¼å°±éè¦ä½¿ç¨/*çåæ³\n\n\n# 4ãåå»ºè¯·æ±æ§å¶å¨\n\nç±äºåç«¯æ§å¶å¨å¯¹æµè§å¨åéçè¯·æ±è¿è¡äºç»ä¸çå¤çï¼ä½æ¯å·ä½çè¯·æ±æä¸åçå¤çè¿ç¨ï¼å æ­¤éè¦åå»ºå¤çå·ä½è¯·æ±çç±»ï¼å³è¯·æ±æ§å¶å¨\n\nè¯·æ±æ§å¶å¨ä¸­æ¯ä¸ä¸ªå¤çè¯·æ±çæ¹æ³æä¸ºæ§å¶å¨æ¹æ³\n\nå ä¸ºSpringMVCçæ§å¶å¨ç±ä¸ä¸ªPOJOï¼æ®éçJavaç±»ï¼æä»»ï¼å æ­¤éè¦éè¿**@Controller**æ³¨è§£å°å¶æ è¯ä¸ºä¸ä¸ªæ§å¶å±ç»ä»¶ï¼äº¤ç»SpringçIoCå®¹å¨ç®¡çï¼æ­¤æ¶SpringMVCæè½å¤è¯å«æ§å¶å¨çå­å¨\n\n@Controller\npublic class HelloController {\n    \n}\n\n\n\n# 5ãåå»ºspringMVCçéç½®æä»¶\n\n\x3c!-- èªå¨æ«æå --\x3e\n<context:component-scan base-package="com.atguigu.mvc.controller"/>\n\n\x3c!-- éç½®Thymeleafè§å¾è§£æå¨ --\x3e\n<bean id="viewResolver" class="org.thymeleaf.spring5.view.ThymeleafViewResolver">\n    \x3c!-- éç½®è§å¾è§£æå¨ä¼åçº§ï¼ç±æ­¤å¯è§å¯ä»¥éç½®å¤ä¸ªï¼ --\x3e\n    <property name="order" value="1"/>\n    <property name="characterEncoding" value="UTF-8"/>\n    <property name="templateEngine">\n        <bean class="org.thymeleaf.spring5.SpringTemplateEngine">\n            <property name="templateResolver">\n                <bean class="org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver">\n    \n                    \x3c!-- è§å¾åç¼ --\x3e\n                    <property name="prefix" value="/WEB-INF/templates/"/>\n    \n                    \x3c!-- è§å¾åç¼ --\x3e\n                    <property name="suffix" value=".html"/>\n                    <property name="templateMode" value="HTML5"/>\n                    <property name="characterEncoding" value="UTF-8" />\n                </bean>\n            </property>\n        </bean>\n    </property>\n</bean>\n\n\x3c!-- \n   å¤çéæèµæºï¼ä¾å¦htmlãjsãcssãjpg\n  è¥åªè®¾ç½®è¯¥æ ç­¾ï¼ååªè½è®¿é®éæèµæºï¼å¶ä»è¯·æ±åæ æ³è®¿é®\n  æ­¤æ¶å¿é¡»è®¾ç½®<mvc:annotation-driven/>è§£å³é®é¢\n --\x3e\n<mvc:default-servlet-handler/>\n\n\x3c!-- å¼å¯mvcæ³¨è§£é©±å¨ --\x3e\n<mvc:annotation-driven>\n    <mvc:message-converters>\n        \x3c!-- å¤çååºä¸­æåå®¹ä¹±ç  --\x3e\n        <bean class="org.springframework.http.converter.StringHttpMessageConverter">\n            <property name="defaultCharset" value="UTF-8" />\n            <property name="supportedMediaTypes">\n                <list>\n                    <value>text/html</value>\n                    <value>application/json</value>\n                </list>\n            </property>\n        </bean>\n    </mvc:message-converters>\n</mvc:annotation-driven>\n\n\n\n# 6ãæµè¯HelloWorld\n\n# a>å®ç°å¯¹é¦é¡µçè®¿é®\n\nå¨è¯·æ±æ§å¶å¨ä¸­åå»ºå¤çè¯·æ±çæ¹æ³\n\n// @RequestMappingæ³¨è§£ï¼å¤çè¯·æ±åæ§å¶å¨æ¹æ³ä¹é´çæ å°å³ç³»\n// @RequestMappingæ³¨è§£çvalueå±æ§å¯ä»¥éè¿è¯·æ±å°åå¹éè¯·æ±ï¼/è¡¨ç¤ºçå½åå·¥ç¨çä¸ä¸æè·¯å¾\n// localhost:8080/springMVC/\n@RequestMapping("/")\npublic String index() {\n    //è®¾ç½®è§å¾åç§°\n    return "index";\n}\n\n\nä»¥"/"å¼å¤´è¡¨ç¤ºç»å¯¹è·¯å¾ï¼å³ä¸ºlocalhost:8080/\n\n# b>éè¿è¶é¾æ¥è·³è½¬å°æå®é¡µé¢\n\nå¨ä¸»é¡µindex.htmlä¸­è®¾ç½®è¶é¾æ¥\n\n<!DOCTYPE html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="UTF-8">\n    <title>é¦é¡µ</title>\n</head>\n<body>\n    <h1>é¦é¡µ</h1>\n    \x3c!-- {}éé¢çæ¯ç»å¯¹è·¯å¾ --\x3e\n    \x3c!-- thï¼Thymeleafï¼å½åç©ºé´ä¼è¿è¡èªå¨æ·»å ä¸ä¸æè·¯å¾--\x3e\n    <a th:href="@{/hello}">HelloWorld</a><br/>\n</body>\n</html>\n\n\nå¨è¯·æ±æ§å¶å¨ä¸­åå»ºå¤çè¯·æ±çæ¹æ³\n\n@RequestMapping("/hello")\npublic String HelloWorld() {\n    // åæ ·ä¹ä¼è¿åè§å¾åç§° \n    return "target";\n}\n\n\n\n# 7ãæ»ç»\n\næµè§å¨åéè¯·æ±ï¼è¥è¯·æ±å°åç¬¦ååç«¯æ§å¶å¨çurl-patternï¼è¯¥è¯·æ±å°±ä¼è¢«åç«¯æ§å¶å¨DispatcherServletå¤çãåç«¯æ§å¶å¨ä¼è¯»åSpringMVCçæ ¸å¿éç½®æä»¶ï¼éè¿æ«æç»ä»¶æ¾å°æ§å¶å¨ï¼å°è¯·æ±å°ååæ§å¶å¨ä¸­@RequestMappingæ³¨è§£çvalueå±æ§å¼ï¼valueåå­å¯ä»¥çç¥åï¼è¿è¡å¹éï¼è¥å¹éæåï¼è¯¥æ³¨è§£ææ è¯çæ§å¶å¨æ¹æ³å°±æ¯å¤çè¯·æ±çæ¹æ³ãå¤çè¯·æ±çæ¹æ³éè¦è¿åä¸ä¸ªå­ç¬¦ä¸²ç±»åçè§å¾åç§°ï¼è¯¥è§å¾åç§°ä¼è¢«è§å¾è§£æå¨è§£æï¼å ä¸åç¼ååç¼ç»æè§å¾çè·¯å¾ï¼éè¿Thymeleafå¯¹è§å¾è¿è¡æ¸²æï¼æç»è½¬åå°è§å¾æå¯¹åºé¡µé¢',normalizedContent:'# äºãhelloworld\n\n\n# 1ãå¼åç¯å¢\n\nideï¼idea 2019.2\n\næå»ºå·¥å·ï¼maven3.5.4ï¼è§£å³ä¾èµï¼\n\næå¡å¨ï¼tomcat7\n\nspringçæ¬ï¼5.3.1\n\n\n# 2ãåå»ºmavenå·¥ç¨\n\n# a>æ·»å webæ¨¡å\n\n# b>æåæ¹å¼ï¼war\n\n# c>å¼å¥ä¾èµ\n\n<dependencies>\n    \x3c!-- springmvc --\x3e\n    <dependency>\n        <groupid>org.springframework</groupid>\n        <artifactid>spring-webmvc</artifactid>\n        <version>5.3.1</version>\n    </dependency>\n\n    \x3c!-- æ¥å¿ --\x3e\n    <dependency>\n        <groupid>ch.qos.logback</groupid>\n        <artifactid>logback-classic</artifactid>\n        <version>1.2.3</version>\n    </dependency>\n\n    \x3c!-- servletapi --\x3e\n    <dependency>\n        <groupid>javax.servlet</groupid>\n        <artifactid>javax.servlet-api</artifactid>\n        <version>3.1.0</version>\n        <scope>provided</scope>\n    </dependency>\n\n    \x3c!-- spring5åthymeleafæ´åå --\x3e\n    <dependency>\n        <groupid>org.thymeleaf</groupid>\n        <artifactid>thymeleaf-spring5</artifactid>\n        <version>3.0.12.release</version>\n    </dependency>\n</dependencies>\n\n\næ³¨ï¼ç±äº maven çä¼ éæ§ï¼æä»¬ä¸å¿å°ææéè¦çåå¨é¨éç½®ä¾èµï¼èæ¯éç½®æé¡¶ç«¯çä¾èµï¼å¶ä»é ä¼ éæ§å¯¼å¥ã\n\n\n\n\n# 3ãéç½®web.xml\n\næ³¨åspringmvcçåç«¯æ§å¶å¨dispatcherservletï¼å°è£äºå¯¹ææè¯·æ±çå¤çï¼\n\n# a>é»è®¤éç½®æ¹å¼\n\næ­¤éç½®ä½ç¨ä¸ï¼springmvcçéç½®æä»¶é»è®¤ä½äºweb-infä¸ï¼é»è®¤åç§°ä¸º<servlet-name>-servlet.xmlï¼ä¾å¦ï¼ä»¥ä¸éç½®æå¯¹åºspringmvcçéç½®æä»¶ä½äºweb-infä¸ï¼æä»¶åä¸ºspringmvc-servlet.xml\n\n\x3c!-- éç½®springmvcçåç«¯æ§å¶å¨ï¼å¯¹æµè§å¨åéçè¯·æ±ç»ä¸è¿è¡å¤ç --\x3e\n<servlet>\n    <servlet-name>springmvc</servlet-name>\n    <servlet-class>org.springframework.web.servlet.dispatcherservlet</servlet-class>\n</servlet>\n<servlet-mapping>\n    <servlet-name>springmvc</servlet-name>\n    \x3c!--\n        è®¾ç½®springmvcçæ ¸å¿æ§å¶å¨æè½å¤ççè¯·æ±çè¯·æ±è·¯å¾\n        /æå¹éçè¯·æ±å¯ä»¥æ¯/loginæ.htmlæ.jsæ.cssæ¹å¼çè¯·æ±è·¯å¾\n        ä½æ¯/ä¸è½å¹é.jspè¯·æ±è·¯å¾çè¯·æ±\n    --\x3e\n    <url-pattern>/</url-pattern>\n</servlet-mapping>\n\n\n# b>æ©å±éç½®æ¹å¼ï¼æä¼éç½®æ¹æ³ï¼\n\nå¯éè¿init-paramæ ç­¾è®¾ç½®springmvcéç½®æä»¶çä½ç½®ååç§°ï¼è®©webappæä»¶å¤¹ä¸åªæ¾webé¡µé¢ï¼ï¼éè¿load-on-startupæ ç­¾è®¾ç½®springmvcåç«¯æ§å¶å¨dispatcherservletçåå§åæ¶é´\n\n\x3c!-- éç½®springmvcçåç«¯æ§å¶å¨ï¼å¯¹æµè§å¨åéçè¯·æ±ç»ä¸è¿è¡å¤ç --\x3e\n<servlet>\n    <servlet-name>springmvc</servlet-name>\n    <servlet-class>org.springframework.web.servlet.dispatcherservlet</servlet-class>\n    \x3c!-- éè¿åå§ååæ°æå®springmvcéç½®æä»¶çä½ç½®ååç§° --\x3e\n    <init-param>\n        \x3c!-- contextconfiglocationä¸ºåºå®å¼ --\x3e\n        <param-name>contextconfiglocation</param-name>\n        \x3c!-- ä½¿ç¨classpath:è¡¨ç¤ºä»ç±»è·¯å¾æ¥æ¾éç½®æä»¶ï¼ä¾å¦mavenå·¥ç¨ä¸­çsrc/main/resources --\x3e\n        <param-value>classpath:springmvc.xml</param-value>\n    </init-param>\n    \x3c!-- \n \t\tä½ä¸ºæ¡æ¶çæ ¸å¿ç»ä»¶ï¼å¨å¯å¨è¿ç¨ä¸­æå¤§éçåå§åæä½è¦å\n\t\tèè¿äºæä½æ¾å¨ç¬¬ä¸æ¬¡è¯·æ±æ¶ææ§è¡ä¼ä¸¥éå½±åè®¿é®éåº¦\n\t\tå æ­¤éè¦éè¿æ­¤æ ç­¾å°å¯å¨æ§å¶dispatcherservletçåå§åæ¶é´æåå°æå¡å¨å¯å¨æ¶\n\t--\x3e\n    <load-on-startup>1</load-on-startup>\n</servlet>\n<servlet-mapping>\n    <servlet-name>springmvc</servlet-name>\n    \x3c!--\n        è®¾ç½®springmvcçæ ¸å¿æ§å¶å¨æè½å¤ççè¯·æ±çè¯·æ±è·¯å¾\n        /æå¹éçè¯·æ±å¯ä»¥æ¯/loginæ.htmlæ.jsæ.cssæ¹å¼çè¯·æ±è·¯å¾\n        ä½æ¯/ä¸è½å¹é.jspè¯·æ±è·¯å¾çè¯·æ±\n    --\x3e\n    <url-pattern>/</url-pattern>\n</servlet-mapping>\n\n\n> æ³¨ï¼\n> \n> <url-pattern>æ ç­¾ä¸­ä½¿ç¨/å/*çåºå«ï¼\n> \n> /æå¹éçè¯·æ±å¯ä»¥æ¯/loginæ.htmlæ.jsæ.cssæ¹å¼çè¯·æ±è·¯å¾ï¼ä½æ¯/ä¸è½å¹é.jspè¯·æ±è·¯å¾çè¯·æ±\n> \n> å æ­¤å°±å¯ä»¥é¿åå¨è®¿é®jspé¡µé¢æ¶ï¼è¯¥è¯·æ±è¢«dispatcherservletå¤çï¼ä»èæ¾ä¸å°ç¸åºçé¡µé¢\n> \n> /*åè½å¤å¹éææè¯·æ±ï¼åæ¬jspæä»¶ï¼ï¼ä¾å¦å¨ä½¿ç¨è¿æ»¤å¨æ¶ï¼è¥éè¦å¯¹ææè¯·æ±è¿è¡è¿æ»¤ï¼å°±éè¦ä½¿ç¨/*çåæ³\n\n\n# 4ãåå»ºè¯·æ±æ§å¶å¨\n\nç±äºåç«¯æ§å¶å¨å¯¹æµè§å¨åéçè¯·æ±è¿è¡äºç»ä¸çå¤çï¼ä½æ¯å·ä½çè¯·æ±æä¸åçå¤çè¿ç¨ï¼å æ­¤éè¦åå»ºå¤çå·ä½è¯·æ±çç±»ï¼å³è¯·æ±æ§å¶å¨\n\nè¯·æ±æ§å¶å¨ä¸­æ¯ä¸ä¸ªå¤çè¯·æ±çæ¹æ³æä¸ºæ§å¶å¨æ¹æ³\n\nå ä¸ºspringmvcçæ§å¶å¨ç±ä¸ä¸ªpojoï¼æ®éçjavaç±»ï¼æä»»ï¼å æ­¤éè¦éè¿**@controller**æ³¨è§£å°å¶æ è¯ä¸ºä¸ä¸ªæ§å¶å±ç»ä»¶ï¼äº¤ç»springçiocå®¹å¨ç®¡çï¼æ­¤æ¶springmvcæè½å¤è¯å«æ§å¶å¨çå­å¨\n\n@controller\npublic class hellocontroller {\n    \n}\n\n\n\n# 5ãåå»ºspringmvcçéç½®æä»¶\n\n\x3c!-- èªå¨æ«æå --\x3e\n<context:component-scan base-package="com.atguigu.mvc.controller"/>\n\n\x3c!-- éç½®thymeleafè§å¾è§£æå¨ --\x3e\n<bean id="viewresolver" class="org.thymeleaf.spring5.view.thymeleafviewresolver">\n    \x3c!-- éç½®è§å¾è§£æå¨ä¼åçº§ï¼ç±æ­¤å¯è§å¯ä»¥éç½®å¤ä¸ªï¼ --\x3e\n    <property name="order" value="1"/>\n    <property name="characterencoding" value="utf-8"/>\n    <property name="templateengine">\n        <bean class="org.thymeleaf.spring5.springtemplateengine">\n            <property name="templateresolver">\n                <bean class="org.thymeleaf.spring5.templateresolver.springresourcetemplateresolver">\n    \n                    \x3c!-- è§å¾åç¼ --\x3e\n                    <property name="prefix" value="/web-inf/templates/"/>\n    \n                    \x3c!-- è§å¾åç¼ --\x3e\n                    <property name="suffix" value=".html"/>\n                    <property name="templatemode" value="html5"/>\n                    <property name="characterencoding" value="utf-8" />\n                </bean>\n            </property>\n        </bean>\n    </property>\n</bean>\n\n\x3c!-- \n   å¤çéæèµæºï¼ä¾å¦htmlãjsãcssãjpg\n  è¥åªè®¾ç½®è¯¥æ ç­¾ï¼ååªè½è®¿é®éæèµæºï¼å¶ä»è¯·æ±åæ æ³è®¿é®\n  æ­¤æ¶å¿é¡»è®¾ç½®<mvc:annotation-driven/>è§£å³é®é¢\n --\x3e\n<mvc:default-servlet-handler/>\n\n\x3c!-- å¼å¯mvcæ³¨è§£é©±å¨ --\x3e\n<mvc:annotation-driven>\n    <mvc:message-converters>\n        \x3c!-- å¤çååºä¸­æåå®¹ä¹±ç  --\x3e\n        <bean class="org.springframework.http.converter.stringhttpmessageconverter">\n            <property name="defaultcharset" value="utf-8" />\n            <property name="supportedmediatypes">\n                <list>\n                    <value>text/html</value>\n                    <value>application/json</value>\n                </list>\n            </property>\n        </bean>\n    </mvc:message-converters>\n</mvc:annotation-driven>\n\n\n\n# 6ãæµè¯helloworld\n\n# a>å®ç°å¯¹é¦é¡µçè®¿é®\n\nå¨è¯·æ±æ§å¶å¨ä¸­åå»ºå¤çè¯·æ±çæ¹æ³\n\n// @requestmappingæ³¨è§£ï¼å¤çè¯·æ±åæ§å¶å¨æ¹æ³ä¹é´çæ å°å³ç³»\n// @requestmappingæ³¨è§£çvalueå±æ§å¯ä»¥éè¿è¯·æ±å°åå¹éè¯·æ±ï¼/è¡¨ç¤ºçå½åå·¥ç¨çä¸ä¸æè·¯å¾\n// localhost:8080/springmvc/\n@requestmapping("/")\npublic string index() {\n    //è®¾ç½®è§å¾åç§°\n    return "index";\n}\n\n\nä»¥"/"å¼å¤´è¡¨ç¤ºç»å¯¹è·¯å¾ï¼å³ä¸ºlocalhost:8080/\n\n# b>éè¿è¶é¾æ¥è·³è½¬å°æå®é¡µé¢\n\nå¨ä¸»é¡µindex.htmlä¸­è®¾ç½®è¶é¾æ¥\n\n<!doctype html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="utf-8">\n    <title>é¦é¡µ</title>\n</head>\n<body>\n    <h1>é¦é¡µ</h1>\n    \x3c!-- {}éé¢çæ¯ç»å¯¹è·¯å¾ --\x3e\n    \x3c!-- thï¼thymeleafï¼å½åç©ºé´ä¼è¿è¡èªå¨æ·»å ä¸ä¸æè·¯å¾--\x3e\n    <a th:href="@{/hello}">helloworld</a><br/>\n</body>\n</html>\n\n\nå¨è¯·æ±æ§å¶å¨ä¸­åå»ºå¤çè¯·æ±çæ¹æ³\n\n@requestmapping("/hello")\npublic string helloworld() {\n    // åæ ·ä¹ä¼è¿åè§å¾åç§° \n    return "target";\n}\n\n\n\n# 7ãæ»ç»\n\næµè§å¨åéè¯·æ±ï¼è¥è¯·æ±å°åç¬¦ååç«¯æ§å¶å¨çurl-patternï¼è¯¥è¯·æ±å°±ä¼è¢«åç«¯æ§å¶å¨dispatcherservletå¤çãåç«¯æ§å¶å¨ä¼è¯»åspringmvcçæ ¸å¿éç½®æä»¶ï¼éè¿æ«æç»ä»¶æ¾å°æ§å¶å¨ï¼å°è¯·æ±å°ååæ§å¶å¨ä¸­@requestmappingæ³¨è§£çvalueå±æ§å¼ï¼valueåå­å¯ä»¥çç¥åï¼è¿è¡å¹éï¼è¥å¹éæåï¼è¯¥æ³¨è§£ææ è¯çæ§å¶å¨æ¹æ³å°±æ¯å¤çè¯·æ±çæ¹æ³ãå¤çè¯·æ±çæ¹æ³éè¦è¿åä¸ä¸ªå­ç¬¦ä¸²ç±»åçè§å¾åç§°ï¼è¯¥è§å¾åç§°ä¼è¢«è§å¾è§£æå¨è§£æï¼å ä¸åç¼ååç¼ç»æè§å¾çè·¯å¾ï¼éè¿thymeleafå¯¹è§å¾è¿è¡æ¸²æï¼æç»è½¬åå°è§å¾æå¯¹åºé¡µé¢',charsets:{cjk:!0}},{title:"RequestMappingæ³¨è§£",frontmatter:{title:"RequestMappingæ³¨è§£",date:"2022-04-28T00:00:00.000Z",permalink:"/springmvc/003/",categories:["æ¡æ¶","SpringMVC"],tags:["SpringMVC"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/02.SpringMVC/03.RequestMapping%E6%B3%A8%E8%A7%A3.html",relativePath:"07.æ¡æ¶/02.SpringMVC/03.RequestMappingæ³¨è§£.md",key:"v-5198e7be",path:"/springmvc/003/",headers:[{level:3,title:"1ã@RequestMappingæ³¨è§£çåè½",slug:"_1ã-requestmappingæ³¨è§£çåè½",normalizedTitle:"1ã@requestmappingæ³¨è§£çåè½",charIndex:26},{level:3,title:"2ã@RequestMappingæ³¨è§£çä½ç½®",slug:"_2ã-requestmappingæ³¨è§£çä½ç½®",normalizedTitle:"2ã@requestmappingæ³¨è§£çä½ç½®",charIndex:243},{level:3,title:"3ã@RequestMappingæ³¨è§£çvalueå±æ§",slug:"_3ã-requestmappingæ³¨è§£çvalueå±æ§",normalizedTitle:"3ã@requestmappingæ³¨è§£çvalueå±æ§",charIndex:667},{level:3,title:"4ã@RequestMappingæ³¨è§£çmethodå±æ§",slug:"_4ã-requestmappingæ³¨è§£çmethodå±æ§",normalizedTitle:"4ã@requestmappingæ³¨è§£çmethodå±æ§",charIndex:1176},{level:3,title:"5ã@RequestMappingæ³¨è§£çparamså±æ§ï¼äºè§£ï¼",slug:"_5ã-requestmappingæ³¨è§£çparamså±æ§-äºè§£",normalizedTitle:"5ã@requestmappingæ³¨è§£çparamså±æ§ï¼äºè§£ï¼",charIndex:2299},{level:3,title:"6ã@RequestMappingæ³¨è§£çheaderså±æ§ï¼äºè§£ï¼",slug:"_6ã-requestmappingæ³¨è§£çheaderså±æ§-äºè§£",normalizedTitle:"6ã@requestmappingæ³¨è§£çheaderså±æ§ï¼äºè§£ï¼",charIndex:3282},{level:3,title:"7ãSpringMVCæ¯æanté£æ ¼çè·¯å¾",slug:"_7ãspringmvcæ¯æanté£æ ¼çè·¯å¾",normalizedTitle:"7ãspringmvcæ¯æanté£æ ¼çè·¯å¾",charIndex:3702},{level:3,title:"8ãSpringMVCæ¯æè·¯å¾ä¸­çå ä½ç¬¦ï¼éç¹ï¼",slug:"_8ãspringmvcæ¯æè·¯å¾ä¸­çå ä½ç¬¦-éç¹",normalizedTitle:"8ãspringmvcæ¯æè·¯å¾ä¸­çå ä½ç¬¦ï¼éç¹ï¼",charIndex:3854}],headersStr:"1ã@RequestMappingæ³¨è§£çåè½ 2ã@RequestMappingæ³¨è§£çä½ç½® 3ã@RequestMappingæ³¨è§£çvalueå±æ§ 4ã@RequestMappingæ³¨è§£çmethodå±æ§ 5ã@RequestMappingæ³¨è§£çparamså±æ§ï¼äºè§£ï¼ 6ã@RequestMappingæ³¨è§£çheaderså±æ§ï¼äºè§£ï¼ 7ãSpringMVCæ¯æanté£æ ¼çè·¯å¾ 8ãSpringMVCæ¯æè·¯å¾ä¸­çå ä½ç¬¦ï¼éç¹ï¼",content:'# ä¸ã@RequestMappingæ³¨è§£\n\n\n# 1ã@RequestMappingæ³¨è§£çåè½\n\nä»æ³¨è§£åç§°ä¸æä»¬å¯ä»¥çå°ï¼@RequestMappingæ³¨è§£çä½ç¨å°±æ¯å°è¯·æ±åå¤çè¯·æ±çæ§å¶å¨æ¹æ³å³èèµ·æ¥ï¼å»ºç«æ å°å³ç³»ã\n\nå¤ä¸ªRequestMappingå¦æè¯·æ±è·¯å¾æ¯ä¸æ ·çï¼RequestMappingä¸ç¥éå·ä½çè¯·æ±è·¯å¾ï¼åä¼æ¥éï¼æä»¥å¿é¡»ä¿è¯è¯·æ±è·¯å¾/è¯·æ±å°åçå¯ä¸æ§ã\n\nSpringMVC æ¥æ¶å°æå®çè¯·æ±ï¼å°±ä¼æ¥æ¾å°å¨æ å°å³ç³»ä¸­å¯¹åºçæ§å¶å¨æ¹æ³æ¥å¤çè¿ä¸ªè¯·æ±ã\n\n\n# 2ã@RequestMappingæ³¨è§£çä½ç½®\n\n@RequestMappingæ è¯ä¸ä¸ªç±»ï¼è®¾ç½®æ å°è¯·æ±çè¯·æ±è·¯å¾çåå§ä¿¡æ¯\n\n@RequestMappingæ è¯ä¸ä¸ªæ¹æ³ï¼è®¾ç½®æ å°è¯·æ±è¯·æ±è·¯å¾çå·ä½ä¿¡æ¯\n\n@Controller\n@RequestMapping("/test")\npublic class RequestMappingController {\n\n\t//æ­¤æ¶è¯·æ±æ å°ææ å°çè¯·æ±çè¯·æ±è·¯å¾ä¸ºï¼/test/testRequestMapping\n    @RequestMapping("/testRequestMapping")\n    // @RequestMapping("/test/testRequestMapping")ææ¯æ­£ç¡®çè¡¨è¾¾æ¹å¼ï¼ç¸å½äº"ç±»æ³¨è§£+æ¹æ³æ³¨è§£"\n    public String testRequestMapping(){\n        return "success";\n    }\n\n}\n\n\n\n# 3ã@RequestMappingæ³¨è§£çvalueå±æ§\n\n@RequestMappingæ³¨è§£çvalueå±æ§éè¿è¯·æ±çè¯·æ±å°åå¹éè¯·æ±æ å°\n\n@RequestMappingæ³¨è§£çvalueå±æ§æ¯ä¸ä¸ªå­ç¬¦ä¸²ç±»åçæ°ç»ï¼è¡¨ç¤ºè¯¥è¯·æ±æ å°è½å¤å¹éå¤ä¸ªè¯·æ±å°åæå¯¹åºçè¯·æ±\n\n@RequestMappingæ³¨è§£çvalueå±æ§å¿é¡»è®¾ç½®ï¼å¶ä»å¯ä»¥ä¸è®¾ç½®ï¼ï¼è³å°éè¿è¯·æ±å°åå¹éè¯·æ±æ å°\n\n<a th:href="@{/testRequestMapping}">æµè¯@RequestMappingçvalueå±æ§--\x3e/testRequestMapping</a><br>\n<a th:href="@{/test}">æµè¯@RequestMappingçvalueå±æ§--\x3e/test</a><br>\n\n\n@RequestMapping(\n    // å¤çå¤ä¸ªè¯·æ±\n    // åªè¦æ»¡è¶³ä¸ä¸ªå°±å¯ä»¥è¢«å¤ç\n    value = {"/testRequestMapping", "/test"}\n)\npublic String testRequestMapping(){\n    return "success";\n}\n\n\n\n# 4ã@RequestMappingæ³¨è§£çmethodå±æ§\n\n@RequestMappingæ³¨è§£çmethodå±æ§éè¿è¯·æ±çè¯·æ±æ¹å¼ï¼getæpostï¼ï¼putådeleteä¸æ¯å¾å¸¸ç¨ï¼å¹éè¯·æ±æ å°\n\ngetè¯·æ±åpostè¯·æ±çåºå«æ¯ä»ä¹ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼\n\n@RequestMappingæ³¨è§£çmethodå±æ§æ¯ä¸ä¸ªRequestMethodç±»åçæ°ç»ï¼è¡¨ç¤ºè¯¥è¯·æ±æ å°è½å¤å¹éå¤ç§è¯·æ±æ¹å¼çè¯·æ±\n\nä¸è®¾ç½®methodåæ°é»è®¤å¯ä»¥å¹éä»»ä½ç±»åçè¯·æ± è®¾ç½®methodå°±åªè½å¹éçæå®çè¯·æ±æ¹å¼ã\n\nmethodåæ°å¯ä»¥è®¾ç½®å¤ä¸ªå¼ï¼{å¼1ï¼ å¼2ï¼ å¼3ï¼ .....}ï¼\n\nè¥å½åè¯·æ±çè¯·æ±å°åæ»¡è¶³è¯·æ±æ å°çvalueå±æ§ï¼ä½æ¯è¯·æ±æ¹å¼ä¸æ»¡è¶³methodå±æ§ï¼åæµè§å¨æ¥é405ï¼Request method \'POST\' not supported\n\n<a th:href="@{/test}">æµè¯@RequestMappingçvalueå±æ§--\x3e/test</a><br>\n<form th:action="@{/test}" method="post">\n    <input type="submit">\n</form>\n\n\n// ä¸ç¥éåä»ä¹å°±ævalueå¼åæ¹æ³ååæä¸æ ·ç\n@RequestMapping(\n        value = {"/testRequestMapping", "/test"},\n        method = {RequestMethod.GET, RequestMethod.POST}\n)\npublic String testRequestMapping(){\n    return "success";\n}\n\n\n> æ³¨ï¼\n> \n> 1ãå¯¹äºå¤çæå®è¯·æ±æ¹å¼çæ§å¶å¨æ¹æ³ï¼SpringMVCä¸­æä¾äº@RequestMappingçæ´¾çæ³¨è§£\n> \n> å¤çgetè¯·æ±çæ å°--\x3e@GetMapping\n> \n> å¤çpostè¯·æ±çæ å°--\x3e@PostMapping\n> \n> å¤çputè¯·æ±çæ å°--\x3e@PutMapping\n> \n> å¤çdeleteè¯·æ±çæ å°--\x3e@DeleteMapping\n> \n> 2ãå¸¸ç¨çè¯·æ±æ¹å¼ægetï¼postï¼putï¼delete\n> \n> ä½æ¯ç®åæµè§å¨åªæ¯ægetåpostï¼è¥å¨formè¡¨åæäº¤æ¶ï¼ä¸ºmethodè®¾ç½®äºå¶ä»è¯·æ±æ¹å¼çå­ç¬¦ä¸²ï¼putædeleteï¼ï¼åæç§é»è®¤çè¯·æ±æ¹å¼getå¤ç\n> \n> è¥è¦åéputådeleteè¯·æ±ï¼åéè¦éè¿springæä¾çè¿æ»¤å¨HiddenHttpMethodFilterï¼å¨RESTfulé¨åä¼è®²å°\n\n\n# 5ã@RequestMappingæ³¨è§£çparamså±æ§ï¼äºè§£ï¼\n\n@RequestMappingæ³¨è§£çparamså±æ§éè¿è¯·æ±çè¯·æ±åæ°å¹éè¯·æ±æ å°\n\n@RequestMappingæ³¨è§£çparamså±æ§æ¯ä¸ä¸ªå­ç¬¦ä¸²ç±»åçæ°ç»ï¼å¯ä»¥éè¿åç§è¡¨è¾¾å¼è®¾ç½®è¯·æ±åæ°åè¯·æ±æ å°çå¹éå³ç³»\n\n"param"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦paramè¯·æ±åæ°\n\n"!param"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»ä¸è½æºå¸¦paramè¯·æ±åæ°\n\n"param=value"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦paramè¯·æ±åæ°ä¸param=value\n\n"param!=value"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦paramè¯·æ±åæ°ä½æ¯param!=value\n\n@{/test?username=\'admin\'}å@{/test(username=\'admin\')}å¨è§£ææ¶æ¬è´¨ä¸æ²¡æä»»ä½åºå«ï¼å³é®å¨äº?ä¼å¨IDEAä¸­æ¥é,ä½¿ç¨()æ¹æ³åæ²¡ææ¥éçæéï¼ï¼ï¼ä¼å¨æµè§å¨ä¸­èªå¨è¢«è§£æä¸ºï¼è¿æ¥æ¹æ³\n<a th:href="@{/test(username=\'admin\',password=123456)}">æµè¯@RequestMappingçparamså±æ§--\x3e/test</a><br>\n\n\n@RequestMapping(\n        value = {"/testRequestMapping", "/test"}\n        ,method = {RequestMethod.GET, RequestMethod.POST}\n        ,params = {"username","password!=123456"}\n)\npublic String testRequestMapping(){\n    return "success";\n}\n\n\n> æ³¨ï¼\n> \n> è¥å½åè¯·æ±æ»¡è¶³@RequestMappingæ³¨è§£çvalueåmethodå±æ§ï¼ä½æ¯ä¸æ»¡è¶³paramså±æ§ï¼æ­¤æ¶é¡µé¢åæ¥é400ï¼Parameter conditions "username, password!=123456" not met for actual request parameters: username={admin}, password={123456}\n\n\n# 6ã@RequestMappingæ³¨è§£çheaderså±æ§ï¼äºè§£ï¼\n\n@RequestMappingæ³¨è§£çheaderså±æ§éè¿è¯·æ±çè¯·æ±å¤´ä¿¡æ¯å¹éè¯·æ±æ å°\n\n@RequestMappingæ³¨è§£çheaderså±æ§æ¯ä¸ä¸ªå­ç¬¦ä¸²ç±»åçæ°ç»ï¼å¯ä»¥éè¿åç§è¡¨è¾¾å¼è®¾ç½®è¯·æ±å¤´ä¿¡æ¯åè¯·æ±æ å°çå¹éå³ç³»\n\n"header"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦headerè¯·æ±å¤´ä¿¡æ¯\n\n"!header"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»ä¸è½æºå¸¦headerè¯·æ±å¤´ä¿¡æ¯\n\n"header=value"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦headerè¯·æ±å¤´ä¿¡æ¯ä¸header=value\n\n"header!=value"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦headerè¯·æ±å¤´ä¿¡æ¯ä¸header!=value\n\nè¥å½åè¯·æ±æ»¡è¶³@RequestMappingæ³¨è§£çvalueåmethodå±æ§ï¼ä½æ¯ä¸æ»¡è¶³headerså±æ§ï¼æ­¤æ¶é¡µé¢æ¾ç¤º404éè¯¯ï¼å³èµæºæªæ¾å°\n\n\n# 7ãSpringMVCæ¯æanté£æ ¼çè·¯å¾\n\nä»¥ä¸å­ç¬¦åå¯ä»¥å¨valueå±æ§ä¸­è¿è¡åºç¨ ï¼ï¼è¡¨ç¤ºä»»æçåä¸ªå­ç¬¦\n\n*ï¼è¡¨ç¤ºä»»æç0ä¸ªæå¤ä¸ªå­ç¬¦\n\n**ï¼è¡¨ç¤ºä»»æçä¸å±æå¤å±ç®å½\n\næ³¨æï¼å¨ä½¿ç¨*æ¶ åªè½ä½¿ç¨/*/xxxçæ¹å¼ï¼ä¸è½å¨ä¸¤ä¸ª**ä¹åå ä»»ä½å­ç¬¦ï¼å¦"/a**a/test"å°±æ¯éè¯¯çã\n\n\n# 8ãSpringMVCæ¯æè·¯å¾ä¸­çå ä½ç¬¦ï¼éç¹ï¼\n\nåå§æ¹å¼ï¼/deleteUser?id=1\n\nrestæ¹å¼ï¼/deleteUser/1\n\nSpringMVCè·¯å¾ä¸­çå ä½ç¬¦å¸¸ç¨äºRESTfulé£æ ¼ä¸­ï¼å½è¯·æ±è·¯å¾ä¸­å°æäºæ°æ®éè¿è·¯å¾çæ¹å¼ä¼ è¾å°æå¡å¨ä¸­ï¼å°±å¯ä»¥å¨ç¸åºç@RequestMappingæ³¨è§£çvalueå±æ§ä¸­éè¿å ä½ç¬¦{xxx}è¡¨ç¤ºä¼ è¾çæ°æ®ï¼å¨éè¿@PathVariableæ³¨è§£ï¼å°å ä½ç¬¦æè¡¨ç¤ºçæ°æ®èµå¼ç»æ§å¶å¨æ¹æ³çå½¢å\n\n<a th:href="@{/testRest/1/admin}">æµè¯è·¯å¾ä¸­çå ä½ç¬¦--\x3e/testRest</a><br>\n\n\n@RequestMapping("/testRest/{id}/{username}")\npublic String testRest(@PathVariable("id") String id, @PathVariable("username") String username){\n    System.out.println("id:"+id+",username:"+username);\n    return "success";\n}\n//æç»è¾åºçåå®¹ä¸º--\x3eid:1,username:admin\n',normalizedContent:'# ä¸ã@requestmappingæ³¨è§£\n\n\n# 1ã@requestmappingæ³¨è§£çåè½\n\nä»æ³¨è§£åç§°ä¸æä»¬å¯ä»¥çå°ï¼@requestmappingæ³¨è§£çä½ç¨å°±æ¯å°è¯·æ±åå¤çè¯·æ±çæ§å¶å¨æ¹æ³å³èèµ·æ¥ï¼å»ºç«æ å°å³ç³»ã\n\nå¤ä¸ªrequestmappingå¦æè¯·æ±è·¯å¾æ¯ä¸æ ·çï¼requestmappingä¸ç¥éå·ä½çè¯·æ±è·¯å¾ï¼åä¼æ¥éï¼æä»¥å¿é¡»ä¿è¯è¯·æ±è·¯å¾/è¯·æ±å°åçå¯ä¸æ§ã\n\nspringmvc æ¥æ¶å°æå®çè¯·æ±ï¼å°±ä¼æ¥æ¾å°å¨æ å°å³ç³»ä¸­å¯¹åºçæ§å¶å¨æ¹æ³æ¥å¤çè¿ä¸ªè¯·æ±ã\n\n\n# 2ã@requestmappingæ³¨è§£çä½ç½®\n\n@requestmappingæ è¯ä¸ä¸ªç±»ï¼è®¾ç½®æ å°è¯·æ±çè¯·æ±è·¯å¾çåå§ä¿¡æ¯\n\n@requestmappingæ è¯ä¸ä¸ªæ¹æ³ï¼è®¾ç½®æ å°è¯·æ±è¯·æ±è·¯å¾çå·ä½ä¿¡æ¯\n\n@controller\n@requestmapping("/test")\npublic class requestmappingcontroller {\n\n\t//æ­¤æ¶è¯·æ±æ å°ææ å°çè¯·æ±çè¯·æ±è·¯å¾ä¸ºï¼/test/testrequestmapping\n    @requestmapping("/testrequestmapping")\n    // @requestmapping("/test/testrequestmapping")ææ¯æ­£ç¡®çè¡¨è¾¾æ¹å¼ï¼ç¸å½äº"ç±»æ³¨è§£+æ¹æ³æ³¨è§£"\n    public string testrequestmapping(){\n        return "success";\n    }\n\n}\n\n\n\n# 3ã@requestmappingæ³¨è§£çvalueå±æ§\n\n@requestmappingæ³¨è§£çvalueå±æ§éè¿è¯·æ±çè¯·æ±å°åå¹éè¯·æ±æ å°\n\n@requestmappingæ³¨è§£çvalueå±æ§æ¯ä¸ä¸ªå­ç¬¦ä¸²ç±»åçæ°ç»ï¼è¡¨ç¤ºè¯¥è¯·æ±æ å°è½å¤å¹éå¤ä¸ªè¯·æ±å°åæå¯¹åºçè¯·æ±\n\n@requestmappingæ³¨è§£çvalueå±æ§å¿é¡»è®¾ç½®ï¼å¶ä»å¯ä»¥ä¸è®¾ç½®ï¼ï¼è³å°éè¿è¯·æ±å°åå¹éè¯·æ±æ å°\n\n<a th:href="@{/testrequestmapping}">æµè¯@requestmappingçvalueå±æ§--\x3e/testrequestmapping</a><br>\n<a th:href="@{/test}">æµè¯@requestmappingçvalueå±æ§--\x3e/test</a><br>\n\n\n@requestmapping(\n    // å¤çå¤ä¸ªè¯·æ±\n    // åªè¦æ»¡è¶³ä¸ä¸ªå°±å¯ä»¥è¢«å¤ç\n    value = {"/testrequestmapping", "/test"}\n)\npublic string testrequestmapping(){\n    return "success";\n}\n\n\n\n# 4ã@requestmappingæ³¨è§£çmethodå±æ§\n\n@requestmappingæ³¨è§£çmethodå±æ§éè¿è¯·æ±çè¯·æ±æ¹å¼ï¼getæpostï¼ï¼putådeleteä¸æ¯å¾å¸¸ç¨ï¼å¹éè¯·æ±æ å°\n\ngetè¯·æ±åpostè¯·æ±çåºå«æ¯ä»ä¹ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼\n\n@requestmappingæ³¨è§£çmethodå±æ§æ¯ä¸ä¸ªrequestmethodç±»åçæ°ç»ï¼è¡¨ç¤ºè¯¥è¯·æ±æ å°è½å¤å¹éå¤ç§è¯·æ±æ¹å¼çè¯·æ±\n\nä¸è®¾ç½®methodåæ°é»è®¤å¯ä»¥å¹éä»»ä½ç±»åçè¯·æ± è®¾ç½®methodå°±åªè½å¹éçæå®çè¯·æ±æ¹å¼ã\n\nmethodåæ°å¯ä»¥è®¾ç½®å¤ä¸ªå¼ï¼{å¼1ï¼ å¼2ï¼ å¼3ï¼ .....}ï¼\n\nè¥å½åè¯·æ±çè¯·æ±å°åæ»¡è¶³è¯·æ±æ å°çvalueå±æ§ï¼ä½æ¯è¯·æ±æ¹å¼ä¸æ»¡è¶³methodå±æ§ï¼åæµè§å¨æ¥é405ï¼request method \'post\' not supported\n\n<a th:href="@{/test}">æµè¯@requestmappingçvalueå±æ§--\x3e/test</a><br>\n<form th:action="@{/test}" method="post">\n    <input type="submit">\n</form>\n\n\n// ä¸ç¥éåä»ä¹å°±ævalueå¼åæ¹æ³ååæä¸æ ·ç\n@requestmapping(\n        value = {"/testrequestmapping", "/test"},\n        method = {requestmethod.get, requestmethod.post}\n)\npublic string testrequestmapping(){\n    return "success";\n}\n\n\n> æ³¨ï¼\n> \n> 1ãå¯¹äºå¤çæå®è¯·æ±æ¹å¼çæ§å¶å¨æ¹æ³ï¼springmvcä¸­æä¾äº@requestmappingçæ´¾çæ³¨è§£\n> \n> å¤çgetè¯·æ±çæ å°--\x3e@getmapping\n> \n> å¤çpostè¯·æ±çæ å°--\x3e@postmapping\n> \n> å¤çputè¯·æ±çæ å°--\x3e@putmapping\n> \n> å¤çdeleteè¯·æ±çæ å°--\x3e@deletemapping\n> \n> 2ãå¸¸ç¨çè¯·æ±æ¹å¼ægetï¼postï¼putï¼delete\n> \n> ä½æ¯ç®åæµè§å¨åªæ¯ægetåpostï¼è¥å¨formè¡¨åæäº¤æ¶ï¼ä¸ºmethodè®¾ç½®äºå¶ä»è¯·æ±æ¹å¼çå­ç¬¦ä¸²ï¼putædeleteï¼ï¼åæç§é»è®¤çè¯·æ±æ¹å¼getå¤ç\n> \n> è¥è¦åéputådeleteè¯·æ±ï¼åéè¦éè¿springæä¾çè¿æ»¤å¨hiddenhttpmethodfilterï¼å¨restfulé¨åä¼è®²å°\n\n\n# 5ã@requestmappingæ³¨è§£çparamså±æ§ï¼äºè§£ï¼\n\n@requestmappingæ³¨è§£çparamså±æ§éè¿è¯·æ±çè¯·æ±åæ°å¹éè¯·æ±æ å°\n\n@requestmappingæ³¨è§£çparamså±æ§æ¯ä¸ä¸ªå­ç¬¦ä¸²ç±»åçæ°ç»ï¼å¯ä»¥éè¿åç§è¡¨è¾¾å¼è®¾ç½®è¯·æ±åæ°åè¯·æ±æ å°çå¹éå³ç³»\n\n"param"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦paramè¯·æ±åæ°\n\n"!param"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»ä¸è½æºå¸¦paramè¯·æ±åæ°\n\n"param=value"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦paramè¯·æ±åæ°ä¸param=value\n\n"param!=value"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦paramè¯·æ±åæ°ä½æ¯param!=value\n\n@{/test?username=\'admin\'}å@{/test(username=\'admin\')}å¨è§£ææ¶æ¬è´¨ä¸æ²¡æä»»ä½åºå«ï¼å³é®å¨äº?ä¼å¨ideaä¸­æ¥é,ä½¿ç¨()æ¹æ³åæ²¡ææ¥éçæéï¼ï¼ï¼ä¼å¨æµè§å¨ä¸­èªå¨è¢«è§£æä¸ºï¼è¿æ¥æ¹æ³\n<a th:href="@{/test(username=\'admin\',password=123456)}">æµè¯@requestmappingçparamså±æ§--\x3e/test</a><br>\n\n\n@requestmapping(\n        value = {"/testrequestmapping", "/test"}\n        ,method = {requestmethod.get, requestmethod.post}\n        ,params = {"username","password!=123456"}\n)\npublic string testrequestmapping(){\n    return "success";\n}\n\n\n> æ³¨ï¼\n> \n> è¥å½åè¯·æ±æ»¡è¶³@requestmappingæ³¨è§£çvalueåmethodå±æ§ï¼ä½æ¯ä¸æ»¡è¶³paramså±æ§ï¼æ­¤æ¶é¡µé¢åæ¥é400ï¼parameter conditions "username, password!=123456" not met for actual request parameters: username={admin}, password={123456}\n\n\n# 6ã@requestmappingæ³¨è§£çheaderså±æ§ï¼äºè§£ï¼\n\n@requestmappingæ³¨è§£çheaderså±æ§éè¿è¯·æ±çè¯·æ±å¤´ä¿¡æ¯å¹éè¯·æ±æ å°\n\n@requestmappingæ³¨è§£çheaderså±æ§æ¯ä¸ä¸ªå­ç¬¦ä¸²ç±»åçæ°ç»ï¼å¯ä»¥éè¿åç§è¡¨è¾¾å¼è®¾ç½®è¯·æ±å¤´ä¿¡æ¯åè¯·æ±æ å°çå¹éå³ç³»\n\n"header"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦headerè¯·æ±å¤´ä¿¡æ¯\n\n"!header"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»ä¸è½æºå¸¦headerè¯·æ±å¤´ä¿¡æ¯\n\n"header=value"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦headerè¯·æ±å¤´ä¿¡æ¯ä¸header=value\n\n"header!=value"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦headerè¯·æ±å¤´ä¿¡æ¯ä¸header!=value\n\nè¥å½åè¯·æ±æ»¡è¶³@requestmappingæ³¨è§£çvalueåmethodå±æ§ï¼ä½æ¯ä¸æ»¡è¶³headerså±æ§ï¼æ­¤æ¶é¡µé¢æ¾ç¤º404éè¯¯ï¼å³èµæºæªæ¾å°\n\n\n# 7ãspringmvcæ¯æanté£æ ¼çè·¯å¾\n\nä»¥ä¸å­ç¬¦åå¯ä»¥å¨valueå±æ§ä¸­è¿è¡åºç¨ ï¼ï¼è¡¨ç¤ºä»»æçåä¸ªå­ç¬¦\n\n*ï¼è¡¨ç¤ºä»»æç0ä¸ªæå¤ä¸ªå­ç¬¦\n\n**ï¼è¡¨ç¤ºä»»æçä¸å±æå¤å±ç®å½\n\næ³¨æï¼å¨ä½¿ç¨*æ¶ åªè½ä½¿ç¨/*/xxxçæ¹å¼ï¼ä¸è½å¨ä¸¤ä¸ª**ä¹åå ä»»ä½å­ç¬¦ï¼å¦"/a**a/test"å°±æ¯éè¯¯çã\n\n\n# 8ãspringmvcæ¯æè·¯å¾ä¸­çå ä½ç¬¦ï¼éç¹ï¼\n\nåå§æ¹å¼ï¼/deleteuser?id=1\n\nrestæ¹å¼ï¼/deleteuser/1\n\nspringmvcè·¯å¾ä¸­çå ä½ç¬¦å¸¸ç¨äºrestfulé£æ ¼ä¸­ï¼å½è¯·æ±è·¯å¾ä¸­å°æäºæ°æ®éè¿è·¯å¾çæ¹å¼ä¼ è¾å°æå¡å¨ä¸­ï¼å°±å¯ä»¥å¨ç¸åºç@requestmappingæ³¨è§£çvalueå±æ§ä¸­éè¿å ä½ç¬¦{xxx}è¡¨ç¤ºä¼ è¾çæ°æ®ï¼å¨éè¿@pathvariableæ³¨è§£ï¼å°å ä½ç¬¦æè¡¨ç¤ºçæ°æ®èµå¼ç»æ§å¶å¨æ¹æ³çå½¢å\n\n<a th:href="@{/testrest/1/admin}">æµè¯è·¯å¾ä¸­çå ä½ç¬¦--\x3e/testrest</a><br>\n\n\n@requestmapping("/testrest/{id}/{username}")\npublic string testrest(@pathvariable("id") string id, @pathvariable("username") string username){\n    system.out.println("id:"+id+",username:"+username);\n    return "success";\n}\n//æç»è¾åºçåå®¹ä¸º--\x3eid:1,username:admin\n',charsets:{cjk:!0}},{title:"SpringMVCè·åè¯·æ±åæ°",frontmatter:{title:"SpringMVCè·åè¯·æ±åæ°",date:"2022-05-01T00:00:00.000Z",permalink:"/springmvc/004/",categories:["æ¡æ¶","SpringMVC"],tags:["SpringMVC"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/02.SpringMVC/04.SpringMVC%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0.html",relativePath:"07.æ¡æ¶/02.SpringMVC/04.SpringMVCè·åè¯·æ±åæ°.md",key:"v-b0aca0e0",path:"/springmvc/004/",headers:[{level:3,title:"1ãéè¿ServletAPIè·åï¼åççä¸æ¨èç¨ï¼å ä¸ºSpringMVCå·²ç»æå°è£äºï¼",slug:"_1ãéè¿servletapiè·å-åççä¸æ¨èç¨-å ä¸ºspringmvcå·²ç»æå°è£äº",normalizedTitle:"1ãéè¿servletapiè·åï¼åççä¸æ¨èç¨ï¼å ä¸ºspringmvcå·²ç»æå°è£äºï¼",charIndex:24},{level:3,title:"2ãéè¿æ§å¶å¨æ¹æ³çå½¢åè·åè¯·æ±åæ°",slug:"_2ãéè¿æ§å¶å¨æ¹æ³çå½¢åè·åè¯·æ±åæ°",normalizedTitle:"2ãéè¿æ§å¶å¨æ¹æ³çå½¢åè·åè¯·æ±åæ°",charIndex:571},{level:3,title:"3ã@RequestParam",slug:"_3ã-requestparam",normalizedTitle:"3ã@requestparam",charIndex:1101},{level:3,title:"4ã@RequestHeader",slug:"_4ã-requestheader",normalizedTitle:"4ã@requestheader",charIndex:1575},{level:3,title:"5ã@CookieValue",slug:"_5ã-cookievalue",normalizedTitle:"5ã@cookievalue",charIndex:1704},{level:3,title:"6ãéè¿POJOè·åè¯·æ±åæ°",slug:"_6ãéè¿pojoè·åè¯·æ±åæ°",normalizedTitle:"6ãéè¿pojoè·åè¯·æ±åæ°",charIndex:1830},{level:3,title:"7ãè§£å³è·åè¯·æ±åæ°çä¹±ç é®é¢",slug:"_7ãè§£å³è·åè¯·æ±åæ°çä¹±ç é®é¢",normalizedTitle:"7ãè§£å³è·åè¯·æ±åæ°çä¹±ç é®é¢",charIndex:2494}],headersStr:"1ãéè¿ServletAPIè·åï¼åççä¸æ¨èç¨ï¼å ä¸ºSpringMVCå·²ç»æå°è£äºï¼ 2ãéè¿æ§å¶å¨æ¹æ³çå½¢åè·åè¯·æ±åæ° 3ã@RequestParam 4ã@RequestHeader 5ã@CookieValue 6ãéè¿POJOè·åè¯·æ±åæ° 7ãè§£å³è·åè¯·æ±åæ°çä¹±ç é®é¢",content:'# åãSpringMVCè·åè¯·æ±åæ°\n\n\n# 1ãéè¿ServletAPIè·åï¼åççä¸æ¨èç¨ï¼å ä¸ºSpringMVCå·²ç»æå°è£äºï¼\n\nå°HttpServletRequestä½ä¸ºæ§å¶å¨æ¹æ³çå½¢åï¼æ­¤æ¶HttpServletRequestç±»åçåæ°è¡¨ç¤ºå°è£äºå½åè¯·æ±çè¯·æ±æ¥æçå¯¹è±¡\n\n@RequestMapping("/testParam")\n// å½¢åä½ç½®çrequestè¡¨ç¤ºå½åè¯·æ±\n// è¿éä¸è½ç¨æçº¿å ä½ç¬¦çæ¹æ³ä¼ éåæ°\npublic String testParam(HttpServletRequest request){\n    String username = request.getParameter("username");\n    String password = request.getParameter("password");\n    System.out.println("username:"+username+",password:"+password);\n    return "success";\n}\n\n\n<a th:href="@{/testParam(username=\'admin\',password=123456)}">æµè¯è·åè¯·æ±åæ°--\x3e/testParam</a><br>\n\n\n\n# 2ãéè¿æ§å¶å¨æ¹æ³çå½¢åè·åè¯·æ±åæ°\n\nå¨æ§å¶å¨æ¹æ³çå½¢åä½ç½®ï¼è®¾ç½®åè¯·æ±åæ°ååçå½¢åï¼å½æµè§å¨åéè¯·æ±ï¼å¹éå°è¯·æ±æ å°æ¶ï¼å¨DispatcherServletä¸­å°±ä¼å°è¯·æ±åæ°èµå¼ç»ç¸åºçå½¢å\n\n<a th:href="@{/testParam(username=\'admin\',password=123456)}">æµè¯è·åè¯·æ±åæ°--\x3e/testParam</a><br>\n\n\n@RequestMapping("/testParam")\npublic String testParam(String username, String password){\n    System.out.println("username:"+username+",password:"+password);\n    return "success";\n}\n\n\n> æ³¨ï¼\n> \n> è¥è¯·æ±æä¼ è¾çè¯·æ±åæ°ä¸­æå¤ä¸ªååçè¯·æ±åæ°ï¼å¤éæ¡ï¼ï¼æ­¤æ¶å¯ä»¥å¨æ§å¶å¨æ¹æ³çå½¢åä¸­è®¾ç½®å­ç¬¦ä¸²æ°ç»æèå­ç¬¦ä¸²ç±»åçå½¢åæ¥æ¶æ­¤è¯·æ±åæ°\n> \n> è¥ä½¿ç¨å­ç¬¦ä¸²æ°ç»ç±»åçå½¢åï¼æ­¤åæ°çæ°ç»ä¸­åå«äºæ¯ä¸ä¸ªæ°æ®\n> \n> è¥ä½¿ç¨å­ç¬¦ä¸²ç±»åçå½¢åï¼æ­¤åæ°çå¼ä¸ºæ¯ä¸ªæ°æ®ä¸­é´ä½¿ç¨éå·æ¼æ¥çç»æ\n\n\n# 3ã@RequestParam\n\n@RequestParamæ¯å°è¯·æ±åæ°åæ§å¶å¨æ¹æ³çå½¢ååå»ºæ å°å³ç³»\n\n@Request("user_name") String username å°åç«¯çuser_nameç»å®å°javaä¸­çå½¢å\n\n@RequestParamæ³¨è§£ä¸å±æä¸ä¸ªå±æ§ï¼\n\nvalueï¼æå®ä¸ºå½¢åèµå¼çè¯·æ±åæ°çåæ°å\n\nrequiredï¼è®¾ç½®æ¯å¦å¿é¡»ä¼ è¾æ­¤è¯·æ±åæ°ï¼åç«¯çç½é¡µåéå¿é¡»æè¾å¥ï¼ï¼é»è®¤å¼ä¸ºtrue\n\nè¥è®¾ç½®ä¸ºtrueæ¶ï¼åå½åè¯·æ±å¿é¡»ä¼ è¾valueææå®çè¯·æ±åæ°ï¼è¥æ²¡æä¼ è¾è¯¥è¯·æ±åæ°ï¼ä¸æ²¡æè®¾ç½®defaultValueå±æ§ï¼åé¡µé¢æ¥é400ï¼Required String parameter \'xxx\' is not presentï¼è¥è®¾ç½®ä¸ºfalseï¼åå½åè¯·æ±ä¸æ¯å¿é¡»ä¼ è¾valueææå®çè¯·æ±åæ°ï¼è¥æ²¡æä¼ è¾ï¼åæ³¨è§£ææ è¯çå½¢åçå¼ä¸ºnull\n\ndefaultValueï¼ä¸ç®¡requiredå±æ§å¼ä¸ºtrueæfalseï¼å½valueææå®çè¯·æ±åæ°æ²¡æä¼ è¾æä¼ è¾çå¼ä¸º""æ¶ï¼åä½¿ç¨é»è®¤å¼ä¸ºå½¢åèµå¼\n\n\n# 4ã@RequestHeader\n\n@RequestHeaderæ¯å°è¯·æ±å¤´ä¿¡æ¯åæ§å¶å¨æ¹æ³çå½¢ååå»ºæ å°å³ç³»\n\n@RequestHeaderæ³¨è§£ä¸å±æä¸ä¸ªå±æ§ï¼valueãrequiredãdefaultValueï¼ç¨æ³å@RequestParam\n\n\n# 5ã@CookieValue\n\n@CookieValueæ¯å°cookieæ°æ®åæ§å¶å¨æ¹æ³çå½¢ååå»ºæ å°å³ç³»\n\n@CookieValueæ³¨è§£ä¸å±æä¸ä¸ªå±æ§ï¼valueãrequiredãdefaultValueï¼ç¨æ³å@RequestParam\n\n\n# 6ãéè¿POJOè·åè¯·æ±åæ°\n\nå¯ä»¥å¨æ§å¶å¨æ¹æ³çå½¢åä½ç½®è®¾ç½®ä¸ä¸ªå®ä½ç±»ç±»åçå½¢åï¼æ­¤æ¶è¥æµè§å¨ä¼ è¾çè¯·æ±åæ°çåæ°ååå®ä½ç±»ä¸­çå±æ§åä¸è´ï¼é£ä¹è¯·æ±åæ°å°±ä¼ä¸ºæ­¤å±æ§èµå¼\n\n<form th:action="@{/testpojo}" method="post">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    æ§å«ï¼<input type="radio" name="sex" value="ç·">ç·<input type="radio" name="sex" value="å¥³">å¥³<br>\n    å¹´é¾ï¼<input type="text" name="age"><br>\n    é®ç®±ï¼<input type="text" name="email"><br>\n    <input type="submit">\n</form>\n\n\n@RequestMapping("/testpojo")\npublic String testPOJO(User user){\n    System.out.println(user);\n    return "success";\n}\n//æç»ç»æ--\x3eUser{id=null, username=\'å¼ ä¸\', password=\'123\', age=23, sex=\'ç·\', email=\'123@qq.com\'}\n\n\n\n# 7ãè§£å³è·åè¯·æ±åæ°çä¹±ç é®é¢\n\nè§£å³è·åè¯·æ±åæ°çä¹±ç é®é¢ï¼å¯ä»¥ä½¿ç¨SpringMVCæä¾çç¼ç è¿æ»¤å¨CharacterEncodingFilterï¼ä½æ¯å¿é¡»å¨web.xmlä¸­è¿è¡æ³¨å\n\ngetè¯·æ±çä¹±ç æ¯tomcaté æçï¼è§£å³æ¹æ³å°±æ¯å¨tomcatçserver.xmléç½®æä»¶ä¸­è¿è¡ä¿®æ¹\n\npostè¯·æ±ä¹±ç ä¿®æ¹å¦ä¸\n\n\x3c!--éç½®springMVCçç¼ç è¿æ»¤å¨--\x3e\n<filter>\n    <filter-name>CharacterEncodingFilter</filter-name>\n    <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>\n\n    <init-param>\n        <param-name>encoding</param-name>\n        <param-value>UTF-8</param-value>\n    </init-param>\n    <init-param>\n        \x3c!-- è¿éè®¾ç½®ç¸åºç¼ç ï¼å¯ä»¥ä¸è®¾ç½®ä½æ¯æ¨èè®¾ç½® --\x3e\n        <param-name>forceResponseEncoding</param-name>\n        <param-value>true</param-value>\n    </init-param>\n</filter>\n<filter-mapping>\n    <filter-name>CharacterEncodingFilter</filter-name>\n    <url-pattern>/*</url-pattern>\n</filter-mapping>\n\n\n> æ³¨ï¼ SpringMVCä¸­å¤çç¼ç çè¿æ»¤å¨ä¸å®è¦éç½®å°å¶ä»è¿æ»¤å¨ä¹åï¼å¦åæ æ',normalizedContent:'# åãspringmvcè·åè¯·æ±åæ°\n\n\n# 1ãéè¿servletapiè·åï¼åççä¸æ¨èç¨ï¼å ä¸ºspringmvcå·²ç»æå°è£äºï¼\n\nå°httpservletrequestä½ä¸ºæ§å¶å¨æ¹æ³çå½¢åï¼æ­¤æ¶httpservletrequestç±»åçåæ°è¡¨ç¤ºå°è£äºå½åè¯·æ±çè¯·æ±æ¥æçå¯¹è±¡\n\n@requestmapping("/testparam")\n// å½¢åä½ç½®çrequestè¡¨ç¤ºå½åè¯·æ±\n// è¿éä¸è½ç¨æçº¿å ä½ç¬¦çæ¹æ³ä¼ éåæ°\npublic string testparam(httpservletrequest request){\n    string username = request.getparameter("username");\n    string password = request.getparameter("password");\n    system.out.println("username:"+username+",password:"+password);\n    return "success";\n}\n\n\n<a th:href="@{/testparam(username=\'admin\',password=123456)}">æµè¯è·åè¯·æ±åæ°--\x3e/testparam</a><br>\n\n\n\n# 2ãéè¿æ§å¶å¨æ¹æ³çå½¢åè·åè¯·æ±åæ°\n\nå¨æ§å¶å¨æ¹æ³çå½¢åä½ç½®ï¼è®¾ç½®åè¯·æ±åæ°ååçå½¢åï¼å½æµè§å¨åéè¯·æ±ï¼å¹éå°è¯·æ±æ å°æ¶ï¼å¨dispatcherservletä¸­å°±ä¼å°è¯·æ±åæ°èµå¼ç»ç¸åºçå½¢å\n\n<a th:href="@{/testparam(username=\'admin\',password=123456)}">æµè¯è·åè¯·æ±åæ°--\x3e/testparam</a><br>\n\n\n@requestmapping("/testparam")\npublic string testparam(string username, string password){\n    system.out.println("username:"+username+",password:"+password);\n    return "success";\n}\n\n\n> æ³¨ï¼\n> \n> è¥è¯·æ±æä¼ è¾çè¯·æ±åæ°ä¸­æå¤ä¸ªååçè¯·æ±åæ°ï¼å¤éæ¡ï¼ï¼æ­¤æ¶å¯ä»¥å¨æ§å¶å¨æ¹æ³çå½¢åä¸­è®¾ç½®å­ç¬¦ä¸²æ°ç»æèå­ç¬¦ä¸²ç±»åçå½¢åæ¥æ¶æ­¤è¯·æ±åæ°\n> \n> è¥ä½¿ç¨å­ç¬¦ä¸²æ°ç»ç±»åçå½¢åï¼æ­¤åæ°çæ°ç»ä¸­åå«äºæ¯ä¸ä¸ªæ°æ®\n> \n> è¥ä½¿ç¨å­ç¬¦ä¸²ç±»åçå½¢åï¼æ­¤åæ°çå¼ä¸ºæ¯ä¸ªæ°æ®ä¸­é´ä½¿ç¨éå·æ¼æ¥çç»æ\n\n\n# 3ã@requestparam\n\n@requestparamæ¯å°è¯·æ±åæ°åæ§å¶å¨æ¹æ³çå½¢ååå»ºæ å°å³ç³»\n\n@request("user_name") string username å°åç«¯çuser_nameç»å®å°javaä¸­çå½¢å\n\n@requestparamæ³¨è§£ä¸å±æä¸ä¸ªå±æ§ï¼\n\nvalueï¼æå®ä¸ºå½¢åèµå¼çè¯·æ±åæ°çåæ°å\n\nrequiredï¼è®¾ç½®æ¯å¦å¿é¡»ä¼ è¾æ­¤è¯·æ±åæ°ï¼åç«¯çç½é¡µåéå¿é¡»æè¾å¥ï¼ï¼é»è®¤å¼ä¸ºtrue\n\nè¥è®¾ç½®ä¸ºtrueæ¶ï¼åå½åè¯·æ±å¿é¡»ä¼ è¾valueææå®çè¯·æ±åæ°ï¼è¥æ²¡æä¼ è¾è¯¥è¯·æ±åæ°ï¼ä¸æ²¡æè®¾ç½®defaultvalueå±æ§ï¼åé¡µé¢æ¥é400ï¼required string parameter \'xxx\' is not presentï¼è¥è®¾ç½®ä¸ºfalseï¼åå½åè¯·æ±ä¸æ¯å¿é¡»ä¼ è¾valueææå®çè¯·æ±åæ°ï¼è¥æ²¡æä¼ è¾ï¼åæ³¨è§£ææ è¯çå½¢åçå¼ä¸ºnull\n\ndefaultvalueï¼ä¸ç®¡requiredå±æ§å¼ä¸ºtrueæfalseï¼å½valueææå®çè¯·æ±åæ°æ²¡æä¼ è¾æä¼ è¾çå¼ä¸º""æ¶ï¼åä½¿ç¨é»è®¤å¼ä¸ºå½¢åèµå¼\n\n\n# 4ã@requestheader\n\n@requestheaderæ¯å°è¯·æ±å¤´ä¿¡æ¯åæ§å¶å¨æ¹æ³çå½¢ååå»ºæ å°å³ç³»\n\n@requestheaderæ³¨è§£ä¸å±æä¸ä¸ªå±æ§ï¼valueãrequiredãdefaultvalueï¼ç¨æ³å@requestparam\n\n\n# 5ã@cookievalue\n\n@cookievalueæ¯å°cookieæ°æ®åæ§å¶å¨æ¹æ³çå½¢ååå»ºæ å°å³ç³»\n\n@cookievalueæ³¨è§£ä¸å±æä¸ä¸ªå±æ§ï¼valueãrequiredãdefaultvalueï¼ç¨æ³å@requestparam\n\n\n# 6ãéè¿pojoè·åè¯·æ±åæ°\n\nå¯ä»¥å¨æ§å¶å¨æ¹æ³çå½¢åä½ç½®è®¾ç½®ä¸ä¸ªå®ä½ç±»ç±»åçå½¢åï¼æ­¤æ¶è¥æµè§å¨ä¼ è¾çè¯·æ±åæ°çåæ°ååå®ä½ç±»ä¸­çå±æ§åä¸è´ï¼é£ä¹è¯·æ±åæ°å°±ä¼ä¸ºæ­¤å±æ§èµå¼\n\n<form th:action="@{/testpojo}" method="post">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    æ§å«ï¼<input type="radio" name="sex" value="ç·">ç·<input type="radio" name="sex" value="å¥³">å¥³<br>\n    å¹´é¾ï¼<input type="text" name="age"><br>\n    é®ç®±ï¼<input type="text" name="email"><br>\n    <input type="submit">\n</form>\n\n\n@requestmapping("/testpojo")\npublic string testpojo(user user){\n    system.out.println(user);\n    return "success";\n}\n//æç»ç»æ--\x3euser{id=null, username=\'å¼ ä¸\', password=\'123\', age=23, sex=\'ç·\', email=\'123@qq.com\'}\n\n\n\n# 7ãè§£å³è·åè¯·æ±åæ°çä¹±ç é®é¢\n\nè§£å³è·åè¯·æ±åæ°çä¹±ç é®é¢ï¼å¯ä»¥ä½¿ç¨springmvcæä¾çç¼ç è¿æ»¤å¨characterencodingfilterï¼ä½æ¯å¿é¡»å¨web.xmlä¸­è¿è¡æ³¨å\n\ngetè¯·æ±çä¹±ç æ¯tomcaté æçï¼è§£å³æ¹æ³å°±æ¯å¨tomcatçserver.xmléç½®æä»¶ä¸­è¿è¡ä¿®æ¹\n\npostè¯·æ±ä¹±ç ä¿®æ¹å¦ä¸\n\n\x3c!--éç½®springmvcçç¼ç è¿æ»¤å¨--\x3e\n<filter>\n    <filter-name>characterencodingfilter</filter-name>\n    <filter-class>org.springframework.web.filter.characterencodingfilter</filter-class>\n\n    <init-param>\n        <param-name>encoding</param-name>\n        <param-value>utf-8</param-value>\n    </init-param>\n    <init-param>\n        \x3c!-- è¿éè®¾ç½®ç¸åºç¼ç ï¼å¯ä»¥ä¸è®¾ç½®ä½æ¯æ¨èè®¾ç½® --\x3e\n        <param-name>forceresponseencoding</param-name>\n        <param-value>true</param-value>\n    </init-param>\n</filter>\n<filter-mapping>\n    <filter-name>characterencodingfilter</filter-name>\n    <url-pattern>/*</url-pattern>\n</filter-mapping>\n\n\n> æ³¨ï¼ springmvcä¸­å¤çç¼ç çè¿æ»¤å¨ä¸å®è¦éç½®å°å¶ä»è¿æ»¤å¨ä¹åï¼å¦åæ æ',charsets:{cjk:!0}},{title:"åå¯¹è±¡å±äº«æ°æ®",frontmatter:{title:"åå¯¹è±¡å±äº«æ°æ®",date:"2022-05-04T00:00:00.000Z",permalink:"/springmvc/005/",categories:["æ¡æ¶","SpringMVC"],tags:["SpringMVC"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/02.SpringMVC/05.%E5%9F%9F%E5%AF%B9%E8%B1%A1%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE.html",relativePath:"07.æ¡æ¶/02.SpringMVC/05.åå¯¹è±¡å±äº«æ°æ®.md",key:"v-a6493882",path:"/springmvc/005/",headers:[{level:3,title:"1ãä½¿ç¨ServletAPIårequeståå¯¹è±¡å±äº«æ°æ®ï¼åçServletï¼",slug:"_1ãä½¿ç¨servletapiårequeståå¯¹è±¡å±äº«æ°æ®-åçservlet",normalizedTitle:"1ãä½¿ç¨servletapiårequeståå¯¹è±¡å±äº«æ°æ®ï¼åçservletï¼",charIndex:30},{level:3,title:"2ãä½¿ç¨ModelAndViewårequeståå¯¹è±¡å±äº«æ°æ®ï¼springmvcï¼",slug:"_2ãä½¿ç¨modelandviewårequeståå¯¹è±¡å±äº«æ°æ®-springmvc",normalizedTitle:"2ãä½¿ç¨modelandviewårequeståå¯¹è±¡å±äº«æ°æ®ï¼springmvcï¼",charIndex:353},{level:3,title:"3ãä½¿ç¨Modelårequeståå¯¹è±¡å±äº«æ°æ®",slug:"_3ãä½¿ç¨modelårequeståå¯¹è±¡å±äº«æ°æ®",normalizedTitle:"3ãä½¿ç¨modelårequeståå¯¹è±¡å±äº«æ°æ®",charIndex:852},{level:3,title:"4ãä½¿ç¨mapårequeståå¯¹è±¡å±äº«æ°æ®",slug:"_4ãä½¿ç¨mapårequeståå¯¹è±¡å±äº«æ°æ®",normalizedTitle:"4ãä½¿ç¨mapårequeståå¯¹è±¡å±äº«æ°æ®",charIndex:1027},{level:3,title:"5ãä½¿ç¨ModelMapårequeståå¯¹è±¡å±äº«æ°æ®",slug:"_5ãä½¿ç¨modelmapårequeståå¯¹è±¡å±äº«æ°æ®",normalizedTitle:"5ãä½¿ç¨modelmapårequeståå¯¹è±¡å±äº«æ°æ®",charIndex:1195},{level:3,title:"6ãModelãModelMapãMapçå³ç³»",slug:"_6ãmodelãmodelmapãmapçå³ç³»",normalizedTitle:"6ãmodelãmodelmapãmapçå³ç³»",charIndex:1420},{level:3,title:"7ãåsessionåå±äº«æ°æ®",slug:"_7ãåsessionåå±äº«æ°æ®",normalizedTitle:"7ãåsessionåå±äº«æ°æ®",charIndex:1807},{level:3,title:"8ãåapplicationåå±äº«æ°æ®ï¼æ­¤æ¶çåä¸ºæ´ä¸ªå·¥ç¨ï¼å ä¸ºå¨æå¡å¨å¯å¨æ¶å·²ç»è¢«åå§åï¼ä¸è¬æåµä¸åªç¨requeståsessionï¼",slug:"_8ãåapplicationåå±äº«æ°æ®-æ­¤æ¶çåä¸ºæ´ä¸ªå·¥ç¨-å ä¸ºå¨æå¡å¨å¯å¨æ¶å·²ç»è¢«åå§å-ä¸è¬æåµä¸åªç¨requeståsession",normalizedTitle:"8ãåapplicationåå±äº«æ°æ®ï¼æ­¤æ¶çåä¸ºæ´ä¸ªå·¥ç¨ï¼å ä¸ºå¨æå¡å¨å¯å¨æ¶å·²ç»è¢«åå§åï¼ä¸è¬æåµä¸åªç¨requeståsessionï¼",charIndex:2115}],headersStr:"1ãä½¿ç¨ServletAPIårequeståå¯¹è±¡å±äº«æ°æ®ï¼åçServletï¼ 2ãä½¿ç¨ModelAndViewårequeståå¯¹è±¡å±äº«æ°æ®ï¼springmvcï¼ 3ãä½¿ç¨Modelårequeståå¯¹è±¡å±äº«æ°æ® 4ãä½¿ç¨mapårequeståå¯¹è±¡å±äº«æ°æ® 5ãä½¿ç¨ModelMapårequeståå¯¹è±¡å±äº«æ°æ® 6ãModelãModelMapãMapçå³ç³» 7ãåsessionåå±äº«æ°æ® 8ãåapplicationåå±äº«æ°æ®ï¼æ­¤æ¶çåä¸ºæ´ä¸ªå·¥ç¨ï¼å ä¸ºå¨æå¡å¨å¯å¨æ¶å·²ç»è¢«åå§åï¼ä¸è¬æåµä¸åªç¨requeståsessionï¼",content:'# äºãåå¯¹è±¡å±äº«æ°æ®\n\nï¼requeståå¯¹è±¡ï¼\n\n\n# 1ãä½¿ç¨ServletAPIårequeståå¯¹è±¡å±äº«æ°æ®ï¼åçServletï¼\n\n@RequestMapping("/testServletAPI")\npublic String testServletAPI(HttpServletRequest request){\n    // setaTTRIBUTEä¸ºrequestå±äº«æ°æ®çæ¹æ³\n    request.setAttribute("testScope", "hello,servletAPI");\n    return "success";\n}\n\n\nè·åæ°æ®æ¹æ³\n<a th:text="${testScope}">æµè¯è·åè¯·æ±åæ°--\x3e/testParam</a><br>\n\n\n\n# 2ãä½¿ç¨ModelAndViewårequeståå¯¹è±¡å±äº«æ°æ®ï¼springmvcï¼\n\n@RequestMapping("/testModelAndView")\n// è¿åå¼å¿é¡»ä¸ºmodelandview\npublic ModelAndView testModelAndView(){\n    /**\n     * ModelAndViewæModelåViewçåè½\n     * Modelä¸»è¦ç¨äºåè¯·æ±åå±äº«æ°æ®\n     * Viewä¸»è¦ç¨äºè®¾ç½®è§å¾ï¼å®ç°é¡µé¢è·³è½¬\n     */\n    ModelAndView mav = new ModelAndView();\n    //åè¯·æ±åå±äº«æ°æ®\n    // å¤çæ¨¡åä¹¦ï¼å³åè¯·æ±årequestå±äº«æ°æ®\n    mav.addObject("testScope", "hello,ModelAndView");\n    //è®¾ç½®è§å¾ï¼å®ç°é¡µé¢è·³è½¬\n    // è®¾ç½®è§å¾åç§°\n    mav.setViewName("success");\n\n    // å¿é¡»è¿åmodelandview\n    return mav;\n}\n\n\n\n# 3ãä½¿ç¨Modelårequeståå¯¹è±¡å±äº«æ°æ®\n\n@RequestMapping("/testModel")\npublic String testModel(Model model){\n    model.addAttribute("testScope", "hello,Model");\n    return "success";\n}\n\n\n\n# 4ãä½¿ç¨mapårequeståå¯¹è±¡å±äº«æ°æ®\n\n@RequestMapping("/testMap")\npublic String testMap(Map<String, Object> map){\n    map.put("testScope", "hello,Map");\n    return "success";\n}\n\n\n\n# 5ãä½¿ç¨ModelMapårequeståå¯¹è±¡å±äº«æ°æ®\n\n@RequestMapping("/testModelMap")\npublic String testModelMap(ModelMap modelMap){\n    modelMap.addAttribute("testScope", "hello,ModelMap");\n    return "success";\n}\n\n\näºä¸åäºå¯¹åºçåç«¯é¡µé¢ï¼springmvcæä¾çæ¹æ³ï¼\n\n\n# 6ãModelãModelMapãMapçå³ç³»\n\nModelãModelMapãMapç±»åçåæ°å¶å®æ¬è´¨ä¸é½æ¯ BindingAwareModelMap ç±»åç\n\nè¾åºä¿¡æ¯æ¯ä¸æ ·ç\n\npublic interface Model{}  // é¡¶å±æ¥å£\npublic class ModelMap extends LinkedHashMap<String, Object> {}  // ç­ä»·äºmodelmapå®ç°äºmap\npublic class ExtendedModelMap extends ModelMap implements Model {}\npublic class BindingAwareModelMap extends ExtendedModelMap {}\n\n\nè¿ééè¦æ³¨æçæ¯ï¼ æ§å¶å¨æ¹æ³æ§è¡ä¹åé½ä¼è¿ååä¸çModelAndViewå¯¹è±¡\n\n\n# 7ãåsessionåå±äº«æ°æ®\n\nspringmvcä¸­æä¾äºä¸äºå±äº«æ°æ®å°sessionçæ¹æ³ï¼ä½æ¯ææ¨èåççè¿ç§ï¼ç®åææ\n\nä¸ä¸ªåä¸ºsessionarributeçæ³¨è§£å¯ä»¥æå±äº«åä¸­æ°æ®å±äº«å°sessionï¼ä½æ¯ä¸å¤ªå¥½ç¨\n\nsessionå¸¸ç¨æ¥ä¿å­ç¨æ·çç»å½ç¶æ\n\n@RequestMapping("/testSession")\npublic String testSession(HttpSession session){\n    session.setAttribute("testSessionScope", "hello,session");\n    return "success";\n}\n\n\n\n# 8ãåapplicationåå±äº«æ°æ®ï¼æ­¤æ¶çåä¸ºæ´ä¸ªå·¥ç¨ï¼å ä¸ºå¨æå¡å¨å¯å¨æ¶å·²ç»è¢«åå§åï¼ä¸è¬æåµä¸åªç¨requeståsessionï¼\n\n@RequestMapping("/testApplication")\npublic String testApplication(HttpSession session){\n\tServletContext application = session.getServletContext();\n    application.setAttribute("testApplicationScope", "hello,application");\n    return "success";\n}\n\n\n',normalizedContent:'# äºãåå¯¹è±¡å±äº«æ°æ®\n\nï¼requeståå¯¹è±¡ï¼\n\n\n# 1ãä½¿ç¨servletapiårequeståå¯¹è±¡å±äº«æ°æ®ï¼åçservletï¼\n\n@requestmapping("/testservletapi")\npublic string testservletapi(httpservletrequest request){\n    // setattributeä¸ºrequestå±äº«æ°æ®çæ¹æ³\n    request.setattribute("testscope", "hello,servletapi");\n    return "success";\n}\n\n\nè·åæ°æ®æ¹æ³\n<a th:text="${testscope}">æµè¯è·åè¯·æ±åæ°--\x3e/testparam</a><br>\n\n\n\n# 2ãä½¿ç¨modelandviewårequeståå¯¹è±¡å±äº«æ°æ®ï¼springmvcï¼\n\n@requestmapping("/testmodelandview")\n// è¿åå¼å¿é¡»ä¸ºmodelandview\npublic modelandview testmodelandview(){\n    /**\n     * modelandviewæmodelåviewçåè½\n     * modelä¸»è¦ç¨äºåè¯·æ±åå±äº«æ°æ®\n     * viewä¸»è¦ç¨äºè®¾ç½®è§å¾ï¼å®ç°é¡µé¢è·³è½¬\n     */\n    modelandview mav = new modelandview();\n    //åè¯·æ±åå±äº«æ°æ®\n    // å¤çæ¨¡åä¹¦ï¼å³åè¯·æ±årequestå±äº«æ°æ®\n    mav.addobject("testscope", "hello,modelandview");\n    //è®¾ç½®è§å¾ï¼å®ç°é¡µé¢è·³è½¬\n    // è®¾ç½®è§å¾åç§°\n    mav.setviewname("success");\n\n    // å¿é¡»è¿åmodelandview\n    return mav;\n}\n\n\n\n# 3ãä½¿ç¨modelårequeståå¯¹è±¡å±äº«æ°æ®\n\n@requestmapping("/testmodel")\npublic string testmodel(model model){\n    model.addattribute("testscope", "hello,model");\n    return "success";\n}\n\n\n\n# 4ãä½¿ç¨mapårequeståå¯¹è±¡å±äº«æ°æ®\n\n@requestmapping("/testmap")\npublic string testmap(map<string, object> map){\n    map.put("testscope", "hello,map");\n    return "success";\n}\n\n\n\n# 5ãä½¿ç¨modelmapårequeståå¯¹è±¡å±äº«æ°æ®\n\n@requestmapping("/testmodelmap")\npublic string testmodelmap(modelmap modelmap){\n    modelmap.addattribute("testscope", "hello,modelmap");\n    return "success";\n}\n\n\näºä¸åäºå¯¹åºçåç«¯é¡µé¢ï¼springmvcæä¾çæ¹æ³ï¼\n\n\n# 6ãmodelãmodelmapãmapçå³ç³»\n\nmodelãmodelmapãmapç±»åçåæ°å¶å®æ¬è´¨ä¸é½æ¯ bindingawaremodelmap ç±»åç\n\nè¾åºä¿¡æ¯æ¯ä¸æ ·ç\n\npublic interface model{}  // é¡¶å±æ¥å£\npublic class modelmap extends linkedhashmap<string, object> {}  // ç­ä»·äºmodelmapå®ç°äºmap\npublic class extendedmodelmap extends modelmap implements model {}\npublic class bindingawaremodelmap extends extendedmodelmap {}\n\n\nè¿ééè¦æ³¨æçæ¯ï¼ æ§å¶å¨æ¹æ³æ§è¡ä¹åé½ä¼è¿ååä¸çmodelandviewå¯¹è±¡\n\n\n# 7ãåsessionåå±äº«æ°æ®\n\nspringmvcä¸­æä¾äºä¸äºå±äº«æ°æ®å°sessionçæ¹æ³ï¼ä½æ¯ææ¨èåççè¿ç§ï¼ç®åææ\n\nä¸ä¸ªåä¸ºsessionarributeçæ³¨è§£å¯ä»¥æå±äº«åä¸­æ°æ®å±äº«å°sessionï¼ä½æ¯ä¸å¤ªå¥½ç¨\n\nsessionå¸¸ç¨æ¥ä¿å­ç¨æ·çç»å½ç¶æ\n\n@requestmapping("/testsession")\npublic string testsession(httpsession session){\n    session.setattribute("testsessionscope", "hello,session");\n    return "success";\n}\n\n\n\n# 8ãåapplicationåå±äº«æ°æ®ï¼æ­¤æ¶çåä¸ºæ´ä¸ªå·¥ç¨ï¼å ä¸ºå¨æå¡å¨å¯å¨æ¶å·²ç»è¢«åå§åï¼ä¸è¬æåµä¸åªç¨requeståsessionï¼\n\n@requestmapping("/testapplication")\npublic string testapplication(httpsession session){\n\tservletcontext application = session.getservletcontext();\n    application.setattribute("testapplicationscope", "hello,application");\n    return "success";\n}\n\n\n',charsets:{cjk:!0}},{title:"RESTful",frontmatter:{title:"RESTful",date:"2022-05-08T00:00:00.000Z",permalink:"/springmvc/007/",categories:["æ¡æ¶","SpringMVC"],tags:["SpringMVC"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/02.SpringMVC/07.RESTful.html",relativePath:"07.æ¡æ¶/02.SpringMVC/07.RESTful.md",key:"v-852ab148",path:"/springmvc/007/",headers:[{level:3,title:"1ãRESTfulç®ä»",slug:"_1ãrestfulç®ä»",normalizedTitle:"1ãrestfulç®ä»",charIndex:16},{level:5,title:"a>èµæº",slug:"a-èµæº",normalizedTitle:"a&gt;èµæº",charIndex:null},{level:5,title:"b>èµæºçè¡¨è¿°",slug:"b-èµæºçè¡¨è¿°",normalizedTitle:"b&gt;èµæºçè¡¨è¿°",charIndex:null},{level:5,title:"c>ç¶æè½¬ç§»",slug:"c-ç¶æè½¬ç§»",normalizedTitle:"c&gt;ç¶æè½¬ç§»",charIndex:null},{level:3,title:"2ãRESTfulçå®ç°",slug:"_2ãrestfulçå®ç°",normalizedTitle:"2ãrestfulçå®ç°",charIndex:565},{level:3,title:"postågetæµè¯",slug:"postågetæµè¯",normalizedTitle:"postågetæµè¯",charIndex:1001},{level:3,title:"3ãHiddenHttpMethodFilter",slug:"_3ãhiddenhttpmethodfilter",normalizedTitle:"3ãhiddenhttpmethodfilter",charIndex:2750}],headersStr:"1ãRESTfulç®ä» a>èµæº b>èµæºçè¡¨è¿° c>ç¶æè½¬ç§» 2ãRESTfulçå®ç° postågetæµè¯ 3ãHiddenHttpMethodFilter",content:'# ä¸ãRESTful\n\n\n# 1ãRESTfulç®ä»\n\nRESTï¼Representational State Transferï¼è¡¨ç°å±èµæºç¶æè½¬ç§»ã\n\n# a>èµæº\n\nèµæºæ¯ä¸ç§çå¾æå¡å¨çæ¹å¼ï¼å³ï¼å°æå¡å¨çä½æ¯ç±å¾å¤ç¦»æ£çèµæºç»æãæ¯ä¸ªèµæºæ¯æå¡å¨ä¸ä¸ä¸ªå¯å½åçæ½è±¡æ¦å¿µãå ä¸ºèµæºæ¯ä¸ä¸ªæ½è±¡çæ¦å¿µï¼æä»¥å®ä¸ä»ä»è½ä»£è¡¨æå¡å¨æä»¶ç³»ç»ä¸­çä¸ä¸ªæä»¶ãæ°æ®åºä¸­çä¸å¼ è¡¨ç­ç­å·ä½çä¸è¥¿ï¼å¯ä»¥å°èµæºè®¾è®¡çè¦å¤æ½è±¡æå¤æ½è±¡ï¼åªè¦æ³è±¡ååè®¸èä¸å®¢æ·ç«¯åºç¨å¼åèè½å¤çè§£ãä¸é¢åå¯¹è±¡è®¾è®¡ç±»ä¼¼ï¼èµæºæ¯ä»¥åè¯ä¸ºæ ¸å¿æ¥ç»ç»çï¼é¦åå³æ³¨çæ¯åè¯ãä¸ä¸ªèµæºå¯ä»¥ç±ä¸ä¸ªæå¤ä¸ªURIæ¥æ è¯ãURIæ¢æ¯èµæºçåç§°ï¼ä¹æ¯èµæºå¨Webä¸çå°åãå¯¹æä¸ªèµæºæå´è¶£çå®¢æ·ç«¯åºç¨ï¼å¯ä»¥éè¿èµæºçURIä¸å¶è¿è¡äº¤äºã\n\n# b>èµæºçè¡¨è¿°\n\nèµæºçè¡¨è¿°æ¯ä¸æ®µå¯¹äºèµæºå¨æä¸ªç¹å®æ¶å»çç¶æçæè¿°ãå¯ä»¥å¨å®¢æ·ç«¯-æå¡å¨ç«¯ä¹é´è½¬ç§»ï¼äº¤æ¢ï¼ãèµæºçè¡¨è¿°å¯ä»¥æå¤ç§æ ¼å¼ï¼ä¾å¦HTML/XML/JSON/çº¯ææ¬/å¾ç/è§é¢/é³é¢ç­ç­ãèµæºçè¡¨è¿°æ ¼å¼å¯ä»¥éè¿ååæºå¶æ¥ç¡®å®ãè¯·æ±-ååºæ¹åçè¡¨è¿°éå¸¸ä½¿ç¨ä¸åçæ ¼å¼ã\n\n# c>ç¶æè½¬ç§»\n\nç¶æè½¬ç§»è¯´çæ¯ï¼å¨å®¢æ·ç«¯åæå¡å¨ç«¯ä¹é´è½¬ç§»ï¼transferï¼ä»£è¡¨èµæºç¶æçè¡¨è¿°ãéè¿è½¬ç§»åæä½èµæºçè¡¨è¿°ï¼æ¥é´æ¥å®ç°æä½èµæºçç®çã\n\n\n# 2ãRESTfulçå®ç°\n\nå·ä½è¯´ï¼å°±æ¯ HTTP åè®®éé¢ï¼åä¸ªè¡¨ç¤ºæä½æ¹å¼çå¨è¯ï¼GETãPOSTãPUTãDELETEã\n\nå®ä»¬åå«å¯¹åºåç§åºæ¬æä½ï¼GET ç¨æ¥è·åèµæºï¼POST ç¨æ¥æ°å»ºèµæºï¼PUT ç¨æ¥æ´æ°èµæºï¼DELETE ç¨æ¥å é¤èµæºã\n\nREST é£æ ¼æå¡ URL å°åä½¿ç¨ç»ä¸çé£æ ¼è®¾è®¡ï¼ä»åå°ååä¸ªåè¯ä½¿ç¨ææ åå¼ï¼ä¸ä½¿ç¨é®å·é®å¼å¯¹æ¹å¼æºå¸¦è¯·æ±åæ°ï¼èæ¯å°è¦åéç»æå¡å¨çæ°æ®ä½ä¸º URL å°åçä¸é¨åï¼ä»¥ä¿è¯æ´ä½é£æ ¼çä¸è´æ§ã\n\næä½     ä¼ ç»æ¹å¼               RESTé£æ ¼\næ¥è¯¢æä½   getUserById?id=1   user/1--\x3egetè¯·æ±æ¹å¼\nä¿å­æä½   saveUser           user--\x3epostè¯·æ±æ¹å¼\nå é¤æä½   deleteUser?id=1    user/1--\x3edeleteè¯·æ±æ¹å¼\næ´æ°æä½   updateUser         user--\x3eputè¯·æ±æ¹å¼\n\n\n# postågetæµè¯\n\n@Controller\npublic class UserController {\n\n    /**\n     * ä½¿ç¨RESTFulæ¨¡æç¨æ·èµæºçå¢å æ¹æ¥\n     * /user    GET     æ¥è¯¢ææç¨æ·ä¿¡æ¯\n     * /user/1    GET     æ ¹æ®ç¨æ·idæ¥è¯¢ç¨æ·ä¿¡æ¯\n     * /user    POST     æ·»å ç¨æ·ä¿¡æ¯\n     * /user/1    DELETE     å é¤ç¨æ·ä¿¡æ¯\n     * /user    PUT     ä¿®æ¹ç¨æ·ä¿¡æ¯\n     */\n\n    @RequestMapping(value = "/user", method = RequestMethod.GET)\n    public String getAllUser(){\n        System.out.println("æ¥è¯¢ææç¨æ·ä¿¡æ¯");\n        return "success";\n    }\n\n    @RequestMapping(value = "/user/{id}", method = RequestMethod.GET)\n    public String getUserById(){\n        System.out.println("æ ¹æ®idæ¥è¯¢ç¨æ·ä¿¡æ¯");\n        return "success";\n    }\n\n    @RequestMapping(value = "/user", method = RequestMethod.POST)\n    public String insertUser(String username, String password){\n        System.out.println("æ·»å ç¨æ·ä¿¡æ¯ï¼"+username+","+password);\n        return "success";\n    }\n\n    @RequestMapping(value = "/user", method = RequestMethod.PUT)\n    public String updateUser(String username, String password){\n        System.out.println("ä¿®æ¹ç¨æ·ä¿¡æ¯ï¼"+username+","+password);\n        return "success";\n    }\n\n}\n\n\n<!DOCTYPE html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="UTF-8">\n    <title>Title</title>\n</head>\n<body>\n<a th:href="@{/user}">æ¥è¯¢ææç¨æ·ä¿¡æ¯</a><br>\n<a th:href="@{/user/1}">æ ¹æ®idæ¥è¯¢ç¨æ·ä¿¡æ¯</a><br>\n<form th:action="@{/user}" method="post">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    <input type="submit" value="æ·»å "><br>\n</form>\n<form th:action="@{/user}" method="post">\n    <input type="hidden" name="_method" value="PUT">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    <input type="submit" value="ä¿®æ¹"><br>\n</form>\n</body>\n</html>\n\n\n\n# 3ãHiddenHttpMethodFilter\n\nç±äºæµè§å¨åªæ¯æåégetåpostæ¹å¼çè¯·æ±ï¼é£ä¹è¯¥å¦ä½åéputådeleteè¯·æ±å¢ï¼\n\nSpringMVC æä¾äº HiddenHttpMethodFilter å¸®å©æä»¬å° POST è¯·æ±è½¬æ¢ä¸º DELETE æ PUT è¯·æ±\n\nHiddenHttpMethodFilter å¤çputådeleteè¯·æ±çæ¡ä»¶ï¼\n\na>å½åè¯·æ±çè¯·æ±æ¹å¼å¿é¡»ä¸ºpost\n\nb>å½åè¯·æ±å¿é¡»ä¼ è¾è¯·æ±åæ°_method\n\næ»¡è¶³ä»¥ä¸æ¡ä»¶ï¼HiddenHttpMethodFilter è¿æ»¤å¨å°±ä¼å°å½åè¯·æ±çè¯·æ±æ¹å¼è½¬æ¢ä¸ºè¯·æ±åæ°_methodçå¼ï¼å æ­¤è¯·æ±åæ°_methodçå¼ææ¯æç»çè¯·æ±æ¹å¼\n\nå¨web.xmlä¸­æ³¨åHiddenHttpMethodFilter\n\n<filter>\n    <filter-name>HiddenHttpMethodFilter</filter-name>\n    <filter-class>org.springframework.web.filter.HiddenHttpMethodFilter</filter-class>\n</filter>\n<filter-mapping>\n    <filter-name>HiddenHttpMethodFilter</filter-name>\n    <url-pattern>/*</url-pattern>\n</filter-mapping>\n\n\n<form th:action="@{/user}" method="post">\n    <input type="hidden" name="_method" value="PUT">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    <input type="submit" value="ä¿®æ¹"><br>\n</form>\n\n\n\n> æ³¨ï¼\n> \n> ç®åä¸ºæ­¢ï¼SpringMVCä¸­æä¾äºä¸¤ä¸ªè¿æ»¤å¨ï¼CharacterEncodingFilteråHiddenHttpMethodFilter\n> \n> å¨web.xmlä¸­æ³¨åæ¶ï¼å¿é¡»åæ³¨åCharacterEncodingFilterï¼åæ³¨åHiddenHttpMethodFilter\n> \n> åå ï¼\n> \n>  * å¨ CharacterEncodingFilter ä¸­éè¿ request.setCharacterEncoding(encoding) æ¹æ³è®¾ç½®å­ç¬¦éç\n> \n>  * request.setCharacterEncoding(encoding) æ¹æ³è¦æ±åé¢ä¸è½æä»»ä½è·åè¯·æ±åæ°çæä½\n> \n>  * è HiddenHttpMethodFilter æ°æ°æä¸ä¸ªè·åè¯·æ±æ¹å¼çæä½ï¼\n> \n>  * String paramValue = request.getParameter(this.methodParam);\n>    ',normalizedContent:'# ä¸ãrestful\n\n\n# 1ãrestfulç®ä»\n\nrestï¼representational state transferï¼è¡¨ç°å±èµæºç¶æè½¬ç§»ã\n\n# a>èµæº\n\nèµæºæ¯ä¸ç§çå¾æå¡å¨çæ¹å¼ï¼å³ï¼å°æå¡å¨çä½æ¯ç±å¾å¤ç¦»æ£çèµæºç»æãæ¯ä¸ªèµæºæ¯æå¡å¨ä¸ä¸ä¸ªå¯å½åçæ½è±¡æ¦å¿µãå ä¸ºèµæºæ¯ä¸ä¸ªæ½è±¡çæ¦å¿µï¼æä»¥å®ä¸ä»ä»è½ä»£è¡¨æå¡å¨æä»¶ç³»ç»ä¸­çä¸ä¸ªæä»¶ãæ°æ®åºä¸­çä¸å¼ è¡¨ç­ç­å·ä½çä¸è¥¿ï¼å¯ä»¥å°èµæºè®¾è®¡çè¦å¤æ½è±¡æå¤æ½è±¡ï¼åªè¦æ³è±¡ååè®¸èä¸å®¢æ·ç«¯åºç¨å¼åèè½å¤çè§£ãä¸é¢åå¯¹è±¡è®¾è®¡ç±»ä¼¼ï¼èµæºæ¯ä»¥åè¯ä¸ºæ ¸å¿æ¥ç»ç»çï¼é¦åå³æ³¨çæ¯åè¯ãä¸ä¸ªèµæºå¯ä»¥ç±ä¸ä¸ªæå¤ä¸ªuriæ¥æ è¯ãuriæ¢æ¯èµæºçåç§°ï¼ä¹æ¯èµæºå¨webä¸çå°åãå¯¹æä¸ªèµæºæå´è¶£çå®¢æ·ç«¯åºç¨ï¼å¯ä»¥éè¿èµæºçuriä¸å¶è¿è¡äº¤äºã\n\n# b>èµæºçè¡¨è¿°\n\nèµæºçè¡¨è¿°æ¯ä¸æ®µå¯¹äºèµæºå¨æä¸ªç¹å®æ¶å»çç¶æçæè¿°ãå¯ä»¥å¨å®¢æ·ç«¯-æå¡å¨ç«¯ä¹é´è½¬ç§»ï¼äº¤æ¢ï¼ãèµæºçè¡¨è¿°å¯ä»¥æå¤ç§æ ¼å¼ï¼ä¾å¦html/xml/json/çº¯ææ¬/å¾ç/è§é¢/é³é¢ç­ç­ãèµæºçè¡¨è¿°æ ¼å¼å¯ä»¥éè¿ååæºå¶æ¥ç¡®å®ãè¯·æ±-ååºæ¹åçè¡¨è¿°éå¸¸ä½¿ç¨ä¸åçæ ¼å¼ã\n\n# c>ç¶æè½¬ç§»\n\nç¶æè½¬ç§»è¯´çæ¯ï¼å¨å®¢æ·ç«¯åæå¡å¨ç«¯ä¹é´è½¬ç§»ï¼transferï¼ä»£è¡¨èµæºç¶æçè¡¨è¿°ãéè¿è½¬ç§»åæä½èµæºçè¡¨è¿°ï¼æ¥é´æ¥å®ç°æä½èµæºçç®çã\n\n\n# 2ãrestfulçå®ç°\n\nå·ä½è¯´ï¼å°±æ¯ http åè®®éé¢ï¼åä¸ªè¡¨ç¤ºæä½æ¹å¼çå¨è¯ï¼getãpostãputãdeleteã\n\nå®ä»¬åå«å¯¹åºåç§åºæ¬æä½ï¼get ç¨æ¥è·åèµæºï¼post ç¨æ¥æ°å»ºèµæºï¼put ç¨æ¥æ´æ°èµæºï¼delete ç¨æ¥å é¤èµæºã\n\nrest é£æ ¼æå¡ url å°åä½¿ç¨ç»ä¸çé£æ ¼è®¾è®¡ï¼ä»åå°ååä¸ªåè¯ä½¿ç¨ææ åå¼ï¼ä¸ä½¿ç¨é®å·é®å¼å¯¹æ¹å¼æºå¸¦è¯·æ±åæ°ï¼èæ¯å°è¦åéç»æå¡å¨çæ°æ®ä½ä¸º url å°åçä¸é¨åï¼ä»¥ä¿è¯æ´ä½é£æ ¼çä¸è´æ§ã\n\næä½     ä¼ ç»æ¹å¼               resté£æ ¼\næ¥è¯¢æä½   getuserbyid?id=1   user/1--\x3egetè¯·æ±æ¹å¼\nä¿å­æä½   saveuser           user--\x3epostè¯·æ±æ¹å¼\nå é¤æä½   deleteuser?id=1    user/1--\x3edeleteè¯·æ±æ¹å¼\næ´æ°æä½   updateuser         user--\x3eputè¯·æ±æ¹å¼\n\n\n# postågetæµè¯\n\n@controller\npublic class usercontroller {\n\n    /**\n     * ä½¿ç¨restfulæ¨¡æç¨æ·èµæºçå¢å æ¹æ¥\n     * /user    get     æ¥è¯¢ææç¨æ·ä¿¡æ¯\n     * /user/1    get     æ ¹æ®ç¨æ·idæ¥è¯¢ç¨æ·ä¿¡æ¯\n     * /user    post     æ·»å ç¨æ·ä¿¡æ¯\n     * /user/1    delete     å é¤ç¨æ·ä¿¡æ¯\n     * /user    put     ä¿®æ¹ç¨æ·ä¿¡æ¯\n     */\n\n    @requestmapping(value = "/user", method = requestmethod.get)\n    public string getalluser(){\n        system.out.println("æ¥è¯¢ææç¨æ·ä¿¡æ¯");\n        return "success";\n    }\n\n    @requestmapping(value = "/user/{id}", method = requestmethod.get)\n    public string getuserbyid(){\n        system.out.println("æ ¹æ®idæ¥è¯¢ç¨æ·ä¿¡æ¯");\n        return "success";\n    }\n\n    @requestmapping(value = "/user", method = requestmethod.post)\n    public string insertuser(string username, string password){\n        system.out.println("æ·»å ç¨æ·ä¿¡æ¯ï¼"+username+","+password);\n        return "success";\n    }\n\n    @requestmapping(value = "/user", method = requestmethod.put)\n    public string updateuser(string username, string password){\n        system.out.println("ä¿®æ¹ç¨æ·ä¿¡æ¯ï¼"+username+","+password);\n        return "success";\n    }\n\n}\n\n\n<!doctype html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="utf-8">\n    <title>title</title>\n</head>\n<body>\n<a th:href="@{/user}">æ¥è¯¢ææç¨æ·ä¿¡æ¯</a><br>\n<a th:href="@{/user/1}">æ ¹æ®idæ¥è¯¢ç¨æ·ä¿¡æ¯</a><br>\n<form th:action="@{/user}" method="post">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    <input type="submit" value="æ·»å "><br>\n</form>\n<form th:action="@{/user}" method="post">\n    <input type="hidden" name="_method" value="put">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    <input type="submit" value="ä¿®æ¹"><br>\n</form>\n</body>\n</html>\n\n\n\n# 3ãhiddenhttpmethodfilter\n\nç±äºæµè§å¨åªæ¯æåégetåpostæ¹å¼çè¯·æ±ï¼é£ä¹è¯¥å¦ä½åéputådeleteè¯·æ±å¢ï¼\n\nspringmvc æä¾äº hiddenhttpmethodfilter å¸®å©æä»¬å° post è¯·æ±è½¬æ¢ä¸º delete æ put è¯·æ±\n\nhiddenhttpmethodfilter å¤çputådeleteè¯·æ±çæ¡ä»¶ï¼\n\na>å½åè¯·æ±çè¯·æ±æ¹å¼å¿é¡»ä¸ºpost\n\nb>å½åè¯·æ±å¿é¡»ä¼ è¾è¯·æ±åæ°_method\n\næ»¡è¶³ä»¥ä¸æ¡ä»¶ï¼hiddenhttpmethodfilter è¿æ»¤å¨å°±ä¼å°å½åè¯·æ±çè¯·æ±æ¹å¼è½¬æ¢ä¸ºè¯·æ±åæ°_methodçå¼ï¼å æ­¤è¯·æ±åæ°_methodçå¼ææ¯æç»çè¯·æ±æ¹å¼\n\nå¨web.xmlä¸­æ³¨åhiddenhttpmethodfilter\n\n<filter>\n    <filter-name>hiddenhttpmethodfilter</filter-name>\n    <filter-class>org.springframework.web.filter.hiddenhttpmethodfilter</filter-class>\n</filter>\n<filter-mapping>\n    <filter-name>hiddenhttpmethodfilter</filter-name>\n    <url-pattern>/*</url-pattern>\n</filter-mapping>\n\n\n<form th:action="@{/user}" method="post">\n    <input type="hidden" name="_method" value="put">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    <input type="submit" value="ä¿®æ¹"><br>\n</form>\n\n\n\n> æ³¨ï¼\n> \n> ç®åä¸ºæ­¢ï¼springmvcä¸­æä¾äºä¸¤ä¸ªè¿æ»¤å¨ï¼characterencodingfilteråhiddenhttpmethodfilter\n> \n> å¨web.xmlä¸­æ³¨åæ¶ï¼å¿é¡»åæ³¨åcharacterencodingfilterï¼åæ³¨åhiddenhttpmethodfilter\n> \n> åå ï¼\n> \n>  * å¨ characterencodingfilter ä¸­éè¿ request.setcharacterencoding(encoding) æ¹æ³è®¾ç½®å­ç¬¦éç\n> \n>  * request.setcharacterencoding(encoding) æ¹æ³è¦æ±åé¢ä¸è½æä»»ä½è·åè¯·æ±åæ°çæä½\n> \n>  * è hiddenhttpmethodfilter æ°æ°æä¸ä¸ªè·åè¯·æ±æ¹å¼çæä½ï¼\n> \n>  * string paramvalue = request.getparameter(this.methodparam);\n>    ',charsets:{cjk:!0}},{title:"SpringMVCçè§å¾",frontmatter:{title:"SpringMVCçè§å¾",date:"2022-05-06T00:00:00.000Z",permalink:"/springmvc/006/",categories:["æ¡æ¶","SpringMVC"],tags:["SpringMVC"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/02.SpringMVC/06.SpringMVC%E7%9A%84%E8%A7%86%E5%9B%BE.html",relativePath:"07.æ¡æ¶/02.SpringMVC/06.SpringMVCçè§å¾.md",key:"v-a0fc14c8",path:"/springmvc/006/",headers:[{level:3,title:"1ãThymeleafView",slug:"_1ãthymeleafview",normalizedTitle:"1ãthymeleafview",charIndex:234},{level:3,title:"2ãè½¬åè§å¾ï¼ç¨å¾å°ï¼",slug:"_2ãè½¬åè§å¾-ç¨å¾å°",normalizedTitle:"2ãè½¬åè§å¾ï¼ç¨å¾å°ï¼",charIndex:464},{level:3,title:"3ãéå®åè§å¾",slug:"_3ãéå®åè§å¾",normalizedTitle:"3ãéå®åè§å¾",charIndex:937},{level:3,title:"4ãè§å¾æ§å¶å¨view-controller",slug:"_4ãè§å¾æ§å¶å¨view-controller",normalizedTitle:"4ãè§å¾æ§å¶å¨view-controller",charIndex:1503},{level:3,title:"5ãè§å¾è§£æå¨InternalResourceViewResolver(éå¯¹jsp)",slug:"_5ãè§å¾è§£æå¨internalresourceviewresolver-éå¯¹jsp",normalizedTitle:"5ãè§å¾è§£æå¨internalresourceviewresolver(éå¯¹jsp)",charIndex:1947},{level:3,title:"1ãRESTfulç®ä»",slug:"_1ãrestfulç®ä»",normalizedTitle:"1ãrestfulç®ä»",charIndex:2095},{level:5,title:"a>èµæº",slug:"a-èµæº",normalizedTitle:"a&gt;èµæº",charIndex:null},{level:5,title:"b>èµæºçè¡¨è¿°",slug:"b-èµæºçè¡¨è¿°",normalizedTitle:"b&gt;èµæºçè¡¨è¿°",charIndex:null},{level:5,title:"c>ç¶æè½¬ç§»",slug:"c-ç¶æè½¬ç§»",normalizedTitle:"c&gt;ç¶æè½¬ç§»",charIndex:null},{level:3,title:"2ãRESTfulçå®ç°",slug:"_2ãrestfulçå®ç°",normalizedTitle:"2ãrestfulçå®ç°",charIndex:2644},{level:3,title:"postågetæµè¯",slug:"postågetæµè¯",normalizedTitle:"postågetæµè¯",charIndex:3080},{level:3,title:"3ãHiddenHttpMethodFilter",slug:"_3ãhiddenhttpmethodfilter",normalizedTitle:"3ãhiddenhttpmethodfilter",charIndex:4829},{level:3,title:"1ãåå¤å·¥ä½",slug:"_1ãåå¤å·¥ä½",normalizedTitle:"1ãåå¤å·¥ä½",charIndex:6173},{level:3,title:"2ãåè½æ¸å",slug:"_2ãåè½æ¸å",normalizedTitle:"2ãåè½æ¸å",charIndex:8691},{level:3,title:"3ãå·ä½åè½ï¼è®¿é®é¦é¡µ",slug:"_3ãå·ä½åè½-è®¿é®é¦é¡µ",normalizedTitle:"3ãå·ä½åè½ï¼è®¿é®é¦é¡µ",charIndex:8956},{level:5,title:"a>éç½®view-controller",slug:"a-éç½®view-controller",normalizedTitle:"a&gt;éç½®view-controller",charIndex:null},{level:5,title:"b>åå»ºé¡µé¢",slug:"b-åå»ºé¡µé¢",normalizedTitle:"b&gt;åå»ºé¡µé¢",charIndex:null},{level:3,title:"4ãå·ä½åè½ï¼æ¥è¯¢ææåå·¥æ°æ®",slug:"_4ãå·ä½åè½-æ¥è¯¢ææåå·¥æ°æ®",normalizedTitle:"4ãå·ä½åè½ï¼æ¥è¯¢ææåå·¥æ°æ®",charIndex:9281},{level:5,title:"a>æ§å¶å¨æ¹æ³",slug:"a-æ§å¶å¨æ¹æ³",normalizedTitle:"a&gt;æ§å¶å¨æ¹æ³",charIndex:null},{level:5,title:"b>åå»ºemployee_list.html",slug:"b-åå»ºemployee-list-html",normalizedTitle:"b&gt;åå»ºemployee_list.html",charIndex:null},{level:3,title:"5ãå·ä½åè½ï¼å é¤",slug:"_5ãå·ä½åè½-å é¤",normalizedTitle:"5ãå·ä½åè½ï¼å é¤",charIndex:11042},{level:5,title:"a>åå»ºå¤çdeleteè¯·æ±æ¹å¼çè¡¨å",slug:"a-åå»ºå¤çdeleteè¯·æ±æ¹å¼çè¡¨å",normalizedTitle:"a&gt;åå»ºå¤çdeleteè¯·æ±æ¹å¼çè¡¨å",charIndex:null},{level:5,title:"b>å é¤è¶é¾æ¥ç»å®ç¹å»äºä»¶",slug:"b-å é¤è¶é¾æ¥ç»å®ç¹å»äºä»¶",normalizedTitle:"b&gt;å é¤è¶é¾æ¥ç»å®ç¹å»äºä»¶",charIndex:null},{level:5,title:"c> å¼æ¾éæèµæºè®¿é®",slug:"c-å¼æ¾éæèµæºè®¿é®",normalizedTitle:"c&gt; å¼æ¾éæèµæºè®¿é®",charIndex:null},{level:5,title:"d>æ§å¶å¨æ¹æ³",slug:"d-æ§å¶å¨æ¹æ³",normalizedTitle:"d&gt;æ§å¶å¨æ¹æ³",charIndex:null},{level:3,title:"6ãå·ä½åè½ï¼è·³è½¬å°æ·»å æ°æ®é¡µé¢",slug:"_6ãå·ä½åè½-è·³è½¬å°æ·»å æ°æ®é¡µé¢",normalizedTitle:"6ãå·ä½åè½ï¼è·³è½¬å°æ·»å æ°æ®é¡µé¢",charIndex:12406},{level:5,title:"a>éç½®view-controller",slug:"a-éç½®view-controller-2",normalizedTitle:"a&gt;éç½®view-controller",charIndex:null},{level:5,title:"b>åå»ºemployee_add.html",slug:"b-åå»ºemployee-add-html",normalizedTitle:"b&gt;åå»ºemployee_add.html",charIndex:null},{level:3,title:"7ãå·ä½åè½ï¼æ§è¡ä¿å­",slug:"_7ãå·ä½åè½-æ§è¡ä¿å­",normalizedTitle:"7ãå·ä½åè½ï¼æ§è¡ä¿å­",charIndex:13045},{level:5,title:"a>æ§å¶å¨æ¹æ³",slug:"a-æ§å¶å¨æ¹æ³-2",normalizedTitle:"a&gt;æ§å¶å¨æ¹æ³",charIndex:null},{level:3,title:"8ãå·ä½åè½ï¼è·³è½¬å°æ´æ°æ°æ®é¡µé¢",slug:"_8ãå·ä½åè½-è·³è½¬å°æ´æ°æ°æ®é¡µé¢",normalizedTitle:"8ãå·ä½åè½ï¼è·³è½¬å°æ´æ°æ°æ®é¡µé¢",charIndex:13253},{level:5,title:"a>ä¿®æ¹è¶é¾æ¥",slug:"a-ä¿®æ¹è¶é¾æ¥",normalizedTitle:"a&gt;ä¿®æ¹è¶é¾æ¥",charIndex:null},{level:5,title:"b>æ§å¶å¨æ¹æ³",slug:"b-æ§å¶å¨æ¹æ³",normalizedTitle:"b&gt;æ§å¶å¨æ¹æ³",charIndex:null},{level:5,title:"c>åå»ºemployee_update.html",slug:"c-åå»ºemployee-update-html",normalizedTitle:"c&gt;åå»ºemployee_update.html",charIndex:null},{level:3,title:"9ãå·ä½åè½ï¼æ§è¡æ´æ°",slug:"_9ãå·ä½åè½-æ§è¡æ´æ°",normalizedTitle:"9ãå·ä½åè½ï¼æ§è¡æ´æ°",charIndex:14509},{level:5,title:"a>æ§å¶å¨æ¹æ³",slug:"a-æ§å¶å¨æ¹æ³-3",normalizedTitle:"a&gt;æ§å¶å¨æ¹æ³",charIndex:null},{level:3,title:"1ã@RequestBody",slug:"_1ã-requestbody",normalizedTitle:"1ã@requestbody",charIndex:14919},{level:3,title:"2ãRequestEntity",slug:"_2ãrequestentity",normalizedTitle:"2ãrequestentity",charIndex:15434},{level:3,title:"3ã@ResponseBodyï¼ç¨çæå¤ï¼",slug:"_3ã-responsebody-ç¨çæå¤",normalizedTitle:"3ã@responsebodyï¼ç¨çæå¤ï¼",charIndex:16280},{level:3,title:"4ãSpringMVCå¤çjson",slug:"_4ãspringmvcå¤çjson",normalizedTitle:"4ãspringmvcå¤çjson",charIndex:16596},{level:3,title:"5ãSpringMVCå¤çajax",slug:"_5ãspringmvcå¤çajax",normalizedTitle:"5ãspringmvcå¤çajax",charIndex:17271},{level:3,title:"6ã@RestControlleræ³¨è§£",slug:"_6ã-restcontrolleræ³¨è§£",normalizedTitle:"6ã@restcontrolleræ³¨è§£",charIndex:18329},{level:3,title:"7ãResponseEntity",slug:"_7ãresponseentity",normalizedTitle:"7ãresponseentity",charIndex:18453},{level:3,title:"1ãæä»¶ä¸è½½",slug:"_1ãæä»¶ä¸è½½",normalizedTitle:"1ãæä»¶ä¸è½½",charIndex:18541},{level:3,title:"2ãæä»¶ä¸ä¼ ",slug:"_2ãæä»¶ä¸ä¼ ",normalizedTitle:"2ãæä»¶ä¸ä¼ ",charIndex:19518},{level:3,title:"1ãæ¦æªå¨çéç½®",slug:"_1ãæ¦æªå¨çéç½®",normalizedTitle:"1ãæ¦æªå¨çéç½®",charIndex:20827},{level:3,title:"2ãæ¦æªå¨çä¸ä¸ªæ½è±¡æ¹æ³",slug:"_2ãæ¦æªå¨çä¸ä¸ªæ½è±¡æ¹æ³",normalizedTitle:"2ãæ¦æªå¨çä¸ä¸ªæ½è±¡æ¹æ³",charIndex:21730},{level:3,title:"3ãå¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº",slug:"_3ãå¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº",normalizedTitle:"3ãå¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº",charIndex:21978},{level:3,title:"1ãåºäºéç½®çå¼å¸¸å¤ç",slug:"_1ãåºäºéç½®çå¼å¸¸å¤ç",normalizedTitle:"1ãåºäºéç½®çå¼å¸¸å¤ç",charIndex:22285},{level:3,title:"2ãåºäºæ³¨è§£çå¼å¸¸å¤ç",slug:"_2ãåºäºæ³¨è§£çå¼å¸¸å¤ç",normalizedTitle:"2ãåºäºæ³¨è§£çå¼å¸¸å¤ç",charIndex:23048},{level:3,title:"1ãåå»ºåå§åç±»ï¼ä»£æ¿web.xml",slug:"_1ãåå»ºåå§åç±»-ä»£æ¿web-xml",normalizedTitle:"1ãåå»ºåå§åç±»ï¼ä»£æ¿web.xml",charIndex:23502},{level:3,title:"2ãåå»ºSpringConfigéç½®ç±»ï¼ä»£æ¿springçéç½®æä»¶",slug:"_2ãåå»ºspringconfigéç½®ç±»-ä»£æ¿springçéç½®æä»¶",normalizedTitle:"2ãåå»ºspringconfigéç½®ç±»ï¼ä»£æ¿springçéç½®æä»¶",charIndex:25022},{level:3,title:"3ãåå»ºWebConfigéç½®ç±»ï¼ä»£æ¿SpringMVCçéç½®æä»¶",slug:"_3ãåå»ºwebconfigéç½®ç±»-ä»£æ¿springmvcçéç½®æä»¶",normalizedTitle:"3ãåå»ºwebconfigéç½®ç±»ï¼ä»£æ¿springmvcçéç½®æä»¶",charIndex:25135},{level:3,title:"4ãæµè¯åè½",slug:"_4ãæµè¯åè½",normalizedTitle:"4ãæµè¯åè½",charIndex:28094},{level:3,title:"1ãSpringMVCå¸¸ç¨ç»ä»¶",slug:"_1ãspringmvcå¸¸ç¨ç»ä»¶",normalizedTitle:"1ãspringmvcå¸¸ç¨ç»ä»¶",charIndex:28194},{level:3,title:"2ãDispatcherServletåå§åè¿ç¨",slug:"_2ãdispatcherservletåå§åè¿ç¨",normalizedTitle:"2ãdispatcherservletåå§åè¿ç¨",charIndex:28695},{level:5,title:"a>åå§åWebApplicationContext",slug:"a-åå§åwebapplicationcontext",normalizedTitle:"a&gt;åå§åwebapplicationcontext",charIndex:null},{level:5,title:"b>åå»ºWebApplicationContext",slug:"b-åå»ºwebapplicationcontext",normalizedTitle:"b&gt;åå»ºwebapplicationcontext",charIndex:null},{level:5,title:"c>DispatcherServletåå§åç­ç¥",slug:"c-dispatcherservletåå§åç­ç¥",normalizedTitle:"c&gt;dispatcherservletåå§åç­ç¥",charIndex:null},{level:3,title:"3ãDispatcherServletè°ç¨ç»ä»¶å¤çè¯·æ±",slug:"_3ãdispatcherservletè°ç¨ç»ä»¶å¤çè¯·æ±",normalizedTitle:"3ãdispatcherservletè°ç¨ç»ä»¶å¤çè¯·æ±",charIndex:32967},{level:5,title:"a>processRequest()",slug:"a-processrequest",normalizedTitle:"a&gt;processrequest()",charIndex:null},{level:5,title:"b>doService()",slug:"b-doservice",normalizedTitle:"b&gt;doservice()",charIndex:null},{level:5,title:"c>doDispatch()",slug:"c-dodispatch",normalizedTitle:"c&gt;dodispatch()",charIndex:null},{level:5,title:"d>processDispatchResult()",slug:"d-processdispatchresult",normalizedTitle:"d&gt;processdispatchresult()",charIndex:null},{level:3,title:"4ãSpringMVCçæ§è¡æµç¨",slug:"_4ãspringmvcçæ§è¡æµç¨",normalizedTitle:"4ãspringmvcçæ§è¡æµç¨",charIndex:42480}],headersStr:"1ãThymeleafView 2ãè½¬åè§å¾ï¼ç¨å¾å°ï¼ 3ãéå®åè§å¾ 4ãè§å¾æ§å¶å¨view-controller 5ãè§å¾è§£æå¨InternalResourceViewResolver(éå¯¹jsp) 1ãRESTfulç®ä» a>èµæº b>èµæºçè¡¨è¿° c>ç¶æè½¬ç§» 2ãRESTfulçå®ç° postågetæµè¯ 3ãHiddenHttpMethodFilter 1ãåå¤å·¥ä½ 2ãåè½æ¸å 3ãå·ä½åè½ï¼è®¿é®é¦é¡µ a>éç½®view-controller b>åå»ºé¡µé¢ 4ãå·ä½åè½ï¼æ¥è¯¢ææåå·¥æ°æ® a>æ§å¶å¨æ¹æ³ b>åå»ºemployee_list.html 5ãå·ä½åè½ï¼å é¤ a>åå»ºå¤çdeleteè¯·æ±æ¹å¼çè¡¨å b>å é¤è¶é¾æ¥ç»å®ç¹å»äºä»¶ c> å¼æ¾éæèµæºè®¿é® d>æ§å¶å¨æ¹æ³ 6ãå·ä½åè½ï¼è·³è½¬å°æ·»å æ°æ®é¡µé¢ a>éç½®view-controller b>åå»ºemployee_add.html 7ãå·ä½åè½ï¼æ§è¡ä¿å­ a>æ§å¶å¨æ¹æ³ 8ãå·ä½åè½ï¼è·³è½¬å°æ´æ°æ°æ®é¡µé¢ a>ä¿®æ¹è¶é¾æ¥ b>æ§å¶å¨æ¹æ³ c>åå»ºemployee_update.html 9ãå·ä½åè½ï¼æ§è¡æ´æ° a>æ§å¶å¨æ¹æ³ 1ã@RequestBody 2ãRequestEntity 3ã@ResponseBodyï¼ç¨çæå¤ï¼ 4ãSpringMVCå¤çjson 5ãSpringMVCå¤çajax 6ã@RestControlleræ³¨è§£ 7ãResponseEntity 1ãæä»¶ä¸è½½ 2ãæä»¶ä¸ä¼  1ãæ¦æªå¨çéç½® 2ãæ¦æªå¨çä¸ä¸ªæ½è±¡æ¹æ³ 3ãå¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº 1ãåºäºéç½®çå¼å¸¸å¤ç 2ãåºäºæ³¨è§£çå¼å¸¸å¤ç 1ãåå»ºåå§åç±»ï¼ä»£æ¿web.xml 2ãåå»ºSpringConfigéç½®ç±»ï¼ä»£æ¿springçéç½®æä»¶ 3ãåå»ºWebConfigéç½®ç±»ï¼ä»£æ¿SpringMVCçéç½®æä»¶ 4ãæµè¯åè½ 1ãSpringMVCå¸¸ç¨ç»ä»¶ 2ãDispatcherServletåå§åè¿ç¨ a>åå§åWebApplicationContext b>åå»ºWebApplicationContext c>DispatcherServletåå§åç­ç¥ 3ãDispatcherServletè°ç¨ç»ä»¶å¤çè¯·æ± a>processRequest() b>doService() c>doDispatch() d>processDispatchResult() 4ãSpringMVCçæ§è¡æµç¨",content:'# å­ãSpringMVCçè§å¾\n\nSpringMVCä¸­çè§å¾æ¯Viewæ¥å£ï¼è§å¾çä½ç¨æ¸²ææ°æ®ï¼å°æ¨¡åModelä¸­çæ°æ®å±ç¤ºç»ç¨æ·\n\nSpringMVCè§å¾çç§ç±»å¾å¤ï¼é»è®¤æè½¬åè§å¾åéå®åè§å¾\n\nå½å·¥ç¨å¼å¥jstlï¼æ ç­¾åºç¨æ¥æ§å¶ç½é¡µæ ç­¾ï¼çä¾èµï¼è½¬åè§å¾ä¼èªå¨è½¬æ¢ä¸ºJstlView\n\nè¥ä½¿ç¨çè§å¾ææ¯ä¸ºThymeleafï¼å¨SpringMVCçéç½®æä»¶ä¸­éç½®äºThymeleafçè§å¾è§£æå¨ï¼ç±æ­¤è§å¾è§£æå¨è§£æä¹åæå¾å°çæ¯ThymeleafView\n\n\n# 1ãThymeleafView\n\nå½æ§å¶å¨æ¹æ³ä¸­æè®¾ç½®çè§å¾åç§°æ²¡æä»»ä½åç¼æ¶ï¼æ­¤æ¶çè§å¾åç§°ä¼è¢«SpringMVCéç½®æä»¶ä¸­æéç½®çè§å¾è§£æå¨è§£æï¼è§å¾åç§°æ¼æ¥è§å¾åç¼åè§å¾åç¼æå¾å°çæç»è·¯å¾ï¼ä¼éè¿è½¬åçæ¹å¼å®ç°è·³è½¬\n\n@RequestMapping("/testHello")\npublic String testHello(){\n    return "hello";  // è¿éæ²¡æä»»ä½åç¼ä¼è¢«è§£æä¸ºthymeleafView\n}\n\n\n\n\n\n# 2ãè½¬åè§å¾ï¼ç¨å¾å°ï¼\n\nSpringMVCä¸­é»è®¤çè½¬åè§å¾ æ¯InternalResourceView\n\nSpringMVCä¸­åå»ºè½¬åè§å¾çæåµï¼\n\nå½æ§å¶å¨æ¹æ³ä¸­æè®¾ç½®çè§å¾åç§°ä»¥"forward:"ä¸ºåç¼æ¶ï¼åå»ºInternalResourceViewè§å¾ï¼æ­¤æ¶çè§å¾åç§°ä¸ä¼è¢«SpringMVCéç½®æä»¶ä¸­æéç½®çè§å¾è§£æå¨è§£æï¼èæ¯ä¼å°åç¼"forward:"å»æï¼å©ä½é¨åä½ä¸ºæç»è·¯å¾éè¿è½¬åçæ¹å¼å®ç°è·³è½¬\n\nä¾å¦"forward:/"ï¼"forward:/employee"\n\n// thymeleafViewï¼é»è®¤ï¼\n@RequestMapping("/testHello")\npublic String testHello(){\n    return "hello";\n}\n\n// InternalResourceView\n@RequestMapping("/testForward")\npublic String testForward(){\n    return "forward:/testHello";\n}\n\n\n\n\n\n# 3ãéå®åè§å¾\n\nSpringMVCä¸­é»è®¤çéå®åè§å¾æ¯RedirectView\n\nå½æ§å¶å¨æ¹æ³ä¸­æè®¾ç½®çè§å¾åç§°ä»¥"redirect:"ä¸ºåç¼æ¶ï¼åå»ºRedirectViewè§å¾ï¼æ­¤æ¶çè§å¾åç§°ä¸ä¼è¢«SpringMVCéç½®æä»¶ä¸­æéç½®çè§å¾è§£æå¨è§£æï¼èæ¯ä¼å°åç¼"redirect:"å»æï¼å©ä½é¨åä½ä¸ºæç»è·¯å¾éè¿éå®åçæ¹å¼å®ç°è·³è½¬\n\nä¾å¦"redirect:/"ï¼"redirect:/employee"\n\néå®åè§å¾é¡µé¢ç½åä¸ºtestRedirectï¼ä½æ¯ç½é¡µæ¾ç¤ºhello\nè½¬åè§å¾é¡µé¢ç½åä¸ºtesthelloï¼ç½é¡µä¿¡æ¯æ¾ç¤ºhello\n@RequestMapping("/testHello")\npublic String testHello(){\n    return "hello";\n}\n@RequestMapping("/testRedirect")\npublic String testRedirect(){\n    return "redirect:/testHello";\n}\n\n\nè½¬ååéå®åçåºå«æ¯ä»ä¹ï¼ï¼ï¼ severletè¯¦ç»ç è½¬åä¸è½è·¨åï¼éå®åå¯ä»¥è·¨å\n\n\n\n> æ³¨ï¼ éå®åè§å¾å¨è§£ææ¶ï¼ä¼åå°redirect:åç¼å»æï¼ç¶åä¼å¤æ­å©ä½é¨åæ¯å¦ä»¥/å¼å¤´ï¼è¥æ¯åä¼èªå¨æ¼æ¥ä¸ä¸æè·¯å¾\n\n\n# 4ãè§å¾æ§å¶å¨view-controller\n\nå½æ§å¶å¨æ¹æ³ä¸­ï¼ä»ä»ç¨æ¥å®ç°é¡µé¢è·³è½¬ï¼å³åªéè¦è®¾ç½®è§å¾åç§°æ¶ï¼å¯ä»¥å°å¤çå¨æ¹æ³ä½¿ç¨view-controlleræ ç­¾è¿è¡è¡¨ç¤º\n\n\x3c!--\n\tpathï¼è®¾ç½®å¤ççè¯·æ±å°å\n\tview-nameï¼è®¾ç½®è¯·æ±å°åæå¯¹åºçè§å¾åç§°\n--\x3e\n<mvc:view-controller path="/testView" view-name="success"></mvc:view-controller>\n\n\nè¿éç­ä»·äº\n\n@RequestMapping("/testView")\npublic String testView(){\n    return "index";\n}\n\n\n> æ³¨ï¼ å½SpringMVCä¸­è®¾ç½®ä»»ä½ä¸ä¸ªview-controlleræ¶ï¼å¶ä»æ§å¶å¨ä¸­çè¯·æ±æ å°å°å¨é¨å¤±æï¼æ­¤æ¶éè¦å¨SpringMVCçæ ¸å¿éç½®æä»¶ä¸­è®¾ç½®å¼å¯mvcæ³¨è§£é©±å¨çæ ç­¾è®©ä¹åçæ§å¶å¨è¯·æ±éæ°çæ <mvc:annotation-driven />\n\n\n# 5ãè§å¾è§£æå¨InternalResourceViewResolver(éå¯¹jsp)\n\n\n\n\n\n\n\n\n\nå½æ²¡æä»»ä½åç¼æèforward:"ä¸ºåç¼ä¼è¢«InternalResourceViewï¼ä»¥"redirect:"ä¸ºåç¼æ¶ä¼è¢«åå»ºä¸ºRedirectView\n\n\n# ä¸ãRESTful\n\n\n# 1ãRESTfulç®ä»\n\nRESTï¼Representational State Transferï¼è¡¨ç°å±èµæºç¶æè½¬ç§»ã\n\n# a>èµæº\n\nèµæºæ¯ä¸ç§çå¾æå¡å¨çæ¹å¼ï¼å³ï¼å°æå¡å¨çä½æ¯ç±å¾å¤ç¦»æ£çèµæºç»æãæ¯ä¸ªèµæºæ¯æå¡å¨ä¸ä¸ä¸ªå¯å½åçæ½è±¡æ¦å¿µãå ä¸ºèµæºæ¯ä¸ä¸ªæ½è±¡çæ¦å¿µï¼æä»¥å®ä¸ä»ä»è½ä»£è¡¨æå¡å¨æä»¶ç³»ç»ä¸­çä¸ä¸ªæä»¶ãæ°æ®åºä¸­çä¸å¼ è¡¨ç­ç­å·ä½çä¸è¥¿ï¼å¯ä»¥å°èµæºè®¾è®¡çè¦å¤æ½è±¡æå¤æ½è±¡ï¼åªè¦æ³è±¡ååè®¸èä¸å®¢æ·ç«¯åºç¨å¼åèè½å¤çè§£ãä¸é¢åå¯¹è±¡è®¾è®¡ç±»ä¼¼ï¼èµæºæ¯ä»¥åè¯ä¸ºæ ¸å¿æ¥ç»ç»çï¼é¦åå³æ³¨çæ¯åè¯ãä¸ä¸ªèµæºå¯ä»¥ç±ä¸ä¸ªæå¤ä¸ªURIæ¥æ è¯ãURIæ¢æ¯èµæºçåç§°ï¼ä¹æ¯èµæºå¨Webä¸çå°åãå¯¹æä¸ªèµæºæå´è¶£çå®¢æ·ç«¯åºç¨ï¼å¯ä»¥éè¿èµæºçURIä¸å¶è¿è¡äº¤äºã\n\n# b>èµæºçè¡¨è¿°\n\nèµæºçè¡¨è¿°æ¯ä¸æ®µå¯¹äºèµæºå¨æä¸ªç¹å®æ¶å»çç¶æçæè¿°ãå¯ä»¥å¨å®¢æ·ç«¯-æå¡å¨ç«¯ä¹é´è½¬ç§»ï¼äº¤æ¢ï¼ãèµæºçè¡¨è¿°å¯ä»¥æå¤ç§æ ¼å¼ï¼ä¾å¦HTML/XML/JSON/çº¯ææ¬/å¾ç/è§é¢/é³é¢ç­ç­ãèµæºçè¡¨è¿°æ ¼å¼å¯ä»¥éè¿ååæºå¶æ¥ç¡®å®ãè¯·æ±-ååºæ¹åçè¡¨è¿°éå¸¸ä½¿ç¨ä¸åçæ ¼å¼ã\n\n# c>ç¶æè½¬ç§»\n\nç¶æè½¬ç§»è¯´çæ¯ï¼å¨å®¢æ·ç«¯åæå¡å¨ç«¯ä¹é´è½¬ç§»ï¼transferï¼ä»£è¡¨èµæºç¶æçè¡¨è¿°ãéè¿è½¬ç§»åæä½èµæºçè¡¨è¿°ï¼æ¥é´æ¥å®ç°æä½èµæºçç®çã\n\n\n# 2ãRESTfulçå®ç°\n\nå·ä½è¯´ï¼å°±æ¯ HTTP åè®®éé¢ï¼åä¸ªè¡¨ç¤ºæä½æ¹å¼çå¨è¯ï¼GETãPOSTãPUTãDELETEã\n\nå®ä»¬åå«å¯¹åºåç§åºæ¬æä½ï¼GET ç¨æ¥è·åèµæºï¼POST ç¨æ¥æ°å»ºèµæºï¼PUT ç¨æ¥æ´æ°èµæºï¼DELETE ç¨æ¥å é¤èµæºã\n\nREST é£æ ¼æå¡ URL å°åä½¿ç¨ç»ä¸çé£æ ¼è®¾è®¡ï¼ä»åå°ååä¸ªåè¯ä½¿ç¨ææ åå¼ï¼ä¸ä½¿ç¨é®å·é®å¼å¯¹æ¹å¼æºå¸¦è¯·æ±åæ°ï¼èæ¯å°è¦åéç»æå¡å¨çæ°æ®ä½ä¸º URL å°åçä¸é¨åï¼ä»¥ä¿è¯æ´ä½é£æ ¼çä¸è´æ§ã\n\næä½     ä¼ ç»æ¹å¼               RESTé£æ ¼\næ¥è¯¢æä½   getUserById?id=1   user/1--\x3egetè¯·æ±æ¹å¼\nä¿å­æä½   saveUser           user--\x3epostè¯·æ±æ¹å¼\nå é¤æä½   deleteUser?id=1    user/1--\x3edeleteè¯·æ±æ¹å¼\næ´æ°æä½   updateUser         user--\x3eputè¯·æ±æ¹å¼\n\n\n# postågetæµè¯\n\n@Controller\npublic class UserController {\n\n    /**\n     * ä½¿ç¨RESTFulæ¨¡æç¨æ·èµæºçå¢å æ¹æ¥\n     * /user    GET     æ¥è¯¢ææç¨æ·ä¿¡æ¯\n     * /user/1    GET     æ ¹æ®ç¨æ·idæ¥è¯¢ç¨æ·ä¿¡æ¯\n     * /user    POST     æ·»å ç¨æ·ä¿¡æ¯\n     * /user/1    DELETE     å é¤ç¨æ·ä¿¡æ¯\n     * /user    PUT     ä¿®æ¹ç¨æ·ä¿¡æ¯\n     */\n\n    @RequestMapping(value = "/user", method = RequestMethod.GET)\n    public String getAllUser(){\n        System.out.println("æ¥è¯¢ææç¨æ·ä¿¡æ¯");\n        return "success";\n    }\n\n    @RequestMapping(value = "/user/{id}", method = RequestMethod.GET)\n    public String getUserById(){\n        System.out.println("æ ¹æ®idæ¥è¯¢ç¨æ·ä¿¡æ¯");\n        return "success";\n    }\n\n    @RequestMapping(value = "/user", method = RequestMethod.POST)\n    public String insertUser(String username, String password){\n        System.out.println("æ·»å ç¨æ·ä¿¡æ¯ï¼"+username+","+password);\n        return "success";\n    }\n\n    @RequestMapping(value = "/user", method = RequestMethod.PUT)\n    public String updateUser(String username, String password){\n        System.out.println("ä¿®æ¹ç¨æ·ä¿¡æ¯ï¼"+username+","+password);\n        return "success";\n    }\n\n}\n\n\n<!DOCTYPE html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="UTF-8">\n    <title>Title</title>\n</head>\n<body>\n<a th:href="@{/user}">æ¥è¯¢ææç¨æ·ä¿¡æ¯</a><br>\n<a th:href="@{/user/1}">æ ¹æ®idæ¥è¯¢ç¨æ·ä¿¡æ¯</a><br>\n<form th:action="@{/user}" method="post">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    <input type="submit" value="æ·»å "><br>\n</form>\n<form th:action="@{/user}" method="post">\n    <input type="hidden" name="_method" value="PUT">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    <input type="submit" value="ä¿®æ¹"><br>\n</form>\n</body>\n</html>\n\n\n\n# 3ãHiddenHttpMethodFilter\n\nç±äºæµè§å¨åªæ¯æåégetåpostæ¹å¼çè¯·æ±ï¼é£ä¹è¯¥å¦ä½åéputådeleteè¯·æ±å¢ï¼\n\nSpringMVC æä¾äº HiddenHttpMethodFilter å¸®å©æä»¬å° POST è¯·æ±è½¬æ¢ä¸º DELETE æ PUT è¯·æ±\n\nHiddenHttpMethodFilter å¤çputådeleteè¯·æ±çæ¡ä»¶ï¼\n\na>å½åè¯·æ±çè¯·æ±æ¹å¼å¿é¡»ä¸ºpost\n\nb>å½åè¯·æ±å¿é¡»ä¼ è¾è¯·æ±åæ°_method\n\næ»¡è¶³ä»¥ä¸æ¡ä»¶ï¼HiddenHttpMethodFilter è¿æ»¤å¨å°±ä¼å°å½åè¯·æ±çè¯·æ±æ¹å¼è½¬æ¢ä¸ºè¯·æ±åæ°_methodçå¼ï¼å æ­¤è¯·æ±åæ°_methodçå¼ææ¯æç»çè¯·æ±æ¹å¼\n\nå¨web.xmlä¸­æ³¨åHiddenHttpMethodFilter\n\n<filter>\n    <filter-name>HiddenHttpMethodFilter</filter-name>\n    <filter-class>org.springframework.web.filter.HiddenHttpMethodFilter</filter-class>\n</filter>\n<filter-mapping>\n    <filter-name>HiddenHttpMethodFilter</filter-name>\n    <url-pattern>/*</url-pattern>\n</filter-mapping>\n\n\n<form th:action="@{/user}" method="post">\n    <input type="hidden" name="_method" value="PUT">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    <input type="submit" value="ä¿®æ¹"><br>\n</form>\n\n\n\n> æ³¨ï¼\n> \n> ç®åä¸ºæ­¢ï¼SpringMVCä¸­æä¾äºä¸¤ä¸ªè¿æ»¤å¨ï¼CharacterEncodingFilteråHiddenHttpMethodFilter\n> \n> å¨web.xmlä¸­æ³¨åæ¶ï¼å¿é¡»åæ³¨åCharacterEncodingFilterï¼åæ³¨åHiddenHttpMethodFilter\n> \n> åå ï¼\n> \n>  * å¨ CharacterEncodingFilter ä¸­éè¿ request.setCharacterEncoding(encoding) æ¹æ³è®¾ç½®å­ç¬¦éç\n> \n>  * request.setCharacterEncoding(encoding) æ¹æ³è¦æ±åé¢ä¸è½æä»»ä½è·åè¯·æ±åæ°çæä½\n> \n>  * è HiddenHttpMethodFilter æ°æ°æä¸ä¸ªè·åè¯·æ±æ¹å¼çæä½ï¼\n> \n>  * String paramValue = request.getParameter(this.methodParam);\n>    \n\n\n# å«ãRESTfulæ¡ä¾\n\n\n# 1ãåå¤å·¥ä½\n\nåä¼ ç» CRUD ä¸æ ·ï¼å®ç°å¯¹åå·¥ä¿¡æ¯çå¢å æ¹æ¥ã\n\n * æ­å»ºç¯å¢\n\n * åå¤å®ä½ç±»\n   \n   package com.atguigu.mvc.bean;\n   \n   public class Employee {\n   \n      private Integer id;\n      private String lastName;\n   \n      private String email;\n      //1 male, 0 female\n      private Integer gender;\n      \n      public Integer getId() {\n         return id;\n      }\n   \n      public void setId(Integer id) {\n         this.id = id;\n      }\n   \n      public String getLastName() {\n         return lastName;\n      }\n   \n      public void setLastName(String lastName) {\n         this.lastName = lastName;\n      }\n   \n      public String getEmail() {\n         return email;\n      }\n   \n      public void setEmail(String email) {\n         this.email = email;\n      }\n   \n      public Integer getGender() {\n         return gender;\n      }\n   \n      public void setGender(Integer gender) {\n         this.gender = gender;\n      }\n   \n      public Employee(Integer id, String lastName, String email, Integer gender) {\n         super();\n         this.id = id;\n         this.lastName = lastName;\n         this.email = email;\n         this.gender = gender;\n      }\n   \n      public Employee() {\n      }\n   }\n   \n\n * åå¤daoæ¨¡ææ°æ®\n   \n   package com.atguigu.mvc.dao;\n   \n   import java.util.Collection;\n   import java.util.HashMap;\n   import java.util.Map;\n   \n   import com.atguigu.mvc.bean.Employee;\n   import org.springframework.stereotype.Repository;\n   \n   \n   @Repository\n   public class EmployeeDao {\n   \n      private static Map<Integer, Employee> employees = null;\n      \n      static{\n         employees = new HashMap<Integer, Employee>();\n   \n         employees.put(1001, new Employee(1001, "E-AA", "aa@163.com", 1));\n         employees.put(1002, new Employee(1002, "E-BB", "bb@163.com", 1));\n         employees.put(1003, new Employee(1003, "E-CC", "cc@163.com", 0));\n         employees.put(1004, new Employee(1004, "E-DD", "dd@163.com", 0));\n         employees.put(1005, new Employee(1005, "E-EE", "ee@163.com", 1));\n      }\n      \n      private static Integer initId = 1006;\n      \n      public void save(Employee employee){\n         if(employee.getId() == null){\n            employee.setId(initId++);\n         }\n         employees.put(employee.getId(), employee);\n      }\n      \n      public Collection<Employee> getAll(){\n         return employees.values();\n      }\n      \n      public Employee get(Integer id){\n         return employees.get(id);\n      }\n      \n      public void delete(Integer id){\n         employees.remove(id);\n      }\n   }\n   \n\n\n# 2ãåè½æ¸å\n\nåè½           URL å°å        è¯·æ±æ¹å¼\nè®¿é®é¦é¡µâ        /             GET\næ¥è¯¢å¨é¨æ°æ®â      /employee     GET\nå é¤â          /employee/2   DELETE\nè·³è½¬å°æ·»å æ°æ®é¡µé¢â   /toAdd        GET\næ§è¡ä¿å­â        /employee     POST\nè·³è½¬å°æ´æ°æ°æ®é¡µé¢â   /employee/2   GET\næ§è¡æ´æ°â        /employee     PUT\n\n\n# 3ãå·ä½åè½ï¼è®¿é®é¦é¡µ\n\n# a>éç½®view-controller\n\nè¿éå°±ä¸åæ§å¶å¨æ¹æ³äº\n\n<mvc:view-controller path="/" view-name="index"/>\n\n\n# b>åå»ºé¡µé¢\n\n<!DOCTYPE html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="UTF-8" >\n    <title>Title</title>\n</head>\n<body>\n<h1>é¦é¡µ</h1>\n<a th:href="@{/employee}">è®¿é®åå·¥ä¿¡æ¯</a>\n</body>\n</html>\n\n\n\n# 4ãå·ä½åè½ï¼æ¥è¯¢ææåå·¥æ°æ®\n\n# a>æ§å¶å¨æ¹æ³\n\n@RequestMapping(value = "/employee", method = RequestMethod.GET)\npublic String getEmployeeList(Model model){\n    Collection<Employee> employeeList = employeeDao.getAll();\n    model.addAttribute("employeeList", employeeList);\n    return "employee_list";\n}\n\n\n# b>åå»ºemployee_list.html\n\n<!DOCTYPE html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="UTF-8">\n    <title>Employee Info</title>\n    <script type="text/javascript" th:src="@{/static/js/vue.js}"><\/script>\n</head>\n<body>\n\n    <table border="1" cellpadding="0" cellspacing="0" style="text-align: center;" id="dataTable">\n        <tr>\n            <th colspan="5">Employee Info</th>\n        </tr>\n        <tr>\n            <th>id</th>\n            <th>lastName</th>\n            <th>email</th>\n            <th>gender</th>\n            <th>options(<a th:href="@{/toAdd}">add</a>)</th>\n        </tr>\n\n        **th:eachæ¯ä»ä¹ææ**\n        <tr th:each="employee : ${employeeList}">\n            <td th:text="${employee.id}"></td>\n            <td th:text="${employee.lastName}"></td>\n            <td th:text="${employee.email}"></td>\n            <td th:text="${employee.gender}"></td>\n            <td>\n                \x3c!-- "@{/employee/${employee.id}}" åæ³æ¯éè¯¯çï¼å ä¸º$ä¼è¢«å½æç¬¦å·è¿è¡è§£æ\n                \'/employee/\'è¡¨ç¤ºè¯·æ±å°å --\x3e\n                <a class="deleteA" @click="deleteEmployee" th:href="@{\'/employee/\'+${employee.id}}">delete</a>\n                \x3c!-- æè --\x3e\n                <a class="deleteA" @click="deleteEmployee" th:href="@{/employee/} + ${employee.id}">delete</a>\n                \x3c!-- ä¸è¿°ä¸¤ç§æ¹æ³é½æ¯æ­£ç¡®ç  --\x3e\n\n                <a th:href="@{\'/employee/\'+${employee.id}}">update</a>\n            </td>\n        </tr>\n    </table>\n</body>\n</html>\n\n\nth:eachæ¯ä»ä¹ææï¼ï¼ï¼å¤ä¹ åç«¯ç¥è¯\n\n\n# 5ãå·ä½åè½ï¼å é¤\n\n# a>åå»ºå¤çdeleteè¯·æ±æ¹å¼çè¡¨å\n\n\x3c!-- ä½ç¨ï¼éè¿è¶é¾æ¥æ§å¶è¡¨åçæäº¤ï¼å°postè¯·æ±è½¬æ¢ä¸ºdeleteè¯·æ± --\x3e\n<form id="delete_form" method="post">\n    \x3c!-- HiddenHttpMethodFilterè¦æ±ï¼å¿é¡»ä¼ è¾_methodè¯·æ±åæ°ï¼å¹¶ä¸å¼ä¸ºæç»çè¯·æ±æ¹å¼ --\x3e\n    <input type="hidden" name="_method" value="delete"/>\n</form>\n\n\n# b>å é¤è¶é¾æ¥ç»å®ç¹å»äºä»¶\n\nå¼å¥vue.js\n\n<script type="text/javascript" th:src="@{/static/js/vue.js}"><\/script>\n\n\nå é¤è¶é¾æ¥\n\n<a class="deleteA" @click="deleteEmployee" th:href="@{\'/employee/\'+${employee.id}}">delete</a>\n\n\néè¿vueå¤çç¹å»äºä»¶\n\n<script type="text/javascript">\n    var vue = new Vue({\n        el:"#dataTable",\n        methods:{\n            //eventè¡¨ç¤ºå½åäºä»¶\n            deleteEmployee:function (event) {\n                //éè¿idè·åè¡¨åæ ç­¾\n                var delete_form = document.getElementById("delete_form");\n                //å°è§¦åäºä»¶çè¶é¾æ¥çhrefå±æ§ä¸ºè¡¨åçactionå±æ§èµå¼\n                delete_form.action = event.target.href;\n                //æäº¤è¡¨å\n                delete_form.submit();\n                //é»æ­¢è¶é¾æ¥çé»è®¤è·³è½¬è¡ä¸º\n                event.preventDefault();\n            }\n        }\n    });\n<\/script>\n\n\n# c> å¼æ¾éæèµæºè®¿é®\n\n<mvc:default-servlet-handler />\n\n\nspringmvcåå¤çè¯·æ±ï¼è½å¤çå°±ä¼è¢«å¤çï¼ä¸è½å¤çå°±ä¼äº¤ç»ä»å¤©çserveletå¤çï¼serveletè½å¤çå°±å¤çï¼ä¸è½å¤çé»è®¤çserveletæ¥é\n\n# d>æ§å¶å¨æ¹æ³\n\n@RequestMapping(value = "/employee/{id}", method = RequestMethod.DELETE)\npublic String deleteEmployee(@PathVariable("id") Integer id){\n    employeeDao.delete(id);\n    return "redirect:/employee";\n}\n\n\n\n# 6ãå·ä½åè½ï¼è·³è½¬å°æ·»å æ°æ®é¡µé¢\n\n# a>éç½®view-controller\n\n<mvc:view-controller path="/toAdd" view-name="employee_add"></mvc:view-controller>\n\n\n# b>åå»ºemployee_add.html\n\n<!DOCTYPE html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="UTF-8">\n    <title>Add Employee</title>\n</head>\n<body>\n\n<form th:action="@{/employee}" method="post">\n    lastName:<input type="text" name="lastName"><br>\n    email:<input type="text" name="email"><br>\n    gender:<input type="radio" name="gender" value="1">male\n    <input type="radio" name="gender" value="0">female<br>\n    <input type="submit" value="add"><br>\n</form>\n\n</body>\n</html>\n\n\n\n# 7ãå·ä½åè½ï¼æ§è¡ä¿å­\n\n# a>æ§å¶å¨æ¹æ³\n\n@RequestMapping(value = "/employee", method = RequestMethod.POST)\npublic String addEmployee(Employee employee){\n    employeeDao.save(employee);\n    return "redirect:/employee";\n}\n\n\n\n# 8ãå·ä½åè½ï¼è·³è½¬å°æ´æ°æ°æ®é¡µé¢\n\n# a>ä¿®æ¹è¶é¾æ¥\n\n<a th:href="@{\'/employee/\'+${employee.id}}">update</a>\n\n\n# b>æ§å¶å¨æ¹æ³\n\n@RequestMapping(value = "/employee/{id}", method = RequestMethod.GET)\npublic String getEmployeeById(@PathVariable("id") Integer id, Model model){\n    Employee employee = employeeDao.get(id);\n    model.addAttribute("employee", employee);\n    return "employee_update";\n}\n\n\n# c>åå»ºemployee_update.html\n\n<!DOCTYPE html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="UTF-8">\n    <title>Update Employee</title>\n</head>\n<body>\n\n<form th:action="@{/employee}" method="post">\n    <input type="hidden" name="_method" value="put">\n    <input type="hidden" name="id" th:value="${employee.id}">\n    lastName:<input type="text" name="lastName" th:value="${employee.lastName}"><br>\n    email:<input type="text" name="email" th:value="${employee.email}"><br>\n    \x3c!--\n        th:field="${employee.gender}"å¯ç¨äºåéæ¡æå¤éæ¡çåæ¾\n        è¥åéæ¡çvalueåemployee.genderçå¼ä¸è´ï¼åæ·»å checked="checked"å±æ§\n    --\x3e\n    gender:<input type="radio" name="gender" value="1" th:field="${employee.gender}">male\n    <input type="radio" name="gender" value="0" th:field="${employee.gender}">female<br>\n    <input type="submit" value="update"><br>\n</form>\n\n</body>\n</html>\n\n\n\n# 9ãå·ä½åè½ï¼æ§è¡æ´æ°\n\n# a>æ§å¶å¨æ¹æ³\n\n@RequestMapping(value = "/employee", method = RequestMethod.PUT)\npublic String updateEmployee(Employee employee){\n    employeeDao.save(employee);\n    return "redirect:/employee";\n}\n\n\n\n# å«ãHttpMessageConverter\n\nHttpMessageConverterï¼æ¥æä¿¡æ¯è½¬æ¢å¨ï¼å°è¯·æ±æ¥æè½¬æ¢ä¸ºJavaå¯¹è±¡ï¼æµè§å¨è¯·æ±æå¡å¨ï¼ï¼æå°Javaå¯¹è±¡è½¬æ¢ä¸ºååºæ¥æï¼æå¡å¨ç¸åºæµè§å¨ï¼\n\nHttpMessageConverteræä¾äºä¸¤ä¸ªæ³¨è§£åä¸¤ä¸ªç±»åï¼@RequestBodyï¼@ResponseBodyï¼RequestEntityï¼\n\nResponseEntity\n\n\n# 1ã@RequestBody\n\n@RequestBodyå¯ä»¥è·åè¯·æ±ä½ï¼éè¦å¨æ§å¶å¨æ¹æ³è®¾ç½®ä¸ä¸ªå½¢åï¼ä½¿ç¨@RequestBodyè¿è¡æ è¯ï¼å½åè¯·æ±çè¯·æ±ä½å°±ä¼ä¸ºå½åæ³¨è§£ææ è¯çå½¢åèµå¼\n\n<form th:action="@{/testRequestBody}" method="post">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    <input type="submit">\n</form>\n\n\n@RequestMapping("/testRequestBody")\npublic String testRequestBody(@RequestBody String requestBody){\n    System.out.println("requestBody:"+requestBody);\n    return "success";\n}\n\n\nè¾åºç»æï¼\n\nrequestBody:username=admin&password=123456\n\n\n# 2ãRequestEntity\n\nRequestEntityå°è£è¯·æ±æ¥æçä¸ç§ç±»åï¼éè¦å¨æ§å¶å¨æ¹æ³çå½¢åä¸­è®¾ç½®è¯¥ç±»åçå½¢åï¼å½åè¯·æ±çè¯·æ±æ¥æå°±ä¼èµå¼ç»è¯¥å½¢åï¼å¯ä»¥éè¿getHeaders()è·åè¯·æ±å¤´ä¿¡æ¯ï¼éè¿getBody()è·åè¯·æ±ä½ä¿¡æ¯\n\n@RequestMapping("/testRequestEntity")\npublic String testRequestEntity(RequestEntity<String> requestEntity){\n    System.out.println("requestHeader:"+requestEntity.getHeaders());\n    System.out.println("requestBody:"+requestEntity.getBody());\n    return "success";\n}\n\n\nè¾åºç»æï¼ requestHeader:[host:"localhost:8080", connection:"keep-alive", content-length:"27", cache-control:"max-age=0", sec-ch-ua:"" Not A;Brand";v="99", "Chromium";v="90", "Google Chrome";v="90"", sec-ch-ua-mobile:"?0", upgrade-insecure-requests:"1", origin:"http://localhost:8080", user-agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"] requestBody:username=admin&password=123\n\n\n# 3ã@ResponseBodyï¼ç¨çæå¤ï¼\n\n@ResponseBodyç¨äºæ è¯ä¸ä¸ªæ§å¶å¨æ¹æ³ï¼å¯ä»¥å°è¯¥æ¹æ³çè¿åå¼ç´æ¥ä½ä¸ºååºæ¥æçååºä½ååºå°æµè§å¨\n\n@RequestMapping("/testResponseBody")\n@ResponseBody\npublic String testResponseBody(){\n    return "success";\n}\n\n\nä¹å°±æ¯å ä¸ResponseBodyç´æ¥è¿åå­ç¬¦ä¸²ï¼ä¸å åä¼æ¼æ¥"åç¼+è¿åå­ç¬¦ä¸²+åç¼"å¹¶æå¼æ°é¡µé¢è¿è¡å±ç¤ºä¿¡æ¯\n\nç»æï¼æµè§å¨é¡µé¢æ¾ç¤ºsuccess\n\nè¿éè¦å­¦ä¹ ä¸ä¸javawebä¸­çhttpservletResponseå¯¹äºæµè§å¨æ°æ®çååº\n\n\n# 4ãSpringMVCå¤çjson\n\n@ResponseBodyå¤çjsonçæ­¥éª¤ï¼\n\na>å¯¼å¥jacksonçä¾èµ\n\n<dependency>\n    <groupId>com.fasterxml.jackson.core</groupId>\n    <artifactId>jackson-databind</artifactId>\n    <version>2.12.1</version>\n</dependency>\n\n\nb>å¨SpringMVCçæ ¸å¿éç½®æä»¶ä¸­å¼å¯mvcçæ³¨è§£é©±å¨ï¼æ­¤æ¶å¨HandlerAdaptorä¸­ä¼èªå¨è£éä¸ä¸ªæ¶æ¯è½¬æ¢å¨ï¼MappingJackson2HttpMessageConverterï¼å¯ä»¥å°ååºå°æµè§å¨çJavaå¯¹è±¡è½¬æ¢ä¸ºJsonæ ¼å¼çå­ç¬¦ä¸²\n\n<mvc:annotation-driven />\n\n\nc>å¨å¤çå¨æ¹æ³ä¸ä½¿ç¨@ResponseBodyæ³¨è§£è¿è¡æ è¯\n\nd>å°Javaå¯¹è±¡ç´æ¥ä½ä¸ºæ§å¶å¨æ¹æ³çè¿åå¼è¿åï¼å°±ä¼èªå¨è½¬æ¢ä¸ºJsonæ ¼å¼çå­ç¬¦ä¸²\n\n@RequestMapping("/testResponseUser")\n@ResponseBody\npublic User testResponseUser(){\n    return new User(1001,"admin","123456",23,"ç·");\n}\n\n\næµè§å¨çé¡µé¢ä¸­å±ç¤ºçç»æï¼\n\n{"id":1001,"username":"admin","password":"123456","age":23,"sex":"ç·"}\n\n\n# 5ãSpringMVCå¤çajax\n\na>è¯·æ±è¶é¾æ¥ï¼\n\n<div id="app">\n\t<a th:href="@{/testAjax}" @click="testAjax">testAjax</a><br>\n</div>\n\n\nb>éè¿vueåaxioså¤çç¹å»äºä»¶ï¼\n\n<script type="text/javascript" th:src="@{/static/js/vue.js}"><\/script>\n<script type="text/javascript" th:src="@{/static/js/axios.min.js}"><\/script>\n<script type="text/javascript">\n    var vue = new Vue({\n        el:"#app",\n        methods:{\n            testAjax:function (event) {\n                axios({\n                    method:"post",\n                    url:event.target.href,\n                    params:{\n                        username:"admin",\n                        password:"123456"\n                    }\n                }).then(function (response) {\n                    alert(response.data);\n                });\n                event.preventDefault();\n            }\n        }\n    });\n<\/script>\n\n\nc>æ§å¶å¨æ¹æ³ï¼\n\n@RequestMapping("/testAjax")\n@ResponseBody\npublic String testAjax(String username, String password){\n    System.out.println("username:"+username+",password:"+password);\n    return "hello,ajax";\n}\n\n\n\n# 6ã@RestControlleræ³¨è§£\n\n@RestControlleræ³¨è§£æ¯springMVCæä¾çä¸ä¸ªå¤åæ³¨è§£ï¼æ è¯å¨æ§å¶å¨çç±»ä¸ï¼å°±ç¸å½äºä¸ºç±»æ·»å äº@Controlleræ³¨è§£ï¼å¹¶ä¸ä¸ºå¶ä¸­çæ¯ä¸ªæ¹æ³æ·»å äº@ResponseBodyæ³¨è§£\n\n\n# 7ãResponseEntity\n\nResponseEntityç¨äºæ§å¶å¨æ¹æ³çè¿åå¼ç±»åï¼è¯¥æ§å¶å¨æ¹æ³çè¿åå¼å°±æ¯ååºå°æµè§å¨çååºæ¥æ\n\n\n# ä¹ãæä»¶ä¸ä¼ åä¸è½½\n\n\n# 1ãæä»¶ä¸è½½\n\nä½¿ç¨ResponseEntityå®ç°ä¸è½½æä»¶çåè½\n\n@RequestMapping("/testDown")\npublic ResponseEntity<byte[]> testResponseEntity(HttpSession session) throws IOException {\n    //è·åServletContextå¯¹è±¡\n    ServletContext servletContext = session.getServletContext();\n    //è·åæå¡å¨ä¸­æä»¶ççå®è·¯å¾\n    String realPath = servletContext.getRealPath("/static/https://cdn.jsdelivr.net/gh/leejiayang/BlogImages@main/springmvc/1.jpg");\n    //åå»ºè¾å¥æµ\n    InputStream is = new FileInputStream(realPath);\n    //åå»ºå­èæ°ç»\n    byte[] bytes = new byte[is.available()];\n    //å°æµè¯»å°å­èæ°ç»ä¸­\n    is.read(bytes);\n    //åå»ºHttpHeaderså¯¹è±¡è®¾ç½®ååºå¤´ä¿¡æ¯\n    MultiValueMap<String, String> headers = new HttpHeaders();\n    //è®¾ç½®è¦ä¸è½½æ¹å¼ä»¥åä¸è½½æä»¶çåå­\n    headers.add("Content-Disposition", "attachment;filename=1.jpg");\n    //è®¾ç½®ååºç¶æç \n    HttpStatus statusCode = HttpStatus.OK;\n    //åå»ºResponseEntityå¯¹è±¡\n    ResponseEntity<byte[]> responseEntity = new ResponseEntity<>(bytes, headers, statusCode);\n    //å³é­è¾å¥æµ\n    is.close();\n    return responseEntity;\n}\n\n\n\n# 2ãæä»¶ä¸ä¼ \n\næä»¶ä¸ä¼ è¦æ±formè¡¨åçè¯·æ±æ¹å¼å¿é¡»ä¸ºpostï¼å¹¶ä¸æ·»å å±æ§enctype="multipart/form-data"\n\nSpringMVCä¸­å°ä¸ä¼ çæä»¶å°è£å°MultipartFileå¯¹è±¡ä¸­ï¼éè¿æ­¤å¯¹è±¡å¯ä»¥è·åæä»¶ç¸å³ä¿¡æ¯\n\nä¸ä¼ æ­¥éª¤ï¼\n\na>æ·»å ä¾èµï¼\n\n\x3c!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --\x3e\n<dependency>\n    <groupId>commons-fileupload</groupId>\n    <artifactId>commons-fileupload</artifactId>\n    <version>1.3.1</version>\n</dependency>\n\n\nb>å¨SpringMVCçéç½®æä»¶ä¸­æ·»å éç½®ï¼\n\n\x3c!--å¿é¡»éè¿æä»¶è§£æå¨çè§£ææè½å°æä»¶è½¬æ¢ä¸ºMultipartFileå¯¹è±¡--\x3e\n<bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"></bean>\n\n\nc>æ§å¶å¨æ¹æ³ï¼\n\n@RequestMapping("/testUp")\npublic String testUp(MultipartFile photo, HttpSession session) throws IOException {\n    //è·åä¸ä¼ çæä»¶çæä»¶å\n    String fileName = photo.getOriginalFilename();\n    //å¤çæä»¶éåé®é¢\n    // è·ååç¼å\n    String hzName = fileName.substring(fileName.lastIndexOf("."));\n    // å°UUIDååç¼åæ¼æ¥çæ­£çæä»¶å\n    fileName = UUID.randomUUID().toString() + hzName;\n    //è·åæå¡å¨ä¸­photoç®å½çè·¯å¾\n    ServletContext servletContext = session.getServletContext();\n    String photoPath = servletContext.getRealPath("photo");\n    File file = new File(photoPath);\n    if(!file.exists()){\n        file.mkdir();\n    }\n    String finalPath = photoPath + File.separator + fileName;\n    //å®ç°ä¸ä¼ åè½\n    photo.transferTo(new File(finalPath));\n    return "success";\n}\n\n\n\n# åãæ¦æªå¨\n\n\n# 1ãæ¦æªå¨çéç½®\n\nSpringMVCä¸­çæ¦æªå¨ç¨äºæ¦æªæ§å¶å¨æ¹æ³çæ§è¡\n\nSpringMVCä¸­çæ¦æªå¨éè¦å®ç°HandlerInterceptoræèHandlerInterceptorAdapter(å·²è¿æ¶)ï¼éåä¸é¢çä¸ä¸ªæ¹æ³\n\näºå®ä¸æ¯HandlerInterceptorAdapterç»§æ¿äºASyncHandlerInterceptor, AsyncHandlerInterceptoråç»§æ¿äºHandlerInterceptor\n\nSpringMVCçæ¦æªå¨å¿é¡»å¨SpringMVCçéç½®æä»¶ä¸­è¿è¡éç½®ï¼\n\næç®åçéç½®æ¹æ³ï¼ç¬¬ä¸ç§éç½®æ¹æ³ï¼ è¡¨ç¤ºä¸ä¸ªå¯¹è±¡\n\nå¾çéé¢çè®¾ç½®ä¹ä¼è¢«æ¦æªï¼å ä¸ºæ¬è´¨ä¸è¿ä¸ªä¹æ¯æ§å¶å¨æ¹æ³\n\n\n\n\n\nç¬¬äºç§éç½®æ¹æ³\n<mvc:interceptor>\n\x3c!-- <bean class="com.atguigu.interceptor.FirstInterceptor"></bean> --\x3e\n<ref bean="firstInterceptor"></ref>\n</mvc:interceptor>\n\x3c!-- ä»¥ä¸ä¸¤ç§éç½®æ¹å¼é½æ¯å¯¹DispatcherServletæå¤ççææçè¯·æ±è¿è¡æ¦æª --\x3e\n<mvc:interceptor>\n\x3c!-- æ¦æªææè¯·æ± --\x3e\n\x3c!-- è¿éç/*è¡¨ç¤ºè®¿é®è¯¥é¡µé¢çä¸ä¸ä¸å±ç®å½ --\x3e\n<mvc:mapping path="/*"/>\n    <mvc:mapping path="/**"/>\n    \x3c!-- æé¤ä¸æ¦æªçç¹æ®æåµ --\x3e\n    <mvc:exclude-mapping path="/testRequestEntity"/>\n    \x3c!-- æå®æ¦æª å¨ --\x3e\n    <ref bean="firstInterceptor"></ref>\n</mvc:interceptor>\n\x3c!-- \n\tä»¥ä¸éç½®æ¹å¼å¯ä»¥éè¿refæbeanæ ç­¾è®¾ç½®æ¦æªå¨ï¼éè¿mvc:mappingè®¾ç½®éè¦æ¦æªçè¯·æ±ï¼éè¿mvc:exclude-mappingè®¾ç½®éè¦æé¤çè¯·æ±ï¼å³ä¸éè¦æ¦æªçè¯·æ±\n--\x3e\n\n\n\n# 2ãæ¦æªå¨çä¸ä¸ªæ½è±¡æ¹æ³\n\nè¿æ»¤å¨çæ¦æªå¨çåºå«æ¯ä»ä¹ï¼ï¼ SpringMVCä¸­çæ¦æªå¨æä¸ä¸ªæ½è±¡æ¹æ³ï¼\n\npreHandleï¼æ§å¶å¨æ¹æ³æ§è¡ä¹åæ§è¡preHandle()ï¼å¶booleanç±»åçè¿åå¼è¡¨ç¤ºæ¯å¦æ¦æªææ¾è¡ï¼è¿åtrueä¸ºæ¾è¡ï¼å³è°ç¨æ§å¶å¨æ¹æ³ï¼è¿åfalseè¡¨ç¤ºæ¦æªï¼å³ä¸è°ç¨æ§å¶å¨æ¹æ³\n\npostHandleï¼æ§å¶å¨æ¹æ³æ§è¡ä¹åæ§è¡postHandle()\n\nafterComplationï¼å¤çå®è§å¾åæ¨¡åæ°æ®ï¼æ¸²æè§å¾å®æ¯ä¹åæ§è¡afterComplation()\n\n\n# 3ãå¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº\n\na>è¥æ¯ä¸ªæ¦æªå¨çpreHandle()é½è¿åtrue\n\næ­¤æ¶å¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåºåæ¦æªå¨å¨SpringMVCçéç½®æä»¶çéç½®é¡ºåºæå³ï¼\n\npreHandle()ä¼æç§éç½®çé¡ºåºæ§è¡ï¼èpostHandle()åafterComplation()ä¼æç§éç½®çååºæ§è¡\n\nb>è¥æä¸ªæ¦æªå¨çpreHandle()è¿åäºfalse\n\npreHandle()è¿åfalseåå®ä¹åçæ¦æªå¨çpreHandle()é½ä¼æ§è¡ï¼postHandle()é½ä¸æ§è¡ï¼è¿åfalseçæ¦æªå¨ä¹åçæ¦æªå¨çafterComplation()ä¼æ§è¡\n\n\n# åä¸ãå¼å¸¸å¤çå¨(åºç°å¼å¸¸è·³è½¬æå®é¡µé¢)\n\n\n# 1ãåºäºéç½®çå¼å¸¸å¤ç\n\nSpringMVCæä¾äºä¸ä¸ªå¤çæ§å¶å¨æ¹æ³æ§è¡è¿ç¨ä¸­æåºç°çå¼å¸¸çæ¥å£ï¼HandlerExceptionResolver\n\nHandlerExceptionResolveræ¥å£çå®ç°ç±»æï¼DefaultHandlerExceptionResolveråSimpleMappingExceptionResolver\n\nSpringMVCæä¾äºèªå®ä¹çå¼å¸¸å¤çå¨SimpleMappingExceptionResolverï¼ä½¿ç¨æ¹å¼ï¼\n\n<bean class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver">\n    <property name="exceptionMappings">\n        <props>\n        \t\x3c!--\n        \t\tpropertiesçé®è¡¨ç¤ºå¤çå¨æ¹æ³æ§è¡è¿ç¨ä¸­åºç°çå¼å¸¸\n        \t\tpropertiesçå¼è¡¨ç¤ºè¥åºç°æå®å¼å¸¸æ¶ï¼è®¾ç½®ä¸ä¸ªæ°çè§å¾åç§°ï¼è·³è½¬å°æå®é¡µé¢,themeleafè¿è¡è§£æï¼åä¹å çè§£æè§åä¸è´\n        \t--\x3e\n            <prop key="java.lang.ArithmeticException">error</prop>\n        </props>\n    </property>\n    \x3c!--\n    \texceptionAttributeå±æ§è®¾ç½®ä¸ä¸ªå±æ§åï¼å°åºç°çå¼å¸¸ä¿¡æ¯å¨è¯·æ±åä¸­è¿è¡å±äº«\n    --\x3e\n\n\n    <property name="exceptionAttribute" value="ex"></property>\n</bean>\n\n\n\n# 2ãåºäºæ³¨è§£çå¼å¸¸å¤ç\n\n//@ControllerAdviceå°å½åç±»æ è¯ä¸ºå¼å¸¸å¤ççç»ä»¶\n@ControllerAdvice\npublic class ExceptionController {\n\n    //@ExceptionHandlerç¨äºè®¾ç½®ææ è¯æ¹æ³å¤ççå¼å¸¸\n    @ExceptionHandler(value = ArithmeticException.class, NullPointerException.class)\n    //exè¡¨ç¤ºå½åè¯·æ±å¤çä¸­åºç°çå¼å¸¸å¯¹è±¡\n    public String handleArithmeticException(Exception ex, Model model){\n        model.addAttribute("ex", ex);\n        return "error";\n    }\n\n}\n\n\n\n# åäºãæ³¨è§£éç½®SpringMVC\n\nä½¿ç¨éç½®ç±»åæ³¨è§£ä»£æ¿web.xmlåSpringMVCéç½®æä»¶çåè½\n\n\n# 1ãåå»ºåå§åç±»ï¼ä»£æ¿web.xml\n\nå¨Servlet3.0ç¯å¢ä¸­ï¼å®¹å¨ä¼å¨ç±»è·¯å¾ä¸­æ¥æ¾å®ç°javax.servlet.ServletContainerInitializeræ¥å£çç±»ï¼å¦ææ¾å°çè¯å°±ç¨å®æ¥éç½®Servletå®¹å¨ã\n\nSpringæä¾äºè¿ä¸ªæ¥å£çå®ç°ï¼åä¸ºSpringServletContainerInitializerï¼è¿ä¸ªç±»åè¿æ¥åä¼æ¥æ¾å®ç°WebApplicationInitializerçç±»å¹¶å°éç½®çä»»å¡äº¤ç»å®ä»¬æ¥å®æã\n\nSpring3.2å¼å¥äºä¸ä¸ªä¾¿å©çWebApplicationInitializeråºç¡å®ç°ï¼åä¸ºAbstractAnnotationConfigDispatcherServletInitializerï¼å½æä»¬çç±»æ©å±äºAbstractAnnotationConfigDispatcherServletInitializerå¹¶å°å¶é¨ç½²å°Servlet3.0å®¹å¨çæ¶åï¼å®¹å¨ä¼èªå¨åç°å®ï¼å¹¶ç¨å®æ¥éç½®Servletä¸ä¸æã\n\npublic class WebInit extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n    /**\n     * æå®springçéç½®ç±»\n     * @return\n     */\n    @Override\n    protected Class<?>[] getRootConfigClasses() {\n        return new Class[]{SpringConfig.class};\n    }\n\n    /**\n     * æå®SpringMVCçéç½®ç±»\n     * @return\n     */\n    @Override\n    protected Class<?>[] getServletConfigClasses() {\n        // è¿åclassæ°ç»\n        return new Class[]{WebConfig.class};\n    }\n\n    /**\n     * æå®DispatcherServletçæ å°è§å(æ å°è§å)ï¼å³url-pattern\n     * @return\n     */\n    @Override\n    protected String[] getServletMappings() {\n        return new String[]{"/"};\n    }\n\n    /**\n     * æ·»å è¿æ»¤å¨\n     * @return\n     */\n    @Override\n    protected Filter[] getServletFilters() {\n        CharacterEncodingFilter encodingFilter = new CharacterEncodingFilter();\n        encodingFilter.setEncoding("UTF-8");\n        encodingFilter.setForceRequestEncoding(true);\n        HiddenHttpMethodFilter hiddenHttpMethodFilter = new HiddenHttpMethodFilter();\n        return new Filter[]{encodingFilter, hiddenHttpMethodFilter};\n    }\n}\n\n\n\n# 2ãåå»ºSpringConfigéç½®ç±»ï¼ä»£æ¿springçéç½®æä»¶\n\n@Configuration\npublic class SpringConfig {\n\t//ssmæ´åä¹åï¼springçéç½®ä¿¡æ¯åå¨æ­¤ç±»ä¸­\n}\n\n\n\n# 3ãåå»ºWebConfigéç½®ç±»ï¼ä»£æ¿SpringMVCçéç½®æä»¶\n\n\n// æ«æç»ä»¶\n// è§å¾è§£æå¨\n// viewcontroller\n// default-servlet-handler\n// MVCæ³¨è§£é©±å¨\n// æä»¶ä¸ä¼ è§£æå¨\n// å¼å¸¸å¤ç\n// æ¦æªå¨\n\n@Configuration\n//æ«æç»ä»¶\n@ComponentScan("com.atguigu.mvc.controller")\n//å¼å¯MVCæ³¨è§£é©±å¨\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    //ä½¿ç¨é»è®¤çservletå¤çéæèµæº\n    @Override\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\n        configurer.enable();\n    }\n\n    //éç½®æä»¶ä¸ä¼ è§£æå¨\n    @Bean\n    public CommonsMultipartResolver multipartResolver(){\n        return new CommonsMultipartResolver();\n    }\n\n    //éç½®æ¦æªå¨\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        FirstInterceptor firstInterceptor = new FirstInterceptor();\n\n        //  addPathPatternsæ·»å æ¦æªè§å\n        registry.addInterceptor(firstInterceptor).addPathPatterns("/**");\n    }\n    \n    //éç½®è§å¾æ§å¶\n    \n    /*@Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController("/").setViewName("index");\n    }*/\n    \n    //éç½®å¼å¸¸æ å°\n    /*@Override\n    public void configureHandlerExceptionResolvers(List<HandlerExceptionResolver> resolvers) {\n        SimpleMappingExceptionResolver exceptionResolver = new SimpleMappingExceptionResolver();\n        Properties prop = new Properties();\n        prop.setProperty("java.lang.ArithmeticException", "error");\n        //è®¾ç½®å¼å¸¸æ å°\n        exceptionResolver.setExceptionMappings(prop);\n        //è®¾ç½®å±äº«å¼å¸¸ä¿¡æ¯çé®\n        exceptionResolver.setExceptionAttribute("ex");\n        resolvers.add(exceptionResolver);\n    }*/\n\n    // æ³¨æï¼xmlè§å¾è§£æå¨è¦ä»éå°å¤éç½®\n    //éç½®çææ¨¡æ¿è§£æå¨\n    @Bean\n    public ITemplateResolver templateResolver() {\n        WebApplicationContext webApplicationContext = ContextLoader.getCurrentWebApplicationContext();\n        // ServletContextTemplateResolveréè¦ä¸ä¸ªServletContextä½ä¸ºæé åæ°ï¼å¯éè¿WebApplicationContext çæ¹æ³è·å¾\n        ServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver(\n                webApplicationContext.getServletContext());\n\n        // è§å¾åç¼\n        templateResolver.setPrefix("/WEB-INF/templates/");\n        // è§å¾åç¼\n        templateResolver.setSuffix(".html");\n        templateResolver.setCharacterEncoding("UTF-8");\n        templateResolver.setTemplateMode(TemplateMode.HTML);\n        return templateResolver;\n    }\n\n    //çææ¨¡æ¿å¼æå¹¶ä¸ºæ¨¡æ¿å¼ææ³¨å¥æ¨¡æ¿è§£æå¨\n    @Bean\n    public SpringTemplateEngine templateEngine(ITemplateResolver templateResolver) {\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver);\n        return templateEngine;\n    }\n\n    //çæè§å¾è§£æå¨å¹¶æªè§£æå¨æ³¨å¥æ¨¡æ¿å¼æ\n    @Bean\n    public ViewResolver viewResolver(SpringTemplateEngine templateEngine) {\n        ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\n        viewResolver.setCharacterEncoding("UTF-8");\n        viewResolver.setTemplateEngine(templateEngine);\n        return viewResolver;\n    }\n\n\n}\n\n\n\n# 4ãæµè¯åè½\n\n@RequestMapping("/")\npublic String index(){\n    return "index";\n}\n\n\n\n# åä¸ãSpringMVCæ§è¡æµç¨\n\n\n# 1ãSpringMVCå¸¸ç¨ç»ä»¶\n\n * DispatcherServletï¼åç«¯æ§å¶å¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾\n\nä½ç¨ï¼ç»ä¸å¤çè¯·æ±åååºï¼æ´ä¸ªæµç¨æ§å¶çä¸­å¿ï¼ç±å®è°ç¨å¶å®ç»ä»¶å¤çç¨æ·çè¯·æ±\n\n * HandlerMappingï¼å¤çå¨æ å°å¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾\n\nä½ç¨ï¼æ ¹æ®è¯·æ±çurlãmethodç­ä¿¡æ¯æ¥æ¾Handlerï¼å³æ§å¶å¨æ¹æ³\n\n * Handlerï¼å¤çå¨ï¼éè¦å·¥ç¨å¸å¼å\n\nä½ç¨ï¼å¨DispatcherServletçæ§å¶ä¸Handlerå¯¹å·ä½çç¨æ·è¯·æ±è¿è¡å¤ç\n\n * HandlerAdapterï¼å¤çå¨ééå¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾\n\nä½ç¨ï¼éè¿HandlerAdapterå¯¹å¤çå¨ï¼æ§å¶å¨æ¹æ³ï¼è¿è¡æ§è¡\n\n * ViewResolverï¼è§å¾è§£æå¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾ï¼é¡µé¢éè¦èªå·±åï¼\n\nä½ç¨ï¼è¿è¡è§å¾è§£æï¼å¾å°ç¸åºçè§å¾ï¼ä¾å¦ï¼ThymeleafViewãInternalResourceViewãRedirectView\n\n * Viewï¼è§å¾ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æèè§å¾ææ¯æä¾\n\nä½ç¨ï¼å°æ¨¡åæ°æ®éè¿é¡µé¢å±ç¤ºç»ç¨æ·\n\n\n\n\n# 2ãDispatcherServletåå§åè¿ç¨\n\nDispatcherServlet æ¬è´¨ä¸æ¯ä¸ä¸ª Servletï¼æä»¥å¤©ç¶çéµå¾ª Servlet ççå½å¨æãæä»¥å®è§ä¸æ¯ Servlet çå½å¨ææ¥è¿è¡è°åº¦ã\n\n\n\n# a>åå§åWebApplicationContext\n\næå¨ç±»ï¼org.springframework.web.servlet.FrameworkServlet\n\nprotected WebApplicationContext initWebApplicationContext() {\n    WebApplicationContext rootContext =\n        WebApplicationContextUtils.getWebApplicationContext(getServletContext());\n    WebApplicationContext wac = null;\n\n    if (this.webApplicationContext != null) {\n        // A context instance was injected at construction time -> use it\n        wac = this.webApplicationContext;\n        if (wac instanceof ConfigurableWebApplicationContext) {\n            ConfigurableWebApplicationContext cwac = (ConfigurableWebApplicationContext) wac;\n            if (!cwac.isActive()) {\n                // The context has not yet been refreshed -> provide services such as\n                // setting the parent context, setting the application context id, etc\n                if (cwac.getParent() == null) {\n                    // The context instance was injected without an explicit parent -> set\n                    // the root application context (if any; may be null) as the parent\n                    cwac.setParent(rootContext);\n                }\n                configureAndRefreshWebApplicationContext(cwac);\n            }\n        }\n    }\n    if (wac == null) {\n        // No context instance was injected at construction time -> see if one\n        // has been registered in the servlet context. If one exists, it is assumed\n        // that the parent context (if any) has already been set and that the\n        // user has performed any initialization such as setting the context id\n        wac = findWebApplicationContext();\n    }\n    if (wac == null) {\n        // No context instance is defined for this servlet -> create a local one\n        // åå»ºWebApplicationContext\n        wac = createWebApplicationContext(rootContext);\n    }\n\n    if (!this.refreshEventReceived) {\n        // Either the context is not a ConfigurableApplicationContext with refresh\n        // support or the context injected at construction time had already been\n        // refreshed -> trigger initial onRefresh manually here.\n        synchronized (this.onRefreshMonitor) {\n            // å·æ°WebApplicationContext\n            onRefresh(wac);\n        }\n    }\n\n    if (this.publishContext) {\n        // Publish the context as a servlet context attribute.\n        // å°IOCå®¹å¨å¨åºç¨åå±äº«\n        String attrName = getServletContextAttributeName();\n        getServletContext().setAttribute(attrName, wac);\n    }\n\n    return wac;\n}\n\n\n# b>åå»ºWebApplicationContext\n\næå¨ç±»ï¼org.springframework.web.servlet.FrameworkServlet\n\nprotected WebApplicationContext createWebApplicationContext(@Nullable ApplicationContext parent) {\n    Class<?> contextClass = getContextClass();\n    if (!ConfigurableWebApplicationContext.class.isAssignableFrom(contextClass)) {\n        throw new ApplicationContextException(\n            "Fatal initialization error in servlet with name \'" + getServletName() +\n            "\': custom WebApplicationContext class [" + contextClass.getName() +\n            "] is not of type ConfigurableWebApplicationContext");\n    }\n    // éè¿åå°åå»º IOC å®¹å¨å¯¹è±¡\n    ConfigurableWebApplicationContext wac =\n        (ConfigurableWebApplicationContext) BeanUtils.instantiateClass(contextClass);\n\n    wac.setEnvironment(getEnvironment());\n    // è®¾ç½®ç¶å®¹å¨\n    wac.setParent(parent);\n    String configLocation = getContextConfigLocation();\n    if (configLocation != null) {\n        wac.setConfigLocation(configLocation);\n    }\n    configureAndRefreshWebApplicationContext(wac);\n\n    return wac;\n}\n\n\n# c>DispatcherServletåå§åç­ç¥\n\nFrameworkServletåå»ºWebApplicationContextåï¼å·æ°å®¹å¨ï¼è°ç¨onRefresh(wac)ï¼æ­¤æ¹æ³å¨DispatcherServletä¸­è¿è¡äºéåï¼è°ç¨äºinitStrategies(context)æ¹æ³ï¼åå«èªå·±éè¦åå§åçæ¹æ³ï¼ï¼åå§åç­ç¥ï¼å³åå§åDispatcherServletçåä¸ªç»ä»¶\n\næå¨ç±»ï¼org.springframework.web.servlet.DispatcherServlet\n\nprotected void initStrategies(ApplicationContext context) {\n   initMultipartResolver(context);\n   initLocaleResolver(context);\n   initThemeResolver(context);\n   initHandlerMappings(context);\n   initHandlerAdapters(context);\n   initHandlerExceptionResolvers(context);\n   initRequestToViewNameTranslator(context);\n   initViewResolvers(context);\n   initFlashMapManager(context);\n}\n\n\n\n# 3ãDispatcherServletè°ç¨ç»ä»¶å¤çè¯·æ±\n\n# a>processRequest()\n\nFrameworkServletéåHttpServletä¸­çservice()ådoXxx()ï¼è¿äºæ¹æ³ä¸­è°ç¨äºprocessRequest(request, response)\n\næå¨ç±»ï¼org.springframework.web.servlet.FrameworkServlet\n\nprotected final void processRequest(HttpServletRequest request, HttpServletResponse response)\n    throws ServletException, IOException {\n\n    long startTime = System.currentTimeMillis();\n    Throwable failureCause = null;\n\n    LocaleContext previousLocaleContext = LocaleContextHolder.getLocaleContext();\n    LocaleContext localeContext = buildLocaleContext(request);\n\n    RequestAttributes previousAttributes = RequestContextHolder.getRequestAttributes();\n    ServletRequestAttributes requestAttributes = buildRequestAttributes(request, response, previousAttributes);\n\n    WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request);\n    asyncManager.registerCallableInterceptor(FrameworkServlet.class.getName(), new RequestBindingInterceptor());\n\n    initContextHolders(request, localeContext, requestAttributes);\n\n    try {\n\t\t// æ§è¡æå¡ï¼doService()æ¯ä¸ä¸ªæ½è±¡æ¹æ³ï¼å¨DispatcherServletä¸­è¿è¡äºéå\n        doService(request, response);\n    }\n    catch (ServletException | IOException ex) {\n        failureCause = ex;\n        throw ex;\n    }\n    catch (Throwable ex) {\n        failureCause = ex;\n        throw new NestedServletException("Request processing failed", ex);\n    }\n\n    finally {\n        resetContextHolders(request, previousLocaleContext, previousAttributes);\n        if (requestAttributes != null) {\n            requestAttributes.requestCompleted();\n        }\n        logResult(request, response, failureCause, asyncManager);\n        publishRequestHandledEvent(request, response, startTime, failureCause);\n    }\n}\n\n\n# b>doService()\n\næå¨ç±»ï¼org.springframework.web.servlet.DispatcherServlet\n\n@Override\nprotected void doService(HttpServletRequest request, HttpServletResponse response) throws Exception {\n    logRequest(request);\n\n    // Keep a snapshot of the request attributes in case of an include,\n    // to be able to restore the original attributes after the include.\n    Map<String, Object> attributesSnapshot = null;\n    if (WebUtils.isIncludeRequest(request)) {\n        attributesSnapshot = new HashMap<>();\n        Enumeration<?> attrNames = request.getAttributeNames();\n        while (attrNames.hasMoreElements()) {\n            String attrName = (String) attrNames.nextElement();\n            if (this.cleanupAfterInclude || attrName.startsWith(DEFAULT_STRATEGIES_PREFIX)) {\n                attributesSnapshot.put(attrName, request.getAttribute(attrName));\n            }\n        }\n    }\n\n    // Make framework objects available to handlers and view objects.\n    request.setAttribute(WEB_APPLICATION_CONTEXT_ATTRIBUTE, getWebApplicationContext());\n    request.setAttribute(LOCALE_RESOLVER_ATTRIBUTE, this.localeResolver);\n    request.setAttribute(THEME_RESOLVER_ATTRIBUTE, this.themeResolver);\n    request.setAttribute(THEME_SOURCE_ATTRIBUTE, getThemeSource());\n\n    if (this.flashMapManager != null) {\n        FlashMap inputFlashMap = this.flashMapManager.retrieveAndUpdate(request, response);\n        if (inputFlashMap != null) {\n            request.setAttribute(INPUT_FLASH_MAP_ATTRIBUTE, Collections.unmodifiableMap(inputFlashMap));\n        }\n        request.setAttribute(OUTPUT_FLASH_MAP_ATTRIBUTE, new FlashMap());\n        request.setAttribute(FLASH_MAP_MANAGER_ATTRIBUTE, this.flashMapManager);\n    }\n\n    RequestPath requestPath = null;\n    if (this.parseRequestPath && !ServletRequestPathUtils.hasParsedRequestPath(request)) {\n        requestPath = ServletRequestPathUtils.parseAndCache(request);\n    }\n\n    try {\n        // å¤çè¯·æ±åååº\n        doDispatch(request, response);\n    }\n    finally {\n        if (!WebAsyncUtils.getAsyncManager(request).isConcurrentHandlingStarted()) {\n            // Restore the original attribute snapshot, in case of an include.\n            if (attributesSnapshot != null) {\n                restoreAttributesAfterInclude(request, attributesSnapshot);\n            }\n        }\n        if (requestPath != null) {\n            ServletRequestPathUtils.clearParsedRequestPath(request);\n        }\n    }\n}\n\n\n# c>doDispatch()\n\næå¨ç±»ï¼org.springframework.web.servlet.DispatcherServlet\n\nprotected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception {\n    HttpServletRequest processedRequest = request;\n    HandlerExecutionChain mappedHandler = null;\n    boolean multipartRequestParsed = false;\n\n    WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request);\n\n    try {\n        ModelAndView mv = null;\n        Exception dispatchException = null;\n\n        try {\n            processedRequest = checkMultipart(request);\n            multipartRequestParsed = (processedRequest != request);\n\n            // Determine handler for the current request.\n            /*\n            \tmappedHandlerï¼è°ç¨é¾\n                åå«handlerãinterceptorListãinterceptorIndex\n            \thandlerï¼æµè§å¨åéçè¯·æ±æå¹éçæ§å¶å¨æ¹æ³\n            \tinterceptorListï¼å¤çæ§å¶å¨æ¹æ³çæææ¦æªå¨éå\n            \tinterceptorIndexï¼æ¦æªå¨ç´¢å¼ï¼æ§å¶æ¦æªå¨afterCompletion()çæ§è¡\n            */\n            mappedHandler = getHandler(processedRequest);\n            if (mappedHandler == null) {\n                noHandlerFound(processedRequest, response);\n                return;\n            }\n\n            // Determine handler adapter for the current request.\n           \t// éè¿æ§å¶å¨æ¹æ³åå»ºç¸åºçå¤çå¨ééå¨ï¼è°ç¨æå¯¹åºçæ§å¶å¨æ¹æ³\n            HandlerAdapter ha = getHandlerAdapter(mappedHandler.getHandler());\n\n            // Process last-modified header, if supported by the handler.\n            String method = request.getMethod();\n            boolean isGet = "GET".equals(method);\n            if (isGet || "HEAD".equals(method)) {\n                long lastModified = ha.getLastModified(request, mappedHandler.getHandler());\n                if (new ServletWebRequest(request, response).checkNotModified(lastModified) && isGet) {\n                    return;\n                }\n            }\n\t\t\t\n            // è°ç¨æ¦æªå¨çpreHandle()\n            if (!mappedHandler.applyPreHandle(processedRequest, response)) {\n                return;\n            }\n\n            // Actually invoke the handler.\n            // ç±å¤çå¨ééå¨è°ç¨å·ä½çæ§å¶å¨æ¹æ³ï¼æç»è·å¾ModelAndViewå¯¹è±¡\n            mv = ha.handle(processedRequest, response, mappedHandler.getHandler());\n\n            if (asyncManager.isConcurrentHandlingStarted()) {\n                return;\n            }\n\n            applyDefaultViewName(processedRequest, mv);\n            // è°ç¨æ¦æªå¨çpostHandle()\n            mappedHandler.applyPostHandle(processedRequest, response, mv);\n        }\n        catch (Exception ex) {\n            dispatchException = ex;\n        }\n        catch (Throwable err) {\n            // As of 4.3, we\'re processing Errors thrown from handler methods as well,\n            // making them available for @ExceptionHandler methods and other scenarios.\n            dispatchException = new NestedServletException("Handler dispatch failed", err);\n        }\n        // åç»­å¤çï¼å¤çæ¨¡åæ°æ®åæ¸²æè§å¾\n        processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException);\n    }\n    catch (Exception ex) {\n        triggerAfterCompletion(processedRequest, response, mappedHandler, ex);\n    }\n    catch (Throwable err) {\n        triggerAfterCompletion(processedRequest, response, mappedHandler,\n                               new NestedServletException("Handler processing failed", err));\n    }\n    finally {\n        if (asyncManager.isConcurrentHandlingStarted()) {\n            // Instead of postHandle and afterCompletion\n            if (mappedHandler != null) {\n                mappedHandler.applyAfterConcurrentHandlingStarted(processedRequest, response);\n            }\n        }\n        else {\n            // Clean up any resources used by a multipart request.\n            if (multipartRequestParsed) {\n                cleanupMultipart(processedRequest);\n            }\n        }\n    }\n}\n\n\n# d>processDispatchResult()\n\nprivate void processDispatchResult(HttpServletRequest request, HttpServletResponse response,\n                                   @Nullable HandlerExecutionChain mappedHandler, @Nullable ModelAndView mv,\n                                   @Nullable Exception exception) throws Exception {\n\n    boolean errorView = false;\n\n    if (exception != null) {\n        if (exception instanceof ModelAndViewDefiningException) {\n            logger.debug("ModelAndViewDefiningException encountered", exception);\n            mv = ((ModelAndViewDefiningException) exception).getModelAndView();\n        }\n        else {\n            Object handler = (mappedHandler != null ? mappedHandler.getHandler() : null);\n            mv = processHandlerException(request, response, handler, exception);\n            errorView = (mv != null);\n        }\n    }\n\n    // Did the handler return a view to render?\n    if (mv != null && !mv.wasCleared()) {\n        // å¤çæ¨¡åæ°æ®åæ¸²æè§å¾\n        render(mv, request, response);\n        if (errorView) {\n            WebUtils.clearErrorRequestAttributes(request);\n        }\n    }\n    else {\n        if (logger.isTraceEnabled()) {\n            logger.trace("No view rendering, null ModelAndView returned.");\n        }\n    }\n\n    if (WebAsyncUtils.getAsyncManager(request).isConcurrentHandlingStarted()) {\n        // Concurrent handling started during a forward\n        return;\n    }\n\n    if (mappedHandler != null) {\n        // Exception (if any) is already handled..\n        // è°ç¨æ¦æªå¨çafterCompletion()\n        mappedHandler.triggerAfterCompletion(request, response, null);\n    }\n}\n\n\n\n# 4ãSpringMVCçæ§è¡æµç¨\n\n 1. ç¨æ·åæå¡å¨åéè¯·æ±ï¼è¯·æ±è¢«SpringMVC åç«¯æ§å¶å¨ DispatcherServletæè·ã\n\n 2. DispatcherServletå¯¹è¯·æ±URLè¿è¡è§£æï¼å¾å°è¯·æ±èµæºæ è¯ç¬¦ï¼URIï¼ï¼å¤æ­è¯·æ±URIå¯¹åºçæ å°ï¼\n\na) ä¸å­å¨\n\ni. åå¤æ­æ¯å¦éç½®äºmvc:default-servlet-handler\n\nii. å¦ææ²¡éç½®ï¼åæ§å¶å°æ¥æ å°æ¥æ¾ä¸å°ï¼å®¢æ·ç«¯å±ç¤º404éè¯¯\n\n\n\n\n\niii. å¦ææéç½®ï¼åè®¿é®ç®æ èµæºï¼ä¸è¬ä¸ºéæèµæºï¼å¦ï¼JS,CSS,HTMLï¼ï¼æ¾ä¸å°å®¢æ·ç«¯ä¹ä¼å±ç¤º404éè¯¯\n\n\n\n\n\nb) å­å¨åæ§è¡ä¸é¢çæµç¨\n\n 3. æ ¹æ®è¯¥URIï¼è°ç¨HandlerMappingè·å¾è¯¥Handleréç½®çææç¸å³çå¯¹è±¡ï¼åæ¬Handlerå¯¹è±¡ä»¥åHandlerå¯¹è±¡å¯¹åºçæ¦æªå¨ï¼ï¼æåä»¥HandlerExecutionChainæ§è¡é¾å¯¹è±¡çå½¢å¼è¿åã\n\n 4. DispatcherServlet æ ¹æ®è·å¾çHandlerï¼éæ©ä¸ä¸ªåéçHandlerAdapterã\n\n 5. å¦ææåè·å¾HandlerAdapterï¼æ­¤æ¶å°å¼å§æ§è¡æ¦æªå¨çpreHandler(â¦)æ¹æ³ãæ­£åã\n\n 6. æåRequestä¸­çæ¨¡åæ°æ®ï¼å¡«åHandlerå¥åï¼å¼å§æ§è¡Handlerï¼Controller)æ¹æ³ï¼å¤çè¯·æ±ãå¨å¡«åHandlerçå¥åè¿ç¨ä¸­ï¼æ ¹æ®ä½ çéç½®ï¼Springå°å¸®ä½ åä¸äºé¢å¤çå·¥ä½ï¼\n\na) HttpMessageConveterï¼ å°è¯·æ±æ¶æ¯ï¼å¦Jsonãxmlç­æ°æ®ï¼è½¬æ¢æä¸ä¸ªå¯¹è±¡ï¼å°å¯¹è±¡è½¬æ¢ä¸ºæå®çååºä¿¡æ¯\n\nb) æ°æ®è½¬æ¢ï¼å¯¹è¯·æ±æ¶æ¯è¿è¡æ°æ®è½¬æ¢ãå¦Stringè½¬æ¢æIntegerãDoubleç­\n\nc) æ°æ®æ ¼å¼åï¼å¯¹è¯·æ±æ¶æ¯è¿è¡æ°æ®æ ¼å¼åã å¦å°å­ç¬¦ä¸²è½¬æ¢ææ ¼å¼åæ°å­ææ ¼å¼åæ¥æç­\n\nd) æ°æ®éªè¯ï¼ éªè¯æ°æ®çæææ§ï¼é¿åº¦ãæ ¼å¼ç­ï¼ï¼éªè¯ç»æå­å¨å°BindingResultæErrorä¸­\n\n 7.  Handleræ§è¡å®æåï¼åDispatcherServlet è¿åä¸ä¸ªModelAndViewå¯¹è±¡ã\n\n 8.  æ­¤æ¶å°å¼å§æ§è¡æ¦æªå¨çpostHandle(...)æ¹æ³ãéåãã\n\n 9.  æ ¹æ®è¿åçModelAndViewï¼æ­¤æ¶ä¼å¤æ­æ¯å¦å­å¨å¼å¸¸ï¼å¦æå­å¨å¼å¸¸ï¼åæ§è¡HandlerExceptionResolverè¿è¡å¼å¸¸å¤çï¼éæ©ä¸ä¸ªéåçViewResolverè¿è¡è§å¾è§£æï¼æ ¹æ®ModelåViewï¼æ¥æ¸²æè§å¾ã\n\n 10. æ¸²æè§å¾å®æ¯æ§è¡æ¦æªå¨çafterCompletion(â¦)æ¹æ³ãéåãã\n\n 11. å°æ¸²æç»æè¿åç»å®¢æ·ç«¯ã',normalizedContent:'# å­ãspringmvcçè§å¾\n\nspringmvcä¸­çè§å¾æ¯viewæ¥å£ï¼è§å¾çä½ç¨æ¸²ææ°æ®ï¼å°æ¨¡åmodelä¸­çæ°æ®å±ç¤ºç»ç¨æ·\n\nspringmvcè§å¾çç§ç±»å¾å¤ï¼é»è®¤æè½¬åè§å¾åéå®åè§å¾\n\nå½å·¥ç¨å¼å¥jstlï¼æ ç­¾åºç¨æ¥æ§å¶ç½é¡µæ ç­¾ï¼çä¾èµï¼è½¬åè§å¾ä¼èªå¨è½¬æ¢ä¸ºjstlview\n\nè¥ä½¿ç¨çè§å¾ææ¯ä¸ºthymeleafï¼å¨springmvcçéç½®æä»¶ä¸­éç½®äºthymeleafçè§å¾è§£æå¨ï¼ç±æ­¤è§å¾è§£æå¨è§£æä¹åæå¾å°çæ¯thymeleafview\n\n\n# 1ãthymeleafview\n\nå½æ§å¶å¨æ¹æ³ä¸­æè®¾ç½®çè§å¾åç§°æ²¡æä»»ä½åç¼æ¶ï¼æ­¤æ¶çè§å¾åç§°ä¼è¢«springmvcéç½®æä»¶ä¸­æéç½®çè§å¾è§£æå¨è§£æï¼è§å¾åç§°æ¼æ¥è§å¾åç¼åè§å¾åç¼æå¾å°çæç»è·¯å¾ï¼ä¼éè¿è½¬åçæ¹å¼å®ç°è·³è½¬\n\n@requestmapping("/testhello")\npublic string testhello(){\n    return "hello";  // è¿éæ²¡æä»»ä½åç¼ä¼è¢«è§£æä¸ºthymeleafview\n}\n\n\n\n\n\n# 2ãè½¬åè§å¾ï¼ç¨å¾å°ï¼\n\nspringmvcä¸­é»è®¤çè½¬åè§å¾ æ¯internalresourceview\n\nspringmvcä¸­åå»ºè½¬åè§å¾çæåµï¼\n\nå½æ§å¶å¨æ¹æ³ä¸­æè®¾ç½®çè§å¾åç§°ä»¥"forward:"ä¸ºåç¼æ¶ï¼åå»ºinternalresourceviewè§å¾ï¼æ­¤æ¶çè§å¾åç§°ä¸ä¼è¢«springmvcéç½®æä»¶ä¸­æéç½®çè§å¾è§£æå¨è§£æï¼èæ¯ä¼å°åç¼"forward:"å»æï¼å©ä½é¨åä½ä¸ºæç»è·¯å¾éè¿è½¬åçæ¹å¼å®ç°è·³è½¬\n\nä¾å¦"forward:/"ï¼"forward:/employee"\n\n// thymeleafviewï¼é»è®¤ï¼\n@requestmapping("/testhello")\npublic string testhello(){\n    return "hello";\n}\n\n// internalresourceview\n@requestmapping("/testforward")\npublic string testforward(){\n    return "forward:/testhello";\n}\n\n\n\n\n\n# 3ãéå®åè§å¾\n\nspringmvcä¸­é»è®¤çéå®åè§å¾æ¯redirectview\n\nå½æ§å¶å¨æ¹æ³ä¸­æè®¾ç½®çè§å¾åç§°ä»¥"redirect:"ä¸ºåç¼æ¶ï¼åå»ºredirectviewè§å¾ï¼æ­¤æ¶çè§å¾åç§°ä¸ä¼è¢«springmvcéç½®æä»¶ä¸­æéç½®çè§å¾è§£æå¨è§£æï¼èæ¯ä¼å°åç¼"redirect:"å»æï¼å©ä½é¨åä½ä¸ºæç»è·¯å¾éè¿éå®åçæ¹å¼å®ç°è·³è½¬\n\nä¾å¦"redirect:/"ï¼"redirect:/employee"\n\néå®åè§å¾é¡µé¢ç½åä¸ºtestredirectï¼ä½æ¯ç½é¡µæ¾ç¤ºhello\nè½¬åè§å¾é¡µé¢ç½åä¸ºtesthelloï¼ç½é¡µä¿¡æ¯æ¾ç¤ºhello\n@requestmapping("/testhello")\npublic string testhello(){\n    return "hello";\n}\n@requestmapping("/testredirect")\npublic string testredirect(){\n    return "redirect:/testhello";\n}\n\n\nè½¬ååéå®åçåºå«æ¯ä»ä¹ï¼ï¼ï¼ severletè¯¦ç»ç è½¬åä¸è½è·¨åï¼éå®åå¯ä»¥è·¨å\n\n\n\n> æ³¨ï¼ éå®åè§å¾å¨è§£ææ¶ï¼ä¼åå°redirect:åç¼å»æï¼ç¶åä¼å¤æ­å©ä½é¨åæ¯å¦ä»¥/å¼å¤´ï¼è¥æ¯åä¼èªå¨æ¼æ¥ä¸ä¸æè·¯å¾\n\n\n# 4ãè§å¾æ§å¶å¨view-controller\n\nå½æ§å¶å¨æ¹æ³ä¸­ï¼ä»ä»ç¨æ¥å®ç°é¡µé¢è·³è½¬ï¼å³åªéè¦è®¾ç½®è§å¾åç§°æ¶ï¼å¯ä»¥å°å¤çå¨æ¹æ³ä½¿ç¨view-controlleræ ç­¾è¿è¡è¡¨ç¤º\n\n\x3c!--\n\tpathï¼è®¾ç½®å¤ççè¯·æ±å°å\n\tview-nameï¼è®¾ç½®è¯·æ±å°åæå¯¹åºçè§å¾åç§°\n--\x3e\n<mvc:view-controller path="/testview" view-name="success"></mvc:view-controller>\n\n\nè¿éç­ä»·äº\n\n@requestmapping("/testview")\npublic string testview(){\n    return "index";\n}\n\n\n> æ³¨ï¼ å½springmvcä¸­è®¾ç½®ä»»ä½ä¸ä¸ªview-controlleræ¶ï¼å¶ä»æ§å¶å¨ä¸­çè¯·æ±æ å°å°å¨é¨å¤±æï¼æ­¤æ¶éè¦å¨springmvcçæ ¸å¿éç½®æä»¶ä¸­è®¾ç½®å¼å¯mvcæ³¨è§£é©±å¨çæ ç­¾è®©ä¹åçæ§å¶å¨è¯·æ±éæ°çæ <mvc:annotation-driven />\n\n\n# 5ãè§å¾è§£æå¨internalresourceviewresolver(éå¯¹jsp)\n\n\n\n\n\n\n\n\n\nå½æ²¡æä»»ä½åç¼æèforward:"ä¸ºåç¼ä¼è¢«internalresourceviewï¼ä»¥"redirect:"ä¸ºåç¼æ¶ä¼è¢«åå»ºä¸ºredirectview\n\n\n# ä¸ãrestful\n\n\n# 1ãrestfulç®ä»\n\nrestï¼representational state transferï¼è¡¨ç°å±èµæºç¶æè½¬ç§»ã\n\n# a>èµæº\n\nèµæºæ¯ä¸ç§çå¾æå¡å¨çæ¹å¼ï¼å³ï¼å°æå¡å¨çä½æ¯ç±å¾å¤ç¦»æ£çèµæºç»æãæ¯ä¸ªèµæºæ¯æå¡å¨ä¸ä¸ä¸ªå¯å½åçæ½è±¡æ¦å¿µãå ä¸ºèµæºæ¯ä¸ä¸ªæ½è±¡çæ¦å¿µï¼æä»¥å®ä¸ä»ä»è½ä»£è¡¨æå¡å¨æä»¶ç³»ç»ä¸­çä¸ä¸ªæä»¶ãæ°æ®åºä¸­çä¸å¼ è¡¨ç­ç­å·ä½çä¸è¥¿ï¼å¯ä»¥å°èµæºè®¾è®¡çè¦å¤æ½è±¡æå¤æ½è±¡ï¼åªè¦æ³è±¡ååè®¸èä¸å®¢æ·ç«¯åºç¨å¼åèè½å¤çè§£ãä¸é¢åå¯¹è±¡è®¾è®¡ç±»ä¼¼ï¼èµæºæ¯ä»¥åè¯ä¸ºæ ¸å¿æ¥ç»ç»çï¼é¦åå³æ³¨çæ¯åè¯ãä¸ä¸ªèµæºå¯ä»¥ç±ä¸ä¸ªæå¤ä¸ªuriæ¥æ è¯ãuriæ¢æ¯èµæºçåç§°ï¼ä¹æ¯èµæºå¨webä¸çå°åãå¯¹æä¸ªèµæºæå´è¶£çå®¢æ·ç«¯åºç¨ï¼å¯ä»¥éè¿èµæºçuriä¸å¶è¿è¡äº¤äºã\n\n# b>èµæºçè¡¨è¿°\n\nèµæºçè¡¨è¿°æ¯ä¸æ®µå¯¹äºèµæºå¨æä¸ªç¹å®æ¶å»çç¶æçæè¿°ãå¯ä»¥å¨å®¢æ·ç«¯-æå¡å¨ç«¯ä¹é´è½¬ç§»ï¼äº¤æ¢ï¼ãèµæºçè¡¨è¿°å¯ä»¥æå¤ç§æ ¼å¼ï¼ä¾å¦html/xml/json/çº¯ææ¬/å¾ç/è§é¢/é³é¢ç­ç­ãèµæºçè¡¨è¿°æ ¼å¼å¯ä»¥éè¿ååæºå¶æ¥ç¡®å®ãè¯·æ±-ååºæ¹åçè¡¨è¿°éå¸¸ä½¿ç¨ä¸åçæ ¼å¼ã\n\n# c>ç¶æè½¬ç§»\n\nç¶æè½¬ç§»è¯´çæ¯ï¼å¨å®¢æ·ç«¯åæå¡å¨ç«¯ä¹é´è½¬ç§»ï¼transferï¼ä»£è¡¨èµæºç¶æçè¡¨è¿°ãéè¿è½¬ç§»åæä½èµæºçè¡¨è¿°ï¼æ¥é´æ¥å®ç°æä½èµæºçç®çã\n\n\n# 2ãrestfulçå®ç°\n\nå·ä½è¯´ï¼å°±æ¯ http åè®®éé¢ï¼åä¸ªè¡¨ç¤ºæä½æ¹å¼çå¨è¯ï¼getãpostãputãdeleteã\n\nå®ä»¬åå«å¯¹åºåç§åºæ¬æä½ï¼get ç¨æ¥è·åèµæºï¼post ç¨æ¥æ°å»ºèµæºï¼put ç¨æ¥æ´æ°èµæºï¼delete ç¨æ¥å é¤èµæºã\n\nrest é£æ ¼æå¡ url å°åä½¿ç¨ç»ä¸çé£æ ¼è®¾è®¡ï¼ä»åå°ååä¸ªåè¯ä½¿ç¨ææ åå¼ï¼ä¸ä½¿ç¨é®å·é®å¼å¯¹æ¹å¼æºå¸¦è¯·æ±åæ°ï¼èæ¯å°è¦åéç»æå¡å¨çæ°æ®ä½ä¸º url å°åçä¸é¨åï¼ä»¥ä¿è¯æ´ä½é£æ ¼çä¸è´æ§ã\n\næä½     ä¼ ç»æ¹å¼               resté£æ ¼\næ¥è¯¢æä½   getuserbyid?id=1   user/1--\x3egetè¯·æ±æ¹å¼\nä¿å­æä½   saveuser           user--\x3epostè¯·æ±æ¹å¼\nå é¤æä½   deleteuser?id=1    user/1--\x3edeleteè¯·æ±æ¹å¼\næ´æ°æä½   updateuser         user--\x3eputè¯·æ±æ¹å¼\n\n\n# postågetæµè¯\n\n@controller\npublic class usercontroller {\n\n    /**\n     * ä½¿ç¨restfulæ¨¡æç¨æ·èµæºçå¢å æ¹æ¥\n     * /user    get     æ¥è¯¢ææç¨æ·ä¿¡æ¯\n     * /user/1    get     æ ¹æ®ç¨æ·idæ¥è¯¢ç¨æ·ä¿¡æ¯\n     * /user    post     æ·»å ç¨æ·ä¿¡æ¯\n     * /user/1    delete     å é¤ç¨æ·ä¿¡æ¯\n     * /user    put     ä¿®æ¹ç¨æ·ä¿¡æ¯\n     */\n\n    @requestmapping(value = "/user", method = requestmethod.get)\n    public string getalluser(){\n        system.out.println("æ¥è¯¢ææç¨æ·ä¿¡æ¯");\n        return "success";\n    }\n\n    @requestmapping(value = "/user/{id}", method = requestmethod.get)\n    public string getuserbyid(){\n        system.out.println("æ ¹æ®idæ¥è¯¢ç¨æ·ä¿¡æ¯");\n        return "success";\n    }\n\n    @requestmapping(value = "/user", method = requestmethod.post)\n    public string insertuser(string username, string password){\n        system.out.println("æ·»å ç¨æ·ä¿¡æ¯ï¼"+username+","+password);\n        return "success";\n    }\n\n    @requestmapping(value = "/user", method = requestmethod.put)\n    public string updateuser(string username, string password){\n        system.out.println("ä¿®æ¹ç¨æ·ä¿¡æ¯ï¼"+username+","+password);\n        return "success";\n    }\n\n}\n\n\n<!doctype html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="utf-8">\n    <title>title</title>\n</head>\n<body>\n<a th:href="@{/user}">æ¥è¯¢ææç¨æ·ä¿¡æ¯</a><br>\n<a th:href="@{/user/1}">æ ¹æ®idæ¥è¯¢ç¨æ·ä¿¡æ¯</a><br>\n<form th:action="@{/user}" method="post">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    <input type="submit" value="æ·»å "><br>\n</form>\n<form th:action="@{/user}" method="post">\n    <input type="hidden" name="_method" value="put">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    <input type="submit" value="ä¿®æ¹"><br>\n</form>\n</body>\n</html>\n\n\n\n# 3ãhiddenhttpmethodfilter\n\nç±äºæµè§å¨åªæ¯æåégetåpostæ¹å¼çè¯·æ±ï¼é£ä¹è¯¥å¦ä½åéputådeleteè¯·æ±å¢ï¼\n\nspringmvc æä¾äº hiddenhttpmethodfilter å¸®å©æä»¬å° post è¯·æ±è½¬æ¢ä¸º delete æ put è¯·æ±\n\nhiddenhttpmethodfilter å¤çputådeleteè¯·æ±çæ¡ä»¶ï¼\n\na>å½åè¯·æ±çè¯·æ±æ¹å¼å¿é¡»ä¸ºpost\n\nb>å½åè¯·æ±å¿é¡»ä¼ è¾è¯·æ±åæ°_method\n\næ»¡è¶³ä»¥ä¸æ¡ä»¶ï¼hiddenhttpmethodfilter è¿æ»¤å¨å°±ä¼å°å½åè¯·æ±çè¯·æ±æ¹å¼è½¬æ¢ä¸ºè¯·æ±åæ°_methodçå¼ï¼å æ­¤è¯·æ±åæ°_methodçå¼ææ¯æç»çè¯·æ±æ¹å¼\n\nå¨web.xmlä¸­æ³¨åhiddenhttpmethodfilter\n\n<filter>\n    <filter-name>hiddenhttpmethodfilter</filter-name>\n    <filter-class>org.springframework.web.filter.hiddenhttpmethodfilter</filter-class>\n</filter>\n<filter-mapping>\n    <filter-name>hiddenhttpmethodfilter</filter-name>\n    <url-pattern>/*</url-pattern>\n</filter-mapping>\n\n\n<form th:action="@{/user}" method="post">\n    <input type="hidden" name="_method" value="put">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    <input type="submit" value="ä¿®æ¹"><br>\n</form>\n\n\n\n> æ³¨ï¼\n> \n> ç®åä¸ºæ­¢ï¼springmvcä¸­æä¾äºä¸¤ä¸ªè¿æ»¤å¨ï¼characterencodingfilteråhiddenhttpmethodfilter\n> \n> å¨web.xmlä¸­æ³¨åæ¶ï¼å¿é¡»åæ³¨åcharacterencodingfilterï¼åæ³¨åhiddenhttpmethodfilter\n> \n> åå ï¼\n> \n>  * å¨ characterencodingfilter ä¸­éè¿ request.setcharacterencoding(encoding) æ¹æ³è®¾ç½®å­ç¬¦éç\n> \n>  * request.setcharacterencoding(encoding) æ¹æ³è¦æ±åé¢ä¸è½æä»»ä½è·åè¯·æ±åæ°çæä½\n> \n>  * è hiddenhttpmethodfilter æ°æ°æä¸ä¸ªè·åè¯·æ±æ¹å¼çæä½ï¼\n> \n>  * string paramvalue = request.getparameter(this.methodparam);\n>    \n\n\n# å«ãrestfulæ¡ä¾\n\n\n# 1ãåå¤å·¥ä½\n\nåä¼ ç» crud ä¸æ ·ï¼å®ç°å¯¹åå·¥ä¿¡æ¯çå¢å æ¹æ¥ã\n\n * æ­å»ºç¯å¢\n\n * åå¤å®ä½ç±»\n   \n   package com.atguigu.mvc.bean;\n   \n   public class employee {\n   \n      private integer id;\n      private string lastname;\n   \n      private string email;\n      //1 male, 0 female\n      private integer gender;\n      \n      public integer getid() {\n         return id;\n      }\n   \n      public void setid(integer id) {\n         this.id = id;\n      }\n   \n      public string getlastname() {\n         return lastname;\n      }\n   \n      public void setlastname(string lastname) {\n         this.lastname = lastname;\n      }\n   \n      public string getemail() {\n         return email;\n      }\n   \n      public void setemail(string email) {\n         this.email = email;\n      }\n   \n      public integer getgender() {\n         return gender;\n      }\n   \n      public void setgender(integer gender) {\n         this.gender = gender;\n      }\n   \n      public employee(integer id, string lastname, string email, integer gender) {\n         super();\n         this.id = id;\n         this.lastname = lastname;\n         this.email = email;\n         this.gender = gender;\n      }\n   \n      public employee() {\n      }\n   }\n   \n\n * åå¤daoæ¨¡ææ°æ®\n   \n   package com.atguigu.mvc.dao;\n   \n   import java.util.collection;\n   import java.util.hashmap;\n   import java.util.map;\n   \n   import com.atguigu.mvc.bean.employee;\n   import org.springframework.stereotype.repository;\n   \n   \n   @repository\n   public class employeedao {\n   \n      private static map<integer, employee> employees = null;\n      \n      static{\n         employees = new hashmap<integer, employee>();\n   \n         employees.put(1001, new employee(1001, "e-aa", "aa@163.com", 1));\n         employees.put(1002, new employee(1002, "e-bb", "bb@163.com", 1));\n         employees.put(1003, new employee(1003, "e-cc", "cc@163.com", 0));\n         employees.put(1004, new employee(1004, "e-dd", "dd@163.com", 0));\n         employees.put(1005, new employee(1005, "e-ee", "ee@163.com", 1));\n      }\n      \n      private static integer initid = 1006;\n      \n      public void save(employee employee){\n         if(employee.getid() == null){\n            employee.setid(initid++);\n         }\n         employees.put(employee.getid(), employee);\n      }\n      \n      public collection<employee> getall(){\n         return employees.values();\n      }\n      \n      public employee get(integer id){\n         return employees.get(id);\n      }\n      \n      public void delete(integer id){\n         employees.remove(id);\n      }\n   }\n   \n\n\n# 2ãåè½æ¸å\n\nåè½           url å°å        è¯·æ±æ¹å¼\nè®¿é®é¦é¡µâ        /             get\næ¥è¯¢å¨é¨æ°æ®â      /employee     get\nå é¤â          /employee/2   delete\nè·³è½¬å°æ·»å æ°æ®é¡µé¢â   /toadd        get\næ§è¡ä¿å­â        /employee     post\nè·³è½¬å°æ´æ°æ°æ®é¡µé¢â   /employee/2   get\næ§è¡æ´æ°â        /employee     put\n\n\n# 3ãå·ä½åè½ï¼è®¿é®é¦é¡µ\n\n# a>éç½®view-controller\n\nè¿éå°±ä¸åæ§å¶å¨æ¹æ³äº\n\n<mvc:view-controller path="/" view-name="index"/>\n\n\n# b>åå»ºé¡µé¢\n\n<!doctype html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="utf-8" >\n    <title>title</title>\n</head>\n<body>\n<h1>é¦é¡µ</h1>\n<a th:href="@{/employee}">è®¿é®åå·¥ä¿¡æ¯</a>\n</body>\n</html>\n\n\n\n# 4ãå·ä½åè½ï¼æ¥è¯¢ææåå·¥æ°æ®\n\n# a>æ§å¶å¨æ¹æ³\n\n@requestmapping(value = "/employee", method = requestmethod.get)\npublic string getemployeelist(model model){\n    collection<employee> employeelist = employeedao.getall();\n    model.addattribute("employeelist", employeelist);\n    return "employee_list";\n}\n\n\n# b>åå»ºemployee_list.html\n\n<!doctype html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="utf-8">\n    <title>employee info</title>\n    <script type="text/javascript" th:src="@{/static/js/vue.js}"><\/script>\n</head>\n<body>\n\n    <table border="1" cellpadding="0" cellspacing="0" style="text-align: center;" id="datatable">\n        <tr>\n            <th colspan="5">employee info</th>\n        </tr>\n        <tr>\n            <th>id</th>\n            <th>lastname</th>\n            <th>email</th>\n            <th>gender</th>\n            <th>options(<a th:href="@{/toadd}">add</a>)</th>\n        </tr>\n\n        **th:eachæ¯ä»ä¹ææ**\n        <tr th:each="employee : ${employeelist}">\n            <td th:text="${employee.id}"></td>\n            <td th:text="${employee.lastname}"></td>\n            <td th:text="${employee.email}"></td>\n            <td th:text="${employee.gender}"></td>\n            <td>\n                \x3c!-- "@{/employee/${employee.id}}" åæ³æ¯éè¯¯çï¼å ä¸º$ä¼è¢«å½æç¬¦å·è¿è¡è§£æ\n                \'/employee/\'è¡¨ç¤ºè¯·æ±å°å --\x3e\n                <a class="deletea" @click="deleteemployee" th:href="@{\'/employee/\'+${employee.id}}">delete</a>\n                \x3c!-- æè --\x3e\n                <a class="deletea" @click="deleteemployee" th:href="@{/employee/} + ${employee.id}">delete</a>\n                \x3c!-- ä¸è¿°ä¸¤ç§æ¹æ³é½æ¯æ­£ç¡®ç  --\x3e\n\n                <a th:href="@{\'/employee/\'+${employee.id}}">update</a>\n            </td>\n        </tr>\n    </table>\n</body>\n</html>\n\n\nth:eachæ¯ä»ä¹ææï¼ï¼ï¼å¤ä¹ åç«¯ç¥è¯\n\n\n# 5ãå·ä½åè½ï¼å é¤\n\n# a>åå»ºå¤çdeleteè¯·æ±æ¹å¼çè¡¨å\n\n\x3c!-- ä½ç¨ï¼éè¿è¶é¾æ¥æ§å¶è¡¨åçæäº¤ï¼å°postè¯·æ±è½¬æ¢ä¸ºdeleteè¯·æ± --\x3e\n<form id="delete_form" method="post">\n    \x3c!-- hiddenhttpmethodfilterè¦æ±ï¼å¿é¡»ä¼ è¾_methodè¯·æ±åæ°ï¼å¹¶ä¸å¼ä¸ºæç»çè¯·æ±æ¹å¼ --\x3e\n    <input type="hidden" name="_method" value="delete"/>\n</form>\n\n\n# b>å é¤è¶é¾æ¥ç»å®ç¹å»äºä»¶\n\nå¼å¥vue.js\n\n<script type="text/javascript" th:src="@{/static/js/vue.js}"><\/script>\n\n\nå é¤è¶é¾æ¥\n\n<a class="deletea" @click="deleteemployee" th:href="@{\'/employee/\'+${employee.id}}">delete</a>\n\n\néè¿vueå¤çç¹å»äºä»¶\n\n<script type="text/javascript">\n    var vue = new vue({\n        el:"#datatable",\n        methods:{\n            //eventè¡¨ç¤ºå½åäºä»¶\n            deleteemployee:function (event) {\n                //éè¿idè·åè¡¨åæ ç­¾\n                var delete_form = document.getelementbyid("delete_form");\n                //å°è§¦åäºä»¶çè¶é¾æ¥çhrefå±æ§ä¸ºè¡¨åçactionå±æ§èµå¼\n                delete_form.action = event.target.href;\n                //æäº¤è¡¨å\n                delete_form.submit();\n                //é»æ­¢è¶é¾æ¥çé»è®¤è·³è½¬è¡ä¸º\n                event.preventdefault();\n            }\n        }\n    });\n<\/script>\n\n\n# c> å¼æ¾éæèµæºè®¿é®\n\n<mvc:default-servlet-handler />\n\n\nspringmvcåå¤çè¯·æ±ï¼è½å¤çå°±ä¼è¢«å¤çï¼ä¸è½å¤çå°±ä¼äº¤ç»ä»å¤©çserveletå¤çï¼serveletè½å¤çå°±å¤çï¼ä¸è½å¤çé»è®¤çserveletæ¥é\n\n# d>æ§å¶å¨æ¹æ³\n\n@requestmapping(value = "/employee/{id}", method = requestmethod.delete)\npublic string deleteemployee(@pathvariable("id") integer id){\n    employeedao.delete(id);\n    return "redirect:/employee";\n}\n\n\n\n# 6ãå·ä½åè½ï¼è·³è½¬å°æ·»å æ°æ®é¡µé¢\n\n# a>éç½®view-controller\n\n<mvc:view-controller path="/toadd" view-name="employee_add"></mvc:view-controller>\n\n\n# b>åå»ºemployee_add.html\n\n<!doctype html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="utf-8">\n    <title>add employee</title>\n</head>\n<body>\n\n<form th:action="@{/employee}" method="post">\n    lastname:<input type="text" name="lastname"><br>\n    email:<input type="text" name="email"><br>\n    gender:<input type="radio" name="gender" value="1">male\n    <input type="radio" name="gender" value="0">female<br>\n    <input type="submit" value="add"><br>\n</form>\n\n</body>\n</html>\n\n\n\n# 7ãå·ä½åè½ï¼æ§è¡ä¿å­\n\n# a>æ§å¶å¨æ¹æ³\n\n@requestmapping(value = "/employee", method = requestmethod.post)\npublic string addemployee(employee employee){\n    employeedao.save(employee);\n    return "redirect:/employee";\n}\n\n\n\n# 8ãå·ä½åè½ï¼è·³è½¬å°æ´æ°æ°æ®é¡µé¢\n\n# a>ä¿®æ¹è¶é¾æ¥\n\n<a th:href="@{\'/employee/\'+${employee.id}}">update</a>\n\n\n# b>æ§å¶å¨æ¹æ³\n\n@requestmapping(value = "/employee/{id}", method = requestmethod.get)\npublic string getemployeebyid(@pathvariable("id") integer id, model model){\n    employee employee = employeedao.get(id);\n    model.addattribute("employee", employee);\n    return "employee_update";\n}\n\n\n# c>åå»ºemployee_update.html\n\n<!doctype html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="utf-8">\n    <title>update employee</title>\n</head>\n<body>\n\n<form th:action="@{/employee}" method="post">\n    <input type="hidden" name="_method" value="put">\n    <input type="hidden" name="id" th:value="${employee.id}">\n    lastname:<input type="text" name="lastname" th:value="${employee.lastname}"><br>\n    email:<input type="text" name="email" th:value="${employee.email}"><br>\n    \x3c!--\n        th:field="${employee.gender}"å¯ç¨äºåéæ¡æå¤éæ¡çåæ¾\n        è¥åéæ¡çvalueåemployee.genderçå¼ä¸è´ï¼åæ·»å checked="checked"å±æ§\n    --\x3e\n    gender:<input type="radio" name="gender" value="1" th:field="${employee.gender}">male\n    <input type="radio" name="gender" value="0" th:field="${employee.gender}">female<br>\n    <input type="submit" value="update"><br>\n</form>\n\n</body>\n</html>\n\n\n\n# 9ãå·ä½åè½ï¼æ§è¡æ´æ°\n\n# a>æ§å¶å¨æ¹æ³\n\n@requestmapping(value = "/employee", method = requestmethod.put)\npublic string updateemployee(employee employee){\n    employeedao.save(employee);\n    return "redirect:/employee";\n}\n\n\n\n# å«ãhttpmessageconverter\n\nhttpmessageconverterï¼æ¥æä¿¡æ¯è½¬æ¢å¨ï¼å°è¯·æ±æ¥æè½¬æ¢ä¸ºjavaå¯¹è±¡ï¼æµè§å¨è¯·æ±æå¡å¨ï¼ï¼æå°javaå¯¹è±¡è½¬æ¢ä¸ºååºæ¥æï¼æå¡å¨ç¸åºæµè§å¨ï¼\n\nhttpmessageconverteræä¾äºä¸¤ä¸ªæ³¨è§£åä¸¤ä¸ªç±»åï¼@requestbodyï¼@responsebodyï¼requestentityï¼\n\nresponseentity\n\n\n# 1ã@requestbody\n\n@requestbodyå¯ä»¥è·åè¯·æ±ä½ï¼éè¦å¨æ§å¶å¨æ¹æ³è®¾ç½®ä¸ä¸ªå½¢åï¼ä½¿ç¨@requestbodyè¿è¡æ è¯ï¼å½åè¯·æ±çè¯·æ±ä½å°±ä¼ä¸ºå½åæ³¨è§£ææ è¯çå½¢åèµå¼\n\n<form th:action="@{/testrequestbody}" method="post">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    <input type="submit">\n</form>\n\n\n@requestmapping("/testrequestbody")\npublic string testrequestbody(@requestbody string requestbody){\n    system.out.println("requestbody:"+requestbody);\n    return "success";\n}\n\n\nè¾åºç»æï¼\n\nrequestbody:username=admin&password=123456\n\n\n# 2ãrequestentity\n\nrequestentityå°è£è¯·æ±æ¥æçä¸ç§ç±»åï¼éè¦å¨æ§å¶å¨æ¹æ³çå½¢åä¸­è®¾ç½®è¯¥ç±»åçå½¢åï¼å½åè¯·æ±çè¯·æ±æ¥æå°±ä¼èµå¼ç»è¯¥å½¢åï¼å¯ä»¥éè¿getheaders()è·åè¯·æ±å¤´ä¿¡æ¯ï¼éè¿getbody()è·åè¯·æ±ä½ä¿¡æ¯\n\n@requestmapping("/testrequestentity")\npublic string testrequestentity(requestentity<string> requestentity){\n    system.out.println("requestheader:"+requestentity.getheaders());\n    system.out.println("requestbody:"+requestentity.getbody());\n    return "success";\n}\n\n\nè¾åºç»æï¼ requestheader:[host:"localhost:8080", connection:"keep-alive", content-length:"27", cache-control:"max-age=0", sec-ch-ua:"" not a;brand";v="99", "chromium";v="90", "google chrome";v="90"", sec-ch-ua-mobile:"?0", upgrade-insecure-requests:"1", origin:"http://localhost:8080", user-agent:"mozilla/5.0 (windows nt 10.0; win64; x64) applewebkit/537.36 (khtml, like gecko) chrome/90.0.4430.93 safari/537.36"] requestbody:username=admin&password=123\n\n\n# 3ã@responsebodyï¼ç¨çæå¤ï¼\n\n@responsebodyç¨äºæ è¯ä¸ä¸ªæ§å¶å¨æ¹æ³ï¼å¯ä»¥å°è¯¥æ¹æ³çè¿åå¼ç´æ¥ä½ä¸ºååºæ¥æçååºä½ååºå°æµè§å¨\n\n@requestmapping("/testresponsebody")\n@responsebody\npublic string testresponsebody(){\n    return "success";\n}\n\n\nä¹å°±æ¯å ä¸responsebodyç´æ¥è¿åå­ç¬¦ä¸²ï¼ä¸å åä¼æ¼æ¥"åç¼+è¿åå­ç¬¦ä¸²+åç¼"å¹¶æå¼æ°é¡µé¢è¿è¡å±ç¤ºä¿¡æ¯\n\nç»æï¼æµè§å¨é¡µé¢æ¾ç¤ºsuccess\n\nè¿éè¦å­¦ä¹ ä¸ä¸javawebä¸­çhttpservletresponseå¯¹äºæµè§å¨æ°æ®çååº\n\n\n# 4ãspringmvcå¤çjson\n\n@responsebodyå¤çjsonçæ­¥éª¤ï¼\n\na>å¯¼å¥jacksonçä¾èµ\n\n<dependency>\n    <groupid>com.fasterxml.jackson.core</groupid>\n    <artifactid>jackson-databind</artifactid>\n    <version>2.12.1</version>\n</dependency>\n\n\nb>å¨springmvcçæ ¸å¿éç½®æä»¶ä¸­å¼å¯mvcçæ³¨è§£é©±å¨ï¼æ­¤æ¶å¨handleradaptorä¸­ä¼èªå¨è£éä¸ä¸ªæ¶æ¯è½¬æ¢å¨ï¼mappingjackson2httpmessageconverterï¼å¯ä»¥å°ååºå°æµè§å¨çjavaå¯¹è±¡è½¬æ¢ä¸ºjsonæ ¼å¼çå­ç¬¦ä¸²\n\n<mvc:annotation-driven />\n\n\nc>å¨å¤çå¨æ¹æ³ä¸ä½¿ç¨@responsebodyæ³¨è§£è¿è¡æ è¯\n\nd>å°javaå¯¹è±¡ç´æ¥ä½ä¸ºæ§å¶å¨æ¹æ³çè¿åå¼è¿åï¼å°±ä¼èªå¨è½¬æ¢ä¸ºjsonæ ¼å¼çå­ç¬¦ä¸²\n\n@requestmapping("/testresponseuser")\n@responsebody\npublic user testresponseuser(){\n    return new user(1001,"admin","123456",23,"ç·");\n}\n\n\næµè§å¨çé¡µé¢ä¸­å±ç¤ºçç»æï¼\n\n{"id":1001,"username":"admin","password":"123456","age":23,"sex":"ç·"}\n\n\n# 5ãspringmvcå¤çajax\n\na>è¯·æ±è¶é¾æ¥ï¼\n\n<div id="app">\n\t<a th:href="@{/testajax}" @click="testajax">testajax</a><br>\n</div>\n\n\nb>éè¿vueåaxioså¤çç¹å»äºä»¶ï¼\n\n<script type="text/javascript" th:src="@{/static/js/vue.js}"><\/script>\n<script type="text/javascript" th:src="@{/static/js/axios.min.js}"><\/script>\n<script type="text/javascript">\n    var vue = new vue({\n        el:"#app",\n        methods:{\n            testajax:function (event) {\n                axios({\n                    method:"post",\n                    url:event.target.href,\n                    params:{\n                        username:"admin",\n                        password:"123456"\n                    }\n                }).then(function (response) {\n                    alert(response.data);\n                });\n                event.preventdefault();\n            }\n        }\n    });\n<\/script>\n\n\nc>æ§å¶å¨æ¹æ³ï¼\n\n@requestmapping("/testajax")\n@responsebody\npublic string testajax(string username, string password){\n    system.out.println("username:"+username+",password:"+password);\n    return "hello,ajax";\n}\n\n\n\n# 6ã@restcontrolleræ³¨è§£\n\n@restcontrolleræ³¨è§£æ¯springmvcæä¾çä¸ä¸ªå¤åæ³¨è§£ï¼æ è¯å¨æ§å¶å¨çç±»ä¸ï¼å°±ç¸å½äºä¸ºç±»æ·»å äº@controlleræ³¨è§£ï¼å¹¶ä¸ä¸ºå¶ä¸­çæ¯ä¸ªæ¹æ³æ·»å äº@responsebodyæ³¨è§£\n\n\n# 7ãresponseentity\n\nresponseentityç¨äºæ§å¶å¨æ¹æ³çè¿åå¼ç±»åï¼è¯¥æ§å¶å¨æ¹æ³çè¿åå¼å°±æ¯ååºå°æµè§å¨çååºæ¥æ\n\n\n# ä¹ãæä»¶ä¸ä¼ åä¸è½½\n\n\n# 1ãæä»¶ä¸è½½\n\nä½¿ç¨responseentityå®ç°ä¸è½½æä»¶çåè½\n\n@requestmapping("/testdown")\npublic responseentity<byte[]> testresponseentity(httpsession session) throws ioexception {\n    //è·åservletcontextå¯¹è±¡\n    servletcontext servletcontext = session.getservletcontext();\n    //è·åæå¡å¨ä¸­æä»¶ççå®è·¯å¾\n    string realpath = servletcontext.getrealpath("/static/https://cdn.jsdelivr.net/gh/leejiayang/blogimages@main/springmvc/1.jpg");\n    //åå»ºè¾å¥æµ\n    inputstream is = new fileinputstream(realpath);\n    //åå»ºå­èæ°ç»\n    byte[] bytes = new byte[is.available()];\n    //å°æµè¯»å°å­èæ°ç»ä¸­\n    is.read(bytes);\n    //åå»ºhttpheaderså¯¹è±¡è®¾ç½®ååºå¤´ä¿¡æ¯\n    multivaluemap<string, string> headers = new httpheaders();\n    //è®¾ç½®è¦ä¸è½½æ¹å¼ä»¥åä¸è½½æä»¶çåå­\n    headers.add("content-disposition", "attachment;filename=1.jpg");\n    //è®¾ç½®ååºç¶æç \n    httpstatus statuscode = httpstatus.ok;\n    //åå»ºresponseentityå¯¹è±¡\n    responseentity<byte[]> responseentity = new responseentity<>(bytes, headers, statuscode);\n    //å³é­è¾å¥æµ\n    is.close();\n    return responseentity;\n}\n\n\n\n# 2ãæä»¶ä¸ä¼ \n\næä»¶ä¸ä¼ è¦æ±formè¡¨åçè¯·æ±æ¹å¼å¿é¡»ä¸ºpostï¼å¹¶ä¸æ·»å å±æ§enctype="multipart/form-data"\n\nspringmvcä¸­å°ä¸ä¼ çæä»¶å°è£å°multipartfileå¯¹è±¡ä¸­ï¼éè¿æ­¤å¯¹è±¡å¯ä»¥è·åæä»¶ç¸å³ä¿¡æ¯\n\nä¸ä¼ æ­¥éª¤ï¼\n\na>æ·»å ä¾èµï¼\n\n\x3c!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --\x3e\n<dependency>\n    <groupid>commons-fileupload</groupid>\n    <artifactid>commons-fileupload</artifactid>\n    <version>1.3.1</version>\n</dependency>\n\n\nb>å¨springmvcçéç½®æä»¶ä¸­æ·»å éç½®ï¼\n\n\x3c!--å¿é¡»éè¿æä»¶è§£æå¨çè§£ææè½å°æä»¶è½¬æ¢ä¸ºmultipartfileå¯¹è±¡--\x3e\n<bean id="multipartresolver" class="org.springframework.web.multipart.commons.commonsmultipartresolver"></bean>\n\n\nc>æ§å¶å¨æ¹æ³ï¼\n\n@requestmapping("/testup")\npublic string testup(multipartfile photo, httpsession session) throws ioexception {\n    //è·åä¸ä¼ çæä»¶çæä»¶å\n    string filename = photo.getoriginalfilename();\n    //å¤çæä»¶éåé®é¢\n    // è·ååç¼å\n    string hzname = filename.substring(filename.lastindexof("."));\n    // å°uuidååç¼åæ¼æ¥çæ­£çæä»¶å\n    filename = uuid.randomuuid().tostring() + hzname;\n    //è·åæå¡å¨ä¸­photoç®å½çè·¯å¾\n    servletcontext servletcontext = session.getservletcontext();\n    string photopath = servletcontext.getrealpath("photo");\n    file file = new file(photopath);\n    if(!file.exists()){\n        file.mkdir();\n    }\n    string finalpath = photopath + file.separator + filename;\n    //å®ç°ä¸ä¼ åè½\n    photo.transferto(new file(finalpath));\n    return "success";\n}\n\n\n\n# åãæ¦æªå¨\n\n\n# 1ãæ¦æªå¨çéç½®\n\nspringmvcä¸­çæ¦æªå¨ç¨äºæ¦æªæ§å¶å¨æ¹æ³çæ§è¡\n\nspringmvcä¸­çæ¦æªå¨éè¦å®ç°handlerinterceptoræèhandlerinterceptoradapter(å·²è¿æ¶)ï¼éåä¸é¢çä¸ä¸ªæ¹æ³\n\näºå®ä¸æ¯handlerinterceptoradapterç»§æ¿äºasynchandlerinterceptor, asynchandlerinterceptoråç»§æ¿äºhandlerinterceptor\n\nspringmvcçæ¦æªå¨å¿é¡»å¨springmvcçéç½®æä»¶ä¸­è¿è¡éç½®ï¼\n\næç®åçéç½®æ¹æ³ï¼ç¬¬ä¸ç§éç½®æ¹æ³ï¼ è¡¨ç¤ºä¸ä¸ªå¯¹è±¡\n\nå¾çéé¢çè®¾ç½®ä¹ä¼è¢«æ¦æªï¼å ä¸ºæ¬è´¨ä¸è¿ä¸ªä¹æ¯æ§å¶å¨æ¹æ³\n\n\n\n\n\nç¬¬äºç§éç½®æ¹æ³\n<mvc:interceptor>\n\x3c!-- <bean class="com.atguigu.interceptor.firstinterceptor"></bean> --\x3e\n<ref bean="firstinterceptor"></ref>\n</mvc:interceptor>\n\x3c!-- ä»¥ä¸ä¸¤ç§éç½®æ¹å¼é½æ¯å¯¹dispatcherservletæå¤ççææçè¯·æ±è¿è¡æ¦æª --\x3e\n<mvc:interceptor>\n\x3c!-- æ¦æªææè¯·æ± --\x3e\n\x3c!-- è¿éç/*è¡¨ç¤ºè®¿é®è¯¥é¡µé¢çä¸ä¸ä¸å±ç®å½ --\x3e\n<mvc:mapping path="/*"/>\n    <mvc:mapping path="/**"/>\n    \x3c!-- æé¤ä¸æ¦æªçç¹æ®æåµ --\x3e\n    <mvc:exclude-mapping path="/testrequestentity"/>\n    \x3c!-- æå®æ¦æª å¨ --\x3e\n    <ref bean="firstinterceptor"></ref>\n</mvc:interceptor>\n\x3c!-- \n\tä»¥ä¸éç½®æ¹å¼å¯ä»¥éè¿refæbeanæ ç­¾è®¾ç½®æ¦æªå¨ï¼éè¿mvc:mappingè®¾ç½®éè¦æ¦æªçè¯·æ±ï¼éè¿mvc:exclude-mappingè®¾ç½®éè¦æé¤çè¯·æ±ï¼å³ä¸éè¦æ¦æªçè¯·æ±\n--\x3e\n\n\n\n# 2ãæ¦æªå¨çä¸ä¸ªæ½è±¡æ¹æ³\n\nè¿æ»¤å¨çæ¦æªå¨çåºå«æ¯ä»ä¹ï¼ï¼ springmvcä¸­çæ¦æªå¨æä¸ä¸ªæ½è±¡æ¹æ³ï¼\n\nprehandleï¼æ§å¶å¨æ¹æ³æ§è¡ä¹åæ§è¡prehandle()ï¼å¶booleanç±»åçè¿åå¼è¡¨ç¤ºæ¯å¦æ¦æªææ¾è¡ï¼è¿åtrueä¸ºæ¾è¡ï¼å³è°ç¨æ§å¶å¨æ¹æ³ï¼è¿åfalseè¡¨ç¤ºæ¦æªï¼å³ä¸è°ç¨æ§å¶å¨æ¹æ³\n\nposthandleï¼æ§å¶å¨æ¹æ³æ§è¡ä¹åæ§è¡posthandle()\n\naftercomplationï¼å¤çå®è§å¾åæ¨¡åæ°æ®ï¼æ¸²æè§å¾å®æ¯ä¹åæ§è¡aftercomplation()\n\n\n# 3ãå¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº\n\na>è¥æ¯ä¸ªæ¦æªå¨çprehandle()é½è¿åtrue\n\næ­¤æ¶å¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåºåæ¦æªå¨å¨springmvcçéç½®æä»¶çéç½®é¡ºåºæå³ï¼\n\nprehandle()ä¼æç§éç½®çé¡ºåºæ§è¡ï¼èposthandle()åaftercomplation()ä¼æç§éç½®çååºæ§è¡\n\nb>è¥æä¸ªæ¦æªå¨çprehandle()è¿åäºfalse\n\nprehandle()è¿åfalseåå®ä¹åçæ¦æªå¨çprehandle()é½ä¼æ§è¡ï¼posthandle()é½ä¸æ§è¡ï¼è¿åfalseçæ¦æªå¨ä¹åçæ¦æªå¨çaftercomplation()ä¼æ§è¡\n\n\n# åä¸ãå¼å¸¸å¤çå¨(åºç°å¼å¸¸è·³è½¬æå®é¡µé¢)\n\n\n# 1ãåºäºéç½®çå¼å¸¸å¤ç\n\nspringmvcæä¾äºä¸ä¸ªå¤çæ§å¶å¨æ¹æ³æ§è¡è¿ç¨ä¸­æåºç°çå¼å¸¸çæ¥å£ï¼handlerexceptionresolver\n\nhandlerexceptionresolveræ¥å£çå®ç°ç±»æï¼defaulthandlerexceptionresolveråsimplemappingexceptionresolver\n\nspringmvcæä¾äºèªå®ä¹çå¼å¸¸å¤çå¨simplemappingexceptionresolverï¼ä½¿ç¨æ¹å¼ï¼\n\n<bean class="org.springframework.web.servlet.handler.simplemappingexceptionresolver">\n    <property name="exceptionmappings">\n        <props>\n        \t\x3c!--\n        \t\tpropertiesçé®è¡¨ç¤ºå¤çå¨æ¹æ³æ§è¡è¿ç¨ä¸­åºç°çå¼å¸¸\n        \t\tpropertiesçå¼è¡¨ç¤ºè¥åºç°æå®å¼å¸¸æ¶ï¼è®¾ç½®ä¸ä¸ªæ°çè§å¾åç§°ï¼è·³è½¬å°æå®é¡µé¢,themeleafè¿è¡è§£æï¼åä¹å çè§£æè§åä¸è´\n        \t--\x3e\n            <prop key="java.lang.arithmeticexception">error</prop>\n        </props>\n    </property>\n    \x3c!--\n    \texceptionattributeå±æ§è®¾ç½®ä¸ä¸ªå±æ§åï¼å°åºç°çå¼å¸¸ä¿¡æ¯å¨è¯·æ±åä¸­è¿è¡å±äº«\n    --\x3e\n\n\n    <property name="exceptionattribute" value="ex"></property>\n</bean>\n\n\n\n# 2ãåºäºæ³¨è§£çå¼å¸¸å¤ç\n\n//@controlleradviceå°å½åç±»æ è¯ä¸ºå¼å¸¸å¤ççç»ä»¶\n@controlleradvice\npublic class exceptioncontroller {\n\n    //@exceptionhandlerç¨äºè®¾ç½®ææ è¯æ¹æ³å¤ççå¼å¸¸\n    @exceptionhandler(value = arithmeticexception.class, nullpointerexception.class)\n    //exè¡¨ç¤ºå½åè¯·æ±å¤çä¸­åºç°çå¼å¸¸å¯¹è±¡\n    public string handlearithmeticexception(exception ex, model model){\n        model.addattribute("ex", ex);\n        return "error";\n    }\n\n}\n\n\n\n# åäºãæ³¨è§£éç½®springmvc\n\nä½¿ç¨éç½®ç±»åæ³¨è§£ä»£æ¿web.xmlåspringmvcéç½®æä»¶çåè½\n\n\n# 1ãåå»ºåå§åç±»ï¼ä»£æ¿web.xml\n\nå¨servlet3.0ç¯å¢ä¸­ï¼å®¹å¨ä¼å¨ç±»è·¯å¾ä¸­æ¥æ¾å®ç°javax.servlet.servletcontainerinitializeræ¥å£çç±»ï¼å¦ææ¾å°çè¯å°±ç¨å®æ¥éç½®servletå®¹å¨ã\n\nspringæä¾äºè¿ä¸ªæ¥å£çå®ç°ï¼åä¸ºspringservletcontainerinitializerï¼è¿ä¸ªç±»åè¿æ¥åä¼æ¥æ¾å®ç°webapplicationinitializerçç±»å¹¶å°éç½®çä»»å¡äº¤ç»å®ä»¬æ¥å®æã\n\nspring3.2å¼å¥äºä¸ä¸ªä¾¿å©çwebapplicationinitializeråºç¡å®ç°ï¼åä¸ºabstractannotationconfigdispatcherservletinitializerï¼å½æä»¬çç±»æ©å±äºabstractannotationconfigdispatcherservletinitializerå¹¶å°å¶é¨ç½²å°servlet3.0å®¹å¨çæ¶åï¼å®¹å¨ä¼èªå¨åç°å®ï¼å¹¶ç¨å®æ¥éç½®servletä¸ä¸æã\n\npublic class webinit extends abstractannotationconfigdispatcherservletinitializer {\n\n    /**\n     * æå®springçéç½®ç±»\n     * @return\n     */\n    @override\n    protected class<?>[] getrootconfigclasses() {\n        return new class[]{springconfig.class};\n    }\n\n    /**\n     * æå®springmvcçéç½®ç±»\n     * @return\n     */\n    @override\n    protected class<?>[] getservletconfigclasses() {\n        // è¿åclassæ°ç»\n        return new class[]{webconfig.class};\n    }\n\n    /**\n     * æå®dispatcherservletçæ å°è§å(æ å°è§å)ï¼å³url-pattern\n     * @return\n     */\n    @override\n    protected string[] getservletmappings() {\n        return new string[]{"/"};\n    }\n\n    /**\n     * æ·»å è¿æ»¤å¨\n     * @return\n     */\n    @override\n    protected filter[] getservletfilters() {\n        characterencodingfilter encodingfilter = new characterencodingfilter();\n        encodingfilter.setencoding("utf-8");\n        encodingfilter.setforcerequestencoding(true);\n        hiddenhttpmethodfilter hiddenhttpmethodfilter = new hiddenhttpmethodfilter();\n        return new filter[]{encodingfilter, hiddenhttpmethodfilter};\n    }\n}\n\n\n\n# 2ãåå»ºspringconfigéç½®ç±»ï¼ä»£æ¿springçéç½®æä»¶\n\n@configuration\npublic class springconfig {\n\t//ssmæ´åä¹åï¼springçéç½®ä¿¡æ¯åå¨æ­¤ç±»ä¸­\n}\n\n\n\n# 3ãåå»ºwebconfigéç½®ç±»ï¼ä»£æ¿springmvcçéç½®æä»¶\n\n\n// æ«æç»ä»¶\n// è§å¾è§£æå¨\n// viewcontroller\n// default-servlet-handler\n// mvcæ³¨è§£é©±å¨\n// æä»¶ä¸ä¼ è§£æå¨\n// å¼å¸¸å¤ç\n// æ¦æªå¨\n\n@configuration\n//æ«æç»ä»¶\n@componentscan("com.atguigu.mvc.controller")\n//å¼å¯mvcæ³¨è§£é©±å¨\n@enablewebmvc\npublic class webconfig implements webmvcconfigurer {\n\n    //ä½¿ç¨é»è®¤çservletå¤çéæèµæº\n    @override\n    public void configuredefaultservlethandling(defaultservlethandlerconfigurer configurer) {\n        configurer.enable();\n    }\n\n    //éç½®æä»¶ä¸ä¼ è§£æå¨\n    @bean\n    public commonsmultipartresolver multipartresolver(){\n        return new commonsmultipartresolver();\n    }\n\n    //éç½®æ¦æªå¨\n    @override\n    public void addinterceptors(interceptorregistry registry) {\n        firstinterceptor firstinterceptor = new firstinterceptor();\n\n        //  addpathpatternsæ·»å æ¦æªè§å\n        registry.addinterceptor(firstinterceptor).addpathpatterns("/**");\n    }\n    \n    //éç½®è§å¾æ§å¶\n    \n    /*@override\n    public void addviewcontrollers(viewcontrollerregistry registry) {\n        registry.addviewcontroller("/").setviewname("index");\n    }*/\n    \n    //éç½®å¼å¸¸æ å°\n    /*@override\n    public void configurehandlerexceptionresolvers(list<handlerexceptionresolver> resolvers) {\n        simplemappingexceptionresolver exceptionresolver = new simplemappingexceptionresolver();\n        properties prop = new properties();\n        prop.setproperty("java.lang.arithmeticexception", "error");\n        //è®¾ç½®å¼å¸¸æ å°\n        exceptionresolver.setexceptionmappings(prop);\n        //è®¾ç½®å±äº«å¼å¸¸ä¿¡æ¯çé®\n        exceptionresolver.setexceptionattribute("ex");\n        resolvers.add(exceptionresolver);\n    }*/\n\n    // æ³¨æï¼xmlè§å¾è§£æå¨è¦ä»éå°å¤éç½®\n    //éç½®çææ¨¡æ¿è§£æå¨\n    @bean\n    public itemplateresolver templateresolver() {\n        webapplicationcontext webapplicationcontext = contextloader.getcurrentwebapplicationcontext();\n        // servletcontexttemplateresolveréè¦ä¸ä¸ªservletcontextä½ä¸ºæé åæ°ï¼å¯éè¿webapplicationcontext çæ¹æ³è·å¾\n        servletcontexttemplateresolver templateresolver = new servletcontexttemplateresolver(\n                webapplicationcontext.getservletcontext());\n\n        // è§å¾åç¼\n        templateresolver.setprefix("/web-inf/templates/");\n        // è§å¾åç¼\n        templateresolver.setsuffix(".html");\n        templateresolver.setcharacterencoding("utf-8");\n        templateresolver.settemplatemode(templatemode.html);\n        return templateresolver;\n    }\n\n    //çææ¨¡æ¿å¼æå¹¶ä¸ºæ¨¡æ¿å¼ææ³¨å¥æ¨¡æ¿è§£æå¨\n    @bean\n    public springtemplateengine templateengine(itemplateresolver templateresolver) {\n        springtemplateengine templateengine = new springtemplateengine();\n        templateengine.settemplateresolver(templateresolver);\n        return templateengine;\n    }\n\n    //çæè§å¾è§£æå¨å¹¶æªè§£æå¨æ³¨å¥æ¨¡æ¿å¼æ\n    @bean\n    public viewresolver viewresolver(springtemplateengine templateengine) {\n        thymeleafviewresolver viewresolver = new thymeleafviewresolver();\n        viewresolver.setcharacterencoding("utf-8");\n        viewresolver.settemplateengine(templateengine);\n        return viewresolver;\n    }\n\n\n}\n\n\n\n# 4ãæµè¯åè½\n\n@requestmapping("/")\npublic string index(){\n    return "index";\n}\n\n\n\n# åä¸ãspringmvcæ§è¡æµç¨\n\n\n# 1ãspringmvcå¸¸ç¨ç»ä»¶\n\n * dispatcherservletï¼åç«¯æ§å¶å¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾\n\nä½ç¨ï¼ç»ä¸å¤çè¯·æ±åååºï¼æ´ä¸ªæµç¨æ§å¶çä¸­å¿ï¼ç±å®è°ç¨å¶å®ç»ä»¶å¤çç¨æ·çè¯·æ±\n\n * handlermappingï¼å¤çå¨æ å°å¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾\n\nä½ç¨ï¼æ ¹æ®è¯·æ±çurlãmethodç­ä¿¡æ¯æ¥æ¾handlerï¼å³æ§å¶å¨æ¹æ³\n\n * handlerï¼å¤çå¨ï¼éè¦å·¥ç¨å¸å¼å\n\nä½ç¨ï¼å¨dispatcherservletçæ§å¶ä¸handlerå¯¹å·ä½çç¨æ·è¯·æ±è¿è¡å¤ç\n\n * handleradapterï¼å¤çå¨ééå¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾\n\nä½ç¨ï¼éè¿handleradapterå¯¹å¤çå¨ï¼æ§å¶å¨æ¹æ³ï¼è¿è¡æ§è¡\n\n * viewresolverï¼è§å¾è§£æå¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾ï¼é¡µé¢éè¦èªå·±åï¼\n\nä½ç¨ï¼è¿è¡è§å¾è§£æï¼å¾å°ç¸åºçè§å¾ï¼ä¾å¦ï¼thymeleafviewãinternalresourceviewãredirectview\n\n * viewï¼è§å¾ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æèè§å¾ææ¯æä¾\n\nä½ç¨ï¼å°æ¨¡åæ°æ®éè¿é¡µé¢å±ç¤ºç»ç¨æ·\n\n\n\n\n# 2ãdispatcherservletåå§åè¿ç¨\n\ndispatcherservlet æ¬è´¨ä¸æ¯ä¸ä¸ª servletï¼æä»¥å¤©ç¶çéµå¾ª servlet ççå½å¨æãæä»¥å®è§ä¸æ¯ servlet çå½å¨ææ¥è¿è¡è°åº¦ã\n\n\n\n# a>åå§åwebapplicationcontext\n\næå¨ç±»ï¼org.springframework.web.servlet.frameworkservlet\n\nprotected webapplicationcontext initwebapplicationcontext() {\n    webapplicationcontext rootcontext =\n        webapplicationcontextutils.getwebapplicationcontext(getservletcontext());\n    webapplicationcontext wac = null;\n\n    if (this.webapplicationcontext != null) {\n        // a context instance was injected at construction time -> use it\n        wac = this.webapplicationcontext;\n        if (wac instanceof configurablewebapplicationcontext) {\n            configurablewebapplicationcontext cwac = (configurablewebapplicationcontext) wac;\n            if (!cwac.isactive()) {\n                // the context has not yet been refreshed -> provide services such as\n                // setting the parent context, setting the application context id, etc\n                if (cwac.getparent() == null) {\n                    // the context instance was injected without an explicit parent -> set\n                    // the root application context (if any; may be null) as the parent\n                    cwac.setparent(rootcontext);\n                }\n                configureandrefreshwebapplicationcontext(cwac);\n            }\n        }\n    }\n    if (wac == null) {\n        // no context instance was injected at construction time -> see if one\n        // has been registered in the servlet context. if one exists, it is assumed\n        // that the parent context (if any) has already been set and that the\n        // user has performed any initialization such as setting the context id\n        wac = findwebapplicationcontext();\n    }\n    if (wac == null) {\n        // no context instance is defined for this servlet -> create a local one\n        // åå»ºwebapplicationcontext\n        wac = createwebapplicationcontext(rootcontext);\n    }\n\n    if (!this.refresheventreceived) {\n        // either the context is not a configurableapplicationcontext with refresh\n        // support or the context injected at construction time had already been\n        // refreshed -> trigger initial onrefresh manually here.\n        synchronized (this.onrefreshmonitor) {\n            // å·æ°webapplicationcontext\n            onrefresh(wac);\n        }\n    }\n\n    if (this.publishcontext) {\n        // publish the context as a servlet context attribute.\n        // å°iocå®¹å¨å¨åºç¨åå±äº«\n        string attrname = getservletcontextattributename();\n        getservletcontext().setattribute(attrname, wac);\n    }\n\n    return wac;\n}\n\n\n# b>åå»ºwebapplicationcontext\n\næå¨ç±»ï¼org.springframework.web.servlet.frameworkservlet\n\nprotected webapplicationcontext createwebapplicationcontext(@nullable applicationcontext parent) {\n    class<?> contextclass = getcontextclass();\n    if (!configurablewebapplicationcontext.class.isassignablefrom(contextclass)) {\n        throw new applicationcontextexception(\n            "fatal initialization error in servlet with name \'" + getservletname() +\n            "\': custom webapplicationcontext class [" + contextclass.getname() +\n            "] is not of type configurablewebapplicationcontext");\n    }\n    // éè¿åå°åå»º ioc å®¹å¨å¯¹è±¡\n    configurablewebapplicationcontext wac =\n        (configurablewebapplicationcontext) beanutils.instantiateclass(contextclass);\n\n    wac.setenvironment(getenvironment());\n    // è®¾ç½®ç¶å®¹å¨\n    wac.setparent(parent);\n    string configlocation = getcontextconfiglocation();\n    if (configlocation != null) {\n        wac.setconfiglocation(configlocation);\n    }\n    configureandrefreshwebapplicationcontext(wac);\n\n    return wac;\n}\n\n\n# c>dispatcherservletåå§åç­ç¥\n\nframeworkservletåå»ºwebapplicationcontextåï¼å·æ°å®¹å¨ï¼è°ç¨onrefresh(wac)ï¼æ­¤æ¹æ³å¨dispatcherservletä¸­è¿è¡äºéåï¼è°ç¨äºinitstrategies(context)æ¹æ³ï¼åå«èªå·±éè¦åå§åçæ¹æ³ï¼ï¼åå§åç­ç¥ï¼å³åå§ådispatcherservletçåä¸ªç»ä»¶\n\næå¨ç±»ï¼org.springframework.web.servlet.dispatcherservlet\n\nprotected void initstrategies(applicationcontext context) {\n   initmultipartresolver(context);\n   initlocaleresolver(context);\n   initthemeresolver(context);\n   inithandlermappings(context);\n   inithandleradapters(context);\n   inithandlerexceptionresolvers(context);\n   initrequesttoviewnametranslator(context);\n   initviewresolvers(context);\n   initflashmapmanager(context);\n}\n\n\n\n# 3ãdispatcherservletè°ç¨ç»ä»¶å¤çè¯·æ±\n\n# a>processrequest()\n\nframeworkservletéåhttpservletä¸­çservice()ådoxxx()ï¼è¿äºæ¹æ³ä¸­è°ç¨äºprocessrequest(request, response)\n\næå¨ç±»ï¼org.springframework.web.servlet.frameworkservlet\n\nprotected final void processrequest(httpservletrequest request, httpservletresponse response)\n    throws servletexception, ioexception {\n\n    long starttime = system.currenttimemillis();\n    throwable failurecause = null;\n\n    localecontext previouslocalecontext = localecontextholder.getlocalecontext();\n    localecontext localecontext = buildlocalecontext(request);\n\n    requestattributes previousattributes = requestcontextholder.getrequestattributes();\n    servletrequestattributes requestattributes = buildrequestattributes(request, response, previousattributes);\n\n    webasyncmanager asyncmanager = webasyncutils.getasyncmanager(request);\n    asyncmanager.registercallableinterceptor(frameworkservlet.class.getname(), new requestbindinginterceptor());\n\n    initcontextholders(request, localecontext, requestattributes);\n\n    try {\n\t\t// æ§è¡æå¡ï¼doservice()æ¯ä¸ä¸ªæ½è±¡æ¹æ³ï¼å¨dispatcherservletä¸­è¿è¡äºéå\n        doservice(request, response);\n    }\n    catch (servletexception | ioexception ex) {\n        failurecause = ex;\n        throw ex;\n    }\n    catch (throwable ex) {\n        failurecause = ex;\n        throw new nestedservletexception("request processing failed", ex);\n    }\n\n    finally {\n        resetcontextholders(request, previouslocalecontext, previousattributes);\n        if (requestattributes != null) {\n            requestattributes.requestcompleted();\n        }\n        logresult(request, response, failurecause, asyncmanager);\n        publishrequesthandledevent(request, response, starttime, failurecause);\n    }\n}\n\n\n# b>doservice()\n\næå¨ç±»ï¼org.springframework.web.servlet.dispatcherservlet\n\n@override\nprotected void doservice(httpservletrequest request, httpservletresponse response) throws exception {\n    logrequest(request);\n\n    // keep a snapshot of the request attributes in case of an include,\n    // to be able to restore the original attributes after the include.\n    map<string, object> attributessnapshot = null;\n    if (webutils.isincluderequest(request)) {\n        attributessnapshot = new hashmap<>();\n        enumeration<?> attrnames = request.getattributenames();\n        while (attrnames.hasmoreelements()) {\n            string attrname = (string) attrnames.nextelement();\n            if (this.cleanupafterinclude || attrname.startswith(default_strategies_prefix)) {\n                attributessnapshot.put(attrname, request.getattribute(attrname));\n            }\n        }\n    }\n\n    // make framework objects available to handlers and view objects.\n    request.setattribute(web_application_context_attribute, getwebapplicationcontext());\n    request.setattribute(locale_resolver_attribute, this.localeresolver);\n    request.setattribute(theme_resolver_attribute, this.themeresolver);\n    request.setattribute(theme_source_attribute, getthemesource());\n\n    if (this.flashmapmanager != null) {\n        flashmap inputflashmap = this.flashmapmanager.retrieveandupdate(request, response);\n        if (inputflashmap != null) {\n            request.setattribute(input_flash_map_attribute, collections.unmodifiablemap(inputflashmap));\n        }\n        request.setattribute(output_flash_map_attribute, new flashmap());\n        request.setattribute(flash_map_manager_attribute, this.flashmapmanager);\n    }\n\n    requestpath requestpath = null;\n    if (this.parserequestpath && !servletrequestpathutils.hasparsedrequestpath(request)) {\n        requestpath = servletrequestpathutils.parseandcache(request);\n    }\n\n    try {\n        // å¤çè¯·æ±åååº\n        dodispatch(request, response);\n    }\n    finally {\n        if (!webasyncutils.getasyncmanager(request).isconcurrenthandlingstarted()) {\n            // restore the original attribute snapshot, in case of an include.\n            if (attributessnapshot != null) {\n                restoreattributesafterinclude(request, attributessnapshot);\n            }\n        }\n        if (requestpath != null) {\n            servletrequestpathutils.clearparsedrequestpath(request);\n        }\n    }\n}\n\n\n# c>dodispatch()\n\næå¨ç±»ï¼org.springframework.web.servlet.dispatcherservlet\n\nprotected void dodispatch(httpservletrequest request, httpservletresponse response) throws exception {\n    httpservletrequest processedrequest = request;\n    handlerexecutionchain mappedhandler = null;\n    boolean multipartrequestparsed = false;\n\n    webasyncmanager asyncmanager = webasyncutils.getasyncmanager(request);\n\n    try {\n        modelandview mv = null;\n        exception dispatchexception = null;\n\n        try {\n            processedrequest = checkmultipart(request);\n            multipartrequestparsed = (processedrequest != request);\n\n            // determine handler for the current request.\n            /*\n            \tmappedhandlerï¼è°ç¨é¾\n                åå«handlerãinterceptorlistãinterceptorindex\n            \thandlerï¼æµè§å¨åéçè¯·æ±æå¹éçæ§å¶å¨æ¹æ³\n            \tinterceptorlistï¼å¤çæ§å¶å¨æ¹æ³çæææ¦æªå¨éå\n            \tinterceptorindexï¼æ¦æªå¨ç´¢å¼ï¼æ§å¶æ¦æªå¨aftercompletion()çæ§è¡\n            */\n            mappedhandler = gethandler(processedrequest);\n            if (mappedhandler == null) {\n                nohandlerfound(processedrequest, response);\n                return;\n            }\n\n            // determine handler adapter for the current request.\n           \t// éè¿æ§å¶å¨æ¹æ³åå»ºç¸åºçå¤çå¨ééå¨ï¼è°ç¨æå¯¹åºçæ§å¶å¨æ¹æ³\n            handleradapter ha = gethandleradapter(mappedhandler.gethandler());\n\n            // process last-modified header, if supported by the handler.\n            string method = request.getmethod();\n            boolean isget = "get".equals(method);\n            if (isget || "head".equals(method)) {\n                long lastmodified = ha.getlastmodified(request, mappedhandler.gethandler());\n                if (new servletwebrequest(request, response).checknotmodified(lastmodified) && isget) {\n                    return;\n                }\n            }\n\t\t\t\n            // è°ç¨æ¦æªå¨çprehandle()\n            if (!mappedhandler.applyprehandle(processedrequest, response)) {\n                return;\n            }\n\n            // actually invoke the handler.\n            // ç±å¤çå¨ééå¨è°ç¨å·ä½çæ§å¶å¨æ¹æ³ï¼æç»è·å¾modelandviewå¯¹è±¡\n            mv = ha.handle(processedrequest, response, mappedhandler.gethandler());\n\n            if (asyncmanager.isconcurrenthandlingstarted()) {\n                return;\n            }\n\n            applydefaultviewname(processedrequest, mv);\n            // è°ç¨æ¦æªå¨çposthandle()\n            mappedhandler.applyposthandle(processedrequest, response, mv);\n        }\n        catch (exception ex) {\n            dispatchexception = ex;\n        }\n        catch (throwable err) {\n            // as of 4.3, we\'re processing errors thrown from handler methods as well,\n            // making them available for @exceptionhandler methods and other scenarios.\n            dispatchexception = new nestedservletexception("handler dispatch failed", err);\n        }\n        // åç»­å¤çï¼å¤çæ¨¡åæ°æ®åæ¸²æè§å¾\n        processdispatchresult(processedrequest, response, mappedhandler, mv, dispatchexception);\n    }\n    catch (exception ex) {\n        triggeraftercompletion(processedrequest, response, mappedhandler, ex);\n    }\n    catch (throwable err) {\n        triggeraftercompletion(processedrequest, response, mappedhandler,\n                               new nestedservletexception("handler processing failed", err));\n    }\n    finally {\n        if (asyncmanager.isconcurrenthandlingstarted()) {\n            // instead of posthandle and aftercompletion\n            if (mappedhandler != null) {\n                mappedhandler.applyafterconcurrenthandlingstarted(processedrequest, response);\n            }\n        }\n        else {\n            // clean up any resources used by a multipart request.\n            if (multipartrequestparsed) {\n                cleanupmultipart(processedrequest);\n            }\n        }\n    }\n}\n\n\n# d>processdispatchresult()\n\nprivate void processdispatchresult(httpservletrequest request, httpservletresponse response,\n                                   @nullable handlerexecutionchain mappedhandler, @nullable modelandview mv,\n                                   @nullable exception exception) throws exception {\n\n    boolean errorview = false;\n\n    if (exception != null) {\n        if (exception instanceof modelandviewdefiningexception) {\n            logger.debug("modelandviewdefiningexception encountered", exception);\n            mv = ((modelandviewdefiningexception) exception).getmodelandview();\n        }\n        else {\n            object handler = (mappedhandler != null ? mappedhandler.gethandler() : null);\n            mv = processhandlerexception(request, response, handler, exception);\n            errorview = (mv != null);\n        }\n    }\n\n    // did the handler return a view to render?\n    if (mv != null && !mv.wascleared()) {\n        // å¤çæ¨¡åæ°æ®åæ¸²æè§å¾\n        render(mv, request, response);\n        if (errorview) {\n            webutils.clearerrorrequestattributes(request);\n        }\n    }\n    else {\n        if (logger.istraceenabled()) {\n            logger.trace("no view rendering, null modelandview returned.");\n        }\n    }\n\n    if (webasyncutils.getasyncmanager(request).isconcurrenthandlingstarted()) {\n        // concurrent handling started during a forward\n        return;\n    }\n\n    if (mappedhandler != null) {\n        // exception (if any) is already handled..\n        // è°ç¨æ¦æªå¨çaftercompletion()\n        mappedhandler.triggeraftercompletion(request, response, null);\n    }\n}\n\n\n\n# 4ãspringmvcçæ§è¡æµç¨\n\n 1. ç¨æ·åæå¡å¨åéè¯·æ±ï¼è¯·æ±è¢«springmvc åç«¯æ§å¶å¨ dispatcherservletæè·ã\n\n 2. dispatcherservletå¯¹è¯·æ±urlè¿è¡è§£æï¼å¾å°è¯·æ±èµæºæ è¯ç¬¦ï¼uriï¼ï¼å¤æ­è¯·æ±uriå¯¹åºçæ å°ï¼\n\na) ä¸å­å¨\n\ni. åå¤æ­æ¯å¦éç½®äºmvc:default-servlet-handler\n\nii. å¦ææ²¡éç½®ï¼åæ§å¶å°æ¥æ å°æ¥æ¾ä¸å°ï¼å®¢æ·ç«¯å±ç¤º404éè¯¯\n\n\n\n\n\niii. å¦ææéç½®ï¼åè®¿é®ç®æ èµæºï¼ä¸è¬ä¸ºéæèµæºï¼å¦ï¼js,css,htmlï¼ï¼æ¾ä¸å°å®¢æ·ç«¯ä¹ä¼å±ç¤º404éè¯¯\n\n\n\n\n\nb) å­å¨åæ§è¡ä¸é¢çæµç¨\n\n 3. æ ¹æ®è¯¥uriï¼è°ç¨handlermappingè·å¾è¯¥handleréç½®çææç¸å³çå¯¹è±¡ï¼åæ¬handlerå¯¹è±¡ä»¥åhandlerå¯¹è±¡å¯¹åºçæ¦æªå¨ï¼ï¼æåä»¥handlerexecutionchainæ§è¡é¾å¯¹è±¡çå½¢å¼è¿åã\n\n 4. dispatcherservlet æ ¹æ®è·å¾çhandlerï¼éæ©ä¸ä¸ªåéçhandleradapterã\n\n 5. å¦ææåè·å¾handleradapterï¼æ­¤æ¶å°å¼å§æ§è¡æ¦æªå¨çprehandler(â¦)æ¹æ³ãæ­£åã\n\n 6. æårequestä¸­çæ¨¡åæ°æ®ï¼å¡«åhandlerå¥åï¼å¼å§æ§è¡handlerï¼controller)æ¹æ³ï¼å¤çè¯·æ±ãå¨å¡«åhandlerçå¥åè¿ç¨ä¸­ï¼æ ¹æ®ä½ çéç½®ï¼springå°å¸®ä½ åä¸äºé¢å¤çå·¥ä½ï¼\n\na) httpmessageconveterï¼ å°è¯·æ±æ¶æ¯ï¼å¦jsonãxmlç­æ°æ®ï¼è½¬æ¢æä¸ä¸ªå¯¹è±¡ï¼å°å¯¹è±¡è½¬æ¢ä¸ºæå®çååºä¿¡æ¯\n\nb) æ°æ®è½¬æ¢ï¼å¯¹è¯·æ±æ¶æ¯è¿è¡æ°æ®è½¬æ¢ãå¦stringè½¬æ¢æintegerãdoubleç­\n\nc) æ°æ®æ ¼å¼åï¼å¯¹è¯·æ±æ¶æ¯è¿è¡æ°æ®æ ¼å¼åã å¦å°å­ç¬¦ä¸²è½¬æ¢ææ ¼å¼åæ°å­ææ ¼å¼åæ¥æç­\n\nd) æ°æ®éªè¯ï¼ éªè¯æ°æ®çæææ§ï¼é¿åº¦ãæ ¼å¼ç­ï¼ï¼éªè¯ç»æå­å¨å°bindingresultæerrorä¸­\n\n 7.  handleræ§è¡å®æåï¼ådispatcherservlet è¿åä¸ä¸ªmodelandviewå¯¹è±¡ã\n\n 8.  æ­¤æ¶å°å¼å§æ§è¡æ¦æªå¨çposthandle(...)æ¹æ³ãéåãã\n\n 9.  æ ¹æ®è¿åçmodelandviewï¼æ­¤æ¶ä¼å¤æ­æ¯å¦å­å¨å¼å¸¸ï¼å¦æå­å¨å¼å¸¸ï¼åæ§è¡handlerexceptionresolverè¿è¡å¼å¸¸å¤çï¼éæ©ä¸ä¸ªéåçviewresolverè¿è¡è§å¾è§£æï¼æ ¹æ®modelåviewï¼æ¥æ¸²æè§å¾ã\n\n 10. æ¸²æè§å¾å®æ¯æ§è¡æ¦æªå¨çaftercompletion(â¦)æ¹æ³ãéåãã\n\n 11. å°æ¸²æç»æè¿åç»å®¢æ·ç«¯ã',charsets:{cjk:!0}},{title:"æä»¶ä¸ä¼ åä¸è½½",frontmatter:{title:"æä»¶ä¸ä¼ åä¸è½½",date:"2022-05-11T00:00:00.000Z",permalink:"/springmvc/009/",categories:["æ¡æ¶","SpringMVC"],tags:["SpringMVC"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/02.SpringMVC/09.%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%92%8C%E4%B8%8B%E8%BD%BD.html",relativePath:"07.æ¡æ¶/02.SpringMVC/09.æä»¶ä¸ä¼ åä¸è½½.md",key:"v-b70bddee",path:"/springmvc/009/",headers:[{level:3,title:"1ãæä»¶ä¸è½½",slug:"_1ãæä»¶ä¸è½½",normalizedTitle:"1ãæä»¶ä¸è½½",charIndex:16},{level:3,title:"2ãæä»¶ä¸ä¼ ",slug:"_2ãæä»¶ä¸ä¼ ",normalizedTitle:"2ãæä»¶ä¸ä¼ ",charIndex:993}],headersStr:"1ãæä»¶ä¸è½½ 2ãæä»¶ä¸ä¼ ",content:'# ä¹ãæä»¶ä¸ä¼ åä¸è½½\n\n\n# 1ãæä»¶ä¸è½½\n\nä½¿ç¨ResponseEntityå®ç°ä¸è½½æä»¶çåè½\n\n@RequestMapping("/testDown")\npublic ResponseEntity<byte[]> testResponseEntity(HttpSession session) throws IOException {\n    //è·åServletContextå¯¹è±¡\n    ServletContext servletContext = session.getServletContext();\n    //è·åæå¡å¨ä¸­æä»¶ççå®è·¯å¾\n    String realPath = servletContext.getRealPath("/static/https://cdn.jsdelivr.net/gh/leejiayang/BlogImages@main/springmvc/1.jpg");\n    //åå»ºè¾å¥æµ\n    InputStream is = new FileInputStream(realPath);\n    //åå»ºå­èæ°ç»\n    byte[] bytes = new byte[is.available()];\n    //å°æµè¯»å°å­èæ°ç»ä¸­\n    is.read(bytes);\n    //åå»ºHttpHeaderså¯¹è±¡è®¾ç½®ååºå¤´ä¿¡æ¯\n    MultiValueMap<String, String> headers = new HttpHeaders();\n    //è®¾ç½®è¦ä¸è½½æ¹å¼ä»¥åä¸è½½æä»¶çåå­\n    headers.add("Content-Disposition", "attachment;filename=1.jpg");\n    //è®¾ç½®ååºç¶æç \n    HttpStatus statusCode = HttpStatus.OK;\n    //åå»ºResponseEntityå¯¹è±¡\n    ResponseEntity<byte[]> responseEntity = new ResponseEntity<>(bytes, headers, statusCode);\n    //å³é­è¾å¥æµ\n    is.close();\n    return responseEntity;\n}\n\n\n\n# 2ãæä»¶ä¸ä¼ \n\næä»¶ä¸ä¼ è¦æ±formè¡¨åçè¯·æ±æ¹å¼å¿é¡»ä¸ºpostï¼å¹¶ä¸æ·»å å±æ§enctype="multipart/form-data"\n\nSpringMVCä¸­å°ä¸ä¼ çæä»¶å°è£å°MultipartFileå¯¹è±¡ä¸­ï¼éè¿æ­¤å¯¹è±¡å¯ä»¥è·åæä»¶ç¸å³ä¿¡æ¯\n\nä¸ä¼ æ­¥éª¤ï¼\n\na>æ·»å ä¾èµï¼\n\n\x3c!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --\x3e\n<dependency>\n    <groupId>commons-fileupload</groupId>\n    <artifactId>commons-fileupload</artifactId>\n    <version>1.3.1</version>\n</dependency>\n\n\nb>å¨SpringMVCçéç½®æä»¶ä¸­æ·»å éç½®ï¼\n\n\x3c!--å¿é¡»éè¿æä»¶è§£æå¨çè§£ææè½å°æä»¶è½¬æ¢ä¸ºMultipartFileå¯¹è±¡--\x3e\n<bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"></bean>\n\n\nc>æ§å¶å¨æ¹æ³ï¼\n\n@RequestMapping("/testUp")\npublic String testUp(MultipartFile photo, HttpSession session) throws IOException {\n    //è·åä¸ä¼ çæä»¶çæä»¶å\n    String fileName = photo.getOriginalFilename();\n    //å¤çæä»¶éåé®é¢\n    // è·ååç¼å\n    String hzName = fileName.substring(fileName.lastIndexOf("."));\n    // å°UUIDååç¼åæ¼æ¥çæ­£çæä»¶å\n    fileName = UUID.randomUUID().toString() + hzName;\n    //è·åæå¡å¨ä¸­photoç®å½çè·¯å¾\n    ServletContext servletContext = session.getServletContext();\n    String photoPath = servletContext.getRealPath("photo");\n    File file = new File(photoPath);\n    if(!file.exists()){\n        file.mkdir();\n    }\n    String finalPath = photoPath + File.separator + fileName;\n    //å®ç°ä¸ä¼ åè½\n    photo.transferTo(new File(finalPath));\n    return "success";\n}\n',normalizedContent:'# ä¹ãæä»¶ä¸ä¼ åä¸è½½\n\n\n# 1ãæä»¶ä¸è½½\n\nä½¿ç¨responseentityå®ç°ä¸è½½æä»¶çåè½\n\n@requestmapping("/testdown")\npublic responseentity<byte[]> testresponseentity(httpsession session) throws ioexception {\n    //è·åservletcontextå¯¹è±¡\n    servletcontext servletcontext = session.getservletcontext();\n    //è·åæå¡å¨ä¸­æä»¶ççå®è·¯å¾\n    string realpath = servletcontext.getrealpath("/static/https://cdn.jsdelivr.net/gh/leejiayang/blogimages@main/springmvc/1.jpg");\n    //åå»ºè¾å¥æµ\n    inputstream is = new fileinputstream(realpath);\n    //åå»ºå­èæ°ç»\n    byte[] bytes = new byte[is.available()];\n    //å°æµè¯»å°å­èæ°ç»ä¸­\n    is.read(bytes);\n    //åå»ºhttpheaderså¯¹è±¡è®¾ç½®ååºå¤´ä¿¡æ¯\n    multivaluemap<string, string> headers = new httpheaders();\n    //è®¾ç½®è¦ä¸è½½æ¹å¼ä»¥åä¸è½½æä»¶çåå­\n    headers.add("content-disposition", "attachment;filename=1.jpg");\n    //è®¾ç½®ååºç¶æç \n    httpstatus statuscode = httpstatus.ok;\n    //åå»ºresponseentityå¯¹è±¡\n    responseentity<byte[]> responseentity = new responseentity<>(bytes, headers, statuscode);\n    //å³é­è¾å¥æµ\n    is.close();\n    return responseentity;\n}\n\n\n\n# 2ãæä»¶ä¸ä¼ \n\næä»¶ä¸ä¼ è¦æ±formè¡¨åçè¯·æ±æ¹å¼å¿é¡»ä¸ºpostï¼å¹¶ä¸æ·»å å±æ§enctype="multipart/form-data"\n\nspringmvcä¸­å°ä¸ä¼ çæä»¶å°è£å°multipartfileå¯¹è±¡ä¸­ï¼éè¿æ­¤å¯¹è±¡å¯ä»¥è·åæä»¶ç¸å³ä¿¡æ¯\n\nä¸ä¼ æ­¥éª¤ï¼\n\na>æ·»å ä¾èµï¼\n\n\x3c!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --\x3e\n<dependency>\n    <groupid>commons-fileupload</groupid>\n    <artifactid>commons-fileupload</artifactid>\n    <version>1.3.1</version>\n</dependency>\n\n\nb>å¨springmvcçéç½®æä»¶ä¸­æ·»å éç½®ï¼\n\n\x3c!--å¿é¡»éè¿æä»¶è§£æå¨çè§£ææè½å°æä»¶è½¬æ¢ä¸ºmultipartfileå¯¹è±¡--\x3e\n<bean id="multipartresolver" class="org.springframework.web.multipart.commons.commonsmultipartresolver"></bean>\n\n\nc>æ§å¶å¨æ¹æ³ï¼\n\n@requestmapping("/testup")\npublic string testup(multipartfile photo, httpsession session) throws ioexception {\n    //è·åä¸ä¼ çæä»¶çæä»¶å\n    string filename = photo.getoriginalfilename();\n    //å¤çæä»¶éåé®é¢\n    // è·ååç¼å\n    string hzname = filename.substring(filename.lastindexof("."));\n    // å°uuidååç¼åæ¼æ¥çæ­£çæä»¶å\n    filename = uuid.randomuuid().tostring() + hzname;\n    //è·åæå¡å¨ä¸­photoç®å½çè·¯å¾\n    servletcontext servletcontext = session.getservletcontext();\n    string photopath = servletcontext.getrealpath("photo");\n    file file = new file(photopath);\n    if(!file.exists()){\n        file.mkdir();\n    }\n    string finalpath = photopath + file.separator + filename;\n    //å®ç°ä¸ä¼ åè½\n    photo.transferto(new file(finalpath));\n    return "success";\n}\n',charsets:{cjk:!0}},{title:"RESTfulæ¡ä¾",frontmatter:{title:"RESTfulæ¡ä¾",date:"2022-05-10T00:00:00.000Z",permalink:"/springmvc/008/",categories:["æ¡æ¶","SpringMVC"],tags:["SpringMVC"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/02.SpringMVC/08.RESTful%E6%A1%88%E4%BE%8B.html",relativePath:"07.æ¡æ¶/02.SpringMVC/08.RESTfulæ¡ä¾.md",key:"v-62753aac",path:"/springmvc/008/",headers:[{level:3,title:"1ãåå¤å·¥ä½",slug:"_1ãåå¤å·¥ä½",normalizedTitle:"1ãåå¤å·¥ä½",charIndex:18},{level:3,title:"2ãåè½æ¸å",slug:"_2ãåè½æ¸å",normalizedTitle:"2ãåè½æ¸å",charIndex:2536},{level:3,title:"3ãå·ä½åè½ï¼è®¿é®é¦é¡µ",slug:"_3ãå·ä½åè½-è®¿é®é¦é¡µ",normalizedTitle:"3ãå·ä½åè½ï¼è®¿é®é¦é¡µ",charIndex:2801},{level:5,title:"a>éç½®view-controller",slug:"a-éç½®view-controller",normalizedTitle:"a&gt;éç½®view-controller",charIndex:null},{level:5,title:"b>åå»ºé¡µé¢",slug:"b-åå»ºé¡µé¢",normalizedTitle:"b&gt;åå»ºé¡µé¢",charIndex:null},{level:3,title:"4ãå·ä½åè½ï¼æ¥è¯¢ææåå·¥æ°æ®",slug:"_4ãå·ä½åè½-æ¥è¯¢ææåå·¥æ°æ®",normalizedTitle:"4ãå·ä½åè½ï¼æ¥è¯¢ææåå·¥æ°æ®",charIndex:3126},{level:5,title:"a>æ§å¶å¨æ¹æ³",slug:"a-æ§å¶å¨æ¹æ³",normalizedTitle:"a&gt;æ§å¶å¨æ¹æ³",charIndex:null},{level:5,title:"b>åå»ºemployee_list.html",slug:"b-åå»ºemployee-list-html",normalizedTitle:"b&gt;åå»ºemployee_list.html",charIndex:null},{level:3,title:"5ãå·ä½åè½ï¼å é¤",slug:"_5ãå·ä½åè½-å é¤",normalizedTitle:"5ãå·ä½åè½ï¼å é¤",charIndex:4887},{level:5,title:"a>åå»ºå¤çdeleteè¯·æ±æ¹å¼çè¡¨å",slug:"a-åå»ºå¤çdeleteè¯·æ±æ¹å¼çè¡¨å",normalizedTitle:"a&gt;åå»ºå¤çdeleteè¯·æ±æ¹å¼çè¡¨å",charIndex:null},{level:5,title:"b>å é¤è¶é¾æ¥ç»å®ç¹å»äºä»¶",slug:"b-å é¤è¶é¾æ¥ç»å®ç¹å»äºä»¶",normalizedTitle:"b&gt;å é¤è¶é¾æ¥ç»å®ç¹å»äºä»¶",charIndex:null},{level:5,title:"c> å¼æ¾éæèµæºè®¿é®",slug:"c-å¼æ¾éæèµæºè®¿é®",normalizedTitle:"c&gt; å¼æ¾éæèµæºè®¿é®",charIndex:null},{level:5,title:"d>æ§å¶å¨æ¹æ³",slug:"d-æ§å¶å¨æ¹æ³",normalizedTitle:"d&gt;æ§å¶å¨æ¹æ³",charIndex:null},{level:3,title:"6ãå·ä½åè½ï¼è·³è½¬å°æ·»å æ°æ®é¡µé¢",slug:"_6ãå·ä½åè½-è·³è½¬å°æ·»å æ°æ®é¡µé¢",normalizedTitle:"6ãå·ä½åè½ï¼è·³è½¬å°æ·»å æ°æ®é¡µé¢",charIndex:6251},{level:5,title:"a>éç½®view-controller",slug:"a-éç½®view-controller-2",normalizedTitle:"a&gt;éç½®view-controller",charIndex:null},{level:5,title:"b>åå»ºemployee_add.html",slug:"b-åå»ºemployee-add-html",normalizedTitle:"b&gt;åå»ºemployee_add.html",charIndex:null},{level:3,title:"7ãå·ä½åè½ï¼æ§è¡ä¿å­",slug:"_7ãå·ä½åè½-æ§è¡ä¿å­",normalizedTitle:"7ãå·ä½åè½ï¼æ§è¡ä¿å­",charIndex:6890},{level:5,title:"a>æ§å¶å¨æ¹æ³",slug:"a-æ§å¶å¨æ¹æ³-2",normalizedTitle:"a&gt;æ§å¶å¨æ¹æ³",charIndex:null},{level:3,title:"8ãå·ä½åè½ï¼è·³è½¬å°æ´æ°æ°æ®é¡µé¢",slug:"_8ãå·ä½åè½-è·³è½¬å°æ´æ°æ°æ®é¡µé¢",normalizedTitle:"8ãå·ä½åè½ï¼è·³è½¬å°æ´æ°æ°æ®é¡µé¢",charIndex:7098},{level:5,title:"a>ä¿®æ¹è¶é¾æ¥",slug:"a-ä¿®æ¹è¶é¾æ¥",normalizedTitle:"a&gt;ä¿®æ¹è¶é¾æ¥",charIndex:null},{level:5,title:"b>æ§å¶å¨æ¹æ³",slug:"b-æ§å¶å¨æ¹æ³",normalizedTitle:"b&gt;æ§å¶å¨æ¹æ³",charIndex:null},{level:5,title:"c>åå»ºemployee_update.html",slug:"c-åå»ºemployee-update-html",normalizedTitle:"c&gt;åå»ºemployee_update.html",charIndex:null},{level:3,title:"9ãå·ä½åè½ï¼æ§è¡æ´æ°",slug:"_9ãå·ä½åè½-æ§è¡æ´æ°",normalizedTitle:"9ãå·ä½åè½ï¼æ§è¡æ´æ°",charIndex:8354},{level:5,title:"a>æ§å¶å¨æ¹æ³",slug:"a-æ§å¶å¨æ¹æ³-3",normalizedTitle:"a&gt;æ§å¶å¨æ¹æ³",charIndex:null},{level:3,title:"1ã@RequestBody",slug:"_1ã-requestbody",normalizedTitle:"1ã@requestbody",charIndex:8764},{level:3,title:"2ãRequestEntity",slug:"_2ãrequestentity",normalizedTitle:"2ãrequestentity",charIndex:9279},{level:3,title:"3ã@ResponseBodyï¼ç¨çæå¤ï¼",slug:"_3ã-responsebody-ç¨çæå¤",normalizedTitle:"3ã@responsebodyï¼ç¨çæå¤ï¼",charIndex:10125},{level:3,title:"4ãSpringMVCå¤çjson",slug:"_4ãspringmvcå¤çjson",normalizedTitle:"4ãspringmvcå¤çjson",charIndex:10441},{level:3,title:"5ãSpringMVCå¤çajax",slug:"_5ãspringmvcå¤çajax",normalizedTitle:"5ãspringmvcå¤çajax",charIndex:11116},{level:3,title:"6ã@RestControlleræ³¨è§£",slug:"_6ã-restcontrolleræ³¨è§£",normalizedTitle:"6ã@restcontrolleræ³¨è§£",charIndex:12174},{level:3,title:"7ãResponseEntity",slug:"_7ãresponseentity",normalizedTitle:"7ãresponseentity",charIndex:12298},{level:3,title:"1ãæä»¶ä¸è½½",slug:"_1ãæä»¶ä¸è½½",normalizedTitle:"1ãæä»¶ä¸è½½",charIndex:12386},{level:3,title:"2ãæä»¶ä¸ä¼ ",slug:"_2ãæä»¶ä¸ä¼ ",normalizedTitle:"2ãæä»¶ä¸ä¼ ",charIndex:13363},{level:3,title:"1ãæ¦æªå¨çéç½®",slug:"_1ãæ¦æªå¨çéç½®",normalizedTitle:"1ãæ¦æªå¨çéç½®",charIndex:14672},{level:3,title:"2ãæ¦æªå¨çä¸ä¸ªæ½è±¡æ¹æ³",slug:"_2ãæ¦æªå¨çä¸ä¸ªæ½è±¡æ¹æ³",normalizedTitle:"2ãæ¦æªå¨çä¸ä¸ªæ½è±¡æ¹æ³",charIndex:15575},{level:3,title:"3ãå¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº",slug:"_3ãå¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº",normalizedTitle:"3ãå¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº",charIndex:15823},{level:3,title:"1ãåºäºéç½®çå¼å¸¸å¤ç",slug:"_1ãåºäºéç½®çå¼å¸¸å¤ç",normalizedTitle:"1ãåºäºéç½®çå¼å¸¸å¤ç",charIndex:16130},{level:3,title:"2ãåºäºæ³¨è§£çå¼å¸¸å¤ç",slug:"_2ãåºäºæ³¨è§£çå¼å¸¸å¤ç",normalizedTitle:"2ãåºäºæ³¨è§£çå¼å¸¸å¤ç",charIndex:16893},{level:3,title:"1ãåå»ºåå§åç±»ï¼ä»£æ¿web.xml",slug:"_1ãåå»ºåå§åç±»-ä»£æ¿web-xml",normalizedTitle:"1ãåå»ºåå§åç±»ï¼ä»£æ¿web.xml",charIndex:17347},{level:3,title:"2ãåå»ºSpringConfigéç½®ç±»ï¼ä»£æ¿springçéç½®æä»¶",slug:"_2ãåå»ºspringconfigéç½®ç±»-ä»£æ¿springçéç½®æä»¶",normalizedTitle:"2ãåå»ºspringconfigéç½®ç±»ï¼ä»£æ¿springçéç½®æä»¶",charIndex:18867},{level:3,title:"3ãåå»ºWebConfigéç½®ç±»ï¼ä»£æ¿SpringMVCçéç½®æä»¶",slug:"_3ãåå»ºwebconfigéç½®ç±»-ä»£æ¿springmvcçéç½®æä»¶",normalizedTitle:"3ãåå»ºwebconfigéç½®ç±»ï¼ä»£æ¿springmvcçéç½®æä»¶",charIndex:18980},{level:3,title:"4ãæµè¯åè½",slug:"_4ãæµè¯åè½",normalizedTitle:"4ãæµè¯åè½",charIndex:21939},{level:3,title:"1ãSpringMVCå¸¸ç¨ç»ä»¶",slug:"_1ãspringmvcå¸¸ç¨ç»ä»¶",normalizedTitle:"1ãspringmvcå¸¸ç¨ç»ä»¶",charIndex:22039},{level:3,title:"2ãDispatcherServletåå§åè¿ç¨",slug:"_2ãdispatcherservletåå§åè¿ç¨",normalizedTitle:"2ãdispatcherservletåå§åè¿ç¨",charIndex:22540},{level:5,title:"a>åå§åWebApplicationContext",slug:"a-åå§åwebapplicationcontext",normalizedTitle:"a&gt;åå§åwebapplicationcontext",charIndex:null},{level:5,title:"b>åå»ºWebApplicationContext",slug:"b-åå»ºwebapplicationcontext",normalizedTitle:"b&gt;åå»ºwebapplicationcontext",charIndex:null},{level:5,title:"c>DispatcherServletåå§åç­ç¥",slug:"c-dispatcherservletåå§åç­ç¥",normalizedTitle:"c&gt;dispatcherservletåå§åç­ç¥",charIndex:null},{level:3,title:"3ãDispatcherServletè°ç¨ç»ä»¶å¤çè¯·æ±",slug:"_3ãdispatcherservletè°ç¨ç»ä»¶å¤çè¯·æ±",normalizedTitle:"3ãdispatcherservletè°ç¨ç»ä»¶å¤çè¯·æ±",charIndex:26812},{level:5,title:"a>processRequest()",slug:"a-processrequest",normalizedTitle:"a&gt;processrequest()",charIndex:null},{level:5,title:"b>doService()",slug:"b-doservice",normalizedTitle:"b&gt;doservice()",charIndex:null},{level:5,title:"c>doDispatch()",slug:"c-dodispatch",normalizedTitle:"c&gt;dodispatch()",charIndex:null},{level:5,title:"d>processDispatchResult()",slug:"d-processdispatchresult",normalizedTitle:"d&gt;processdispatchresult()",charIndex:null},{level:3,title:"4ãSpringMVCçæ§è¡æµç¨",slug:"_4ãspringmvcçæ§è¡æµç¨",normalizedTitle:"4ãspringmvcçæ§è¡æµç¨",charIndex:36325}],headersStr:"1ãåå¤å·¥ä½ 2ãåè½æ¸å 3ãå·ä½åè½ï¼è®¿é®é¦é¡µ a>éç½®view-controller b>åå»ºé¡µé¢ 4ãå·ä½åè½ï¼æ¥è¯¢ææåå·¥æ°æ® a>æ§å¶å¨æ¹æ³ b>åå»ºemployee_list.html 5ãå·ä½åè½ï¼å é¤ a>åå»ºå¤çdeleteè¯·æ±æ¹å¼çè¡¨å b>å é¤è¶é¾æ¥ç»å®ç¹å»äºä»¶ c> å¼æ¾éæèµæºè®¿é® d>æ§å¶å¨æ¹æ³ 6ãå·ä½åè½ï¼è·³è½¬å°æ·»å æ°æ®é¡µé¢ a>éç½®view-controller b>åå»ºemployee_add.html 7ãå·ä½åè½ï¼æ§è¡ä¿å­ a>æ§å¶å¨æ¹æ³ 8ãå·ä½åè½ï¼è·³è½¬å°æ´æ°æ°æ®é¡µé¢ a>ä¿®æ¹è¶é¾æ¥ b>æ§å¶å¨æ¹æ³ c>åå»ºemployee_update.html 9ãå·ä½åè½ï¼æ§è¡æ´æ° a>æ§å¶å¨æ¹æ³ 1ã@RequestBody 2ãRequestEntity 3ã@ResponseBodyï¼ç¨çæå¤ï¼ 4ãSpringMVCå¤çjson 5ãSpringMVCå¤çajax 6ã@RestControlleræ³¨è§£ 7ãResponseEntity 1ãæä»¶ä¸è½½ 2ãæä»¶ä¸ä¼  1ãæ¦æªå¨çéç½® 2ãæ¦æªå¨çä¸ä¸ªæ½è±¡æ¹æ³ 3ãå¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº 1ãåºäºéç½®çå¼å¸¸å¤ç 2ãåºäºæ³¨è§£çå¼å¸¸å¤ç 1ãåå»ºåå§åç±»ï¼ä»£æ¿web.xml 2ãåå»ºSpringConfigéç½®ç±»ï¼ä»£æ¿springçéç½®æä»¶ 3ãåå»ºWebConfigéç½®ç±»ï¼ä»£æ¿SpringMVCçéç½®æä»¶ 4ãæµè¯åè½ 1ãSpringMVCå¸¸ç¨ç»ä»¶ 2ãDispatcherServletåå§åè¿ç¨ a>åå§åWebApplicationContext b>åå»ºWebApplicationContext c>DispatcherServletåå§åç­ç¥ 3ãDispatcherServletè°ç¨ç»ä»¶å¤çè¯·æ± a>processRequest() b>doService() c>doDispatch() d>processDispatchResult() 4ãSpringMVCçæ§è¡æµç¨",content:'# å«ãRESTfulæ¡ä¾\n\n\n# 1ãåå¤å·¥ä½\n\nåä¼ ç» CRUD ä¸æ ·ï¼å®ç°å¯¹åå·¥ä¿¡æ¯çå¢å æ¹æ¥ã\n\n * æ­å»ºç¯å¢\n\n * åå¤å®ä½ç±»\n   \n   package com.atguigu.mvc.bean;\n   \n   public class Employee {\n   \n      private Integer id;\n      private String lastName;\n   \n      private String email;\n      //1 male, 0 female\n      private Integer gender;\n      \n      public Integer getId() {\n         return id;\n      }\n   \n      public void setId(Integer id) {\n         this.id = id;\n      }\n   \n      public String getLastName() {\n         return lastName;\n      }\n   \n      public void setLastName(String lastName) {\n         this.lastName = lastName;\n      }\n   \n      public String getEmail() {\n         return email;\n      }\n   \n      public void setEmail(String email) {\n         this.email = email;\n      }\n   \n      public Integer getGender() {\n         return gender;\n      }\n   \n      public void setGender(Integer gender) {\n         this.gender = gender;\n      }\n   \n      public Employee(Integer id, String lastName, String email, Integer gender) {\n         super();\n         this.id = id;\n         this.lastName = lastName;\n         this.email = email;\n         this.gender = gender;\n      }\n   \n      public Employee() {\n      }\n   }\n   \n\n * åå¤daoæ¨¡ææ°æ®\n   \n   package com.atguigu.mvc.dao;\n   \n   import java.util.Collection;\n   import java.util.HashMap;\n   import java.util.Map;\n   \n   import com.atguigu.mvc.bean.Employee;\n   import org.springframework.stereotype.Repository;\n   \n   \n   @Repository\n   public class EmployeeDao {\n   \n      private static Map<Integer, Employee> employees = null;\n      \n      static{\n         employees = new HashMap<Integer, Employee>();\n   \n         employees.put(1001, new Employee(1001, "E-AA", "aa@163.com", 1));\n         employees.put(1002, new Employee(1002, "E-BB", "bb@163.com", 1));\n         employees.put(1003, new Employee(1003, "E-CC", "cc@163.com", 0));\n         employees.put(1004, new Employee(1004, "E-DD", "dd@163.com", 0));\n         employees.put(1005, new Employee(1005, "E-EE", "ee@163.com", 1));\n      }\n      \n      private static Integer initId = 1006;\n      \n      public void save(Employee employee){\n         if(employee.getId() == null){\n            employee.setId(initId++);\n         }\n         employees.put(employee.getId(), employee);\n      }\n      \n      public Collection<Employee> getAll(){\n         return employees.values();\n      }\n      \n      public Employee get(Integer id){\n         return employees.get(id);\n      }\n      \n      public void delete(Integer id){\n         employees.remove(id);\n      }\n   }\n   \n\n\n# 2ãåè½æ¸å\n\nåè½           URL å°å        è¯·æ±æ¹å¼\nè®¿é®é¦é¡µâ        /             GET\næ¥è¯¢å¨é¨æ°æ®â      /employee     GET\nå é¤â          /employee/2   DELETE\nè·³è½¬å°æ·»å æ°æ®é¡µé¢â   /toAdd        GET\næ§è¡ä¿å­â        /employee     POST\nè·³è½¬å°æ´æ°æ°æ®é¡µé¢â   /employee/2   GET\næ§è¡æ´æ°â        /employee     PUT\n\n\n# 3ãå·ä½åè½ï¼è®¿é®é¦é¡µ\n\n# a>éç½®view-controller\n\nè¿éå°±ä¸åæ§å¶å¨æ¹æ³äº\n\n<mvc:view-controller path="/" view-name="index"/>\n\n\n# b>åå»ºé¡µé¢\n\n<!DOCTYPE html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="UTF-8" >\n    <title>Title</title>\n</head>\n<body>\n<h1>é¦é¡µ</h1>\n<a th:href="@{/employee}">è®¿é®åå·¥ä¿¡æ¯</a>\n</body>\n</html>\n\n\n\n# 4ãå·ä½åè½ï¼æ¥è¯¢ææåå·¥æ°æ®\n\n# a>æ§å¶å¨æ¹æ³\n\n@RequestMapping(value = "/employee", method = RequestMethod.GET)\npublic String getEmployeeList(Model model){\n    Collection<Employee> employeeList = employeeDao.getAll();\n    model.addAttribute("employeeList", employeeList);\n    return "employee_list";\n}\n\n\n# b>åå»ºemployee_list.html\n\n<!DOCTYPE html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="UTF-8">\n    <title>Employee Info</title>\n    <script type="text/javascript" th:src="@{/static/js/vue.js}"><\/script>\n</head>\n<body>\n\n    <table border="1" cellpadding="0" cellspacing="0" style="text-align: center;" id="dataTable">\n        <tr>\n            <th colspan="5">Employee Info</th>\n        </tr>\n        <tr>\n            <th>id</th>\n            <th>lastName</th>\n            <th>email</th>\n            <th>gender</th>\n            <th>options(<a th:href="@{/toAdd}">add</a>)</th>\n        </tr>\n\n        **th:eachæ¯ä»ä¹ææ**\n        <tr th:each="employee : ${employeeList}">\n            <td th:text="${employee.id}"></td>\n            <td th:text="${employee.lastName}"></td>\n            <td th:text="${employee.email}"></td>\n            <td th:text="${employee.gender}"></td>\n            <td>\n                \x3c!-- "@{/employee/${employee.id}}" åæ³æ¯éè¯¯çï¼å ä¸º$ä¼è¢«å½æç¬¦å·è¿è¡è§£æ\n                \'/employee/\'è¡¨ç¤ºè¯·æ±å°å --\x3e\n                <a class="deleteA" @click="deleteEmployee" th:href="@{\'/employee/\'+${employee.id}}">delete</a>\n                \x3c!-- æè --\x3e\n                <a class="deleteA" @click="deleteEmployee" th:href="@{/employee/} + ${employee.id}">delete</a>\n                \x3c!-- ä¸è¿°ä¸¤ç§æ¹æ³é½æ¯æ­£ç¡®ç  --\x3e\n\n                <a th:href="@{\'/employee/\'+${employee.id}}">update</a>\n            </td>\n        </tr>\n    </table>\n</body>\n</html>\n\n\nth:eachæ¯ä»ä¹ææï¼ï¼ï¼å¤ä¹ åç«¯ç¥è¯\n\n\n# 5ãå·ä½åè½ï¼å é¤\n\n# a>åå»ºå¤çdeleteè¯·æ±æ¹å¼çè¡¨å\n\n\x3c!-- ä½ç¨ï¼éè¿è¶é¾æ¥æ§å¶è¡¨åçæäº¤ï¼å°postè¯·æ±è½¬æ¢ä¸ºdeleteè¯·æ± --\x3e\n<form id="delete_form" method="post">\n    \x3c!-- HiddenHttpMethodFilterè¦æ±ï¼å¿é¡»ä¼ è¾_methodè¯·æ±åæ°ï¼å¹¶ä¸å¼ä¸ºæç»çè¯·æ±æ¹å¼ --\x3e\n    <input type="hidden" name="_method" value="delete"/>\n</form>\n\n\n# b>å é¤è¶é¾æ¥ç»å®ç¹å»äºä»¶\n\nå¼å¥vue.js\n\n<script type="text/javascript" th:src="@{/static/js/vue.js}"><\/script>\n\n\nå é¤è¶é¾æ¥\n\n<a class="deleteA" @click="deleteEmployee" th:href="@{\'/employee/\'+${employee.id}}">delete</a>\n\n\néè¿vueå¤çç¹å»äºä»¶\n\n<script type="text/javascript">\n    var vue = new Vue({\n        el:"#dataTable",\n        methods:{\n            //eventè¡¨ç¤ºå½åäºä»¶\n            deleteEmployee:function (event) {\n                //éè¿idè·åè¡¨åæ ç­¾\n                var delete_form = document.getElementById("delete_form");\n                //å°è§¦åäºä»¶çè¶é¾æ¥çhrefå±æ§ä¸ºè¡¨åçactionå±æ§èµå¼\n                delete_form.action = event.target.href;\n                //æäº¤è¡¨å\n                delete_form.submit();\n                //é»æ­¢è¶é¾æ¥çé»è®¤è·³è½¬è¡ä¸º\n                event.preventDefault();\n            }\n        }\n    });\n<\/script>\n\n\n# c> å¼æ¾éæèµæºè®¿é®\n\n<mvc:default-servlet-handler />\n\n\nspringmvcåå¤çè¯·æ±ï¼è½å¤çå°±ä¼è¢«å¤çï¼ä¸è½å¤çå°±ä¼äº¤ç»ä»å¤©çserveletå¤çï¼serveletè½å¤çå°±å¤çï¼ä¸è½å¤çé»è®¤çserveletæ¥é\n\n# d>æ§å¶å¨æ¹æ³\n\n@RequestMapping(value = "/employee/{id}", method = RequestMethod.DELETE)\npublic String deleteEmployee(@PathVariable("id") Integer id){\n    employeeDao.delete(id);\n    return "redirect:/employee";\n}\n\n\n\n# 6ãå·ä½åè½ï¼è·³è½¬å°æ·»å æ°æ®é¡µé¢\n\n# a>éç½®view-controller\n\n<mvc:view-controller path="/toAdd" view-name="employee_add"></mvc:view-controller>\n\n\n# b>åå»ºemployee_add.html\n\n<!DOCTYPE html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="UTF-8">\n    <title>Add Employee</title>\n</head>\n<body>\n\n<form th:action="@{/employee}" method="post">\n    lastName:<input type="text" name="lastName"><br>\n    email:<input type="text" name="email"><br>\n    gender:<input type="radio" name="gender" value="1">male\n    <input type="radio" name="gender" value="0">female<br>\n    <input type="submit" value="add"><br>\n</form>\n\n</body>\n</html>\n\n\n\n# 7ãå·ä½åè½ï¼æ§è¡ä¿å­\n\n# a>æ§å¶å¨æ¹æ³\n\n@RequestMapping(value = "/employee", method = RequestMethod.POST)\npublic String addEmployee(Employee employee){\n    employeeDao.save(employee);\n    return "redirect:/employee";\n}\n\n\n\n# 8ãå·ä½åè½ï¼è·³è½¬å°æ´æ°æ°æ®é¡µé¢\n\n# a>ä¿®æ¹è¶é¾æ¥\n\n<a th:href="@{\'/employee/\'+${employee.id}}">update</a>\n\n\n# b>æ§å¶å¨æ¹æ³\n\n@RequestMapping(value = "/employee/{id}", method = RequestMethod.GET)\npublic String getEmployeeById(@PathVariable("id") Integer id, Model model){\n    Employee employee = employeeDao.get(id);\n    model.addAttribute("employee", employee);\n    return "employee_update";\n}\n\n\n# c>åå»ºemployee_update.html\n\n<!DOCTYPE html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="UTF-8">\n    <title>Update Employee</title>\n</head>\n<body>\n\n<form th:action="@{/employee}" method="post">\n    <input type="hidden" name="_method" value="put">\n    <input type="hidden" name="id" th:value="${employee.id}">\n    lastName:<input type="text" name="lastName" th:value="${employee.lastName}"><br>\n    email:<input type="text" name="email" th:value="${employee.email}"><br>\n    \x3c!--\n        th:field="${employee.gender}"å¯ç¨äºåéæ¡æå¤éæ¡çåæ¾\n        è¥åéæ¡çvalueåemployee.genderçå¼ä¸è´ï¼åæ·»å checked="checked"å±æ§\n    --\x3e\n    gender:<input type="radio" name="gender" value="1" th:field="${employee.gender}">male\n    <input type="radio" name="gender" value="0" th:field="${employee.gender}">female<br>\n    <input type="submit" value="update"><br>\n</form>\n\n</body>\n</html>\n\n\n\n# 9ãå·ä½åè½ï¼æ§è¡æ´æ°\n\n# a>æ§å¶å¨æ¹æ³\n\n@RequestMapping(value = "/employee", method = RequestMethod.PUT)\npublic String updateEmployee(Employee employee){\n    employeeDao.save(employee);\n    return "redirect:/employee";\n}\n\n\n\n# å«ãHttpMessageConverter\n\nHttpMessageConverterï¼æ¥æä¿¡æ¯è½¬æ¢å¨ï¼å°è¯·æ±æ¥æè½¬æ¢ä¸ºJavaå¯¹è±¡ï¼æµè§å¨è¯·æ±æå¡å¨ï¼ï¼æå°Javaå¯¹è±¡è½¬æ¢ä¸ºååºæ¥æï¼æå¡å¨ç¸åºæµè§å¨ï¼\n\nHttpMessageConverteræä¾äºä¸¤ä¸ªæ³¨è§£åä¸¤ä¸ªç±»åï¼@RequestBodyï¼@ResponseBodyï¼RequestEntityï¼\n\nResponseEntity\n\n\n# 1ã@RequestBody\n\n@RequestBodyå¯ä»¥è·åè¯·æ±ä½ï¼éè¦å¨æ§å¶å¨æ¹æ³è®¾ç½®ä¸ä¸ªå½¢åï¼ä½¿ç¨@RequestBodyè¿è¡æ è¯ï¼å½åè¯·æ±çè¯·æ±ä½å°±ä¼ä¸ºå½åæ³¨è§£ææ è¯çå½¢åèµå¼\n\n<form th:action="@{/testRequestBody}" method="post">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    <input type="submit">\n</form>\n\n\n@RequestMapping("/testRequestBody")\npublic String testRequestBody(@RequestBody String requestBody){\n    System.out.println("requestBody:"+requestBody);\n    return "success";\n}\n\n\nè¾åºç»æï¼\n\nrequestBody:username=admin&password=123456\n\n\n# 2ãRequestEntity\n\nRequestEntityå°è£è¯·æ±æ¥æçä¸ç§ç±»åï¼éè¦å¨æ§å¶å¨æ¹æ³çå½¢åä¸­è®¾ç½®è¯¥ç±»åçå½¢åï¼å½åè¯·æ±çè¯·æ±æ¥æå°±ä¼èµå¼ç»è¯¥å½¢åï¼å¯ä»¥éè¿getHeaders()è·åè¯·æ±å¤´ä¿¡æ¯ï¼éè¿getBody()è·åè¯·æ±ä½ä¿¡æ¯\n\n@RequestMapping("/testRequestEntity")\npublic String testRequestEntity(RequestEntity<String> requestEntity){\n    System.out.println("requestHeader:"+requestEntity.getHeaders());\n    System.out.println("requestBody:"+requestEntity.getBody());\n    return "success";\n}\n\n\nè¾åºç»æï¼ requestHeader:[host:"localhost:8080", connection:"keep-alive", content-length:"27", cache-control:"max-age=0", sec-ch-ua:"" Not A;Brand";v="99", "Chromium";v="90", "Google Chrome";v="90"", sec-ch-ua-mobile:"?0", upgrade-insecure-requests:"1", origin:"http://localhost:8080", user-agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"] requestBody:username=admin&password=123\n\n\n# 3ã@ResponseBodyï¼ç¨çæå¤ï¼\n\n@ResponseBodyç¨äºæ è¯ä¸ä¸ªæ§å¶å¨æ¹æ³ï¼å¯ä»¥å°è¯¥æ¹æ³çè¿åå¼ç´æ¥ä½ä¸ºååºæ¥æçååºä½ååºå°æµè§å¨\n\n@RequestMapping("/testResponseBody")\n@ResponseBody\npublic String testResponseBody(){\n    return "success";\n}\n\n\nä¹å°±æ¯å ä¸ResponseBodyç´æ¥è¿åå­ç¬¦ä¸²ï¼ä¸å åä¼æ¼æ¥"åç¼+è¿åå­ç¬¦ä¸²+åç¼"å¹¶æå¼æ°é¡µé¢è¿è¡å±ç¤ºä¿¡æ¯\n\nç»æï¼æµè§å¨é¡µé¢æ¾ç¤ºsuccess\n\nè¿éè¦å­¦ä¹ ä¸ä¸javawebä¸­çhttpservletResponseå¯¹äºæµè§å¨æ°æ®çååº\n\n\n# 4ãSpringMVCå¤çjson\n\n@ResponseBodyå¤çjsonçæ­¥éª¤ï¼\n\na>å¯¼å¥jacksonçä¾èµ\n\n<dependency>\n    <groupId>com.fasterxml.jackson.core</groupId>\n    <artifactId>jackson-databind</artifactId>\n    <version>2.12.1</version>\n</dependency>\n\n\nb>å¨SpringMVCçæ ¸å¿éç½®æä»¶ä¸­å¼å¯mvcçæ³¨è§£é©±å¨ï¼æ­¤æ¶å¨HandlerAdaptorä¸­ä¼èªå¨è£éä¸ä¸ªæ¶æ¯è½¬æ¢å¨ï¼MappingJackson2HttpMessageConverterï¼å¯ä»¥å°ååºå°æµè§å¨çJavaå¯¹è±¡è½¬æ¢ä¸ºJsonæ ¼å¼çå­ç¬¦ä¸²\n\n<mvc:annotation-driven />\n\n\nc>å¨å¤çå¨æ¹æ³ä¸ä½¿ç¨@ResponseBodyæ³¨è§£è¿è¡æ è¯\n\nd>å°Javaå¯¹è±¡ç´æ¥ä½ä¸ºæ§å¶å¨æ¹æ³çè¿åå¼è¿åï¼å°±ä¼èªå¨è½¬æ¢ä¸ºJsonæ ¼å¼çå­ç¬¦ä¸²\n\n@RequestMapping("/testResponseUser")\n@ResponseBody\npublic User testResponseUser(){\n    return new User(1001,"admin","123456",23,"ç·");\n}\n\n\næµè§å¨çé¡µé¢ä¸­å±ç¤ºçç»æï¼\n\n{"id":1001,"username":"admin","password":"123456","age":23,"sex":"ç·"}\n\n\n# 5ãSpringMVCå¤çajax\n\na>è¯·æ±è¶é¾æ¥ï¼\n\n<div id="app">\n\t<a th:href="@{/testAjax}" @click="testAjax">testAjax</a><br>\n</div>\n\n\nb>éè¿vueåaxioså¤çç¹å»äºä»¶ï¼\n\n<script type="text/javascript" th:src="@{/static/js/vue.js}"><\/script>\n<script type="text/javascript" th:src="@{/static/js/axios.min.js}"><\/script>\n<script type="text/javascript">\n    var vue = new Vue({\n        el:"#app",\n        methods:{\n            testAjax:function (event) {\n                axios({\n                    method:"post",\n                    url:event.target.href,\n                    params:{\n                        username:"admin",\n                        password:"123456"\n                    }\n                }).then(function (response) {\n                    alert(response.data);\n                });\n                event.preventDefault();\n            }\n        }\n    });\n<\/script>\n\n\nc>æ§å¶å¨æ¹æ³ï¼\n\n@RequestMapping("/testAjax")\n@ResponseBody\npublic String testAjax(String username, String password){\n    System.out.println("username:"+username+",password:"+password);\n    return "hello,ajax";\n}\n\n\n\n# 6ã@RestControlleræ³¨è§£\n\n@RestControlleræ³¨è§£æ¯springMVCæä¾çä¸ä¸ªå¤åæ³¨è§£ï¼æ è¯å¨æ§å¶å¨çç±»ä¸ï¼å°±ç¸å½äºä¸ºç±»æ·»å äº@Controlleræ³¨è§£ï¼å¹¶ä¸ä¸ºå¶ä¸­çæ¯ä¸ªæ¹æ³æ·»å äº@ResponseBodyæ³¨è§£\n\n\n# 7ãResponseEntity\n\nResponseEntityç¨äºæ§å¶å¨æ¹æ³çè¿åå¼ç±»åï¼è¯¥æ§å¶å¨æ¹æ³çè¿åå¼å°±æ¯ååºå°æµè§å¨çååºæ¥æ\n\n\n# ä¹ãæä»¶ä¸ä¼ åä¸è½½\n\n\n# 1ãæä»¶ä¸è½½\n\nä½¿ç¨ResponseEntityå®ç°ä¸è½½æä»¶çåè½\n\n@RequestMapping("/testDown")\npublic ResponseEntity<byte[]> testResponseEntity(HttpSession session) throws IOException {\n    //è·åServletContextå¯¹è±¡\n    ServletContext servletContext = session.getServletContext();\n    //è·åæå¡å¨ä¸­æä»¶ççå®è·¯å¾\n    String realPath = servletContext.getRealPath("/static/https://cdn.jsdelivr.net/gh/leejiayang/BlogImages@main/springmvc/1.jpg");\n    //åå»ºè¾å¥æµ\n    InputStream is = new FileInputStream(realPath);\n    //åå»ºå­èæ°ç»\n    byte[] bytes = new byte[is.available()];\n    //å°æµè¯»å°å­èæ°ç»ä¸­\n    is.read(bytes);\n    //åå»ºHttpHeaderså¯¹è±¡è®¾ç½®ååºå¤´ä¿¡æ¯\n    MultiValueMap<String, String> headers = new HttpHeaders();\n    //è®¾ç½®è¦ä¸è½½æ¹å¼ä»¥åä¸è½½æä»¶çåå­\n    headers.add("Content-Disposition", "attachment;filename=1.jpg");\n    //è®¾ç½®ååºç¶æç \n    HttpStatus statusCode = HttpStatus.OK;\n    //åå»ºResponseEntityå¯¹è±¡\n    ResponseEntity<byte[]> responseEntity = new ResponseEntity<>(bytes, headers, statusCode);\n    //å³é­è¾å¥æµ\n    is.close();\n    return responseEntity;\n}\n\n\n\n# 2ãæä»¶ä¸ä¼ \n\næä»¶ä¸ä¼ è¦æ±formè¡¨åçè¯·æ±æ¹å¼å¿é¡»ä¸ºpostï¼å¹¶ä¸æ·»å å±æ§enctype="multipart/form-data"\n\nSpringMVCä¸­å°ä¸ä¼ çæä»¶å°è£å°MultipartFileå¯¹è±¡ä¸­ï¼éè¿æ­¤å¯¹è±¡å¯ä»¥è·åæä»¶ç¸å³ä¿¡æ¯\n\nä¸ä¼ æ­¥éª¤ï¼\n\na>æ·»å ä¾èµï¼\n\n\x3c!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --\x3e\n<dependency>\n    <groupId>commons-fileupload</groupId>\n    <artifactId>commons-fileupload</artifactId>\n    <version>1.3.1</version>\n</dependency>\n\n\nb>å¨SpringMVCçéç½®æä»¶ä¸­æ·»å éç½®ï¼\n\n\x3c!--å¿é¡»éè¿æä»¶è§£æå¨çè§£ææè½å°æä»¶è½¬æ¢ä¸ºMultipartFileå¯¹è±¡--\x3e\n<bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"></bean>\n\n\nc>æ§å¶å¨æ¹æ³ï¼\n\n@RequestMapping("/testUp")\npublic String testUp(MultipartFile photo, HttpSession session) throws IOException {\n    //è·åä¸ä¼ çæä»¶çæä»¶å\n    String fileName = photo.getOriginalFilename();\n    //å¤çæä»¶éåé®é¢\n    // è·ååç¼å\n    String hzName = fileName.substring(fileName.lastIndexOf("."));\n    // å°UUIDååç¼åæ¼æ¥çæ­£çæä»¶å\n    fileName = UUID.randomUUID().toString() + hzName;\n    //è·åæå¡å¨ä¸­photoç®å½çè·¯å¾\n    ServletContext servletContext = session.getServletContext();\n    String photoPath = servletContext.getRealPath("photo");\n    File file = new File(photoPath);\n    if(!file.exists()){\n        file.mkdir();\n    }\n    String finalPath = photoPath + File.separator + fileName;\n    //å®ç°ä¸ä¼ åè½\n    photo.transferTo(new File(finalPath));\n    return "success";\n}\n\n\n\n# åãæ¦æªå¨\n\n\n# 1ãæ¦æªå¨çéç½®\n\nSpringMVCä¸­çæ¦æªå¨ç¨äºæ¦æªæ§å¶å¨æ¹æ³çæ§è¡\n\nSpringMVCä¸­çæ¦æªå¨éè¦å®ç°HandlerInterceptoræèHandlerInterceptorAdapter(å·²è¿æ¶)ï¼éåä¸é¢çä¸ä¸ªæ¹æ³\n\näºå®ä¸æ¯HandlerInterceptorAdapterç»§æ¿äºASyncHandlerInterceptor, AsyncHandlerInterceptoråç»§æ¿äºHandlerInterceptor\n\nSpringMVCçæ¦æªå¨å¿é¡»å¨SpringMVCçéç½®æä»¶ä¸­è¿è¡éç½®ï¼\n\næç®åçéç½®æ¹æ³ï¼ç¬¬ä¸ç§éç½®æ¹æ³ï¼ è¡¨ç¤ºä¸ä¸ªå¯¹è±¡\n\nå¾çéé¢çè®¾ç½®ä¹ä¼è¢«æ¦æªï¼å ä¸ºæ¬è´¨ä¸è¿ä¸ªä¹æ¯æ§å¶å¨æ¹æ³\n\n\n\n\n\nç¬¬äºç§éç½®æ¹æ³\n<mvc:interceptor>\n\x3c!-- <bean class="com.atguigu.interceptor.FirstInterceptor"></bean> --\x3e\n<ref bean="firstInterceptor"></ref>\n</mvc:interceptor>\n\x3c!-- ä»¥ä¸ä¸¤ç§éç½®æ¹å¼é½æ¯å¯¹DispatcherServletæå¤ççææçè¯·æ±è¿è¡æ¦æª --\x3e\n<mvc:interceptor>\n\x3c!-- æ¦æªææè¯·æ± --\x3e\n\x3c!-- è¿éç/*è¡¨ç¤ºè®¿é®è¯¥é¡µé¢çä¸ä¸ä¸å±ç®å½ --\x3e\n<mvc:mapping path="/*"/>\n    <mvc:mapping path="/**"/>\n    \x3c!-- æé¤ä¸æ¦æªçç¹æ®æåµ --\x3e\n    <mvc:exclude-mapping path="/testRequestEntity"/>\n    \x3c!-- æå®æ¦æª å¨ --\x3e\n    <ref bean="firstInterceptor"></ref>\n</mvc:interceptor>\n\x3c!-- \n\tä»¥ä¸éç½®æ¹å¼å¯ä»¥éè¿refæbeanæ ç­¾è®¾ç½®æ¦æªå¨ï¼éè¿mvc:mappingè®¾ç½®éè¦æ¦æªçè¯·æ±ï¼éè¿mvc:exclude-mappingè®¾ç½®éè¦æé¤çè¯·æ±ï¼å³ä¸éè¦æ¦æªçè¯·æ±\n--\x3e\n\n\n\n# 2ãæ¦æªå¨çä¸ä¸ªæ½è±¡æ¹æ³\n\nè¿æ»¤å¨çæ¦æªå¨çåºå«æ¯ä»ä¹ï¼ï¼ SpringMVCä¸­çæ¦æªå¨æä¸ä¸ªæ½è±¡æ¹æ³ï¼\n\npreHandleï¼æ§å¶å¨æ¹æ³æ§è¡ä¹åæ§è¡preHandle()ï¼å¶booleanç±»åçè¿åå¼è¡¨ç¤ºæ¯å¦æ¦æªææ¾è¡ï¼è¿åtrueä¸ºæ¾è¡ï¼å³è°ç¨æ§å¶å¨æ¹æ³ï¼è¿åfalseè¡¨ç¤ºæ¦æªï¼å³ä¸è°ç¨æ§å¶å¨æ¹æ³\n\npostHandleï¼æ§å¶å¨æ¹æ³æ§è¡ä¹åæ§è¡postHandle()\n\nafterComplationï¼å¤çå®è§å¾åæ¨¡åæ°æ®ï¼æ¸²æè§å¾å®æ¯ä¹åæ§è¡afterComplation()\n\n\n# 3ãå¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº\n\na>è¥æ¯ä¸ªæ¦æªå¨çpreHandle()é½è¿åtrue\n\næ­¤æ¶å¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåºåæ¦æªå¨å¨SpringMVCçéç½®æä»¶çéç½®é¡ºåºæå³ï¼\n\npreHandle()ä¼æç§éç½®çé¡ºåºæ§è¡ï¼èpostHandle()åafterComplation()ä¼æç§éç½®çååºæ§è¡\n\nb>è¥æä¸ªæ¦æªå¨çpreHandle()è¿åäºfalse\n\npreHandle()è¿åfalseåå®ä¹åçæ¦æªå¨çpreHandle()é½ä¼æ§è¡ï¼postHandle()é½ä¸æ§è¡ï¼è¿åfalseçæ¦æªå¨ä¹åçæ¦æªå¨çafterComplation()ä¼æ§è¡\n\n\n# åä¸ãå¼å¸¸å¤çå¨(åºç°å¼å¸¸è·³è½¬æå®é¡µé¢)\n\n\n# 1ãåºäºéç½®çå¼å¸¸å¤ç\n\nSpringMVCæä¾äºä¸ä¸ªå¤çæ§å¶å¨æ¹æ³æ§è¡è¿ç¨ä¸­æåºç°çå¼å¸¸çæ¥å£ï¼HandlerExceptionResolver\n\nHandlerExceptionResolveræ¥å£çå®ç°ç±»æï¼DefaultHandlerExceptionResolveråSimpleMappingExceptionResolver\n\nSpringMVCæä¾äºèªå®ä¹çå¼å¸¸å¤çå¨SimpleMappingExceptionResolverï¼ä½¿ç¨æ¹å¼ï¼\n\n<bean class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver">\n    <property name="exceptionMappings">\n        <props>\n        \t\x3c!--\n        \t\tpropertiesçé®è¡¨ç¤ºå¤çå¨æ¹æ³æ§è¡è¿ç¨ä¸­åºç°çå¼å¸¸\n        \t\tpropertiesçå¼è¡¨ç¤ºè¥åºç°æå®å¼å¸¸æ¶ï¼è®¾ç½®ä¸ä¸ªæ°çè§å¾åç§°ï¼è·³è½¬å°æå®é¡µé¢,themeleafè¿è¡è§£æï¼åä¹å çè§£æè§åä¸è´\n        \t--\x3e\n            <prop key="java.lang.ArithmeticException">error</prop>\n        </props>\n    </property>\n    \x3c!--\n    \texceptionAttributeå±æ§è®¾ç½®ä¸ä¸ªå±æ§åï¼å°åºç°çå¼å¸¸ä¿¡æ¯å¨è¯·æ±åä¸­è¿è¡å±äº«\n    --\x3e\n\n\n    <property name="exceptionAttribute" value="ex"></property>\n</bean>\n\n\n\n# 2ãåºäºæ³¨è§£çå¼å¸¸å¤ç\n\n//@ControllerAdviceå°å½åç±»æ è¯ä¸ºå¼å¸¸å¤ççç»ä»¶\n@ControllerAdvice\npublic class ExceptionController {\n\n    //@ExceptionHandlerç¨äºè®¾ç½®ææ è¯æ¹æ³å¤ççå¼å¸¸\n    @ExceptionHandler(value = ArithmeticException.class, NullPointerException.class)\n    //exè¡¨ç¤ºå½åè¯·æ±å¤çä¸­åºç°çå¼å¸¸å¯¹è±¡\n    public String handleArithmeticException(Exception ex, Model model){\n        model.addAttribute("ex", ex);\n        return "error";\n    }\n\n}\n\n\n\n# åäºãæ³¨è§£éç½®SpringMVC\n\nä½¿ç¨éç½®ç±»åæ³¨è§£ä»£æ¿web.xmlåSpringMVCéç½®æä»¶çåè½\n\n\n# 1ãåå»ºåå§åç±»ï¼ä»£æ¿web.xml\n\nå¨Servlet3.0ç¯å¢ä¸­ï¼å®¹å¨ä¼å¨ç±»è·¯å¾ä¸­æ¥æ¾å®ç°javax.servlet.ServletContainerInitializeræ¥å£çç±»ï¼å¦ææ¾å°çè¯å°±ç¨å®æ¥éç½®Servletå®¹å¨ã\n\nSpringæä¾äºè¿ä¸ªæ¥å£çå®ç°ï¼åä¸ºSpringServletContainerInitializerï¼è¿ä¸ªç±»åè¿æ¥åä¼æ¥æ¾å®ç°WebApplicationInitializerçç±»å¹¶å°éç½®çä»»å¡äº¤ç»å®ä»¬æ¥å®æã\n\nSpring3.2å¼å¥äºä¸ä¸ªä¾¿å©çWebApplicationInitializeråºç¡å®ç°ï¼åä¸ºAbstractAnnotationConfigDispatcherServletInitializerï¼å½æä»¬çç±»æ©å±äºAbstractAnnotationConfigDispatcherServletInitializerå¹¶å°å¶é¨ç½²å°Servlet3.0å®¹å¨çæ¶åï¼å®¹å¨ä¼èªå¨åç°å®ï¼å¹¶ç¨å®æ¥éç½®Servletä¸ä¸æã\n\npublic class WebInit extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n    /**\n     * æå®springçéç½®ç±»\n     * @return\n     */\n    @Override\n    protected Class<?>[] getRootConfigClasses() {\n        return new Class[]{SpringConfig.class};\n    }\n\n    /**\n     * æå®SpringMVCçéç½®ç±»\n     * @return\n     */\n    @Override\n    protected Class<?>[] getServletConfigClasses() {\n        // è¿åclassæ°ç»\n        return new Class[]{WebConfig.class};\n    }\n\n    /**\n     * æå®DispatcherServletçæ å°è§å(æ å°è§å)ï¼å³url-pattern\n     * @return\n     */\n    @Override\n    protected String[] getServletMappings() {\n        return new String[]{"/"};\n    }\n\n    /**\n     * æ·»å è¿æ»¤å¨\n     * @return\n     */\n    @Override\n    protected Filter[] getServletFilters() {\n        CharacterEncodingFilter encodingFilter = new CharacterEncodingFilter();\n        encodingFilter.setEncoding("UTF-8");\n        encodingFilter.setForceRequestEncoding(true);\n        HiddenHttpMethodFilter hiddenHttpMethodFilter = new HiddenHttpMethodFilter();\n        return new Filter[]{encodingFilter, hiddenHttpMethodFilter};\n    }\n}\n\n\n\n# 2ãåå»ºSpringConfigéç½®ç±»ï¼ä»£æ¿springçéç½®æä»¶\n\n@Configuration\npublic class SpringConfig {\n\t//ssmæ´åä¹åï¼springçéç½®ä¿¡æ¯åå¨æ­¤ç±»ä¸­\n}\n\n\n\n# 3ãåå»ºWebConfigéç½®ç±»ï¼ä»£æ¿SpringMVCçéç½®æä»¶\n\n\n// æ«æç»ä»¶\n// è§å¾è§£æå¨\n// viewcontroller\n// default-servlet-handler\n// MVCæ³¨è§£é©±å¨\n// æä»¶ä¸ä¼ è§£æå¨\n// å¼å¸¸å¤ç\n// æ¦æªå¨\n\n@Configuration\n//æ«æç»ä»¶\n@ComponentScan("com.atguigu.mvc.controller")\n//å¼å¯MVCæ³¨è§£é©±å¨\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    //ä½¿ç¨é»è®¤çservletå¤çéæèµæº\n    @Override\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\n        configurer.enable();\n    }\n\n    //éç½®æä»¶ä¸ä¼ è§£æå¨\n    @Bean\n    public CommonsMultipartResolver multipartResolver(){\n        return new CommonsMultipartResolver();\n    }\n\n    //éç½®æ¦æªå¨\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        FirstInterceptor firstInterceptor = new FirstInterceptor();\n\n        //  addPathPatternsæ·»å æ¦æªè§å\n        registry.addInterceptor(firstInterceptor).addPathPatterns("/**");\n    }\n    \n    //éç½®è§å¾æ§å¶\n    \n    /*@Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController("/").setViewName("index");\n    }*/\n    \n    //éç½®å¼å¸¸æ å°\n    /*@Override\n    public void configureHandlerExceptionResolvers(List<HandlerExceptionResolver> resolvers) {\n        SimpleMappingExceptionResolver exceptionResolver = new SimpleMappingExceptionResolver();\n        Properties prop = new Properties();\n        prop.setProperty("java.lang.ArithmeticException", "error");\n        //è®¾ç½®å¼å¸¸æ å°\n        exceptionResolver.setExceptionMappings(prop);\n        //è®¾ç½®å±äº«å¼å¸¸ä¿¡æ¯çé®\n        exceptionResolver.setExceptionAttribute("ex");\n        resolvers.add(exceptionResolver);\n    }*/\n\n    // æ³¨æï¼xmlè§å¾è§£æå¨è¦ä»éå°å¤éç½®\n    //éç½®çææ¨¡æ¿è§£æå¨\n    @Bean\n    public ITemplateResolver templateResolver() {\n        WebApplicationContext webApplicationContext = ContextLoader.getCurrentWebApplicationContext();\n        // ServletContextTemplateResolveréè¦ä¸ä¸ªServletContextä½ä¸ºæé åæ°ï¼å¯éè¿WebApplicationContext çæ¹æ³è·å¾\n        ServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver(\n                webApplicationContext.getServletContext());\n\n        // è§å¾åç¼\n        templateResolver.setPrefix("/WEB-INF/templates/");\n        // è§å¾åç¼\n        templateResolver.setSuffix(".html");\n        templateResolver.setCharacterEncoding("UTF-8");\n        templateResolver.setTemplateMode(TemplateMode.HTML);\n        return templateResolver;\n    }\n\n    //çææ¨¡æ¿å¼æå¹¶ä¸ºæ¨¡æ¿å¼ææ³¨å¥æ¨¡æ¿è§£æå¨\n    @Bean\n    public SpringTemplateEngine templateEngine(ITemplateResolver templateResolver) {\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver);\n        return templateEngine;\n    }\n\n    //çæè§å¾è§£æå¨å¹¶æªè§£æå¨æ³¨å¥æ¨¡æ¿å¼æ\n    @Bean\n    public ViewResolver viewResolver(SpringTemplateEngine templateEngine) {\n        ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\n        viewResolver.setCharacterEncoding("UTF-8");\n        viewResolver.setTemplateEngine(templateEngine);\n        return viewResolver;\n    }\n\n\n}\n\n\n\n# 4ãæµè¯åè½\n\n@RequestMapping("/")\npublic String index(){\n    return "index";\n}\n\n\n\n# åä¸ãSpringMVCæ§è¡æµç¨\n\n\n# 1ãSpringMVCå¸¸ç¨ç»ä»¶\n\n * DispatcherServletï¼åç«¯æ§å¶å¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾\n\nä½ç¨ï¼ç»ä¸å¤çè¯·æ±åååºï¼æ´ä¸ªæµç¨æ§å¶çä¸­å¿ï¼ç±å®è°ç¨å¶å®ç»ä»¶å¤çç¨æ·çè¯·æ±\n\n * HandlerMappingï¼å¤çå¨æ å°å¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾\n\nä½ç¨ï¼æ ¹æ®è¯·æ±çurlãmethodç­ä¿¡æ¯æ¥æ¾Handlerï¼å³æ§å¶å¨æ¹æ³\n\n * Handlerï¼å¤çå¨ï¼éè¦å·¥ç¨å¸å¼å\n\nä½ç¨ï¼å¨DispatcherServletçæ§å¶ä¸Handlerå¯¹å·ä½çç¨æ·è¯·æ±è¿è¡å¤ç\n\n * HandlerAdapterï¼å¤çå¨ééå¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾\n\nä½ç¨ï¼éè¿HandlerAdapterå¯¹å¤çå¨ï¼æ§å¶å¨æ¹æ³ï¼è¿è¡æ§è¡\n\n * ViewResolverï¼è§å¾è§£æå¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾ï¼é¡µé¢éè¦èªå·±åï¼\n\nä½ç¨ï¼è¿è¡è§å¾è§£æï¼å¾å°ç¸åºçè§å¾ï¼ä¾å¦ï¼ThymeleafViewãInternalResourceViewãRedirectView\n\n * Viewï¼è§å¾ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æèè§å¾ææ¯æä¾\n\nä½ç¨ï¼å°æ¨¡åæ°æ®éè¿é¡µé¢å±ç¤ºç»ç¨æ·\n\n\n\n\n# 2ãDispatcherServletåå§åè¿ç¨\n\nDispatcherServlet æ¬è´¨ä¸æ¯ä¸ä¸ª Servletï¼æä»¥å¤©ç¶çéµå¾ª Servlet ççå½å¨æãæä»¥å®è§ä¸æ¯ Servlet çå½å¨ææ¥è¿è¡è°åº¦ã\n\n\n\n# a>åå§åWebApplicationContext\n\næå¨ç±»ï¼org.springframework.web.servlet.FrameworkServlet\n\nprotected WebApplicationContext initWebApplicationContext() {\n    WebApplicationContext rootContext =\n        WebApplicationContextUtils.getWebApplicationContext(getServletContext());\n    WebApplicationContext wac = null;\n\n    if (this.webApplicationContext != null) {\n        // A context instance was injected at construction time -> use it\n        wac = this.webApplicationContext;\n        if (wac instanceof ConfigurableWebApplicationContext) {\n            ConfigurableWebApplicationContext cwac = (ConfigurableWebApplicationContext) wac;\n            if (!cwac.isActive()) {\n                // The context has not yet been refreshed -> provide services such as\n                // setting the parent context, setting the application context id, etc\n                if (cwac.getParent() == null) {\n                    // The context instance was injected without an explicit parent -> set\n                    // the root application context (if any; may be null) as the parent\n                    cwac.setParent(rootContext);\n                }\n                configureAndRefreshWebApplicationContext(cwac);\n            }\n        }\n    }\n    if (wac == null) {\n        // No context instance was injected at construction time -> see if one\n        // has been registered in the servlet context. If one exists, it is assumed\n        // that the parent context (if any) has already been set and that the\n        // user has performed any initialization such as setting the context id\n        wac = findWebApplicationContext();\n    }\n    if (wac == null) {\n        // No context instance is defined for this servlet -> create a local one\n        // åå»ºWebApplicationContext\n        wac = createWebApplicationContext(rootContext);\n    }\n\n    if (!this.refreshEventReceived) {\n        // Either the context is not a ConfigurableApplicationContext with refresh\n        // support or the context injected at construction time had already been\n        // refreshed -> trigger initial onRefresh manually here.\n        synchronized (this.onRefreshMonitor) {\n            // å·æ°WebApplicationContext\n            onRefresh(wac);\n        }\n    }\n\n    if (this.publishContext) {\n        // Publish the context as a servlet context attribute.\n        // å°IOCå®¹å¨å¨åºç¨åå±äº«\n        String attrName = getServletContextAttributeName();\n        getServletContext().setAttribute(attrName, wac);\n    }\n\n    return wac;\n}\n\n\n# b>åå»ºWebApplicationContext\n\næå¨ç±»ï¼org.springframework.web.servlet.FrameworkServlet\n\nprotected WebApplicationContext createWebApplicationContext(@Nullable ApplicationContext parent) {\n    Class<?> contextClass = getContextClass();\n    if (!ConfigurableWebApplicationContext.class.isAssignableFrom(contextClass)) {\n        throw new ApplicationContextException(\n            "Fatal initialization error in servlet with name \'" + getServletName() +\n            "\': custom WebApplicationContext class [" + contextClass.getName() +\n            "] is not of type ConfigurableWebApplicationContext");\n    }\n    // éè¿åå°åå»º IOC å®¹å¨å¯¹è±¡\n    ConfigurableWebApplicationContext wac =\n        (ConfigurableWebApplicationContext) BeanUtils.instantiateClass(contextClass);\n\n    wac.setEnvironment(getEnvironment());\n    // è®¾ç½®ç¶å®¹å¨\n    wac.setParent(parent);\n    String configLocation = getContextConfigLocation();\n    if (configLocation != null) {\n        wac.setConfigLocation(configLocation);\n    }\n    configureAndRefreshWebApplicationContext(wac);\n\n    return wac;\n}\n\n\n# c>DispatcherServletåå§åç­ç¥\n\nFrameworkServletåå»ºWebApplicationContextåï¼å·æ°å®¹å¨ï¼è°ç¨onRefresh(wac)ï¼æ­¤æ¹æ³å¨DispatcherServletä¸­è¿è¡äºéåï¼è°ç¨äºinitStrategies(context)æ¹æ³ï¼åå«èªå·±éè¦åå§åçæ¹æ³ï¼ï¼åå§åç­ç¥ï¼å³åå§åDispatcherServletçåä¸ªç»ä»¶\n\næå¨ç±»ï¼org.springframework.web.servlet.DispatcherServlet\n\nprotected void initStrategies(ApplicationContext context) {\n   initMultipartResolver(context);\n   initLocaleResolver(context);\n   initThemeResolver(context);\n   initHandlerMappings(context);\n   initHandlerAdapters(context);\n   initHandlerExceptionResolvers(context);\n   initRequestToViewNameTranslator(context);\n   initViewResolvers(context);\n   initFlashMapManager(context);\n}\n\n\n\n# 3ãDispatcherServletè°ç¨ç»ä»¶å¤çè¯·æ±\n\n# a>processRequest()\n\nFrameworkServletéåHttpServletä¸­çservice()ådoXxx()ï¼è¿äºæ¹æ³ä¸­è°ç¨äºprocessRequest(request, response)\n\næå¨ç±»ï¼org.springframework.web.servlet.FrameworkServlet\n\nprotected final void processRequest(HttpServletRequest request, HttpServletResponse response)\n    throws ServletException, IOException {\n\n    long startTime = System.currentTimeMillis();\n    Throwable failureCause = null;\n\n    LocaleContext previousLocaleContext = LocaleContextHolder.getLocaleContext();\n    LocaleContext localeContext = buildLocaleContext(request);\n\n    RequestAttributes previousAttributes = RequestContextHolder.getRequestAttributes();\n    ServletRequestAttributes requestAttributes = buildRequestAttributes(request, response, previousAttributes);\n\n    WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request);\n    asyncManager.registerCallableInterceptor(FrameworkServlet.class.getName(), new RequestBindingInterceptor());\n\n    initContextHolders(request, localeContext, requestAttributes);\n\n    try {\n\t\t// æ§è¡æå¡ï¼doService()æ¯ä¸ä¸ªæ½è±¡æ¹æ³ï¼å¨DispatcherServletä¸­è¿è¡äºéå\n        doService(request, response);\n    }\n    catch (ServletException | IOException ex) {\n        failureCause = ex;\n        throw ex;\n    }\n    catch (Throwable ex) {\n        failureCause = ex;\n        throw new NestedServletException("Request processing failed", ex);\n    }\n\n    finally {\n        resetContextHolders(request, previousLocaleContext, previousAttributes);\n        if (requestAttributes != null) {\n            requestAttributes.requestCompleted();\n        }\n        logResult(request, response, failureCause, asyncManager);\n        publishRequestHandledEvent(request, response, startTime, failureCause);\n    }\n}\n\n\n# b>doService()\n\næå¨ç±»ï¼org.springframework.web.servlet.DispatcherServlet\n\n@Override\nprotected void doService(HttpServletRequest request, HttpServletResponse response) throws Exception {\n    logRequest(request);\n\n    // Keep a snapshot of the request attributes in case of an include,\n    // to be able to restore the original attributes after the include.\n    Map<String, Object> attributesSnapshot = null;\n    if (WebUtils.isIncludeRequest(request)) {\n        attributesSnapshot = new HashMap<>();\n        Enumeration<?> attrNames = request.getAttributeNames();\n        while (attrNames.hasMoreElements()) {\n            String attrName = (String) attrNames.nextElement();\n            if (this.cleanupAfterInclude || attrName.startsWith(DEFAULT_STRATEGIES_PREFIX)) {\n                attributesSnapshot.put(attrName, request.getAttribute(attrName));\n            }\n        }\n    }\n\n    // Make framework objects available to handlers and view objects.\n    request.setAttribute(WEB_APPLICATION_CONTEXT_ATTRIBUTE, getWebApplicationContext());\n    request.setAttribute(LOCALE_RESOLVER_ATTRIBUTE, this.localeResolver);\n    request.setAttribute(THEME_RESOLVER_ATTRIBUTE, this.themeResolver);\n    request.setAttribute(THEME_SOURCE_ATTRIBUTE, getThemeSource());\n\n    if (this.flashMapManager != null) {\n        FlashMap inputFlashMap = this.flashMapManager.retrieveAndUpdate(request, response);\n        if (inputFlashMap != null) {\n            request.setAttribute(INPUT_FLASH_MAP_ATTRIBUTE, Collections.unmodifiableMap(inputFlashMap));\n        }\n        request.setAttribute(OUTPUT_FLASH_MAP_ATTRIBUTE, new FlashMap());\n        request.setAttribute(FLASH_MAP_MANAGER_ATTRIBUTE, this.flashMapManager);\n    }\n\n    RequestPath requestPath = null;\n    if (this.parseRequestPath && !ServletRequestPathUtils.hasParsedRequestPath(request)) {\n        requestPath = ServletRequestPathUtils.parseAndCache(request);\n    }\n\n    try {\n        // å¤çè¯·æ±åååº\n        doDispatch(request, response);\n    }\n    finally {\n        if (!WebAsyncUtils.getAsyncManager(request).isConcurrentHandlingStarted()) {\n            // Restore the original attribute snapshot, in case of an include.\n            if (attributesSnapshot != null) {\n                restoreAttributesAfterInclude(request, attributesSnapshot);\n            }\n        }\n        if (requestPath != null) {\n            ServletRequestPathUtils.clearParsedRequestPath(request);\n        }\n    }\n}\n\n\n# c>doDispatch()\n\næå¨ç±»ï¼org.springframework.web.servlet.DispatcherServlet\n\nprotected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception {\n    HttpServletRequest processedRequest = request;\n    HandlerExecutionChain mappedHandler = null;\n    boolean multipartRequestParsed = false;\n\n    WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request);\n\n    try {\n        ModelAndView mv = null;\n        Exception dispatchException = null;\n\n        try {\n            processedRequest = checkMultipart(request);\n            multipartRequestParsed = (processedRequest != request);\n\n            // Determine handler for the current request.\n            /*\n            \tmappedHandlerï¼è°ç¨é¾\n                åå«handlerãinterceptorListãinterceptorIndex\n            \thandlerï¼æµè§å¨åéçè¯·æ±æå¹éçæ§å¶å¨æ¹æ³\n            \tinterceptorListï¼å¤çæ§å¶å¨æ¹æ³çæææ¦æªå¨éå\n            \tinterceptorIndexï¼æ¦æªå¨ç´¢å¼ï¼æ§å¶æ¦æªå¨afterCompletion()çæ§è¡\n            */\n            mappedHandler = getHandler(processedRequest);\n            if (mappedHandler == null) {\n                noHandlerFound(processedRequest, response);\n                return;\n            }\n\n            // Determine handler adapter for the current request.\n           \t// éè¿æ§å¶å¨æ¹æ³åå»ºç¸åºçå¤çå¨ééå¨ï¼è°ç¨æå¯¹åºçæ§å¶å¨æ¹æ³\n            HandlerAdapter ha = getHandlerAdapter(mappedHandler.getHandler());\n\n            // Process last-modified header, if supported by the handler.\n            String method = request.getMethod();\n            boolean isGet = "GET".equals(method);\n            if (isGet || "HEAD".equals(method)) {\n                long lastModified = ha.getLastModified(request, mappedHandler.getHandler());\n                if (new ServletWebRequest(request, response).checkNotModified(lastModified) && isGet) {\n                    return;\n                }\n            }\n\t\t\t\n            // è°ç¨æ¦æªå¨çpreHandle()\n            if (!mappedHandler.applyPreHandle(processedRequest, response)) {\n                return;\n            }\n\n            // Actually invoke the handler.\n            // ç±å¤çå¨ééå¨è°ç¨å·ä½çæ§å¶å¨æ¹æ³ï¼æç»è·å¾ModelAndViewå¯¹è±¡\n            mv = ha.handle(processedRequest, response, mappedHandler.getHandler());\n\n            if (asyncManager.isConcurrentHandlingStarted()) {\n                return;\n            }\n\n            applyDefaultViewName(processedRequest, mv);\n            // è°ç¨æ¦æªå¨çpostHandle()\n            mappedHandler.applyPostHandle(processedRequest, response, mv);\n        }\n        catch (Exception ex) {\n            dispatchException = ex;\n        }\n        catch (Throwable err) {\n            // As of 4.3, we\'re processing Errors thrown from handler methods as well,\n            // making them available for @ExceptionHandler methods and other scenarios.\n            dispatchException = new NestedServletException("Handler dispatch failed", err);\n        }\n        // åç»­å¤çï¼å¤çæ¨¡åæ°æ®åæ¸²æè§å¾\n        processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException);\n    }\n    catch (Exception ex) {\n        triggerAfterCompletion(processedRequest, response, mappedHandler, ex);\n    }\n    catch (Throwable err) {\n        triggerAfterCompletion(processedRequest, response, mappedHandler,\n                               new NestedServletException("Handler processing failed", err));\n    }\n    finally {\n        if (asyncManager.isConcurrentHandlingStarted()) {\n            // Instead of postHandle and afterCompletion\n            if (mappedHandler != null) {\n                mappedHandler.applyAfterConcurrentHandlingStarted(processedRequest, response);\n            }\n        }\n        else {\n            // Clean up any resources used by a multipart request.\n            if (multipartRequestParsed) {\n                cleanupMultipart(processedRequest);\n            }\n        }\n    }\n}\n\n\n# d>processDispatchResult()\n\nprivate void processDispatchResult(HttpServletRequest request, HttpServletResponse response,\n                                   @Nullable HandlerExecutionChain mappedHandler, @Nullable ModelAndView mv,\n                                   @Nullable Exception exception) throws Exception {\n\n    boolean errorView = false;\n\n    if (exception != null) {\n        if (exception instanceof ModelAndViewDefiningException) {\n            logger.debug("ModelAndViewDefiningException encountered", exception);\n            mv = ((ModelAndViewDefiningException) exception).getModelAndView();\n        }\n        else {\n            Object handler = (mappedHandler != null ? mappedHandler.getHandler() : null);\n            mv = processHandlerException(request, response, handler, exception);\n            errorView = (mv != null);\n        }\n    }\n\n    // Did the handler return a view to render?\n    if (mv != null && !mv.wasCleared()) {\n        // å¤çæ¨¡åæ°æ®åæ¸²æè§å¾\n        render(mv, request, response);\n        if (errorView) {\n            WebUtils.clearErrorRequestAttributes(request);\n        }\n    }\n    else {\n        if (logger.isTraceEnabled()) {\n            logger.trace("No view rendering, null ModelAndView returned.");\n        }\n    }\n\n    if (WebAsyncUtils.getAsyncManager(request).isConcurrentHandlingStarted()) {\n        // Concurrent handling started during a forward\n        return;\n    }\n\n    if (mappedHandler != null) {\n        // Exception (if any) is already handled..\n        // è°ç¨æ¦æªå¨çafterCompletion()\n        mappedHandler.triggerAfterCompletion(request, response, null);\n    }\n}\n\n\n\n# 4ãSpringMVCçæ§è¡æµç¨\n\n 1. ç¨æ·åæå¡å¨åéè¯·æ±ï¼è¯·æ±è¢«SpringMVC åç«¯æ§å¶å¨ DispatcherServletæè·ã\n\n 2. DispatcherServletå¯¹è¯·æ±URLè¿è¡è§£æï¼å¾å°è¯·æ±èµæºæ è¯ç¬¦ï¼URIï¼ï¼å¤æ­è¯·æ±URIå¯¹åºçæ å°ï¼\n\na) ä¸å­å¨\n\ni. åå¤æ­æ¯å¦éç½®äºmvc:default-servlet-handler\n\nii. å¦ææ²¡éç½®ï¼åæ§å¶å°æ¥æ å°æ¥æ¾ä¸å°ï¼å®¢æ·ç«¯å±ç¤º404éè¯¯\n\n\n\n\n\niii. å¦ææéç½®ï¼åè®¿é®ç®æ èµæºï¼ä¸è¬ä¸ºéæèµæºï¼å¦ï¼JS,CSS,HTMLï¼ï¼æ¾ä¸å°å®¢æ·ç«¯ä¹ä¼å±ç¤º404éè¯¯\n\n\n\n\n\nb) å­å¨åæ§è¡ä¸é¢çæµç¨\n\n 3. æ ¹æ®è¯¥URIï¼è°ç¨HandlerMappingè·å¾è¯¥Handleréç½®çææç¸å³çå¯¹è±¡ï¼åæ¬Handlerå¯¹è±¡ä»¥åHandlerå¯¹è±¡å¯¹åºçæ¦æªå¨ï¼ï¼æåä»¥HandlerExecutionChainæ§è¡é¾å¯¹è±¡çå½¢å¼è¿åã\n\n 4. DispatcherServlet æ ¹æ®è·å¾çHandlerï¼éæ©ä¸ä¸ªåéçHandlerAdapterã\n\n 5. å¦ææåè·å¾HandlerAdapterï¼æ­¤æ¶å°å¼å§æ§è¡æ¦æªå¨çpreHandler(â¦)æ¹æ³ãæ­£åã\n\n 6. æåRequestä¸­çæ¨¡åæ°æ®ï¼å¡«åHandlerå¥åï¼å¼å§æ§è¡Handlerï¼Controller)æ¹æ³ï¼å¤çè¯·æ±ãå¨å¡«åHandlerçå¥åè¿ç¨ä¸­ï¼æ ¹æ®ä½ çéç½®ï¼Springå°å¸®ä½ åä¸äºé¢å¤çå·¥ä½ï¼\n\na) HttpMessageConveterï¼ å°è¯·æ±æ¶æ¯ï¼å¦Jsonãxmlç­æ°æ®ï¼è½¬æ¢æä¸ä¸ªå¯¹è±¡ï¼å°å¯¹è±¡è½¬æ¢ä¸ºæå®çååºä¿¡æ¯\n\nb) æ°æ®è½¬æ¢ï¼å¯¹è¯·æ±æ¶æ¯è¿è¡æ°æ®è½¬æ¢ãå¦Stringè½¬æ¢æIntegerãDoubleç­\n\nc) æ°æ®æ ¼å¼åï¼å¯¹è¯·æ±æ¶æ¯è¿è¡æ°æ®æ ¼å¼åã å¦å°å­ç¬¦ä¸²è½¬æ¢ææ ¼å¼åæ°å­ææ ¼å¼åæ¥æç­\n\nd) æ°æ®éªè¯ï¼ éªè¯æ°æ®çæææ§ï¼é¿åº¦ãæ ¼å¼ç­ï¼ï¼éªè¯ç»æå­å¨å°BindingResultæErrorä¸­\n\n 7.  Handleræ§è¡å®æåï¼åDispatcherServlet è¿åä¸ä¸ªModelAndViewå¯¹è±¡ã\n\n 8.  æ­¤æ¶å°å¼å§æ§è¡æ¦æªå¨çpostHandle(...)æ¹æ³ãéåãã\n\n 9.  æ ¹æ®è¿åçModelAndViewï¼æ­¤æ¶ä¼å¤æ­æ¯å¦å­å¨å¼å¸¸ï¼å¦æå­å¨å¼å¸¸ï¼åæ§è¡HandlerExceptionResolverè¿è¡å¼å¸¸å¤çï¼éæ©ä¸ä¸ªéåçViewResolverè¿è¡è§å¾è§£æï¼æ ¹æ®ModelåViewï¼æ¥æ¸²æè§å¾ã\n\n 10. æ¸²æè§å¾å®æ¯æ§è¡æ¦æªå¨çafterCompletion(â¦)æ¹æ³ãéåãã\n\n 11. å°æ¸²æç»æè¿åç»å®¢æ·ç«¯ã',normalizedContent:'# å«ãrestfulæ¡ä¾\n\n\n# 1ãåå¤å·¥ä½\n\nåä¼ ç» crud ä¸æ ·ï¼å®ç°å¯¹åå·¥ä¿¡æ¯çå¢å æ¹æ¥ã\n\n * æ­å»ºç¯å¢\n\n * åå¤å®ä½ç±»\n   \n   package com.atguigu.mvc.bean;\n   \n   public class employee {\n   \n      private integer id;\n      private string lastname;\n   \n      private string email;\n      //1 male, 0 female\n      private integer gender;\n      \n      public integer getid() {\n         return id;\n      }\n   \n      public void setid(integer id) {\n         this.id = id;\n      }\n   \n      public string getlastname() {\n         return lastname;\n      }\n   \n      public void setlastname(string lastname) {\n         this.lastname = lastname;\n      }\n   \n      public string getemail() {\n         return email;\n      }\n   \n      public void setemail(string email) {\n         this.email = email;\n      }\n   \n      public integer getgender() {\n         return gender;\n      }\n   \n      public void setgender(integer gender) {\n         this.gender = gender;\n      }\n   \n      public employee(integer id, string lastname, string email, integer gender) {\n         super();\n         this.id = id;\n         this.lastname = lastname;\n         this.email = email;\n         this.gender = gender;\n      }\n   \n      public employee() {\n      }\n   }\n   \n\n * åå¤daoæ¨¡ææ°æ®\n   \n   package com.atguigu.mvc.dao;\n   \n   import java.util.collection;\n   import java.util.hashmap;\n   import java.util.map;\n   \n   import com.atguigu.mvc.bean.employee;\n   import org.springframework.stereotype.repository;\n   \n   \n   @repository\n   public class employeedao {\n   \n      private static map<integer, employee> employees = null;\n      \n      static{\n         employees = new hashmap<integer, employee>();\n   \n         employees.put(1001, new employee(1001, "e-aa", "aa@163.com", 1));\n         employees.put(1002, new employee(1002, "e-bb", "bb@163.com", 1));\n         employees.put(1003, new employee(1003, "e-cc", "cc@163.com", 0));\n         employees.put(1004, new employee(1004, "e-dd", "dd@163.com", 0));\n         employees.put(1005, new employee(1005, "e-ee", "ee@163.com", 1));\n      }\n      \n      private static integer initid = 1006;\n      \n      public void save(employee employee){\n         if(employee.getid() == null){\n            employee.setid(initid++);\n         }\n         employees.put(employee.getid(), employee);\n      }\n      \n      public collection<employee> getall(){\n         return employees.values();\n      }\n      \n      public employee get(integer id){\n         return employees.get(id);\n      }\n      \n      public void delete(integer id){\n         employees.remove(id);\n      }\n   }\n   \n\n\n# 2ãåè½æ¸å\n\nåè½           url å°å        è¯·æ±æ¹å¼\nè®¿é®é¦é¡µâ        /             get\næ¥è¯¢å¨é¨æ°æ®â      /employee     get\nå é¤â          /employee/2   delete\nè·³è½¬å°æ·»å æ°æ®é¡µé¢â   /toadd        get\næ§è¡ä¿å­â        /employee     post\nè·³è½¬å°æ´æ°æ°æ®é¡µé¢â   /employee/2   get\næ§è¡æ´æ°â        /employee     put\n\n\n# 3ãå·ä½åè½ï¼è®¿é®é¦é¡µ\n\n# a>éç½®view-controller\n\nè¿éå°±ä¸åæ§å¶å¨æ¹æ³äº\n\n<mvc:view-controller path="/" view-name="index"/>\n\n\n# b>åå»ºé¡µé¢\n\n<!doctype html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="utf-8" >\n    <title>title</title>\n</head>\n<body>\n<h1>é¦é¡µ</h1>\n<a th:href="@{/employee}">è®¿é®åå·¥ä¿¡æ¯</a>\n</body>\n</html>\n\n\n\n# 4ãå·ä½åè½ï¼æ¥è¯¢ææåå·¥æ°æ®\n\n# a>æ§å¶å¨æ¹æ³\n\n@requestmapping(value = "/employee", method = requestmethod.get)\npublic string getemployeelist(model model){\n    collection<employee> employeelist = employeedao.getall();\n    model.addattribute("employeelist", employeelist);\n    return "employee_list";\n}\n\n\n# b>åå»ºemployee_list.html\n\n<!doctype html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="utf-8">\n    <title>employee info</title>\n    <script type="text/javascript" th:src="@{/static/js/vue.js}"><\/script>\n</head>\n<body>\n\n    <table border="1" cellpadding="0" cellspacing="0" style="text-align: center;" id="datatable">\n        <tr>\n            <th colspan="5">employee info</th>\n        </tr>\n        <tr>\n            <th>id</th>\n            <th>lastname</th>\n            <th>email</th>\n            <th>gender</th>\n            <th>options(<a th:href="@{/toadd}">add</a>)</th>\n        </tr>\n\n        **th:eachæ¯ä»ä¹ææ**\n        <tr th:each="employee : ${employeelist}">\n            <td th:text="${employee.id}"></td>\n            <td th:text="${employee.lastname}"></td>\n            <td th:text="${employee.email}"></td>\n            <td th:text="${employee.gender}"></td>\n            <td>\n                \x3c!-- "@{/employee/${employee.id}}" åæ³æ¯éè¯¯çï¼å ä¸º$ä¼è¢«å½æç¬¦å·è¿è¡è§£æ\n                \'/employee/\'è¡¨ç¤ºè¯·æ±å°å --\x3e\n                <a class="deletea" @click="deleteemployee" th:href="@{\'/employee/\'+${employee.id}}">delete</a>\n                \x3c!-- æè --\x3e\n                <a class="deletea" @click="deleteemployee" th:href="@{/employee/} + ${employee.id}">delete</a>\n                \x3c!-- ä¸è¿°ä¸¤ç§æ¹æ³é½æ¯æ­£ç¡®ç  --\x3e\n\n                <a th:href="@{\'/employee/\'+${employee.id}}">update</a>\n            </td>\n        </tr>\n    </table>\n</body>\n</html>\n\n\nth:eachæ¯ä»ä¹ææï¼ï¼ï¼å¤ä¹ åç«¯ç¥è¯\n\n\n# 5ãå·ä½åè½ï¼å é¤\n\n# a>åå»ºå¤çdeleteè¯·æ±æ¹å¼çè¡¨å\n\n\x3c!-- ä½ç¨ï¼éè¿è¶é¾æ¥æ§å¶è¡¨åçæäº¤ï¼å°postè¯·æ±è½¬æ¢ä¸ºdeleteè¯·æ± --\x3e\n<form id="delete_form" method="post">\n    \x3c!-- hiddenhttpmethodfilterè¦æ±ï¼å¿é¡»ä¼ è¾_methodè¯·æ±åæ°ï¼å¹¶ä¸å¼ä¸ºæç»çè¯·æ±æ¹å¼ --\x3e\n    <input type="hidden" name="_method" value="delete"/>\n</form>\n\n\n# b>å é¤è¶é¾æ¥ç»å®ç¹å»äºä»¶\n\nå¼å¥vue.js\n\n<script type="text/javascript" th:src="@{/static/js/vue.js}"><\/script>\n\n\nå é¤è¶é¾æ¥\n\n<a class="deletea" @click="deleteemployee" th:href="@{\'/employee/\'+${employee.id}}">delete</a>\n\n\néè¿vueå¤çç¹å»äºä»¶\n\n<script type="text/javascript">\n    var vue = new vue({\n        el:"#datatable",\n        methods:{\n            //eventè¡¨ç¤ºå½åäºä»¶\n            deleteemployee:function (event) {\n                //éè¿idè·åè¡¨åæ ç­¾\n                var delete_form = document.getelementbyid("delete_form");\n                //å°è§¦åäºä»¶çè¶é¾æ¥çhrefå±æ§ä¸ºè¡¨åçactionå±æ§èµå¼\n                delete_form.action = event.target.href;\n                //æäº¤è¡¨å\n                delete_form.submit();\n                //é»æ­¢è¶é¾æ¥çé»è®¤è·³è½¬è¡ä¸º\n                event.preventdefault();\n            }\n        }\n    });\n<\/script>\n\n\n# c> å¼æ¾éæèµæºè®¿é®\n\n<mvc:default-servlet-handler />\n\n\nspringmvcåå¤çè¯·æ±ï¼è½å¤çå°±ä¼è¢«å¤çï¼ä¸è½å¤çå°±ä¼äº¤ç»ä»å¤©çserveletå¤çï¼serveletè½å¤çå°±å¤çï¼ä¸è½å¤çé»è®¤çserveletæ¥é\n\n# d>æ§å¶å¨æ¹æ³\n\n@requestmapping(value = "/employee/{id}", method = requestmethod.delete)\npublic string deleteemployee(@pathvariable("id") integer id){\n    employeedao.delete(id);\n    return "redirect:/employee";\n}\n\n\n\n# 6ãå·ä½åè½ï¼è·³è½¬å°æ·»å æ°æ®é¡µé¢\n\n# a>éç½®view-controller\n\n<mvc:view-controller path="/toadd" view-name="employee_add"></mvc:view-controller>\n\n\n# b>åå»ºemployee_add.html\n\n<!doctype html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="utf-8">\n    <title>add employee</title>\n</head>\n<body>\n\n<form th:action="@{/employee}" method="post">\n    lastname:<input type="text" name="lastname"><br>\n    email:<input type="text" name="email"><br>\n    gender:<input type="radio" name="gender" value="1">male\n    <input type="radio" name="gender" value="0">female<br>\n    <input type="submit" value="add"><br>\n</form>\n\n</body>\n</html>\n\n\n\n# 7ãå·ä½åè½ï¼æ§è¡ä¿å­\n\n# a>æ§å¶å¨æ¹æ³\n\n@requestmapping(value = "/employee", method = requestmethod.post)\npublic string addemployee(employee employee){\n    employeedao.save(employee);\n    return "redirect:/employee";\n}\n\n\n\n# 8ãå·ä½åè½ï¼è·³è½¬å°æ´æ°æ°æ®é¡µé¢\n\n# a>ä¿®æ¹è¶é¾æ¥\n\n<a th:href="@{\'/employee/\'+${employee.id}}">update</a>\n\n\n# b>æ§å¶å¨æ¹æ³\n\n@requestmapping(value = "/employee/{id}", method = requestmethod.get)\npublic string getemployeebyid(@pathvariable("id") integer id, model model){\n    employee employee = employeedao.get(id);\n    model.addattribute("employee", employee);\n    return "employee_update";\n}\n\n\n# c>åå»ºemployee_update.html\n\n<!doctype html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="utf-8">\n    <title>update employee</title>\n</head>\n<body>\n\n<form th:action="@{/employee}" method="post">\n    <input type="hidden" name="_method" value="put">\n    <input type="hidden" name="id" th:value="${employee.id}">\n    lastname:<input type="text" name="lastname" th:value="${employee.lastname}"><br>\n    email:<input type="text" name="email" th:value="${employee.email}"><br>\n    \x3c!--\n        th:field="${employee.gender}"å¯ç¨äºåéæ¡æå¤éæ¡çåæ¾\n        è¥åéæ¡çvalueåemployee.genderçå¼ä¸è´ï¼åæ·»å checked="checked"å±æ§\n    --\x3e\n    gender:<input type="radio" name="gender" value="1" th:field="${employee.gender}">male\n    <input type="radio" name="gender" value="0" th:field="${employee.gender}">female<br>\n    <input type="submit" value="update"><br>\n</form>\n\n</body>\n</html>\n\n\n\n# 9ãå·ä½åè½ï¼æ§è¡æ´æ°\n\n# a>æ§å¶å¨æ¹æ³\n\n@requestmapping(value = "/employee", method = requestmethod.put)\npublic string updateemployee(employee employee){\n    employeedao.save(employee);\n    return "redirect:/employee";\n}\n\n\n\n# å«ãhttpmessageconverter\n\nhttpmessageconverterï¼æ¥æä¿¡æ¯è½¬æ¢å¨ï¼å°è¯·æ±æ¥æè½¬æ¢ä¸ºjavaå¯¹è±¡ï¼æµè§å¨è¯·æ±æå¡å¨ï¼ï¼æå°javaå¯¹è±¡è½¬æ¢ä¸ºååºæ¥æï¼æå¡å¨ç¸åºæµè§å¨ï¼\n\nhttpmessageconverteræä¾äºä¸¤ä¸ªæ³¨è§£åä¸¤ä¸ªç±»åï¼@requestbodyï¼@responsebodyï¼requestentityï¼\n\nresponseentity\n\n\n# 1ã@requestbody\n\n@requestbodyå¯ä»¥è·åè¯·æ±ä½ï¼éè¦å¨æ§å¶å¨æ¹æ³è®¾ç½®ä¸ä¸ªå½¢åï¼ä½¿ç¨@requestbodyè¿è¡æ è¯ï¼å½åè¯·æ±çè¯·æ±ä½å°±ä¼ä¸ºå½åæ³¨è§£ææ è¯çå½¢åèµå¼\n\n<form th:action="@{/testrequestbody}" method="post">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    <input type="submit">\n</form>\n\n\n@requestmapping("/testrequestbody")\npublic string testrequestbody(@requestbody string requestbody){\n    system.out.println("requestbody:"+requestbody);\n    return "success";\n}\n\n\nè¾åºç»æï¼\n\nrequestbody:username=admin&password=123456\n\n\n# 2ãrequestentity\n\nrequestentityå°è£è¯·æ±æ¥æçä¸ç§ç±»åï¼éè¦å¨æ§å¶å¨æ¹æ³çå½¢åä¸­è®¾ç½®è¯¥ç±»åçå½¢åï¼å½åè¯·æ±çè¯·æ±æ¥æå°±ä¼èµå¼ç»è¯¥å½¢åï¼å¯ä»¥éè¿getheaders()è·åè¯·æ±å¤´ä¿¡æ¯ï¼éè¿getbody()è·åè¯·æ±ä½ä¿¡æ¯\n\n@requestmapping("/testrequestentity")\npublic string testrequestentity(requestentity<string> requestentity){\n    system.out.println("requestheader:"+requestentity.getheaders());\n    system.out.println("requestbody:"+requestentity.getbody());\n    return "success";\n}\n\n\nè¾åºç»æï¼ requestheader:[host:"localhost:8080", connection:"keep-alive", content-length:"27", cache-control:"max-age=0", sec-ch-ua:"" not a;brand";v="99", "chromium";v="90", "google chrome";v="90"", sec-ch-ua-mobile:"?0", upgrade-insecure-requests:"1", origin:"http://localhost:8080", user-agent:"mozilla/5.0 (windows nt 10.0; win64; x64) applewebkit/537.36 (khtml, like gecko) chrome/90.0.4430.93 safari/537.36"] requestbody:username=admin&password=123\n\n\n# 3ã@responsebodyï¼ç¨çæå¤ï¼\n\n@responsebodyç¨äºæ è¯ä¸ä¸ªæ§å¶å¨æ¹æ³ï¼å¯ä»¥å°è¯¥æ¹æ³çè¿åå¼ç´æ¥ä½ä¸ºååºæ¥æçååºä½ååºå°æµè§å¨\n\n@requestmapping("/testresponsebody")\n@responsebody\npublic string testresponsebody(){\n    return "success";\n}\n\n\nä¹å°±æ¯å ä¸responsebodyç´æ¥è¿åå­ç¬¦ä¸²ï¼ä¸å åä¼æ¼æ¥"åç¼+è¿åå­ç¬¦ä¸²+åç¼"å¹¶æå¼æ°é¡µé¢è¿è¡å±ç¤ºä¿¡æ¯\n\nç»æï¼æµè§å¨é¡µé¢æ¾ç¤ºsuccess\n\nè¿éè¦å­¦ä¹ ä¸ä¸javawebä¸­çhttpservletresponseå¯¹äºæµè§å¨æ°æ®çååº\n\n\n# 4ãspringmvcå¤çjson\n\n@responsebodyå¤çjsonçæ­¥éª¤ï¼\n\na>å¯¼å¥jacksonçä¾èµ\n\n<dependency>\n    <groupid>com.fasterxml.jackson.core</groupid>\n    <artifactid>jackson-databind</artifactid>\n    <version>2.12.1</version>\n</dependency>\n\n\nb>å¨springmvcçæ ¸å¿éç½®æä»¶ä¸­å¼å¯mvcçæ³¨è§£é©±å¨ï¼æ­¤æ¶å¨handleradaptorä¸­ä¼èªå¨è£éä¸ä¸ªæ¶æ¯è½¬æ¢å¨ï¼mappingjackson2httpmessageconverterï¼å¯ä»¥å°ååºå°æµè§å¨çjavaå¯¹è±¡è½¬æ¢ä¸ºjsonæ ¼å¼çå­ç¬¦ä¸²\n\n<mvc:annotation-driven />\n\n\nc>å¨å¤çå¨æ¹æ³ä¸ä½¿ç¨@responsebodyæ³¨è§£è¿è¡æ è¯\n\nd>å°javaå¯¹è±¡ç´æ¥ä½ä¸ºæ§å¶å¨æ¹æ³çè¿åå¼è¿åï¼å°±ä¼èªå¨è½¬æ¢ä¸ºjsonæ ¼å¼çå­ç¬¦ä¸²\n\n@requestmapping("/testresponseuser")\n@responsebody\npublic user testresponseuser(){\n    return new user(1001,"admin","123456",23,"ç·");\n}\n\n\næµè§å¨çé¡µé¢ä¸­å±ç¤ºçç»æï¼\n\n{"id":1001,"username":"admin","password":"123456","age":23,"sex":"ç·"}\n\n\n# 5ãspringmvcå¤çajax\n\na>è¯·æ±è¶é¾æ¥ï¼\n\n<div id="app">\n\t<a th:href="@{/testajax}" @click="testajax">testajax</a><br>\n</div>\n\n\nb>éè¿vueåaxioså¤çç¹å»äºä»¶ï¼\n\n<script type="text/javascript" th:src="@{/static/js/vue.js}"><\/script>\n<script type="text/javascript" th:src="@{/static/js/axios.min.js}"><\/script>\n<script type="text/javascript">\n    var vue = new vue({\n        el:"#app",\n        methods:{\n            testajax:function (event) {\n                axios({\n                    method:"post",\n                    url:event.target.href,\n                    params:{\n                        username:"admin",\n                        password:"123456"\n                    }\n                }).then(function (response) {\n                    alert(response.data);\n                });\n                event.preventdefault();\n            }\n        }\n    });\n<\/script>\n\n\nc>æ§å¶å¨æ¹æ³ï¼\n\n@requestmapping("/testajax")\n@responsebody\npublic string testajax(string username, string password){\n    system.out.println("username:"+username+",password:"+password);\n    return "hello,ajax";\n}\n\n\n\n# 6ã@restcontrolleræ³¨è§£\n\n@restcontrolleræ³¨è§£æ¯springmvcæä¾çä¸ä¸ªå¤åæ³¨è§£ï¼æ è¯å¨æ§å¶å¨çç±»ä¸ï¼å°±ç¸å½äºä¸ºç±»æ·»å äº@controlleræ³¨è§£ï¼å¹¶ä¸ä¸ºå¶ä¸­çæ¯ä¸ªæ¹æ³æ·»å äº@responsebodyæ³¨è§£\n\n\n# 7ãresponseentity\n\nresponseentityç¨äºæ§å¶å¨æ¹æ³çè¿åå¼ç±»åï¼è¯¥æ§å¶å¨æ¹æ³çè¿åå¼å°±æ¯ååºå°æµè§å¨çååºæ¥æ\n\n\n# ä¹ãæä»¶ä¸ä¼ åä¸è½½\n\n\n# 1ãæä»¶ä¸è½½\n\nä½¿ç¨responseentityå®ç°ä¸è½½æä»¶çåè½\n\n@requestmapping("/testdown")\npublic responseentity<byte[]> testresponseentity(httpsession session) throws ioexception {\n    //è·åservletcontextå¯¹è±¡\n    servletcontext servletcontext = session.getservletcontext();\n    //è·åæå¡å¨ä¸­æä»¶ççå®è·¯å¾\n    string realpath = servletcontext.getrealpath("/static/https://cdn.jsdelivr.net/gh/leejiayang/blogimages@main/springmvc/1.jpg");\n    //åå»ºè¾å¥æµ\n    inputstream is = new fileinputstream(realpath);\n    //åå»ºå­èæ°ç»\n    byte[] bytes = new byte[is.available()];\n    //å°æµè¯»å°å­èæ°ç»ä¸­\n    is.read(bytes);\n    //åå»ºhttpheaderså¯¹è±¡è®¾ç½®ååºå¤´ä¿¡æ¯\n    multivaluemap<string, string> headers = new httpheaders();\n    //è®¾ç½®è¦ä¸è½½æ¹å¼ä»¥åä¸è½½æä»¶çåå­\n    headers.add("content-disposition", "attachment;filename=1.jpg");\n    //è®¾ç½®ååºç¶æç \n    httpstatus statuscode = httpstatus.ok;\n    //åå»ºresponseentityå¯¹è±¡\n    responseentity<byte[]> responseentity = new responseentity<>(bytes, headers, statuscode);\n    //å³é­è¾å¥æµ\n    is.close();\n    return responseentity;\n}\n\n\n\n# 2ãæä»¶ä¸ä¼ \n\næä»¶ä¸ä¼ è¦æ±formè¡¨åçè¯·æ±æ¹å¼å¿é¡»ä¸ºpostï¼å¹¶ä¸æ·»å å±æ§enctype="multipart/form-data"\n\nspringmvcä¸­å°ä¸ä¼ çæä»¶å°è£å°multipartfileå¯¹è±¡ä¸­ï¼éè¿æ­¤å¯¹è±¡å¯ä»¥è·åæä»¶ç¸å³ä¿¡æ¯\n\nä¸ä¼ æ­¥éª¤ï¼\n\na>æ·»å ä¾èµï¼\n\n\x3c!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --\x3e\n<dependency>\n    <groupid>commons-fileupload</groupid>\n    <artifactid>commons-fileupload</artifactid>\n    <version>1.3.1</version>\n</dependency>\n\n\nb>å¨springmvcçéç½®æä»¶ä¸­æ·»å éç½®ï¼\n\n\x3c!--å¿é¡»éè¿æä»¶è§£æå¨çè§£ææè½å°æä»¶è½¬æ¢ä¸ºmultipartfileå¯¹è±¡--\x3e\n<bean id="multipartresolver" class="org.springframework.web.multipart.commons.commonsmultipartresolver"></bean>\n\n\nc>æ§å¶å¨æ¹æ³ï¼\n\n@requestmapping("/testup")\npublic string testup(multipartfile photo, httpsession session) throws ioexception {\n    //è·åä¸ä¼ çæä»¶çæä»¶å\n    string filename = photo.getoriginalfilename();\n    //å¤çæä»¶éåé®é¢\n    // è·ååç¼å\n    string hzname = filename.substring(filename.lastindexof("."));\n    // å°uuidååç¼åæ¼æ¥çæ­£çæä»¶å\n    filename = uuid.randomuuid().tostring() + hzname;\n    //è·åæå¡å¨ä¸­photoç®å½çè·¯å¾\n    servletcontext servletcontext = session.getservletcontext();\n    string photopath = servletcontext.getrealpath("photo");\n    file file = new file(photopath);\n    if(!file.exists()){\n        file.mkdir();\n    }\n    string finalpath = photopath + file.separator + filename;\n    //å®ç°ä¸ä¼ åè½\n    photo.transferto(new file(finalpath));\n    return "success";\n}\n\n\n\n# åãæ¦æªå¨\n\n\n# 1ãæ¦æªå¨çéç½®\n\nspringmvcä¸­çæ¦æªå¨ç¨äºæ¦æªæ§å¶å¨æ¹æ³çæ§è¡\n\nspringmvcä¸­çæ¦æªå¨éè¦å®ç°handlerinterceptoræèhandlerinterceptoradapter(å·²è¿æ¶)ï¼éåä¸é¢çä¸ä¸ªæ¹æ³\n\näºå®ä¸æ¯handlerinterceptoradapterç»§æ¿äºasynchandlerinterceptor, asynchandlerinterceptoråç»§æ¿äºhandlerinterceptor\n\nspringmvcçæ¦æªå¨å¿é¡»å¨springmvcçéç½®æä»¶ä¸­è¿è¡éç½®ï¼\n\næç®åçéç½®æ¹æ³ï¼ç¬¬ä¸ç§éç½®æ¹æ³ï¼ è¡¨ç¤ºä¸ä¸ªå¯¹è±¡\n\nå¾çéé¢çè®¾ç½®ä¹ä¼è¢«æ¦æªï¼å ä¸ºæ¬è´¨ä¸è¿ä¸ªä¹æ¯æ§å¶å¨æ¹æ³\n\n\n\n\n\nç¬¬äºç§éç½®æ¹æ³\n<mvc:interceptor>\n\x3c!-- <bean class="com.atguigu.interceptor.firstinterceptor"></bean> --\x3e\n<ref bean="firstinterceptor"></ref>\n</mvc:interceptor>\n\x3c!-- ä»¥ä¸ä¸¤ç§éç½®æ¹å¼é½æ¯å¯¹dispatcherservletæå¤ççææçè¯·æ±è¿è¡æ¦æª --\x3e\n<mvc:interceptor>\n\x3c!-- æ¦æªææè¯·æ± --\x3e\n\x3c!-- è¿éç/*è¡¨ç¤ºè®¿é®è¯¥é¡µé¢çä¸ä¸ä¸å±ç®å½ --\x3e\n<mvc:mapping path="/*"/>\n    <mvc:mapping path="/**"/>\n    \x3c!-- æé¤ä¸æ¦æªçç¹æ®æåµ --\x3e\n    <mvc:exclude-mapping path="/testrequestentity"/>\n    \x3c!-- æå®æ¦æª å¨ --\x3e\n    <ref bean="firstinterceptor"></ref>\n</mvc:interceptor>\n\x3c!-- \n\tä»¥ä¸éç½®æ¹å¼å¯ä»¥éè¿refæbeanæ ç­¾è®¾ç½®æ¦æªå¨ï¼éè¿mvc:mappingè®¾ç½®éè¦æ¦æªçè¯·æ±ï¼éè¿mvc:exclude-mappingè®¾ç½®éè¦æé¤çè¯·æ±ï¼å³ä¸éè¦æ¦æªçè¯·æ±\n--\x3e\n\n\n\n# 2ãæ¦æªå¨çä¸ä¸ªæ½è±¡æ¹æ³\n\nè¿æ»¤å¨çæ¦æªå¨çåºå«æ¯ä»ä¹ï¼ï¼ springmvcä¸­çæ¦æªå¨æä¸ä¸ªæ½è±¡æ¹æ³ï¼\n\nprehandleï¼æ§å¶å¨æ¹æ³æ§è¡ä¹åæ§è¡prehandle()ï¼å¶booleanç±»åçè¿åå¼è¡¨ç¤ºæ¯å¦æ¦æªææ¾è¡ï¼è¿åtrueä¸ºæ¾è¡ï¼å³è°ç¨æ§å¶å¨æ¹æ³ï¼è¿åfalseè¡¨ç¤ºæ¦æªï¼å³ä¸è°ç¨æ§å¶å¨æ¹æ³\n\nposthandleï¼æ§å¶å¨æ¹æ³æ§è¡ä¹åæ§è¡posthandle()\n\naftercomplationï¼å¤çå®è§å¾åæ¨¡åæ°æ®ï¼æ¸²æè§å¾å®æ¯ä¹åæ§è¡aftercomplation()\n\n\n# 3ãå¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº\n\na>è¥æ¯ä¸ªæ¦æªå¨çprehandle()é½è¿åtrue\n\næ­¤æ¶å¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåºåæ¦æªå¨å¨springmvcçéç½®æä»¶çéç½®é¡ºåºæå³ï¼\n\nprehandle()ä¼æç§éç½®çé¡ºåºæ§è¡ï¼èposthandle()åaftercomplation()ä¼æç§éç½®çååºæ§è¡\n\nb>è¥æä¸ªæ¦æªå¨çprehandle()è¿åäºfalse\n\nprehandle()è¿åfalseåå®ä¹åçæ¦æªå¨çprehandle()é½ä¼æ§è¡ï¼posthandle()é½ä¸æ§è¡ï¼è¿åfalseçæ¦æªå¨ä¹åçæ¦æªå¨çaftercomplation()ä¼æ§è¡\n\n\n# åä¸ãå¼å¸¸å¤çå¨(åºç°å¼å¸¸è·³è½¬æå®é¡µé¢)\n\n\n# 1ãåºäºéç½®çå¼å¸¸å¤ç\n\nspringmvcæä¾äºä¸ä¸ªå¤çæ§å¶å¨æ¹æ³æ§è¡è¿ç¨ä¸­æåºç°çå¼å¸¸çæ¥å£ï¼handlerexceptionresolver\n\nhandlerexceptionresolveræ¥å£çå®ç°ç±»æï¼defaulthandlerexceptionresolveråsimplemappingexceptionresolver\n\nspringmvcæä¾äºèªå®ä¹çå¼å¸¸å¤çå¨simplemappingexceptionresolverï¼ä½¿ç¨æ¹å¼ï¼\n\n<bean class="org.springframework.web.servlet.handler.simplemappingexceptionresolver">\n    <property name="exceptionmappings">\n        <props>\n        \t\x3c!--\n        \t\tpropertiesçé®è¡¨ç¤ºå¤çå¨æ¹æ³æ§è¡è¿ç¨ä¸­åºç°çå¼å¸¸\n        \t\tpropertiesçå¼è¡¨ç¤ºè¥åºç°æå®å¼å¸¸æ¶ï¼è®¾ç½®ä¸ä¸ªæ°çè§å¾åç§°ï¼è·³è½¬å°æå®é¡µé¢,themeleafè¿è¡è§£æï¼åä¹å çè§£æè§åä¸è´\n        \t--\x3e\n            <prop key="java.lang.arithmeticexception">error</prop>\n        </props>\n    </property>\n    \x3c!--\n    \texceptionattributeå±æ§è®¾ç½®ä¸ä¸ªå±æ§åï¼å°åºç°çå¼å¸¸ä¿¡æ¯å¨è¯·æ±åä¸­è¿è¡å±äº«\n    --\x3e\n\n\n    <property name="exceptionattribute" value="ex"></property>\n</bean>\n\n\n\n# 2ãåºäºæ³¨è§£çå¼å¸¸å¤ç\n\n//@controlleradviceå°å½åç±»æ è¯ä¸ºå¼å¸¸å¤ççç»ä»¶\n@controlleradvice\npublic class exceptioncontroller {\n\n    //@exceptionhandlerç¨äºè®¾ç½®ææ è¯æ¹æ³å¤ççå¼å¸¸\n    @exceptionhandler(value = arithmeticexception.class, nullpointerexception.class)\n    //exè¡¨ç¤ºå½åè¯·æ±å¤çä¸­åºç°çå¼å¸¸å¯¹è±¡\n    public string handlearithmeticexception(exception ex, model model){\n        model.addattribute("ex", ex);\n        return "error";\n    }\n\n}\n\n\n\n# åäºãæ³¨è§£éç½®springmvc\n\nä½¿ç¨éç½®ç±»åæ³¨è§£ä»£æ¿web.xmlåspringmvcéç½®æä»¶çåè½\n\n\n# 1ãåå»ºåå§åç±»ï¼ä»£æ¿web.xml\n\nå¨servlet3.0ç¯å¢ä¸­ï¼å®¹å¨ä¼å¨ç±»è·¯å¾ä¸­æ¥æ¾å®ç°javax.servlet.servletcontainerinitializeræ¥å£çç±»ï¼å¦ææ¾å°çè¯å°±ç¨å®æ¥éç½®servletå®¹å¨ã\n\nspringæä¾äºè¿ä¸ªæ¥å£çå®ç°ï¼åä¸ºspringservletcontainerinitializerï¼è¿ä¸ªç±»åè¿æ¥åä¼æ¥æ¾å®ç°webapplicationinitializerçç±»å¹¶å°éç½®çä»»å¡äº¤ç»å®ä»¬æ¥å®æã\n\nspring3.2å¼å¥äºä¸ä¸ªä¾¿å©çwebapplicationinitializeråºç¡å®ç°ï¼åä¸ºabstractannotationconfigdispatcherservletinitializerï¼å½æä»¬çç±»æ©å±äºabstractannotationconfigdispatcherservletinitializerå¹¶å°å¶é¨ç½²å°servlet3.0å®¹å¨çæ¶åï¼å®¹å¨ä¼èªå¨åç°å®ï¼å¹¶ç¨å®æ¥éç½®servletä¸ä¸æã\n\npublic class webinit extends abstractannotationconfigdispatcherservletinitializer {\n\n    /**\n     * æå®springçéç½®ç±»\n     * @return\n     */\n    @override\n    protected class<?>[] getrootconfigclasses() {\n        return new class[]{springconfig.class};\n    }\n\n    /**\n     * æå®springmvcçéç½®ç±»\n     * @return\n     */\n    @override\n    protected class<?>[] getservletconfigclasses() {\n        // è¿åclassæ°ç»\n        return new class[]{webconfig.class};\n    }\n\n    /**\n     * æå®dispatcherservletçæ å°è§å(æ å°è§å)ï¼å³url-pattern\n     * @return\n     */\n    @override\n    protected string[] getservletmappings() {\n        return new string[]{"/"};\n    }\n\n    /**\n     * æ·»å è¿æ»¤å¨\n     * @return\n     */\n    @override\n    protected filter[] getservletfilters() {\n        characterencodingfilter encodingfilter = new characterencodingfilter();\n        encodingfilter.setencoding("utf-8");\n        encodingfilter.setforcerequestencoding(true);\n        hiddenhttpmethodfilter hiddenhttpmethodfilter = new hiddenhttpmethodfilter();\n        return new filter[]{encodingfilter, hiddenhttpmethodfilter};\n    }\n}\n\n\n\n# 2ãåå»ºspringconfigéç½®ç±»ï¼ä»£æ¿springçéç½®æä»¶\n\n@configuration\npublic class springconfig {\n\t//ssmæ´åä¹åï¼springçéç½®ä¿¡æ¯åå¨æ­¤ç±»ä¸­\n}\n\n\n\n# 3ãåå»ºwebconfigéç½®ç±»ï¼ä»£æ¿springmvcçéç½®æä»¶\n\n\n// æ«æç»ä»¶\n// è§å¾è§£æå¨\n// viewcontroller\n// default-servlet-handler\n// mvcæ³¨è§£é©±å¨\n// æä»¶ä¸ä¼ è§£æå¨\n// å¼å¸¸å¤ç\n// æ¦æªå¨\n\n@configuration\n//æ«æç»ä»¶\n@componentscan("com.atguigu.mvc.controller")\n//å¼å¯mvcæ³¨è§£é©±å¨\n@enablewebmvc\npublic class webconfig implements webmvcconfigurer {\n\n    //ä½¿ç¨é»è®¤çservletå¤çéæèµæº\n    @override\n    public void configuredefaultservlethandling(defaultservlethandlerconfigurer configurer) {\n        configurer.enable();\n    }\n\n    //éç½®æä»¶ä¸ä¼ è§£æå¨\n    @bean\n    public commonsmultipartresolver multipartresolver(){\n        return new commonsmultipartresolver();\n    }\n\n    //éç½®æ¦æªå¨\n    @override\n    public void addinterceptors(interceptorregistry registry) {\n        firstinterceptor firstinterceptor = new firstinterceptor();\n\n        //  addpathpatternsæ·»å æ¦æªè§å\n        registry.addinterceptor(firstinterceptor).addpathpatterns("/**");\n    }\n    \n    //éç½®è§å¾æ§å¶\n    \n    /*@override\n    public void addviewcontrollers(viewcontrollerregistry registry) {\n        registry.addviewcontroller("/").setviewname("index");\n    }*/\n    \n    //éç½®å¼å¸¸æ å°\n    /*@override\n    public void configurehandlerexceptionresolvers(list<handlerexceptionresolver> resolvers) {\n        simplemappingexceptionresolver exceptionresolver = new simplemappingexceptionresolver();\n        properties prop = new properties();\n        prop.setproperty("java.lang.arithmeticexception", "error");\n        //è®¾ç½®å¼å¸¸æ å°\n        exceptionresolver.setexceptionmappings(prop);\n        //è®¾ç½®å±äº«å¼å¸¸ä¿¡æ¯çé®\n        exceptionresolver.setexceptionattribute("ex");\n        resolvers.add(exceptionresolver);\n    }*/\n\n    // æ³¨æï¼xmlè§å¾è§£æå¨è¦ä»éå°å¤éç½®\n    //éç½®çææ¨¡æ¿è§£æå¨\n    @bean\n    public itemplateresolver templateresolver() {\n        webapplicationcontext webapplicationcontext = contextloader.getcurrentwebapplicationcontext();\n        // servletcontexttemplateresolveréè¦ä¸ä¸ªservletcontextä½ä¸ºæé åæ°ï¼å¯éè¿webapplicationcontext çæ¹æ³è·å¾\n        servletcontexttemplateresolver templateresolver = new servletcontexttemplateresolver(\n                webapplicationcontext.getservletcontext());\n\n        // è§å¾åç¼\n        templateresolver.setprefix("/web-inf/templates/");\n        // è§å¾åç¼\n        templateresolver.setsuffix(".html");\n        templateresolver.setcharacterencoding("utf-8");\n        templateresolver.settemplatemode(templatemode.html);\n        return templateresolver;\n    }\n\n    //çææ¨¡æ¿å¼æå¹¶ä¸ºæ¨¡æ¿å¼ææ³¨å¥æ¨¡æ¿è§£æå¨\n    @bean\n    public springtemplateengine templateengine(itemplateresolver templateresolver) {\n        springtemplateengine templateengine = new springtemplateengine();\n        templateengine.settemplateresolver(templateresolver);\n        return templateengine;\n    }\n\n    //çæè§å¾è§£æå¨å¹¶æªè§£æå¨æ³¨å¥æ¨¡æ¿å¼æ\n    @bean\n    public viewresolver viewresolver(springtemplateengine templateengine) {\n        thymeleafviewresolver viewresolver = new thymeleafviewresolver();\n        viewresolver.setcharacterencoding("utf-8");\n        viewresolver.settemplateengine(templateengine);\n        return viewresolver;\n    }\n\n\n}\n\n\n\n# 4ãæµè¯åè½\n\n@requestmapping("/")\npublic string index(){\n    return "index";\n}\n\n\n\n# åä¸ãspringmvcæ§è¡æµç¨\n\n\n# 1ãspringmvcå¸¸ç¨ç»ä»¶\n\n * dispatcherservletï¼åç«¯æ§å¶å¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾\n\nä½ç¨ï¼ç»ä¸å¤çè¯·æ±åååºï¼æ´ä¸ªæµç¨æ§å¶çä¸­å¿ï¼ç±å®è°ç¨å¶å®ç»ä»¶å¤çç¨æ·çè¯·æ±\n\n * handlermappingï¼å¤çå¨æ å°å¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾\n\nä½ç¨ï¼æ ¹æ®è¯·æ±çurlãmethodç­ä¿¡æ¯æ¥æ¾handlerï¼å³æ§å¶å¨æ¹æ³\n\n * handlerï¼å¤çå¨ï¼éè¦å·¥ç¨å¸å¼å\n\nä½ç¨ï¼å¨dispatcherservletçæ§å¶ä¸handlerå¯¹å·ä½çç¨æ·è¯·æ±è¿è¡å¤ç\n\n * handleradapterï¼å¤çå¨ééå¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾\n\nä½ç¨ï¼éè¿handleradapterå¯¹å¤çå¨ï¼æ§å¶å¨æ¹æ³ï¼è¿è¡æ§è¡\n\n * viewresolverï¼è§å¾è§£æå¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾ï¼é¡µé¢éè¦èªå·±åï¼\n\nä½ç¨ï¼è¿è¡è§å¾è§£æï¼å¾å°ç¸åºçè§å¾ï¼ä¾å¦ï¼thymeleafviewãinternalresourceviewãredirectview\n\n * viewï¼è§å¾ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æèè§å¾ææ¯æä¾\n\nä½ç¨ï¼å°æ¨¡åæ°æ®éè¿é¡µé¢å±ç¤ºç»ç¨æ·\n\n\n\n\n# 2ãdispatcherservletåå§åè¿ç¨\n\ndispatcherservlet æ¬è´¨ä¸æ¯ä¸ä¸ª servletï¼æä»¥å¤©ç¶çéµå¾ª servlet ççå½å¨æãæä»¥å®è§ä¸æ¯ servlet çå½å¨ææ¥è¿è¡è°åº¦ã\n\n\n\n# a>åå§åwebapplicationcontext\n\næå¨ç±»ï¼org.springframework.web.servlet.frameworkservlet\n\nprotected webapplicationcontext initwebapplicationcontext() {\n    webapplicationcontext rootcontext =\n        webapplicationcontextutils.getwebapplicationcontext(getservletcontext());\n    webapplicationcontext wac = null;\n\n    if (this.webapplicationcontext != null) {\n        // a context instance was injected at construction time -> use it\n        wac = this.webapplicationcontext;\n        if (wac instanceof configurablewebapplicationcontext) {\n            configurablewebapplicationcontext cwac = (configurablewebapplicationcontext) wac;\n            if (!cwac.isactive()) {\n                // the context has not yet been refreshed -> provide services such as\n                // setting the parent context, setting the application context id, etc\n                if (cwac.getparent() == null) {\n                    // the context instance was injected without an explicit parent -> set\n                    // the root application context (if any; may be null) as the parent\n                    cwac.setparent(rootcontext);\n                }\n                configureandrefreshwebapplicationcontext(cwac);\n            }\n        }\n    }\n    if (wac == null) {\n        // no context instance was injected at construction time -> see if one\n        // has been registered in the servlet context. if one exists, it is assumed\n        // that the parent context (if any) has already been set and that the\n        // user has performed any initialization such as setting the context id\n        wac = findwebapplicationcontext();\n    }\n    if (wac == null) {\n        // no context instance is defined for this servlet -> create a local one\n        // åå»ºwebapplicationcontext\n        wac = createwebapplicationcontext(rootcontext);\n    }\n\n    if (!this.refresheventreceived) {\n        // either the context is not a configurableapplicationcontext with refresh\n        // support or the context injected at construction time had already been\n        // refreshed -> trigger initial onrefresh manually here.\n        synchronized (this.onrefreshmonitor) {\n            // å·æ°webapplicationcontext\n            onrefresh(wac);\n        }\n    }\n\n    if (this.publishcontext) {\n        // publish the context as a servlet context attribute.\n        // å°iocå®¹å¨å¨åºç¨åå±äº«\n        string attrname = getservletcontextattributename();\n        getservletcontext().setattribute(attrname, wac);\n    }\n\n    return wac;\n}\n\n\n# b>åå»ºwebapplicationcontext\n\næå¨ç±»ï¼org.springframework.web.servlet.frameworkservlet\n\nprotected webapplicationcontext createwebapplicationcontext(@nullable applicationcontext parent) {\n    class<?> contextclass = getcontextclass();\n    if (!configurablewebapplicationcontext.class.isassignablefrom(contextclass)) {\n        throw new applicationcontextexception(\n            "fatal initialization error in servlet with name \'" + getservletname() +\n            "\': custom webapplicationcontext class [" + contextclass.getname() +\n            "] is not of type configurablewebapplicationcontext");\n    }\n    // éè¿åå°åå»º ioc å®¹å¨å¯¹è±¡\n    configurablewebapplicationcontext wac =\n        (configurablewebapplicationcontext) beanutils.instantiateclass(contextclass);\n\n    wac.setenvironment(getenvironment());\n    // è®¾ç½®ç¶å®¹å¨\n    wac.setparent(parent);\n    string configlocation = getcontextconfiglocation();\n    if (configlocation != null) {\n        wac.setconfiglocation(configlocation);\n    }\n    configureandrefreshwebapplicationcontext(wac);\n\n    return wac;\n}\n\n\n# c>dispatcherservletåå§åç­ç¥\n\nframeworkservletåå»ºwebapplicationcontextåï¼å·æ°å®¹å¨ï¼è°ç¨onrefresh(wac)ï¼æ­¤æ¹æ³å¨dispatcherservletä¸­è¿è¡äºéåï¼è°ç¨äºinitstrategies(context)æ¹æ³ï¼åå«èªå·±éè¦åå§åçæ¹æ³ï¼ï¼åå§åç­ç¥ï¼å³åå§ådispatcherservletçåä¸ªç»ä»¶\n\næå¨ç±»ï¼org.springframework.web.servlet.dispatcherservlet\n\nprotected void initstrategies(applicationcontext context) {\n   initmultipartresolver(context);\n   initlocaleresolver(context);\n   initthemeresolver(context);\n   inithandlermappings(context);\n   inithandleradapters(context);\n   inithandlerexceptionresolvers(context);\n   initrequesttoviewnametranslator(context);\n   initviewresolvers(context);\n   initflashmapmanager(context);\n}\n\n\n\n# 3ãdispatcherservletè°ç¨ç»ä»¶å¤çè¯·æ±\n\n# a>processrequest()\n\nframeworkservletéåhttpservletä¸­çservice()ådoxxx()ï¼è¿äºæ¹æ³ä¸­è°ç¨äºprocessrequest(request, response)\n\næå¨ç±»ï¼org.springframework.web.servlet.frameworkservlet\n\nprotected final void processrequest(httpservletrequest request, httpservletresponse response)\n    throws servletexception, ioexception {\n\n    long starttime = system.currenttimemillis();\n    throwable failurecause = null;\n\n    localecontext previouslocalecontext = localecontextholder.getlocalecontext();\n    localecontext localecontext = buildlocalecontext(request);\n\n    requestattributes previousattributes = requestcontextholder.getrequestattributes();\n    servletrequestattributes requestattributes = buildrequestattributes(request, response, previousattributes);\n\n    webasyncmanager asyncmanager = webasyncutils.getasyncmanager(request);\n    asyncmanager.registercallableinterceptor(frameworkservlet.class.getname(), new requestbindinginterceptor());\n\n    initcontextholders(request, localecontext, requestattributes);\n\n    try {\n\t\t// æ§è¡æå¡ï¼doservice()æ¯ä¸ä¸ªæ½è±¡æ¹æ³ï¼å¨dispatcherservletä¸­è¿è¡äºéå\n        doservice(request, response);\n    }\n    catch (servletexception | ioexception ex) {\n        failurecause = ex;\n        throw ex;\n    }\n    catch (throwable ex) {\n        failurecause = ex;\n        throw new nestedservletexception("request processing failed", ex);\n    }\n\n    finally {\n        resetcontextholders(request, previouslocalecontext, previousattributes);\n        if (requestattributes != null) {\n            requestattributes.requestcompleted();\n        }\n        logresult(request, response, failurecause, asyncmanager);\n        publishrequesthandledevent(request, response, starttime, failurecause);\n    }\n}\n\n\n# b>doservice()\n\næå¨ç±»ï¼org.springframework.web.servlet.dispatcherservlet\n\n@override\nprotected void doservice(httpservletrequest request, httpservletresponse response) throws exception {\n    logrequest(request);\n\n    // keep a snapshot of the request attributes in case of an include,\n    // to be able to restore the original attributes after the include.\n    map<string, object> attributessnapshot = null;\n    if (webutils.isincluderequest(request)) {\n        attributessnapshot = new hashmap<>();\n        enumeration<?> attrnames = request.getattributenames();\n        while (attrnames.hasmoreelements()) {\n            string attrname = (string) attrnames.nextelement();\n            if (this.cleanupafterinclude || attrname.startswith(default_strategies_prefix)) {\n                attributessnapshot.put(attrname, request.getattribute(attrname));\n            }\n        }\n    }\n\n    // make framework objects available to handlers and view objects.\n    request.setattribute(web_application_context_attribute, getwebapplicationcontext());\n    request.setattribute(locale_resolver_attribute, this.localeresolver);\n    request.setattribute(theme_resolver_attribute, this.themeresolver);\n    request.setattribute(theme_source_attribute, getthemesource());\n\n    if (this.flashmapmanager != null) {\n        flashmap inputflashmap = this.flashmapmanager.retrieveandupdate(request, response);\n        if (inputflashmap != null) {\n            request.setattribute(input_flash_map_attribute, collections.unmodifiablemap(inputflashmap));\n        }\n        request.setattribute(output_flash_map_attribute, new flashmap());\n        request.setattribute(flash_map_manager_attribute, this.flashmapmanager);\n    }\n\n    requestpath requestpath = null;\n    if (this.parserequestpath && !servletrequestpathutils.hasparsedrequestpath(request)) {\n        requestpath = servletrequestpathutils.parseandcache(request);\n    }\n\n    try {\n        // å¤çè¯·æ±åååº\n        dodispatch(request, response);\n    }\n    finally {\n        if (!webasyncutils.getasyncmanager(request).isconcurrenthandlingstarted()) {\n            // restore the original attribute snapshot, in case of an include.\n            if (attributessnapshot != null) {\n                restoreattributesafterinclude(request, attributessnapshot);\n            }\n        }\n        if (requestpath != null) {\n            servletrequestpathutils.clearparsedrequestpath(request);\n        }\n    }\n}\n\n\n# c>dodispatch()\n\næå¨ç±»ï¼org.springframework.web.servlet.dispatcherservlet\n\nprotected void dodispatch(httpservletrequest request, httpservletresponse response) throws exception {\n    httpservletrequest processedrequest = request;\n    handlerexecutionchain mappedhandler = null;\n    boolean multipartrequestparsed = false;\n\n    webasyncmanager asyncmanager = webasyncutils.getasyncmanager(request);\n\n    try {\n        modelandview mv = null;\n        exception dispatchexception = null;\n\n        try {\n            processedrequest = checkmultipart(request);\n            multipartrequestparsed = (processedrequest != request);\n\n            // determine handler for the current request.\n            /*\n            \tmappedhandlerï¼è°ç¨é¾\n                åå«handlerãinterceptorlistãinterceptorindex\n            \thandlerï¼æµè§å¨åéçè¯·æ±æå¹éçæ§å¶å¨æ¹æ³\n            \tinterceptorlistï¼å¤çæ§å¶å¨æ¹æ³çæææ¦æªå¨éå\n            \tinterceptorindexï¼æ¦æªå¨ç´¢å¼ï¼æ§å¶æ¦æªå¨aftercompletion()çæ§è¡\n            */\n            mappedhandler = gethandler(processedrequest);\n            if (mappedhandler == null) {\n                nohandlerfound(processedrequest, response);\n                return;\n            }\n\n            // determine handler adapter for the current request.\n           \t// éè¿æ§å¶å¨æ¹æ³åå»ºç¸åºçå¤çå¨ééå¨ï¼è°ç¨æå¯¹åºçæ§å¶å¨æ¹æ³\n            handleradapter ha = gethandleradapter(mappedhandler.gethandler());\n\n            // process last-modified header, if supported by the handler.\n            string method = request.getmethod();\n            boolean isget = "get".equals(method);\n            if (isget || "head".equals(method)) {\n                long lastmodified = ha.getlastmodified(request, mappedhandler.gethandler());\n                if (new servletwebrequest(request, response).checknotmodified(lastmodified) && isget) {\n                    return;\n                }\n            }\n\t\t\t\n            // è°ç¨æ¦æªå¨çprehandle()\n            if (!mappedhandler.applyprehandle(processedrequest, response)) {\n                return;\n            }\n\n            // actually invoke the handler.\n            // ç±å¤çå¨ééå¨è°ç¨å·ä½çæ§å¶å¨æ¹æ³ï¼æç»è·å¾modelandviewå¯¹è±¡\n            mv = ha.handle(processedrequest, response, mappedhandler.gethandler());\n\n            if (asyncmanager.isconcurrenthandlingstarted()) {\n                return;\n            }\n\n            applydefaultviewname(processedrequest, mv);\n            // è°ç¨æ¦æªå¨çposthandle()\n            mappedhandler.applyposthandle(processedrequest, response, mv);\n        }\n        catch (exception ex) {\n            dispatchexception = ex;\n        }\n        catch (throwable err) {\n            // as of 4.3, we\'re processing errors thrown from handler methods as well,\n            // making them available for @exceptionhandler methods and other scenarios.\n            dispatchexception = new nestedservletexception("handler dispatch failed", err);\n        }\n        // åç»­å¤çï¼å¤çæ¨¡åæ°æ®åæ¸²æè§å¾\n        processdispatchresult(processedrequest, response, mappedhandler, mv, dispatchexception);\n    }\n    catch (exception ex) {\n        triggeraftercompletion(processedrequest, response, mappedhandler, ex);\n    }\n    catch (throwable err) {\n        triggeraftercompletion(processedrequest, response, mappedhandler,\n                               new nestedservletexception("handler processing failed", err));\n    }\n    finally {\n        if (asyncmanager.isconcurrenthandlingstarted()) {\n            // instead of posthandle and aftercompletion\n            if (mappedhandler != null) {\n                mappedhandler.applyafterconcurrenthandlingstarted(processedrequest, response);\n            }\n        }\n        else {\n            // clean up any resources used by a multipart request.\n            if (multipartrequestparsed) {\n                cleanupmultipart(processedrequest);\n            }\n        }\n    }\n}\n\n\n# d>processdispatchresult()\n\nprivate void processdispatchresult(httpservletrequest request, httpservletresponse response,\n                                   @nullable handlerexecutionchain mappedhandler, @nullable modelandview mv,\n                                   @nullable exception exception) throws exception {\n\n    boolean errorview = false;\n\n    if (exception != null) {\n        if (exception instanceof modelandviewdefiningexception) {\n            logger.debug("modelandviewdefiningexception encountered", exception);\n            mv = ((modelandviewdefiningexception) exception).getmodelandview();\n        }\n        else {\n            object handler = (mappedhandler != null ? mappedhandler.gethandler() : null);\n            mv = processhandlerexception(request, response, handler, exception);\n            errorview = (mv != null);\n        }\n    }\n\n    // did the handler return a view to render?\n    if (mv != null && !mv.wascleared()) {\n        // å¤çæ¨¡åæ°æ®åæ¸²æè§å¾\n        render(mv, request, response);\n        if (errorview) {\n            webutils.clearerrorrequestattributes(request);\n        }\n    }\n    else {\n        if (logger.istraceenabled()) {\n            logger.trace("no view rendering, null modelandview returned.");\n        }\n    }\n\n    if (webasyncutils.getasyncmanager(request).isconcurrenthandlingstarted()) {\n        // concurrent handling started during a forward\n        return;\n    }\n\n    if (mappedhandler != null) {\n        // exception (if any) is already handled..\n        // è°ç¨æ¦æªå¨çaftercompletion()\n        mappedhandler.triggeraftercompletion(request, response, null);\n    }\n}\n\n\n\n# 4ãspringmvcçæ§è¡æµç¨\n\n 1. ç¨æ·åæå¡å¨åéè¯·æ±ï¼è¯·æ±è¢«springmvc åç«¯æ§å¶å¨ dispatcherservletæè·ã\n\n 2. dispatcherservletå¯¹è¯·æ±urlè¿è¡è§£æï¼å¾å°è¯·æ±èµæºæ è¯ç¬¦ï¼uriï¼ï¼å¤æ­è¯·æ±uriå¯¹åºçæ å°ï¼\n\na) ä¸å­å¨\n\ni. åå¤æ­æ¯å¦éç½®äºmvc:default-servlet-handler\n\nii. å¦ææ²¡éç½®ï¼åæ§å¶å°æ¥æ å°æ¥æ¾ä¸å°ï¼å®¢æ·ç«¯å±ç¤º404éè¯¯\n\n\n\n\n\niii. å¦ææéç½®ï¼åè®¿é®ç®æ èµæºï¼ä¸è¬ä¸ºéæèµæºï¼å¦ï¼js,css,htmlï¼ï¼æ¾ä¸å°å®¢æ·ç«¯ä¹ä¼å±ç¤º404éè¯¯\n\n\n\n\n\nb) å­å¨åæ§è¡ä¸é¢çæµç¨\n\n 3. æ ¹æ®è¯¥uriï¼è°ç¨handlermappingè·å¾è¯¥handleréç½®çææç¸å³çå¯¹è±¡ï¼åæ¬handlerå¯¹è±¡ä»¥åhandlerå¯¹è±¡å¯¹åºçæ¦æªå¨ï¼ï¼æåä»¥handlerexecutionchainæ§è¡é¾å¯¹è±¡çå½¢å¼è¿åã\n\n 4. dispatcherservlet æ ¹æ®è·å¾çhandlerï¼éæ©ä¸ä¸ªåéçhandleradapterã\n\n 5. å¦ææåè·å¾handleradapterï¼æ­¤æ¶å°å¼å§æ§è¡æ¦æªå¨çprehandler(â¦)æ¹æ³ãæ­£åã\n\n 6. æårequestä¸­çæ¨¡åæ°æ®ï¼å¡«åhandlerå¥åï¼å¼å§æ§è¡handlerï¼controller)æ¹æ³ï¼å¤çè¯·æ±ãå¨å¡«åhandlerçå¥åè¿ç¨ä¸­ï¼æ ¹æ®ä½ çéç½®ï¼springå°å¸®ä½ åä¸äºé¢å¤çå·¥ä½ï¼\n\na) httpmessageconveterï¼ å°è¯·æ±æ¶æ¯ï¼å¦jsonãxmlç­æ°æ®ï¼è½¬æ¢æä¸ä¸ªå¯¹è±¡ï¼å°å¯¹è±¡è½¬æ¢ä¸ºæå®çååºä¿¡æ¯\n\nb) æ°æ®è½¬æ¢ï¼å¯¹è¯·æ±æ¶æ¯è¿è¡æ°æ®è½¬æ¢ãå¦stringè½¬æ¢æintegerãdoubleç­\n\nc) æ°æ®æ ¼å¼åï¼å¯¹è¯·æ±æ¶æ¯è¿è¡æ°æ®æ ¼å¼åã å¦å°å­ç¬¦ä¸²è½¬æ¢ææ ¼å¼åæ°å­ææ ¼å¼åæ¥æç­\n\nd) æ°æ®éªè¯ï¼ éªè¯æ°æ®çæææ§ï¼é¿åº¦ãæ ¼å¼ç­ï¼ï¼éªè¯ç»æå­å¨å°bindingresultæerrorä¸­\n\n 7.  handleræ§è¡å®æåï¼ådispatcherservlet è¿åä¸ä¸ªmodelandviewå¯¹è±¡ã\n\n 8.  æ­¤æ¶å°å¼å§æ§è¡æ¦æªå¨çposthandle(...)æ¹æ³ãéåãã\n\n 9.  æ ¹æ®è¿åçmodelandviewï¼æ­¤æ¶ä¼å¤æ­æ¯å¦å­å¨å¼å¸¸ï¼å¦æå­å¨å¼å¸¸ï¼åæ§è¡handlerexceptionresolverè¿è¡å¼å¸¸å¤çï¼éæ©ä¸ä¸ªéåçviewresolverè¿è¡è§å¾è§£æï¼æ ¹æ®modelåviewï¼æ¥æ¸²æè§å¾ã\n\n 10. æ¸²æè§å¾å®æ¯æ§è¡æ¦æªå¨çaftercompletion(â¦)æ¹æ³ãéåãã\n\n 11. å°æ¸²æç»æè¿åç»å®¢æ·ç«¯ã',charsets:{cjk:!0}},{title:"æ¦æªå¨",frontmatter:{title:"æ¦æªå¨",date:"2022-05-12T00:00:00.000Z",permalink:"/springmvc/010/",categories:["æ¡æ¶","SpringMVC"],tags:["SpringMVC"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/02.SpringMVC/10.%E6%8B%A6%E6%88%AA%E5%99%A8.html",relativePath:"07.æ¡æ¶/02.SpringMVC/10.æ¦æªå¨.md",key:"v-1dace089",path:"/springmvc/010/",headers:[{level:3,title:"1ãæ¦æªå¨çéç½®",slug:"_1ãæ¦æªå¨çéç½®",normalizedTitle:"1ãæ¦æªå¨çéç½®",charIndex:12},{level:3,title:"2ãæ¦æªå¨çä¸ä¸ªæ½è±¡æ¹æ³",slug:"_2ãæ¦æªå¨çä¸ä¸ªæ½è±¡æ¹æ³",normalizedTitle:"2ãæ¦æªå¨çä¸ä¸ªæ½è±¡æ¹æ³",charIndex:915},{level:3,title:"3ãå¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº",slug:"_3ãå¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº",normalizedTitle:"3ãå¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº",charIndex:1163}],headersStr:"1ãæ¦æªå¨çéç½® 2ãæ¦æªå¨çä¸ä¸ªæ½è±¡æ¹æ³ 3ãå¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº",content:'# åãæ¦æªå¨\n\n\n# 1ãæ¦æªå¨çéç½®\n\nSpringMVCä¸­çæ¦æªå¨ç¨äºæ¦æªæ§å¶å¨æ¹æ³çæ§è¡\n\nSpringMVCä¸­çæ¦æªå¨éè¦å®ç°HandlerInterceptoræèHandlerInterceptorAdapter(å·²è¿æ¶)ï¼éåä¸é¢çä¸ä¸ªæ¹æ³\n\näºå®ä¸æ¯HandlerInterceptorAdapterç»§æ¿äºASyncHandlerInterceptor, AsyncHandlerInterceptoråç»§æ¿äºHandlerInterceptor\n\nSpringMVCçæ¦æªå¨å¿é¡»å¨SpringMVCçéç½®æä»¶ä¸­è¿è¡éç½®ï¼\n\næç®åçéç½®æ¹æ³ï¼ç¬¬ä¸ç§éç½®æ¹æ³ï¼ è¡¨ç¤ºä¸ä¸ªå¯¹è±¡\n\nå¾çéé¢çè®¾ç½®ä¹ä¼è¢«æ¦æªï¼å ä¸ºæ¬è´¨ä¸è¿ä¸ªä¹æ¯æ§å¶å¨æ¹æ³\n\n\n\n\n\nç¬¬äºç§éç½®æ¹æ³\n<mvc:interceptor>\n\x3c!-- <bean class="com.atguigu.interceptor.FirstInterceptor"></bean> --\x3e\n<ref bean="firstInterceptor"></ref>\n</mvc:interceptor>\n\x3c!-- ä»¥ä¸ä¸¤ç§éç½®æ¹å¼é½æ¯å¯¹DispatcherServletæå¤ççææçè¯·æ±è¿è¡æ¦æª --\x3e\n<mvc:interceptor>\n\x3c!-- æ¦æªææè¯·æ± --\x3e\n\x3c!-- è¿éç/*è¡¨ç¤ºè®¿é®è¯¥é¡µé¢çä¸ä¸ä¸å±ç®å½ --\x3e\n<mvc:mapping path="/*"/>\n    <mvc:mapping path="/**"/>\n    \x3c!-- æé¤ä¸æ¦æªçç¹æ®æåµ --\x3e\n    <mvc:exclude-mapping path="/testRequestEntity"/>\n    \x3c!-- æå®æ¦æª å¨ --\x3e\n    <ref bean="firstInterceptor"></ref>\n</mvc:interceptor>\n\x3c!-- \n\tä»¥ä¸éç½®æ¹å¼å¯ä»¥éè¿refæbeanæ ç­¾è®¾ç½®æ¦æªå¨ï¼éè¿mvc:mappingè®¾ç½®éè¦æ¦æªçè¯·æ±ï¼éè¿mvc:exclude-mappingè®¾ç½®éè¦æé¤çè¯·æ±ï¼å³ä¸éè¦æ¦æªçè¯·æ±\n--\x3e\n\n\n\n# 2ãæ¦æªå¨çä¸ä¸ªæ½è±¡æ¹æ³\n\nè¿æ»¤å¨çæ¦æªå¨çåºå«æ¯ä»ä¹ï¼ï¼ SpringMVCä¸­çæ¦æªå¨æä¸ä¸ªæ½è±¡æ¹æ³ï¼\n\npreHandleï¼æ§å¶å¨æ¹æ³æ§è¡ä¹åæ§è¡preHandle()ï¼å¶booleanç±»åçè¿åå¼è¡¨ç¤ºæ¯å¦æ¦æªææ¾è¡ï¼è¿åtrueä¸ºæ¾è¡ï¼å³è°ç¨æ§å¶å¨æ¹æ³ï¼è¿åfalseè¡¨ç¤ºæ¦æªï¼å³ä¸è°ç¨æ§å¶å¨æ¹æ³\n\npostHandleï¼æ§å¶å¨æ¹æ³æ§è¡ä¹åæ§è¡postHandle()\n\nafterComplationï¼å¤çå®è§å¾åæ¨¡åæ°æ®ï¼æ¸²æè§å¾å®æ¯ä¹åæ§è¡afterComplation()\n\n\n# 3ãå¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº\n\na>è¥æ¯ä¸ªæ¦æªå¨çpreHandle()é½è¿åtrue\n\næ­¤æ¶å¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåºåæ¦æªå¨å¨SpringMVCçéç½®æä»¶çéç½®é¡ºåºæå³ï¼\n\npreHandle()ä¼æç§éç½®çé¡ºåºæ§è¡ï¼èpostHandle()åafterComplation()ä¼æç§éç½®çååºæ§è¡\n\nb>è¥æä¸ªæ¦æªå¨çpreHandle()è¿åäºfalse\n\npreHandle()è¿åfalseåå®ä¹åçæ¦æªå¨çpreHandle()é½ä¼æ§è¡ï¼postHandle()é½ä¸æ§è¡ï¼è¿åfalseçæ¦æªå¨ä¹åçæ¦æªå¨çafterComplation()ä¼æ§è¡',normalizedContent:'# åãæ¦æªå¨\n\n\n# 1ãæ¦æªå¨çéç½®\n\nspringmvcä¸­çæ¦æªå¨ç¨äºæ¦æªæ§å¶å¨æ¹æ³çæ§è¡\n\nspringmvcä¸­çæ¦æªå¨éè¦å®ç°handlerinterceptoræèhandlerinterceptoradapter(å·²è¿æ¶)ï¼éåä¸é¢çä¸ä¸ªæ¹æ³\n\näºå®ä¸æ¯handlerinterceptoradapterç»§æ¿äºasynchandlerinterceptor, asynchandlerinterceptoråç»§æ¿äºhandlerinterceptor\n\nspringmvcçæ¦æªå¨å¿é¡»å¨springmvcçéç½®æä»¶ä¸­è¿è¡éç½®ï¼\n\næç®åçéç½®æ¹æ³ï¼ç¬¬ä¸ç§éç½®æ¹æ³ï¼ è¡¨ç¤ºä¸ä¸ªå¯¹è±¡\n\nå¾çéé¢çè®¾ç½®ä¹ä¼è¢«æ¦æªï¼å ä¸ºæ¬è´¨ä¸è¿ä¸ªä¹æ¯æ§å¶å¨æ¹æ³\n\n\n\n\n\nç¬¬äºç§éç½®æ¹æ³\n<mvc:interceptor>\n\x3c!-- <bean class="com.atguigu.interceptor.firstinterceptor"></bean> --\x3e\n<ref bean="firstinterceptor"></ref>\n</mvc:interceptor>\n\x3c!-- ä»¥ä¸ä¸¤ç§éç½®æ¹å¼é½æ¯å¯¹dispatcherservletæå¤ççææçè¯·æ±è¿è¡æ¦æª --\x3e\n<mvc:interceptor>\n\x3c!-- æ¦æªææè¯·æ± --\x3e\n\x3c!-- è¿éç/*è¡¨ç¤ºè®¿é®è¯¥é¡µé¢çä¸ä¸ä¸å±ç®å½ --\x3e\n<mvc:mapping path="/*"/>\n    <mvc:mapping path="/**"/>\n    \x3c!-- æé¤ä¸æ¦æªçç¹æ®æåµ --\x3e\n    <mvc:exclude-mapping path="/testrequestentity"/>\n    \x3c!-- æå®æ¦æª å¨ --\x3e\n    <ref bean="firstinterceptor"></ref>\n</mvc:interceptor>\n\x3c!-- \n\tä»¥ä¸éç½®æ¹å¼å¯ä»¥éè¿refæbeanæ ç­¾è®¾ç½®æ¦æªå¨ï¼éè¿mvc:mappingè®¾ç½®éè¦æ¦æªçè¯·æ±ï¼éè¿mvc:exclude-mappingè®¾ç½®éè¦æé¤çè¯·æ±ï¼å³ä¸éè¦æ¦æªçè¯·æ±\n--\x3e\n\n\n\n# 2ãæ¦æªå¨çä¸ä¸ªæ½è±¡æ¹æ³\n\nè¿æ»¤å¨çæ¦æªå¨çåºå«æ¯ä»ä¹ï¼ï¼ springmvcä¸­çæ¦æªå¨æä¸ä¸ªæ½è±¡æ¹æ³ï¼\n\nprehandleï¼æ§å¶å¨æ¹æ³æ§è¡ä¹åæ§è¡prehandle()ï¼å¶booleanç±»åçè¿åå¼è¡¨ç¤ºæ¯å¦æ¦æªææ¾è¡ï¼è¿åtrueä¸ºæ¾è¡ï¼å³è°ç¨æ§å¶å¨æ¹æ³ï¼è¿åfalseè¡¨ç¤ºæ¦æªï¼å³ä¸è°ç¨æ§å¶å¨æ¹æ³\n\nposthandleï¼æ§å¶å¨æ¹æ³æ§è¡ä¹åæ§è¡posthandle()\n\naftercomplationï¼å¤çå®è§å¾åæ¨¡åæ°æ®ï¼æ¸²æè§å¾å®æ¯ä¹åæ§è¡aftercomplation()\n\n\n# 3ãå¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº\n\na>è¥æ¯ä¸ªæ¦æªå¨çprehandle()é½è¿åtrue\n\næ­¤æ¶å¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåºåæ¦æªå¨å¨springmvcçéç½®æä»¶çéç½®é¡ºåºæå³ï¼\n\nprehandle()ä¼æç§éç½®çé¡ºåºæ§è¡ï¼èposthandle()åaftercomplation()ä¼æç§éç½®çååºæ§è¡\n\nb>è¥æä¸ªæ¦æªå¨çprehandle()è¿åäºfalse\n\nprehandle()è¿åfalseåå®ä¹åçæ¦æªå¨çprehandle()é½ä¼æ§è¡ï¼posthandle()é½ä¸æ§è¡ï¼è¿åfalseçæ¦æªå¨ä¹åçæ¦æªå¨çaftercomplation()ä¼æ§è¡',charsets:{cjk:!0}},{title:"å¼å¸¸å¤çå¨",frontmatter:{title:"å¼å¸¸å¤çå¨",date:"2022-05-13T00:00:00.000Z",permalink:"/springmvc/011/",categories:["æ¡æ¶","SpringMVC"],tags:["SpringMVC"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/02.SpringMVC/11.%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%99%A8.html",relativePath:"07.æ¡æ¶/02.SpringMVC/11.å¼å¸¸å¤çå¨.md",key:"v-53e6eb32",path:"/springmvc/011/",headers:[{level:3,title:"1ãåºäºéç½®çå¼å¸¸å¤ç",slug:"_1ãåºäºéç½®çå¼å¸¸å¤ç",normalizedTitle:"1ãåºäºéç½®çå¼å¸¸å¤ç",charIndex:27},{level:3,title:"2ãåºäºæ³¨è§£çå¼å¸¸å¤ç",slug:"_2ãåºäºæ³¨è§£çå¼å¸¸å¤ç",normalizedTitle:"2ãåºäºæ³¨è§£çå¼å¸¸å¤ç",charIndex:790}],headersStr:"1ãåºäºéç½®çå¼å¸¸å¤ç 2ãåºäºæ³¨è§£çå¼å¸¸å¤ç",content:'# åä¸ãå¼å¸¸å¤çå¨(åºç°å¼å¸¸è·³è½¬æå®é¡µé¢)\n\n\n# 1ãåºäºéç½®çå¼å¸¸å¤ç\n\nSpringMVCæä¾äºä¸ä¸ªå¤çæ§å¶å¨æ¹æ³æ§è¡è¿ç¨ä¸­æåºç°çå¼å¸¸çæ¥å£ï¼HandlerExceptionResolver\n\nHandlerExceptionResolveræ¥å£çå®ç°ç±»æï¼DefaultHandlerExceptionResolveråSimpleMappingExceptionResolver\n\nSpringMVCæä¾äºèªå®ä¹çå¼å¸¸å¤çå¨SimpleMappingExceptionResolverï¼ä½¿ç¨æ¹å¼ï¼\n\n<bean class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver">\n    <property name="exceptionMappings">\n        <props>\n        \t\x3c!--\n        \t\tpropertiesçé®è¡¨ç¤ºå¤çå¨æ¹æ³æ§è¡è¿ç¨ä¸­åºç°çå¼å¸¸\n        \t\tpropertiesçå¼è¡¨ç¤ºè¥åºç°æå®å¼å¸¸æ¶ï¼è®¾ç½®ä¸ä¸ªæ°çè§å¾åç§°ï¼è·³è½¬å°æå®é¡µé¢,themeleafè¿è¡è§£æï¼åä¹å çè§£æè§åä¸è´\n        \t--\x3e\n            <prop key="java.lang.ArithmeticException">error</prop>\n        </props>\n    </property>\n    \x3c!--\n    \texceptionAttributeå±æ§è®¾ç½®ä¸ä¸ªå±æ§åï¼å°åºç°çå¼å¸¸ä¿¡æ¯å¨è¯·æ±åä¸­è¿è¡å±äº«\n    --\x3e\n\n\n    <property name="exceptionAttribute" value="ex"></property>\n</bean>\n\n\n\n# 2ãåºäºæ³¨è§£çå¼å¸¸å¤ç\n\n//@ControllerAdviceå°å½åç±»æ è¯ä¸ºå¼å¸¸å¤ççç»ä»¶\n@ControllerAdvice\npublic class ExceptionController {\n\n    //@ExceptionHandlerç¨äºè®¾ç½®ææ è¯æ¹æ³å¤ççå¼å¸¸\n    @ExceptionHandler(value = ArithmeticException.class, NullPointerException.class)\n    //exè¡¨ç¤ºå½åè¯·æ±å¤çä¸­åºç°çå¼å¸¸å¯¹è±¡\n    public String handleArithmeticException(Exception ex, Model model){\n        model.addAttribute("ex", ex);\n        return "error";\n    }\n\n}\n',normalizedContent:'# åä¸ãå¼å¸¸å¤çå¨(åºç°å¼å¸¸è·³è½¬æå®é¡µé¢)\n\n\n# 1ãåºäºéç½®çå¼å¸¸å¤ç\n\nspringmvcæä¾äºä¸ä¸ªå¤çæ§å¶å¨æ¹æ³æ§è¡è¿ç¨ä¸­æåºç°çå¼å¸¸çæ¥å£ï¼handlerexceptionresolver\n\nhandlerexceptionresolveræ¥å£çå®ç°ç±»æï¼defaulthandlerexceptionresolveråsimplemappingexceptionresolver\n\nspringmvcæä¾äºèªå®ä¹çå¼å¸¸å¤çå¨simplemappingexceptionresolverï¼ä½¿ç¨æ¹å¼ï¼\n\n<bean class="org.springframework.web.servlet.handler.simplemappingexceptionresolver">\n    <property name="exceptionmappings">\n        <props>\n        \t\x3c!--\n        \t\tpropertiesçé®è¡¨ç¤ºå¤çå¨æ¹æ³æ§è¡è¿ç¨ä¸­åºç°çå¼å¸¸\n        \t\tpropertiesçå¼è¡¨ç¤ºè¥åºç°æå®å¼å¸¸æ¶ï¼è®¾ç½®ä¸ä¸ªæ°çè§å¾åç§°ï¼è·³è½¬å°æå®é¡µé¢,themeleafè¿è¡è§£æï¼åä¹å çè§£æè§åä¸è´\n        \t--\x3e\n            <prop key="java.lang.arithmeticexception">error</prop>\n        </props>\n    </property>\n    \x3c!--\n    \texceptionattributeå±æ§è®¾ç½®ä¸ä¸ªå±æ§åï¼å°åºç°çå¼å¸¸ä¿¡æ¯å¨è¯·æ±åä¸­è¿è¡å±äº«\n    --\x3e\n\n\n    <property name="exceptionattribute" value="ex"></property>\n</bean>\n\n\n\n# 2ãåºäºæ³¨è§£çå¼å¸¸å¤ç\n\n//@controlleradviceå°å½åç±»æ è¯ä¸ºå¼å¸¸å¤ççç»ä»¶\n@controlleradvice\npublic class exceptioncontroller {\n\n    //@exceptionhandlerç¨äºè®¾ç½®ææ è¯æ¹æ³å¤ççå¼å¸¸\n    @exceptionhandler(value = arithmeticexception.class, nullpointerexception.class)\n    //exè¡¨ç¤ºå½åè¯·æ±å¤çä¸­åºç°çå¼å¸¸å¯¹è±¡\n    public string handlearithmeticexception(exception ex, model model){\n        model.addattribute("ex", ex);\n        return "error";\n    }\n\n}\n',charsets:{cjk:!0}},{title:"æ³¨è§£éç½®SpringMVC",frontmatter:{title:"æ³¨è§£éç½®SpringMVC",date:"2022-05-14T00:00:00.000Z",permalink:"/springmvc/012/",categories:["æ¡æ¶","SpringMVC"],tags:["SpringMVC"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/02.SpringMVC/12.%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AESpringMVC.html",relativePath:"07.æ¡æ¶/02.SpringMVC/12.æ³¨è§£éç½®SpringMVC.md",key:"v-23d15f89",path:"/springmvc/012/",headers:[{level:3,title:"1ãåå»ºåå§åç±»ï¼ä»£æ¿web.xml",slug:"_1ãåå»ºåå§åç±»-ä»£æ¿web-xml",normalizedTitle:"1ãåå»ºåå§åç±»ï¼ä»£æ¿web.xml",charIndex:59},{level:3,title:"2ãåå»ºSpringConfigéç½®ç±»ï¼ä»£æ¿springçéç½®æä»¶",slug:"_2ãåå»ºspringconfigéç½®ç±»-ä»£æ¿springçéç½®æä»¶",normalizedTitle:"2ãåå»ºspringconfigéç½®ç±»ï¼ä»£æ¿springçéç½®æä»¶",charIndex:1579},{level:3,title:"3ãåå»ºWebConfigéç½®ç±»ï¼ä»£æ¿SpringMVCçéç½®æä»¶",slug:"_3ãåå»ºwebconfigéç½®ç±»-ä»£æ¿springmvcçéç½®æä»¶",normalizedTitle:"3ãåå»ºwebconfigéç½®ç±»ï¼ä»£æ¿springmvcçéç½®æä»¶",charIndex:1692},{level:3,title:"4ãæµè¯åè½",slug:"_4ãæµè¯åè½",normalizedTitle:"4ãæµè¯åè½",charIndex:4651}],headersStr:"1ãåå»ºåå§åç±»ï¼ä»£æ¿web.xml 2ãåå»ºSpringConfigéç½®ç±»ï¼ä»£æ¿springçéç½®æä»¶ 3ãåå»ºWebConfigéç½®ç±»ï¼ä»£æ¿SpringMVCçéç½®æä»¶ 4ãæµè¯åè½",content:'# åäºãæ³¨è§£éç½®SpringMVC\n\nä½¿ç¨éç½®ç±»åæ³¨è§£ä»£æ¿web.xmlåSpringMVCéç½®æä»¶çåè½\n\n\n# 1ãåå»ºåå§åç±»ï¼ä»£æ¿web.xml\n\nå¨Servlet3.0ç¯å¢ä¸­ï¼å®¹å¨ä¼å¨ç±»è·¯å¾ä¸­æ¥æ¾å®ç°javax.servlet.ServletContainerInitializeræ¥å£çç±»ï¼å¦ææ¾å°çè¯å°±ç¨å®æ¥éç½®Servletå®¹å¨ã\n\nSpringæä¾äºè¿ä¸ªæ¥å£çå®ç°ï¼åä¸ºSpringServletContainerInitializerï¼è¿ä¸ªç±»åè¿æ¥åä¼æ¥æ¾å®ç°WebApplicationInitializerçç±»å¹¶å°éç½®çä»»å¡äº¤ç»å®ä»¬æ¥å®æã\n\nSpring3.2å¼å¥äºä¸ä¸ªä¾¿å©çWebApplicationInitializeråºç¡å®ç°ï¼åä¸ºAbstractAnnotationConfigDispatcherServletInitializerï¼å½æä»¬çç±»æ©å±äºAbstractAnnotationConfigDispatcherServletInitializerå¹¶å°å¶é¨ç½²å°Servlet3.0å®¹å¨çæ¶åï¼å®¹å¨ä¼èªå¨åç°å®ï¼å¹¶ç¨å®æ¥éç½®Servletä¸ä¸æã\n\npublic class WebInit extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n    /**\n     * æå®springçéç½®ç±»\n     * @return\n     */\n    @Override\n    protected Class<?>[] getRootConfigClasses() {\n        return new Class[]{SpringConfig.class};\n    }\n\n    /**\n     * æå®SpringMVCçéç½®ç±»\n     * @return\n     */\n    @Override\n    protected Class<?>[] getServletConfigClasses() {\n        // è¿åclassæ°ç»\n        return new Class[]{WebConfig.class};\n    }\n\n    /**\n     * æå®DispatcherServletçæ å°è§å(æ å°è§å)ï¼å³url-pattern\n     * @return\n     */\n    @Override\n    protected String[] getServletMappings() {\n        return new String[]{"/"};\n    }\n\n    /**\n     * æ·»å è¿æ»¤å¨\n     * @return\n     */\n    @Override\n    protected Filter[] getServletFilters() {\n        CharacterEncodingFilter encodingFilter = new CharacterEncodingFilter();\n        encodingFilter.setEncoding("UTF-8");\n        encodingFilter.setForceRequestEncoding(true);\n        HiddenHttpMethodFilter hiddenHttpMethodFilter = new HiddenHttpMethodFilter();\n        return new Filter[]{encodingFilter, hiddenHttpMethodFilter};\n    }\n}\n\n\n\n# 2ãåå»ºSpringConfigéç½®ç±»ï¼ä»£æ¿springçéç½®æä»¶\n\n@Configuration\npublic class SpringConfig {\n\t//ssmæ´åä¹åï¼springçéç½®ä¿¡æ¯åå¨æ­¤ç±»ä¸­\n}\n\n\n\n# 3ãåå»ºWebConfigéç½®ç±»ï¼ä»£æ¿SpringMVCçéç½®æä»¶\n\n\n// æ«æç»ä»¶\n// è§å¾è§£æå¨\n// viewcontroller\n// default-servlet-handler\n// MVCæ³¨è§£é©±å¨\n// æä»¶ä¸ä¼ è§£æå¨\n// å¼å¸¸å¤ç\n// æ¦æªå¨\n\n@Configuration\n//æ«æç»ä»¶\n@ComponentScan("com.atguigu.mvc.controller")\n//å¼å¯MVCæ³¨è§£é©±å¨\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    //ä½¿ç¨é»è®¤çservletå¤çéæèµæº\n    @Override\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\n        configurer.enable();\n    }\n\n    //éç½®æä»¶ä¸ä¼ è§£æå¨\n    @Bean\n    public CommonsMultipartResolver multipartResolver(){\n        return new CommonsMultipartResolver();\n    }\n\n    //éç½®æ¦æªå¨\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        FirstInterceptor firstInterceptor = new FirstInterceptor();\n\n        //  addPathPatternsæ·»å æ¦æªè§å\n        registry.addInterceptor(firstInterceptor).addPathPatterns("/**");\n    }\n    \n    //éç½®è§å¾æ§å¶\n    \n    /*@Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController("/").setViewName("index");\n    }*/\n    \n    //éç½®å¼å¸¸æ å°\n    /*@Override\n    public void configureHandlerExceptionResolvers(List<HandlerExceptionResolver> resolvers) {\n        SimpleMappingExceptionResolver exceptionResolver = new SimpleMappingExceptionResolver();\n        Properties prop = new Properties();\n        prop.setProperty("java.lang.ArithmeticException", "error");\n        //è®¾ç½®å¼å¸¸æ å°\n        exceptionResolver.setExceptionMappings(prop);\n        //è®¾ç½®å±äº«å¼å¸¸ä¿¡æ¯çé®\n        exceptionResolver.setExceptionAttribute("ex");\n        resolvers.add(exceptionResolver);\n    }*/\n\n    // æ³¨æï¼xmlè§å¾è§£æå¨è¦ä»éå°å¤éç½®\n    //éç½®çææ¨¡æ¿è§£æå¨\n    @Bean\n    public ITemplateResolver templateResolver() {\n        WebApplicationContext webApplicationContext = ContextLoader.getCurrentWebApplicationContext();\n        // ServletContextTemplateResolveréè¦ä¸ä¸ªServletContextä½ä¸ºæé åæ°ï¼å¯éè¿WebApplicationContext çæ¹æ³è·å¾\n        ServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver(\n                webApplicationContext.getServletContext());\n\n        // è§å¾åç¼\n        templateResolver.setPrefix("/WEB-INF/templates/");\n        // è§å¾åç¼\n        templateResolver.setSuffix(".html");\n        templateResolver.setCharacterEncoding("UTF-8");\n        templateResolver.setTemplateMode(TemplateMode.HTML);\n        return templateResolver;\n    }\n\n    //çææ¨¡æ¿å¼æå¹¶ä¸ºæ¨¡æ¿å¼ææ³¨å¥æ¨¡æ¿è§£æå¨\n    @Bean\n    public SpringTemplateEngine templateEngine(ITemplateResolver templateResolver) {\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver);\n        return templateEngine;\n    }\n\n    //çæè§å¾è§£æå¨å¹¶æªè§£æå¨æ³¨å¥æ¨¡æ¿å¼æ\n    @Bean\n    public ViewResolver viewResolver(SpringTemplateEngine templateEngine) {\n        ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\n        viewResolver.setCharacterEncoding("UTF-8");\n        viewResolver.setTemplateEngine(templateEngine);\n        return viewResolver;\n    }\n\n\n}\n\n\n\n# 4ãæµè¯åè½\n\n@RequestMapping("/")\npublic String index(){\n    return "index";\n}\n',normalizedContent:'# åäºãæ³¨è§£éç½®springmvc\n\nä½¿ç¨éç½®ç±»åæ³¨è§£ä»£æ¿web.xmlåspringmvcéç½®æä»¶çåè½\n\n\n# 1ãåå»ºåå§åç±»ï¼ä»£æ¿web.xml\n\nå¨servlet3.0ç¯å¢ä¸­ï¼å®¹å¨ä¼å¨ç±»è·¯å¾ä¸­æ¥æ¾å®ç°javax.servlet.servletcontainerinitializeræ¥å£çç±»ï¼å¦ææ¾å°çè¯å°±ç¨å®æ¥éç½®servletå®¹å¨ã\n\nspringæä¾äºè¿ä¸ªæ¥å£çå®ç°ï¼åä¸ºspringservletcontainerinitializerï¼è¿ä¸ªç±»åè¿æ¥åä¼æ¥æ¾å®ç°webapplicationinitializerçç±»å¹¶å°éç½®çä»»å¡äº¤ç»å®ä»¬æ¥å®æã\n\nspring3.2å¼å¥äºä¸ä¸ªä¾¿å©çwebapplicationinitializeråºç¡å®ç°ï¼åä¸ºabstractannotationconfigdispatcherservletinitializerï¼å½æä»¬çç±»æ©å±äºabstractannotationconfigdispatcherservletinitializerå¹¶å°å¶é¨ç½²å°servlet3.0å®¹å¨çæ¶åï¼å®¹å¨ä¼èªå¨åç°å®ï¼å¹¶ç¨å®æ¥éç½®servletä¸ä¸æã\n\npublic class webinit extends abstractannotationconfigdispatcherservletinitializer {\n\n    /**\n     * æå®springçéç½®ç±»\n     * @return\n     */\n    @override\n    protected class<?>[] getrootconfigclasses() {\n        return new class[]{springconfig.class};\n    }\n\n    /**\n     * æå®springmvcçéç½®ç±»\n     * @return\n     */\n    @override\n    protected class<?>[] getservletconfigclasses() {\n        // è¿åclassæ°ç»\n        return new class[]{webconfig.class};\n    }\n\n    /**\n     * æå®dispatcherservletçæ å°è§å(æ å°è§å)ï¼å³url-pattern\n     * @return\n     */\n    @override\n    protected string[] getservletmappings() {\n        return new string[]{"/"};\n    }\n\n    /**\n     * æ·»å è¿æ»¤å¨\n     * @return\n     */\n    @override\n    protected filter[] getservletfilters() {\n        characterencodingfilter encodingfilter = new characterencodingfilter();\n        encodingfilter.setencoding("utf-8");\n        encodingfilter.setforcerequestencoding(true);\n        hiddenhttpmethodfilter hiddenhttpmethodfilter = new hiddenhttpmethodfilter();\n        return new filter[]{encodingfilter, hiddenhttpmethodfilter};\n    }\n}\n\n\n\n# 2ãåå»ºspringconfigéç½®ç±»ï¼ä»£æ¿springçéç½®æä»¶\n\n@configuration\npublic class springconfig {\n\t//ssmæ´åä¹åï¼springçéç½®ä¿¡æ¯åå¨æ­¤ç±»ä¸­\n}\n\n\n\n# 3ãåå»ºwebconfigéç½®ç±»ï¼ä»£æ¿springmvcçéç½®æä»¶\n\n\n// æ«æç»ä»¶\n// è§å¾è§£æå¨\n// viewcontroller\n// default-servlet-handler\n// mvcæ³¨è§£é©±å¨\n// æä»¶ä¸ä¼ è§£æå¨\n// å¼å¸¸å¤ç\n// æ¦æªå¨\n\n@configuration\n//æ«æç»ä»¶\n@componentscan("com.atguigu.mvc.controller")\n//å¼å¯mvcæ³¨è§£é©±å¨\n@enablewebmvc\npublic class webconfig implements webmvcconfigurer {\n\n    //ä½¿ç¨é»è®¤çservletå¤çéæèµæº\n    @override\n    public void configuredefaultservlethandling(defaultservlethandlerconfigurer configurer) {\n        configurer.enable();\n    }\n\n    //éç½®æä»¶ä¸ä¼ è§£æå¨\n    @bean\n    public commonsmultipartresolver multipartresolver(){\n        return new commonsmultipartresolver();\n    }\n\n    //éç½®æ¦æªå¨\n    @override\n    public void addinterceptors(interceptorregistry registry) {\n        firstinterceptor firstinterceptor = new firstinterceptor();\n\n        //  addpathpatternsæ·»å æ¦æªè§å\n        registry.addinterceptor(firstinterceptor).addpathpatterns("/**");\n    }\n    \n    //éç½®è§å¾æ§å¶\n    \n    /*@override\n    public void addviewcontrollers(viewcontrollerregistry registry) {\n        registry.addviewcontroller("/").setviewname("index");\n    }*/\n    \n    //éç½®å¼å¸¸æ å°\n    /*@override\n    public void configurehandlerexceptionresolvers(list<handlerexceptionresolver> resolvers) {\n        simplemappingexceptionresolver exceptionresolver = new simplemappingexceptionresolver();\n        properties prop = new properties();\n        prop.setproperty("java.lang.arithmeticexception", "error");\n        //è®¾ç½®å¼å¸¸æ å°\n        exceptionresolver.setexceptionmappings(prop);\n        //è®¾ç½®å±äº«å¼å¸¸ä¿¡æ¯çé®\n        exceptionresolver.setexceptionattribute("ex");\n        resolvers.add(exceptionresolver);\n    }*/\n\n    // æ³¨æï¼xmlè§å¾è§£æå¨è¦ä»éå°å¤éç½®\n    //éç½®çææ¨¡æ¿è§£æå¨\n    @bean\n    public itemplateresolver templateresolver() {\n        webapplicationcontext webapplicationcontext = contextloader.getcurrentwebapplicationcontext();\n        // servletcontexttemplateresolveréè¦ä¸ä¸ªservletcontextä½ä¸ºæé åæ°ï¼å¯éè¿webapplicationcontext çæ¹æ³è·å¾\n        servletcontexttemplateresolver templateresolver = new servletcontexttemplateresolver(\n                webapplicationcontext.getservletcontext());\n\n        // è§å¾åç¼\n        templateresolver.setprefix("/web-inf/templates/");\n        // è§å¾åç¼\n        templateresolver.setsuffix(".html");\n        templateresolver.setcharacterencoding("utf-8");\n        templateresolver.settemplatemode(templatemode.html);\n        return templateresolver;\n    }\n\n    //çææ¨¡æ¿å¼æå¹¶ä¸ºæ¨¡æ¿å¼ææ³¨å¥æ¨¡æ¿è§£æå¨\n    @bean\n    public springtemplateengine templateengine(itemplateresolver templateresolver) {\n        springtemplateengine templateengine = new springtemplateengine();\n        templateengine.settemplateresolver(templateresolver);\n        return templateengine;\n    }\n\n    //çæè§å¾è§£æå¨å¹¶æªè§£æå¨æ³¨å¥æ¨¡æ¿å¼æ\n    @bean\n    public viewresolver viewresolver(springtemplateengine templateengine) {\n        thymeleafviewresolver viewresolver = new thymeleafviewresolver();\n        viewresolver.setcharacterencoding("utf-8");\n        viewresolver.settemplateengine(templateengine);\n        return viewresolver;\n    }\n\n\n}\n\n\n\n# 4ãæµè¯åè½\n\n@requestmapping("/")\npublic string index(){\n    return "index";\n}\n',charsets:{cjk:!0}},{title:"SpringMVCæ§è¡æµç¨",frontmatter:{title:"SpringMVCæ§è¡æµç¨",date:"2022-05-16T00:00:00.000Z",permalink:"/springmvc/013/",categories:["æ¡æ¶","SpringMVC"],tags:["SpringMVC"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/02.SpringMVC/13.SpringMVC%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B.html",relativePath:"07.æ¡æ¶/02.SpringMVC/13.SpringMVCæ§è¡æµç¨.md",key:"v-3968b695",path:"/springmvc/013/",headers:[{level:3,title:"1ãSpringMVCå¸¸ç¨ç»ä»¶",slug:"_1ãspringmvcå¸¸ç¨ç»ä»¶",normalizedTitle:"1ãspringmvcå¸¸ç¨ç»ä»¶",charIndex:23},{level:3,title:"2ãDispatcherServletåå§åè¿ç¨",slug:"_2ãdispatcherservletåå§åè¿ç¨",normalizedTitle:"2ãdispatcherservletåå§åè¿ç¨",charIndex:524},{level:5,title:"a>åå§åWebApplicationContext",slug:"a-åå§åwebapplicationcontext",normalizedTitle:"a&gt;åå§åwebapplicationcontext",charIndex:null},{level:5,title:"b>åå»ºWebApplicationContext",slug:"b-åå»ºwebapplicationcontext",normalizedTitle:"b&gt;åå»ºwebapplicationcontext",charIndex:null},{level:5,title:"c>DispatcherServletåå§åç­ç¥",slug:"c-dispatcherservletåå§åç­ç¥",normalizedTitle:"c&gt;dispatcherservletåå§åç­ç¥",charIndex:null},{level:3,title:"3ãDispatcherServletè°ç¨ç»ä»¶å¤çè¯·æ±",slug:"_3ãdispatcherservletè°ç¨ç»ä»¶å¤çè¯·æ±",normalizedTitle:"3ãdispatcherservletè°ç¨ç»ä»¶å¤çè¯·æ±",charIndex:4796},{level:5,title:"a>processRequest()",slug:"a-processrequest",normalizedTitle:"a&gt;processrequest()",charIndex:null},{level:5,title:"b>doService()",slug:"b-doservice",normalizedTitle:"b&gt;doservice()",charIndex:null},{level:5,title:"c>doDispatch()",slug:"c-dodispatch",normalizedTitle:"c&gt;dodispatch()",charIndex:null},{level:5,title:"d>processDispatchResult()",slug:"d-processdispatchresult",normalizedTitle:"d&gt;processdispatchresult()",charIndex:null},{level:3,title:"4ãSpringMVCçæ§è¡æµç¨",slug:"_4ãspringmvcçæ§è¡æµç¨",normalizedTitle:"4ãspringmvcçæ§è¡æµç¨",charIndex:14309}],headersStr:"1ãSpringMVCå¸¸ç¨ç»ä»¶ 2ãDispatcherServletåå§åè¿ç¨ a>åå§åWebApplicationContext b>åå»ºWebApplicationContext c>DispatcherServletåå§åç­ç¥ 3ãDispatcherServletè°ç¨ç»ä»¶å¤çè¯·æ± a>processRequest() b>doService() c>doDispatch() d>processDispatchResult() 4ãSpringMVCçæ§è¡æµç¨",content:'# åä¸ãSpringMVCæ§è¡æµç¨\n\n\n# 1ãSpringMVCå¸¸ç¨ç»ä»¶\n\n * DispatcherServletï¼åç«¯æ§å¶å¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾\n\nä½ç¨ï¼ç»ä¸å¤çè¯·æ±åååºï¼æ´ä¸ªæµç¨æ§å¶çä¸­å¿ï¼ç±å®è°ç¨å¶å®ç»ä»¶å¤çç¨æ·çè¯·æ±\n\n * HandlerMappingï¼å¤çå¨æ å°å¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾\n\nä½ç¨ï¼æ ¹æ®è¯·æ±çurlãmethodç­ä¿¡æ¯æ¥æ¾Handlerï¼å³æ§å¶å¨æ¹æ³\n\n * Handlerï¼å¤çå¨ï¼éè¦å·¥ç¨å¸å¼å\n\nä½ç¨ï¼å¨DispatcherServletçæ§å¶ä¸Handlerå¯¹å·ä½çç¨æ·è¯·æ±è¿è¡å¤ç\n\n * HandlerAdapterï¼å¤çå¨ééå¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾\n\nä½ç¨ï¼éè¿HandlerAdapterå¯¹å¤çå¨ï¼æ§å¶å¨æ¹æ³ï¼è¿è¡æ§è¡\n\n * ViewResolverï¼è§å¾è§£æå¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾ï¼é¡µé¢éè¦èªå·±åï¼\n\nä½ç¨ï¼è¿è¡è§å¾è§£æï¼å¾å°ç¸åºçè§å¾ï¼ä¾å¦ï¼ThymeleafViewãInternalResourceViewãRedirectView\n\n * Viewï¼è§å¾ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æèè§å¾ææ¯æä¾\n\nä½ç¨ï¼å°æ¨¡åæ°æ®éè¿é¡µé¢å±ç¤ºç»ç¨æ·\n\n\n\n\n# 2ãDispatcherServletåå§åè¿ç¨\n\nDispatcherServlet æ¬è´¨ä¸æ¯ä¸ä¸ª Servletï¼æä»¥å¤©ç¶çéµå¾ª Servlet ççå½å¨æãæä»¥å®è§ä¸æ¯ Servlet çå½å¨ææ¥è¿è¡è°åº¦ã\n\n\n\n# a>åå§åWebApplicationContext\n\næå¨ç±»ï¼org.springframework.web.servlet.FrameworkServlet\n\nprotected WebApplicationContext initWebApplicationContext() {\n    WebApplicationContext rootContext =\n        WebApplicationContextUtils.getWebApplicationContext(getServletContext());\n    WebApplicationContext wac = null;\n\n    if (this.webApplicationContext != null) {\n        // A context instance was injected at construction time -> use it\n        wac = this.webApplicationContext;\n        if (wac instanceof ConfigurableWebApplicationContext) {\n            ConfigurableWebApplicationContext cwac = (ConfigurableWebApplicationContext) wac;\n            if (!cwac.isActive()) {\n                // The context has not yet been refreshed -> provide services such as\n                // setting the parent context, setting the application context id, etc\n                if (cwac.getParent() == null) {\n                    // The context instance was injected without an explicit parent -> set\n                    // the root application context (if any; may be null) as the parent\n                    cwac.setParent(rootContext);\n                }\n                configureAndRefreshWebApplicationContext(cwac);\n            }\n        }\n    }\n    if (wac == null) {\n        // No context instance was injected at construction time -> see if one\n        // has been registered in the servlet context. If one exists, it is assumed\n        // that the parent context (if any) has already been set and that the\n        // user has performed any initialization such as setting the context id\n        wac = findWebApplicationContext();\n    }\n    if (wac == null) {\n        // No context instance is defined for this servlet -> create a local one\n        // åå»ºWebApplicationContext\n        wac = createWebApplicationContext(rootContext);\n    }\n\n    if (!this.refreshEventReceived) {\n        // Either the context is not a ConfigurableApplicationContext with refresh\n        // support or the context injected at construction time had already been\n        // refreshed -> trigger initial onRefresh manually here.\n        synchronized (this.onRefreshMonitor) {\n            // å·æ°WebApplicationContext\n            onRefresh(wac);\n        }\n    }\n\n    if (this.publishContext) {\n        // Publish the context as a servlet context attribute.\n        // å°IOCå®¹å¨å¨åºç¨åå±äº«\n        String attrName = getServletContextAttributeName();\n        getServletContext().setAttribute(attrName, wac);\n    }\n\n    return wac;\n}\n\n\n# b>åå»ºWebApplicationContext\n\næå¨ç±»ï¼org.springframework.web.servlet.FrameworkServlet\n\nprotected WebApplicationContext createWebApplicationContext(@Nullable ApplicationContext parent) {\n    Class<?> contextClass = getContextClass();\n    if (!ConfigurableWebApplicationContext.class.isAssignableFrom(contextClass)) {\n        throw new ApplicationContextException(\n            "Fatal initialization error in servlet with name \'" + getServletName() +\n            "\': custom WebApplicationContext class [" + contextClass.getName() +\n            "] is not of type ConfigurableWebApplicationContext");\n    }\n    // éè¿åå°åå»º IOC å®¹å¨å¯¹è±¡\n    ConfigurableWebApplicationContext wac =\n        (ConfigurableWebApplicationContext) BeanUtils.instantiateClass(contextClass);\n\n    wac.setEnvironment(getEnvironment());\n    // è®¾ç½®ç¶å®¹å¨\n    wac.setParent(parent);\n    String configLocation = getContextConfigLocation();\n    if (configLocation != null) {\n        wac.setConfigLocation(configLocation);\n    }\n    configureAndRefreshWebApplicationContext(wac);\n\n    return wac;\n}\n\n\n# c>DispatcherServletåå§åç­ç¥\n\nFrameworkServletåå»ºWebApplicationContextåï¼å·æ°å®¹å¨ï¼è°ç¨onRefresh(wac)ï¼æ­¤æ¹æ³å¨DispatcherServletä¸­è¿è¡äºéåï¼è°ç¨äºinitStrategies(context)æ¹æ³ï¼åå«èªå·±éè¦åå§åçæ¹æ³ï¼ï¼åå§åç­ç¥ï¼å³åå§åDispatcherServletçåä¸ªç»ä»¶\n\næå¨ç±»ï¼org.springframework.web.servlet.DispatcherServlet\n\nprotected void initStrategies(ApplicationContext context) {\n   initMultipartResolver(context);\n   initLocaleResolver(context);\n   initThemeResolver(context);\n   initHandlerMappings(context);\n   initHandlerAdapters(context);\n   initHandlerExceptionResolvers(context);\n   initRequestToViewNameTranslator(context);\n   initViewResolvers(context);\n   initFlashMapManager(context);\n}\n\n\n\n# 3ãDispatcherServletè°ç¨ç»ä»¶å¤çè¯·æ±\n\n# a>processRequest()\n\nFrameworkServletéåHttpServletä¸­çservice()ådoXxx()ï¼è¿äºæ¹æ³ä¸­è°ç¨äºprocessRequest(request, response)\n\næå¨ç±»ï¼org.springframework.web.servlet.FrameworkServlet\n\nprotected final void processRequest(HttpServletRequest request, HttpServletResponse response)\n    throws ServletException, IOException {\n\n    long startTime = System.currentTimeMillis();\n    Throwable failureCause = null;\n\n    LocaleContext previousLocaleContext = LocaleContextHolder.getLocaleContext();\n    LocaleContext localeContext = buildLocaleContext(request);\n\n    RequestAttributes previousAttributes = RequestContextHolder.getRequestAttributes();\n    ServletRequestAttributes requestAttributes = buildRequestAttributes(request, response, previousAttributes);\n\n    WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request);\n    asyncManager.registerCallableInterceptor(FrameworkServlet.class.getName(), new RequestBindingInterceptor());\n\n    initContextHolders(request, localeContext, requestAttributes);\n\n    try {\n\t\t// æ§è¡æå¡ï¼doService()æ¯ä¸ä¸ªæ½è±¡æ¹æ³ï¼å¨DispatcherServletä¸­è¿è¡äºéå\n        doService(request, response);\n    }\n    catch (ServletException | IOException ex) {\n        failureCause = ex;\n        throw ex;\n    }\n    catch (Throwable ex) {\n        failureCause = ex;\n        throw new NestedServletException("Request processing failed", ex);\n    }\n\n    finally {\n        resetContextHolders(request, previousLocaleContext, previousAttributes);\n        if (requestAttributes != null) {\n            requestAttributes.requestCompleted();\n        }\n        logResult(request, response, failureCause, asyncManager);\n        publishRequestHandledEvent(request, response, startTime, failureCause);\n    }\n}\n\n\n# b>doService()\n\næå¨ç±»ï¼org.springframework.web.servlet.DispatcherServlet\n\n@Override\nprotected void doService(HttpServletRequest request, HttpServletResponse response) throws Exception {\n    logRequest(request);\n\n    // Keep a snapshot of the request attributes in case of an include,\n    // to be able to restore the original attributes after the include.\n    Map<String, Object> attributesSnapshot = null;\n    if (WebUtils.isIncludeRequest(request)) {\n        attributesSnapshot = new HashMap<>();\n        Enumeration<?> attrNames = request.getAttributeNames();\n        while (attrNames.hasMoreElements()) {\n            String attrName = (String) attrNames.nextElement();\n            if (this.cleanupAfterInclude || attrName.startsWith(DEFAULT_STRATEGIES_PREFIX)) {\n                attributesSnapshot.put(attrName, request.getAttribute(attrName));\n            }\n        }\n    }\n\n    // Make framework objects available to handlers and view objects.\n    request.setAttribute(WEB_APPLICATION_CONTEXT_ATTRIBUTE, getWebApplicationContext());\n    request.setAttribute(LOCALE_RESOLVER_ATTRIBUTE, this.localeResolver);\n    request.setAttribute(THEME_RESOLVER_ATTRIBUTE, this.themeResolver);\n    request.setAttribute(THEME_SOURCE_ATTRIBUTE, getThemeSource());\n\n    if (this.flashMapManager != null) {\n        FlashMap inputFlashMap = this.flashMapManager.retrieveAndUpdate(request, response);\n        if (inputFlashMap != null) {\n            request.setAttribute(INPUT_FLASH_MAP_ATTRIBUTE, Collections.unmodifiableMap(inputFlashMap));\n        }\n        request.setAttribute(OUTPUT_FLASH_MAP_ATTRIBUTE, new FlashMap());\n        request.setAttribute(FLASH_MAP_MANAGER_ATTRIBUTE, this.flashMapManager);\n    }\n\n    RequestPath requestPath = null;\n    if (this.parseRequestPath && !ServletRequestPathUtils.hasParsedRequestPath(request)) {\n        requestPath = ServletRequestPathUtils.parseAndCache(request);\n    }\n\n    try {\n        // å¤çè¯·æ±åååº\n        doDispatch(request, response);\n    }\n    finally {\n        if (!WebAsyncUtils.getAsyncManager(request).isConcurrentHandlingStarted()) {\n            // Restore the original attribute snapshot, in case of an include.\n            if (attributesSnapshot != null) {\n                restoreAttributesAfterInclude(request, attributesSnapshot);\n            }\n        }\n        if (requestPath != null) {\n            ServletRequestPathUtils.clearParsedRequestPath(request);\n        }\n    }\n}\n\n\n# c>doDispatch()\n\næå¨ç±»ï¼org.springframework.web.servlet.DispatcherServlet\n\nprotected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception {\n    HttpServletRequest processedRequest = request;\n    HandlerExecutionChain mappedHandler = null;\n    boolean multipartRequestParsed = false;\n\n    WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request);\n\n    try {\n        ModelAndView mv = null;\n        Exception dispatchException = null;\n\n        try {\n            processedRequest = checkMultipart(request);\n            multipartRequestParsed = (processedRequest != request);\n\n            // Determine handler for the current request.\n            /*\n            \tmappedHandlerï¼è°ç¨é¾\n                åå«handlerãinterceptorListãinterceptorIndex\n            \thandlerï¼æµè§å¨åéçè¯·æ±æå¹éçæ§å¶å¨æ¹æ³\n            \tinterceptorListï¼å¤çæ§å¶å¨æ¹æ³çæææ¦æªå¨éå\n            \tinterceptorIndexï¼æ¦æªå¨ç´¢å¼ï¼æ§å¶æ¦æªå¨afterCompletion()çæ§è¡\n            */\n            mappedHandler = getHandler(processedRequest);\n            if (mappedHandler == null) {\n                noHandlerFound(processedRequest, response);\n                return;\n            }\n\n            // Determine handler adapter for the current request.\n           \t// éè¿æ§å¶å¨æ¹æ³åå»ºç¸åºçå¤çå¨ééå¨ï¼è°ç¨æå¯¹åºçæ§å¶å¨æ¹æ³\n            HandlerAdapter ha = getHandlerAdapter(mappedHandler.getHandler());\n\n            // Process last-modified header, if supported by the handler.\n            String method = request.getMethod();\n            boolean isGet = "GET".equals(method);\n            if (isGet || "HEAD".equals(method)) {\n                long lastModified = ha.getLastModified(request, mappedHandler.getHandler());\n                if (new ServletWebRequest(request, response).checkNotModified(lastModified) && isGet) {\n                    return;\n                }\n            }\n\t\t\t\n            // è°ç¨æ¦æªå¨çpreHandle()\n            if (!mappedHandler.applyPreHandle(processedRequest, response)) {\n                return;\n            }\n\n            // Actually invoke the handler.\n            // ç±å¤çå¨ééå¨è°ç¨å·ä½çæ§å¶å¨æ¹æ³ï¼æç»è·å¾ModelAndViewå¯¹è±¡\n            mv = ha.handle(processedRequest, response, mappedHandler.getHandler());\n\n            if (asyncManager.isConcurrentHandlingStarted()) {\n                return;\n            }\n\n            applyDefaultViewName(processedRequest, mv);\n            // è°ç¨æ¦æªå¨çpostHandle()\n            mappedHandler.applyPostHandle(processedRequest, response, mv);\n        }\n        catch (Exception ex) {\n            dispatchException = ex;\n        }\n        catch (Throwable err) {\n            // As of 4.3, we\'re processing Errors thrown from handler methods as well,\n            // making them available for @ExceptionHandler methods and other scenarios.\n            dispatchException = new NestedServletException("Handler dispatch failed", err);\n        }\n        // åç»­å¤çï¼å¤çæ¨¡åæ°æ®åæ¸²æè§å¾\n        processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException);\n    }\n    catch (Exception ex) {\n        triggerAfterCompletion(processedRequest, response, mappedHandler, ex);\n    }\n    catch (Throwable err) {\n        triggerAfterCompletion(processedRequest, response, mappedHandler,\n                               new NestedServletException("Handler processing failed", err));\n    }\n    finally {\n        if (asyncManager.isConcurrentHandlingStarted()) {\n            // Instead of postHandle and afterCompletion\n            if (mappedHandler != null) {\n                mappedHandler.applyAfterConcurrentHandlingStarted(processedRequest, response);\n            }\n        }\n        else {\n            // Clean up any resources used by a multipart request.\n            if (multipartRequestParsed) {\n                cleanupMultipart(processedRequest);\n            }\n        }\n    }\n}\n\n\n# d>processDispatchResult()\n\nprivate void processDispatchResult(HttpServletRequest request, HttpServletResponse response,\n                                   @Nullable HandlerExecutionChain mappedHandler, @Nullable ModelAndView mv,\n                                   @Nullable Exception exception) throws Exception {\n\n    boolean errorView = false;\n\n    if (exception != null) {\n        if (exception instanceof ModelAndViewDefiningException) {\n            logger.debug("ModelAndViewDefiningException encountered", exception);\n            mv = ((ModelAndViewDefiningException) exception).getModelAndView();\n        }\n        else {\n            Object handler = (mappedHandler != null ? mappedHandler.getHandler() : null);\n            mv = processHandlerException(request, response, handler, exception);\n            errorView = (mv != null);\n        }\n    }\n\n    // Did the handler return a view to render?\n    if (mv != null && !mv.wasCleared()) {\n        // å¤çæ¨¡åæ°æ®åæ¸²æè§å¾\n        render(mv, request, response);\n        if (errorView) {\n            WebUtils.clearErrorRequestAttributes(request);\n        }\n    }\n    else {\n        if (logger.isTraceEnabled()) {\n            logger.trace("No view rendering, null ModelAndView returned.");\n        }\n    }\n\n    if (WebAsyncUtils.getAsyncManager(request).isConcurrentHandlingStarted()) {\n        // Concurrent handling started during a forward\n        return;\n    }\n\n    if (mappedHandler != null) {\n        // Exception (if any) is already handled..\n        // è°ç¨æ¦æªå¨çafterCompletion()\n        mappedHandler.triggerAfterCompletion(request, response, null);\n    }\n}\n\n\n\n# 4ãSpringMVCçæ§è¡æµç¨\n\n 1. ç¨æ·åæå¡å¨åéè¯·æ±ï¼è¯·æ±è¢«SpringMVC åç«¯æ§å¶å¨ DispatcherServletæè·ã\n\n 2. DispatcherServletå¯¹è¯·æ±URLè¿è¡è§£æï¼å¾å°è¯·æ±èµæºæ è¯ç¬¦ï¼URIï¼ï¼å¤æ­è¯·æ±URIå¯¹åºçæ å°ï¼\n\na) ä¸å­å¨\n\ni. åå¤æ­æ¯å¦éç½®äºmvc:default-servlet-handler\n\nii. å¦ææ²¡éç½®ï¼åæ§å¶å°æ¥æ å°æ¥æ¾ä¸å°ï¼å®¢æ·ç«¯å±ç¤º404éè¯¯\n\n\n\n\n\niii. å¦ææéç½®ï¼åè®¿é®ç®æ èµæºï¼ä¸è¬ä¸ºéæèµæºï¼å¦ï¼JS,CSS,HTMLï¼ï¼æ¾ä¸å°å®¢æ·ç«¯ä¹ä¼å±ç¤º404éè¯¯\n\n\n\n\n\nb) å­å¨åæ§è¡ä¸é¢çæµç¨\n\n 3. æ ¹æ®è¯¥URIï¼è°ç¨HandlerMappingè·å¾è¯¥Handleréç½®çææç¸å³çå¯¹è±¡ï¼åæ¬Handlerå¯¹è±¡ä»¥åHandlerå¯¹è±¡å¯¹åºçæ¦æªå¨ï¼ï¼æåä»¥HandlerExecutionChainæ§è¡é¾å¯¹è±¡çå½¢å¼è¿åã\n\n 4. DispatcherServlet æ ¹æ®è·å¾çHandlerï¼éæ©ä¸ä¸ªåéçHandlerAdapterã\n\n 5. å¦ææåè·å¾HandlerAdapterï¼æ­¤æ¶å°å¼å§æ§è¡æ¦æªå¨çpreHandler(â¦)æ¹æ³ãæ­£åã\n\n 6. æåRequestä¸­çæ¨¡åæ°æ®ï¼å¡«åHandlerå¥åï¼å¼å§æ§è¡Handlerï¼Controller)æ¹æ³ï¼å¤çè¯·æ±ãå¨å¡«åHandlerçå¥åè¿ç¨ä¸­ï¼æ ¹æ®ä½ çéç½®ï¼Springå°å¸®ä½ åä¸äºé¢å¤çå·¥ä½ï¼\n\na) HttpMessageConveterï¼ å°è¯·æ±æ¶æ¯ï¼å¦Jsonãxmlç­æ°æ®ï¼è½¬æ¢æä¸ä¸ªå¯¹è±¡ï¼å°å¯¹è±¡è½¬æ¢ä¸ºæå®çååºä¿¡æ¯\n\nb) æ°æ®è½¬æ¢ï¼å¯¹è¯·æ±æ¶æ¯è¿è¡æ°æ®è½¬æ¢ãå¦Stringè½¬æ¢æIntegerãDoubleç­\n\nc) æ°æ®æ ¼å¼åï¼å¯¹è¯·æ±æ¶æ¯è¿è¡æ°æ®æ ¼å¼åã å¦å°å­ç¬¦ä¸²è½¬æ¢ææ ¼å¼åæ°å­ææ ¼å¼åæ¥æç­\n\nd) æ°æ®éªè¯ï¼ éªè¯æ°æ®çæææ§ï¼é¿åº¦ãæ ¼å¼ç­ï¼ï¼éªè¯ç»æå­å¨å°BindingResultæErrorä¸­\n\n 7.  Handleræ§è¡å®æåï¼åDispatcherServlet è¿åä¸ä¸ªModelAndViewå¯¹è±¡ã\n\n 8.  æ­¤æ¶å°å¼å§æ§è¡æ¦æªå¨çpostHandle(...)æ¹æ³ãéåãã\n\n 9.  æ ¹æ®è¿åçModelAndViewï¼æ­¤æ¶ä¼å¤æ­æ¯å¦å­å¨å¼å¸¸ï¼å¦æå­å¨å¼å¸¸ï¼åæ§è¡HandlerExceptionResolverè¿è¡å¼å¸¸å¤çï¼éæ©ä¸ä¸ªéåçViewResolverè¿è¡è§å¾è§£æï¼æ ¹æ®ModelåViewï¼æ¥æ¸²æè§å¾ã\n\n 10. æ¸²æè§å¾å®æ¯æ§è¡æ¦æªå¨çafterCompletion(â¦)æ¹æ³ãéåãã\n\n 11. å°æ¸²æç»æè¿åç»å®¢æ·ç«¯ã',normalizedContent:'# åä¸ãspringmvcæ§è¡æµç¨\n\n\n# 1ãspringmvcå¸¸ç¨ç»ä»¶\n\n * dispatcherservletï¼åç«¯æ§å¶å¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾\n\nä½ç¨ï¼ç»ä¸å¤çè¯·æ±åååºï¼æ´ä¸ªæµç¨æ§å¶çä¸­å¿ï¼ç±å®è°ç¨å¶å®ç»ä»¶å¤çç¨æ·çè¯·æ±\n\n * handlermappingï¼å¤çå¨æ å°å¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾\n\nä½ç¨ï¼æ ¹æ®è¯·æ±çurlãmethodç­ä¿¡æ¯æ¥æ¾handlerï¼å³æ§å¶å¨æ¹æ³\n\n * handlerï¼å¤çå¨ï¼éè¦å·¥ç¨å¸å¼å\n\nä½ç¨ï¼å¨dispatcherservletçæ§å¶ä¸handlerå¯¹å·ä½çç¨æ·è¯·æ±è¿è¡å¤ç\n\n * handleradapterï¼å¤çå¨ééå¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾\n\nä½ç¨ï¼éè¿handleradapterå¯¹å¤çå¨ï¼æ§å¶å¨æ¹æ³ï¼è¿è¡æ§è¡\n\n * viewresolverï¼è§å¾è§£æå¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾ï¼é¡µé¢éè¦èªå·±åï¼\n\nä½ç¨ï¼è¿è¡è§å¾è§£æï¼å¾å°ç¸åºçè§å¾ï¼ä¾å¦ï¼thymeleafviewãinternalresourceviewãredirectview\n\n * viewï¼è§å¾ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æèè§å¾ææ¯æä¾\n\nä½ç¨ï¼å°æ¨¡åæ°æ®éè¿é¡µé¢å±ç¤ºç»ç¨æ·\n\n\n\n\n# 2ãdispatcherservletåå§åè¿ç¨\n\ndispatcherservlet æ¬è´¨ä¸æ¯ä¸ä¸ª servletï¼æä»¥å¤©ç¶çéµå¾ª servlet ççå½å¨æãæä»¥å®è§ä¸æ¯ servlet çå½å¨ææ¥è¿è¡è°åº¦ã\n\n\n\n# a>åå§åwebapplicationcontext\n\næå¨ç±»ï¼org.springframework.web.servlet.frameworkservlet\n\nprotected webapplicationcontext initwebapplicationcontext() {\n    webapplicationcontext rootcontext =\n        webapplicationcontextutils.getwebapplicationcontext(getservletcontext());\n    webapplicationcontext wac = null;\n\n    if (this.webapplicationcontext != null) {\n        // a context instance was injected at construction time -> use it\n        wac = this.webapplicationcontext;\n        if (wac instanceof configurablewebapplicationcontext) {\n            configurablewebapplicationcontext cwac = (configurablewebapplicationcontext) wac;\n            if (!cwac.isactive()) {\n                // the context has not yet been refreshed -> provide services such as\n                // setting the parent context, setting the application context id, etc\n                if (cwac.getparent() == null) {\n                    // the context instance was injected without an explicit parent -> set\n                    // the root application context (if any; may be null) as the parent\n                    cwac.setparent(rootcontext);\n                }\n                configureandrefreshwebapplicationcontext(cwac);\n            }\n        }\n    }\n    if (wac == null) {\n        // no context instance was injected at construction time -> see if one\n        // has been registered in the servlet context. if one exists, it is assumed\n        // that the parent context (if any) has already been set and that the\n        // user has performed any initialization such as setting the context id\n        wac = findwebapplicationcontext();\n    }\n    if (wac == null) {\n        // no context instance is defined for this servlet -> create a local one\n        // åå»ºwebapplicationcontext\n        wac = createwebapplicationcontext(rootcontext);\n    }\n\n    if (!this.refresheventreceived) {\n        // either the context is not a configurableapplicationcontext with refresh\n        // support or the context injected at construction time had already been\n        // refreshed -> trigger initial onrefresh manually here.\n        synchronized (this.onrefreshmonitor) {\n            // å·æ°webapplicationcontext\n            onrefresh(wac);\n        }\n    }\n\n    if (this.publishcontext) {\n        // publish the context as a servlet context attribute.\n        // å°iocå®¹å¨å¨åºç¨åå±äº«\n        string attrname = getservletcontextattributename();\n        getservletcontext().setattribute(attrname, wac);\n    }\n\n    return wac;\n}\n\n\n# b>åå»ºwebapplicationcontext\n\næå¨ç±»ï¼org.springframework.web.servlet.frameworkservlet\n\nprotected webapplicationcontext createwebapplicationcontext(@nullable applicationcontext parent) {\n    class<?> contextclass = getcontextclass();\n    if (!configurablewebapplicationcontext.class.isassignablefrom(contextclass)) {\n        throw new applicationcontextexception(\n            "fatal initialization error in servlet with name \'" + getservletname() +\n            "\': custom webapplicationcontext class [" + contextclass.getname() +\n            "] is not of type configurablewebapplicationcontext");\n    }\n    // éè¿åå°åå»º ioc å®¹å¨å¯¹è±¡\n    configurablewebapplicationcontext wac =\n        (configurablewebapplicationcontext) beanutils.instantiateclass(contextclass);\n\n    wac.setenvironment(getenvironment());\n    // è®¾ç½®ç¶å®¹å¨\n    wac.setparent(parent);\n    string configlocation = getcontextconfiglocation();\n    if (configlocation != null) {\n        wac.setconfiglocation(configlocation);\n    }\n    configureandrefreshwebapplicationcontext(wac);\n\n    return wac;\n}\n\n\n# c>dispatcherservletåå§åç­ç¥\n\nframeworkservletåå»ºwebapplicationcontextåï¼å·æ°å®¹å¨ï¼è°ç¨onrefresh(wac)ï¼æ­¤æ¹æ³å¨dispatcherservletä¸­è¿è¡äºéåï¼è°ç¨äºinitstrategies(context)æ¹æ³ï¼åå«èªå·±éè¦åå§åçæ¹æ³ï¼ï¼åå§åç­ç¥ï¼å³åå§ådispatcherservletçåä¸ªç»ä»¶\n\næå¨ç±»ï¼org.springframework.web.servlet.dispatcherservlet\n\nprotected void initstrategies(applicationcontext context) {\n   initmultipartresolver(context);\n   initlocaleresolver(context);\n   initthemeresolver(context);\n   inithandlermappings(context);\n   inithandleradapters(context);\n   inithandlerexceptionresolvers(context);\n   initrequesttoviewnametranslator(context);\n   initviewresolvers(context);\n   initflashmapmanager(context);\n}\n\n\n\n# 3ãdispatcherservletè°ç¨ç»ä»¶å¤çè¯·æ±\n\n# a>processrequest()\n\nframeworkservletéåhttpservletä¸­çservice()ådoxxx()ï¼è¿äºæ¹æ³ä¸­è°ç¨äºprocessrequest(request, response)\n\næå¨ç±»ï¼org.springframework.web.servlet.frameworkservlet\n\nprotected final void processrequest(httpservletrequest request, httpservletresponse response)\n    throws servletexception, ioexception {\n\n    long starttime = system.currenttimemillis();\n    throwable failurecause = null;\n\n    localecontext previouslocalecontext = localecontextholder.getlocalecontext();\n    localecontext localecontext = buildlocalecontext(request);\n\n    requestattributes previousattributes = requestcontextholder.getrequestattributes();\n    servletrequestattributes requestattributes = buildrequestattributes(request, response, previousattributes);\n\n    webasyncmanager asyncmanager = webasyncutils.getasyncmanager(request);\n    asyncmanager.registercallableinterceptor(frameworkservlet.class.getname(), new requestbindinginterceptor());\n\n    initcontextholders(request, localecontext, requestattributes);\n\n    try {\n\t\t// æ§è¡æå¡ï¼doservice()æ¯ä¸ä¸ªæ½è±¡æ¹æ³ï¼å¨dispatcherservletä¸­è¿è¡äºéå\n        doservice(request, response);\n    }\n    catch (servletexception | ioexception ex) {\n        failurecause = ex;\n        throw ex;\n    }\n    catch (throwable ex) {\n        failurecause = ex;\n        throw new nestedservletexception("request processing failed", ex);\n    }\n\n    finally {\n        resetcontextholders(request, previouslocalecontext, previousattributes);\n        if (requestattributes != null) {\n            requestattributes.requestcompleted();\n        }\n        logresult(request, response, failurecause, asyncmanager);\n        publishrequesthandledevent(request, response, starttime, failurecause);\n    }\n}\n\n\n# b>doservice()\n\næå¨ç±»ï¼org.springframework.web.servlet.dispatcherservlet\n\n@override\nprotected void doservice(httpservletrequest request, httpservletresponse response) throws exception {\n    logrequest(request);\n\n    // keep a snapshot of the request attributes in case of an include,\n    // to be able to restore the original attributes after the include.\n    map<string, object> attributessnapshot = null;\n    if (webutils.isincluderequest(request)) {\n        attributessnapshot = new hashmap<>();\n        enumeration<?> attrnames = request.getattributenames();\n        while (attrnames.hasmoreelements()) {\n            string attrname = (string) attrnames.nextelement();\n            if (this.cleanupafterinclude || attrname.startswith(default_strategies_prefix)) {\n                attributessnapshot.put(attrname, request.getattribute(attrname));\n            }\n        }\n    }\n\n    // make framework objects available to handlers and view objects.\n    request.setattribute(web_application_context_attribute, getwebapplicationcontext());\n    request.setattribute(locale_resolver_attribute, this.localeresolver);\n    request.setattribute(theme_resolver_attribute, this.themeresolver);\n    request.setattribute(theme_source_attribute, getthemesource());\n\n    if (this.flashmapmanager != null) {\n        flashmap inputflashmap = this.flashmapmanager.retrieveandupdate(request, response);\n        if (inputflashmap != null) {\n            request.setattribute(input_flash_map_attribute, collections.unmodifiablemap(inputflashmap));\n        }\n        request.setattribute(output_flash_map_attribute, new flashmap());\n        request.setattribute(flash_map_manager_attribute, this.flashmapmanager);\n    }\n\n    requestpath requestpath = null;\n    if (this.parserequestpath && !servletrequestpathutils.hasparsedrequestpath(request)) {\n        requestpath = servletrequestpathutils.parseandcache(request);\n    }\n\n    try {\n        // å¤çè¯·æ±åååº\n        dodispatch(request, response);\n    }\n    finally {\n        if (!webasyncutils.getasyncmanager(request).isconcurrenthandlingstarted()) {\n            // restore the original attribute snapshot, in case of an include.\n            if (attributessnapshot != null) {\n                restoreattributesafterinclude(request, attributessnapshot);\n            }\n        }\n        if (requestpath != null) {\n            servletrequestpathutils.clearparsedrequestpath(request);\n        }\n    }\n}\n\n\n# c>dodispatch()\n\næå¨ç±»ï¼org.springframework.web.servlet.dispatcherservlet\n\nprotected void dodispatch(httpservletrequest request, httpservletresponse response) throws exception {\n    httpservletrequest processedrequest = request;\n    handlerexecutionchain mappedhandler = null;\n    boolean multipartrequestparsed = false;\n\n    webasyncmanager asyncmanager = webasyncutils.getasyncmanager(request);\n\n    try {\n        modelandview mv = null;\n        exception dispatchexception = null;\n\n        try {\n            processedrequest = checkmultipart(request);\n            multipartrequestparsed = (processedrequest != request);\n\n            // determine handler for the current request.\n            /*\n            \tmappedhandlerï¼è°ç¨é¾\n                åå«handlerãinterceptorlistãinterceptorindex\n            \thandlerï¼æµè§å¨åéçè¯·æ±æå¹éçæ§å¶å¨æ¹æ³\n            \tinterceptorlistï¼å¤çæ§å¶å¨æ¹æ³çæææ¦æªå¨éå\n            \tinterceptorindexï¼æ¦æªå¨ç´¢å¼ï¼æ§å¶æ¦æªå¨aftercompletion()çæ§è¡\n            */\n            mappedhandler = gethandler(processedrequest);\n            if (mappedhandler == null) {\n                nohandlerfound(processedrequest, response);\n                return;\n            }\n\n            // determine handler adapter for the current request.\n           \t// éè¿æ§å¶å¨æ¹æ³åå»ºç¸åºçå¤çå¨ééå¨ï¼è°ç¨æå¯¹åºçæ§å¶å¨æ¹æ³\n            handleradapter ha = gethandleradapter(mappedhandler.gethandler());\n\n            // process last-modified header, if supported by the handler.\n            string method = request.getmethod();\n            boolean isget = "get".equals(method);\n            if (isget || "head".equals(method)) {\n                long lastmodified = ha.getlastmodified(request, mappedhandler.gethandler());\n                if (new servletwebrequest(request, response).checknotmodified(lastmodified) && isget) {\n                    return;\n                }\n            }\n\t\t\t\n            // è°ç¨æ¦æªå¨çprehandle()\n            if (!mappedhandler.applyprehandle(processedrequest, response)) {\n                return;\n            }\n\n            // actually invoke the handler.\n            // ç±å¤çå¨ééå¨è°ç¨å·ä½çæ§å¶å¨æ¹æ³ï¼æç»è·å¾modelandviewå¯¹è±¡\n            mv = ha.handle(processedrequest, response, mappedhandler.gethandler());\n\n            if (asyncmanager.isconcurrenthandlingstarted()) {\n                return;\n            }\n\n            applydefaultviewname(processedrequest, mv);\n            // è°ç¨æ¦æªå¨çposthandle()\n            mappedhandler.applyposthandle(processedrequest, response, mv);\n        }\n        catch (exception ex) {\n            dispatchexception = ex;\n        }\n        catch (throwable err) {\n            // as of 4.3, we\'re processing errors thrown from handler methods as well,\n            // making them available for @exceptionhandler methods and other scenarios.\n            dispatchexception = new nestedservletexception("handler dispatch failed", err);\n        }\n        // åç»­å¤çï¼å¤çæ¨¡åæ°æ®åæ¸²æè§å¾\n        processdispatchresult(processedrequest, response, mappedhandler, mv, dispatchexception);\n    }\n    catch (exception ex) {\n        triggeraftercompletion(processedrequest, response, mappedhandler, ex);\n    }\n    catch (throwable err) {\n        triggeraftercompletion(processedrequest, response, mappedhandler,\n                               new nestedservletexception("handler processing failed", err));\n    }\n    finally {\n        if (asyncmanager.isconcurrenthandlingstarted()) {\n            // instead of posthandle and aftercompletion\n            if (mappedhandler != null) {\n                mappedhandler.applyafterconcurrenthandlingstarted(processedrequest, response);\n            }\n        }\n        else {\n            // clean up any resources used by a multipart request.\n            if (multipartrequestparsed) {\n                cleanupmultipart(processedrequest);\n            }\n        }\n    }\n}\n\n\n# d>processdispatchresult()\n\nprivate void processdispatchresult(httpservletrequest request, httpservletresponse response,\n                                   @nullable handlerexecutionchain mappedhandler, @nullable modelandview mv,\n                                   @nullable exception exception) throws exception {\n\n    boolean errorview = false;\n\n    if (exception != null) {\n        if (exception instanceof modelandviewdefiningexception) {\n            logger.debug("modelandviewdefiningexception encountered", exception);\n            mv = ((modelandviewdefiningexception) exception).getmodelandview();\n        }\n        else {\n            object handler = (mappedhandler != null ? mappedhandler.gethandler() : null);\n            mv = processhandlerexception(request, response, handler, exception);\n            errorview = (mv != null);\n        }\n    }\n\n    // did the handler return a view to render?\n    if (mv != null && !mv.wascleared()) {\n        // å¤çæ¨¡åæ°æ®åæ¸²æè§å¾\n        render(mv, request, response);\n        if (errorview) {\n            webutils.clearerrorrequestattributes(request);\n        }\n    }\n    else {\n        if (logger.istraceenabled()) {\n            logger.trace("no view rendering, null modelandview returned.");\n        }\n    }\n\n    if (webasyncutils.getasyncmanager(request).isconcurrenthandlingstarted()) {\n        // concurrent handling started during a forward\n        return;\n    }\n\n    if (mappedhandler != null) {\n        // exception (if any) is already handled..\n        // è°ç¨æ¦æªå¨çaftercompletion()\n        mappedhandler.triggeraftercompletion(request, response, null);\n    }\n}\n\n\n\n# 4ãspringmvcçæ§è¡æµç¨\n\n 1. ç¨æ·åæå¡å¨åéè¯·æ±ï¼è¯·æ±è¢«springmvc åç«¯æ§å¶å¨ dispatcherservletæè·ã\n\n 2. dispatcherservletå¯¹è¯·æ±urlè¿è¡è§£æï¼å¾å°è¯·æ±èµæºæ è¯ç¬¦ï¼uriï¼ï¼å¤æ­è¯·æ±uriå¯¹åºçæ å°ï¼\n\na) ä¸å­å¨\n\ni. åå¤æ­æ¯å¦éç½®äºmvc:default-servlet-handler\n\nii. å¦ææ²¡éç½®ï¼åæ§å¶å°æ¥æ å°æ¥æ¾ä¸å°ï¼å®¢æ·ç«¯å±ç¤º404éè¯¯\n\n\n\n\n\niii. å¦ææéç½®ï¼åè®¿é®ç®æ èµæºï¼ä¸è¬ä¸ºéæèµæºï¼å¦ï¼js,css,htmlï¼ï¼æ¾ä¸å°å®¢æ·ç«¯ä¹ä¼å±ç¤º404éè¯¯\n\n\n\n\n\nb) å­å¨åæ§è¡ä¸é¢çæµç¨\n\n 3. æ ¹æ®è¯¥uriï¼è°ç¨handlermappingè·å¾è¯¥handleréç½®çææç¸å³çå¯¹è±¡ï¼åæ¬handlerå¯¹è±¡ä»¥åhandlerå¯¹è±¡å¯¹åºçæ¦æªå¨ï¼ï¼æåä»¥handlerexecutionchainæ§è¡é¾å¯¹è±¡çå½¢å¼è¿åã\n\n 4. dispatcherservlet æ ¹æ®è·å¾çhandlerï¼éæ©ä¸ä¸ªåéçhandleradapterã\n\n 5. å¦ææåè·å¾handleradapterï¼æ­¤æ¶å°å¼å§æ§è¡æ¦æªå¨çprehandler(â¦)æ¹æ³ãæ­£åã\n\n 6. æårequestä¸­çæ¨¡åæ°æ®ï¼å¡«åhandlerå¥åï¼å¼å§æ§è¡handlerï¼controller)æ¹æ³ï¼å¤çè¯·æ±ãå¨å¡«åhandlerçå¥åè¿ç¨ä¸­ï¼æ ¹æ®ä½ çéç½®ï¼springå°å¸®ä½ åä¸äºé¢å¤çå·¥ä½ï¼\n\na) httpmessageconveterï¼ å°è¯·æ±æ¶æ¯ï¼å¦jsonãxmlç­æ°æ®ï¼è½¬æ¢æä¸ä¸ªå¯¹è±¡ï¼å°å¯¹è±¡è½¬æ¢ä¸ºæå®çååºä¿¡æ¯\n\nb) æ°æ®è½¬æ¢ï¼å¯¹è¯·æ±æ¶æ¯è¿è¡æ°æ®è½¬æ¢ãå¦stringè½¬æ¢æintegerãdoubleç­\n\nc) æ°æ®æ ¼å¼åï¼å¯¹è¯·æ±æ¶æ¯è¿è¡æ°æ®æ ¼å¼åã å¦å°å­ç¬¦ä¸²è½¬æ¢ææ ¼å¼åæ°å­ææ ¼å¼åæ¥æç­\n\nd) æ°æ®éªè¯ï¼ éªè¯æ°æ®çæææ§ï¼é¿åº¦ãæ ¼å¼ç­ï¼ï¼éªè¯ç»æå­å¨å°bindingresultæerrorä¸­\n\n 7.  handleræ§è¡å®æåï¼ådispatcherservlet è¿åä¸ä¸ªmodelandviewå¯¹è±¡ã\n\n 8.  æ­¤æ¶å°å¼å§æ§è¡æ¦æªå¨çposthandle(...)æ¹æ³ãéåãã\n\n 9.  æ ¹æ®è¿åçmodelandviewï¼æ­¤æ¶ä¼å¤æ­æ¯å¦å­å¨å¼å¸¸ï¼å¦æå­å¨å¼å¸¸ï¼åæ§è¡handlerexceptionresolverè¿è¡å¼å¸¸å¤çï¼éæ©ä¸ä¸ªéåçviewresolverè¿è¡è§å¾è§£æï¼æ ¹æ®modelåviewï¼æ¥æ¸²æè§å¾ã\n\n 10. æ¸²æè§å¾å®æ¯æ§è¡æ¦æªå¨çaftercompletion(â¦)æ¹æ³ãéåãã\n\n 11. å°æ¸²æç»æè¿åç»å®¢æ·ç«¯ã',charsets:{cjk:!0}},{title:"è¿ç»´",frontmatter:{title:"è¿ç»´",date:"2022-03-22T00:00:00.000Z",permalink:"/springboot/002/",categories:["æ¡æ¶","SpringBoot"],tags:["SpringBoot"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/03.SpringBoot/02.%E8%BF%90%E7%BB%B4.html",relativePath:"07.æ¡æ¶/03.SpringBoot/02.è¿ç»´.md",key:"v-70eda528",path:"/springboot/002/",headers:[{level:2,title:"YW-1.SpringBootç¨åºçæåä¸è¿è¡",slug:"yw-1-springbootç¨åºçæåä¸è¿è¡",normalizedTitle:"yw-1.springbootç¨åºçæåä¸è¿è¡",charIndex:98},{level:3,title:"ç¨åºæå",slug:"ç¨åºæå",normalizedTitle:"ç¨åºæå",charIndex:83},{level:3,title:"ç¨åºè¿è¡",slug:"ç¨åºè¿è¡",normalizedTitle:"ç¨åºè¿è¡",charIndex:782},{level:3,title:"SpringBootç¨åºæåå¤±è´¥å¤ç",slug:"springbootç¨åºæåå¤±è´¥å¤ç",normalizedTitle:"springbootç¨åºæåå¤±è´¥å¤ç",charIndex:1324},{level:3,title:"å½ä»¤è¡å¯å¨å¸¸è§é®é¢åè§£å³æ¹æ¡",slug:"å½ä»¤è¡å¯å¨å¸¸è§é®é¢åè§£å³æ¹æ¡",normalizedTitle:"å½ä»¤è¡å¯å¨å¸¸è§é®é¢åè§£å³æ¹æ¡",charIndex:4274},{level:3,title:"SpringBooté¡¹ç®å¿«éå¯å¨ï¼Linuxçï¼",slug:"springbooté¡¹ç®å¿«éå¯å¨-linuxç",normalizedTitle:"springbooté¡¹ç®å¿«éå¯å¨ï¼linuxçï¼",charIndex:4589},{level:2,title:"YW-2.éç½®é«çº§",slug:"yw-2-éç½®é«çº§",normalizedTitle:"yw-2.éç½®é«çº§",charIndex:4765},{level:3,title:"YW-2-1.ä¸´æ¶å±æ§è®¾ç½®",slug:"yw-2-1-ä¸´æ¶å±æ§è®¾ç½®",normalizedTitle:"yw-2-1.ä¸´æ¶å±æ§è®¾ç½®",charIndex:4932},{level:4,title:"å±æ§å è½½ä¼åçº§",slug:"å±æ§å è½½ä¼åçº§",normalizedTitle:"å±æ§å è½½ä¼åçº§",charIndex:5487},{level:4,title:"å¼åç¯å¢ä¸­ä½¿ç¨ä¸´æ¶å±æ§",slug:"å¼åç¯å¢ä¸­ä½¿ç¨ä¸´æ¶å±æ§",normalizedTitle:"å¼åç¯å¢ä¸­ä½¿ç¨ä¸´æ¶å±æ§",charIndex:6432},{level:3,title:"YW-2-2.éç½®æä»¶åç±»",slug:"yw-2-2-éç½®æä»¶åç±»",normalizedTitle:"yw-2-2.éç½®æä»¶åç±»",charIndex:7610},{level:3,title:"YW-2-3.èªå®ä¹éç½®æä»¶",slug:"yw-2-3-èªå®ä¹éç½®æä»¶",normalizedTitle:"yw-2-3.èªå®ä¹éç½®æä»¶",charIndex:8851},{level:2,title:"YW-3.å¤ç¯å¢å¼å",slug:"yw-3-å¤ç¯å¢å¼å",normalizedTitle:"yw-3.å¤ç¯å¢å¼å",charIndex:9468},{level:3,title:"YW-3-1.å¤ç¯å¢å¼åï¼yamlåä¸æä»¶çï¼",slug:"yw-3-1-å¤ç¯å¢å¼å-yamlåä¸æä»¶ç",normalizedTitle:"yw-3-1.å¤ç¯å¢å¼åï¼yamlåä¸æä»¶çï¼",charIndex:9677},{level:3,title:"YW-3-2.å¤ç¯å¢å¼åï¼yamlå¤æä»¶çï¼",slug:"yw-3-2-å¤ç¯å¢å¼å-yamlå¤æä»¶ç",normalizedTitle:"yw-3-2.å¤ç¯å¢å¼åï¼yamlå¤æä»¶çï¼",charIndex:10509},{level:3,title:"YW-3-3.å¤ç¯å¢å¼åï¼propertieså¤æä»¶çï¼",slug:"yw-3-3-å¤ç¯å¢å¼å-propertieså¤æä»¶ç",normalizedTitle:"yw-3-3.å¤ç¯å¢å¼åï¼propertieså¤æä»¶çï¼",charIndex:11059},{level:3,title:"YW-3-4.å¤ç¯å¢å¼åç¬ç«éç½®æä»¶ä¹¦åæå·§",slug:"yw-3-4-å¤ç¯å¢å¼åç¬ç«éç½®æä»¶ä¹¦åæå·§",normalizedTitle:"yw-3-4.å¤ç¯å¢å¼åç¬ç«éç½®æä»¶ä¹¦åæå·§",charIndex:11355},{level:3,title:"YW-3-5.å¤ç¯å¢å¼åæ§å¶",slug:"yw-3-5-å¤ç¯å¢å¼åæ§å¶",normalizedTitle:"yw-3-5.å¤ç¯å¢å¼åæ§å¶",charIndex:12235},{level:2,title:"YW-4.æ¥å¿",slug:"yw-4-æ¥å¿",normalizedTitle:"yw-4.æ¥å¿",charIndex:13319},{level:4,title:"YW-4-1.ä»£ç ä¸­ä½¿ç¨æ¥å¿å·¥å·è®°å½æ¥å¿",slug:"yw-4-1-ä»£ç ä¸­ä½¿ç¨æ¥å¿å·¥å·è®°å½æ¥å¿",normalizedTitle:"yw-4-1.ä»£ç ä¸­ä½¿ç¨æ¥å¿å·¥å·è®°å½æ¥å¿",charIndex:13547},{level:4,title:"æä½ ä¸æï¼ä¼åæ¥å¿å¯¹è±¡åå»ºä»£ç ",slug:"æä½ ä¸æ-ä¼åæ¥å¿å¯¹è±¡åå»ºä»£ç ",normalizedTitle:"æä½ ä¸æï¼ä¼åæ¥å¿å¯¹è±¡åå»ºä»£ç ",charIndex:15010},{level:4,title:"YW-4-2.æ¥å¿è¾åºæ ¼å¼æ§å¶",slug:"yw-4-2-æ¥å¿è¾åºæ ¼å¼æ§å¶",normalizedTitle:"yw-4-2.æ¥å¿è¾åºæ ¼å¼æ§å¶",charIndex:15560},{level:4,title:"YW-4-3.æ¥å¿æä»¶",slug:"yw-4-3-æ¥å¿æä»¶",normalizedTitle:"yw-4-3.æ¥å¿æä»¶",charIndex:15915}],headersStr:"YW-1.SpringBootç¨åºçæåä¸è¿è¡ ç¨åºæå ç¨åºè¿è¡ SpringBootç¨åºæåå¤±è´¥å¤ç å½ä»¤è¡å¯å¨å¸¸è§é®é¢åè§£å³æ¹æ¡ SpringBooté¡¹ç®å¿«éå¯å¨ï¼Linuxçï¼ YW-2.éç½®é«çº§ YW-2-1.ä¸´æ¶å±æ§è®¾ç½® å±æ§å è½½ä¼åçº§ å¼åç¯å¢ä¸­ä½¿ç¨ä¸´æ¶å±æ§ YW-2-2.éç½®æä»¶åç±» YW-2-3.èªå®ä¹éç½®æä»¶ YW-3.å¤ç¯å¢å¼å YW-3-1.å¤ç¯å¢å¼åï¼yamlåä¸æä»¶çï¼ YW-3-2.å¤ç¯å¢å¼åï¼yamlå¤æä»¶çï¼ YW-3-3.å¤ç¯å¢å¼åï¼propertieså¤æä»¶çï¼ YW-3-4.å¤ç¯å¢å¼åç¬ç«éç½®æä»¶ä¹¦åæå·§ YW-3-5.å¤ç¯å¢å¼åæ§å¶ YW-4.æ¥å¿ YW-4-1.ä»£ç ä¸­ä½¿ç¨æ¥å¿å·¥å·è®°å½æ¥å¿ æä½ ä¸æï¼ä¼åæ¥å¿å¯¹è±¡åå»ºä»£ç  YW-4-2.æ¥å¿è¾åºæ ¼å¼æ§å¶ YW-4-3.æ¥å¿æä»¶",content:'# SpringBootè¿ç»´å®ç¨ç¯\n\n * SpringBootç¨åºçæåä¸è¿è¡\n * éç½®é«çº§\n * å¤ç¯å¢å¼å\n * æ¥å¿\n\nä¸é¢å¼å¯ç¬¬ä¸é¨åSpringBootç¨åºæåä¸è¿è¡çå­¦ä¹ \n\n\n# YW-1.SpringBootç¨åºçæåä¸è¿è¡\n\nåå¼å§åå¼åå­¦ä¹ çå°ä¼ä¼´å¯è½å¨æä¸ä¸ªç¥è¯ä¸é¢æéè¯¯çè®¤ç¥ï¼æä»¬å¤©å¤©åç¨åºæ¯å¨Ideaä¸åçï¼è¿è¡ä¹æ¯å¨Ideaä¸è¿è¡çã\n\nä½æ¯å®éå¼åå®æåï¼æä»¬çé¡¹ç®æ¯ä¸å¯è½è¿è¡å¨èªå·±ççµèä¸çã\n\næä»¬ä»¥åå¶ä½çç¨åºæ¯è¿è¡å¨ä¸ç¨çæå¡å¨ä¸çï¼ç®åè¯´å°±æ¯å°ä½ åçç¨åºæ¾å¨ä¸å°ç¬ç«è¿è¡ççµèä¸ï¼è¿å°çµèè¦æ¯ä½ å¼åä½¿ç¨çè®¡ç®æºæ´ä¸ä¸ï¼å¹¶ä¸å®å¨ç­çº§åä¸ªæ¹é¢è¦è¿è¶è¿ä½ ç°å¨ççµèã\n\né£æä»¬çç¨åºå¦ä½æ¾ç½®å¨è¿å°ä¸ç¨ççµèä¸å¢ï¼è¿å°±è¦å°æä»¬çç¨åºåç»ç»æä¸ä¸ªæä»¶ï¼ç¶åå°è¿ä¸ªæä»¶ä¼ è¾å°è¿å°æå¡å¨ä¸ãè¿éé¢å°±å­å¨ä¸¤ä¸ªè¿ç¨ï¼ä¸ä¸ªæ¯æåçè¿ç¨ï¼å¦ä¸ä¸ªæ¯è¿è¡çè¿ç¨ã\n\næ¸©é¦¨æç¤º\n\nä¼ä¸é¡¹ç®ä¸çº¿ä¸ºäºä¿éç¯å¢ééæ§ä¼éç¨ä¸é¢æµç¨åå¸é¡¹ç®ï¼è¿éä¸è®¨è®ºæ­¤è¿ç¨ã\n\n 1. å¼åé¨é¨ä½¿ç¨GitãSVNç­çæ¬æ§å¶å·¥å·ä¸ä¼ å·¥ç¨å°çæ¬æå¡å¨\n 2. æå¡å¨ä½¿ç¨çæ¬æ§å¶å·¥å·ä¸è½½å·¥ç¨\n 3. æå¡å¨ä¸ä½¿ç¨Mavenå·¥å·å¨å½åçæºç¯å¢ä¸éæ°æå»ºé¡¹ç®\n 4. å¯å¨æå¡\n\nç»§ç»­è¯´æä»¬çæååè¿è¡è¿ç¨ãæè°æåæå°ç¨åºè½¬æ¢æä¸ä¸ªå¯æ§è¡çæä»¶ï¼æè°è¿è¡æä¸ä¾èµå¼åç¯å¢æ§è¡æåäº§ççæä»¶ãä¸è¿°ä¸¤ä¸ªæä½é½æå¯¹åºçå½ä»¤å¯ä»¥å¿«éæ§è¡ã\n\n\n# ç¨åºæå\n\nSpringBootç¨åºæ¯åºäºMavenåå»ºçï¼å¨Mavenä¸­æä¾ææåçæä»¤ï¼å«åpackageãæ¬æä½å¯ä»¥å¨Ideaç¯å¢ä¸æ§è¡ã\n\nmvn package\n\n\næååä¼äº§çä¸ä¸ªä¸å·¥ç¨åç±»ä¼¼çjaræä»¶ï¼å¶åç§°æ¯ç±æ¨¡åå+çæ¬å·+.jarç»æçãæåçæ¶åå¯ä»¥æç§éæ±å¯ä»¥è·³è¿testé¶æ®µï¼mavenéé¢æè®²ï¼\n\n\n# ç¨åºè¿è¡\n\nç¨åºåæå¥½ä»¥åï¼å°±å¯ä»¥ç´æ¥æ§è¡äºãå¨ç¨åºåæå¨è·¯å¾ä¸ï¼æ§è¡æä»¤ã\n\njava -jar å·¥ç¨åå.jar\n\n\næ§è¡ç¨åºæåæä»¤åï¼ç¨åºæ­£å¸¸è¿è¡ï¼ä¸å¨Ideaä¸æ§è¡ç¨åºæ²¡æåºå«ã\n\nç¹å«å³æ³¨ï¼å¦æä½ çè®¡ç®æºä¸­æ²¡æå®è£javaçjdkç¯å¢ï¼æ¯æ æ³æ­£ç¡®æ§è¡ä¸è¿°æä½çï¼å ä¸ºç¨åºæ§è¡ä½¿ç¨çæ¯javaæä»¤ã\n\nç¹å«å³æ³¨ï¼å¨ä½¿ç¨åå¯¼åå»ºSpringBootå·¥ç¨æ¶ï¼pom.xmlæä»¶ä¸­ä¼æå¦ä¸éç½®ï¼è¿ä¸æ®µéç½®åä¸ä¸è½å é¤ï¼å¦åæååæ æ³æ­£å¸¸æ§è¡ç¨åºã\n\n<build>\n    <plugins>\n        <plugin>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-maven-plugin</artifactId>\n        </plugin>\n    </plugins>\n</build>\n\n\næ»ç»\n\n 1. SpringBootå·¥ç¨å¯ä»¥åºäºjavaç¯å¢ä¸ç¬ç«è¿è¡jaræä»¶å¯å¨æå¡\n 2. SpringBootå·¥ç¨æ§è¡mvnå½ä»¤packageè¿è¡æå\n 3. æ§è¡jarå½ä»¤ï¼java âjar å·¥ç¨å.jar\n\n\n# SpringBootç¨åºæåå¤±è´¥å¤ç\n\næäºå°ä¼ä¼´æåä»¥åæ§è¡ä¼åºç°ä¸äºé®é¢ï¼å¯¼è´ç¨åºæ æ³æ­£å¸¸æ§è¡ï¼ä¾å¦ä¸é¢çç°è±¡\n\nè¦æ³ææ¸æ¥è¿ä¸ªé®é¢å°±è¦è¯´è¯´.jaræä»¶çå·¥ä½æºå¶äºï¼ç¥éäºè¿ä¸ªä¸è¥¿å°±ç¥éå¦ä½é¿åæ­¤ç±»é®é¢çåçäºã\n\næjavaå¼åå¹³æ¶ä¼æ¥è§¦å¾å¤jaråï¼æ¯å¦mysqlçé©±å¨jaråï¼èä¸é¢æä»¬æåç¨åºåå¾å°çä¹æ¯ä¸ä¸ªjaræä»¶ãè¿ä¸ªæ¶åå¦æä½ ä½¿ç¨ä¸é¢çjava -jaræä»¤å»æ§è¡mysqlçé©±å¨jaråå°±ä¼åºç°ä¸è¿°ä¸å¯æ§è¡çç°è±¡ï¼èæä»¬çSpringBooté¡¹ç®ä¸ºä»ä¹è½æ§è¡å¢ï¼å¶å®æ¯å ä¸ºæåæ¹å¼ä¸ä¸æ ·ã\n\nå¨SpringBootå·¥ç¨çpom.xmlä¸­æä¸é¢è¿ç»éç½®ï¼è¿ç»éç½®å³å®äºæååºæ¥çç¨åºåæ¯å¦å¯ä»¥æ§è¡ã\n\n<build>\n    <plugins>\n        <plugin>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-maven-plugin</artifactId>\n        </plugin>\n    </plugins>\n</build>\n\n\næä»¬åå«å¼å¯è¿æ®µéç½®åæ³¨éæè¿æ®µéç½®åå«æ§è¡ä¸¤æ¬¡æåï¼ç¶åè§å¯ä¸¤æ¬¡æååçç¨åºåçå·®å«ï¼å±æ3å¤æ¯è¾ææ¾çç¹å¾\n\n * æååæä»¶çå¤§å°ä¸å\n * æååæåå«çåå®¹ä¸å\n * æåç¨åºä¸­ä¸ªå«æä»¶åå®¹ä¸å\n\nåçç¬¬ä¸ä¸ªç°è±¡ï¼æä»¶å¤§å°ä¸åãå¸¦æéç½®æ¶æåçæçç¨åºåå¤§å°å¦ä¸ï¼\n\nä¸é¾çåºï¼å¸¦æéç½®çç¨åºåä½ç§¯æ¯ä¸å¸¦éç½®çå¤§äº30åï¼é£è¿éé¢é½æä»ä¹å¢ï¼è½å·®è¿ä¹å¤ï¼ä¸é¢ççéé¢çåå®¹æä»ä¹åºå«ã\n\n\n\n**æä»¬åç°åå®¹ä¹å®å¨ä¸ä¸æ ·ï¼ä»æä¸ä¸ªç®å½æ¯ä¸æ ·çï¼å«åMETA-INFã**æå¼å®¹éå¤§çç¨åºåä¸­çBOOT-INFç®å½ä¸çclassesç®å½ï¼æä»¬åç°å¶ä¸­çåå®¹å±ç¶åå®¹éå°çç¨åºåä¸­çåå®¹å®å¨ä¸æ ·ã\n\n\n\nåæ¥å¤§çç¨åºåä¸­é¤äºåå«å°çç¨åºåä¸­çåå®¹ï¼è¿æå«çä¸è¥¿ãé½æä»ä¹å¢ï¼åå°BOOT-INFç®å½ä¸ï¼æå¼libç®å½ï¼éé¢æ¾ç¤ºäºå¾å¤ä¸ªjaræä»¶ã\n\n\n\nä»ç»ç¿»éä¸é¾åç°ï¼è¿äºjaræä»¶é½æ¯æä»¬å¶ä½è¿ä¸ªå·¥ç¨æ¶å¯¼å¥çåæ å¯¹åºçæä»¶ãå¤§æ¦å¯ä»¥æ³æç½äºï¼SpringBootç¨åºä¸ºäºè®©èªå·±æåçæçç¨åºå¯ä»¥ç¬ç«è¿è¡ï¼ä¸ä»å°é¡¹ç®ä¸­èªå·±å¼åçåå®¹è¿è¡äºæåï¼è¿æå½åå·¥ç¨è¿è¡éè¦ä½¿ç¨çjaråå¨é¨æåè¿æ¥äºãä¸ºä»ä¹è¿æ ·åå¢ï¼å°±æ¯ä¸ºäºå¯ä»¥ç¬ç«è¿è¡ãä¸ä¾èµç¨åºåå¤é¨çä»»ä½èµæºå¯ä»¥ç¬ç«è¿è¡å½åç¨åºãè¿ä¹æ¯ä¸ºä»ä¹å¤§çç¨åºåå®¹éæ¯å°çç¨åºåå®¹éç30åçä¸»è¦åå ã\n\nåççå¤§ç¨åºåè¿æä»ä¹ä¸åä¹å¤ï¼å¨æå¤å±ç®å½åå«ä¸ä¸ªorgç®å½ï¼è¿å¥æ­¤ç®å½ï¼ç®å½åæ¯org\\springframework\\boot\\loaderï¼å¨éé¢å¯ä»¥æ¾å°ä¸ä¸ªJarLauncher.classçæä»¶ï¼åè®°å¾è¿ä¸ªæä»¶ãåçè¿å¥ç®å½åï¼ææ¾æ¯ä¸ä¸ªSpringçç®å½åï¼ä¸ºä»ä¹è¦æSpringæ¡æ¶çä¸è¥¿æåå°è¿ä¸ªç¨åºåä¸­å¢ï¼ä¸æ¸æ¥ã\n\nåå°ä¸¤ä¸ªç¨åºåçæå¤å±ç®å½ï¼æ¥çåç§°ç¸åçæä»¶å¤¹META-INFä¸é½æä¸ä¸ªå«åMANIFEST.MFçæä»¶ï¼ä½æ¯å¤§å°ä¸åï¼æå¼æä»¶ï¼æ¯è¾åå®¹åºå«\n\n * å°å®¹éæä»¶çMANIFEST.MF\n   \n   Manifest-Version: 1.0\n   Implementation-Title: springboot_08_ssmp\n   Implementation-Version: 0.0.1-SNAPSHOT\n   Build-Jdk-Spec: 1.8\n   Created-By: Maven Jar Plugin 3.2.0\n   \n\n * å¤§å®¹éæä»¶çMANIFEST.MF\n   \n   Manifest-Version: 1.0\n   Spring-Boot-Classpath-Index: BOOT-INF/classpath.idx\n   Implementation-Title: springboot_08_ssmp\n   Implementation-Version: 0.0.1-SNAPSHOT\n   Spring-Boot-Layers-Index: BOOT-INF/layers.idx\n   Start-Class: com.itheima.SSMPApplication\n   Spring-Boot-Classes: BOOT-INF/classes/\n   Spring-Boot-Lib: BOOT-INF/lib/\n   Build-Jdk-Spec: 1.8\n   Spring-Boot-Version: 2.5.4\n   Created-By: Maven Jar Plugin 3.2.0\n   Main-Class: org.springframework.boot.loader.JarLauncher\n   \n\nå¤§æä»¶ä¸­ææ¾æ¯å°æä»¶ä¸­å¤äºå è¡ä¿¡æ¯ï¼å¶ä¸­æåä¸è¡ä¿¡æ¯æ¯Main-Class: org.springframework.boot.loader.JarLauncherãè¿å¥è¯ä»ä¹ææå¢ï¼å¦æä½¿ç¨java -jaræ§è¡æ­¤ç¨åºåï¼å°æ§è¡Main-Classå±æ§éç½®çç±»ï¼è¿ä¸ªç±»æ°å·§å°±æ¯åé¢çå°çé£ä¸ªæä»¶ãåæ¥SpringBootæåç¨åºä¸­åºç°Springæ¡æ¶çä¸è¥¿æ¯ä¸ºè¿éæå¡çãèè¿ä¸ªorg.springframework.boot.loader.JarLauncherç±»åé¨è¦æ¥æ¾Start-Classå±æ§ä¸­éç½®çç±»ï¼å¹¶æ§è¡å¯¹åºçç±»ãè¿ä¸ªå±æ§å¨å½åéç½®ä¸­ä¹å­å¨ï¼å¯¹åºçå°±æ¯æä»¬çå¼å¯¼ç±»ç±»åã\n\nç°å¨è¿ç»è®¾å®çä½ç¨å°±ææ¸æ¥äº\n\n 1. SpringBootç¨åºæ·»å éç½®åä¼æåºä¸ä¸ªç¹æ®çåï¼åå«Springæ¡æ¶é¨ååè½ï¼åå§å·¥ç¨åå®¹ï¼åå§å·¥ç¨ä¾èµçjarå\n 2. é¦åè¯»åMANIFEST.MFæä»¶ä¸­çMain-Classå±æ§ï¼ç¨æ¥æ è®°æ§è¡java -jarå½ä»¤åè¿è¡çç±»\n 3. JarLauncherç±»æ§è¡æ¶ä¼æ¾å°Start-Classå±æ§ï¼ä¹å°±æ¯å¯å¨ç±»ç±»å\n 4. è¿è¡å¯å¨ç±»æ¶ä¼è¿è¡å½åå·¥ç¨çåå®¹\n 5. è¿è¡å½åå·¥ç¨æ¶ä¼ä½¿ç¨ä¾èµçjaråï¼ä»libç®å½ä¸­æ¥æ¾\n\nçæ¥SpringBootæåºæ¥äºåä¸ºäºè½å¤ç¬ç«è¿è¡ï¼ç®ç´æ¯çè´¹è¦å¿ï¼å°ææéè¦ä½¿ç¨çèµæºå¨é¨é½æ·»å å°äºè¿ä¸ªåéãè¿å°±æ¯ä¸ºä»ä¹è¿ä¸ªjaråè½ç¬ç«è¿è¡çåå ã\n\nåæ¥çä¹åçæ¥éä¿¡æ¯ï¼\n\nç±äºæåæ¶æ²¡æä½¿ç¨é£æ®µéç½®ï¼ç»ææååå½¢æäºä¸ä¸ªæ®éçjaråï¼å¨MANIFEST.MFæä»¶ä¸­ä¹å°±æ²¡æäºMain-Classå¯¹åºçå±æ§äºï¼æä»¥è¿è¡æ¶æç¤ºæ¾ä¸å°ä¸»æ¸åå±æ§ï¼è¿å°±æ¯æ¥éçåå ã\n\nä¸è¿°åå®¹ææ¸æ¥å¯¹æä»¬ç¼ç¨æä¹å¹¶ä¸å¤§ï¼ä½æ¯å¯¹åä½å°ä¼ä¼´çæ¸æ¥SpringBootå·¥ç¨ç¬ç«è¿è¡çæºå¶æ¯æå¸®å©çãå¶å®æ´ä½è¿ç¨ä¸»è¦æ¯å¸¦çå¤§å®¶åæï¼å¦æä»¥åéå°äºç±»ä¼¼çé®é¢ï¼å¤ç»èªå·±æé®ï¼å¤é®ä¸ä¸ªä¸ºä»ä¹ï¼å´è¶£èªå·±å°±å¯ä»¥ç¬ç«è§£å³é®é¢äºã\n\næ»ç»\n\n 1. spring-boot-maven-pluginæä»¶ç¨äºå°å½åç¨åºæåæä¸ä¸ªå¯ä»¥ç¬ç«è¿è¡çç¨åºå\n\n\n# å½ä»¤è¡å¯å¨å¸¸è§é®é¢åè§£å³æ¹æ¡\n\nåä½å°ä¼ä¼´å¨DOSç¯å¢ä¸å¯å¨SpringBootå·¥ç¨æ¶ï¼å¯è½ä¼éå°ç«¯å£å ç¨çé®é¢ãç»å¤§å®¶ä¸ç»å½ä»¤ï¼ä¸ç¨æ·±å¥å­¦ä¹ ï¼å¤ç¨å§ã\n\n# æ¥è¯¢ç«¯å£\nnetstat -ano\n# æ¥è¯¢æå®ç«¯å£\nnetstat -ano |findstr "ç«¯å£å·"\n# æ ¹æ®è¿ç¨PIDæ¥è¯¢è¿ç¨åç§°\ntasklist |findstr "è¿ç¨PIDå·"\n# æ ¹æ®PIDææ­»ä»»å¡\ntaskkill /F /PID "è¿ç¨PIDå·"\n# æ ¹æ®è¿ç¨åç§°ææ­»ä»»å¡\ntaskkill -f -t -im "è¿ç¨åç§°"\n\n\nå³äºæåä¸è¿è¡ç¨åºå¶å®è¿æä¸ç³»åçéç½®ååæ°ï¼ä¸é¢çåå®¹ä¸­éå°åè¯´ï¼è¿éåå¼ä¸ªå¤´ï¼ç¥éå¦ä½æååè¿è¡ç¨åºã\n\n\n# SpringBooté¡¹ç®å¿«éå¯å¨ï¼Linuxçï¼\n\nå¶å®å¯¹äºLinuxç³»ç»ä¸çç¨åºè¿è¡ä¸Windowsç³»ç»ä¸çç¨åºè¿è¡å·®å«ä¸å¤§ï¼å½ä»¤è¿æ¯é£ç»å½ä»¤ï¼åªä¸è¿åä½å°ä¼ä¼´å¯è½å¯¹Linuxæä»¤ä¸å¤ªçæï¼ç»æå°±ä¼å¯¼è´åç§åæ ·çé®é¢åçãæ¯å¦é²ç«å¢å¦ä½å³é­ï¼IPå°åå¦ä½æ¥è¯¢ï¼JDKå¦ä½å®è£ç­ç­ãè¿éä¸ä½ä¸ºéç¹åå®¹ç»å¤§å®¶æ®åäºï¼äºè§£ä¸ä¸æ´ä½è¿ç¨å°±è¡äºã\n\n\n\n\n# YW-2.éç½®é«çº§\n\nå³äºéç½®å¨åºç¡ç¯è®²è¿ä¸é¨åï¼åºç¡ç¯çéç½®æ»ä½ä¸æ¥è¯´å°±æ¯è®©åä½å°ä¼ä¼´ææ¡éç½®çæ ¼å¼ãæ¯å¦éç½®æä»¶å¦ä½ååï¼åå¥½çæ°æ®å¦ä½è¯»ååï¼é½æ¯åºç¡çè¯­æ³çº§ç¥è¯ãå¨å®ç¨ç¯ä¸­å°±è¦éä¸­å¨éç½®çåºç¨è¿ä¸ªæ¹é¢äºï¼ä¸é¢å°±å¼å§éç½®é«çº§ç¸å³åå®¹çç¬¬ä¸é¨åå­¦ä¹ ï¼ä¸ºä»ä¹è¯´ç¬¬ä¸é¨åï¼å ä¸ºå¨å¼åå®ç¨ç¯ä¸­è¿æå¯¹åºçéç½®é«çº§ç¥è¯è¦è¿è¡å­¦ä¹ ã\n\n\n# YW-2-1.ä¸´æ¶å±æ§è®¾ç½®\n\nç®åæä»¬çç¨åºåæå¥½äºï¼å¯ä»¥åå¸äºãä½æ¯ç¨åºåæå¥½ä»¥åï¼éé¢çéç½®é½å·²ç»æ¯åºå®çäºï¼æ¯å¦éç½®äºæå¡å¨çç«¯å£æ¯8080ãå¦ææè¦å¯å¨é¡¹ç®ï¼åç°å½åæçæå¡å¨ä¸å·²ç»æåºç¨å¯å¨èµ·æ¥å¹¶ä¸å ç¨äº8080ç«¯å£ï¼è¿ä¸ªæ¶åå°±å°´å°¬äºãé¾éè¦éæ°ææåå¥½çç¨åºä¿®æ¹ä¸ä¸åï¼æ¯å¦æè¦ææåå¥½çç¨åºå¯å¨ç«¯å£æ¹æ80ã\n\n\n\nSpringBootæä¾äºçµæ´»çéç½®æ¹å¼ï¼å¦æä½ åç°ä½ çé¡¹ç®ä¸­æä¸ªå«å±æ§éè¦éæ°éç½®ï¼å¯ä»¥ä½¿ç¨ä¸´æ¶å±æ§çæ¹å¼å¿«éä¿®æ¹æäºéç½®ãæ¹æ³ä¹ç¹å«ç®åï¼å¨å¯å¨çæ¶åæ·»å ä¸å¯¹åºåæ°å°±å¯ä»¥äºã\n\njava âjar springboot.jar â-server.port=80\n\n\nä¸é¢çå½ä»¤æ¯å¯å¨SpringBootç¨åºåçå½ä»¤ï¼å¨å½ä»¤è¾å¥å®æ¯åï¼ç©ºä¸æ ¼ï¼ç¶åè¾å¥ä¸¤ä¸ª-å·ãä¸é¢æç§å±æ§å=å±æ§å¼çå½¢å¼æ·»å å¯¹åºåæ°å°±å¯ä»¥äºãè®°å¾ï¼è¿éçæ ¼å¼ä¸æ¯yamlä¸­çä¹¦åæ ¼å¼ï¼å½å±æ§å­å¨å¤çº§åç§°æ¶ï¼ä¸­é´ä½¿ç¨ç¹åéï¼åpropertiesæä»¶ä¸­çå±æ§æ ¼å¼å®å¨ç¸åã\n\nå¦æä½ åç°è¦ä¿®æ¹çå±æ§ä¸æ­¢ä¸ä¸ªï¼å¯ä»¥æç§ä¸è¿°æ ¼å¼ç»§ç»­åï¼å±æ§ä¸å±æ§ä¹é´ä½¿ç¨ç©ºæ ¼åéã\n\njava âjar springboot.jar â-server.port=80 --logging.level.root=debug\n\n\n# å±æ§å è½½ä¼åçº§\n\nç°å¨æä»¬çç¨åºéç½®åä¸¤ä¸ªå°æ¹æ§å¶äºï¼ç¬¬ä¸éç½®æä»¶ï¼ç¬¬äºä¸´æ¶å±æ§ãå¹¶ä¸æä»¬åç°ä¸´æ¶å±æ§çå è½½ä¼åçº§è¦é«äºéç½®æä»¶çãé£æ¯å¦è¿æå¶ä»çéç½®æ¹å¼å¢ï¼å¶å®æ¯æçï¼èä¸è¿ä¸å°ï¼æå¼å®æ¹ææ¡£ä¸­å¯¹åºçåå®¹ï¼å°±å¯ä»¥æ¥çéç½®è¯»åçä¼åé¡ºåºï¼ä»ä¸å°ä¸ä¼åçº§è¶æ¥è¶é«ï¼ãå°åå¥ä¸ï¼https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config\n\næä»¬å¯ä»¥çå°ï¼å±ç¶æ14ç§éç½®çä½ç½®ï¼èæä»¬ç°å¨ä½¿ç¨çæ¯è¿éé¢ç2ä¸ªãç¬¬3æ¡Config dataè¯´çå°±æ¯ä½¿ç¨éç½®æä»¶ï¼ç¬¬11æ¡Command line argumentsè¯´çå°±æ¯ä½¿ç¨å½ä»¤è¡ä¸´æ¶åæ°ãèè¿14ç§éç½®çé¡ºåºå°±æ¯SpringBootå è½½éç½®çé¡ºåºï¼è¨å¤ä¹æï¼å½ä»¤è¡ä¸´æ¶å±æ§æ¯éç½®æä»¶çå è½½ä¼åçº§é«ï¼æä»¥è¿ä¸ªåè¡¨ä¸é¢çä¼åçº§ä½ï¼ä¸é¢çä¼åçº§é«ãå¶å®è¿ä¸ªä¸è¥¿ä¸ç¨èçï¼ä½ å°±è®°å¾ä¸ç¹ï¼ä½ æç»è¦ä»ä¹ææï¼ä½ èªå·±æ¯ç¥éçï¼ä¸ç®¡è¿ä¸ªé¡ºåºæ¯æä¹ä¸ªé«ä½æåºï¼å¼åæ¶ä¸å®è¦éç½®æä½ è¦çé¡ºåºä¸ºåãè¿ä¸ªé¡ºåºåªæ¯å¨ä½ æ³ä¸æç½é®é¢çæ¶åå¸®å©ä½ åæç½¢äºã\n\næ¯å¦ä½ ç°å¨å è½½äºä¸ä¸ªuser.nameå±æ§ãç»æä½ åç°åºæ¥çç»æåä½ æ³çä¸ä¸æ ·ï¼é£è¯å®æ¯å«çä¼åçº§æ¯ä½ é«çå±æ§è¦çä½ çéç½®å±æ§äºï¼é£ä½ å°±å¯ä»¥ççè¿ä¸ªé¡ºåºæ¨ä¸ªææ¥ãåªä¸ªä½ç½®æå¯è½è¦çäºä½ çå±æ§ã\n\næå¨è¯¾ç¨è¯è®ºåºçå°å°ä¼ä¼´å­¦ä¹ åºç¡ç¯çæ¶åé®è¿ä¸ªé®é¢äºï¼å°±æ¯è¿ä¸ªåå é æçãå¨yamlä¸­éç½®äºuser.nameå±æ§å¼ï¼ç¶åè¯»ååºæ¥çæ¶åå±ç¶ä¸æ¯èªå·±çéç½®å¼ï¼å ä¸ºå¨ç³»ç»å±æ§ä¸­æä¸ä¸ªå±æ§å«åuser.nameï¼ä¸¤ä¸ªç¸äºå²çªäºãèç³»ç»å±æ§çå è½½ä¼åé¡ºåºå¨ä¸é¢è¿ä¸ªåè¡¨ä¸­æ¯5å·ï¼é«äº3å·ï¼æä»¥SpringBootæç»ä¼å è½½ç³»ç»éç½®å±æ§user.nameã\n\næ»ç»\n\n 1. ä½¿ç¨jarå½ä»¤å¯å¨SpringBootå·¥ç¨æ¶å¯ä»¥ä½¿ç¨ä¸´æ¶å±æ§æ¿æ¢éç½®æä»¶ä¸­çå±æ§\n 2. ä¸´æ¶å±æ§æ·»å æ¹å¼ï¼java âjar å·¥ç¨å.jar â-å±æ§å=å¼\n 3. å¤ä¸ªä¸´æ¶å±æ§ä¹é´ä½¿ç¨ç©ºæ ¼åé\n 4. ä¸´æ¶å±æ§å¿é¡»æ¯å½åbootå·¥ç¨æ¯æçå±æ§ï¼å¦åè®¾ç½®æ æ\n\n# å¼åç¯å¢ä¸­ä½¿ç¨ä¸´æ¶å±æ§\n\nä¸´æ¶ä½¿ç¨ç®åæ¯æäºï¼ä½æ¯ä¸çº¿çæ¶åéè¿å½ä»¤è¡è¾å¥çä¸´æ¶å±æ§å¿é¡»æ¯æ­£ç¡®çåï¼é£è¿äºå±æ§éç½®å¼æä»¬å¿é¡»å¨å¼åç¯å¢ä¸­æµè¯å¥½æè¡ãä¸é¢è¯´ä¸ä¸å¼åç¯å¢ä¸­å¦ä½ä½¿ç¨ä¸´æ¶å±æ§ï¼å¶å®å°±æ¯Ideaçé¢ä¸å¦ä½æä½äºã\n\næå¼SpringBootå¼å¯¼ç±»çè¿è¡çé¢Run/Debug Configurationsï¼å¨éé¢æ¾å°éç½®é¡¹ãå¶ä¸­Program argumentså¯¹åºçä½ç½®å°±æ¯æ·»å ä¸´æ¶å±æ§çï¼å¯ä»¥å å ä¸ªè¯è¯ææã\n\nåå°è¿éå¶å®å¯ä»¥äº§çä¸ä¸ªæèäºï¼å¦æå¯¹javaç¼ç¨çæçå°ä¼ä¼´åºè¯¥ç¥éï¼æä»¬è¿è¡mainæ¹æ³çæ¶åï¼å¦ææ³ä½¿ç¨mainæ¹æ³çåæ°ï¼ä¹å°±æ¯ä¸é¢çargsåæ°ï¼å°±æ¯å¨ä¸é¢è¿ä¸ªä½ç½®æ·»å çåæ°ã\n\npublic static void main(String[] args) {\n}\n\n\nåæ¥æ¯è¿æ ·ï¼éè¿è¿ä¸ªargså°±å¯ä»¥è·åå°åæ°ãåæ¥çæä»¬çå¼å¯¼ç±»æ¯å¦ä½ä¹¦åç\n\npublic static void main(String[] args) {\n    SpringApplication.run(SSMPApplication.class,args);\n}\n\n\nè¿ä¸ªargsåæ°å±ç¶ä¼ éç»äºrunæ¹æ³ï¼çæ¥å¨Ideaä¸­éç½®çä¸´æ¶åæ°å°±æ¯éè¿è¿ä¸ªä½ç½®ä¼ éå°æä»¬çç¨åºä¸­çãè¨å¤ä¹æï¼è¿éå¦æä¸ç¨è¿ä¸ªargsæ¯ä¸æ¯å°±æ­å¼äºå¤é¨ä¼ éä¸´æ¶å±æ§çå¥å£å¢ï¼æ¯è¿æ ·çï¼æä»¬å¯ä»¥ä½¿ç¨ä¸é¢çè°ç¨æ¹å¼ï¼è¿æ ·å¤é¨ä¸´æ¶å±æ§å°±æ æ³è¿å¥å°SpringBootç¨åºä¸­äºã\n\npublic static void main(String[] args) {\n    SpringApplication.run(SSMPApplication.class);\n}\n\n\næèè¿å¯ä»¥ä½¿ç¨å¦ä¸æ ¼å¼æ¥ç©è¿ä¸ªæä½ï¼å°±æ¯å°éç½®ä¸åå¨éç½®æä»¶ä¸­ï¼ç´æ¥åæä¸ä¸ªå­ç¬¦ä¸²æ°ç»ï¼ä¼ éç»ç¨åºå¥å£ãå½ç¶ï¼è¿ç§åæ³å¹¶æ²¡æä»ä¹å®éå¼åæä¹ã\n\npublic static void main(String[] args) {\n    String[] arg = new String[1];\n    arg[0] = "--server.port=8082";\n    SpringApplication.run(SSMPApplication.class, arg);\n}\n\n\næ»ç»\n\n 1. å¯å¨SpringBootç¨åºæ¶ï¼å¯ä»¥éæ©æ¯å¦ä½¿ç¨å½ä»¤è¡å±æ§ä¸ºSpringBootç¨åºä¼ éå¯å¨å±æ§\n\næè\n\nç°å¨ä½¿ç¨ä¸´æ¶å±æ§å¯ä»¥å¨å¯å¨é¡¹ç®åä¸´æ¶æ´æ¹éç½®äºï¼ä½æ¯æ°çé®é¢ååºæ¥äºãä¸´æ¶å±æ§å¥½ç¨æ¯å¥½ç¨ï¼å°±æ¯åçå¤äºä¼å¾éº»ç¦ãæ¯å¦æç°å¨æä¸ªéæ±ï¼ä¸çº¿çæ¶åä½¿ç¨ä¸´æ¶å±æ§éç½®20ä¸ªå¼ï¼è¿ä¸å¯éº»ç¦äºï¼è½ä¸è½æå¾ç®åç¹ï¼éä¸­ç®¡çä¸ä¸å¢ï¼æ¯å¦è¯´æä¸ªæä»¶ï¼å è½½æå®æä»¶ï¼è¿çå¯ä»¥ãæä¹åå¢ï¼å±ä»¬ä¸ä¸èåè¯´ã\n\n\n# YW-2-2.éç½®æä»¶åç±»\n\nSpringBootæä¾äºéç½®æä»¶åä¸´æ¶å±æ§çæ¹å¼æ¥å¯¹ç¨åºè¿è¡éç½®ãåé¢ä¸ç´è¯´çæ¯ä¸´æ¶å±æ§ï¼è¿ä¸èè¦è¯´è¯´éç½®æä»¶äºãå¶å®è¿ä¸ªéç½®æä»¶æä»¬ä¸ç´å¨ä½¿ç¨ï¼åªä¸è¿æä»¬ç¨çæ¯SpringBootæä¾ç4çº§éç½®æä»¶ä¸­çå¶ä¸­ä¸ä¸ªçº§å«ã4ä¸ªçº§å«åå«æ¯ï¼\n\n * ç±»è·¯å¾ä¸éç½®æä»¶ï¼ä¸ç´ä½¿ç¨çæ¯è¿ä¸ªï¼ä¹å°±æ¯resourcesç®å½ä¸­çapplication.ymlæä»¶ï¼\n * ç±»è·¯å¾ä¸configç®å½ä¸éç½®æä»¶\n * ç¨åºåæå¨ç®å½ä¸­éç½®æä»¶\n * ç¨åºåæå¨ç®å½ä¸­configç®å½ä¸éç½®æä»¶\n\nå¥½å¤æï¼ä¸ä¸ªä¸ä¸ªè¯´ãå¶å®ä¸è¿°4ç§æä»¶æ¯æä¾ç»ä½ äº4ç§éç½®æä»¶ä¹¦åçä½ç½®ï¼åè½é½æ¯ä¸æ ·çï¼é½æ¯åéç½®çãé£å¤§å®¶å³å¿çå°±æ¯å·®å«äºï¼æ²¡éï¼å°±æ¯å ä¸ºä½ç½®ä¸åï¼äº§çäºå·®å¼ãæ»ä½ä¸æ¥è¯´ï¼4ç§éç½®æä»¶å¦æé½å­å¨çè¯ï¼æä¸ä¸ªä¼åçº§çé®é¢ï¼è¯´ç½äºå°±æ¯å å¥4ä¸ªæä»¶æé½æï¼éé¢é½æä¸æ ·çéç½®ï¼è°çæçé®é¢ãä¸é¢4ä¸ªæä»¶çå è½½ä¼åé¡ºåºä¸º\n\n 1. file ï¼config/application.yml ãæé«ã\n 2. file ï¼application.yml\n 3. classpathï¼config/application.yml\n 4. classpathï¼application.yml ãæä½ã\n\né£ä¸ºä»ä¹è®¾è®¡è¿ç§å¤ç§å¢ï¼è¯´ä¸ä¸ªæå¸åçåºç¨å§ã\n\n * åºæ¯Aï¼ä½ ä½ä¸ºä¸ä¸ªå¼åèï¼ä½ åç¨åºçæ¶åä¸ºäºæ¹ä¾¿èªå·±åä»£ç ï¼éç½®çæ°æ®åºè¯å®æ¯è¿æ¥ä½ èªå·±æ¬æºçï¼å±ä»¬ä½¿ç¨4è¿ä¸ªçº§å«ï¼ä¹å°±æ¯ä¹åä¸ç´ç¨çapplication.ymlã\n * åºæ¯Bï¼ç°å¨é¡¹ç®å¼åå°äºä¸ä¸ªé¶æ®µï¼è¦èè°æµè¯äºï¼è¿æ¥çæ°æ®åºæ¯æµè¯æå¡å¨çæ°æ®åºï¼è¯å®è¦æ¢ä¸ç»éç½®å§ãä½ å¯ä»¥éæ©æä½ ä¹åçæä»¶ä¸­çåå®¹é½æ¹äºï¼ç®åè¿ä¸éº»ç¦ã\n * åºæ¯Cï¼æµè¯å®äºï¼ä¸åOKãä½ ç»§ç»­åä½ çä»£ç ï¼ä½ åç°ä½ åæ¥åçéç½®æä»¶è¢«æ¹ææµè¯æå¡å¨çåå®¹äºï¼ä½ è¦åæ¹åæ¥ãç°å¨æç½äºä¸ï¼åºæ¯Bä¸­æä½ çåå®¹é½æ¹æäºï¼ä½ ç°å¨è¦éæ°æ¹åæ¥ï¼ä»¥åå¢ï¼æ¹æ¥æ¹å»åï¼\n\nè§£å³æ¹æ¡å¾ç®åï¼ç¨ä¸é¢ç3è¿ä¸ªçº§å«çéç½®æä»¶å°±å¯ä»¥å¿«éè§£å³è¿ä¸ªé®é¢ï¼ååä¸ä¸ªéç½®å°±è¡äºãä¸¤ä¸ªéç½®æä»¶å±å­ï¼å ä¸ºconfigç®å½ä¸­çéç½®å è½½ä¼åçº§æ¯ä½ çé«ï¼æä»¥éç½®é¡¹å¦æåçº§å«4éé¢çåå®¹ç¸åå°±è¦çäºï¼è¿æ ·æ¯ä¸æ¯å¾ç®åï¼\n\nçº§å«1å2ä»ä¹æ¶åä½¿ç¨å¢ï¼ç¨åºæåä»¥åå°±è¦ç¨è¿ä¸ªçº§å«äºï¼ç®¡ä½ ç¨åºéé¢éç½®åçæ¯ä»ä¹ï¼æççº§å«é«ï¼å¯ä»¥è½»æ¾è¦çä½ ï¼å°±ä¸ç¨èèè¿äºéç½®å²çªçé®é¢äºã\n\n\n\næ»ç»\n\n 1. éç½®æä»¶åä¸º4ç§\n    \n    * é¡¹ç®ç±»è·¯å¾éç½®æä»¶ï¼æå¡äºå¼åäººåæ¬æºå¼åä¸æµè¯**ï¼æä½ï¼**\n    * é¡¹ç®ç±»è·¯å¾configç®å½ä¸­éç½®æä»¶ï¼æå¡äºé¡¹ç®ç»çæ´ä½è°æ§\n    * å·¥ç¨è·¯å¾éç½®æä»¶ï¼æå¡äºè¿ç»´äººåéç½®æ¶å¯çº¿ä¸ç¯å¢\n    * å·¥ç¨è·¯å¾configç®å½ä¸­éç½®æä»¶ï¼æå¡äºè¿ç»´ç»çæ´ä½è°æ§**ï¼æé«ï¼**\n\n 2. å¤å±çº§éç½®æä»¶é´çå±æ§éç¨å å å¹¶è¦ççå½¢å¼ä½ç¨äºç¨åº\n\n\n# YW-2-3.èªå®ä¹éç½®æä»¶\n\nä¹åå±ä»¬åéç½®ä½¿ç¨çéç½®æä»¶é½æ¯application.ymlï¼å¶å®è¿ä¸ªæä»¶ä¹æ¯å¯ä»¥æ¹åå­çï¼è¿æ ·æ¹ä¾¿ç»´æ¤ãæ¯å¦æ2020å¹´4æ1æ¥ææ´»å¨ï¼èµ°äºä¸ç»éç½®ï¼2020å¹´5æ1æ¥æ´»å¨åæ¶ï¼æ¢å¤åå§éç½®ï¼è¿ä¸ªæ¶ååªéè¦éæ°æ´æ¢ä¸ä¸éç½®æä»¶å°±å¯ä»¥äºãä½æ¯ä½ æ»ä¸è½å¨åå§éç½®æä»¶ä¸ä¿®æ¹å§ï¼ä¸ç¶æå®æ´»å¨ä»¥åï¼æ´»å¨çéç½®å°±çä¸ä¸æ¥äºï¼ä¸å©äºç»´æ¤ã\n\nèªå®ä¹éç½®æä»¶æ¹å¼æå¦ä¸ä¸¤ç§ï¼\n\næ¹å¼ä¸ï¼ä½¿ç¨ä¸´æ¶å±æ§è®¾ç½®éç½®æä»¶åï¼æ³¨æä»ä»æ¯åç§°ï¼ä¸è¦å¸¦æ©å±å\n\næ¹å¼äºï¼ä½¿ç¨ä¸´æ¶å±æ§è®¾ç½®éç½®æä»¶è·¯å¾ï¼è¿ä¸ªæ¯å¨è·¯å¾å\n\nä¹å¯ä»¥è®¾ç½®å è½½å¤ä¸ªéç½®æä»¶ï¼** æåä¸ä¸ªæä»¶ä¼ä½¿åé¢çå¤±æ**ï¼\n\nä½¿ç¨çå±æ§ä¸ä¸ªæ¯spring.config.nameï¼å¦ä¸ä¸ªæ¯spring.config.locationï¼è¿ä¸ªä¸å®è¦åºå«æ¸æ¥ã\n\n\n\næ¸©é¦¨æç¤º\n\næä»¬ç°å¨ç ç©¶çé½æ¯SpringBootåä½é¡¹ç®ï¼å°±æ¯åæå¡å¨çæ¬ãå¶å®ä¼ä¸å¼åç°å¨æ´å¤çæ¯ä½¿ç¨åºäºSpringCloudææ¯çå¤æå¡å¨é¡¹ç®ãè¿ç§éç½®æ¹å¼åæä»¬ç°å¨å­¦ä¹ çå®å¨ä¸ä¸æ ·ï¼ææçæå¡å¨å°ä¸åè®¾ç½®èªå·±çéç½®æä»¶ï¼èæ¯éè¿éç½®ä¸­å¿è·åéç½®ï¼å¨æå è½½éç½®ä¿¡æ¯ãä¸ºä»ä¹è¿æ ·åï¼éä¸­ç®¡çãè¿éä¸åè¯´è¿äºäºï¼åé¢åè®²è¿äºä¸è¥¿ã\n\næ»ç»\n\n 1. éç½®æä»¶å¯ä»¥ä¿®æ¹åç§°ï¼éè¿å¯å¨åæ°è®¾å®\n 2. éç½®æä»¶å¯ä»¥ä¿®æ¹è·¯å¾ï¼éè¿å¯å¨åæ°è®¾å®\n 3. å¾®æå¡å¼åä¸­éç½®æä»¶éè¿éç½®ä¸­å¿è¿è¡è®¾ç½®\n\n\n\n\n# YW-3.å¤ç¯å¢å¼å\n\nè®²çåå®¹è·ç¦»çº¿ä¸å¼åè¶æ¥è¶è¿äºï¼ä¸é¢è¯´ä¸è¯´å¤ç¯å¢å¼åé®é¢ã\n\nä»ä¹æ¯å¤ç¯å¢ï¼å¶å®å°±æ¯è¯´ä½ ççµèä¸åçç¨åºæç»è¦æ¾å°å«äººçæå¡å¨ä¸å»è¿è¡ãæ¯ä¸ªè®¡ç®æºç¯å¢ä¸ä¸æ ·ï¼è¿å°±æ¯å¤ç¯å¢ãå¸¸è§çå¤ç¯å¢å¼åä¸»è¦å¼é¡¾3ç§ç¯å¢è®¾ç½®ï¼å¼åç¯å¢ââèªå·±ç¨çï¼æµè¯ç¯å¢ââèªå·±å¬å¸ç¨çï¼çäº§ç¯å¢ââç²æ¹ç¸ç¸ç¨çãå ä¸ºè¿æ¯ç»å¯¹ä¸åçä¸å°çµèï¼æä»¥ç¯å¢è¯å®ææä¸åï¼æ¯å¦è¿æ¥çæ°æ®åºä¸ä¸æ ·ï¼è®¾ç½®çè®¿é®ç«¯å£ä¸ä¸æ ·ç­ç­ã\n\n\n# YW-3-1.å¤ç¯å¢å¼åï¼yamlåä¸æä»¶çï¼\n\né£ä»ä¹æ¯å¤ç¯å¢å¼åï¼å°±æ¯éå¯¹ä¸åçç¯å¢è®¾ç½®ä¸åçéç½®å±æ§å³å¯ãæ¯å¦ä½ èªå·±å¼åæ¶ï¼éç½®ä½ çç«¯å£å¦ä¸ï¼\n\nserver:\n  port: 80\n\n\nå¦ä½æ³è®¾è®¡ä¸¤ç»ç¯å¢å¢ï¼ä¸­é´ä½¿ç¨ä¸ä¸ªåå·åéå¼\n\nserver:\n  port: 80\n---\nserver:\n  port: 81\n\n\nå¦ä½åºåä¸¤ç§ç¯å¢å¢ï¼èµ·åå­å\n\nspring:\n\tprofiles: pro\nserver:\n\tport: 80\n---\nspring:\n\tprofiles: dev\nserver:\n\tport: 81\n\n\né£ç¨åªä¸ä¸ªå¢ï¼è®¾ç½®é»è®¤å¯å¨åªä¸ªå°±å¯ä»¥äº\n\nspring:\n\tprofiles:\n\t\tactive: pro\t\t# é»è®¤å¯å¨pro\n---\nspring:\n\tprofiles: pro\nserver:\n\tport: 80\n---\nspring:\n\tprofiles: dev\nserver:\n\tport: 81\n\n\nå°±è¿ä¹ç®åï¼åå¤æ¥ä¸ç»ç¯å¢ä¹OK\n\nspring:\n\tprofiles:\n\t\tactive: pro\t\t# é»è®¤å¯å¨pro\n---\nspring:\n\tprofiles: pro\nserver:\n\tport: 80\n---\nspring:\n\tprofiles: dev\nserver:\n\tport: 81\n---\nspring:\n\tprofiles: test\nserver:\n\tport: 82\n\n\nå¶ä¸­å³äºç¯å¢åç§°å®ä¹ä¸è¿°æ ¼å¼æ¯è¿æ¶æ ¼å¼ï¼æ åæ ¼å¼å¦ä¸\n\nspring:\n\tconfig:\n    \tactivate:\n        \ton-profile: pro\n\n\næ»ç»\n\n 1. å¤ç¯å¢å¼åéè¦è®¾ç½®è¥å¹²ç§å¸¸ç¨ç¯å¢ï¼ä¾å¦å¼åãçäº§ãæµè¯ç¯å¢\n 2. yamlæ ¼å¼ä¸­è®¾ç½®å¤ç¯å¢ä½¿ç¨---åºåç¯å¢è®¾ç½®è¾¹ç\n 3. æ¯ç§ç¯å¢çåºå«å¨äºå è½½çéç½®å±æ§ä¸å\n 4. å¯ç¨æç§ç¯å¢æ¶éè¦æå®å¯å¨æ¶ä½¿ç¨è¯¥ç¯å¢\n\n\n# YW-3-2.å¤ç¯å¢å¼åï¼yamlå¤æä»¶çï¼\n\nå°ææçéç½®é½æ¾å¨ä¸ä¸ªéç½®æä»¶ä¸­ï¼å°¤å¶æ¯æ¯ä¸ä¸ªéç½®åºç¨åºæ¯é½ä¸ä¸æ ·ï¼è¿æ¾ç¶ä¸åçï¼äºæ¯å°±æäºå°ä¸ä¸ªéç½®æä»¶æåæå¤ä¸ªéç½®æä»¶çæ³æ³ãæååï¼æ¯ä¸ªéç½®æä»¶ä¸­åèªå·±çéç½®ï¼ä¸»éç½®æä»¶ä¸­åæ¸æ¥ç¨åªä¸ä¸ªéç½®æä»¶å°±å¥½äºã\n\nä¸»éç½®æä»¶\n\nspring:\n\tprofiles:\n\t\tactive: pro\t\t# å¯å¨pro\n\n\nç¯å¢éç½®æä»¶\n\nserver:\n\tport: 80\n\n\nç¯å¢éç½®æä»¶å ä¸ºæ¯ä¸ä¸ªé½æ¯éç½®èªå·±çé¡¹ï¼æä»¥è¿åå­é½ä¸ç¨åéé¢äºãé£é®é¢æ¯å¦ä½åºåè¿æ¯åªä¸ç»éç½®å¢ï¼ä½¿ç¨æä»¶ååºåã\n\napplication-pro.yaml\n\nserver:\n\tport: 80\n\n\napplication-dev.yaml\n\nserver:\n\tport: 81\n\n\næä»¶çå½åè§åä¸ºï¼application-ç¯å¢å.ymlã\n\nå¨éç½®æä»¶ä¸­ï¼å¦ææäºéç½®é¡¹ææç¯å¢é½ä¸æ ·ï¼å¯ä»¥å°è¿äºé¡¹åå¥å°ä¸»éç½®ä¸­ï¼åªæåªäºæåºå«çé¡¹æåå¥å°ç¯å¢éç½®æä»¶ä¸­ã\n\n * ä¸»éç½®æä»¶ä¸­è®¾ç½®å¬å±éç½®ï¼å¨å±ï¼\n * ç¯å¢åç±»éç½®æä»¶ä¸­å¸¸ç¨äºè®¾ç½®å²çªå±æ§ï¼å±é¨ï¼\n\næ»ç»\n\n 1. å¯ä»¥ä½¿ç¨ç¬ç«éç½®æä»¶å®ä¹ç¯å¢å±æ§\n\n 2. ç¬ç«éç½®æä»¶ä¾¿äºçº¿ä¸ç³»ç»ç»´æ¤æ´æ°å¹¶ä¿éç³»ç»å®å¨æ§\n\n\n# YW-3-3.å¤ç¯å¢å¼åï¼propertieså¤æä»¶çï¼\n\nSpringBootææ©ææä¾çéç½®æä»¶æ ¼å¼æ¯propertiesæ ¼å¼çï¼è¿ç§æ ¼å¼çå¤ç¯å¢éç½®ä¹äºè§£ä¸ä¸å§ã\n\nä¸»éç½®æä»¶\n\nspring.profiles.active=pro\n\n\nç¯å¢éç½®æä»¶\n\napplication-pro.properties\n\nserver.port=80\n\n\napplication-dev.properties\n\nserver.port=81\n\n\næä»¶çå½åè§åä¸ºï¼application-ç¯å¢å.propertiesã\n\næ»ç»\n\n 1. propertiesæä»¶å¤ç¯å¢éç½®ä»æ¯æå¤æä»¶æ ¼å¼\n\n\n# YW-3-4.å¤ç¯å¢å¼åç¬ç«éç½®æä»¶ä¹¦åæå·§\n\nä½ä¸ºç¨åºåå¨æéç½®çæ¶åå¾å¾å¤äºä¸ç§åä¹å¿ååä¹å¿åçå±é¢ãå¼å§ååä¸èµ·ï¼åæ¥ä¸ºäºæ¹ä¾¿ç»´æ¤å°±æåãå¯¹äºå¤ç¯å¢å¼åä¹æ¯å¦æ­¤ï¼ä¸é¢ç»å¤§å®¶è¯´ä¸ä¸å¦ä½åºäºå¤ç¯å¢å¼ååéç½®ç¬ç«ç®¡çï¼å¡å¿ææ¡ã\n\nåå¤å·¥ä½\n\nå°ææçéç½®æ ¹æ®åè½å¯¹éç½®æä»¶ä¸­çä¿¡æ¯è¿è¡æåï¼å¹¶å¶ä½æç¬ç«çéç½®æä»¶ï¼å½åè§åå¦ä¸\n\n * application-devDB.yml\n * application-devRedis.yml\n * application-devMVC.yml\n\nä½¿ç¨\n\nä½¿ç¨includeå±æ§å¨æ¿æ´»æå®ç¯å¢çæåµä¸ï¼åæ¶å¯¹å¤ä¸ªç¯å¢è¿è¡å è½½ä½¿å¶çæï¼å¤ä¸ªç¯å¢é´ä½¿ç¨éå·åé\n\nspring:\n\tprofiles:\n    \tactive: dev\n        include: devDB,devRedis,devMVC\n\n\næ¯è¾ä¸ä¸ï¼ç°å¨ç¸å½äºå è½½devéç½®æ¶ï¼åå è½½å¯¹åºç3ç»éç½®ï¼ä»ç»æä¸å°±å¾æ¸æ°ï¼ç¨äºä»ä¹ï¼å¯¹åºçåç§°æ¯ä»ä¹\n\næ³¨æ\n\nå½ä¸»ç¯å¢devä¸å¶ä»ç¯å¢æç¸åå±æ§æ¶ï¼ä¸»ç¯å¢å±æ§çæï¼å¶ä»ç¯å¢ä¸­æç¸åå±æ§æ¶ï¼æåå è½½çç¯å¢å±æ§çæ\n\næ¹è¯\n\nä½æ¯ä¸é¢çè®¾ç½®ä¹æä¸ä¸ªé®é¢ï¼æ¯å¦æè¦åæ¢devç¯å¢ä¸ºproæ¶ï¼includeä¹è¦ä¿®æ¹ãå ä¸ºincludeå±æ§åªè½ä½¿ç¨ä¸æ¬¡ï¼è¿å°±æ¯è¾éº»ç¦ãSpringBootä»2.4çå¼å§ä½¿ç¨groupå±æ§æ¿ä»£includeå±æ§ï¼éä½äºéç½®ä¹¦åéãç®åè¯´å°±æ¯æååå¥½ï¼ä½ ç±ç¨åªä¸ªç¨åªä¸ªã\n\nspring:\n\tprofiles:\n    \tactive: dev\n        group:\n        \t"dev": devDB,devRedis,devMVC\n      \t\t"pro": proDB,proRedis,proMVC\n      \t\t"test": testDB,testRedis,testMVC\n\n\nç°å¨åæ¥çï¼å¦æåæ¢devå°proï¼åªéè¦æ¹ä¸ä¸æ¯ä¸æ¯å°±ç»æäºï¼å®ç¾ï¼\n\næ»ç»\n\n 1. å¤ç¯å¢å¼åä½¿ç¨groupå±æ§è®¾ç½®éç½®æä»¶åç»ï¼ä¾¿äºçº¿ä¸ç»´æ¤ç®¡ç\n\n\n# YW-3-5.å¤ç¯å¢å¼åæ§å¶\n\nå¤ç¯å¢å¼åå°è¿éåºæ¬ä¸è¯´å®äºï¼æåè¯´ä¸ä¸ªå²çªé®é¢ãå°±æ¯mavenåSpringBootåæ¶è®¾ç½®å¤ç¯å¢çè¯æä¹æã\n\nè¦æ³å¤çè¿ä¸ªå²çªé®é¢ï¼ä½ è¦åçæ¸ä¸ä¸ªå³ç³»ï¼ç©¶ç«è°å¨å¤ç¯å¢å¼åä¸­å¶ä¸»å¯¼å°ä½ãä¹å°±æ¯è¯´å¦æç°å¨é½è®¾ç½®äºå¤ç¯å¢ï¼è°çåºè¯¥æ¯ä¿çä¸æ¥çï¼å¦ä¸ä¸ªåºè¯¥éµä»ç¸åçè®¾ç½®ã\n\nmavenæ¯åä»ä¹çï¼é¡¹ç®æå»ºç®¡ççï¼æç»çæä»£ç åçï¼SpringBootæ¯å¹²ä»ä¹çï¼ç®åå¼åçãç®åï¼åä¸æ¯å¶ä¸»å¯¼ä½ç¨ãæç»è¿æ¯è¦é mavenæ¥ç®¡çæ´ä¸ªå·¥ç¨ï¼æä»¥SpringBootåºè¯¥å¬mavençãæ´ä¸ªç¡®è®¤åä¸é¢å°±å¥½åäºãå¤§ä½ææ³å¦ä¸ï¼\n\n * åå¨mavenç¯å¢ä¸­è®¾ç½®ç¨ä»ä¹å·ä½çç¯å¢\n * å¨SpringBootä¸­è¯»åmavenè®¾ç½®çç¯å¢å³å¯\n\nmavenä¸­è®¾ç½®å¤ç¯å¢ï¼ä½¿ç¨å±æ§æ¹å¼åºåç¯å¢ï¼\n\n<profiles>\n    <profile>\n        <id>env_dev</id>  \x3c!--idç¨æ¥ç¡®è®¤ç¯å¢åé--\x3e\n        <properties>\n            <profile.active>dev</profile.active>\n        </properties>\n        <activation>\n            <activeByDefault>true</activeByDefault>\t\t\x3c!--é»è®¤å¯å¨ç¯å¢--\x3e\n        </activation>\n    </profile>\n    <profile>\n        <id>env_pro</id>\n        <properties>\n            <profile.active>pro</profile.active>\n        </properties>\n    </profile>\n</profiles>\n\n\nSpringBootä¸­è¯»åmavenè®¾ç½®å¼\n\nspring:\n\tprofiles:\n    \tactive: @profile.active@\n\n\nä¸é¢ç@å±æ§å@å°±æ¯è¯»åmavenä¸­éç½®çå±æ§å¼çè¯­æ³æ ¼å¼ã\n\næ»ç»\n\n 1. å½Mavenä¸SpringBootåæ¶å¯¹å¤ç¯å¢è¿è¡æ§å¶æ¶ï¼ä»¥Mavnä¸ºä¸»ï¼SpringBootä½¿ç¨@..@å ä½ç¬¦è¯»åMavenå¯¹åºçéç½®å±æ§å¼\n 2. åºäºSpringBootè¯»åMavenéç½®å±æ§çåæä¸ï¼å¦æå¨Ideaä¸æµè¯å·¥ç¨æ¶pom.xmlæ¯æ¬¡æ´æ°éè¦æå¨compileæ¹å¯çæï¼é²æ­¢ç¼å­ä½¿å¾æ°çç¯å¢å±æ§ä¸è½ç«é©¬çæ\n\n\n# YW-4.æ¥å¿\n\nè¿ç»´ç¯æåä¸é¨åæä»¬æ¥èèæ¥å¿ï¼æ¥å¿å¤§å®¶ä¸éçï¼ç®åä»ç»ä¸ä¸ãæ¥å¿å¶å®å°±æ¯è®°å½ç¨åºæ¥å¸¸è¿è¡çä¿¡æ¯ï¼ä¸»è¦ä½ç¨å¦ä¸ï¼\n\n * ç¼ç¨æè°è¯ä»£ç \n * è¿è¥æè®°å½ä¿¡æ¯\n * è®°å½æ¥å¸¸è¿è¥éè¦ä¿¡æ¯ï¼å³°å¼æµéãå¹³åååºæ¶é¿â¦â¦ï¼\n * è®°å½åºç¨æ¥éä¿¡æ¯ï¼éè¯¯å æ ï¼\n * è®°å½è¿ç»´è¿ç¨æ°æ®ï¼æ©å®¹ãå®æºãæ¥è­¦â¦â¦ï¼\n\næè®¸åä½å°ä¼ä¼´å¹¶ä¸ä¹ æ¯äºä½¿ç¨æ¥å¿ï¼æ²¡å³ç³»ï¼æ¢æ¢å¤ç¨ï¼ä¹ æ¯å°±å¥½ãæ³è¿å¤§åï¼è¿æ¯æåºæ¬çï¼å«å»é¢è¯çæ¶åè¯´æ²¡ç¨è¿ï¼å®äºï¼æ²¡æºä¼äºã\n\n# YW-4-1.ä»£ç ä¸­ä½¿ç¨æ¥å¿å·¥å·è®°å½æ¥å¿\n\næ¥å¿çä½¿ç¨æ ¼å¼éå¸¸åºå®ï¼ç´æ¥ä¸æä½æ­¥éª¤ï¼\n\næ­¥éª¤â ï¼æ·»å æ¥å¿è®°å½æä½\n\n@RestController\n@RequestMapping("/books")\npublic class BookController extends BaseClass{\n    private static final Logger log = LoggerFactory.getLogger(BookController.class);\n    @GetMapping\n    public String getById(){\n        log.trace("fatal...")  // ç¨çå¾å°\n        log.debug("debug...");\n        log.info("info...");\n        log.warn("warn...");\n        log.error("error...");\n        log.fatal("fatal...")  // éè¯¯çº§å«å¤ªé«äºï¼ä¸è¬ä¸èè\n        return "springboot is running...2";\n    }\n}\n\n\nä¸è¿°ä»£ç ä¸­logå¯¹è±¡å°±æ¯ç¨æ¥è®°å½æ¥å¿çå¯¹è±¡ï¼ä¸é¢çlog.debugï¼log.infoè¿äºæä½å°±æ¯åæ¥å¿çAPIäºã\n\næ­¥éª¤â¡ï¼è®¾ç½®æ¥å¿è¾åºçº§å«\n\næ¥å¿è®¾ç½®å¥½ä»¥åå¯ä»¥æ ¹æ®è®¾ç½®éæ©åªäºåä¸è®°å½ãè¿éæ¯æ ¹æ®æ¥å¿ççº§å«æ¥è®¾ç½®çãæ¥å¿ççº§å«åä¸º6ç§ï¼åå«æ¯ï¼\n\n * TRACEï¼è¿è¡å æ ä¿¡æ¯ï¼ä½¿ç¨çä½\n * DEBUGï¼ç¨åºåè°è¯ä»£ç ä½¿ç¨\n * INFOï¼è®°å½è¿ç»´è¿ç¨æ°æ®\n * WARNï¼è®°å½è¿ç»´è¿ç¨æ¥è­¦æ°æ®\n * ERRORï¼è®°å½éè¯¯å æ ä¿¡æ¯\n * FATALï¼ç¾é¾ä¿¡æ¯ï¼åå¹¶è®¡å¥ERROR\n\nä¸è¬æåµä¸ï¼å¼åæ¶åä½¿ç¨DEBUGï¼ä¸çº¿åä½¿ç¨INFOï¼è¿ç»´ä¿¡æ¯è®°å½ä½¿ç¨WARNå³å¯ãä¸é¢å°±è®¾ç½®ä¸ä¸æ¥å¿çº§å«ï¼\n\n# å¼å¯debugæ¨¡å¼ï¼è¾åºè°è¯ä¿¡æ¯ï¼å¸¸ç¨äºæ£æ¥ç³»ç»è¿è¡ç¶åµ\ndebug: true\n\n\nè¿ä¹è®¾ç½®å¤ªç®åç²æ´äºï¼æ¥å¿ç³»ç»éå¸¸é½æä¾äºç»ç²åº¦çæ§å¶\n\n# å¼å¯debugæ¨¡å¼ï¼è¾åºè°è¯ä¿¡æ¯ï¼å¸¸ç¨äºæ£æ¥ç³»ç»è¿è¡ç¶åµ\ndebug: true\n\n# è®¾ç½®æ¥å¿çº§å«ï¼rootè¡¨ç¤ºæ ¹èç¹ï¼å³æ´ä½åºç¨æ¥å¿çº§å«\nlogging:\n\tlevel:\n    \troot: debug\n\n\nè¿å¯ä»¥åè®¾ç½®æ´ç»ç²åº¦çæ§å¶\n\næ­¥éª¤â¢ï¼è®¾ç½®æ¥å¿ç»ï¼æ§å¶æå®åå¯¹åºçæ¥å¿è¾åºçº§å«ï¼ä¹å¯ä»¥ç´æ¥æ§å¶æå®åå¯¹åºçæ¥å¿è¾åºçº§å«\n\nlogging:\n\t# è®¾ç½®æ¥å¿ç»\n    group:\n    \t# èªå®ä¹ç»åï¼è®¾ç½®å½åç»ä¸­æåå«çå\n        ebank: com.itheima.controller\n    level:\n    \troot: warn\n        # ä¸ºå¯¹åºç»è®¾ç½®æ¥å¿çº§å«\n        ebank: debug\n    \t# ä¸ºå¯¹åº åè®¾ç½®æ¥å¿çº§å«\n        com.itheima.controller: debug\n\n\nè¯´ç½äºå°±æ¯æ»ä½è®¾ç½®ä¸ä¸ï¼æ¯ä¸ªåè®¾ç½®ä¸ä¸ï¼å¦ææè§è®¾ç½®çéº»ç¦ï¼å°±åæååä¸ªç»ï¼å¯¹ç»è®¾ç½®ï¼æ²¡äºï¼å°±è¿äºã\n\næ»ç»\n\n 1. æ¥å¿ç¨äºè®°å½å¼åè°è¯ä¸è¿ç»´è¿ç¨æ¶æ¯\n 2. æ¥å¿ççº§å«å±6ç§ï¼éå¸¸ä½¿ç¨4ç§å³å¯ï¼åå«æ¯DEBUGï¼INFO,WARN,ERROR\n 3. å¯ä»¥éè¿æ¥å¿ç»æä»£ç åçå½¢å¼è¿è¡æ¥å¿æ¾ç¤ºçº§å«çæ§å¶\n\n# æä½ ä¸æï¼ä¼åæ¥å¿å¯¹è±¡åå»ºä»£ç \n\nåä»£ç çæ¶åæ¯ä¸ªç±»é½è¦ååå»ºæ¥å¿è®°å½å¯¹è±¡ï¼è¿ä¸ªå¯ä»¥ä¼åä¸ä¸ï¼ä½¿ç¨åé¢ç¨è¿çlombokææ¯ç»æä»¬æä¾çå·¥å·ç±»å³å¯ã\n\n\n\n\n\n\n@RestController\n@RequestMapping("/books")\npublic class BookController extends BaseClass{\n    private static final Logger log = LoggerFactory.getLogger(BookController.class);\t//è¿ä¸å¥å¯ä»¥ä¸åäº\n}\n\n\nå¯¼å¥lombokåä½¿ç¨æ³¨è§£æå®ï¼æ¥å¿å¯¹è±¡åä¸ºlog\n\n@Slf4j\t\t//è¿ä¸ªæ³¨è§£æ¿ä»£äºä¸é¢é£ä¸è¡\n@RestController\n@RequestMapping("/books")\npublic class BookController extends BaseClass{\n    private static final Logger log = LoggerFactory.getLogger(BookController.class);\t//è¿ä¸å¥å¯ä»¥ä¸åäº\n}\n\n\næ»ç»\n\n 1. åºäºlombokæä¾ç@Slf4jæ³¨è§£ä¸ºç±»å¿«éæ·»å æ¥å¿å¯¹è±¡\n\n# YW-4-2.æ¥å¿è¾åºæ ¼å¼æ§å¶\n\næ¥å¿å·²ç»è½å¤è®°å½äºï¼ä½æ¯ç®åè®°å½çæ ¼å¼æ¯SpringBootç»æä»¬æä¾çï¼å¦ææ³èªå®ä¹æ§å¶å°±éè¦èªå·±è®¾ç½®äºãååæä¸ä¸å½åæ¥å¿çè®°å½æ ¼å¼ã\n\n\n\n\n\nå¯¹äºåæ¡æ¥å¿ä¿¡æ¯æ¥è¯´ï¼æ¥æï¼è§¦åä½ç½®ï¼è®°å½ä¿¡æ¯æ¯ææ ¸å¿çä¿¡æ¯ãçº§å«ç¨äºåç­éè¿æ»¤ï¼PIDä¸çº¿ç¨åç¨äºåç²¾ååæãäºè§£è¿äºä¿¡æ¯åå°±å¯ä»¥DIYæ¥å¿æ ¼å¼äºãæ¬è¯¾ç¨ä¸åè¯¦ç»çç ç©¶ï¼æå´è¶£çå°ä¼ä¼´å¯ä»¥å­¦ä¹ ç¸å³çç¥è¯ãä¸é¢ç»åºè¯¾ç¨ä¸­æ¨¡æçå®æ¹æ¥å¿æ¨¡æ¿çä¹¦åæ ¼å¼ï¼ä¾¿äºå¤§å®¶å­¦ä¹ ã\n\nlogging:\n\tpattern:\n    \tconsole: "%d %clr(%p) --- [%16t] %clr(%-40.40c){cyan} : %m %n"\n\n\næ»ç»\n\n 1. æ¥å¿è¾åºæ ¼å¼è®¾ç½®è§åï¼å¾ç®åä¸é¨åï¼\n    \n    \n\n# YW-4-3.æ¥å¿æä»¶\n\næ¥å¿ä¿¡æ¯æ¾ç¤ºï¼è®°å½å·²ç»æ§å¶ä½äºï¼ä¸é¢å°±è¦è¯´ä¸ä¸æ¥å¿çè½¬å­äºãæ¥å¿ä¸è½ä»æ¾ç¤ºå¨æ§å¶å°ä¸ï¼è¦ææ¥å¿è®°å½å°æä»¶ä¸­ï¼æ¹ä¾¿åæç»´æ¤æ¥éã\n\nå¯¹äºæ¥å¿æä»¶çä½¿ç¨å­å¨åç§åæ ·çç­ç¥ï¼ä¾å¦æ¯æ¥è®°å½ï¼åç±»è®°å½ï¼æ¥è­¦åè®°å½ç­ãè¿éä¸»è¦ç ç©¶æ¥å¿æä»¶å¦ä½è®°å½ã\n\nè®°å½æ¥å¿å°æä»¶ä¸­æ ¼å¼éå¸¸ç®åï¼è®¾ç½®æ¥å¿æä»¶åå³å¯ã\n\nlogging:\n\tfile:\n    \tname: server.log\n\n\nè½ç¶ä½¿ç¨ä¸è¿°æ ¼å¼å¯ä»¥å°æ¥å¿è®°å½ä¸æ¥äºï¼ä½æ¯é¢å¯¹çº¿ä¸çå¤ææåµï¼ä¸ä¸ªæä»¶è®°å½è¯å®æ¯ä¸è½å¤æ»¡è¶³è¿ç»´è¦æ±çï¼éå¸¸ä¼æ¯å¤©è®°å½æ¥å¿æä»¶ï¼åæ¶ä¸ºäºä¾¿äºç»´æ¤ï¼è¿è¦éå¶æ¯ä¸ªæ¥å¿æä»¶çå¤§å°ãä¸é¢ç»åºæ¥å¿æä»¶çå¸¸ç¨éç½®æ¹å¼ï¼\n\nlogging:\n\tlogback:\n    \trollingpolicy:\n        \tmax-file-size: 3KB\n            file-name-pattern: server.%d{yyyy-MM-dd}.%i.log\n\n\nä»¥ä¸æ ¼å¼æ¯åºäºlogbackæ¥å¿ææ¯è®¾ç½®æ¯æ¥æ¥å¿æä»¶çè®¾ç½®æ ¼å¼ï¼è¦æ±å®¹éå°è¾¾3KBä»¥åå°±è½¬å­ä¿¡æ¯å°ç¬¬äºä¸ªæä»¶ä¸­ãæä»¶å½åè§åä¸­ç%dæ è¯æ¥æï¼%iæ¯ä¸ä¸ªéå¢åéï¼ç¨äºåºåæ¥å¿æä»¶ã\n\næ»ç»\n\n 1. æ¥å¿è®°å½å°æä»¶\n 2. æ¥å¿æä»¶æ ¼å¼è®¾ç½®',normalizedContent:'# springbootè¿ç»´å®ç¨ç¯\n\n * springbootç¨åºçæåä¸è¿è¡\n * éç½®é«çº§\n * å¤ç¯å¢å¼å\n * æ¥å¿\n\nä¸é¢å¼å¯ç¬¬ä¸é¨åspringbootç¨åºæåä¸è¿è¡çå­¦ä¹ \n\n\n# yw-1.springbootç¨åºçæåä¸è¿è¡\n\nåå¼å§åå¼åå­¦ä¹ çå°ä¼ä¼´å¯è½å¨æä¸ä¸ªç¥è¯ä¸é¢æéè¯¯çè®¤ç¥ï¼æä»¬å¤©å¤©åç¨åºæ¯å¨ideaä¸åçï¼è¿è¡ä¹æ¯å¨ideaä¸è¿è¡çã\n\nä½æ¯å®éå¼åå®æåï¼æä»¬çé¡¹ç®æ¯ä¸å¯è½è¿è¡å¨èªå·±ççµèä¸çã\n\næä»¬ä»¥åå¶ä½çç¨åºæ¯è¿è¡å¨ä¸ç¨çæå¡å¨ä¸çï¼ç®åè¯´å°±æ¯å°ä½ åçç¨åºæ¾å¨ä¸å°ç¬ç«è¿è¡ççµèä¸ï¼è¿å°çµèè¦æ¯ä½ å¼åä½¿ç¨çè®¡ç®æºæ´ä¸ä¸ï¼å¹¶ä¸å®å¨ç­çº§åä¸ªæ¹é¢è¦è¿è¶è¿ä½ ç°å¨ççµèã\n\né£æä»¬çç¨åºå¦ä½æ¾ç½®å¨è¿å°ä¸ç¨ççµèä¸å¢ï¼è¿å°±è¦å°æä»¬çç¨åºåç»ç»æä¸ä¸ªæä»¶ï¼ç¶åå°è¿ä¸ªæä»¶ä¼ è¾å°è¿å°æå¡å¨ä¸ãè¿éé¢å°±å­å¨ä¸¤ä¸ªè¿ç¨ï¼ä¸ä¸ªæ¯æåçè¿ç¨ï¼å¦ä¸ä¸ªæ¯è¿è¡çè¿ç¨ã\n\næ¸©é¦¨æç¤º\n\nä¼ä¸é¡¹ç®ä¸çº¿ä¸ºäºä¿éç¯å¢ééæ§ä¼éç¨ä¸é¢æµç¨åå¸é¡¹ç®ï¼è¿éä¸è®¨è®ºæ­¤è¿ç¨ã\n\n 1. å¼åé¨é¨ä½¿ç¨gitãsvnç­çæ¬æ§å¶å·¥å·ä¸ä¼ å·¥ç¨å°çæ¬æå¡å¨\n 2. æå¡å¨ä½¿ç¨çæ¬æ§å¶å·¥å·ä¸è½½å·¥ç¨\n 3. æå¡å¨ä¸ä½¿ç¨mavenå·¥å·å¨å½åçæºç¯å¢ä¸éæ°æå»ºé¡¹ç®\n 4. å¯å¨æå¡\n\nç»§ç»­è¯´æä»¬çæååè¿è¡è¿ç¨ãæè°æåæå°ç¨åºè½¬æ¢æä¸ä¸ªå¯æ§è¡çæä»¶ï¼æè°è¿è¡æä¸ä¾èµå¼åç¯å¢æ§è¡æåäº§ççæä»¶ãä¸è¿°ä¸¤ä¸ªæä½é½æå¯¹åºçå½ä»¤å¯ä»¥å¿«éæ§è¡ã\n\n\n# ç¨åºæå\n\nspringbootç¨åºæ¯åºäºmavenåå»ºçï¼å¨mavenä¸­æä¾ææåçæä»¤ï¼å«åpackageãæ¬æä½å¯ä»¥å¨ideaç¯å¢ä¸æ§è¡ã\n\nmvn package\n\n\næååä¼äº§çä¸ä¸ªä¸å·¥ç¨åç±»ä¼¼çjaræä»¶ï¼å¶åç§°æ¯ç±æ¨¡åå+çæ¬å·+.jarç»æçãæåçæ¶åå¯ä»¥æç§éæ±å¯ä»¥è·³è¿testé¶æ®µï¼mavenéé¢æè®²ï¼\n\n\n# ç¨åºè¿è¡\n\nç¨åºåæå¥½ä»¥åï¼å°±å¯ä»¥ç´æ¥æ§è¡äºãå¨ç¨åºåæå¨è·¯å¾ä¸ï¼æ§è¡æä»¤ã\n\njava -jar å·¥ç¨åå.jar\n\n\næ§è¡ç¨åºæåæä»¤åï¼ç¨åºæ­£å¸¸è¿è¡ï¼ä¸å¨ideaä¸æ§è¡ç¨åºæ²¡æåºå«ã\n\nç¹å«å³æ³¨ï¼å¦æä½ çè®¡ç®æºä¸­æ²¡æå®è£javaçjdkç¯å¢ï¼æ¯æ æ³æ­£ç¡®æ§è¡ä¸è¿°æä½çï¼å ä¸ºç¨åºæ§è¡ä½¿ç¨çæ¯javaæä»¤ã\n\nç¹å«å³æ³¨ï¼å¨ä½¿ç¨åå¯¼åå»ºspringbootå·¥ç¨æ¶ï¼pom.xmlæä»¶ä¸­ä¼æå¦ä¸éç½®ï¼è¿ä¸æ®µéç½®åä¸ä¸è½å é¤ï¼å¦åæååæ æ³æ­£å¸¸æ§è¡ç¨åºã\n\n<build>\n    <plugins>\n        <plugin>\n            <groupid>org.springframework.boot</groupid>\n            <artifactid>spring-boot-maven-plugin</artifactid>\n        </plugin>\n    </plugins>\n</build>\n\n\næ»ç»\n\n 1. springbootå·¥ç¨å¯ä»¥åºäºjavaç¯å¢ä¸ç¬ç«è¿è¡jaræä»¶å¯å¨æå¡\n 2. springbootå·¥ç¨æ§è¡mvnå½ä»¤packageè¿è¡æå\n 3. æ§è¡jarå½ä»¤ï¼java âjar å·¥ç¨å.jar\n\n\n# springbootç¨åºæåå¤±è´¥å¤ç\n\næäºå°ä¼ä¼´æåä»¥åæ§è¡ä¼åºç°ä¸äºé®é¢ï¼å¯¼è´ç¨åºæ æ³æ­£å¸¸æ§è¡ï¼ä¾å¦ä¸é¢çç°è±¡\n\nè¦æ³ææ¸æ¥è¿ä¸ªé®é¢å°±è¦è¯´è¯´.jaræä»¶çå·¥ä½æºå¶äºï¼ç¥éäºè¿ä¸ªä¸è¥¿å°±ç¥éå¦ä½é¿åæ­¤ç±»é®é¢çåçäºã\n\næjavaå¼åå¹³æ¶ä¼æ¥è§¦å¾å¤jaråï¼æ¯å¦mysqlçé©±å¨jaråï¼èä¸é¢æä»¬æåç¨åºåå¾å°çä¹æ¯ä¸ä¸ªjaræä»¶ãè¿ä¸ªæ¶åå¦æä½ ä½¿ç¨ä¸é¢çjava -jaræä»¤å»æ§è¡mysqlçé©±å¨jaråå°±ä¼åºç°ä¸è¿°ä¸å¯æ§è¡çç°è±¡ï¼èæä»¬çspringbooté¡¹ç®ä¸ºä»ä¹è½æ§è¡å¢ï¼å¶å®æ¯å ä¸ºæåæ¹å¼ä¸ä¸æ ·ã\n\nå¨springbootå·¥ç¨çpom.xmlä¸­æä¸é¢è¿ç»éç½®ï¼è¿ç»éç½®å³å®äºæååºæ¥çç¨åºåæ¯å¦å¯ä»¥æ§è¡ã\n\n<build>\n    <plugins>\n        <plugin>\n            <groupid>org.springframework.boot</groupid>\n            <artifactid>spring-boot-maven-plugin</artifactid>\n        </plugin>\n    </plugins>\n</build>\n\n\næä»¬åå«å¼å¯è¿æ®µéç½®åæ³¨éæè¿æ®µéç½®åå«æ§è¡ä¸¤æ¬¡æåï¼ç¶åè§å¯ä¸¤æ¬¡æååçç¨åºåçå·®å«ï¼å±æ3å¤æ¯è¾ææ¾çç¹å¾\n\n * æååæä»¶çå¤§å°ä¸å\n * æååæåå«çåå®¹ä¸å\n * æåç¨åºä¸­ä¸ªå«æä»¶åå®¹ä¸å\n\nåçç¬¬ä¸ä¸ªç°è±¡ï¼æä»¶å¤§å°ä¸åãå¸¦æéç½®æ¶æåçæçç¨åºåå¤§å°å¦ä¸ï¼\n\nä¸é¾çåºï¼å¸¦æéç½®çç¨åºåä½ç§¯æ¯ä¸å¸¦éç½®çå¤§äº30åï¼é£è¿éé¢é½æä»ä¹å¢ï¼è½å·®è¿ä¹å¤ï¼ä¸é¢ççéé¢çåå®¹æä»ä¹åºå«ã\n\n\n\n**æä»¬åç°åå®¹ä¹å®å¨ä¸ä¸æ ·ï¼ä»æä¸ä¸ªç®å½æ¯ä¸æ ·çï¼å«åmeta-infã**æå¼å®¹éå¤§çç¨åºåä¸­çboot-infç®å½ä¸çclassesç®å½ï¼æä»¬åç°å¶ä¸­çåå®¹å±ç¶åå®¹éå°çç¨åºåä¸­çåå®¹å®å¨ä¸æ ·ã\n\n\n\nåæ¥å¤§çç¨åºåä¸­é¤äºåå«å°çç¨åºåä¸­çåå®¹ï¼è¿æå«çä¸è¥¿ãé½æä»ä¹å¢ï¼åå°boot-infç®å½ä¸ï¼æå¼libç®å½ï¼éé¢æ¾ç¤ºäºå¾å¤ä¸ªjaræä»¶ã\n\n\n\nä»ç»ç¿»éä¸é¾åç°ï¼è¿äºjaræä»¶é½æ¯æä»¬å¶ä½è¿ä¸ªå·¥ç¨æ¶å¯¼å¥çåæ å¯¹åºçæä»¶ãå¤§æ¦å¯ä»¥æ³æç½äºï¼springbootç¨åºä¸ºäºè®©èªå·±æåçæçç¨åºå¯ä»¥ç¬ç«è¿è¡ï¼ä¸ä»å°é¡¹ç®ä¸­èªå·±å¼åçåå®¹è¿è¡äºæåï¼è¿æå½åå·¥ç¨è¿è¡éè¦ä½¿ç¨çjaråå¨é¨æåè¿æ¥äºãä¸ºä»ä¹è¿æ ·åå¢ï¼å°±æ¯ä¸ºäºå¯ä»¥ç¬ç«è¿è¡ãä¸ä¾èµç¨åºåå¤é¨çä»»ä½èµæºå¯ä»¥ç¬ç«è¿è¡å½åç¨åºãè¿ä¹æ¯ä¸ºä»ä¹å¤§çç¨åºåå®¹éæ¯å°çç¨åºåå®¹éç30åçä¸»è¦åå ã\n\nåççå¤§ç¨åºåè¿æä»ä¹ä¸åä¹å¤ï¼å¨æå¤å±ç®å½åå«ä¸ä¸ªorgç®å½ï¼è¿å¥æ­¤ç®å½ï¼ç®å½åæ¯org\\springframework\\boot\\loaderï¼å¨éé¢å¯ä»¥æ¾å°ä¸ä¸ªjarlauncher.classçæä»¶ï¼åè®°å¾è¿ä¸ªæä»¶ãåçè¿å¥ç®å½åï¼ææ¾æ¯ä¸ä¸ªspringçç®å½åï¼ä¸ºä»ä¹è¦æspringæ¡æ¶çä¸è¥¿æåå°è¿ä¸ªç¨åºåä¸­å¢ï¼ä¸æ¸æ¥ã\n\nåå°ä¸¤ä¸ªç¨åºåçæå¤å±ç®å½ï¼æ¥çåç§°ç¸åçæä»¶å¤¹meta-infä¸é½æä¸ä¸ªå«åmanifest.mfçæä»¶ï¼ä½æ¯å¤§å°ä¸åï¼æå¼æä»¶ï¼æ¯è¾åå®¹åºå«\n\n * å°å®¹éæä»¶çmanifest.mf\n   \n   manifest-version: 1.0\n   implementation-title: springboot_08_ssmp\n   implementation-version: 0.0.1-snapshot\n   build-jdk-spec: 1.8\n   created-by: maven jar plugin 3.2.0\n   \n\n * å¤§å®¹éæä»¶çmanifest.mf\n   \n   manifest-version: 1.0\n   spring-boot-classpath-index: boot-inf/classpath.idx\n   implementation-title: springboot_08_ssmp\n   implementation-version: 0.0.1-snapshot\n   spring-boot-layers-index: boot-inf/layers.idx\n   start-class: com.itheima.ssmpapplication\n   spring-boot-classes: boot-inf/classes/\n   spring-boot-lib: boot-inf/lib/\n   build-jdk-spec: 1.8\n   spring-boot-version: 2.5.4\n   created-by: maven jar plugin 3.2.0\n   main-class: org.springframework.boot.loader.jarlauncher\n   \n\nå¤§æä»¶ä¸­ææ¾æ¯å°æä»¶ä¸­å¤äºå è¡ä¿¡æ¯ï¼å¶ä¸­æåä¸è¡ä¿¡æ¯æ¯main-class: org.springframework.boot.loader.jarlauncherãè¿å¥è¯ä»ä¹ææå¢ï¼å¦æä½¿ç¨java -jaræ§è¡æ­¤ç¨åºåï¼å°æ§è¡main-classå±æ§éç½®çç±»ï¼è¿ä¸ªç±»æ°å·§å°±æ¯åé¢çå°çé£ä¸ªæä»¶ãåæ¥springbootæåç¨åºä¸­åºç°springæ¡æ¶çä¸è¥¿æ¯ä¸ºè¿éæå¡çãèè¿ä¸ªorg.springframework.boot.loader.jarlauncherç±»åé¨è¦æ¥æ¾start-classå±æ§ä¸­éç½®çç±»ï¼å¹¶æ§è¡å¯¹åºçç±»ãè¿ä¸ªå±æ§å¨å½åéç½®ä¸­ä¹å­å¨ï¼å¯¹åºçå°±æ¯æä»¬çå¼å¯¼ç±»ç±»åã\n\nç°å¨è¿ç»è®¾å®çä½ç¨å°±ææ¸æ¥äº\n\n 1. springbootç¨åºæ·»å éç½®åä¼æåºä¸ä¸ªç¹æ®çåï¼åå«springæ¡æ¶é¨ååè½ï¼åå§å·¥ç¨åå®¹ï¼åå§å·¥ç¨ä¾èµçjarå\n 2. é¦åè¯»åmanifest.mfæä»¶ä¸­çmain-classå±æ§ï¼ç¨æ¥æ è®°æ§è¡java -jarå½ä»¤åè¿è¡çç±»\n 3. jarlauncherç±»æ§è¡æ¶ä¼æ¾å°start-classå±æ§ï¼ä¹å°±æ¯å¯å¨ç±»ç±»å\n 4. è¿è¡å¯å¨ç±»æ¶ä¼è¿è¡å½åå·¥ç¨çåå®¹\n 5. è¿è¡å½åå·¥ç¨æ¶ä¼ä½¿ç¨ä¾èµçjaråï¼ä»libç®å½ä¸­æ¥æ¾\n\nçæ¥springbootæåºæ¥äºåä¸ºäºè½å¤ç¬ç«è¿è¡ï¼ç®ç´æ¯çè´¹è¦å¿ï¼å°ææéè¦ä½¿ç¨çèµæºå¨é¨é½æ·»å å°äºè¿ä¸ªåéãè¿å°±æ¯ä¸ºä»ä¹è¿ä¸ªjaråè½ç¬ç«è¿è¡çåå ã\n\nåæ¥çä¹åçæ¥éä¿¡æ¯ï¼\n\nç±äºæåæ¶æ²¡æä½¿ç¨é£æ®µéç½®ï¼ç»ææååå½¢æäºä¸ä¸ªæ®éçjaråï¼å¨manifest.mfæä»¶ä¸­ä¹å°±æ²¡æäºmain-classå¯¹åºçå±æ§äºï¼æä»¥è¿è¡æ¶æç¤ºæ¾ä¸å°ä¸»æ¸åå±æ§ï¼è¿å°±æ¯æ¥éçåå ã\n\nä¸è¿°åå®¹ææ¸æ¥å¯¹æä»¬ç¼ç¨æä¹å¹¶ä¸å¤§ï¼ä½æ¯å¯¹åä½å°ä¼ä¼´çæ¸æ¥springbootå·¥ç¨ç¬ç«è¿è¡çæºå¶æ¯æå¸®å©çãå¶å®æ´ä½è¿ç¨ä¸»è¦æ¯å¸¦çå¤§å®¶åæï¼å¦æä»¥åéå°äºç±»ä¼¼çé®é¢ï¼å¤ç»èªå·±æé®ï¼å¤é®ä¸ä¸ªä¸ºä»ä¹ï¼å´è¶£èªå·±å°±å¯ä»¥ç¬ç«è§£å³é®é¢äºã\n\næ»ç»\n\n 1. spring-boot-maven-pluginæä»¶ç¨äºå°å½åç¨åºæåæä¸ä¸ªå¯ä»¥ç¬ç«è¿è¡çç¨åºå\n\n\n# å½ä»¤è¡å¯å¨å¸¸è§é®é¢åè§£å³æ¹æ¡\n\nåä½å°ä¼ä¼´å¨dosç¯å¢ä¸å¯å¨springbootå·¥ç¨æ¶ï¼å¯è½ä¼éå°ç«¯å£å ç¨çé®é¢ãç»å¤§å®¶ä¸ç»å½ä»¤ï¼ä¸ç¨æ·±å¥å­¦ä¹ ï¼å¤ç¨å§ã\n\n# æ¥è¯¢ç«¯å£\nnetstat -ano\n# æ¥è¯¢æå®ç«¯å£\nnetstat -ano |findstr "ç«¯å£å·"\n# æ ¹æ®è¿ç¨pidæ¥è¯¢è¿ç¨åç§°\ntasklist |findstr "è¿ç¨pidå·"\n# æ ¹æ®pidææ­»ä»»å¡\ntaskkill /f /pid "è¿ç¨pidå·"\n# æ ¹æ®è¿ç¨åç§°ææ­»ä»»å¡\ntaskkill -f -t -im "è¿ç¨åç§°"\n\n\nå³äºæåä¸è¿è¡ç¨åºå¶å®è¿æä¸ç³»åçéç½®ååæ°ï¼ä¸é¢çåå®¹ä¸­éå°åè¯´ï¼è¿éåå¼ä¸ªå¤´ï¼ç¥éå¦ä½æååè¿è¡ç¨åºã\n\n\n# springbooté¡¹ç®å¿«éå¯å¨ï¼linuxçï¼\n\nå¶å®å¯¹äºlinuxç³»ç»ä¸çç¨åºè¿è¡ä¸windowsç³»ç»ä¸çç¨åºè¿è¡å·®å«ä¸å¤§ï¼å½ä»¤è¿æ¯é£ç»å½ä»¤ï¼åªä¸è¿åä½å°ä¼ä¼´å¯è½å¯¹linuxæä»¤ä¸å¤ªçæï¼ç»æå°±ä¼å¯¼è´åç§åæ ·çé®é¢åçãæ¯å¦é²ç«å¢å¦ä½å³é­ï¼ipå°åå¦ä½æ¥è¯¢ï¼jdkå¦ä½å®è£ç­ç­ãè¿éä¸ä½ä¸ºéç¹åå®¹ç»å¤§å®¶æ®åäºï¼äºè§£ä¸ä¸æ´ä½è¿ç¨å°±è¡äºã\n\n\n\n\n# yw-2.éç½®é«çº§\n\nå³äºéç½®å¨åºç¡ç¯è®²è¿ä¸é¨åï¼åºç¡ç¯çéç½®æ»ä½ä¸æ¥è¯´å°±æ¯è®©åä½å°ä¼ä¼´ææ¡éç½®çæ ¼å¼ãæ¯å¦éç½®æä»¶å¦ä½ååï¼åå¥½çæ°æ®å¦ä½è¯»ååï¼é½æ¯åºç¡çè¯­æ³çº§ç¥è¯ãå¨å®ç¨ç¯ä¸­å°±è¦éä¸­å¨éç½®çåºç¨è¿ä¸ªæ¹é¢äºï¼ä¸é¢å°±å¼å§éç½®é«çº§ç¸å³åå®¹çç¬¬ä¸é¨åå­¦ä¹ ï¼ä¸ºä»ä¹è¯´ç¬¬ä¸é¨åï¼å ä¸ºå¨å¼åå®ç¨ç¯ä¸­è¿æå¯¹åºçéç½®é«çº§ç¥è¯è¦è¿è¡å­¦ä¹ ã\n\n\n# yw-2-1.ä¸´æ¶å±æ§è®¾ç½®\n\nç®åæä»¬çç¨åºåæå¥½äºï¼å¯ä»¥åå¸äºãä½æ¯ç¨åºåæå¥½ä»¥åï¼éé¢çéç½®é½å·²ç»æ¯åºå®çäºï¼æ¯å¦éç½®äºæå¡å¨çç«¯å£æ¯8080ãå¦ææè¦å¯å¨é¡¹ç®ï¼åç°å½åæçæå¡å¨ä¸å·²ç»æåºç¨å¯å¨èµ·æ¥å¹¶ä¸å ç¨äº8080ç«¯å£ï¼è¿ä¸ªæ¶åå°±å°´å°¬äºãé¾éè¦éæ°ææåå¥½çç¨åºä¿®æ¹ä¸ä¸åï¼æ¯å¦æè¦ææåå¥½çç¨åºå¯å¨ç«¯å£æ¹æ80ã\n\n\n\nspringbootæä¾äºçµæ´»çéç½®æ¹å¼ï¼å¦æä½ åç°ä½ çé¡¹ç®ä¸­æä¸ªå«å±æ§éè¦éæ°éç½®ï¼å¯ä»¥ä½¿ç¨ä¸´æ¶å±æ§çæ¹å¼å¿«éä¿®æ¹æäºéç½®ãæ¹æ³ä¹ç¹å«ç®åï¼å¨å¯å¨çæ¶åæ·»å ä¸å¯¹åºåæ°å°±å¯ä»¥äºã\n\njava âjar springboot.jar â-server.port=80\n\n\nä¸é¢çå½ä»¤æ¯å¯å¨springbootç¨åºåçå½ä»¤ï¼å¨å½ä»¤è¾å¥å®æ¯åï¼ç©ºä¸æ ¼ï¼ç¶åè¾å¥ä¸¤ä¸ª-å·ãä¸é¢æç§å±æ§å=å±æ§å¼çå½¢å¼æ·»å å¯¹åºåæ°å°±å¯ä»¥äºãè®°å¾ï¼è¿éçæ ¼å¼ä¸æ¯yamlä¸­çä¹¦åæ ¼å¼ï¼å½å±æ§å­å¨å¤çº§åç§°æ¶ï¼ä¸­é´ä½¿ç¨ç¹åéï¼åpropertiesæä»¶ä¸­çå±æ§æ ¼å¼å®å¨ç¸åã\n\nå¦æä½ åç°è¦ä¿®æ¹çå±æ§ä¸æ­¢ä¸ä¸ªï¼å¯ä»¥æç§ä¸è¿°æ ¼å¼ç»§ç»­åï¼å±æ§ä¸å±æ§ä¹é´ä½¿ç¨ç©ºæ ¼åéã\n\njava âjar springboot.jar â-server.port=80 --logging.level.root=debug\n\n\n# å±æ§å è½½ä¼åçº§\n\nç°å¨æä»¬çç¨åºéç½®åä¸¤ä¸ªå°æ¹æ§å¶äºï¼ç¬¬ä¸éç½®æä»¶ï¼ç¬¬äºä¸´æ¶å±æ§ãå¹¶ä¸æä»¬åç°ä¸´æ¶å±æ§çå è½½ä¼åçº§è¦é«äºéç½®æä»¶çãé£æ¯å¦è¿æå¶ä»çéç½®æ¹å¼å¢ï¼å¶å®æ¯æçï¼èä¸è¿ä¸å°ï¼æå¼å®æ¹ææ¡£ä¸­å¯¹åºçåå®¹ï¼å°±å¯ä»¥æ¥çéç½®è¯»åçä¼åé¡ºåºï¼ä»ä¸å°ä¸ä¼åçº§è¶æ¥è¶é«ï¼ãå°åå¥ä¸ï¼https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config\n\næä»¬å¯ä»¥çå°ï¼å±ç¶æ14ç§éç½®çä½ç½®ï¼èæä»¬ç°å¨ä½¿ç¨çæ¯è¿éé¢ç2ä¸ªãç¬¬3æ¡config dataè¯´çå°±æ¯ä½¿ç¨éç½®æä»¶ï¼ç¬¬11æ¡command line argumentsè¯´çå°±æ¯ä½¿ç¨å½ä»¤è¡ä¸´æ¶åæ°ãèè¿14ç§éç½®çé¡ºåºå°±æ¯springbootå è½½éç½®çé¡ºåºï¼è¨å¤ä¹æï¼å½ä»¤è¡ä¸´æ¶å±æ§æ¯éç½®æä»¶çå è½½ä¼åçº§é«ï¼æä»¥è¿ä¸ªåè¡¨ä¸é¢çä¼åçº§ä½ï¼ä¸é¢çä¼åçº§é«ãå¶å®è¿ä¸ªä¸è¥¿ä¸ç¨èçï¼ä½ å°±è®°å¾ä¸ç¹ï¼ä½ æç»è¦ä»ä¹ææï¼ä½ èªå·±æ¯ç¥éçï¼ä¸ç®¡è¿ä¸ªé¡ºåºæ¯æä¹ä¸ªé«ä½æåºï¼å¼åæ¶ä¸å®è¦éç½®æä½ è¦çé¡ºåºä¸ºåãè¿ä¸ªé¡ºåºåªæ¯å¨ä½ æ³ä¸æç½é®é¢çæ¶åå¸®å©ä½ åæç½¢äºã\n\næ¯å¦ä½ ç°å¨å è½½äºä¸ä¸ªuser.nameå±æ§ãç»æä½ åç°åºæ¥çç»æåä½ æ³çä¸ä¸æ ·ï¼é£è¯å®æ¯å«çä¼åçº§æ¯ä½ é«çå±æ§è¦çä½ çéç½®å±æ§äºï¼é£ä½ å°±å¯ä»¥ççè¿ä¸ªé¡ºåºæ¨ä¸ªææ¥ãåªä¸ªä½ç½®æå¯è½è¦çäºä½ çå±æ§ã\n\næå¨è¯¾ç¨è¯è®ºåºçå°å°ä¼ä¼´å­¦ä¹ åºç¡ç¯çæ¶åé®è¿ä¸ªé®é¢äºï¼å°±æ¯è¿ä¸ªåå é æçãå¨yamlä¸­éç½®äºuser.nameå±æ§å¼ï¼ç¶åè¯»ååºæ¥çæ¶åå±ç¶ä¸æ¯èªå·±çéç½®å¼ï¼å ä¸ºå¨ç³»ç»å±æ§ä¸­æä¸ä¸ªå±æ§å«åuser.nameï¼ä¸¤ä¸ªç¸äºå²çªäºãèç³»ç»å±æ§çå è½½ä¼åé¡ºåºå¨ä¸é¢è¿ä¸ªåè¡¨ä¸­æ¯5å·ï¼é«äº3å·ï¼æä»¥springbootæç»ä¼å è½½ç³»ç»éç½®å±æ§user.nameã\n\næ»ç»\n\n 1. ä½¿ç¨jarå½ä»¤å¯å¨springbootå·¥ç¨æ¶å¯ä»¥ä½¿ç¨ä¸´æ¶å±æ§æ¿æ¢éç½®æä»¶ä¸­çå±æ§\n 2. ä¸´æ¶å±æ§æ·»å æ¹å¼ï¼java âjar å·¥ç¨å.jar â-å±æ§å=å¼\n 3. å¤ä¸ªä¸´æ¶å±æ§ä¹é´ä½¿ç¨ç©ºæ ¼åé\n 4. ä¸´æ¶å±æ§å¿é¡»æ¯å½åbootå·¥ç¨æ¯æçå±æ§ï¼å¦åè®¾ç½®æ æ\n\n# å¼åç¯å¢ä¸­ä½¿ç¨ä¸´æ¶å±æ§\n\nä¸´æ¶ä½¿ç¨ç®åæ¯æäºï¼ä½æ¯ä¸çº¿çæ¶åéè¿å½ä»¤è¡è¾å¥çä¸´æ¶å±æ§å¿é¡»æ¯æ­£ç¡®çåï¼é£è¿äºå±æ§éç½®å¼æä»¬å¿é¡»å¨å¼åç¯å¢ä¸­æµè¯å¥½æè¡ãä¸é¢è¯´ä¸ä¸å¼åç¯å¢ä¸­å¦ä½ä½¿ç¨ä¸´æ¶å±æ§ï¼å¶å®å°±æ¯ideaçé¢ä¸å¦ä½æä½äºã\n\næå¼springbootå¼å¯¼ç±»çè¿è¡çé¢run/debug configurationsï¼å¨éé¢æ¾å°éç½®é¡¹ãå¶ä¸­program argumentså¯¹åºçä½ç½®å°±æ¯æ·»å ä¸´æ¶å±æ§çï¼å¯ä»¥å å ä¸ªè¯è¯ææã\n\nåå°è¿éå¶å®å¯ä»¥äº§çä¸ä¸ªæèäºï¼å¦æå¯¹javaç¼ç¨çæçå°ä¼ä¼´åºè¯¥ç¥éï¼æä»¬è¿è¡mainæ¹æ³çæ¶åï¼å¦ææ³ä½¿ç¨mainæ¹æ³çåæ°ï¼ä¹å°±æ¯ä¸é¢çargsåæ°ï¼å°±æ¯å¨ä¸é¢è¿ä¸ªä½ç½®æ·»å çåæ°ã\n\npublic static void main(string[] args) {\n}\n\n\nåæ¥æ¯è¿æ ·ï¼éè¿è¿ä¸ªargså°±å¯ä»¥è·åå°åæ°ãåæ¥çæä»¬çå¼å¯¼ç±»æ¯å¦ä½ä¹¦åç\n\npublic static void main(string[] args) {\n    springapplication.run(ssmpapplication.class,args);\n}\n\n\nè¿ä¸ªargsåæ°å±ç¶ä¼ éç»äºrunæ¹æ³ï¼çæ¥å¨ideaä¸­éç½®çä¸´æ¶åæ°å°±æ¯éè¿è¿ä¸ªä½ç½®ä¼ éå°æä»¬çç¨åºä¸­çãè¨å¤ä¹æï¼è¿éå¦æä¸ç¨è¿ä¸ªargsæ¯ä¸æ¯å°±æ­å¼äºå¤é¨ä¼ éä¸´æ¶å±æ§çå¥å£å¢ï¼æ¯è¿æ ·çï¼æä»¬å¯ä»¥ä½¿ç¨ä¸é¢çè°ç¨æ¹å¼ï¼è¿æ ·å¤é¨ä¸´æ¶å±æ§å°±æ æ³è¿å¥å°springbootç¨åºä¸­äºã\n\npublic static void main(string[] args) {\n    springapplication.run(ssmpapplication.class);\n}\n\n\næèè¿å¯ä»¥ä½¿ç¨å¦ä¸æ ¼å¼æ¥ç©è¿ä¸ªæä½ï¼å°±æ¯å°éç½®ä¸åå¨éç½®æä»¶ä¸­ï¼ç´æ¥åæä¸ä¸ªå­ç¬¦ä¸²æ°ç»ï¼ä¼ éç»ç¨åºå¥å£ãå½ç¶ï¼è¿ç§åæ³å¹¶æ²¡æä»ä¹å®éå¼åæä¹ã\n\npublic static void main(string[] args) {\n    string[] arg = new string[1];\n    arg[0] = "--server.port=8082";\n    springapplication.run(ssmpapplication.class, arg);\n}\n\n\næ»ç»\n\n 1. å¯å¨springbootç¨åºæ¶ï¼å¯ä»¥éæ©æ¯å¦ä½¿ç¨å½ä»¤è¡å±æ§ä¸ºspringbootç¨åºä¼ éå¯å¨å±æ§\n\næè\n\nç°å¨ä½¿ç¨ä¸´æ¶å±æ§å¯ä»¥å¨å¯å¨é¡¹ç®åä¸´æ¶æ´æ¹éç½®äºï¼ä½æ¯æ°çé®é¢ååºæ¥äºãä¸´æ¶å±æ§å¥½ç¨æ¯å¥½ç¨ï¼å°±æ¯åçå¤äºä¼å¾éº»ç¦ãæ¯å¦æç°å¨æä¸ªéæ±ï¼ä¸çº¿çæ¶åä½¿ç¨ä¸´æ¶å±æ§éç½®20ä¸ªå¼ï¼è¿ä¸å¯éº»ç¦äºï¼è½ä¸è½æå¾ç®åç¹ï¼éä¸­ç®¡çä¸ä¸å¢ï¼æ¯å¦è¯´æä¸ªæä»¶ï¼å è½½æå®æä»¶ï¼è¿çå¯ä»¥ãæä¹åå¢ï¼å±ä»¬ä¸ä¸èåè¯´ã\n\n\n# yw-2-2.éç½®æä»¶åç±»\n\nspringbootæä¾äºéç½®æä»¶åä¸´æ¶å±æ§çæ¹å¼æ¥å¯¹ç¨åºè¿è¡éç½®ãåé¢ä¸ç´è¯´çæ¯ä¸´æ¶å±æ§ï¼è¿ä¸èè¦è¯´è¯´éç½®æä»¶äºãå¶å®è¿ä¸ªéç½®æä»¶æä»¬ä¸ç´å¨ä½¿ç¨ï¼åªä¸è¿æä»¬ç¨çæ¯springbootæä¾ç4çº§éç½®æä»¶ä¸­çå¶ä¸­ä¸ä¸ªçº§å«ã4ä¸ªçº§å«åå«æ¯ï¼\n\n * ç±»è·¯å¾ä¸éç½®æä»¶ï¼ä¸ç´ä½¿ç¨çæ¯è¿ä¸ªï¼ä¹å°±æ¯resourcesç®å½ä¸­çapplication.ymlæä»¶ï¼\n * ç±»è·¯å¾ä¸configç®å½ä¸éç½®æä»¶\n * ç¨åºåæå¨ç®å½ä¸­éç½®æä»¶\n * ç¨åºåæå¨ç®å½ä¸­configç®å½ä¸éç½®æä»¶\n\nå¥½å¤æï¼ä¸ä¸ªä¸ä¸ªè¯´ãå¶å®ä¸è¿°4ç§æä»¶æ¯æä¾ç»ä½ äº4ç§éç½®æä»¶ä¹¦åçä½ç½®ï¼åè½é½æ¯ä¸æ ·çï¼é½æ¯åéç½®çãé£å¤§å®¶å³å¿çå°±æ¯å·®å«äºï¼æ²¡éï¼å°±æ¯å ä¸ºä½ç½®ä¸åï¼äº§çäºå·®å¼ãæ»ä½ä¸æ¥è¯´ï¼4ç§éç½®æä»¶å¦æé½å­å¨çè¯ï¼æä¸ä¸ªä¼åçº§çé®é¢ï¼è¯´ç½äºå°±æ¯å å¥4ä¸ªæä»¶æé½æï¼éé¢é½æä¸æ ·çéç½®ï¼è°çæçé®é¢ãä¸é¢4ä¸ªæä»¶çå è½½ä¼åé¡ºåºä¸º\n\n 1. file ï¼config/application.yml ãæé«ã\n 2. file ï¼application.yml\n 3. classpathï¼config/application.yml\n 4. classpathï¼application.yml ãæä½ã\n\né£ä¸ºä»ä¹è®¾è®¡è¿ç§å¤ç§å¢ï¼è¯´ä¸ä¸ªæå¸åçåºç¨å§ã\n\n * åºæ¯aï¼ä½ ä½ä¸ºä¸ä¸ªå¼åèï¼ä½ åç¨åºçæ¶åä¸ºäºæ¹ä¾¿èªå·±åä»£ç ï¼éç½®çæ°æ®åºè¯å®æ¯è¿æ¥ä½ èªå·±æ¬æºçï¼å±ä»¬ä½¿ç¨4è¿ä¸ªçº§å«ï¼ä¹å°±æ¯ä¹åä¸ç´ç¨çapplication.ymlã\n * åºæ¯bï¼ç°å¨é¡¹ç®å¼åå°äºä¸ä¸ªé¶æ®µï¼è¦èè°æµè¯äºï¼è¿æ¥çæ°æ®åºæ¯æµè¯æå¡å¨çæ°æ®åºï¼è¯å®è¦æ¢ä¸ç»éç½®å§ãä½ å¯ä»¥éæ©æä½ ä¹åçæä»¶ä¸­çåå®¹é½æ¹äºï¼ç®åè¿ä¸éº»ç¦ã\n * åºæ¯cï¼æµè¯å®äºï¼ä¸åokãä½ ç»§ç»­åä½ çä»£ç ï¼ä½ åç°ä½ åæ¥åçéç½®æä»¶è¢«æ¹ææµè¯æå¡å¨çåå®¹äºï¼ä½ è¦åæ¹åæ¥ãç°å¨æç½äºä¸ï¼åºæ¯bä¸­æä½ çåå®¹é½æ¹æäºï¼ä½ ç°å¨è¦éæ°æ¹åæ¥ï¼ä»¥åå¢ï¼æ¹æ¥æ¹å»åï¼\n\nè§£å³æ¹æ¡å¾ç®åï¼ç¨ä¸é¢ç3è¿ä¸ªçº§å«çéç½®æä»¶å°±å¯ä»¥å¿«éè§£å³è¿ä¸ªé®é¢ï¼ååä¸ä¸ªéç½®å°±è¡äºãä¸¤ä¸ªéç½®æä»¶å±å­ï¼å ä¸ºconfigç®å½ä¸­çéç½®å è½½ä¼åçº§æ¯ä½ çé«ï¼æä»¥éç½®é¡¹å¦æåçº§å«4éé¢çåå®¹ç¸åå°±è¦çäºï¼è¿æ ·æ¯ä¸æ¯å¾ç®åï¼\n\nçº§å«1å2ä»ä¹æ¶åä½¿ç¨å¢ï¼ç¨åºæåä»¥åå°±è¦ç¨è¿ä¸ªçº§å«äºï¼ç®¡ä½ ç¨åºéé¢éç½®åçæ¯ä»ä¹ï¼æççº§å«é«ï¼å¯ä»¥è½»æ¾è¦çä½ ï¼å°±ä¸ç¨èèè¿äºéç½®å²çªçé®é¢äºã\n\n\n\næ»ç»\n\n 1. éç½®æä»¶åä¸º4ç§\n    \n    * é¡¹ç®ç±»è·¯å¾éç½®æä»¶ï¼æå¡äºå¼åäººåæ¬æºå¼åä¸æµè¯**ï¼æä½ï¼**\n    * é¡¹ç®ç±»è·¯å¾configç®å½ä¸­éç½®æä»¶ï¼æå¡äºé¡¹ç®ç»çæ´ä½è°æ§\n    * å·¥ç¨è·¯å¾éç½®æä»¶ï¼æå¡äºè¿ç»´äººåéç½®æ¶å¯çº¿ä¸ç¯å¢\n    * å·¥ç¨è·¯å¾configç®å½ä¸­éç½®æä»¶ï¼æå¡äºè¿ç»´ç»çæ´ä½è°æ§**ï¼æé«ï¼**\n\n 2. å¤å±çº§éç½®æä»¶é´çå±æ§éç¨å å å¹¶è¦ççå½¢å¼ä½ç¨äºç¨åº\n\n\n# yw-2-3.èªå®ä¹éç½®æä»¶\n\nä¹åå±ä»¬åéç½®ä½¿ç¨çéç½®æä»¶é½æ¯application.ymlï¼å¶å®è¿ä¸ªæä»¶ä¹æ¯å¯ä»¥æ¹åå­çï¼è¿æ ·æ¹ä¾¿ç»´æ¤ãæ¯å¦æ2020å¹´4æ1æ¥ææ´»å¨ï¼èµ°äºä¸ç»éç½®ï¼2020å¹´5æ1æ¥æ´»å¨åæ¶ï¼æ¢å¤åå§éç½®ï¼è¿ä¸ªæ¶ååªéè¦éæ°æ´æ¢ä¸ä¸éç½®æä»¶å°±å¯ä»¥äºãä½æ¯ä½ æ»ä¸è½å¨åå§éç½®æä»¶ä¸ä¿®æ¹å§ï¼ä¸ç¶æå®æ´»å¨ä»¥åï¼æ´»å¨çéç½®å°±çä¸ä¸æ¥äºï¼ä¸å©äºç»´æ¤ã\n\nèªå®ä¹éç½®æä»¶æ¹å¼æå¦ä¸ä¸¤ç§ï¼\n\næ¹å¼ä¸ï¼ä½¿ç¨ä¸´æ¶å±æ§è®¾ç½®éç½®æä»¶åï¼æ³¨æä»ä»æ¯åç§°ï¼ä¸è¦å¸¦æ©å±å\n\næ¹å¼äºï¼ä½¿ç¨ä¸´æ¶å±æ§è®¾ç½®éç½®æä»¶è·¯å¾ï¼è¿ä¸ªæ¯å¨è·¯å¾å\n\nä¹å¯ä»¥è®¾ç½®å è½½å¤ä¸ªéç½®æä»¶ï¼** æåä¸ä¸ªæä»¶ä¼ä½¿åé¢çå¤±æ**ï¼\n\nä½¿ç¨çå±æ§ä¸ä¸ªæ¯spring.config.nameï¼å¦ä¸ä¸ªæ¯spring.config.locationï¼è¿ä¸ªä¸å®è¦åºå«æ¸æ¥ã\n\n\n\næ¸©é¦¨æç¤º\n\næä»¬ç°å¨ç ç©¶çé½æ¯springbootåä½é¡¹ç®ï¼å°±æ¯åæå¡å¨çæ¬ãå¶å®ä¼ä¸å¼åç°å¨æ´å¤çæ¯ä½¿ç¨åºäºspringcloudææ¯çå¤æå¡å¨é¡¹ç®ãè¿ç§éç½®æ¹å¼åæä»¬ç°å¨å­¦ä¹ çå®å¨ä¸ä¸æ ·ï¼ææçæå¡å¨å°ä¸åè®¾ç½®èªå·±çéç½®æä»¶ï¼èæ¯éè¿éç½®ä¸­å¿è·åéç½®ï¼å¨æå è½½éç½®ä¿¡æ¯ãä¸ºä»ä¹è¿æ ·åï¼éä¸­ç®¡çãè¿éä¸åè¯´è¿äºäºï¼åé¢åè®²è¿äºä¸è¥¿ã\n\næ»ç»\n\n 1. éç½®æä»¶å¯ä»¥ä¿®æ¹åç§°ï¼éè¿å¯å¨åæ°è®¾å®\n 2. éç½®æä»¶å¯ä»¥ä¿®æ¹è·¯å¾ï¼éè¿å¯å¨åæ°è®¾å®\n 3. å¾®æå¡å¼åä¸­éç½®æä»¶éè¿éç½®ä¸­å¿è¿è¡è®¾ç½®\n\n\n\n\n# yw-3.å¤ç¯å¢å¼å\n\nè®²çåå®¹è·ç¦»çº¿ä¸å¼åè¶æ¥è¶è¿äºï¼ä¸é¢è¯´ä¸è¯´å¤ç¯å¢å¼åé®é¢ã\n\nä»ä¹æ¯å¤ç¯å¢ï¼å¶å®å°±æ¯è¯´ä½ ççµèä¸åçç¨åºæç»è¦æ¾å°å«äººçæå¡å¨ä¸å»è¿è¡ãæ¯ä¸ªè®¡ç®æºç¯å¢ä¸ä¸æ ·ï¼è¿å°±æ¯å¤ç¯å¢ãå¸¸è§çå¤ç¯å¢å¼åä¸»è¦å¼é¡¾3ç§ç¯å¢è®¾ç½®ï¼å¼åç¯å¢ââèªå·±ç¨çï¼æµè¯ç¯å¢ââèªå·±å¬å¸ç¨çï¼çäº§ç¯å¢ââç²æ¹ç¸ç¸ç¨çãå ä¸ºè¿æ¯ç»å¯¹ä¸åçä¸å°çµèï¼æä»¥ç¯å¢è¯å®ææä¸åï¼æ¯å¦è¿æ¥çæ°æ®åºä¸ä¸æ ·ï¼è®¾ç½®çè®¿é®ç«¯å£ä¸ä¸æ ·ç­ç­ã\n\n\n# yw-3-1.å¤ç¯å¢å¼åï¼yamlåä¸æä»¶çï¼\n\né£ä»ä¹æ¯å¤ç¯å¢å¼åï¼å°±æ¯éå¯¹ä¸åçç¯å¢è®¾ç½®ä¸åçéç½®å±æ§å³å¯ãæ¯å¦ä½ èªå·±å¼åæ¶ï¼éç½®ä½ çç«¯å£å¦ä¸ï¼\n\nserver:\n  port: 80\n\n\nå¦ä½æ³è®¾è®¡ä¸¤ç»ç¯å¢å¢ï¼ä¸­é´ä½¿ç¨ä¸ä¸ªåå·åéå¼\n\nserver:\n  port: 80\n---\nserver:\n  port: 81\n\n\nå¦ä½åºåä¸¤ç§ç¯å¢å¢ï¼èµ·åå­å\n\nspring:\n\tprofiles: pro\nserver:\n\tport: 80\n---\nspring:\n\tprofiles: dev\nserver:\n\tport: 81\n\n\né£ç¨åªä¸ä¸ªå¢ï¼è®¾ç½®é»è®¤å¯å¨åªä¸ªå°±å¯ä»¥äº\n\nspring:\n\tprofiles:\n\t\tactive: pro\t\t# é»è®¤å¯å¨pro\n---\nspring:\n\tprofiles: pro\nserver:\n\tport: 80\n---\nspring:\n\tprofiles: dev\nserver:\n\tport: 81\n\n\nå°±è¿ä¹ç®åï¼åå¤æ¥ä¸ç»ç¯å¢ä¹ok\n\nspring:\n\tprofiles:\n\t\tactive: pro\t\t# é»è®¤å¯å¨pro\n---\nspring:\n\tprofiles: pro\nserver:\n\tport: 80\n---\nspring:\n\tprofiles: dev\nserver:\n\tport: 81\n---\nspring:\n\tprofiles: test\nserver:\n\tport: 82\n\n\nå¶ä¸­å³äºç¯å¢åç§°å®ä¹ä¸è¿°æ ¼å¼æ¯è¿æ¶æ ¼å¼ï¼æ åæ ¼å¼å¦ä¸\n\nspring:\n\tconfig:\n    \tactivate:\n        \ton-profile: pro\n\n\næ»ç»\n\n 1. å¤ç¯å¢å¼åéè¦è®¾ç½®è¥å¹²ç§å¸¸ç¨ç¯å¢ï¼ä¾å¦å¼åãçäº§ãæµè¯ç¯å¢\n 2. yamlæ ¼å¼ä¸­è®¾ç½®å¤ç¯å¢ä½¿ç¨---åºåç¯å¢è®¾ç½®è¾¹ç\n 3. æ¯ç§ç¯å¢çåºå«å¨äºå è½½çéç½®å±æ§ä¸å\n 4. å¯ç¨æç§ç¯å¢æ¶éè¦æå®å¯å¨æ¶ä½¿ç¨è¯¥ç¯å¢\n\n\n# yw-3-2.å¤ç¯å¢å¼åï¼yamlå¤æä»¶çï¼\n\nå°ææçéç½®é½æ¾å¨ä¸ä¸ªéç½®æä»¶ä¸­ï¼å°¤å¶æ¯æ¯ä¸ä¸ªéç½®åºç¨åºæ¯é½ä¸ä¸æ ·ï¼è¿æ¾ç¶ä¸åçï¼äºæ¯å°±æäºå°ä¸ä¸ªéç½®æä»¶æåæå¤ä¸ªéç½®æä»¶çæ³æ³ãæååï¼æ¯ä¸ªéç½®æä»¶ä¸­åèªå·±çéç½®ï¼ä¸»éç½®æä»¶ä¸­åæ¸æ¥ç¨åªä¸ä¸ªéç½®æä»¶å°±å¥½äºã\n\nä¸»éç½®æä»¶\n\nspring:\n\tprofiles:\n\t\tactive: pro\t\t# å¯å¨pro\n\n\nç¯å¢éç½®æä»¶\n\nserver:\n\tport: 80\n\n\nç¯å¢éç½®æä»¶å ä¸ºæ¯ä¸ä¸ªé½æ¯éç½®èªå·±çé¡¹ï¼æä»¥è¿åå­é½ä¸ç¨åéé¢äºãé£é®é¢æ¯å¦ä½åºåè¿æ¯åªä¸ç»éç½®å¢ï¼ä½¿ç¨æä»¶ååºåã\n\napplication-pro.yaml\n\nserver:\n\tport: 80\n\n\napplication-dev.yaml\n\nserver:\n\tport: 81\n\n\næä»¶çå½åè§åä¸ºï¼application-ç¯å¢å.ymlã\n\nå¨éç½®æä»¶ä¸­ï¼å¦ææäºéç½®é¡¹ææç¯å¢é½ä¸æ ·ï¼å¯ä»¥å°è¿äºé¡¹åå¥å°ä¸»éç½®ä¸­ï¼åªæåªäºæåºå«çé¡¹æåå¥å°ç¯å¢éç½®æä»¶ä¸­ã\n\n * ä¸»éç½®æä»¶ä¸­è®¾ç½®å¬å±éç½®ï¼å¨å±ï¼\n * ç¯å¢åç±»éç½®æä»¶ä¸­å¸¸ç¨äºè®¾ç½®å²çªå±æ§ï¼å±é¨ï¼\n\næ»ç»\n\n 1. å¯ä»¥ä½¿ç¨ç¬ç«éç½®æä»¶å®ä¹ç¯å¢å±æ§\n\n 2. ç¬ç«éç½®æä»¶ä¾¿äºçº¿ä¸ç³»ç»ç»´æ¤æ´æ°å¹¶ä¿éç³»ç»å®å¨æ§\n\n\n# yw-3-3.å¤ç¯å¢å¼åï¼propertieså¤æä»¶çï¼\n\nspringbootææ©ææä¾çéç½®æä»¶æ ¼å¼æ¯propertiesæ ¼å¼çï¼è¿ç§æ ¼å¼çå¤ç¯å¢éç½®ä¹äºè§£ä¸ä¸å§ã\n\nä¸»éç½®æä»¶\n\nspring.profiles.active=pro\n\n\nç¯å¢éç½®æä»¶\n\napplication-pro.properties\n\nserver.port=80\n\n\napplication-dev.properties\n\nserver.port=81\n\n\næä»¶çå½åè§åä¸ºï¼application-ç¯å¢å.propertiesã\n\næ»ç»\n\n 1. propertiesæä»¶å¤ç¯å¢éç½®ä»æ¯æå¤æä»¶æ ¼å¼\n\n\n# yw-3-4.å¤ç¯å¢å¼åç¬ç«éç½®æä»¶ä¹¦åæå·§\n\nä½ä¸ºç¨åºåå¨æéç½®çæ¶åå¾å¾å¤äºä¸ç§åä¹å¿ååä¹å¿åçå±é¢ãå¼å§ååä¸èµ·ï¼åæ¥ä¸ºäºæ¹ä¾¿ç»´æ¤å°±æåãå¯¹äºå¤ç¯å¢å¼åä¹æ¯å¦æ­¤ï¼ä¸é¢ç»å¤§å®¶è¯´ä¸ä¸å¦ä½åºäºå¤ç¯å¢å¼ååéç½®ç¬ç«ç®¡çï¼å¡å¿ææ¡ã\n\nåå¤å·¥ä½\n\nå°ææçéç½®æ ¹æ®åè½å¯¹éç½®æä»¶ä¸­çä¿¡æ¯è¿è¡æåï¼å¹¶å¶ä½æç¬ç«çéç½®æä»¶ï¼å½åè§åå¦ä¸\n\n * application-devdb.yml\n * application-devredis.yml\n * application-devmvc.yml\n\nä½¿ç¨\n\nä½¿ç¨includeå±æ§å¨æ¿æ´»æå®ç¯å¢çæåµä¸ï¼åæ¶å¯¹å¤ä¸ªç¯å¢è¿è¡å è½½ä½¿å¶çæï¼å¤ä¸ªç¯å¢é´ä½¿ç¨éå·åé\n\nspring:\n\tprofiles:\n    \tactive: dev\n        include: devdb,devredis,devmvc\n\n\næ¯è¾ä¸ä¸ï¼ç°å¨ç¸å½äºå è½½devéç½®æ¶ï¼åå è½½å¯¹åºç3ç»éç½®ï¼ä»ç»æä¸å°±å¾æ¸æ°ï¼ç¨äºä»ä¹ï¼å¯¹åºçåç§°æ¯ä»ä¹\n\næ³¨æ\n\nå½ä¸»ç¯å¢devä¸å¶ä»ç¯å¢æç¸åå±æ§æ¶ï¼ä¸»ç¯å¢å±æ§çæï¼å¶ä»ç¯å¢ä¸­æç¸åå±æ§æ¶ï¼æåå è½½çç¯å¢å±æ§çæ\n\næ¹è¯\n\nä½æ¯ä¸é¢çè®¾ç½®ä¹æä¸ä¸ªé®é¢ï¼æ¯å¦æè¦åæ¢devç¯å¢ä¸ºproæ¶ï¼includeä¹è¦ä¿®æ¹ãå ä¸ºincludeå±æ§åªè½ä½¿ç¨ä¸æ¬¡ï¼è¿å°±æ¯è¾éº»ç¦ãspringbootä»2.4çå¼å§ä½¿ç¨groupå±æ§æ¿ä»£includeå±æ§ï¼éä½äºéç½®ä¹¦åéãç®åè¯´å°±æ¯æååå¥½ï¼ä½ ç±ç¨åªä¸ªç¨åªä¸ªã\n\nspring:\n\tprofiles:\n    \tactive: dev\n        group:\n        \t"dev": devdb,devredis,devmvc\n      \t\t"pro": prodb,proredis,promvc\n      \t\t"test": testdb,testredis,testmvc\n\n\nç°å¨åæ¥çï¼å¦æåæ¢devå°proï¼åªéè¦æ¹ä¸ä¸æ¯ä¸æ¯å°±ç»æäºï¼å®ç¾ï¼\n\næ»ç»\n\n 1. å¤ç¯å¢å¼åä½¿ç¨groupå±æ§è®¾ç½®éç½®æä»¶åç»ï¼ä¾¿äºçº¿ä¸ç»´æ¤ç®¡ç\n\n\n# yw-3-5.å¤ç¯å¢å¼åæ§å¶\n\nå¤ç¯å¢å¼åå°è¿éåºæ¬ä¸è¯´å®äºï¼æåè¯´ä¸ä¸ªå²çªé®é¢ãå°±æ¯mavenåspringbootåæ¶è®¾ç½®å¤ç¯å¢çè¯æä¹æã\n\nè¦æ³å¤çè¿ä¸ªå²çªé®é¢ï¼ä½ è¦åçæ¸ä¸ä¸ªå³ç³»ï¼ç©¶ç«è°å¨å¤ç¯å¢å¼åä¸­å¶ä¸»å¯¼å°ä½ãä¹å°±æ¯è¯´å¦æç°å¨é½è®¾ç½®äºå¤ç¯å¢ï¼è°çåºè¯¥æ¯ä¿çä¸æ¥çï¼å¦ä¸ä¸ªåºè¯¥éµä»ç¸åçè®¾ç½®ã\n\nmavenæ¯åä»ä¹çï¼é¡¹ç®æå»ºç®¡ççï¼æç»çæä»£ç åçï¼springbootæ¯å¹²ä»ä¹çï¼ç®åå¼åçãç®åï¼åä¸æ¯å¶ä¸»å¯¼ä½ç¨ãæç»è¿æ¯è¦é mavenæ¥ç®¡çæ´ä¸ªå·¥ç¨ï¼æä»¥springbootåºè¯¥å¬mavençãæ´ä¸ªç¡®è®¤åä¸é¢å°±å¥½åäºãå¤§ä½ææ³å¦ä¸ï¼\n\n * åå¨mavenç¯å¢ä¸­è®¾ç½®ç¨ä»ä¹å·ä½çç¯å¢\n * å¨springbootä¸­è¯»åmavenè®¾ç½®çç¯å¢å³å¯\n\nmavenä¸­è®¾ç½®å¤ç¯å¢ï¼ä½¿ç¨å±æ§æ¹å¼åºåç¯å¢ï¼\n\n<profiles>\n    <profile>\n        <id>env_dev</id>  \x3c!--idç¨æ¥ç¡®è®¤ç¯å¢åé--\x3e\n        <properties>\n            <profile.active>dev</profile.active>\n        </properties>\n        <activation>\n            <activebydefault>true</activebydefault>\t\t\x3c!--é»è®¤å¯å¨ç¯å¢--\x3e\n        </activation>\n    </profile>\n    <profile>\n        <id>env_pro</id>\n        <properties>\n            <profile.active>pro</profile.active>\n        </properties>\n    </profile>\n</profiles>\n\n\nspringbootä¸­è¯»åmavenè®¾ç½®å¼\n\nspring:\n\tprofiles:\n    \tactive: @profile.active@\n\n\nä¸é¢ç@å±æ§å@å°±æ¯è¯»åmavenä¸­éç½®çå±æ§å¼çè¯­æ³æ ¼å¼ã\n\næ»ç»\n\n 1. å½mavenä¸springbootåæ¶å¯¹å¤ç¯å¢è¿è¡æ§å¶æ¶ï¼ä»¥mavnä¸ºä¸»ï¼springbootä½¿ç¨@..@å ä½ç¬¦è¯»åmavenå¯¹åºçéç½®å±æ§å¼\n 2. åºäºspringbootè¯»åmavenéç½®å±æ§çåæä¸ï¼å¦æå¨ideaä¸æµè¯å·¥ç¨æ¶pom.xmlæ¯æ¬¡æ´æ°éè¦æå¨compileæ¹å¯çæï¼é²æ­¢ç¼å­ä½¿å¾æ°çç¯å¢å±æ§ä¸è½ç«é©¬çæ\n\n\n# yw-4.æ¥å¿\n\nè¿ç»´ç¯æåä¸é¨åæä»¬æ¥èèæ¥å¿ï¼æ¥å¿å¤§å®¶ä¸éçï¼ç®åä»ç»ä¸ä¸ãæ¥å¿å¶å®å°±æ¯è®°å½ç¨åºæ¥å¸¸è¿è¡çä¿¡æ¯ï¼ä¸»è¦ä½ç¨å¦ä¸ï¼\n\n * ç¼ç¨æè°è¯ä»£ç \n * è¿è¥æè®°å½ä¿¡æ¯\n * è®°å½æ¥å¸¸è¿è¥éè¦ä¿¡æ¯ï¼å³°å¼æµéãå¹³åååºæ¶é¿â¦â¦ï¼\n * è®°å½åºç¨æ¥éä¿¡æ¯ï¼éè¯¯å æ ï¼\n * è®°å½è¿ç»´è¿ç¨æ°æ®ï¼æ©å®¹ãå®æºãæ¥è­¦â¦â¦ï¼\n\næè®¸åä½å°ä¼ä¼´å¹¶ä¸ä¹ æ¯äºä½¿ç¨æ¥å¿ï¼æ²¡å³ç³»ï¼æ¢æ¢å¤ç¨ï¼ä¹ æ¯å°±å¥½ãæ³è¿å¤§åï¼è¿æ¯æåºæ¬çï¼å«å»é¢è¯çæ¶åè¯´æ²¡ç¨è¿ï¼å®äºï¼æ²¡æºä¼äºã\n\n# yw-4-1.ä»£ç ä¸­ä½¿ç¨æ¥å¿å·¥å·è®°å½æ¥å¿\n\næ¥å¿çä½¿ç¨æ ¼å¼éå¸¸åºå®ï¼ç´æ¥ä¸æä½æ­¥éª¤ï¼\n\næ­¥éª¤â ï¼æ·»å æ¥å¿è®°å½æä½\n\n@restcontroller\n@requestmapping("/books")\npublic class bookcontroller extends baseclass{\n    private static final logger log = loggerfactory.getlogger(bookcontroller.class);\n    @getmapping\n    public string getbyid(){\n        log.trace("fatal...")  // ç¨çå¾å°\n        log.debug("debug...");\n        log.info("info...");\n        log.warn("warn...");\n        log.error("error...");\n        log.fatal("fatal...")  // éè¯¯çº§å«å¤ªé«äºï¼ä¸è¬ä¸èè\n        return "springboot is running...2";\n    }\n}\n\n\nä¸è¿°ä»£ç ä¸­logå¯¹è±¡å°±æ¯ç¨æ¥è®°å½æ¥å¿çå¯¹è±¡ï¼ä¸é¢çlog.debugï¼log.infoè¿äºæä½å°±æ¯åæ¥å¿çapiäºã\n\næ­¥éª¤â¡ï¼è®¾ç½®æ¥å¿è¾åºçº§å«\n\næ¥å¿è®¾ç½®å¥½ä»¥åå¯ä»¥æ ¹æ®è®¾ç½®éæ©åªäºåä¸è®°å½ãè¿éæ¯æ ¹æ®æ¥å¿ççº§å«æ¥è®¾ç½®çãæ¥å¿ççº§å«åä¸º6ç§ï¼åå«æ¯ï¼\n\n * traceï¼è¿è¡å æ ä¿¡æ¯ï¼ä½¿ç¨çä½\n * debugï¼ç¨åºåè°è¯ä»£ç ä½¿ç¨\n * infoï¼è®°å½è¿ç»´è¿ç¨æ°æ®\n * warnï¼è®°å½è¿ç»´è¿ç¨æ¥è­¦æ°æ®\n * errorï¼è®°å½éè¯¯å æ ä¿¡æ¯\n * fatalï¼ç¾é¾ä¿¡æ¯ï¼åå¹¶è®¡å¥error\n\nä¸è¬æåµä¸ï¼å¼åæ¶åä½¿ç¨debugï¼ä¸çº¿åä½¿ç¨infoï¼è¿ç»´ä¿¡æ¯è®°å½ä½¿ç¨warnå³å¯ãä¸é¢å°±è®¾ç½®ä¸ä¸æ¥å¿çº§å«ï¼\n\n# å¼å¯debugæ¨¡å¼ï¼è¾åºè°è¯ä¿¡æ¯ï¼å¸¸ç¨äºæ£æ¥ç³»ç»è¿è¡ç¶åµ\ndebug: true\n\n\nè¿ä¹è®¾ç½®å¤ªç®åç²æ´äºï¼æ¥å¿ç³»ç»éå¸¸é½æä¾äºç»ç²åº¦çæ§å¶\n\n# å¼å¯debugæ¨¡å¼ï¼è¾åºè°è¯ä¿¡æ¯ï¼å¸¸ç¨äºæ£æ¥ç³»ç»è¿è¡ç¶åµ\ndebug: true\n\n# è®¾ç½®æ¥å¿çº§å«ï¼rootè¡¨ç¤ºæ ¹èç¹ï¼å³æ´ä½åºç¨æ¥å¿çº§å«\nlogging:\n\tlevel:\n    \troot: debug\n\n\nè¿å¯ä»¥åè®¾ç½®æ´ç»ç²åº¦çæ§å¶\n\næ­¥éª¤â¢ï¼è®¾ç½®æ¥å¿ç»ï¼æ§å¶æå®åå¯¹åºçæ¥å¿è¾åºçº§å«ï¼ä¹å¯ä»¥ç´æ¥æ§å¶æå®åå¯¹åºçæ¥å¿è¾åºçº§å«\n\nlogging:\n\t# è®¾ç½®æ¥å¿ç»\n    group:\n    \t# èªå®ä¹ç»åï¼è®¾ç½®å½åç»ä¸­æåå«çå\n        ebank: com.itheima.controller\n    level:\n    \troot: warn\n        # ä¸ºå¯¹åºç»è®¾ç½®æ¥å¿çº§å«\n        ebank: debug\n    \t# ä¸ºå¯¹åº åè®¾ç½®æ¥å¿çº§å«\n        com.itheima.controller: debug\n\n\nè¯´ç½äºå°±æ¯æ»ä½è®¾ç½®ä¸ä¸ï¼æ¯ä¸ªåè®¾ç½®ä¸ä¸ï¼å¦ææè§è®¾ç½®çéº»ç¦ï¼å°±åæååä¸ªç»ï¼å¯¹ç»è®¾ç½®ï¼æ²¡äºï¼å°±è¿äºã\n\næ»ç»\n\n 1. æ¥å¿ç¨äºè®°å½å¼åè°è¯ä¸è¿ç»´è¿ç¨æ¶æ¯\n 2. æ¥å¿ççº§å«å±6ç§ï¼éå¸¸ä½¿ç¨4ç§å³å¯ï¼åå«æ¯debugï¼info,warn,error\n 3. å¯ä»¥éè¿æ¥å¿ç»æä»£ç åçå½¢å¼è¿è¡æ¥å¿æ¾ç¤ºçº§å«çæ§å¶\n\n# æä½ ä¸æï¼ä¼åæ¥å¿å¯¹è±¡åå»ºä»£ç \n\nåä»£ç çæ¶åæ¯ä¸ªç±»é½è¦ååå»ºæ¥å¿è®°å½å¯¹è±¡ï¼è¿ä¸ªå¯ä»¥ä¼åä¸ä¸ï¼ä½¿ç¨åé¢ç¨è¿çlombokææ¯ç»æä»¬æä¾çå·¥å·ç±»å³å¯ã\n\n\n\n\n\n\n@restcontroller\n@requestmapping("/books")\npublic class bookcontroller extends baseclass{\n    private static final logger log = loggerfactory.getlogger(bookcontroller.class);\t//è¿ä¸å¥å¯ä»¥ä¸åäº\n}\n\n\nå¯¼å¥lombokåä½¿ç¨æ³¨è§£æå®ï¼æ¥å¿å¯¹è±¡åä¸ºlog\n\n@slf4j\t\t//è¿ä¸ªæ³¨è§£æ¿ä»£äºä¸é¢é£ä¸è¡\n@restcontroller\n@requestmapping("/books")\npublic class bookcontroller extends baseclass{\n    private static final logger log = loggerfactory.getlogger(bookcontroller.class);\t//è¿ä¸å¥å¯ä»¥ä¸åäº\n}\n\n\næ»ç»\n\n 1. åºäºlombokæä¾ç@slf4jæ³¨è§£ä¸ºç±»å¿«éæ·»å æ¥å¿å¯¹è±¡\n\n# yw-4-2.æ¥å¿è¾åºæ ¼å¼æ§å¶\n\næ¥å¿å·²ç»è½å¤è®°å½äºï¼ä½æ¯ç®åè®°å½çæ ¼å¼æ¯springbootç»æä»¬æä¾çï¼å¦ææ³èªå®ä¹æ§å¶å°±éè¦èªå·±è®¾ç½®äºãååæä¸ä¸å½åæ¥å¿çè®°å½æ ¼å¼ã\n\n\n\n\n\nå¯¹äºåæ¡æ¥å¿ä¿¡æ¯æ¥è¯´ï¼æ¥æï¼è§¦åä½ç½®ï¼è®°å½ä¿¡æ¯æ¯ææ ¸å¿çä¿¡æ¯ãçº§å«ç¨äºåç­éè¿æ»¤ï¼pidä¸çº¿ç¨åç¨äºåç²¾ååæãäºè§£è¿äºä¿¡æ¯åå°±å¯ä»¥diyæ¥å¿æ ¼å¼äºãæ¬è¯¾ç¨ä¸åè¯¦ç»çç ç©¶ï¼æå´è¶£çå°ä¼ä¼´å¯ä»¥å­¦ä¹ ç¸å³çç¥è¯ãä¸é¢ç»åºè¯¾ç¨ä¸­æ¨¡æçå®æ¹æ¥å¿æ¨¡æ¿çä¹¦åæ ¼å¼ï¼ä¾¿äºå¤§å®¶å­¦ä¹ ã\n\nlogging:\n\tpattern:\n    \tconsole: "%d %clr(%p) --- [%16t] %clr(%-40.40c){cyan} : %m %n"\n\n\næ»ç»\n\n 1. æ¥å¿è¾åºæ ¼å¼è®¾ç½®è§åï¼å¾ç®åä¸é¨åï¼\n    \n    \n\n# yw-4-3.æ¥å¿æä»¶\n\næ¥å¿ä¿¡æ¯æ¾ç¤ºï¼è®°å½å·²ç»æ§å¶ä½äºï¼ä¸é¢å°±è¦è¯´ä¸ä¸æ¥å¿çè½¬å­äºãæ¥å¿ä¸è½ä»æ¾ç¤ºå¨æ§å¶å°ä¸ï¼è¦ææ¥å¿è®°å½å°æä»¶ä¸­ï¼æ¹ä¾¿åæç»´æ¤æ¥éã\n\nå¯¹äºæ¥å¿æä»¶çä½¿ç¨å­å¨åç§åæ ·çç­ç¥ï¼ä¾å¦æ¯æ¥è®°å½ï¼åç±»è®°å½ï¼æ¥è­¦åè®°å½ç­ãè¿éä¸»è¦ç ç©¶æ¥å¿æä»¶å¦ä½è®°å½ã\n\nè®°å½æ¥å¿å°æä»¶ä¸­æ ¼å¼éå¸¸ç®åï¼è®¾ç½®æ¥å¿æä»¶åå³å¯ã\n\nlogging:\n\tfile:\n    \tname: server.log\n\n\nè½ç¶ä½¿ç¨ä¸è¿°æ ¼å¼å¯ä»¥å°æ¥å¿è®°å½ä¸æ¥äºï¼ä½æ¯é¢å¯¹çº¿ä¸çå¤ææåµï¼ä¸ä¸ªæä»¶è®°å½è¯å®æ¯ä¸è½å¤æ»¡è¶³è¿ç»´è¦æ±çï¼éå¸¸ä¼æ¯å¤©è®°å½æ¥å¿æä»¶ï¼åæ¶ä¸ºäºä¾¿äºç»´æ¤ï¼è¿è¦éå¶æ¯ä¸ªæ¥å¿æä»¶çå¤§å°ãä¸é¢ç»åºæ¥å¿æä»¶çå¸¸ç¨éç½®æ¹å¼ï¼\n\nlogging:\n\tlogback:\n    \trollingpolicy:\n        \tmax-file-size: 3kb\n            file-name-pattern: server.%d{yyyy-mm-dd}.%i.log\n\n\nä»¥ä¸æ ¼å¼æ¯åºäºlogbackæ¥å¿ææ¯è®¾ç½®æ¯æ¥æ¥å¿æä»¶çè®¾ç½®æ ¼å¼ï¼è¦æ±å®¹éå°è¾¾3kbä»¥åå°±è½¬å­ä¿¡æ¯å°ç¬¬äºä¸ªæä»¶ä¸­ãæä»¶å½åè§åä¸­ç%dæ è¯æ¥æï¼%iæ¯ä¸ä¸ªéå¢åéï¼ç¨äºåºåæ¥å¿æä»¶ã\n\næ»ç»\n\n 1. æ¥å¿è®°å½å°æä»¶\n 2. æ¥å¿æä»¶æ ¼å¼è®¾ç½®',charsets:{cjk:!0}},{title:"å¿«éå¥é¨",frontmatter:{title:"å¿«éå¥é¨",date:"2022-03-20T00:00:00.000Z",permalink:"/springboot/001/",categories:["æ¡æ¶","SpringBoot"],tags:["SpringBoot"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/03.SpringBoot/01.%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html",relativePath:"07.æ¡æ¶/03.SpringBoot/01.å¿«éå¥é¨.md",key:"v-5fd81377",path:"/springboot/001/",headers:[{level:2,title:"JC-1.å¿«éä¸æSpringBoot",slug:"jc-1-å¿«éä¸æspringboot",normalizedTitle:"jc-1.å¿«éä¸æspringboot",charIndex:155},{level:3,title:"JC-1-1.SpringBootå¥é¨ç¨åºå¶ä½ï¼ä¸ï¼",slug:"jc-1-1-springbootå¥é¨ç¨åºå¶ä½-ä¸",normalizedTitle:"jc-1-1.springbootå¥é¨ç¨åºå¶ä½ï¼ä¸ï¼",charIndex:966},{level:3,title:"JC-1-2.SpringBootå¥é¨ç¨åºå¶ä½ï¼äºï¼",slug:"jc-1-2-springbootå¥é¨ç¨åºå¶ä½-äº",normalizedTitle:"jc-1-2.springbootå¥é¨ç¨åºå¶ä½ï¼äºï¼",charIndex:4694},{level:3,title:"JC-1-3.SpringBootå¥é¨ç¨åºå¶ä½ï¼ä¸ï¼",slug:"jc-1-3-springbootå¥é¨ç¨åºå¶ä½-ä¸",normalizedTitle:"jc-1-3.springbootå¥é¨ç¨åºå¶ä½ï¼ä¸ï¼",charIndex:5718},{level:3,title:"JC-1-4.SpringBootå¥é¨ç¨åºå¶ä½ï¼åï¼",slug:"jc-1-4-springbootå¥é¨ç¨åºå¶ä½-å",normalizedTitle:"jc-1-4.springbootå¥é¨ç¨åºå¶ä½ï¼åï¼",charIndex:6497},{level:4,title:"æä½ ä¸æï¼å¨Ideaä¸­éèæå®æä»¶/æä»¶å¤¹",slug:"æä½ ä¸æ-å¨ideaä¸­éèæå®æä»¶-æä»¶å¤¹",normalizedTitle:"æä½ ä¸æï¼å¨ideaä¸­éèæå®æä»¶/æä»¶å¤¹",charIndex:8735},{level:3,title:"JC-1-5.SpringBootç®ä»",slug:"jc-1-5-springbootç®ä»",normalizedTitle:"jc-1-5.springbootç®ä»",charIndex:9398},{level:4,title:"parent",slug:"parent",normalizedTitle:"parent",charIndex:2764},{level:4,title:"starter",slug:"starter",normalizedTitle:"starter",charIndex:2862},{level:4,title:"å¼å¯¼ç±»",slug:"å¼å¯¼ç±»",normalizedTitle:"å¼å¯¼ç±»",charIndex:8626},{level:4,title:"ååµtomcat",slug:"ååµtomcat",normalizedTitle:"ååµtomcat",charIndex:10795},{level:2,title:"JC-2.SpringBootåºç¡éç½®",slug:"jc-2-springbootåºç¡éç½®",normalizedTitle:"jc-2.springbootåºç¡éç½®",charIndex:26833},{level:3,title:"JC-2-1.å±æ§éç½®",slug:"jc-2-1-å±æ§éç½®",normalizedTitle:"jc-2-1.å±æ§éç½®",charIndex:27397},{level:3,title:"JC-2-2.éç½®æä»¶åç±»",slug:"jc-2-2-éç½®æä»¶åç±»",normalizedTitle:"jc-2-2.éç½®æä»¶åç±»",charIndex:29310},{level:4,title:"éç½®æä»¶ä¼åçº§",slug:"éç½®æä»¶ä¼åçº§",normalizedTitle:"éç½®æä»¶ä¼åçº§",charIndex:30141},{level:4,title:"æä½ ä¸æï¼èªå¨æç¤ºåè½æ¶å¤±è§£å³æ¹æ¡",slug:"æä½ ä¸æ-èªå¨æç¤ºåè½æ¶å¤±è§£å³æ¹æ¡",normalizedTitle:"æä½ ä¸æï¼èªå¨æç¤ºåè½æ¶å¤±è§£å³æ¹æ¡",charIndex:31147},{level:3,title:"JC-2-3.yamlæä»¶",slug:"jc-2-3-yamlæä»¶",normalizedTitle:"jc-2-3.yamlæä»¶",charIndex:31894},{level:3,title:"JC-2-4.yamlæ°æ®è¯»å",slug:"jc-2-4-yamlæ°æ®è¯»å",normalizedTitle:"jc-2-4.yamlæ°æ®è¯»å",charIndex:33591},{level:4,title:"è¯»ååä¸æ°æ®",slug:"è¯»ååä¸æ°æ®",normalizedTitle:"è¯»ååä¸æ°æ®",charIndex:33703},{level:4,title:"è¯»åå¨é¨æ°æ®",slug:"è¯»åå¨é¨æ°æ®",normalizedTitle:"è¯»åå¨é¨æ°æ®",charIndex:33909},{level:4,title:"è¯»åå¯¹è±¡æ°æ®",slug:"è¯»åå¯¹è±¡æ°æ®",normalizedTitle:"è¯»åå¯¹è±¡æ°æ®",charIndex:34208},{level:4,title:"yamlæä»¶ä¸­çæ°æ®å¼ç¨",slug:"yamlæä»¶ä¸­çæ°æ®å¼ç¨",normalizedTitle:"yamlæä»¶ä¸­çæ°æ®å¼ç¨",charIndex:34788},{level:2,title:"JC-3.åºäºSpringBootå®ç°SSMPæ´å",slug:"jc-3-åºäºspringbootå®ç°ssmpæ´å",normalizedTitle:"jc-3.åºäºspringbootå®ç°ssmpæ´å",charIndex:35522},{level:3,title:"JC-3-1.æ´åJUnit",slug:"jc-3-1-æ´åjunit",normalizedTitle:"jc-3-1.æ´åjunit",charIndex:35773},{level:3,title:"JC-3-2.æ´åMyBatis",slug:"jc-3-2-æ´åmybatis",normalizedTitle:"jc-3-2.æ´åmybatis",charIndex:38252},{level:3,title:"JC-3-3.æ´åMyBatis-Plus",slug:"jc-3-3-æ´åmybatis-plus",normalizedTitle:"jc-3-3.æ´åmybatis-plus",charIndex:43976},{level:3,title:"JC-3-4.æ´åDruid",slug:"jc-3-4-æ´ådruid",normalizedTitle:"jc-3-4.æ´ådruid",charIndex:45796},{level:3,title:"JC-3-5.SSMPæ´åç»¼åæ¡ä¾",slug:"jc-3-5-ssmpæ´åç»¼åæ¡ä¾",normalizedTitle:"jc-3-5.ssmpæ´åç»¼åæ¡ä¾",charIndex:48407},{level:4,title:"0.æ¨¡ååå»º",slug:"_0-æ¨¡ååå»º",normalizedTitle:"0.æ¨¡ååå»º",charIndex:49170},{level:4,title:"1.å®ä½ç±»å¼å",slug:"_1-å®ä½ç±»å¼å",normalizedTitle:"1.å®ä½ç±»å¼å",charIndex:49771},{level:4,title:"2.æ°æ®å±å¼åââåºç¡CRUD",slug:"_2-æ°æ®å±å¼å-åºç¡crud",normalizedTitle:"2.æ°æ®å±å¼åââåºç¡crud",charIndex:52613},{level:5,title:"æ¥çMPè¿è¡æ¥å¿",slug:"æ¥çmpè¿è¡æ¥å¿",normalizedTitle:"æ¥çmpè¿è¡æ¥å¿",charIndex:55389},{level:4,title:"3.æ°æ®å±å¼åââåé¡µåè½å¶ä½",slug:"_3-æ°æ®å±å¼å-åé¡µåè½å¶ä½",normalizedTitle:"3.æ°æ®å±å¼åââåé¡µåè½å¶ä½",charIndex:57565},{level:4,title:"4.æ°æ®å±å¼åââæ¡ä»¶æ¥è¯¢åè½å¶ä½",slug:"_4-æ°æ®å±å¼å-æ¡ä»¶æ¥è¯¢åè½å¶ä½",normalizedTitle:"4.æ°æ®å±å¼åââæ¡ä»¶æ¥è¯¢åè½å¶ä½",charIndex:59654},{level:4,title:"5.ä¸å¡å±å¼å",slug:"_5-ä¸å¡å±å¼å",normalizedTitle:"5.ä¸å¡å±å¼å",charIndex:61043},{level:5,title:"ä¸å¡å±å¿«éå¼å",slug:"ä¸å¡å±å¿«éå¼å",normalizedTitle:"ä¸å¡å±å¿«éå¼å",charIndex:64159},{level:4,title:"6.è¡¨ç°å±å¼å",slug:"_6-è¡¨ç°å±å¼å",normalizedTitle:"6.è¡¨ç°å±å¼å",charIndex:64797},{level:4,title:"7.è¡¨ç°å±æ¶æ¯ä¸è´æ§å¤ç",slug:"_7-è¡¨ç°å±æ¶æ¯ä¸è´æ§å¤ç",normalizedTitle:"7.è¡¨ç°å±æ¶æ¯ä¸è´æ§å¤ç",charIndex:66106},{level:4,title:"8.ååç«¯èéæ§æµè¯",slug:"_8-ååç«¯èéæ§æµè¯",normalizedTitle:"8.ååç«¯èéæ§æµè¯",charIndex:67158},{level:4,title:"9.é¡µé¢åºç¡åè½å¼å",slug:"_9-é¡µé¢åºç¡åè½å¼å",normalizedTitle:"9.é¡µé¢åºç¡åè½å¼å",charIndex:67572},{level:5,title:"F-1.åè¡¨åè½ï¼éåé¡µçï¼",slug:"f-1-åè¡¨åè½-éåé¡µç",normalizedTitle:"f-1.åè¡¨åè½ï¼éåé¡µçï¼",charIndex:67586},{level:5,title:"F-2.æ·»å åè½",slug:"f-2-æ·»å åè½",normalizedTitle:"f-2.æ·»å åè½",charIndex:67912},{level:5,title:"F-3.å é¤åè½",slug:"f-3-å é¤åè½",normalizedTitle:"f-3.å é¤åè½",charIndex:69124},{level:5,title:"F-4.ä¿®æ¹åè½",slug:"f-4-ä¿®æ¹åè½",normalizedTitle:"f-4.ä¿®æ¹åè½",charIndex:70072},{level:4,title:"10.ä¸å¡æ¶æ¯ä¸è´æ§å¤ç",slug:"_10-ä¸å¡æ¶æ¯ä¸è´æ§å¤ç",normalizedTitle:"10.ä¸å¡æ¶æ¯ä¸è´æ§å¤ç",charIndex:71221},{level:4,title:"11.é¡µé¢åè½å¼å",slug:"_11-é¡µé¢åè½å¼å",normalizedTitle:"11.é¡µé¢åè½å¼å",charIndex:72991},{level:5,title:"F-5.åé¡µåè½",slug:"f-5-åé¡µåè½",normalizedTitle:"f-5.åé¡µåè½",charIndex:73004},{level:5,title:"F-6.å é¤åè½ç»´æ¤",slug:"f-6-å é¤åè½ç»´æ¤",normalizedTitle:"f-6.å é¤åè½ç»´æ¤",charIndex:74473},{level:5,title:"F-7.æ¡ä»¶æ¥è¯¢åè½",slug:"f-7-æ¡ä»¶æ¥è¯¢åè½",normalizedTitle:"f-7.æ¡ä»¶æ¥è¯¢åè½",charIndex:74982},{level:2,title:"åºç¡ç¯å®ç»",slug:"åºç¡ç¯å®ç»",normalizedTitle:"åºç¡ç¯å®ç»",charIndex:78444}],headersStr:"JC-1.å¿«éä¸æSpringBoot JC-1-1.SpringBootå¥é¨ç¨åºå¶ä½ï¼ä¸ï¼ JC-1-2.SpringBootå¥é¨ç¨åºå¶ä½ï¼äºï¼ JC-1-3.SpringBootå¥é¨ç¨åºå¶ä½ï¼ä¸ï¼ JC-1-4.SpringBootå¥é¨ç¨åºå¶ä½ï¼åï¼ æä½ ä¸æï¼å¨Ideaä¸­éèæå®æä»¶/æä»¶å¤¹ JC-1-5.SpringBootç®ä» parent starter å¼å¯¼ç±» ååµtomcat JC-2.SpringBootåºç¡éç½® JC-2-1.å±æ§éç½® JC-2-2.éç½®æä»¶åç±» éç½®æä»¶ä¼åçº§ æä½ ä¸æï¼èªå¨æç¤ºåè½æ¶å¤±è§£å³æ¹æ¡ JC-2-3.yamlæä»¶ JC-2-4.yamlæ°æ®è¯»å è¯»ååä¸æ°æ® è¯»åå¨é¨æ°æ® è¯»åå¯¹è±¡æ°æ® yamlæä»¶ä¸­çæ°æ®å¼ç¨ JC-3.åºäºSpringBootå®ç°SSMPæ´å JC-3-1.æ´åJUnit JC-3-2.æ´åMyBatis JC-3-3.æ´åMyBatis-Plus JC-3-4.æ´åDruid JC-3-5.SSMPæ´åç»¼åæ¡ä¾ 0.æ¨¡ååå»º 1.å®ä½ç±»å¼å 2.æ°æ®å±å¼åââåºç¡CRUD æ¥çMPè¿è¡æ¥å¿ 3.æ°æ®å±å¼åââåé¡µåè½å¶ä½ 4.æ°æ®å±å¼åââæ¡ä»¶æ¥è¯¢åè½å¶ä½ 5.ä¸å¡å±å¼å ä¸å¡å±å¿«éå¼å 6.è¡¨ç°å±å¼å 7.è¡¨ç°å±æ¶æ¯ä¸è´æ§å¤ç 8.ååç«¯èéæ§æµè¯ 9.é¡µé¢åºç¡åè½å¼å F-1.åè¡¨åè½ï¼éåé¡µçï¼ F-2.æ·»å åè½ F-3.å é¤åè½ F-4.ä¿®æ¹åè½ 10.ä¸å¡æ¶æ¯ä¸è´æ§å¤ç 11.é¡µé¢åè½å¼å F-5.åé¡µåè½ F-6.å é¤åè½ç»´æ¤ F-7.æ¡ä»¶æ¥è¯¢åè½ åºç¡ç¯å®ç»",content:'# SpringBootåºç¡ç¯\n\nå¨åºç¡ç¯ä¸­ï¼æç»å­¦ä¹ èçå®ä½æ¯åä¸æï¼è½å¤ä½¿ç¨SpringBootæ­å»ºåºäºSpringBootçwebé¡¹ç®å¼åï¼æä»¥åå®¹è®¾ç½®è¾å°ï¼ä¸»è¦åå«å¦ä¸åå®¹ï¼\n\n * SpringBootå¿«éå¥é¨\n * SpringBootåºç¡éç½®\n * åºäºSpringBootæ´åSSMP\n\n\n# JC-1.å¿«éä¸æSpringBoot\n\nå­¦ä¹ ä»»æä¸é¡¹ææ¯ï¼é¦åè¦ç¥éè¿ä¸ªææ¯çä½ç¨æ¯ä»ä¹ï¼ä¸ç¶å­¦å®ä»¥åï¼ä½ é½ä¸ç¥éä»ä¹æ¶åä½¿ç¨è¿ä¸ªææ¯ï¼ä¹å°±æ¯ææ¯å¯¹åºçåºç¨åºæ¯ãSpringBootææ¯ç±Pivotalå¢éç åå¶ä½ï¼åè½çè¯ç®åæ¦æ¬å°±æ¯å éSpringç¨åºçå¼åï¼è¿ä¸ªå éè¦ä»å¦ä¸ä¸¤ä¸ªæ¹é¢æ¥è¯´\n\n * Springç¨åºåå§æ­å»ºè¿ç¨\n * Springç¨åºçå¼åè¿ç¨\n\néè¿ä¸é¢ä¸¤ä¸ªæ¹é¢çå®ä½ï¼æä»¬å¯ä»¥äº§çä¸¤ä¸ªæ¨¡ç³çæ¦å¿µï¼\n\n 1. SpringBootå¼åå¢éè®¤ä¸ºåå§çSpringç¨åºåå§æ­å»ºçæ¶åå¯è½æäºç¹çï¼è¿ä¸ªè¿ç¨æ¯å¯ä»¥ç®åçï¼é£åå§çSpringç¨åºåå§æ­å»ºè¿ç¨é½åå«åªäºä¸è¥¿äºå¢ï¼ä¸ºä»ä¹è§å¾ç¹çå¢ï¼æåºæ¬çSpringç¨åºè³å°æä¸ä¸ªéç½®æä»¶æéç½®ç±»ï¼ç¨æ¥æè¿°Springçéç½®ä¿¡æ¯ï¼è«éè¿ä¸ªæä»¶é½å¯ä»¥ä¸åï¼æ­¤å¤ç°å¨ä¼ä¸çº§å¼åä½¿ç¨Springå¤§é¨åæåµä¸æ¯åwebå¼åï¼å¦æåwebå¼åçè¯ï¼è¿è¦å¨å è½½webç¯å¢æ¶å è½½æ¶å è½½æå®çspringéç½®ï¼è¿é½æ¯æåºæ¬çéæ±äºï¼ä¸åçè¯æä¹ç¥éå è½½åªä¸ªéç½®æä»¶/éç½®ç±»å¢ï¼é£æ¢äºSpringBootææ¯ä»¥åå¢ï¼è¿äºè¿è¦ååï¼è°åºç¨åæ­æï¼ååä¸ªå³å­\n 2. SpringBootå¼åå¢éè®¤ä¸ºåå§çSpringç¨åºå¼åçè¿ç¨ä¹æäºç¹çï¼è¿ä¸ªè¿ç¨ä»ç¶å¯ä»¥ç®åãå¼åè¿ç¨æ å¤ä¹ä½¿ç¨ä»ä¹ææ¯ï¼å¯¼å¥å¯¹åºçjaråï¼æåæ ï¼ç¶åå°è¿ä¸ªææ¯çæ ¸å¿å¯¹è±¡äº¤ç»Springå®¹å¨ç®¡çï¼ä¹å°±æ¯éç½®æSpringå®¹å¨ç®¡æ§çbeanå°±å¯ä»¥äºãè¿é½æ¯åºæ¬æä½åï¼é¾éè¿äºä¸è¥¿SpringBootä¹è½å¸®æä»¬ç®åï¼\n\nå¸¦çä¸é¢è¿äºçé®æä»¬å°±çæç¬¬ä¸ä¸ªSpringBootç¨åºçå¼åäºï¼ççå°åºä½¿ç¨SpringBootææ¯è½ç®åå¼åå°ä»ä¹ç¨åº¦ã\n\næ¸©é¦¨æç¤º\n\nå¦æå¯¹Springç¨åºçåºç¡å¼åä¸å¤ªæçå°ä¼ä¼´ï¼çå°è¿éå¯ä»¥å¼åäºï¼ä¸é¢çåå®¹å­¦ä¹ éè¦å·å¤Springææ¯çç¥è¯ï¼ç¡¬çå¤´ç®å­¦ä¸ä¸å»çã\n\n\n# JC-1-1.SpringBootå¥é¨ç¨åºå¶ä½ï¼ä¸ï¼\n\nä¸é¢è®©æä»¬å¼å§åç¬¬ä¸ä¸ªSpringBootç¨åºå§ï¼æ¬è¯¾ç¨åºäºIdea2020.3çæ¬å¶ä½ï¼ä½¿ç¨çMavençæ¬ä¸º3.6.1ï¼JDKçæ¬ä¸º1.8ãå¦æä½ çç¯å¢åä¸è¿°ç¯å¢ä¸åï¼å¯è½å¨æä½çé¢åæä½è¿ç¨ä¸­ç¥æä¸åï¼åªè¦è½¯ä»¶å¹éå¼å®¹å³å¯ï¼è¯´å°è¿ä¸ªIdeaåMavenï¼å®ä»¬ä¸¤ä¸ªè¿çä¸æ¯ä»ä¹çæ¬é½è½æ­å°ä¸èµ·çï¼è¯´å¤äºé½æ¯æ³ªåï¼ã\n\nä¸é¢ä½¿ç¨SpringBootææ¯å¿«éæå»ºä¸ä¸ªSpringMVCçç¨åºï¼éè¿è¿ä¸ªè¿ç¨ä½ä¼ç®åäºå­çå«ä¹\n\næ­¥éª¤â ï¼åå»ºæ°æ¨¡åï¼éæ©Spring Initializrï¼å¹¶éç½®æ¨¡åç¸å³åºç¡ä¿¡æ¯\n\n\n\nç¹å«å³æ³¨ï¼ç¬¬3æ­¥ç¹å»Nextæ¶ï¼Ideaéè¦èç½ç¶ææå¯ä»¥è¿å¥å°åé¢é£ä¸é¡µï¼å¦æä¸è½æ­£å¸¸èç½ï¼å°±æ æ³æ­£ç¡®å°è¾¾å³é¢é£ä¸ªè®¾ç½®é¡µäºï¼ä¼ä¸ç´èç½è½¬è½¬è½¬\n\nç¹å«å³æ³¨ï¼ç¬¬5æ­¥éæ©javaçæ¬åä½ è®¡ç®æºä¸å®è£çJDKçæ¬å¹éå³å¯ï¼ä½æ¯æä½è¦æ±ä¸ºJDK8æä»¥ä¸çæ¬ï¼æ¨èä½¿ç¨8æ11\n\næ­¥éª¤â¡ï¼éæ©å½åæ¨¡åéè¦ä½¿ç¨çææ¯é\n\n\n\næç§è¦æ±ï¼å·¦ä¾§éæ©webï¼ç¶åå¨ä¸­é´éæ©Spring Webå³å¯ï¼éå®å³ä¾§å°±åºç°äºæ°çåå®¹é¡¹ï¼è¿å°±è¡¨ç¤ºå¾éæåäº\n\nå³æ³¨ï¼æ­¤å¤éæ©çSpringBootççæ¬ä½¿ç¨é»è®¤çå°±å¯ä»¥äºï¼éè¦è¯´ä¸ç¹ï¼SpringBootççæ¬åçº§éåº¦å¾å¿«ï¼å¯è½æ¨å¤©åå»ºå·¥ç¨çæ¶åé»è®¤çæ¬æ¯2.5.4ï¼ä»å¤©ååå»ºå·¥ç¨é»è®¤çæ¬å°±åæ2.5.5äºï¼å·®å«ä¸å¤§ï¼æ éè¿äºçº ç»ï¼åå¤´å¯ä»¥å°éç½®æä»¶ä¸­ä¿®æ¹å¯¹åºççæ¬\n\næ­¥éª¤â¢ï¼å¼åæ§å¶å¨ç±»\n\n//Restæ¨¡å¼\n@RestController\n@RequestMapping("/books")\npublic class BookController {\n    @GetMapping\n    public String getById(){\n        System.out.println("springboot is running...");\n        return "springboot is running...";\n    }\n}\n\n\nå¥é¨æ¡ä¾å¶ä½çSpringMVCçæ§å¶å¨åºäºResté£æ ¼å¼åï¼å½ç¶æ­¤å¤ä½¿ç¨åå§æ ¼å¼å¶ä½SpringMVCçç¨åºä¹æ¯æ²¡æé®é¢çï¼ä¸ä¾ä¸­ç@RestControllerä¸@GetMappingæ³¨è§£æ¯åºäºRestfulå¼åçå¸åæ³¨è§£\n\nå³æ³¨ï¼åå°è¿éSpringBootç¨åºçæåºç¡çå¼åå·²ç»åå®äºï¼ç°å¨å°±å¯ä»¥æ­£å¸¸çè¿è¡Springç¨åºäºãå¯è½æäºå°ä¼ä¼´ä¼æçæï¼Tomcatæå¡å¨æ²¡æéç½®ï¼=-Springä¹æ²¡æéç½®ï¼ä»ä¹é½æ²¡æéç½®è¿å°±è½ç¨åï¼è¿å°±æ¯SpringBootææ¯çå¼ºå¤§ä¹å¤ãå³äºåé¨å·¥ä½æµç¨åé¢åè¯´ï¼åä¸å¿å­¦ä¹ å¼åè¿ç¨\n\næ­¥éª¤â£ï¼è¿è¡èªå¨çæçApplicationç±»\n\n\n\nä½¿ç¨å¸¦mainæ¹æ³çjavaç¨åºçè¿è¡å½¢å¼æ¥è¿è¡ç¨åºï¼è¿è¡å®æ¯åï¼æ§å¶å°è¾åºä¸è¿°ä¿¡æ¯ã\n\nä¸é¾çåºï¼è¿è¡çä¿¡æ¯ä¸­åå«äº8080çç«¯å£ï¼Tomcatè¿ç§çæçå­æ ·ï¼é¾éè¿éå¯å¨äºTomcatæå¡å¨ï¼æ¯çï¼è¿éå·²ç»å¯å¨äºãé£æå¡å¨æ²¡æéç½®ï¼åªéæ¥çå¢ï¼åé¢åè¯´ãç°å¨ä½ å°±å¯ä»¥éè¿æµè§å¨è®¿é®è¯·æ±çè·¯å¾ï¼æµè¯åè½æ¯å¦å·¥ä½æ­£å¸¸äº\n\nè®¿é®è·¯å¾ï¼\thttp://localhost:8080/books\n\n\næ¯ä¸æ¯æè§å¾ç¥å¥ï¼ç®åçææå¶å®ä¾èµçåºå±é»è¾è¿æ¯å¾å¤æçï¼ä½æ¯ä»å¼åèè§åº¦æ¥çï¼ç®ååªæä¸¤ä¸ªæä»¶å±ç°å°äºå¼åèé¢å\n\n * pom.xml\n   \n   è¿æ¯mavençéç½®æä»¶ï¼æè¿°äºå½åå·¥ç¨æå»ºæ¶ç¸åºçéç½®ä¿¡æ¯\n   \n   <?xml version="1.0" encoding="UTF-8"?>\n   <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n            xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">\n       <modelVersion>4.0.0</modelVersion>\n   \n       <parent>\n           <groupId>org.springframework.boot</groupId>\n           <artifactId>spring-boot-starter-parent</artifactId>\n           <version>2.5.4</version>\n       </parent>\n   \n       <groupId>com.itheima</groupId>\n       <artifactId>springboot_01_01_quickstart</artifactId>\n       <version>0.0.1-SNAPSHOT</version>\n   \n       <dependencies>\n           <dependency>\n               <groupId>org.springframework.boot</groupId>\n               <artifactId>spring-boot-starter-web</artifactId>\n           </dependency>\n   \n           <dependency>\n               <groupId>org.springframework.boot</groupId>\n               <artifactId>spring-boot-starter-test</artifactId>\n               <scope>test</scope>\n           </dependency>\n       </dependencies>\n   </project>\n   \n   \n   éç½®ä¸­æä¸¤ä¸ªä¿¡æ¯éè¦å³æ³¨ï¼ä¸ä¸ªæ¯parentï¼ä¹å°±æ¯å½åå·¥ç¨ç»§æ¿äºå¦å¤ä¸ä¸ªå·¥ç¨ï¼å¹²ä»ä¹ç¨çåé¢åè¯´ï¼è¿æä¾èµåæ ï¼å¹²ä»ä¹ç¨çåé¢åè¯´\n\n * Applicationç±»\n   \n   @SpringBootApplication\n   public class Application {\n       public static void main(String[] args) {\n           SpringApplication.run(Application.class, args);\n       }\n   }\n   \n   \n   è¿ä¸ªç±»åè½å¾ç®åï¼å°±ä¸å¥ä»£ç ï¼åé¢è¿è¡ç¨åºå°±æ¯è¿è¡çè¿ä¸ªç±»\n\nå°è¿éæä»¬å¯ä»¥å¤§èæ¨æµä¸ä¸ï¼å¦æä¸é¢è¿ä¸¤ä¸ªæä»¶æ²¡æçè¯ï¼SpringBootè¯å®æ²¡æ³ç©ï¼çæ¥æ ¸å¿å°±æ¯è¿ä¸¤ä¸ªæä»¶äºãç±äºæ¯å¶ä½ç¬¬ä¸ä¸ªSpringBootç¨åºï¼åä¸è¦å³æ³¨è¿ä¸¤ä¸ªæä»¶çåè½ï¼åé¢è¯¦ç»è®²è§£åé¨å·¥ä½æµç¨ã\n\néè¿ä¸é¢çå¶ä½ï¼æä»¬ä¸é¾åç°ï¼SpringBootç¨åºç®ç´å¤ªå¥½åäºï¼å ä¹ä»ä¹é½æ²¡åï¼åè½å°±æäºï¼è¿ä¹æ¯SpringBootææ¯ä¸ºä»ä¹ç°å¨è¿ä¹ç«çåå ï¼åSpirngç¨åºç¸æ¯ï¼SpringBootç¨åºå¨å¼åçè¿ç¨ä¸­åä¸ªå±é¢åå·æä¼å¿\n\nç±»éç½®æä»¶                 SPRING   SPRINGBOOT\npomæä»¶ä¸­çåæ              æå·¥æ·»å      å¾éæ·»å \nweb3.0éç½®ç±»             æå·¥å¶ä½     æ \nSpring/SpringMVCéç½®ç±»   æå·¥å¶ä½     æ \næ§å¶å¨                   æå·¥å¶ä½     æå·¥å¶ä½\n\nä¸å¥è¯æ»ç»ä¸ä¸å°±æ¯è½å°åå°±å°åï¼è½ä¸åå°±ä¸åï¼è¿å°±æ¯SpringBootææ¯ç»æä»¬å¸¦æ¥çå¥½å¤ï¼è¡äºï¼ç°å¨ä½ å°±å¯ä»¥å¨æåä¸åSpringBootç¨åºäºï¼ççææå¦ä½ï¼æ¯å¦ççå¸®å©ä½ ç®åå¼åäº\n\næ»ç»\n\n 1. å¼åSpringBootç¨åºå¯ä»¥æ ¹æ®åå¯¼è¿è¡èç½å¿«éå¶ä½\n 2. SpringBootç¨åºéè¦åºäºJDK8ä»¥ä¸çæ¬è¿è¡å¶ä½\n 3. SpringBootç¨åºä¸­éè¦ä½¿ç¨ä½ç§åè½éè¿å¾ééæ©ææ¯ï¼ä¹å¯ä»¥æå·¥æ·»å å¯¹åºçè¦ä½¿ç¨çææ¯ï¼åæè®²è§£ï¼\n 4. è¿è¡SpringBootç¨åºéè¿è¿è¡Applicationç¨åºå¥å£è¿è¡\n\næè\n\nåé¢å¶ä½çæ¶åè¯´è¿ï¼è¿ä¸ªè¿ç¨å¿é¡»èç½æå¯ä»¥è¿è¡ï¼ä½æ¯æäºæ¶åä½ ä¼éå°ä¸äºè«åå¶å¦çé®é¢ï¼æ¯å¦åºäºIdeaå¼åæ¶ï¼ä½ ä¼åç°ä½ éç½®äºä¸äºåæ ï¼ç¶åMavenä¸è½½å¯¹åºä¸è¥¿çæ¶åæ­»æ¢æ­»æ¢çï¼çè³è¿ä¼å¤±è´¥ãå¶å®è¿åIdeaè¿æ¬¾IDEå·¥å·æå³ï¼ä¸ä¸Ideaä¸è½æ­£å¸¸è®¿é®ç½ç»çè¯ï¼æä»¬æ¯ä¸æ¯å°±æ æ³å¶ä½SpringBootç¨åºäºå¢ï¼å±ä»¬ä¸ä¸èåè¯´\n\n\n# JC-1-2.SpringBootå¥é¨ç¨åºå¶ä½ï¼äºï¼\n\nå¦æIdeaä¸è½æ­£å¸¸èç½ï¼è¿ä¸ªSpringBootç¨åºå°±æ æ³å¶ä½äºåï¼å¼ä»ä¹ç©ç¬ï¼ä¸ä¸IDEå·¥å·ååä¸ï¼é¾éSpringBootææ¯è¿å¿é¡»åºäºIdeaæ¥åäºï¼è¿æ¯ä¸å¯è½çãå¼åSpringBootç¨åºï¼å¯ä»¥ä¸åºäºä»»æçIDEå·¥å·è¿è¡ï¼å¶å®å¨SpringBootçå®ç½éé¢å°±å¯ä»¥ç´æ¥åå»ºSpringBootç¨åº\n\nSpringBootå®ç½åSpringçå®ç½æ¯å¨ä¸èµ·çï¼é½æ¯ spring.io ãä½ å¯ä»¥éè¿é¡¹ç®ä¸çº§ä¸çº§çæ¾å°SpringBootææ¯çä»ç»é¡µï¼ç¶åå¨é¡µé¢ä¸­é´é¨ä½æ¾å°å¦ä¸åå®¹\n\næ­¥éª¤â ï¼ç¹å»Spring Initializråè¿å¥å°åå»ºSpringBootç¨åºççé¢ä¸ï¼ä¸é¢æ¯è¾å¥ä¿¡æ¯çè¿ç¨ï¼ååé¢çä¸æ ·ï¼åªæ¯çé¢åäºèå·²ï¼æ ¹æ®èªå·±çè¦æ±ï¼å¨å·¦ä¾§éæ©å¯¹åºä¿¡æ¯åè¾å¥å¯¹åºçä¿¡æ¯å³å¯\n\næ­¥éª¤â¡ï¼å³ä¾§çADD DEPENDENCIESç¨äºéæ©ä½¿ç¨ä½ç§ææ¯ï¼åä¹åå¾éçSpring WEBæ¯å¨ååä¸ä»¶äºï¼ä»ä»æ¯çé¢ä¸åèå·²ï¼ç¹å»åæå¼ç½é¡µççææ¯éæ©çé¢\n\næ­¥éª¤â¢ï¼ææä¿¡æ¯è®¾ç½®å®æ¯åï¼ç¹å»ä¸é¢å·¦ä¾§æé®ï¼çæä¸ä¸ªæä»¶å\n\n\n\næ­¥éª¤â£ï¼ä¿å­åå¾å°ä¸ä¸ªåç¼©æä»¶ï¼è¿ä¸ªæä»¶æå¼åå°±æ¯åå»ºçSpringBootå·¥ç¨æä»¶å¤¹äº\n\n\n\næ­¥éª¤â¤ï¼è§£åç¼©æ­¤æä»¶åï¼å¾å°å·¥ç¨ç®å½ï¼å¨Ideaä¸­å¯¼å¥å³å¯ä½¿ç¨ï¼åä¹ååå»ºçä¸è¥¿å®å¨ä¸æ ·ãä¸é¢å°±å¯ä»¥èªå·±åå»ºä¸ä¸ªControlleræµè¯ä¸ä¸æ¯å¦è½ç¨äºã\n\næ¸©é¦¨æç¤º\n\nåå°è¿éå¶å®å¯ä»¥éæ¼ä¸ä¸ªå°ç§å¯ï¼Ideaå·¥å·ä¸­åå»ºSpringBootå·¥ç¨å¶å®è¿æ¥çå°±æ¯SpringBootçå®ç½ï¼èµ°çå°±æ¯è¿ä¸ªè¿ç¨ï¼åªä¸è¿Ideaæçé¢ç»æ´åäºä¸ä¸ï¼è¯»åå°äºSpringå®ç½ç»çä¿¡æ¯ï¼ç¶åå±ç¤ºå°äºIdeaççé¢ä¸­èå·²ï¼ä¸ä¿¡ä½ å¯ä»¥ççä¸é¢è¿ä¸ªæ­¥éª¤\n\nä¸é¢æè¿°äºè¿æ¥çç½åï¼åççSpringBootå®ç½åå»ºå·¥ç¨çURLå°åï¼æ¯ä¸æ¯ä¸æ ·ï¼\n\næ»ç»\n\n 1. æå¼SpringBootå®ç½ï¼éæ©Quickstart Your Project\n\n 2. åå»ºå·¥ç¨\n    \n    å¹¶ä¿å­é¡¹ç®\n    \n    \n\n 3. è§£åé¡¹ç®ï¼éè¿IDEå¯¼å¥é¡¹ç®\n\næè\n\nç°å¨åå»ºå·¥ç¨é çæ¯è®¿é®å½å¤çSpringä¸»ç«ï¼ä½æ¯äºèç½è®¿é®æ¯å¯ä»¥æ§å¶çï¼å¦æä¸å¤©è¿ä¸ªç½ç«ä½ å¨å½åé½æ æ³è®¿é®äºï¼é£åé¢è¿ä¸¤ç§æ¹å¼é½æ æ³åå»ºSpringBootå·¥ç¨äºï¼è¿æ¶ååè¯¥æä¹è§£å³è¿ä¸ªé®é¢å¢ï¼å±ä»¬ä¸ä¸èåè¯´\n\n\n# JC-1-3.SpringBootå¥é¨ç¨åºå¶ä½ï¼ä¸ï¼\n\nåé¢æå°ç½ç«å¦æè¢«éå¶è®¿é®äºï¼è¯¥æä¹åï¼å¼å¨èç­æ³ä¸æ³ï¼ä¸ç®¡æ¯æ¹å¼ä¸è¿æ¯æ¹å¼äºå¶å®é½æ¯èµ°çåä¸ä¸ªå°æ¹ï¼ä¹å°±æ¯SpringBootçå®ç½åå»ºçSpringBootå·¥ç¨ï¼é£å¦ææä»¬å½åæè¿ä¹ä¸ä¸ªç½ç«è½æä¾è¿æ ·çåè½ï¼æ¯ä¸æ¯å°±è§£å³äºå¢ï¼å¿ç¶çåï¼æ°çé®é¢åæ¥äºï¼è¿ä¸ªå½åçç½ç«æåï¼è¿çæï¼é¿éæä¾äºä¸ä¸ªï¼ä¸é¢é®é¢å°±ç®åäºï¼ç½ååè¯æä»¬å°±OKäºï¼æ²¡éï¼å°±æ¯è¿æ ·\n\nåå»ºå·¥ç¨æ¶ï¼åæ¢éæ©starteræå¡è·¯å¾ï¼ç¶åæå·¥æ¶å¥é¿éäºæä¾ç»æä»¬çä½¿ç¨å°åå³å¯ãå°åï¼http://start.aliyun.comæhttps://start.aliyun.com\n\n\n\né¿éä¸ºäºä¾¿äºèªå·±å¼åä½¿ç¨ï¼å æ­¤å¨ä¾èµåæ ä¸­æ·»å äºä¸äºé¿éç¸å³çææ¯ï¼ä¹æ¯ä¸ºäºæ¨å¹¿èªå·±çææ¯å§ï¼æä»¥å¨ä¾èµéæ©åè¡¨ä¸­ï¼ä½ æäºæ´å¤çéæ©ãä¸è¿æä¸ç¹éè¦è¯´æ¸æ¥ï¼é¿éäºå°åé»è®¤åå»ºçSpringBootå·¥ç¨çæ¬æ¯2.4.1ï¼æä»¥å¦æä½ æ³æ´æ¢å¶ä»ççæ¬ï¼åå»ºé¡¹ç®åæå·¥ä¿®æ¹å³å¯ï¼å«å¿äºå·æ°ä¸ä¸ï¼å è½½æ°çæ¬ä¿¡æ¯\n\n\n\né¿éäºæä¾çå°åæ´ç¬¦åå½åå¼åèçä½¿ç¨ä¹ æ¯ï¼éé¢æä¸äºSpringBootå®ç½ä¸æ²¡æç»åºçåæ ï¼å¤§å®¶å¯ä»¥å¥½å¥½çä¸çã\n\næ³¨æï¼é¿éäºæä¾çå·¥ç¨åå»ºå°ååå§åå®æ¯ååå®ç¨SpringBootå®ç½åå»ºåºæ¥çå·¥ç¨ç¥æåºå«ãä¸»è¦æ¯å¨éç½®æä»¶çå½¢å¼ä¸æåºå«ãè¿ä¸ªä¿¡æ¯å¨åé¢è®²è§£Bootç¨åºçæ§è¡æµç¨æ¶ç»å¤§å®¶æ­æ\n\næ»ç»\n\n 1. éæ©startæ¥æºä¸ºèªå®ä¹URL\n 2. è¾å¥é¿éäºstartå°å\n 3. åå»ºé¡¹ç®\n\næè\n\nåå°è¿éæä»¬å·²ç»æäºä¸ç§æ¹å¼åå»ºSpringBootå·¥ç¨ï¼ä½æ¯æ¯ç§æ¹å¼é½è¦æ±ä½ å¿é¡»è½ä¸ç½æè½åå»ºå·¥ç¨ãåå¦æä¸å¤©ï¼ä½ å å¥äºä¸ä¸ªä¿å¯çº§å«æ¯è¾é«çé¡¹ç®ç»ï¼æ´ä¸ªé¡¹ç®ç»æ²¡æå¤ç½ï¼æ´ä¸ªäºææ¯ä¸æ¯å°±ä¸è½åäºå¢ï¼å±ä»¬ä¸ä¸èåè¯´\n\n\n# JC-1-4.SpringBootå¥é¨ç¨åºå¶ä½ï¼åï¼\n\nä¸è½ä¸ç½ï¼è¿æ³åå»ºSpringBootå·¥ç¨ï¼è½ä¸è½åå¢ï¼è½åï¼ä½æ¯ä½ è¦åé®é®èªå·±èç½åä¸èç½å°åºå·®å«æ¯ä»ä¹ï¼è¿ä¸ªä¿¡æ¯æ¾å°ä»¥åï¼ä½ å°±åç°ï¼ä½ æèç½è¦å¹²çäºæé½æååå¤å¥½ï¼å°±æ éèç½äºã\n\nèç½åä»ä¹å¢ï¼é¦åSpringBootå·¥ç¨ä¹æ¯åºäºMavenæå»ºçï¼èMavenå·¥ç¨å½ä½¿ç¨äºä¸äºèªå·±éè¦ä½¿ç¨åä¸å­å¨çä¸è¥¿æ¶ï¼å°±è¦å»ä¸è½½ãå¶å®SpringBootå·¥ç¨åå»ºçæ¶åå°±æ¯å»ä¸è½½ä¸äºå¿è¦çç»ä»¶çãä½ æè¿äºä¸è¥¿ç»æååå¤å¥½å°±å¯ä»¥äºåï¼æ¯çï¼å°±æ¯è¿æ ·ã\n\nä¸é¢å±ä»¬å°±ä¸èµ·æå·¥åå»ºä¸ä¸ªSpringBootå·¥ç¨\n\næ­¥éª¤â ï¼åå»ºå·¥ç¨æ¶ï¼éæ©æå·¥åå»ºMavenå·¥ç¨\n\næ­¥éª¤â¡ï¼åç§æ åSpringBootå·¥ç¨çpomæä»¶ï¼ä¹¦åèªå·±çpomæä»¶å³å¯\n\n<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n\n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>2.5.4</version>\n    </parent>\n\n    <groupId>com.itheima</groupId>\n    <artifactId>springboot_01_04_quickstart</artifactId>\n    <version>1.0-SNAPSHOT</version>\n\n    <properties>\n        <maven.compiler.source>8</maven.compiler.source>\n        <maven.compiler.target>8</maven.compiler.target>\n    </properties>\n\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n    </dependencies>\n\n</project>\n\n\nç¨ä»ä¹åä»ä¹ï¼ä¸ç¨çé½å¯ä»¥ä¸åãå½ç¶ï¼ç°å¨å°ä¼ä¼´ä»¬å¯è½è¿ä¸ç¥éç¨ä»ä¹åä¸ç¨ä»ä¹ï¼æç®åçå°±æ¯å¤å¶ç²è´´äºï¼éçåé¢çå­¦ä¹ ï¼ä½ å°±ç¥éåªäºå¯ä»¥çç¥äºãæ­¤å¤æå åäºä¸äºç®åä¸æ¯å¿é¡»çä¸è¥¿ï¼ä¸æ ·è½ç¨\n\næ­¥éª¤â¢ï¼ä¹åè¿è¡SpringBootå·¥ç¨éè¦ä¸ä¸ªç±»ï¼è¿ä¸ªç¼ºä¸äºï¼èªå·±æåä¸ä¸ªå°±è¡äºï¼å»ºè®®æç§ä¹åçç®å½ç»ææ¥åå»ºï¼åå«ç©è±æ ·ï¼åå­¦èµ°åå­¦è·ãç±»åå¯ä»¥èªå®ä¹ï¼å³èçåç§°ä¸åä¿®æ¹å³å¯\n\n@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class);\n    }\n}\n\n\nå³æ³¨ï¼ç±»ä¸é¢çæ³¨è§£@SpringBootApplicationåä¸å«ä¸¢äºï¼è¿ä¸ªæ¯æ ¸å¿ï¼åé¢åä»ç»\n\nå³æ³¨ï¼ç±»åå¯ä»¥èªå®ä¹ï¼åªè¦ä¿éä¸é¢ä»£ç ä¸­ä½¿ç¨çç±»ååä½ èªå·±å®ä¹çåç§°ä¸æ ·å³å¯ï¼ä¹å°±æ¯runæ¹æ³ä¸­çé£ä¸ªclasså¯¹åºçåç§°\n\næ­¥éª¤â£ï¼ä¸é¢å°±å¯ä»¥èªå·±åå»ºä¸ä¸ªControlleræµè¯ä¸ä¸æ¯å¦è½ç¨äºï¼åä¹åæ²¡æå·®å«äº\n\nçå°è¿éå¶å®åºè¯¥è½å¤æ³æç½äºï¼éè¿åå¯¼æèç½ç«åå»ºçSpringBootå·¥ç¨å¶å®å°±æ¯å¸®ä½ åäºä¸äºä»£ç ï¼èç°å¨æ¯èªå·±æåï¼åçåå®¹é½ä¸æ ·ï¼ä»æ­¤èå·²ã\n\næ¸©é¦¨æç¤º\n\nå¦æä½ çè®¡ç®æºä¸ä»æ¥æ²¡æåå»ºæåè¿SpringBootå·¥ç¨ï¼èªç¶ä¹å°±æ²¡æä¸è½½è¿SpringBootå¯¹åºçåæ ï¼é£ç¨æååå»ºçæ¹å¼å¨ä¸èç½çæåµä¸è¯å®è¯¥æ¯ä¸è½ç¨çãæè°æåï¼å¶å®å°±æ¯èªå·±åå«äººå¸®ä½ çæçä¸è¥¿ï¼ä½æ¯å¼ç¨çåæ å¯¹åºçèµæºå¿é¡»ä¿émavenä»åºéé¢ææè¡ï¼å¦ææ²¡æï¼è¿æ¯è¦å»ä¸è½½ç\n\næ»ç»\n\n 1. åå»ºæ®éMavenå·¥ç¨\n 2. ç»§æ¿spring-boot-starter-parent\n 3. æ·»å ä¾èµspring-boot-starter-web\n 4. å¶ä½å¼å¯¼ç±»Application\n\nå°è¿éå¶å®å­¦ä¹ äº4ç§åå»ºSpringBootå·¥ç¨çæ¹å¼ï¼å¶å®æ¬è´¨æ¯ä¸æ ·çï¼å°±æ¯æ ¹æ®SpringBootå·¥ç¨çæä»¶æ ¼å¼è¦æ±ï¼éè¿ä¸åæ¶æ¹å¼çææèæåå¾å°å¯¹åºçæä»¶ï¼ææå®å¨ä¸æ ·ã\n\n# æä½ ä¸æï¼å¨Ideaä¸­éèæå®æä»¶/æä»¶å¤¹\n\nåå»ºSpringBootå·¥ç¨æ¶ï¼ä½¿ç¨SpringBootåå¯¼ä¹å¥½ï¼é¿éäºä¹ç½¢ï¼å¶å®é½æ¯ä¸ºäºä¸ä¸ªç®çï¼å¾å°ä¸ä¸ªæ åçSpringBootå·¥ç¨æä»¶ç»æãè¿ä¸ªæ¶åå°±ææ°çé®é¢åºç°äºï¼æ åçå·¥ç¨ç»æä¸­åå«äºä¸äºæªç¥çæä»¶å¤¹ï¼å¨å¼åçæ¶åçèµ·æ¥ç¹å«å«æ­ï¼è¿ä¸èå°±æ¥è¯´è¯´è¿äºæä»¶æä¹å¤çã\n\nå¤çæ¹æ¡æ å¤ä¹ä¸¤ç§ï¼å¦æä½ å¯¹æ¯ä¸ä¸ªæä»¶/ç®å½è¶³å¤äºè§£ï¼æ²¡æç¨çå®å¨å¯ä»¥å é¤æï¼æèä¸å é¤ï¼ä½æ¯ççå«æ­ï¼å°±è®¾ç½®æä»¶ä¸ºçä¸å°å°±è¡äºãå é¤ä¸è¯´äºï¼ç´æ¥Deleteæå°±å¥½äºï¼è¿ä¸èè¯´è¯´å¦ä½éèæå®çæä»¶ææä»¶å¤¹ä¿¡æ¯ã\n\næ¢ç¶æ¯å¨Ideaä¸åéèåè½ï¼è¯å®é¶å±äºIdeaçè®¾ç½®ï¼è®¾ç½®æ¹å¼å¦ä¸ã\n\næ­¥éª¤â ï¼æå¼è®¾ç½®ï¼ãFilesãâãSettingsã\n\næ­¥éª¤â¡ï¼æå¼æä»¶ç±»åè®¾ç½®çé¢ï¼ãEditorãâãFile TypesãâãIgnored Files and Foldersãï¼å¿½ç¥æä»¶ææä»¶å¤¹æ¾ç¤º\n\næ­¥éª¤â¢ï¼æ·»å ä½ è¦éèçæä»¶åç§°ææä»¶å¤¹åç§°ï¼å¯ä»¥ä½¿ç¨*å·ééç¬¦ï¼è¡¨ç¤ºä»»æï¼è®¾ç½®å®æ¯å³å¯(è¿éå°±æ.mvnæä»¶å¤¹ç¹å»Applyä¹åå°±è¢«éèäº)\n\n\n\nå°è¿éå°±åå®äºï¼å¶å®å°±æ¯Ideaçä¸ä¸ªå°åè½\n\næ»ç»\n\n 1. Ideaä¸­éèæå®æä»¶ææå®ç±»åæä»¶\n    1. ãFilesãâãSettingsã\n    2. ãEditorãâãFile TypesãâãIgnored Files and Foldersã\n    3. è¾å¥è¦éèçåç§°ï¼æ¯æ*å·ééç¬¦\n    4. åè½¦ç¡®è®¤æ·»å \n\n\n# JC-1-5.SpringBootç®ä»\n\nå¥é¨æ¡ä¾åå®äºï¼è¿ä¸ªæ¶ååå¿ä¸ä¸å±ä»¬ä¹åè¯´çSpringBootçåè½æ¯ä»ä¹è¿è®°å¾åï¼å éSpringç¨åºçå¼åï¼ç°å¨æ¯å¦æ·±æä½ä¼ï¼åæ¥çSpringBootææ¯çè®¾è®¡åè¡·å°±å¾å®¹æçè§£äºã\n\nSpringBootæ¯ç±Pivotalå¢éæä¾çå¨æ°æ¡æ¶ï¼å¶è®¾è®¡ç®çæ¯ç¨æ¥ç®åSpringåºç¨çåå§æ­å»ºä»¥åå¼åè¿ç¨ã\n\né½ç®åäºäºåªäºä¸è¥¿å¢ï¼å¶å®å°±æ¯éå¯¹åå§çSpringç¨åºå¶ä½çä¸¤ä¸ªæ¹é¢è¿è¡äºç®åï¼\n\n * Springç¨åºç¼ºç¹\n   * ä¾èµè®¾ç½®ç¹ç\n     * ä»¥ååSpringç¨åºï¼ä½¿ç¨çææ¯é½è¦èªå·±ä¸ä¸ªä¸ä¸ªçåï¼ç°å¨ä¸éè¦äºï¼å¦æåè¿åå§SpringMVCç¨åºçå°ä¼ä¼´åºè¯¥ç¥éï¼åSpringMVCç¨åºï¼æåºç¡çspring-webåspring-webmvcè¿ä¸¤ä¸ªåæ æ¶å¿é¡»çï¼å°±è¿è¿ä¸åå«ä½ ç¨jsonåç­ç­è¿äºåæ ï¼ç°å¨å¢ï¼ä¸ä¸ªåæ æå®é¢\n   * éç½®ç¹ç\n     * ä»¥ååéç½®ç±»æèéç½®æä»¶ï¼ç¶åç¨ä»ä¹ä¸è¥¿å°±è¦èªå·±åå è½½beanè¿äºä¸è¥¿ï¼ç°å¨å¢ï¼ä»ä¹é½æ²¡åï¼ç§æ ·è½ç¨\n\n> åé¡¾\n> \n> éè¿ä¸é¢ä¸¤ä¸ªæ¹é¢çå®ä½ï¼æä»¬å¯ä»¥äº§çä¸¤ä¸ªæ¨¡ç³çæ¦å¿µï¼\n> \n>  1. SpringBootå¼åå¢éè®¤ä¸ºåå§çSpringç¨åºåå§æ­å»ºçæ¶åå¯è½æäºç¹çï¼è¿ä¸ªè¿ç¨æ¯å¯ä»¥ç®åçï¼é£åå§çSpringç¨åºåå§æ­å»ºè¿ç¨é½åå«åªäºä¸è¥¿äºå¢ï¼ä¸ºä»ä¹è§å¾ç¹çå¢ï¼æåºæ¬çSpringç¨åºè³å°æä¸ä¸ªéç½®æä»¶æéç½®ç±»ï¼ç¨æ¥æè¿°Springçéç½®ä¿¡æ¯ï¼è«éè¿ä¸ªæä»¶é½å¯ä»¥ä¸åï¼æ­¤å¤ç°å¨ä¼ä¸çº§å¼åä½¿ç¨Springå¤§é¨åæåµä¸æ¯åwebå¼åï¼å¦æåwebå¼åçè¯ï¼è¿è¦å¨å è½½webç¯å¢æ¶å è½½æ¶å è½½æå®çspringéç½®ï¼è¿é½æ¯æåºæ¬çéæ±äºï¼ä¸åçè¯æä¹ç¥éå è½½åªä¸ªéç½®æä»¶/éç½®ç±»å¢ï¼é£æ¢äºSpringBootææ¯ä»¥åå¢ï¼è¿äºè¿è¦ååï¼è°åºç¨åæ­æï¼ååä¸ªå³å­\n>  2. SpringBootå¼åå¢éè®¤ä¸ºåå§çSpringç¨åºå¼åçè¿ç¨ä¹æäºç¹çï¼è¿ä¸ªè¿ç¨ä»ç¶å¯ä»¥ç®åãå¼åè¿ç¨æ å¤ä¹ä½¿ç¨ä»ä¹ææ¯ï¼å¯¼å¥å¯¹åºçjaråï¼æåæ ï¼ç¶åå°è¿ä¸ªææ¯çæ ¸å¿å¯¹è±¡äº¤ç»Springå®¹å¨ç®¡çï¼ä¹å°±æ¯éç½®æSpringå®¹å¨ç®¡æ§çbeanå°±å¯ä»¥äºãè¿é½æ¯åºæ¬æä½åï¼é¾éè¿äºä¸è¥¿SpringBootä¹è½å¸®æä»¬ç®åï¼\n\nåæ¥ççåé¢æåºçä¸¤ä¸ªé®é¢ï¼å·²ç»æç­æ¡äºï¼é½ç®åäºï¼é½ä¸ç¨åäºï¼è¿å°±æ¯SpringBootç»æä»¬å¸¦æ¥çå¥½å¤ãè¿äºç®åæä½å¨SpringBootä¸­æä¸ä¸çç¨è¯­ï¼ä¹æ¯SpringBootç¨åºçæ ¸å¿åè½åä¼ç¹ï¼\n\n * èµ·æ­¥ä¾èµï¼ç®åä¾èµéç½®ï¼\n   * ä¾èµéç½®çä¹¦åç®åå°±æ¯é è¿ä¸ªèµ·æ­¥ä¾èµè¾¾æç\n * èªå¨éç½®ï¼ç®åå¸¸ç¨å·¥ç¨ç¸å³éç½®ï¼\n   * éç½®è¿äºç¹çï¼ä½¿ç¨èªå¨éç½®å°±å¯ä»¥åååºçç®åï¼ä½æ¯åé¨è¿æ¯å¾å¤æçï¼åé¢å·ä½å±å¼è¯´\n * è¾å©åè½ï¼åç½®æå¡å¨ï¼â¦â¦ï¼\n   * é¤äºä¸é¢çåè½ï¼å¶å®SpringBootç¨åºè¿æå¶ä»çä¸äºä¼å¿ï¼æ¯å¦æä»¬æ²¡æéç½®Tomcatæå¡å¨ï¼ä½æ¯è½æ­£å¸¸è¿è¡ï¼è¿æ¯SpringBootç¨åºçä¸ä¸ªå¯ä»¥æç¥å°çåè½ï¼ä¹æ¯SpringBootçè¾å©åè½ä¹ä¸ãä¸ä¸ªè¾å©åè½é½è½åçè¿ä¹6ï¼å¤ªçäº\n\nä¸é¢ç»åå¥é¨ç¨åºæ¥è¯´è¯´è¿äºç®åæä½é½å¨åªäºæ¹é¢è¿è¡ä½ç°çï¼ä¸å±åä¸º4ä¸ªæ¹é¢\n\n * parent\n * starter\n * å¼å¯¼ç±»\n * ååµtomcat\n\n# parent\n\nSpringBootå³æ³¨å°å¼åèå¨è¿è¡å¼åæ¶ï¼å¾å¾å¯¹ä¾èµçæ¬çéæ©å·æåºå®çæ­éæ ¼å¼ï¼å¹¶ä¸è¿äºä¾èµçæ¬çéæ©è¿ä¸è½ä¹±æ­éãæ¯å¦Aææ¯ç2.0çä¸Bææ¯ç3.5çå¯ä»¥åä½å¨ä¸èµ·ï¼ä½æ¯åBææ¯ç3.7çåå¹¶ä½¿ç¨æ¶å°±æå²çªãå¶å®å¾å¤å¼åèé½ä¸ç´æ³åä¸ä»¶äºæï¼å°±æ¯å°åç§åæ ·çææ¯éåä½¿ç¨çå¸¸è§ä¾èµçæ¬è¿è¡æ¶éæ´çï¼å¶ä½åºäºæåççä¾èµçæ¬éç½®æ¹æ¡ï¼è¿æ ·ä½¿ç¨èµ·æ¥å°±æ¹ä¾¿å¤äºã\n\nSpringBootä¸çè¿ç§æåµso easyåï¼äºæ¯å°ææçææ¯çæ¬çå¸¸è§ä½¿ç¨æ¹æ¡é½ç»å¼åèæ´çäºåºæ¥ï¼ä»¥åå¼åèä½¿ç¨æ¶ç´æ¥ç¨å®æä¾ççæ¬æ¹æ¡ï¼å°±ä¸ç¨æå¿å²çªé®é¢äºï¼ç¸å½äºSpringBootåäºæ æ°ä¸ªææ¯çæ¬æ­éçåè¡¨ï¼è¿ä¸ªææ¯æ­éåè¡¨çåå­å«åparentã\n\nparentèªèº«å·æå¾å¤ä¸ªçæ¬ï¼æ¯ä¸ªparentçæ¬ä¸­åå«æå ç¾ä¸ªå¶ä»ææ¯ççæ¬å·ï¼ä¸åçparenté´ä½¿ç¨çåç§ææ¯ççæ¬å·æå¯è½ä¼åçååãå½å¼åèä½¿ç¨æäºææ¯æ¶ï¼ç´æ¥ä½¿ç¨SpringBootæä¾çparentå°±è¡äºï¼ç±parentå¸®å©å¼åèç»ä¸çè¿è¡åç§ææ¯ççæ¬ç®¡ç\n\næ¯å¦ä½ ç°å¨è¦ä½¿ç¨SpringéåMyBatiså¼åï¼æ²¡æparentä¹åæä¹åå¢ï¼éä¸ªSpringççæ¬ï¼åéä¸ªMyBatisççæ¬ï¼åæè¿äºææ¯ä½¿ç¨æ¶å³èçå¶ä»ææ¯ççæ¬éä¸ç¡®å®ä¸æ¥ãå½ä½ Springççæ¬åçååéè¦åæ¢æ¶ï¼ä½ çMyBatisçæ¬æå¯è½ä¹è¦è·çåæ¢ï¼å³èææ¯å¢ï¼å¯è½é½è¦åæ¢ï¼èä¸åæ¢åè¿å¯è½åºç°é®é¢ãç°å¨è¿ä¸åå·¥ä½é½å¯ä»¥äº¤ç»parentæ¥åäºãä½ æ éå³æ³¨è¿äºææ¯é´ççæ¬å²çªé®é¢ï¼ä½ åªéè¦å³æ³¨ä½ ç¨ä»ä¹ææ¯å°±è¡äºï¼å²çªé®é¢ç±parentè´è´£å¤çã\n\næäººå¯è½ä¼æåºæ¥ï¼ä¸ä¸parentç»æå¯¼å¥äºä¸äºæä¸æ³ä½¿ç¨çä¾èµæä¹åï¼è®°æ¸æ¥ï¼è¿ä¸ç¹å¾å³é®ï¼parentä»ä»å¸®æä»¬è¿è¡çæ¬ç®¡çï¼å®ä¸è´è´£å¸®ä½ å¯¼å¥åæ ï¼è¯´ç½äºç¨ä»ä¹è¿æ¯ä½ èªå·±å®ï¼åªä¸è¿çæ¬ä¸éè¦ä½ ç®¡çäºãæ´ä½ä¸æ¥è¯´ï¼ä½¿ç¨parentå¯ä»¥å¸®å©å¼åèè¿è¡çæ¬çç»ä¸ç®¡ç\n\nå³æ³¨ï¼parentå®ä¹åºæ¥ä»¥åï¼å¹¶ä¸æ¯ç´æ¥ä½¿ç¨çï¼ä»ä»ç»äºå¼åèä¸ä¸ªè¯´æä¹¦ï¼ä½æ¯å¹¶æ²¡æå®éä½¿ç¨ï¼è¿ä¸ªä¸å®è¦ç¡®è®¤æ¸æ¥\n\né£SpringBootåæ¯å¦ä½åå°è¿ä¸ç¹çå¢ï¼å¯ä»¥æ¥éSpringBootçéç½®æºç ï¼çå°è¿äºå®ä¹\n\n * é¡¹ç®ä¸­çpom.xmlä¸­ç»§æ¿äºä¸ä¸ªåæ \n\n<parent>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-parent</artifactId>\n    <version>2.5.4</version>\n</parent>\n\n\n * æå¼åå¯ä»¥æ¥éå°å¶ä¸­åç»§æ¿äºä¸ä¸ªåæ \n\n<parent>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-dependencies</artifactId>\n    <version>2.5.4</version>\n</parent>\n\n\n * è¿ä¸ªåæ ä¸­å®ä¹äºä¸¤ç»ä¿¡æ¯ï¼ç¬¬ä¸ç»æ¯åå¼åæ ·çä¾èµçæ¬å·å±æ§ï¼ä¸é¢ååºä¾èµçæ¬å±æ§çå±é¨ï¼å¯ä»¥ççåºæ¥ï¼å®ä¹äºè¥å¹²ä¸ªææ¯çä¾èµçæ¬å·\n\n<properties>\n    <activemq.version>5.16.3</activemq.version>\n    <aspectj.version>1.9.7</aspectj.version>\n    <assertj.version>3.19.0</assertj.version>\n    <commons-codec.version>1.15</commons-codec.version>\n    <commons-dbcp2.version>2.8.0</commons-dbcp2.version>\n    <commons-lang3.version>3.12.0</commons-lang3.version>\n    <commons-pool.version>1.6</commons-pool.version>\n    <commons-pool2.version>2.9.0</commons-pool2.version>\n    <h2.version>1.4.200</h2.version>\n    <hibernate.version>5.4.32.Final</hibernate.version>\n    <hibernate-validator.version>6.2.0.Final</hibernate-validator.version>\n    <httpclient.version>4.5.13</httpclient.version>\n    <jackson-bom.version>2.12.4</jackson-bom.version>\n    <javax-jms.version>2.0.1</javax-jms.version>\n    <javax-json.version>1.1.4</javax-json.version>\n    <javax-websocket.version>1.1</javax-websocket.version>\n    <jetty-el.version>9.0.48</jetty-el.version>\n    <junit.version>4.13.2</junit.version>\n</properties>\n\n\nç¬¬äºç»æ¯åå¼åæ ·ççä¾èµåæ ä¿¡æ¯ï¼å¯ä»¥çåºä¾èµåæ å®ä¹ä¸­æ²¡æå·ä½çä¾èµçæ¬å·ï¼èæ¯å¼ç¨äºç¬¬ä¸ç»ä¿¡æ¯ä¸­å®ä¹çä¾èµçæ¬å±æ§å¼\n\n<dependencyManagement>\n    <dependencies>\n        <dependency>\n            <groupId>org.hibernate</groupId>\n            <artifactId>hibernate-core</artifactId>\n            <version>${hibernate.version}</version>\n        </dependency>\n        <dependency>\n            <groupId>junit</groupId>\n            <artifactId>junit</artifactId>\n            <version>${junit.version}</version>\n        </dependency>\n    </dependencies>\n</dependencyManagement>\n\n\nå³æ³¨ï¼ä¸é¢çä¾èµåæ å®ä¹æ¯åºç°å¨<dependencyManagement>æ ç­¾ä¸­çï¼å¶å®æ¯å¯¹å¼ç¨åæ çä¾èµç®¡çï¼å¹¶ä¸æ¯å®éä½¿ç¨çåæ ãå æ­¤å½ä½ çé¡¹ç®ä¸­ç»§æ¿äºè¿ç»parentä¿¡æ¯åï¼å¨ä¸ä½¿ç¨å¯¹åºåæ çæåµä¸ï¼åé¢çè¿ç»å®ä¹æ¯ä¸ä¼å·ä½å¯¼å¥æä¸ªä¾èµç\n\nå³æ³¨ï¼å ä¸ºå¨mavenä¸­ç»§æ¿æºä¼åªæä¸æ¬¡ï¼ä¸è¿°ç»§æ¿çæ ¼å¼è¿å¯ä»¥åæ¢æå¯¼å¥çå½¢å¼è¿è¡ï¼å¹¶ä¸å¨é¿éäºçstarteråå»ºå·¥ç¨æ¶å°±ä½¿ç¨äºæ­¤ç§å½¢å¼\n\n<dependencyManagement>\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-dependencies</artifactId>\n            <version>${spring-boot.version}</version>\n            <type>pom</type>\n            <scope>import</scope>\n        </dependency>\n    </dependencies>\n</dependencyManagement>\n\n\næ»ç»\n\n 1. å¼åSpringBootç¨åºè¦ç»§æ¿spring-boot-starter-parent\n 2. spring-boot-starter-parentä¸­å®ä¹äºè¥å¹²ä¸ªä¾èµç®¡ç\n 3. ç»§æ¿parentæ¨¡åå¯ä»¥é¿åå¤ä¸ªä¾èµä½¿ç¨ç¸åææ¯æ¶åºç°ä¾èµçæ¬å²çª\n 4. ç»§æ¿parentçå½¢å¼ä¹å¯ä»¥éç¨å¼å¥ä¾èµçå½¢å¼å®ç°ææ\n 5. å¦æä¸æå®çæ¬ï¼SpringBootéé¢ä¹ä¼é»è®¤æ ¹æ®parentè°ç¨æåéççæ¬ï¼è¿ä¸ªæ¯æèªå·±æ·»å çï¼\n\næè\n\nparentä¸­å®ä¹äºè¥å¹²ä¸ªä¾èµçæ¬ç®¡çï¼ä½æ¯ä¹æ²¡æä½¿ç¨ï¼é£è¿ä¸ªè®¾å®ä¹å°±ä¸çæåï¼ç©¶ç«è°å¨ä½¿ç¨è¿äºå®ä¹å¢ï¼\n\n# starter\n\nSpringBootå³æ³¨å°å¼åèå¨å®éå¼åæ¶ï¼å¯¹äºä¾èµåæ çä½¿ç¨å¾å¾é½æä¸äºåºå®çç»åæ¹å¼ï¼æ¯å¦ä½¿ç¨spring-webmvcå°±ä¸å®è¦ä½¿ç¨spring-webãæ¯æ¬¡é½è¦åºå®æ­éçåï¼éå¸¸ç¹çï¼èä¸æ ¼å¼åºå®ï¼æ²¡æä»»ä½ææ¯å«éã\n\nSpringBootä¸çè¿ç§æåµï¼çæ¥éè¦ç»å¼åèå¸¦æ¥ä¸äºå¸®å©äºãå®æï¼æææçææ¯ä½¿ç¨çåºå®æ­éæ ¼å¼é½ç»å¼ååºæ¥ï¼ä»¥åä½ ç¨æä¸ªææ¯ï¼å°±ä¸ç¨ä¸æ¬¡åä¸å ä¾èµäºï¼è¿å®¹æåéï¼æç»ä½ åä¸ä¸ªä¸è¥¿ï¼ä»£è¡¨ä¸å ä¸è¥¿ï¼å¼åèä½¿ç¨çæ¶åï¼ç´æ¥ç¨æåå¥½çè¿ä¸ªä¸è¥¿å°±å¥½äºï¼å¯¹äºè¿æ ·çåºå®ææ¯æ­éï¼SpringBootç»å®èµ·äºä¸ªåå­å«åstarterã\n\nstarterå®ä¹äºä½¿ç¨æç§ææ¯æ¶å¯¹äºä¾èµçåºå®æ­éæ ¼å¼ï¼ä¹æ¯ä¸ç§æä½³è§£å³æ¹æ¡ï¼ä½¿ç¨starterå¯ä»¥å¸®å©å¼åèåå°ä¾èµéç½®\n\nè¿ä¸ªä¸è¥¿å¶å®å¨å¥é¨æ¡ä¾éé¢å·²ç»ä½¿ç¨è¿äºï¼å¥é¨æ¡ä¾ä¸­çwebåè½å°±æ¯ä½¿ç¨è¿ç§æ¹å¼æ·»å ä¾èµçãå¯ä»¥æ¥éSpringBootçéç½®æºç ï¼çå°è¿äºå®ä¹\n\n * é¡¹ç®ä¸­çpom.xmlå®ä¹äºä½¿ç¨SpringMVCææ¯ï¼ä½æ¯å¹¶æ²¡æåSpringMVCçåæ ï¼èæ¯æ·»å äºä¸ä¸ªåå­ä¸­åå«starterçä¾èµ\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-web</artifactId>\n</dependency>\n\n\n * å¨spring-boot-starter-webä¸­åå®ä¹äºè¥å¹²ä¸ªå·ä½ä¾èµçåæ \n\n<dependencies>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter</artifactId>\n        <version>2.5.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-json</artifactId>\n        <version>2.5.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-tomcat</artifactId>\n        <version>2.5.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-web</artifactId>\n        <version>5.3.9</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-webmvc</artifactId>\n        <version>5.3.9</version>\n        <scope>compile</scope>\n    </dependency>\n</dependencies>\n\n\nä¹åæå°è¿å¼åSpringMVCç¨åºéè¦å¯¼å¥spring-webmvcçåæ åspringæ´åwebå¼åçåæ ï¼å°±æ¯ä¸é¢è¿ç»åæ ä¸­çæåä¸¤ä¸ªäºã\n\nä½æ¯æä»¬åç°é¤äºè¿ä¸¤ä¸ªè¿æå¶ä»çï¼æ¯å¦ç¬¬äºä¸ªï¼å«åspring-boot-starter-jsonãçåç§°å°±ç¥éï¼è¿ä¸ªæ¯ä¸jsonæå³çåæ äºï¼ä½æ¯çåå­åç°åæåä¸¤ä¸ªåä¸å¤ªä¸æ ·ï¼å®çåå­ä¸­ä¹æstarterï¼æå¼ççéé¢æä»ä¹ï¼\n\n<dependencies>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter</artifactId>\n        <version>2.5.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-web</artifactId>\n        <version>5.3.9</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupId>com.fasterxml.jackson.core</groupId>\n        <artifactId>jackson-databind</artifactId>\n        <version>2.12.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupId>com.fasterxml.jackson.datatype</groupId>\n        <artifactId>jackson-datatype-jdk8</artifactId>\n        <version>2.12.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupId>com.fasterxml.jackson.datatype</groupId>\n        <artifactId>jackson-datatype-jsr310</artifactId>\n        <version>2.12.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupId>com.fasterxml.jackson.module</groupId>\n        <artifactId>jackson-module-parameter-names</artifactId>\n        <version>2.12.4</version>\n        <scope>compile</scope>\n    </dependency>\n</dependencies>\n\n\næä»¬å¯ä»¥åç°ï¼è¿ä¸ªstarterä¸­ååå«äºè¥å¹²ä¸ªåæ ï¼å¶å®å°±æ¯ä½¿ç¨SpringMVCå¼åéå¸¸é½ä¼ä½¿ç¨å°Jsonï¼ä½¿ç¨jsonåç¦»ä¸å¼è¿éé¢å®ä¹çè¿äºåæ ï¼çæ¥è¿çæ¯æ¹ä¾¿ï¼SpringBootææä»¬å¼åä¸­ä½¿ç¨çä¸è¥¿è½ç¨å°çé½ç»æååå¥½äºãä½ ä»ç»çå®ä¼åç°ï¼éé¢æä¸äºä½ æ²¡ç¨è¿çãçç¡®ä¼åºç°è¿ç§è¿éå¯¼å¥çå¯è½æ§ï¼æ²¡å³ç³»ï¼å¯ä»¥éè¿mavenä¸­çæé¤ä¾èµåé¤æä¸é¨åãä¸è¿ä½ ä¸ç®¡å®ä¹æ²¡äºï¼å¤§ä¸äºå°±æ¯è¿éå¯¼å¥åã\n\nå°è¿éåºæ¬ä¸å¾å°äºä¸ä¸ªä¿¡æ¯ï¼ä½¿ç¨starterå¯ä»¥å¸®å¼åèå¿«ééç½®ä¾èµå³ç³»ãä»¥ååä¾èµ3ä¸ªåæ çï¼ç°å¨åå¯¼å¥ä¸ä¸ªå°±æå®äºï¼å°±æ¯å éä¾èµéç½®çã\n\nstarterä¸parentçåºå«\n\næ¦æ¦è§è§ä¸­æè§starterä¸parentå¥½åé½æ¯å¸®å©æä»¬ç®åéç½®çï¼ä½æ¯åè½åä¸ä¸æ ·ï¼æ¢³çä¸ä¸ã\n\nstarteræ¯ä¸ä¸ªåæ ä¸­å®äºè¥å¹²ä¸ªåæ ï¼ä»¥ååå¤ä¸ªçï¼ç°å¨åä¸ä¸ªï¼æ¯ç¨æ¥åå°ä¾èµéç½®çä¹¦åéç\n\nparentæ¯å®ä¹äºå ç¾ä¸ªä¾èµçæ¬å·ï¼ä»¥ååä¾èµéè¦èªå·±æå·¥æ§å¶çæ¬ï¼ç°å¨ç±SpringBootç»ä¸ç®¡çï¼è¿æ ·å°±ä¸å­å¨çæ¬å²çªäºï¼æ¯ç¨æ¥åå°ä¾èµå²çªç\n\nå®éå¼ååºç¨æ¹å¼\n\n * å®éå¼åä¸­å¦æéè¦ç¨ä»ä¹ææ¯ï¼åå»æ¾ææ²¡æè¿ä¸ªææ¯å¯¹åºçstarter\n   \n   * å¦ææå¯¹åºçstarterï¼ç´æ¥åstarterï¼èä¸æ éæå®çæ¬ï¼çæ¬ç±parentæä¾\n   * å¦ææ²¡æå¯¹åºçstarterï¼æååæ å³å¯\n\n * å®éå¼åä¸­å¦æåç°åæ åºç°äºå²çªç°è±¡ï¼ç¡®è®¤ä½ è¦ä½¿ç¨çå¯è¡ççæ¬å·ï¼ä½¿ç¨æå·¥ä¹¦åçæ¹å¼æ·»å å¯¹åºä¾èµï¼è¦çSpringBootæä¾ç»æä»¬çéç½®ç®¡ç\n   \n   * æ¹å¼ä¸ï¼ç´æ¥ååæ \n   * æ¹å¼äºï¼è¦ç<properties>ä¸­å®ä¹ççæ¬å·ï¼å°±æ¯ä¸é¢è¿å ä¸è¥¿äºï¼åªä¸ªå²çªäºè¦çåªä¸ªå°±OKäº\n   \n   <properties>\n       <activemq.version>5.16.3</activemq.version>\n       <aspectj.version>1.9.7</aspectj.version>\n       <assertj.version>3.19.0</assertj.version>\n       <commons-codec.version>1.15</commons-codec.version>\n       <commons-dbcp2.version>2.8.0</commons-dbcp2.version>\n       <commons-lang3.version>3.12.0</commons-lang3.version>\n       <commons-pool.version>1.6</commons-pool.version>\n       <commons-pool2.version>2.9.0</commons-pool2.version>\n       <h2.version>1.4.200</h2.version>\n       <hibernate.version>5.4.32.Final</hibernate.version>\n       <hibernate-validator.version>6.2.0.Final</hibernate-validator.version>\n       <httpclient.version>4.5.13</httpclient.version>\n       <jackson-bom.version>2.12.4</jackson-bom.version>\n       <javax-jms.version>2.0.1</javax-jms.version>\n       <javax-json.version>1.1.4</javax-json.version>\n       <javax-websocket.version>1.1</javax-websocket.version>\n       <jetty-el.version>9.0.48</jetty-el.version>\n       <junit.version>4.13.2</junit.version>\n   </properties>\n   \n\næ¸©é¦¨æç¤º\n\nSpringBootå®æ¹ç»åºäºå¥½å¤ä¸ªstarterçå®ä¹ï¼æ¹ä¾¿æä»¬ä½¿ç¨ï¼èä¸åç§°é½æ¯å¦ä¸æ ¼å¼\n\nå½åè§åï¼spring-boot-starter-ææ¯åç§°\n\n\næä»¥ä»¥åè§äºspring-boot-starter-aaaè¿æ ·çåå­ï¼è¿å°±æ¯SpringBootå®æ¹ç»åºçstarterå®ä¹ãé£éå®æ¹å®ä¹çä¹æåï¼æçï¼å·ä½å½åæ¹å¼å°æ´åç« èåè¯´\n\næ»ç»\n\n 1. å¼åSpringBootç¨åºéè¦å¯¼å¥åæ æ¶éå¸¸å¯¼å¥å¯¹åºçstarter\n 2. æ¯ä¸ªä¸åçstarteræ ¹æ®åè½ä¸åï¼éå¸¸åå«å¤ä¸ªä¾èµåæ \n 3. ä½¿ç¨starterå¯ä»¥å®ç°å¿«ééç½®çææï¼è¾¾å°ç®åéç½®çç®ç\n\n# å¼å¯¼ç±»\n\néç½®è¯´å®äºï¼æä»¬åç°SpringBootç¡®å®å¸®å©æä»¬åå°äºå¾å¤éç½®å·¥ä½ï¼ä¸é¢è¯´ä¸ä¸ç¨åºæ¯å¦ä½è¿è¡çãç®åç¨åºè¿è¡çå¥å£å°±æ¯SpringBootå·¥ç¨åå»ºæ¶èªå¸¦çé£ä¸ªç±»äºï¼å¸¦æmainæ¹æ³çé£ä¸ªç±»ï¼è¿è¡è¿ä¸ªç±»å°±å¯ä»¥å¯å¨SpringBootå·¥ç¨çè¿è¡\n\n@SpringBootApplication\npublic class Springboot0101QuickstartApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(Springboot0101QuickstartApplication.class, args);\n    }\n}\n\n\nSpringBootæ¬èº«æ¯ä¸ºäºå éSpringç¨åºçå¼åçï¼èSpringç¨åºè¿è¡çåºç¡æ¯éè¦åå»ºèªå·±çSpringå®¹å¨å¯¹è±¡ï¼IoCå®¹å¨ï¼å¹¶å°ææçå¯¹è±¡äº¤ç»Springçå®¹å¨ç®¡çï¼ä¹å°±æ¯ä¸ä¸ªä¸ä¸ªçBeanãé£è¿äºSpringBootå éå¼åSpringç¨åºï¼è¿ä¸ªå®¹å¨è¿å¨åï¼è¿ä¸ªçé®ä¸ç¨è¯´ï¼ä¸å®å¨ãå½åè¿ä¸ªç±»è¿è¡åå°±ä¼äº§çä¸ä¸ªSpringå®¹å¨å¯¹è±¡ï¼å¹¶ä¸å¯ä»¥å°è¿ä¸ªå¯¹è±¡ä¿å­èµ·æ¥ï¼éè¿å®¹å¨å¯¹è±¡ç´æ¥æä½Beanã\n\n@SpringBootApplication\npublic class Springboot0101QuickstartApplication {\n    public static void main(String[] args) {\n        ConfigurableApplicationContext ctx = SpringApplication.run(Springboot0101QuickstartApplication.class, args);\n        BookController bean = ctx.getBean(BookController.class);\n        System.out.println("bean======>" + bean);\n    }\n}\n\n\n\n\néè¿ä¸è¿°æä½ä¸é¾çåºï¼å¶å®SpringBootç¨åºå¯å¨è¿æ¯åå»ºäºä¸ä¸ªSpringå®¹å¨å¯¹è±¡ãè¿ä¸ªç±»å¨SpringBootç¨åºä¸­æ¯ææåè½çå¥å£ï¼ç§°è¿ä¸ªç±»ä¸ºå¼å¯¼ç±»ã\n\nä½ä¸ºä¸ä¸ªå¼å¯¼ç±»æå¸åçç¹å¾å°±æ¯å½åç±»ä¸æ¹å£°æäºä¸ä¸ªæ³¨è§£@SpringBootApplication\n\næ»ç»\n\n 1. SpringBootå·¥ç¨æä¾å¼å¯¼ç±»ç¨æ¥å¯å¨ç¨åº\n 2. SpringBootå·¥ç¨å¯å¨ååå»ºå¹¶åå§åSpringå®¹å¨\n\næè\n\nç¨åºç°å¨å·²ç»è¿è¡äºï¼éè¿å¼å¯¼ç±»çmainæ¹æ³è¿è¡äºèµ·æ¥ãä½æ¯è¿è¡javaç¨åºä¸åºè¯¥æ¯æ§è¡å®å°±ç»æäºåï¼ä½æ¯æä»¬ç°å¨ææ¾æ¯å¯å¨äºä¸ä¸ªwebæå¡å¨åï¼ä¸ç¶ç½é¡µæä¹è½æ­£å¸¸è®¿é®å¢ï¼è¿ä¸ªæå¡å¨æ¯å¨åªéåçå¢ï¼\n\n# ååµtomcat\n\nå½åæä»¬åçSpringBootå¥é¨æ¡ä¾å¾éäºSpirng-webçåè½ï¼å¹¶ä¸å¯¼å¥äºå¯¹åºçstarterã\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-web</artifactId>\n</dependency>\n\n\nSpringBootåç°ï¼æ¢ç¶ä½ è¦åwebç¨åºï¼è¯å®ç¦»ä¸å¼ä½¿ç¨webæå¡å¨ï¼è¿æ ·å§ï¼å¸®äººå¸®å°åºï¼éä½éå°è¥¿ãæå¸®ä½ æä¸ä¸ªwebæå¡å¨ï¼ä½ è¦æ¿æç¨çï¼ç´æ¥ä½¿ç¨å°±å¥½äºï¼å¹²èæåå¤ç»ä½ å ç§éæ©ï¼ä½ éä¾¿åæ¢ãä¸ä¸ä½ ä¸æ³ç¨æç»ä½ æä¾çï¼ä¹è¡ï¼ä½ å¯ä»¥èªå·±æã\n\nç±äºè¿ä¸ªåè½ä¸å±äºç¨åºçä¸»ä½åè½ï¼å¯ç¨å¯ä¸ç¨ï¼äºæ¯ä¹SpringBootå°å¶å®ä½æè¾å©åè½ï¼å«å°çè¿ä¹ä¸ä¸ªè¾å©åè½ï¼å®å¯æ¯å¸®æä»¬å¼åèååå°äºå¥½å¤çè®¾ç½®æ§å·¥ä½ã\n\nä¸é¢å°±å´ç»çè¿ä¸ªåç½®çwebæå¡å¨ï¼ä¹å¯ä»¥è¯´æ¯åç½®çtomcatæå¡å¨æ¥ç ç©¶å ä¸ªé®é¢\n\n 1. è¿ä¸ªæå¡å¨å¨ä»ä¹ä½ç½®å®ä¹ç\n 2. è¿ä¸ªæå¡å¨æ¯æä¹è¿è¡ç\n 3. è¿ä¸ªæå¡å¨å¦ææ³æ¢æä¹æ¢ï¼è½ç¶è¿ä¸ªéæ±å¾åå¾ï¼æå¾å¼åèä¼å¥½å¤webæå¡å¨ä¸æ ·ï¼ç¨å«äººæä¾å¥½çä¸é¦ä¹ï¼éè¦èªå·±æè¾\n\nååµTomcatå®ä¹ä½ç½®\n\nè¯´å°å®ä¹çä½ç½®ï¼æä»¬å°±æ³ï¼å¦ææä»¬ä¸å¼åwebç¨åºï¼ç¨ççwebæå¡å¨åï¼è¯å®ç¨ä¸çåãé£å¦æè¿ä¸ªä¸è¥¿è¢«å å¥å°ä½ çç¨åºä¸­ï¼ä¼´éçä»ä¹ææ¯è¿æ¥çå¢ï¼è¯å®æ¯webç¸å³çåè½åï¼æ²¡éï¼å°±æ¯åé¢å¯¼å¥çwebç¸å³çstarteråçè¿ä»¶äºã\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-web</artifactId>\n</dependency>\n\n\næå¼æ¥çwebçstarterå¯¼å¥äºåªäºä¸è¥¿\n\n<dependencies>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter</artifactId>\n        <version>2.5.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-json</artifactId>\n        <version>2.5.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-tomcat</artifactId>\n        <version>2.5.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-web</artifactId>\n        <version>5.3.9</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-webmvc</artifactId>\n        <version>5.3.9</version>\n        <scope>compile</scope>\n    </dependency>\n</dependencies>\n\n\nç¬¬ä¸ä¸ªä¾èµå°±æ¯è¿ä¸ªtomcatå¯¹åºçä¸è¥¿äºï¼å±ç¶ä¹æ¯ä¸ä¸ªstarterï¼åæå¼çç\n\n<dependencies>\n    <dependency>\n        <groupId>jakarta.annotation</groupId>\n        <artifactId>jakarta.annotation-api</artifactId>\n        <version>1.3.5</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupId>org.apache.tomcat.embed</groupId>\n        <artifactId>tomcat-embed-core</artifactId>\n        <version>9.0.52</version>\n        <scope>compile</scope>\n        <exclusions>\n            <exclusion>\n                <artifactId>tomcat-annotations-api</artifactId>\n                <groupId>org.apache.tomcat</groupId>\n            </exclusion>\n        </exclusions>\n    </dependency>\n    <dependency>\n        <groupId>org.apache.tomcat.embed</groupId>\n        <artifactId>tomcat-embed-el</artifactId>\n        <version>9.0.52</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupId>org.apache.tomcat.embed</groupId>\n        <artifactId>tomcat-embed-websocket</artifactId>\n        <version>9.0.52</version>\n        <scope>compile</scope>\n        <exclusions>\n            <exclusion>\n                <artifactId>tomcat-annotations-api</artifactId>\n                <groupId>org.apache.tomcat</groupId>\n            </exclusion>\n        </exclusions>\n    </dependency>\n</dependencies>\n\n\nè¿éé¢æä¸ä¸ªæ ¸å¿çåæ ï¼tomcat-embed-coreï¼å«åtomcatååµæ ¸å¿ãå°±æ¯è¿ä¸ªä¸è¥¿ætomcatåè½å¼å¥å°äºæä»¬çç¨åºä¸­ãç®åè§£å³äºç¬¬ä¸ä¸ªé®é¢ï¼æ¾å°æ ¹å¿äºï¼è°ætomcatå¼å¥å°ç¨åºä¸­çï¼spring-boot-starter-webä¸­çspring-boot-starter-tomcatåçãä¹æä»¥ä½ æè§å¾å¥å¦çåå å°±æ¯ï¼è¿ä¸ªä¸è¥¿æ¯é»è®¤å å¥å°ç¨åºä¸­äºï¼æä»¥æè§å¾ç¥å¥ï¼å±ç¶ä»ä¹é½ä¸åï¼å°±æäºwebæå¡å¨å¯¹åºçåè½ï¼åæ¥è¯´ç¬¬äºä¸ªé®é¢ï¼è¿ä¸ªæå¡å¨æ¯æä¹è¿è¡ç\n\nååµTomcatè¿è¡åç\n\nTomcatæå¡å¨æ¯ä¸æ¬¾è½¯ä»¶ï¼èä¸æ¯ä¸æ¬¾ä½¿ç¨javaè¯­è¨å¼åçè½¯ä»¶ï¼çæçå°ä¼ä¼´å¯è½æå°è±¡ï¼tomcatå®è£ç®å½ä¸­ä¿å­æjarï¼å¥½å¤ä¸ªjarã\n\nä¸é¢çé®é¢æ¥äºï¼æ¢ç¶æ¯ä½¿ç¨javaè¯­è¨å¼åçï¼è¿è¡çæ¶åè¯å®ç¬¦åjavaç¨åºè¿è¡çåçï¼javaç¨åºè¿è¡é çæ¯ä»ä¹ï¼å¯¹è±¡åï¼ä¸åçå¯¹è±¡ï¼ä¸ç©çå¯¹è±¡ãé£tomcatè¿è¡èµ·æ¥å¢ï¼ä¹æ¯å¯¹è±¡ã\n\nå¦ææ¯å¯¹è±¡ï¼é£Springå®¹å¨æ¯ç¨æ¥ç®¡çå¯¹è±¡çï¼è¿ä¸ªå¯¹è±¡è½ä¸è½äº¤ç»Springå®¹å¨ç®¡çå¢ï¼æåå»æï¼æ¯ä¸ªå¯¹è±¡é½å¯ä»¥äº¤ç»Springå®¹å¨ç®¡çï¼è¡äºï¼è¿ä¸éäºãtomcatæå¡å¨è¿è¡å¶å®æ¯ä»¥å¯¹è±¡çå½¢å¼å¨Springå®¹å¨ä¸­è¿è¡çï¼æªä¸å¾æä»¬æ²¡æå®è£è¿ä¸ªtomcatï¼èä¸è¿è½ç¨ãé¹äºåå¤©è¿ä¸è¥¿æåæ¯ä»¥ä¸ä¸ªå¯¹è±¡çå½¢å¼å­å¨ï¼ä¿å­å¨Springå®¹å¨ä¸­ææè¿è¡çãå·ä½è¿è¡çæ¯ä»ä¹å¢ï¼å¶å®å°±æ¯ä¸åé¢æå°çé£ä¸ªtomcatååµæ ¸å¿\n\n<dependencies>\n    <dependency>\n        <groupId>org.apache.tomcat.embed</groupId>\n        <artifactId>tomcat-embed-core</artifactId>\n        <version>9.0.52</version>\n        <scope>compile</scope>\n    </dependency>\n</dependencies>\n\n\né£æ¢ç¶æ¯ä¸ªå¯¹è±¡ï¼å¦ææè¿ä¸ªå¯¹è±¡ä»Springå®¹å¨ä¸­å»ææ¯ä¸æ¯å°±æ²¡æwebæå¡å¨çåè½å¢ï¼æ¯è¿æ ·çï¼éè¿ä¾èµæé¤å¯ä»¥å»æè¿ä¸ªwebæå¡å¨åè½\n\n<dependencies>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-web</artifactId>\n        <exclusions>\n            <exclusion>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-starter-tomcat</artifactId>\n            </exclusion>\n        </exclusions>\n    </dependency>\n</dependencies>\n\n\nä¸é¢å¯¹web-starteråäºä¸ä¸ªæä½ï¼ä½¿ç¨mavençæé¤ä¾èµå»æäºä½¿ç¨tomcatçstarterãè¿ä¸å¥½äºï¼å®¹å¨ä¸­è¯å®æ²¡æè¿ä¸ªå¯¹è±¡äºï¼éæ°å¯å¨ç¨åºå¯ä»¥è§å¯å°ç¨åºè¿è¡äºï¼ä½æ¯å¹¶æ²¡æåä¹åé£æ ·è¿è¡åä¼ç­çç¨æ·åè¯·æ±ï¼èæ¯ç´æ¥åæäºï¼å°±æ¯è¿ä¸ªåå äºã\n\næ´æ¢ååµTomcat\n\né£æ ¹æ®ä¸é¢çæä½æä»¬æèæ¯å¦å¯ä»¥æ¢ä¸ªæå¡å¨å¢ï¼å¿é¡»çåãæ ¹æ®SpringBootçå·¥ä½æºå¶ï¼ç¨ä»ä¹ææ¯ï¼å å¥ä»ä¹ä¾èµå°±è¡äºãSpringBootæä¾äº3æ¬¾åç½®çæå¡å¨\n\n * tomcat(é»è®¤)ï¼apacheåºåï¼ç²ä¸å¤ï¼åºç¨é¢å¹¿ï¼è´è½½äºè¥å¹²è¾éçç»ä»¶\n\n * jettyï¼æ´è½»éçº§ï¼è´è½½æ§è½è¿ä¸åtomcat\n\n * undertowï¼è´è½½æ§è½åå¼ºè·èµ¢tomcat\n   \n   æ³ç¨åªä¸ªï¼å ä¸ªåæ å°±OKãåææ¯ætomcatæé¤æï¼å ä¸ºtomcatæ¯é»è®¤å è½½çã\n\n<dependencies>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-web</artifactId>\n        <exclusions>\n            <exclusion>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-starter-tomcat</artifactId>\n            </exclusion>\n        </exclusions>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-jetty</artifactId>\n    </dependency>\n</dependencies>\n\n\nç°å¨å°±å·²ç»æåæ¿æ¢äºwebæå¡å¨ï¼æ ¸å¿ææ³å°±æ¯ç¨ä»ä¹å å¥å¯¹åºåæ å°±å¯ä»¥äºãå¦ææstarterï¼ä¼åä½¿ç¨starterã\n\næ»ç»\n\n 1. ååµTomcatæå¡å¨æ¯SpringBootè¾å©åè½ä¹ä¸\n 2. ååµTomcatå·¥ä½åçæ¯å°Tomcatæå¡å¨ä½ä¸ºå¯¹è±¡è¿è¡ï¼å¹¶å°è¯¥å¯¹è±¡äº¤ç»Springå®¹å¨ç®¡ç\n 3. åæ´ååµæå¡å¨ææ³æ¯å»é¤ç°ææå¡å¨ï¼æ·»å å¨æ°çæå¡å¨\n\nå°è¿éç¬¬ä¸ç« å¿«éä¸æSpringBootå°±ç»æäºï¼è¿ä¸ç« æä»¬å­¦ä¹ äºä¸¤å¤§åç¥è¯\n\n 1. ä½¿ç¨äº4ç§æ¹å¼å¶ä½äºSpringBootçå¥é¨ç¨åºï¼ä¸ç®¡æ¯åªä¸ç§ï¼å¶å®åé¨é½æ¯ä¸æ¨¡ä¸æ ·ç\n 2. å­¦ä¹ äºå¥é¨ç¨åºçå·¥ä½æµç¨ï¼ç¥éä»ä¹æ¯parentï¼ä»ä¹æ¯starterï¼è¿ä¸¤ä¸ªä¸è¥¿æ¯æä¹éåå·¥ä½çï¼ä»¥åæä»¬çç¨åºä¸ºä»ä¹å¯å¨èµ·æ¥æ¯ä¸ä¸ªtomcatæå¡å¨ç­ç­\n\nç¬¬ä¸ç« å°è¿éå°±ç»æäºï¼åå¾ä¸å­¦ä¹ å°±è¦å»åºäºä¼åå»ºSpringBootå·¥ç¨çåºç¡ä¸ï¼ç ç©¶SpringBootå·¥ç¨çå·ä½ç»èäºã\n\n\n# JC-2.SpringBootåºç¡éç½®\n\nå¥é¨æ¡ä¾åå®äºï¼ä¸é¢å°±è¦ç ç©¶SpringBootçç¨æ³äºãéè¿å¥é¨æ¡ä¾ï¼åä½å°ä¼ä¼´è½å¤æç¥å°ä¸ä¸ªä¿¡æ¯ï¼SpringBootæ²¡æå·ä½çåè½ï¼å®å¨è¾å©å å¿«Springç¨åºçå¼åæçãæä»¬åç°ç°å¨å ä¹ä¸ç¨åä»»ä½çéç½®ï¼åè½å°±æäºï¼ç¡®å®å¾å¥½ç¨ãä½æ¯ä»ç»æ³æ³ï¼æ²¡æåéç½®æå³çä»ä¹ï¼æå³çéç½®å·²ç»åå¥½äºï¼ä¸ç¨ä½ èªå·±åäºãä½æ¯æ°çé®é¢åæ¥äºï¼å¦æä¸æ³ç¨å·²ç»åå¥½çé»è®¤éç½®ï¼è¯¥å¦ä½å¹²é¢å¢ï¼è¿å°±æ¯è¿ä¸ç« å±ä»¬è¦ç ç©¶çé®é¢ã\n\nå¦ææä»¬æ³ä¿®æ¹é»è®¤çéç½®iï¼è¿ä¸ªä¿¡æ¯åºè¯¥åå¨ä»ä¹ä½ç½®å¢ï¼ç®åæä»¬æ¥è§¦çå¥é¨æ¡ä¾ä¸­ä¸å±æ3ä¸ªæä»¶ï¼ç¬¬ä¸æ¯pom.xmlæä»¶ï¼è®¾ç½®é¡¹ç®çä¾èµçï¼è¿ä¸ªæ²¡ä»ä¹å¥½ç ç©¶çï¼ç¸å³çé«çº§åå®¹å±ä»¬å°åçç¯åè¯´ï¼ç¬¬äºæ¯å¼å¯¼ç±»ï¼è¿ä¸ªæ¯æ§è¡SpringBootç¨åºçå¥å£ï¼ä¹ä¸åæ¯åéç½®çå°æ¹ï¼å¶å®è¿æä¸ä¸ªä¿¡æ¯ï¼å°±æ¯å¨resourcesç®å½ä¸é¢æä¸ä¸ªç©ºç½çæä»¶ï¼å«åapplication.propertiesãä¸çå°±æ¯ä¸ªéç½®æä»¶ï¼å±ä»¬è¿ä¸ç« å°±æ¥è¯´è¯´éç½®æä»¶æä¹åï¼è½åä»ä¹ï¼æä¹å¹²é¢SpringBootçé»è®¤éç½®ï¼ä¿®æ¹æèªå·±çéç½®ã\n\n.imlæä»¶æ¯ideaçéç½®æä»¶ï¼ideaå¯¼å¥ä¸ä¸ªå·¥ç¨å°±ä¼èªå¨çæï¼å æ­¤å¤å¶çå·¥ç¨å¯ä»¥å é¤\n\nå¤å¶çå·¥ç¨ä¸­çnameådiscibtionå¯ä»¥å é¤\n\n\n\n\n\n\n# JC-2-1.å±æ§éç½®\n\nSpringBootéè¿éç½®æä»¶resources/application.propertieså°±å¯ä»¥ä¿®æ¹é»è®¤çéç½®ï¼é£å±ä»¬å°±åæ¾ä¸ªç®åçéç½®ä¸æï¼å½åè®¿é®tomcatçé»è®¤ç«¯å£æ¯8080ï¼å¥½çæçå³éï¼ä½æ¯ä¸ä¾¿äºä¹¦åï¼æä»¬åæ¹æ80ï¼éè¿è¿ä¸ªæä½æ¥çæä¸ä¸SpringBootçéç½®æ ¼å¼æ¯ä»ä¹æ ·ç\n\n\n\né£è¯¥å¦ä½åå¢ï¼propertiesæ ¼å¼çæä»¶ä¹¦åè§èæ¯key=value\n\nname=itheima\n\n\nè¿ä¸ªæ ¼å¼è¯å®æ¯ä¸è½é¢ è¦çï¼é£å°±å°è¯æ§çåå°±è¡äºï¼æ¹ç«¯å£ï¼åportãå½ä½ è¾å¥portåï¼ç¥å¥çäºæå°±åçäºï¼è¿ç©æå¿å¸¦æç¤ºï¼å¤ªå¥½äº\n\næ ¹æ®æç¤ºæ²åè½¦ï¼è¾å¥80ç«¯å£ï¼æå®\n\nserver.port=80\n\n\nä¸é¢å°±å¯ä»¥ç´æ¥è¿è¡ç¨åºï¼æµè¯ææäºã\n\næä»¬æå¥çåç°SpringBootè¿ç©æå¿ç åï¼ä»¥åä¿®æ¹ç«¯å£å¨åªéæ¹ï¼tomcatæå¡å¨çéç½®æä»¶ä¸­æ¹ï¼ç°å¨å¢ï¼SpringBootä¸ç¨çéç½®æä»¶ä¸­æ¹ï¼æ¯ä¸æ¯æå³çä»¥åææçéç½®é½å¯ä»¥åå¨è¿ä¸ä¸ªæä»¶ä¸­å¢ï¼æ¯çï¼ç®åå¼åèéç½®çä¹¦åä½ç½®ï¼éä¸­ç®¡çãå¦åï¼å¦å¦åä¹ä¸ç¨æå¿ææ¾ä¸å°éç½®æä»¶äºã\n\nå¶å®å°è¿éæä»¬åºè¯¥å¾å°å¦ä¸ä¸ä¸ªä¿¡æ¯\n\n 1. SpringBootç¨åºå¯ä»¥å¨application.propertiesæä»¶ä¸­è¿è¡å±æ§éç½®\n 2. application.propertiesæä»¶ä¸­åªè¦è¾å¥è¦éç½®çå±æ§å³é®å­å°±å¯ä»¥æ ¹æ®æç¤ºè¿è¡è®¾ç½®\n 3. SpringBootå°éç½®ä¿¡æ¯éä¸­å¨ä¸ä¸ªæä»¶ä¸­åï¼ä¸ç®¡ä½ æ¯æå¡å¨çéç½®ï¼è¿æ¯æ°æ®åºçéç½®ï¼æ»ä¹é½åå¨ä¸èµ·ï¼éç¦»ä¸ä¸ªé¡¹ç®åå ç§éç½®æä»¶æ ¼å¼çå°´å°¬å±é¢\n\næ»ç»\n\n 1. SpringBooté»è®¤éç½®æä»¶æ¯application.properties\n\nåå®äºç«¯å£çéç½®ï¼è¶ç­æéï¼ååå ä¸ªéç½®ï¼ç®åé¡¹ç®å¯å¨æ¶ä¼æ¾ç¤ºä¸äºæ¥å¿ä¿¡æ¯ï¼å°±æ¥æ¹ä¸æ¹è¿éé¢çä¸äºè®¾ç½®ã\n\nå³é­è¿è¡æ¥å¿å¾è¡¨ï¼banner)\n\nspring.main.banner-mode=off\n\n\nè®¾ç½®è¿è¡æ¥å¿çæ¾ç¤ºçº§å«\n\nlogging.level.root=debug\n\n\nä½ ä¼åç°ï¼ç°å¨è¿ä¹æéç½®å¤ªç½äºï¼ä»¥åä½ åéç½®æä¹åï¼ä¸åçææ¯æèªå·±ä¸ç¨çéç½®æä»¶ï¼æä»¶ä¸åæ ¼å¼ä¹ä¸ç»ä¸ï¼ç°å¨å¢ï¼ä¸ç¨ä¸å¥è¥¿èµ°çæ¾éç½®æä»¶åéç½®äºï¼ç»ä¸æ ¼å¼äºï¼è¿å°±æ¯å¤§ç§¦å¸å½åï¼ç»ä¸å­å½ãSpringBootæ¯å¤§ç§¦ç ï¼å ä¸ºæªæ¥åºç°çææ¯è¿æ²¡åºç°å¢ï¼ä½æ¯ç°å¨å·²ç»ç¡®è®¤äºï¼éç½®é½åè¿ä¸ªæä»¶éé¢ã\n\næä»¬ç°å¨éç½®äº3ä¸ªä¿¡æ¯ï¼ä½æ¯åææ°çé®é¢äºãè¿ä¸ªéç½®æ¯éä¾¿åçåï¼ä»ä¹é½è½éï¼ææ²¡æä¸ä¸ªä¸è¥¿æ¾ç¤ºææè½éç½®çé¡¹å¢ï¼æ­¤å¤è¿ä¸ªéç½®åä»ä¹ä¸è¥¿æå³å¢ï¼ä¼ä¸ä¼å ä¸ºæåäºä»ä¹ä¸è¥¿ä»¥åæå¯ä»¥åä»ä¹éç½®å¢ï¼æ¯å¦æç°å¨æ²¡æåæ°æ®åºç¸å³çä¸è¥¿ï¼è½å¦éç½®æ°æ®å¢ï¼ä¸ä¸ªä¸ä¸ªæ¥ï¼åè¯´ç¬¬ä¸ä¸ªé®é¢ï¼é½è½éç½®ä»ä¹ã\n\næå¼SpringBootçå®ç½ï¼æ¾å°SpringBootå®æ¹ææ¡£ï¼æå¼æ¥çéå½ä¸­çApplication Propertieså°±å¯ä»¥è·åå°å¯¹åºçéç½®é¡¹äºï¼ç½åå¥ä¸ï¼https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties\n\nè½åä»ä¹çé®é¢è§£å³äºï¼åæ¥è¯´ç¬¬äºä¸ªé®é¢ï¼è¿ä¸ªéç½®é¡¹åä»ä¹æå³ãå¨pomä¸­æ³¨éæå¯¼å¥çspring-boot-starter-webï¼ç¶åå·æ°å·¥ç¨ï¼ä½ ä¼åç°éç½®çæç¤ºæ¶å¤±äºãé¹äºåå¤©æ¯è®¾å®ä½¿ç¨äºä»ä¹ææ¯æè½åä»ä¹éç½®ãä¹åçï¼ä¸ç¶éç½®çä¸è¥¿é½æ²¡æä½¿ç¨å¯¹åºææ¯ï¼éäºä¹æ¯ç½éã\n\næ¸©é¦¨æç¤º\n\nææçstarterä¸­é½ä¼ä¾èµä¸é¢è¿ä¸ªstarterï¼å«åspring-boot-starterãè¿ä¸ªstarteræ¯ææçSpringBootçstarterçåºç¡ä¾èµï¼éé¢å®ä¹äºSpringBootç¸å³çåºç¡éç½®ï¼å³äºè¿ä¸ªstarteræä»¬å°å¼ååºç¨ç¯ååçç¯ä¸­åæ·±å¥è®²è§£ã\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter</artifactId>\n    <version>2.5.4</version>\n    <scope>compile</scope>\n</dependency>\n\n\næ»ç»\n\n 1. SpringBootä¸­å¯¼å¥å¯¹åºstarteråï¼æä¾å¯¹åºéç½®å±æ§\n 2. ä¹¦åSpringBootéç½®éç¨å³é®å­+æç¤ºå½¢å¼ä¹¦å\n\n\n# JC-2-2.éç½®æä»¶åç±»\n\nç°å¨å·²ç»è½å¤è¿è¡SpringBootç¸å³çéç½®äºï¼ä½æ¯propertiesæ ¼å¼çéç½®åèµ·æ¥æ»æ¯è§å¾ççä¸èæï¼æä»¥å°±ææå­å¨ä¸ç§ä¹¦åèµ·æ¥æ´ç®ä¾¿çéç½®æ ¼å¼æä¾ç»å¼åèä½¿ç¨ãæåï¼è¿çæï¼SpringBooté¤äºæ¯æpropertiesæ ¼å¼çéç½®æä»¶ï¼è¿æ¯æå¦å¤ä¸¤ç§æ ¼å¼çéç½®æä»¶ãåå«å¦ä¸:\n\n * propertiesæ ¼å¼\n\n * ymlæ ¼å¼\n\n * yamlæ ¼å¼\n   \n   ä¸çå°å¨æ°çæä»¶æ ¼å¼ï¼åä½å°ä¼ä¼´è¯å®æ³ï¼è¿ä¸åè¦å­¦ä¹ æ°çè¯­æ³æ ¼å¼äºãæä¹è¯´å¢ï¼ä»ç¥è¯è§åº¦æ¥è¯´ï¼è¦å­¦ï¼ä»å¼åè§åº¦æ¥è¯´ï¼ä¸ç¨å­¦ãä¸ºä»ä¹å¢ï¼å ä¸ºSpringBootçéç½®å¨Ideaå·¥å·ä¸ææç¤ºåï¼è·çæç¤ºèµ°å°±è¡äºãä¸é¢åä¸¾ä¸ç§ä¸åæä»¶æ ¼å¼éç½®ç¸åçå±æ§èä¾ï¼åäºè§£ä¸ä¸\n\n * application.propertiesï¼propertiesæ ¼å¼ï¼\n\nserver.port=80\n\n\n * application.ymlï¼ymlæ ¼å¼ï¼\n\nserver:\n  port: 81\n\n\n * application.yamlï¼yamlæ ¼å¼ï¼\n\nserver:\n  port: 82\n\n\nä»ç»çä¼åç°ymlæ ¼å¼åyamlæ ¼å¼é¤äºæä»¶ååç¼ä¸ä¸æ ·ï¼æ ¼å¼å®å¨ä¸æ ·ï¼æ¯è¿æ ·çï¼ymlåyamlæä»¶æ ¼å¼å°±æ¯ä¸æ¨¡ä¸æ ·çï¼åªæ¯æä»¶åç¼ä¸åï¼æä»¥å¯ä»¥åå¹¶æä¸ç§æ ¼å¼æ¥çãé£å¯¹äºè¿ä¸ç§æ ¼å¼æ¥è¯´ï¼ä»¥åç¨åªä¸ç§æ¯è¾å¤å¢ï¼è®°æ¸æ¥ï¼ä»¥ååºæ¬ä¸é½æ¯ç¨ymlæ ¼å¼çï¼æ¬è¯¾ç¨åé¢çææç¥è¯é½æ¯åºäºymlæ ¼å¼æ¥å¶ä½çï¼ä»¥åå¨ä¼ä¸å¼åè¿ç¨ä¸­ç¨è¿ä¸ªæ ¼å¼çæºä¼ä¹æå¤ï¼ä¸å®è¦éç¹ææ¡ã\n\næ»ç»\n\n 1. SpringBootæä¾äº3ç§éç½®æä»¶çæ ¼å¼\n    * propertiesï¼ä¼ ç»æ ¼å¼/é»è®¤æ ¼å¼ï¼\n    * ymlï¼ä¸»æµæ ¼å¼ï¼\n    * yaml\n\næè\n\nç°å¨æä»¬å·²ç»ç¥éä½¿ç¨ä¸ç§æ ¼å¼é½å¯ä»¥åéç½®äºï¼å¥½å¥å®å®ä»¬å°±ææ°ççµé­æ·é®äºï¼ä¸ä¸æä¸ä¸ªé½åäºï¼ä»ä»¬ä¸ä¸ªè°è¯´äºç®å¢ï¼æä¸æ¶åï¼\n\n# éç½®æä»¶ä¼åçº§\n\nå¶å®ä¸ä¸ªæä»¶å¦æå±å­çè¯ï¼è°çæè¯´çå°±æ¯éç½®æä»¶å è½½çä¼åçº§å«ãåè¯´ä¸ç¹ï¼è½ç¶ä»¥åè¿ç§æåµå¾å°åºç°ï¼ä½æ¯è¿ä¸ªç¥è¯è¿æ¯å¯ä»¥å­¦ä¹ ä¸ä¸çãæä»¬å°±è®©ä¸ä¸ªéç½®æä»¶ä¹¦ååæ ·çä¿¡æ¯ï¼æ¯å¦é½éç½®ç«¯å£ï¼ç¶åæä»¬è®©æ¯ä¸ªæä»¶éç½®çç«¯å£å·é½ä¸ä¸æ ·ï¼æåå¯å¨ç¨åºåçå¯å¨ç«¯å£æ¯å¤å°å°±ç¥éè°çå è½½ä¼åçº§æ¯è¾é«äºã\n\n * application.propertiesï¼propertiesæ ¼å¼ï¼\n\nserver.port=80\n\n\n * application.ymlï¼ymlæ ¼å¼ï¼\n\nserver:\n  port: 81\n\n\n * application.yamlï¼yamlæ ¼å¼ï¼\n\nserver:\n  port: 82\n\n\nå¯å¨ååç°ç®åçå¯å¨ç«¯å£ä¸º80ï¼æ80å¯¹åºçæä»¶å é¤æï¼ç¶ååå¯å¨ï¼ç°å¨ç«¯å£åæ¹æäº81ãç°å¨æä»¬å°±å·²ç»ç¥éäº3ä¸ªæä»¶çå è½½ä¼åé¡ºåºæ¯ä»ä¹\n\napplication.properties  >  application.yml  >  application.yaml\n\n\nè½ç¶å¾å°äºä¸ä¸ªç¥è¯ç»è®ºï¼ä½æ¯æä»¬å®éå¼åçæ¶åè¿æ¯è¦çæç»çææä¸ºåãä¹å°±æ¯ä½ è¦çæç»æææ¯ä»ä¹èªå·±æ¯æç¡®çï¼ä¸è¿°ç»è®ºåªè½å¸®å©ä½ åæç»è®ºäº§ççåå ãè¿ä¸ªç¥è¯äºè§£ä¸ä¸å°±è¡äºï¼å ä¸ºä»¥ååæ¶åå¤ç§éç½®æä»¶æ ¼å¼çæåµå®å¨æ¯è¾å°ã\n\næåæä»¬æéç½®æä»¶åå®¹ç»ä¿®æ¹ä¸ä¸\n\n * application.propertiesï¼propertiesæ ¼å¼ï¼\n\nserver.port=80\nspring.main.banner-mode=off\n\n\n * application.ymlï¼ymlæ ¼å¼ï¼\n\nserver:\n  port: 81\nlogging: \n  level: \n    root: debug\n\n\n * application.yamlï¼yamlæ ¼å¼ï¼\n\nserver:\n  port: 82\n\n\næä»¬åç°ä¸ä»ç«¯å£çæäºï¼æç»æ¾ç¤º80ï¼åæ¶å¶ä»ä¸¤æ¡éç½®ä¹çæäºï¼çæ¥æ¯ä¸ªéç½®æä»¶ä¸­çé¡¹é½ä¼çæï¼åªä¸è¿å¦æå¤ä¸ªéç½®æä»¶ä¸­æç¸åç±»åçéç½®ä¼ä¼åçº§é«çæä»¶è¦çä¼åçº§çæä»¶ä¸­çéç½®ãå¦æéç½®é¡¹ä¸åçè¯ï¼é£ææçéç½®é¡¹é½ä¼çæã\n\næ»ç»\n\n 1. éç½®æä»¶é´çå è½½ä¼åçº§ propertiesï¼æé«ï¼> yml > yamlï¼æä½ï¼\n 2. ä¸åéç½®æä»¶ä¸­ç¸åéç½®æç§å è½½ä¼åçº§ç¸äºè¦çï¼ä¸åéç½®æä»¶ä¸­ä¸åéç½®å¨é¨ä¿ç\n\n# æä½ ä¸æï¼èªå¨æç¤ºåè½æ¶å¤±è§£å³æ¹æ¡\n\nå¯è½æäºå°ä¼ä¼´ä¼åºäºåç§åæ ·çåå å¯¼è´éç½®æä»¶ä¸­æ²¡ææç¤ºï¼è¿ä¸ªç¡®å®å¾è®©äººå¤´ç¼ï¼æä»¥ä¸é¢ç»å¤§å®¶è¯´ä¸ä¸å¦æèªå¨æç¤ºåè½æ¶å¤±äºæä¹è§£å³ã\n\nåè¦æç¡®ä¸ä¸ªæ ¸å¿ï¼å°±æ¯èªå¨æç¤ºåè½ä¸æ¯SpringBootææ¯ç»æä»¬æä¾çï¼æ¯æä»¬å¨Ideaå·¥å·ä¸ç¼ç¨ï¼è¿ä¸ªç¼ç¨å·¥å·ç»æä»¬æä¾çãæç½äºè¿ä¸ç¹åï¼åæ¥è¯´ä¸ºä»ä¹ä¼åºç°è¿ç§ç°è±¡ãå¶å®è¿ä¸ªèªå¨æç¤ºåè½æ¶å¤±çåå è¿æ¯è®å¤çï¼å¦ææ³è§£å³è¿ä¸ªé®é¢ï¼å°±è¦ç¥éä¸ºä»ä¹ä¼æ¶å¤±ï¼å¤§ä½åå æå¦ä¸3ç§ï¼\n\n 1. Ideaè®¤ä¸ºä½ ç°å¨åéç½®çæä»¶ä¸æ¯ä¸ªéç½®æä»¶ï¼æä»¥æç»ç»ä½ æä¾æç¤ºåè½\n\n 2. Ideaè®¤å®ä½ æ¯åççéç½®æä»¶ï¼ä½æ¯Ideaå è½½ä¸å°å¯¹åºçæç¤ºä¿¡æ¯\n    \n    è¿éæä»¬ä¸»è¦è§£å³ç¬¬ä¸ä¸ªç°è±¡ï¼ç¬¬äºç§ç°è±¡å°åçç¯åè®²è§£ãç¬¬ä¸ç§ç°è±¡çè§£å³æ¹å¼å¦ä¸ï¼\n\næ­¥éª¤â ï¼æå¼è®¾ç½®ï¼ãFilesãâãProject Structure...ã\n\n\n\næ­¥éª¤â¡ï¼å¨å¼¹åºçªå£ä¸­å·¦ä¾§éæ©ãFacetsãï¼å³ä¾§éä¸­Springè·¯å¾ä¸å¯¹åºçæ¨¡ååç§°ï¼ä¹å°±æ¯ä½ èªå¨æç¤ºåè½æ¶å¤±çé£ä¸ªæ¨¡å\n\n\n\næ­¥éª¤â¢ï¼ç¹å»Customize Spring Bootæé®ï¼æ­¤æ¶å¯ä»¥çå°å½åæ¨¡åå¯¹åºçéç½®æä»¶æ¯åªäºäºãå¦ææ²¡æä½ æ³è¦ç§°ä¸ºéç½®æä»¶çæä»¶æ ¼å¼ï¼å°±æå¯è½æ æ³å¼¹åºæç¤º\n\n\n\næ­¥éª¤â£ï¼éæ©æ·»å éç½®æä»¶ï¼ç¶åéä¸­è¦ä½ä¸ºéç½®æä»¶çå·ä½æä»¶å°±OKäº\n\n\n\nå°è¿éå°±åå®äºï¼å¶å®å°±æ¯Ideaçä¸ä¸ªå°åè½\n\n\n\næ»ç»\n\n 1. æå®SpringBootéç½®æä»¶\n    \n    * Setting â Project Structure â Facets\n    * éä¸­å¯¹åºé¡¹ç®/å·¥ç¨\n    * Customize Spring Boot\n    * éæ©éç½®æä»¶\n\n\n# JC-2-3.yamlæä»¶\n\nSpringBootçéç½®ä»¥åä¸»è¦ä½¿ç¨ymlç»å°¾çè¿ç§æä»¶æ ¼å¼ï¼å¹¶ä¸å¨ä¹¦åæ¶å¯ä»¥éè¿æç¤ºçå½¢å¼å è½½æ­£ç¡®çæ ¼å¼ãä½æ¯è¿ç§æä»¶è¿æ¯æä¸¥æ ¼çä¹¦åæ ¼å¼è¦æ±çãä¸é¢å°±æ¥è¯´ä¸ä¸å·ä½çè¯­æ³æ ¼å¼ã\n\nYAMLï¼YAML Ain\'t Markup Languageï¼ï¼ä¸ç§æ°æ®åºååæ ¼å¼ãå·æå®¹æéè¯»ãå®¹æä¸èæ¬è¯­è¨äº¤äºãä»¥æ°æ®ä¸ºæ ¸å¿ï¼éæ°æ®è½»æ ¼å¼çç¹ç¹ãå¸¸è§çæä»¶æ©å±åæä¸¤ç§ï¼\n\n * .ymlæ ¼å¼ï¼ä¸»æµï¼\n\n * .yamlæ ¼å¼\n   \n   å¯¹äºæä»¶èªèº«å¨ä¹¦åæ¶ï¼å·æä¸¥æ ¼çè¯­æ³æ ¼å¼è¦æ±ï¼å·ä½å¦ä¸ï¼\n\n 1. å¤§å°åææ\n 2. å±æ§å±çº§å³ç³»ä½¿ç¨å¤è¡æè¿°ï¼æ¯è¡ç»å°¾ä½¿ç¨åå·ç»æ\n 3. ä½¿ç¨ç¼©è¿è¡¨ç¤ºå±çº§å³ç³»ï¼åå±çº§å·¦ä¾§å¯¹é½ï¼åªåè®¸ä½¿ç¨ç©ºæ ¼ï¼ä¸åè®¸ä½¿ç¨Tabé®ï¼\n 4. å±æ§å¼åé¢æ·»å ç©ºæ ¼ï¼å±æ§åä¸å±æ§å¼ä¹é´ä½¿ç¨åå·+ç©ºæ ¼ä½ä¸ºåéï¼\n 5. #å· è¡¨ç¤ºæ³¨é\n\nä¸è¿°è§åä¸è¦æ­»è®°ç¡¬èï¼æç§ä¹¦åä¹ æ¯æ¢æ¢éåºï¼å¹¶ä¸å¨Ideaä¸ç±äºå·ææç¤ºåè½ï¼æ¢æ¢éåºçåæ ¼å¼å°±è¡äºãæ ¸å¿çä¸æ¡è§åè¦è®°ä½ï¼æ°æ®åé¢è¦å ç©ºæ ¼ä¸åå·éå¼\n\nä¸é¢ååºå¸¸è§çæ°æ®ä¹¦åæ ¼å¼ï¼çæä¸ä¸\n\nboolean: TRUE  \t\t\t\t\t\t#TRUE,true,True,FALSE,falseï¼Falseåå¯\nfloat: 3.14    \t\t\t\t\t\t#6.8523015e+5  #æ¯æç§å­¦è®¡æ°æ³\nint: 123       \t\t\t\t\t\t#0b1010_0111_0100_1010_1110    #æ¯æäºè¿å¶ãå«è¿å¶ãåå­è¿å¶\nnull: ~        \t\t\t\t\t\t#ä½¿ç¨~è¡¨ç¤ºnull\nstring: HelloWorld      \t\t\t#å­ç¬¦ä¸²å¯ä»¥ç´æ¥ä¹¦å\nstring2: "Hello World"  \t\t\t#å¯ä»¥ä½¿ç¨åå¼å·åè£¹ç¹æ®å­ç¬¦\ndate: 2018-02-17        \t\t\t#æ¥æå¿é¡»ä½¿ç¨yyyy-MM-ddæ ¼å¼\ndatetime: 2018-02-17T15:02:31+08:00  #æ¶é´åæ¥æä¹é´ä½¿ç¨Tè¿æ¥ï¼æåä½¿ç¨+ä»£è¡¨æ¶åº\n\n\næ­¤å¤ï¼yamlæ ¼å¼ä¸­ä¹å¯ä»¥è¡¨ç¤ºæ°ç»ï¼å¨å±æ§åä¹¦åä½ç½®çä¸æ¹ä½¿ç¨åå·ä½ä¸ºæ°æ®å¼å§ç¬¦å·ï¼æ¯è¡ä¹¦åä¸ä¸ªæ°æ®ï¼åå·ä¸æ°æ®é´ç©ºæ ¼åé\n\nsubject:\n\t- Java\n\t- åç«¯\n\t- å¤§æ°æ®\nenterprise:\n\tname: itcast\n    age: 16\n    subject:\n    \t- Java\n        - åç«¯\n        - å¤§æ°æ®\nlikes: [çèè£è,åºæ¿æåº]\t\t\t#æ°ç»ä¹¦åç¼©ç¥æ ¼å¼\nusers:\t\t\t\t\t\t\t #å¯¹è±¡æ°ç»æ ¼å¼ä¸\n  - name: Tom\n   \tage: 4\n  - name: Jerry\n    age: 5\n\n\nusers:\t\t\t\t\t\t\t #å¯¹è±¡æ°ç»æ ¼å¼äº\n  -  \n    name: Tom\n    age: 4\n  -   \n    name: Jerry\n    age: 5\t\t\t    \nusers2: [ { name:Tom , age:4 } , { name:Jerry , age:5 } ]\t#å¯¹è±¡æ°ç»ç¼©ç¥æ ¼å¼\n\n\næ»ç»\n\n 1. yamlè¯­æ³è§å\n    * å¤§å°åææ\n    * å±æ§å±çº§å³ç³»ä½¿ç¨å¤è¡æè¿°ï¼æ¯è¡ç»å°¾ä½¿ç¨åå·ç»æ\n    * ä½¿ç¨ç¼©è¿è¡¨ç¤ºå±çº§å³ç³»ï¼åå±çº§å·¦ä¾§å¯¹é½ï¼åªåè®¸ä½¿ç¨ç©ºæ ¼ï¼ä¸åè®¸ä½¿ç¨Tabé®ï¼\n    * å±æ§å¼åé¢æ·»å ç©ºæ ¼ï¼å±æ§åä¸å±æ§å¼ä¹é´ä½¿ç¨åå·+ç©ºæ ¼ä½ä¸ºåéï¼\n    * #å· è¡¨ç¤ºæ³¨é\n 2. æ³¨æå±æ§ååå·åé¢ä¸æ°æ®ä¹é´æä¸ä¸ªç©ºæ ¼\n 3. å­é¢å¼ãå¯¹è±¡æ°æ®æ ¼å¼ãæ°ç»æ°æ®æ ¼å¼\n\næè\n\nç°å¨æä»¬å·²ç»ç¥éäºyamlå·æä¸¥æ ¼çæ°æ®æ ¼å¼è¦æ±ï¼å¹¶ä¸å·²ç»å¯ä»¥æ­£ç¡®çä¹¦åyamlæä»¶äºï¼é£è¿äºæä»¶ä¹¦ååå¶å®æ¯å¨å®ä¹ä¸äºæ°æ®ãè¿äºæ°æ®æ¶ç»è°ç¨çå¢ï¼å¤§é¨åæ¯SpringBootæ¡æ¶åé¨ä½¿ç¨ï¼ä½æ¯å¦ææä»¬æ³éç½®ä¸äºæ°æ®èªå·±ä½¿ç¨ï¼è½ä¸è½ç¨å¢ï¼ç­æ¡æ¯å¯ä»¥çï¼é£å¦ä½è¯»åyamlæä»¶ä¸­çæ°æ®å¢ï¼å±ä»¬ä¸ä¸èåè¯´ã\n\n\n# JC-2-4.yamlæ°æ®è¯»å\n\nå¯¹äºyamlæä»¶ä¸­çæ°æ®ï¼å¶å®ä½ å°±å¯ä»¥æ³è±¡æè¿å°±æ¯ä¸ä¸ªå°åçæ°æ®åºï¼éé¢ä¿å­æè¥å¹²æ°æ®ï¼æ¯ä¸ªæ°æ®é½æä¸ä¸ªç¬ç«çåå­ï¼å¦æä½ æ³è¯»åéé¢çæ°æ®ï¼è¯å®æ¯æ¯æçï¼ä¸é¢å°±ä»ç»3ç§è¯»åæ°æ®çæ¹å¼\n\n# è¯»ååä¸æ°æ®\n\nyamlä¸­ä¿å­çåä¸ªæ°æ®ï¼å¯ä»¥ä½¿ç¨Springä¸­çæ³¨è§£ç´æ¥è¯»åï¼ä½¿ç¨@Valueå¯ä»¥è¯»ååä¸ªæ°æ®ï¼å±æ§åå¼ç¨æ¹å¼ï¼${ä¸çº§å±æ§å.äºçº§å±æ§åâ¦â¦}\n\nè®°å¾ä½¿ç¨@Valueæ³¨è§£æ¶ï¼è¦å°è¯¥æ³¨å¥åå¨æä¸ä¸ªæå®çSpringç®¡æ§çbeançå±æ§åä¸æ¹ãç°å¨å°±å¯ä»¥è¯»åå°å¯¹åºçåä¸æ°æ®è¡äº\n\næ»ç»\n\n 1. ä½¿ç¨@ValueéåSpELè¯»ååä¸ªæ°æ®\n 2. å¦ææ°æ®å­å¨å¤å±çº§ï¼ä¾æ¬¡ä¹¦åå±çº§åç§°å³å¯\n\n# è¯»åå¨é¨æ°æ®\n\nè¯»ååä¸æ°æ®å¯ä»¥è§£å³è¯»åæ°æ®çé®é¢ï¼ä½æ¯å¦æå®ä¹çæ°æ®éè¿å¤§ï¼è¿ä¹ä¸ä¸ªä¸ä¸ªä¹¦åè¯å®ä¼ç´¯æ­»äººçï¼SpringBootæä¾äºä¸ä¸ªå¯¹è±¡ï¼è½å¤æææçæ°æ®é½å°è£å°è¿ä¸ä¸ªå¯¹è±¡ä¸­ï¼è¿ä¸ªå¯¹è±¡å«åEnvironmentï¼ä½¿ç¨èªå¨è£éæ³¨è§£å¯ä»¥å°ææçyamlæ°æ®å°è£å°è¿ä¸ªå¯¹è±¡ä¸­\n\næ°æ®å°è£å°äºEnvironmentå¯¹è±¡ä¸­ï¼è·åå±æ§æ¶ï¼éè¿Environmentçæ¥å£æä½è¿è¡ï¼å·ä½æ¹æ³æ¶getPropertiesï¼Stringï¼ï¼åæ°å¡«åå±æ§åå³å¯\n\næ»ç»\n\n 1. ä½¿ç¨Environmentå¯¹è±¡å°è£å¨é¨éç½®ä¿¡æ¯\n 2. ä½¿ç¨@Autowiredèªå¨è£éæ°æ®å°Environmentå¯¹è±¡ä¸­\n\n# è¯»åå¯¹è±¡æ°æ®\n\nåä¸æ°æ®è¯»åä¹¦åæ¯è¾ç¹çï¼å¨æ°æ®å°è£åå°è£çå¤ªåå®³äºï¼æ¯æ¬¡æ¿æ°æ®è¿è¦ä¸ä¸ªä¸ä¸ªçgetPropertiesï¼ï¼,æ»ä¹ç¨èµ·æ¥é½ä¸æ¯å¾èæãç±äºJavaæ¯ä¸ä¸ªé¢åå¯¹è±¡çè¯­è¨ï¼å¾å¤æåµä¸ï¼æä»¬ä¼å°ä¸ç»æ°æ®å°è£æä¸ä¸ªå¯¹è±¡ãSpringBootä¹æä¾äºå¯ä»¥å°ä¸ç»yamlå¯¹è±¡æ°æ®å°è£ä¸ä¸ªJavaå¯¹è±¡çæä½\n\né¦åå®ä¹ä¸ä¸ªå¯¹è±¡ï¼å¹¶å°è¯¥å¯¹è±¡çº³å¥Springç®¡æ§çèå´ï¼ä¹å°±æ¯å®ä¹æä¸ä¸ªbeanï¼ç¶åä½¿ç¨æ³¨è§£@ConfigurationPropertiesæå®è¯¥å¯¹è±¡å è½½åªä¸ç»yamlä¸­éç½®çä¿¡æ¯ã\n\nè¿ä¸ª@ConfigurationPropertieså¿é¡»åè¯ä»å è½½çæ°æ®åç¼æ¯ä»ä¹ï¼è¿æ ·å½ååç¼ä¸çææå±æ§å°±å°è£å°è¿ä¸ªå¯¹è±¡ä¸­ãè®°å¾æ°æ®å±æ§åè¦ä¸å¯¹è±¡çåéåä¸ä¸å¯¹åºåï¼ä¸ç¶æ²¡æ³å°è£ãå¶å®ä»¥åå¦æä½ è¦å®ä¹ä¸ç»æ°æ®èªå·±ä½¿ç¨ï¼å°±å¯ä»¥ååä¸ä¸ªå¯¹è±¡ï¼ç¶åå®ä¹å¥½å±æ§ï¼ä¸é¢å°éç½®ä¸­æ ¹æ®è¿ä¸ªæ ¼å¼ä¹¦åå³å¯ï¼ç¶åéåtostringågetãsetæ¹æ³ã\n\n\n\næ¸©é¦¨æç¤º\n\nç»å¿çå°ä¼ä¼´ä¼åç°ä¸ä¸ªé®é¢ï¼èªå®ä¹çè¿ç§æ°æ®å¨yamlæä»¶ä¸­ä¹¦åæ¶æ²¡æå¼¹åºæç¤ºï¼æ¯è¿æ ·çï¼å±ä»¬å°åçç¯åæ­ç§å¦ä½å¼¹åºæç¤ºã\n\næ»ç»\n\n 1. ä½¿ç¨@ConfigurationPropertiesæ³¨è§£ç»å®éç½®ä¿¡æ¯å°å°è£ç±»ä¸­\n 2. å°è£ç±»éè¦å®ä¹ä¸ºSpringç®¡ççbeanï¼å¦åæ æ³è¿è¡å±æ§æ³¨å¥\n\n# yamlæä»¶ä¸­çæ°æ®å¼ç¨\n\nå¦æä½ å¨ä¹¦åyamlæ°æ®æ¶ï¼ç»å¸¸åºç°å¦ä¸ç°è±¡ï¼æ¯å¦å¾å¤ä¸ªæä»¶é½å·æç¸åçç®å½åç¼\n\ncenter:\n\tdataDir: /usr/local/fire/data\n    tmpDir: /usr/local/fire/tmp\n    logDir: /usr/local/fire/log\n    msgDir: /usr/local/fire/msgDir\n\n\næè\n\ncenter:\n\tdataDir: D:/usr/local/fire/data\n    tmpDir: D:/usr/local/fire/tmp\n    logDir: D:/usr/local/fire/log\n    msgDir: D:/usr/local/fire/msgDir\n\n\nè¿ä¸ªæ¶åä½ å¯ä»¥ä½¿ç¨å¼ç¨æ ¼å¼æ¥å®ä¹æ°æ®ï¼å¶å®å°±æ¯æäºä¸ªåéåï¼ç¶åå¼ç¨åéäºï¼æ ¼å¼å¦ä¸ï¼\n\nbaseDir: /usr/local/fire\n\tcenter:\n    dataDir: ${baseDir}/data\n    tmpDir: ${baseDir}/tmp\n    logDir: ${baseDir}/log\n    msgDir: ${baseDir}/msgDir\n\n\nè¿æä¸ä¸ªæ³¨æäºé¡¹ï¼å¨ä¹¦åå­ç¬¦ä¸²æ¶ï¼å¦æéè¦ä½¿ç¨è½¬ä¹å­ç¬¦ï¼éè¦å°æ°æ®å­ç¬¦ä¸²ä½¿ç¨åå¼å·åè£¹èµ·æ¥\n\nlesson: "Spring\\tboot\\nlesson"\n\n\næ»ç»\n\n 1. å¨éç½®æä»¶ä¸­å¯ä»¥ä½¿ç¨${å±æ§å}æ¹å¼å¼ç¨å±æ§å¼\n 2. å¦æå±æ§ä¸­åºç°ç¹æ®å­ç¬¦ï¼å¯ä»¥ä½¿ç¨åå¼å·åè£¹èµ·æ¥ä½ä¸ºå­ç¬¦è§£æ\n\nå°è¿éæå³yamlæä»¶çåºç¡ä½¿ç¨å°±ååä¸æ®µè½ï¼å¨å®ç¨ç¯ä¸­åç»§ç»­ç ç©¶æ´æ·±å¥çåå®¹ã\n\n\n# JC-3.åºäºSpringBootå®ç°SSMPæ´å\n\néå¤´ææ¥äºï¼SpringBootä¹æä»¥å¥½ç¨ï¼å°±æ¯å®è½æ¹ä¾¿å¿«æ·çæ´åå¶ä»ææ¯ï¼è¿ä¸é¨åå±ä»¬å°±æ¥èèä¸äºææ¯çæ´åæ¹å¼ï¼éè¿è¿ä¸ç« çå­¦ä¹ ï¼å¤§å®¶è½å¤æåå°SpringBootå°åºæå¤é·ç«ãè¿ä¸ç« å±ä»¬å­¦ä¹ å¦ä¸ææ¯çæ´åæ¹å¼\n\n * æ´åJUnit\n\n * æ´åMyBatis\n\n * æ´åMyBatis-Plus\n\n * æ´åDruid\n   \n   ä¸é¢è¿äºææ¯é½æ´åå®æ¯åï¼æä»¬åä¸ä¸ªå°æ¡ä¾ï¼ä¹ç®æ¯å­¦ææç¨å§ãæ¶åçææ¯æ¯è¾å¤ï¼ç»¼åè¿ç¨ä¸ä¸ã\n\n\n# JC-3-1.æ´åJUnit\n\nSpringBootææ¯çå®ä½ç¨äºç®åå¼åï¼åå·ä½ç¹æ¯ç®åSpringç¨åºçå¼åãæä»¥å¨æ´åä»»æææ¯çæ¶åï¼å¦æä½ æ³ç´è§æè§¦å°ç®åçææï¼ä½ å¿é¡»åç¥éä½¿ç¨éSpringBootææ¯æ¶å¯¹åºçæ´åæ¯å¦ä½åçï¼ç¶ååçåºäºSpringBootçæ´åæ¯å¦ä½åçï¼æè½æ¯å¯¹åºæ¥ç®åå¨äºåªéã\n\næä»¬åæ¥çä¸ä¸ä¸ä½¿ç¨SpringBootææ¯æ¶ï¼Springæ´åJUnitçå¶ä½æ¹å¼\n\n//å è½½springæ´åjunitä¸ç¨çç±»è¿è¡å¨\n@RunWith(SpringJUnit4ClassRunner.class)\n//æå®å¯¹åºçéç½®ä¿¡æ¯ï¼è¿ä¸ªæ³¨è§£ä¹å¯ä»¥å¨SpringBootä¸­ä½¿ç¨ï¼ä½æ¯SpringBooté»è®¤ç¨SpringBootTestå°±è¡å¯ä»¥\n@ContextConfiguration(classes = SpringConfig.class)\npublic class AccountServiceTestCase {\n    //æ³¨å¥ä½ è¦æµè¯çå¯¹è±¡\n    @Autowired\n    private AccountService accountService;\n    @Test\n    public void testGetById(){\n        //æ§è¡è¦æµè¯çå¯¹è±¡å¯¹åºçæ¹æ³\n        System.out.println(accountService.findById(2));\n    }\n}\n\n\n\nå¶ä¸­æ ¸å¿ä»£ç æ¯åä¸¤ä¸ªæ³¨è§£ï¼ç¬¬ä¸ä¸ªæ³¨è§£@RunWithæ¯è®¾ç½®Springä¸ç¨äºæµè¯çç±»è¿è¡å¨ï¼ç®åè¯´å°±æ¯Springç¨åºæ§è¡ç¨åºæèªå·±çä¸å¥ç¬ç«çè¿è¡ç¨åºçæ¹å¼ï¼ä¸è½ä½¿ç¨JUnitæä¾çç±»è¿è¡æ¹å¼äºï¼å¿é¡»æå®ä¸ä¸ï¼ä½æ¯æ ¼å¼æ¯åºå®çï¼ç¢ç£¨ä¸ä¸ï¼æ¯æ¬¡é½æå®ä¸æ ·çä¸è¥¿ï¼è¿ä¸ªä¸è¥¿åèµ·æ¥æ²¡æææ¯å«éåï¼ç¬¬äºä¸ªæ³¨è§£@ContextConfigurationæ¯ç¨æ¥è®¾ç½®Springæ ¸å¿éç½®æä»¶æéç½®ç±»çï¼ç®åè¯´å°±æ¯å è½½Springçç¯å¢ä½ è¦åè¯Springå·ä½çç¯å¢éç½®æ¯å¨åªéåçï¼è½ç¶æ¯æ¬¡å è½½çæä»¶é½æå¯è½ä¸åï¼ä½æ¯ä»ç»æ³æ³ï¼å¦ææä»¶åæ¯åºå®çï¼è¿ä¸ªè²ä¼¼ä¹æ¯ä¸ä¸ªåºå®æ ¼å¼ãä¼¼ç¶æå¯è½æ¯åºå®æ ¼å¼ï¼é£å°±æå¯è½æ¯æ¬¡é½åä¸æ ·çä¸è¥¿ï¼ä¹æ¯ä¸ä¸ªæ²¡æææ¯å«éçåå®¹ä¹¦å\n\nSpringBootå°±æä½ä¸è¿°ä¸¤æ¡æ²¡æææ¯å«éçåå®¹ä¹¦åè¿è¡å¼åç®åï¼è½èµ°é»è®¤å¼çèµ°é»è®¤å¼ï¼è½ä¸åçå°±ä¸åï¼å·ä½æ ¼å¼å¦ä¸\n\n@SpringBootTest\nclass Springboot04JunitApplicationTests {\n    //æ³¨å¥ä½ è¦æµè¯çå¯¹è±¡\n    @Autowired\n    private BookDao bookDao;\n    @Test\n    void contextLoads() {\n        //æ§è¡è¦æµè¯çå¯¹è±¡å¯¹åºçæ¹æ³\n        bookDao.save();\n        System.out.println("two...");\n    }\n}\n\n\nççè¿æ¬¡ç®åæä»ä¹æ ·äºï¼ä¸ä¸ªæ³¨è§£å°±æå®äºï¼èä¸è¿æ²¡æåæ°ï¼åä½ä¼SpringBootæ´åå¶ä»ææ¯çä¼å¿å¨åªéï¼å°±ä¸¤ä¸ªå­ââç®åãä½¿ç¨ä¸ä¸ªæ³¨è§£@SpringBootTestæ¿æ¢äºåé¢ä¸¤ä¸ªæ³¨è§£ãè³äºåé¨æ¯æä¹åäºï¼åä¹åä¸æ ·ï¼åªä¸è¿é½èµ°é»è®¤å¼ã\n\nè¿ä¸ªæ¶åæäººå°±é®äºï¼ä½ å è½½çéç½®ç±»æèéç½®æä»¶æ¯åªä¸ä¸ª**ï¼å¦æåå¼å¯¼ç±»ä¸å¨åä¸ä¸ªåä¸ï¼å°±ä¸è½å¼å¥é»è®¤çéç½®ç±»æèå¼å¯¼ç±»ï¼æå¿é¡»è¦æ¾å¼çå¼å¥éç½®ç±»æèå¼å¯¼ç±»ï¼**ï¼å°±æ¯æä»¬åé¢å¯å¨ç¨åºä½¿ç¨çå¼å¯¼ç±»ãå¦ææ³æå·¥æå®å¼å¯¼ç±»æä¸¤ç§æ¹å¼ï¼ç¬¬ä¸ç§æ¹å¼ä½¿ç¨å±æ§çå½¢å¼è¿è¡ï¼å¨æ³¨è§£@SpringBootTestä¸­æ·»å classeså±æ§æå®éç½®ç±»\n\n@SpringBootTest(classes = Springboot04JunitApplication.class)\nclass Springboot04JunitApplicationTests {\n    //æ³¨å¥ä½ è¦æµè¯çå¯¹è±¡\n    @Autowired\n    private BookDao bookDao;\n    @Test\n    void contextLoads() {\n        //æ§è¡è¦æµè¯çå¯¹è±¡å¯¹åºçæ¹æ³\n        bookDao.save();\n        System.out.println("two...");\n    }\n}\n\n\nç¬¬äºç§æ¹å¼åå½åå§éç½®æ¹å¼ï¼ä»ç¶ä½¿ç¨@ContextConfigurationæ³¨è§£è¿è¡ï¼æææ¯ä¸æ ·ç\n\n@SpringBootTest \n@ContextConfiguration(classes = Springboot04JunitApplication.class)\nclass Springboot04JunitApplicationTests {\n    //æ³¨å¥ä½ è¦æµè¯çå¯¹è±¡\n    @Autowired\n    private BookDao bookDao;\n    @Test\n    void contextLoads() {\n        //æ§è¡è¦æµè¯çå¯¹è±¡å¯¹åºçæ¹æ³\n        bookDao.save();\n        System.out.println("two...");\n    }\n}\n\n\næ¸©é¦¨æç¤º\n\nä½¿ç¨SpringBootæ´åJUnitéè¦ä¿éå¯¼å¥testå¯¹åºçstarterï¼ç±äºåå§åé¡¹ç®æ¶æ­¤é¡¹æ¯é»è®¤å¯¼å¥çï¼æä»¥æ­¤å¤æ²¡ææåï¼å¶å®åä¹åå­¦ä¹ çåå®¹ä¸æ ·ï¼ç¨ä»ä¹ææ¯å¯¼å¥å¯¹åºçstarterå³å¯ã\n\næ»ç»\n\n 1. å¯¼å¥æµè¯å¯¹åºçstarter\n 2. æµè¯ç±»ä½¿ç¨@SpringBootTestä¿®é¥°\n 3. ä½¿ç¨èªå¨è£éçå½¢å¼æ·»å è¦æµè¯çå¯¹è±¡\n 4. æµè¯ç±»å¦æå­å¨äºå¼å¯¼ç±»æå¨åæå­åä¸­æ éæå®å¼å¯¼ç±»\n 5. æµè¯ç±»å¦æä¸å­å¨äºå¼å¯¼ç±»æå¨çåæå­åä¸­éè¦éè¿classeså±æ§æå®å¼å¯¼ç±»\n\n\n# JC-3-2.æ´åMyBatis\n\næ´åå®JUnitä¸é¢åæ¥è¯´ä¸ä¸æ´åMyBatisï¼è¿ä¸ªææ¯æ¯å¤§é¨åå¬å¸é½è¦ä½¿ç¨çææ¯ï¼å¡å¿ææ¡ãå¦æå¯¹Springæ´åMyBatisä¸çæçå°ä¼ä¼´å¥½å¥½å¤ä¹ ä¸ä¸ï¼ä¸é¢åä¸¾åºåå§æ´åçå¨é¨åå®¹ï¼ä»¥éç½®ç±»çå½¢å¼ä¸ºä¾è¿è¡\n\n * å¯¼å¥åæ ï¼MyBatisåæ ä¸è½å°ï¼Springæ´åMyBatisè¿æèªå·±ä¸ç¨çåæ ï¼æ­¤å¤Springè¿è¡æ°æ®åºæä½çjdbcåæ æ¯å¿é¡»çï¼å©ä¸è¿æmysqlé©±å¨åæ ï¼æ¬ä¾ä¸­ä½¿ç¨äºDruidæ°æ®æºï¼è¿ä¸ªåæ¯å¯ä»¥ä¸è¦\n   \n   <dependencies>\n       <dependency>\n           <groupId>com.alibaba</groupId>\n           <artifactId>druid</artifactId>\n           <version>1.1.16</version>\n       </dependency>\n       <dependency>\n           <groupId>org.mybatis</groupId>\n           <artifactId>mybatis</artifactId>\n           <version>3.5.6</version>\n       </dependency>\n       <dependency>\n           <groupId>mysql</groupId>\n           <artifactId>mysql-connector-java</artifactId>\n           <version>5.1.47</version>\n       </dependency>\n       \x3c!--1.å¯¼å¥mybatisä¸springæ´åçjarå--\x3e\n       <dependency>\n           <groupId>org.mybatis</groupId>\n           <artifactId>mybatis-spring</artifactId>\n           <version>1.3.0</version>\n       </dependency>\n       \x3c!--å¯¼å¥springæä½æ°æ®åºå¿éçå--\x3e\n       <dependency>\n           <groupId>org.springframework</groupId>\n           <artifactId>spring-jdbc</artifactId>\n           <version>5.2.10.RELEASE</version>\n       </dependency>\n   </dependencies>\n   \n\n * Springæ ¸å¿éç½®\n   \n   @Configuration\n   @ComponentScan("com.itheima")\n   @PropertySource("jdbc.properties")\n   public class SpringConfig {\n   }\n   \n\n * MyBatisè¦äº¤ç»Springæ¥ç®¡çbean\n   \n   //å®ä¹mybatisä¸ç¨çéç½®ç±»\n   @Configuration\n   public class MyBatisConfig {\n   //    å®ä¹åå»ºSqlSessionFactoryå¯¹åºçbean\n       @Bean\n       public SqlSessionFactoryBean sqlSessionFactory(DataSource dataSource){\n           //SqlSessionFactoryBeanæ¯ç±mybatis-springåæä¾çï¼ä¸ç¨äºæ´åç¨çå¯¹è±¡\n           SqlSessionFactoryBean sfb = new SqlSessionFactoryBean();\n           //è®¾ç½®æ°æ®æºæ¿ä»£åå§éç½®ä¸­çenvironmentsçéç½®\n           sfb.setDataSource(dataSource);\n           //è®¾ç½®ç±»åå«åæ¿ä»£åå§éç½®ä¸­çtypeAliasesçéç½®\n           sfb.setTypeAliasesPackage("com.itheima.domain");\n           return sfb;\n       }\n   //    å®ä¹å è½½ææçæ å°éç½®\n       @Bean\n       public MapperScannerConfigurer mapperScannerConfigurer(){\n           MapperScannerConfigurer msc = new MapperScannerConfigurer();\n           msc.setBasePackage("com.itheima.dao");\n           return msc;\n       }\n   \n   }\n   \n\n * æ°æ®æºå¯¹åºçbeanï¼æ­¤å¤ä½¿ç¨Druidæ°æ®æº\n   \n   @Configuration\n   public class JdbcConfig {\n       @Value("${jdbc.driver}")\n       private String driver;\n       @Value("${jdbc.url}")\n       private String url;\n       @Value("${jdbc.username}")\n       private String userName;\n       @Value("${jdbc.password}")\n       private String password;\n   \n       @Bean("dataSource")\n       public DataSource dataSource(){\n           DruidDataSource ds = new DruidDataSource();\n           ds.setDriverClassName(driver);\n           ds.setUrl(url);\n           ds.setUsername(userName);\n           ds.setPassword(password);\n           return ds;\n       }\n   }\n   \n\n * æ°æ®åºè¿æ¥ä¿¡æ¯ï¼propertiesæ ¼å¼ï¼\n   \n   jdbc.driver=com.mysql.jdbc.Driver\n   jdbc.url=jdbc:mysql://localhost:3306/spring_db?useSSL=false\n   jdbc.username=root\n   jdbc.password=root\n   \n   \n   ä¸è¿°æ ¼å¼åºæ¬ä¸æ¯ç®æ ¼å¼äºï¼è¦åçä¸è¥¿è¿çä¸å°ãä¸é¢ççSpringBootæ´åMyBaitsæ ¼å¼\n\næ­¥éª¤â ï¼åå»ºæ¨¡åæ¶å¾éè¦ä½¿ç¨çææ¯ï¼MyBatisï¼ç±äºè¦æä½æ°æ®åºï¼è¿è¦å¾éå¯¹åºæ°æ®åº\n\n\n\n\n\næèæå·¥å¯¼å¥å¯¹åºææ¯çstarterï¼åå¯¹åºæ°æ®åºçåæ \n\n<dependencies>\n    \x3c!--1.å¯¼å¥å¯¹åºçstarter--\x3e\n    <dependency>\n        <groupId>org.mybatis.spring.boot</groupId>\n        <artifactId>mybatis-spring-boot-starter</artifactId>\n        <version>2.2.0</version>\n    </dependency>\n\n    <dependency>\n        <groupId>mysql</groupId>\n        <artifactId>mysql-connector-java</artifactId>\n        <scope>runtime</scope>\n    </dependency>\n</dependencies>\n\n\næ­¥éª¤â¡ï¼éç½®æ°æ®æºç¸å³ä¿¡æ¯ï¼æ²¡æè¿ä¸ªä¿¡æ¯ä½ è¿æ¥åªä¸ªæ°æ®åºé½ä¸ç¥é\n\n#2.éç½®ç¸å³ä¿¡æ¯\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/ssm_db\n    username: root\n    password: root\n\n\nå®äºï¼å°±è¿ä¹å¤ï¼æ²¡äºãæäººå°±å¾çº³é·ï¼è¿å°±ç»æäºï¼å¯¹ï¼è¿å°±ç»æäºï¼SpringBootæéç½®ä¸­ææå¯è½åºç°çéç¨éç½®é½ç®åäºãä¸é¢å°±å¯ä»¥åä¸ä¸MyBatisç¨åºè¿è¡éè¦çDaoï¼æèMapperï¼å°±å¯ä»¥è¿è¡äº\n\nå®ä½ç±»ï¼è¿è¦æsetågetæ¹æ³ãtostringæ¹æ³ï¼\n\npublic class Book {\n    private Integer id;\n    private String type;\n    private String name;\n    private String description;\n}\n\n\næ å°æ¥å£ï¼Daoï¼\n\n@Mapper\npublic interface BookDao {\n    @Select("select * from tbl_book where id = #{id}")\n    public Book getById(Integer id);\n}\n\n\næµè¯ç±»\n\n@SpringBootTest\nclass Springboot05MybatisApplicationTests {\n    @Autowired\n    private BookDao bookDao;\n    @Test\n    void contextLoads() {\n        System.out.println(bookDao.getById(1));\n    }\n}\n\n\nå®ç¾ï¼å¼åä»æ­¤åçå°±è¿ä¹ç®åãåä½ä¼ä¸ä¸SpringBootå¦ä½è¿è¡ç¬¬ä¸æ¹ææ¯æ´åçï¼æ¯ä¸æ¯å¾ä¼ç§ï¼å·ä½åé¨çåçå°åçç¯åå±å¼è®²è§£\n\næ³¨æï¼å½åä½¿ç¨çSpringBootçæ¬æ¯2.5.4ï¼å¯¹åºçåæ è®¾ç½®ä¸­Mysqlé©±å¨ä½¿ç¨çæ¯8xçæ¬ãå½SpringBoot2.4.3ï¼ä¸å«ï¼çæ¬ä¹åä¼åºç°ä¸ä¸ªå°BUGï¼å°±æ¯MySQLé©±å¨åçº§å°8ä»¥åè¦æ±å¼ºå¶éç½®æ¶åºï¼å¦æä¸è®¾ç½®ä¼åºé®é¢ãè§£å³æ¹æ¡å¾ç®åï¼é©±å¨urlä¸é¢æ·»å ä¸å¯¹åºè®¾ç½®å°±è¡äº\n\n#2.éç½®ç¸å³ä¿¡æ¯\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC\n    username: root\n    password: root\n\n\nè¿éè®¾ç½®çUTCæ¯å¨çæ åæ¶é´ï¼ä½ ä¹å¯ä»¥çè§£ä¸ºæ¯è±å½æ¶é´ï¼ä¸­å½å¤å¨ä¸å«åºï¼éè¦å¨è¿ä¸ªåºç¡ä¸å ä¸8å°æ¶ï¼è¿æ ·æè½åä¸­å½å°åºçæ¶é´å¯¹åºçï¼ä¹å¯ä»¥ä¿®æ¹éç½®ä¸åUTCï¼åAsia/Shanghaiä¹å¯ä»¥è§£å³è¿ä¸ªé®é¢ã\n\n#2.éç½®ç¸å³ä¿¡æ¯\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/ssm_db?serverTimezone=Asia/Shanghai\n    username: root\n    password: root\n\n\nå¦æä¸æ³æ¯æ¬¡é½è®¾ç½®è¿ä¸ªä¸è¥¿ï¼ä¹å¯ä»¥å»ä¿®æ¹mysqlä¸­çéç½®æä»¶mysql.iniï¼å¨mysqldé¡¹ä¸­æ·»å default-time-zone=+8:00ä¹å¯ä»¥è§£å³è¿ä¸ªé®é¢ãå¶å®æ¹å¼æ¹æ³å¾å¤ï¼è¿éå°±è¯´è¿ä¹å¤å§ã\n\næ­¤å¤å¨è¿è¡ç¨åºæ¶è¿ä¼ç»åºä¸ä¸ªæç¤ºï¼è¯´æ°æ®åºé©±å¨è¿æ¶çè­¦åï¼æ ¹æ®æç¤ºä¿®æ¹éç½®å³å¯ï¼å¼ç¨com.mysql.jdbc.Driverï¼æ¢ç¨com.mysql.cj.jdbc.Driverãåé¢çä¾å­ä¸­å·²ç»æ´æ¢äºé©±å¨äºï¼å¨æ­¤è¯´æä¸ä¸ã\n\nLoading class `com.mysql.jdbc.Driver\'. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver\'. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\n\n\næ»ç»\n\n 1. æ´åæä½éè¦å¾éMyBatisææ¯ï¼ä¹å°±æ¯å¯¼å¥MyBatiså¯¹åºçstarter\n\n 2. æ°æ®åºè¿æ¥ç¸å³ä¿¡æ¯è½¬æ¢æéç½®\n\n 3. æ°æ®åºSQLæ å°éè¦æ·»å @Mapperè¢«å®¹å¨è¯å«å°\n\n 4. MySQL 8.Xé©±å¨å¼ºå¶è¦æ±è®¾ç½®æ¶åº\n    \n    * ä¿®æ¹urlï¼æ·»å serverTimezoneè®¾å®\n    * ä¿®æ¹MySQLæ°æ®åºéç½®\n\n 5. é©±å¨ç±»è¿æ¶ï¼æéæ´æ¢ä¸ºcom.mysql.cj.jdbc.Driver\n\n\n# JC-3-3.æ´åMyBatis-Plus\n\nåå®äºä¸¤ç§ææ¯çæ´åäºï¼åä½å°ä¼ä¼´è¦å­¦ä¼æ»ç»ï¼æä»¬åè¿ä¸ªæ´åç©¶ç«åªäºæ¯æ ¸å¿ï¼æ»ç»ä¸æ¥å°±ä¸¤å¥è¯\n\n * å¯¼å¥å¯¹åºææ¯çstarteråæ \n * æ ¹æ®å¯¹åºææ¯çè¦æ±åéç½®\n\nè½ç¶çèµ·æ¥æç¹èï¼ä½æ¯ç¡®å®æ¯è¿ä¸ªçå¿ï¼ä¸é¢è¶ç­æéï¼åæ¢ä¸ä¸ªææ¯ï¼ççæ¯ä¸æ¯ä¸é¢è¿ä¸¤æ­¥ã\n\næ¥ä¸æ¥å¨MyBatisçåºç¡ä¸ååçº§ä¸ä¸ï¼æ´åMyBaitsPlusï¼ç®ç§°MPï¼ï¼å½äººå¼åçææ¯ï¼ç¬¦åä¸­å½äººå¼åä¹ æ¯ï¼è°ç¨è°ç¥éãæ¥å§ï¼ä¸èµ·åæ´å\n\næ­¥éª¤â ï¼æå·¥å¯¼å¥å¯¹åºçstarter ï¼å»www.mvnrepository.comæ¥è¯¢æä»¶å¯¹åºççæ¬åå¶ä»ä¿¡æ¯ï¼å®ç½ä¼ç»åºå¼ç¨æ ¼å¼ï¼\n\n<dependency>\n    <groupId>com.baomidou</groupId>\n    <artifactId>mybatis-plus-boot-starter</artifactId>\n    <version>3.4.3</version>\n</dependency>\n\n\nå³äºè¿ä¸ªåæ ï¼æ­¤å¤è¦è¯´æä¸ç¹ï¼ä¹åæä»¬ççstarteré½æ¯spring-boot-starter-ï¼ï¼ï¼ï¼ä¹å°±æ¯è¯´é½æ¯ä¸é¢çæ ¼å¼\n\nSpring-boot-start-***\n\n\nèè¿ä¸ªåæ çåå­ä¹¦åæ¯è¾ç¹æ®ï¼æ¯ç¬¬ä¸æ¹ææ¯åç§°å¨åï¼bootåstarterå¨åãæ­¤å¤ç®åæä¸ä¸å½åè§èï¼åæåçç¯ä¼åè¯¦ç»è®²è§£\n\nSTARTERæå±   å½åè§å                                   ç¤ºä¾\nå®æ¹æä¾        spring-boot-starter-ææ¯åç§°               spring-boot-starter-web\n                                                   spring-boot-starter-test\nç¬¬ä¸æ¹æä¾       ç¬¬ä¸æ¹ææ¯åç§°-spring-boot-starter            druid-spring-boot-starter\nç¬¬ä¸æ¹æä¾       ç¬¬ä¸æ¹ææ¯åç§°-boot-starterï¼ç¬¬ä¸æ¹ææ¯åç§°è¿é¿ï¼ç®åå½åï¼   mybatis-plus-boot-starter\n\næ¸©é¦¨æç¤º\n\næäºå°ä¼ä¼´å¨åå»ºé¡¹ç®æ¶æ³éè¿å¾éçå½¢å¼æ¾å°è¿ä¸ªåå­ï¼å«ç¿»äºï¼æ²¡æãæªæ­¢ç®åï¼SpringBootå®ç½è¿æªæ¶å½æ­¤åæ ï¼èæä»¬Ideaåå»ºæ¨¡åæ¶è¯»åçæ¯SpringBootå®ç½çSpring Initializrï¼æä»¥ä¹æ²¡æãå¦ææ¢ç¨é¿éäºçurlåå»ºé¡¹ç®å¯ä»¥æ¾å°å¯¹åºMybatis-Plusçåæ \n\næ­¥éª¤â¡ï¼éç½®æ°æ®æºç¸å³ä¿¡æ¯\n\n#2.éç½®ç¸å³ä¿¡æ¯\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/ssm_db\n    username: root\n    password: root\n\n\næ²¡äºï¼å°±è¿ä¹å¤ï¼å©ä¸çå°±æ¯åMyBaitsPlusçç¨åºäº\n\næ å°æ¥å£ï¼Daoï¼\n\n@Mapper\npublic interface BookDao extends BaseMapper<Book> {\n}\n\n\næ ¸å¿å¨äºDaoæ¥å£ç»§æ¿äºä¸ä¸ªBaseMapperçæ¥å£ï¼è¿ä¸ªæ¥å£ä¸­å¸®å©å¼åèé¢å®äºè¥å¹²ä¸ªå¸¸ç¨çAPIæ¥å£ï¼ç®åäºéç¨APIæ¥å£çå¼åå·¥ä½ã\n\nä¸é¢å°±å¯ä»¥åä¸ä¸ªæµè¯ç±»è¿è¡æµè¯äºï¼æ­¤å¤çç¥ã\n\næ¸©é¦¨æç¤º\n\nç®åæ°æ®åºçè¡¨åå®ä¹è§åæ¯tbl_æ¨¡ååç§°ï¼ä¸ºäºè½åå®ä½ç±»ç¸å¯¹åºï¼éè¦åä¸ä¸ªéç½®ï¼ç¸å³ç¥è¯åä½å°ä¼ä¼´å¯ä»¥å°MyBatisPlusè¯¾ç¨ä¸­å»å­¦ä¹ ï¼æ­¤å¤ä»ç»åºè§£å³æ¹æ¡ãéç½®application.ymlæä»¶ï¼æ·»å å¦ä¸éç½®å³å¯ï¼è®¾ç½®ææè¡¨åçéç¨åç¼å\n\nmybatis-plus:\n  global-config:\n    db-config:\n      table-prefix: tbl_\t\t#è®¾ç½®ææè¡¨çéç¨åç¼åç§°ä¸ºtbl_\n\n\næ»ç»\n\n 1. æå·¥æ·»å MyBatis-Pluså¯¹åºçstarter\n 2. æ°æ®å±æ¥å£ä½¿ç¨BaseMapperç®åå¼å\n 3. éè¦ä½¿ç¨çç¬¬ä¸æ¹ææ¯æ æ³éè¿å¾éç¡®å®æ¶ï¼éè¦æå·¥æ·»å åæ \n\n\n# JC-3-4.æ´åDruid\n\nä½¿ç¨SpringBootæ´åäº3ä¸ªææ¯äºï¼åç°å¥è·¯åºæ¬ç¸åï¼å¯¼å¥å¯¹åºçstarterï¼ç¶ååéç½®ï¼åä½å°ä¼ä¼´éè¦ä¸ç´å¼ºåè¿å¥ææ³ãä¸é¢åæ´åä¸ä¸ªææ¯ï¼ç»§ç»­æ·±å¥å¼ºåæ­¤ææ³ã\n\nåé¢æ´åMyBatisåMPçæ¶åï¼ä½¿ç¨çæ°æ®æºå¯¹è±¡é½æ¯SpringBooté»è®¤çæ°æ®æºå¯¹è±¡ï¼ä¸é¢æä»¬æå·¥æ§å¶ä¸ä¸ï¼èªå·±æå®äºä¸ä¸ªæ°æ®æºå¯¹è±¡ï¼Druidã\n\nå¨æ²¡ææå®æ°æ®æºæ¶ï¼æä»¬çéç½®å¦ä¸ï¼\n\n#2.éç½®ç¸å³ä¿¡æ¯\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/ssm_db?serverTimezone=Asia/Shanghai\n    username: root\n    password: root\n\n\næ­¤æ¶è½ç¶æ²¡ææå®æ°æ®æºï¼ä½æ¯æ ¹æ®SpringBootçå¾·è¡ï¼è¯å®å¸®æä»¬éäºä¸ä¸ªå®è®¤ä¸ºæå¥½çæ°æ®æºå¯¹è±¡ï¼è¿å°±æ¯HiKariãéè¿å¯å¨æ¥å¿å¯ä»¥æ¥çå°å¯¹åºçèº«å½±ã\n\n2021-11-29 09:39:15.202  INFO 12260 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2021-11-29 09:39:15.208  WARN 12260 --- [           main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.\n2021-11-29 09:39:15.551  INFO 12260 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n\n\nä¸è¿°ä¿¡æ¯ä¸­æ¯ä¸è¡é½æHiKariçèº«å½±ï¼å¦æéè¦æ´æ¢æ°æ®æºï¼å¶å®åªéè¦ä¸¤æ­¥å³å¯ã\n\n 1. å¯¼å¥å¯¹åºçææ¯åæ \n 2. éç½®ä½¿ç¨æå®çæ°æ®æºç±»å\n\nä¸é¢å°±åæ¢ä¸ä¸æ°æ®æºå¯¹è±¡\n\næ­¥éª¤â ï¼å¯¼å¥å¯¹åºçåæ ï¼æ³¨æï¼æ¯åæ ï¼æ­¤å¤ä¸æ¯starterï¼\n\n<dependencies>\n    <dependency>\n        <groupId>com.alibaba</groupId>\n        <artifactId>druid</artifactId>\n        <version>1.1.16</version>\n    </dependency>\n</dependencies>\n\n\næ­¥éª¤â¡ï¼ä¿®æ¹éç½®ï¼å¨æ°æ®æºéç½®ä¸­æä¸ä¸ªtypeå±æ§ï¼ä¸ç¨äºæå®æ°æ®æºç±»å\n\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC\n    username: root\n    password: root\n    type: com.alibaba.druid.pool.DruidDataSource\n\n\nè¿éå¶å®è¦æåºä¸ä¸ªé®é¢çï¼ç®åçæ°æ®æºéç½®æ ¼å¼æ¯ä¸ä¸ªéç¨æ ¼å¼ï¼ä¸ç®¡ä½ æ¢ä»ä¹æ°æ®æºé½å¯ä»¥ç¨è¿ç§å½¢å¼è¿è¡éç½®ãä½æ¯æ°çé®é¢åæ¥äºï¼å¦æå¯¹æ°æ®æºè¿è¡ä¸ªæ§åçéç½®ï¼ä¾å¦éç½®æ°æ®æºå¯¹åºçè¿æ¥æ°éï¼è¿ä¸ªæ¶åå°±ææ°çé®é¢äºãæ¯ä¸ªæ°æ®æºææ¯å¯¹åºçéç½®åç§°é½ä¸æ ·åï¼è¯å®ä¸æ¯åï¼åä¸ªååä¸å¯è½æååéå¥½é½åä¸æ ·çåå­åï¼æä¹åï¼å°±è¦ä½¿ç¨ä¸ç¨çéç½®æ ¼å¼äºãè¿ä¸ªæ¶åä¸é¢è¿ç§éç¨æ ¼å¼å°±ä¸è½ä½¿ç¨äºï¼æä¹åï¼è¿è½æä¹åï¼æç§SpringBootæ´åå¶ä»ææ¯çéç¨è§åæ¥å¥åï¼å¯¼å¥å¯¹åºçstarterï¼è¿è¡ç¸åºçéç½®å³å¯ã\n\næ­¥éª¤â ï¼å¯¼å¥å¯¹åºçstarter\n\n<dependencies>\n    <dependency>\n        <groupId>com.alibaba</groupId>\n        <artifactId>druid-spring-boot-starter</artifactId>\n        <version>1.2.6</version>\n    </dependency>\n</dependencies>\n\n\næ­¥éª¤â¡ï¼ä¿®æ¹éç½®\n\nspring:\n  datasource:\n    druid:\n      driver-class-name: com.mysql.cj.jdbc.Driver\n      url: jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC\n      username: root\n      password: root\n\n\næ³¨æè§å¯ï¼éç½®é¡¹ä¸­ï¼å¨datasourceä¸é¢å¹¶ä¸æ¯ç´æ¥éç½®urlè¿äºå±æ§çï¼èæ¯åéç½®äºä¸ä¸ªdruidèç¹ï¼ç¶ååéç½®çurlè¿äºä¸è¥¿**ï¼Diuidä¸ç¨ç¹å®çä¸ç¨éç½®æ¹æ³ï¼**ãè¨å¤ä¹æï¼urlè¿ä¸ªå±æ§æ¶druidä¸é¢çå±æ§ï¼é£ä½ è½æ³å°åï¼é¤äºè¿4ä¸ªå¸¸è§éç½®å¤ï¼è¿ædruidä¸ç¨çå¶ä»éç½®ãéè¿æç¤ºåè½å¯ä»¥æå¼druidç¸å³çéç½®æ¥é\n\nä¸druidç¸å³çéç½®è¶è¿200æ¡ä»¥ä¸ï¼è¿å°±åè¯ä½ ï¼å¦ææ³ådruidç¸å³çéç½®ï¼ä½¿ç¨è¿ç§æ ¼å¼å°±å¯ä»¥äºï¼è¿éå°±ä¸å±å¼æè¿°äºï¼å¤ªå¤äºã\n\nè¿æ¯æä»¬åçç¬¬4ä¸ªææ¯çæ´åæ¹æ¡ï¼è¿æ¯é£ä¸¤å¥è¯ï¼å¯¼å¥å¯¹åºstarterï¼ä½¿ç¨å¯¹åºéç½®ãæ²¡äºï¼SpringBootæ´åå¶ä»ææ¯å°±è¿ä¹ç®åç²æ´ã\n\næ»ç»\n\n 1. æ´åDruidéè¦å¯¼å¥Druidå¯¹åºçstarter\n 2. æ ¹æ®Druidæä¾çéç½®æ¹å¼è¿è¡éç½®\n 3. æ´åç¬¬ä¸æ¹ææ¯éç¨æ¹å¼\n    * å¯¼å¥å¯¹åºçstarter\n    * æ ¹æ®æä¾çéç½®æ ¼å¼ï¼éç½®éé»è®¤å¼å¯¹åºçéç½®é¡¹\n\n\n# JC-3-5.SSMPæ´åç»¼åæ¡ä¾\n\nSpringBootè½å¤æ´åçææ¯å¤ªå¤å¤ªå¤äºï¼å¯¹äºåå­¦èæ¥è¯´æ¢æ¢æ¥ï¼ä¸ç¹ç¹ææ¡ãåé¢å±ä»¬åäº4ä¸ªæ´åäºï¼ä¸é¢å°±éè¿ä¸ä¸ªç¨å¾®ç»¼åä¸ç¹çæ¡ä¾ï¼å°ææç¥è¯è´¯ç©¿èµ·æ¥ï¼åæ¶åä¸ä¸ªå°åè½ï¼ä½ä¼ä¸ä¸ãä¸è¿æè¨å¨åï¼è¿ä¸ªæ¡ä¾å¶ä½çæ¶åï¼ä½ å¯è½ä¼æè¿ç§æè§ï¼è¯´å¥½çSpringBootæ´åå¶ä»ææ¯çæ¡ä¾ï¼ä¸ºä»ä¹æè§SpringBootæ´åå¶ä»ææ¯çèº«å½±ä¸å¤å¢ï¼å ä¸ºè¿ä¸è¥¿ä¹¦åå¤ªç®åäºï¼ç®åå°ç¬é´åå®ï¼å¤§éçæ¶é´åçä¸æ¯è¿äºæ´åå·¥ä½ã\n\nåçä¸ä¸è¿ä¸ªæ¡ä¾çæç»ææ\n\nä¸»é¡µé¢\n\n\n\næ·»å \n\n\n\nå é¤\n\n\n\nä¿®æ¹\n\n\n\nåé¡µ\n\n\n\næ¡ä»¶æ¥è¯¢\n\n\n\næ´ä½æ¡ä¾ä¸­éè¦éç¨çææ¯å¦ä¸ï¼åäºè§£ä¸ä¸ï¼åå°åªä¸ä¸ªè¯´åªä¸ä¸ª\n\n 1. å®ä½ç±»å¼åââââä½¿ç¨Lombokå¿«éå¶ä½å®ä½ç±»\n 2. Daoå¼åââââæ´åMyBatisPlusï¼å¶ä½æ°æ®å±æµè¯\n 3. Serviceå¼åââââåºäºMyBatisPlusè¿è¡å¢éå¼åï¼å¶ä½ä¸å¡å±æµè¯ç±»\n 4. Controllerå¼åââââåºäºRestfulå¼åï¼ä½¿ç¨PostManæµè¯æ¥å£åè½\n 5. Controllerå¼åââââååç«¯å¼ååè®®å¶ä½\n 6. é¡µé¢å¼åââââåºäºVUE+ElementUIå¶ä½ï¼ååç«¯èè°ï¼é¡µé¢æ°æ®å¤çï¼é¡µé¢æ¶æ¯å¤ç\n    * åè¡¨\n    * æ°å¢\n    * ä¿®æ¹\n    * å é¤\n    * åé¡µ\n    * æ¥è¯¢\n 7. é¡¹ç®å¼å¸¸å¤ç\n 8. ææ¡ä»¶æ¥è¯¢ââââé¡µé¢åè½è°æ´ãControllerä¿®æ­£åè½ãServiceä¿®æ­£åè½\n\nå¯ä»¥ççåºæ¥ï¼ä¸è¥¿è¿æ¯å¾å¤çï¼å¸æéè¿è¿ä¸ªæ¡ä¾ï¼åä½å°ä¼ä¼´è½å¤å®æåºç¡å¼åçæè½è®­ç»ãæ´ä½å¼åè¿ç¨éç¨åä¸å±æµä¸å±çå½¢å¼è¿è¡ï¼è¿ç¨å®æ´ï¼æçº¿è¾é¿ï¼å¸æåä½è½è·è¿è¿åº¦ï¼å®æè¿ä¸ªå°æ¡ä¾çå¶ä½ã\n\n# 0.æ¨¡ååå»º\n\nå¯¹äºè¿ä¸ªæ¡ä¾å¦ææç§ä¼ä¸å¼åçå½¢å¼è¿è¡åºè¯¥å¶ä½åå°å¾®æå¡ï¼ååç«¯åç¦»çå¼åã\n\næç¥éè¿ä¸ªå¯¹åå­¦çå°ä¼ä¼´è¦æ±å¤ªé«äºï¼å±ä»¬ç®åä¸ä¸ãåå°ååä½æå¡å¨ï¼åç«¯ä¸ä½¿ç¨ååç«¯åç¦»çå¶ä½äºã\n\nä¸ä¸ªæå¡å¨å³åå½åå°æå¡è°ç¨ï¼åè´è´£åç«¯é¡µé¢å±ç¤ºï¼éä½å­¦ä¹ çé¨æ§ã\n\nä¸é¢æä»¬å°±å¯ä»¥åå»ºä¸ä¸ªæ°çæ¨¡åï¼å è½½è¦ä½¿ç¨çææ¯å¯¹åºçstarterï¼ä¿®æ¹éç½®æä»¶æ ¼å¼ä¸ºymlæ ¼å¼ï¼å¹¶æwebè®¿é®ç«¯å£åè®¾ç½®æ80ã\n\npom.xml\n\n<dependencies>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-web</artifactId>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-test</artifactId>\n        <scope>test</scope>\n    </dependency>\n</dependencies>\n\n\napplication.yml\n\nserver:\n  port: 80\n\n\n# 1.å®ä½ç±»å¼å\n\næ¬æ¡ä¾å¯¹åºçæ¨¡åè¡¨ç»æå¦ä¸ï¼\n\n-- ----------------------------\n-- Table structure for tbl_book\n-- ----------------------------\nDROP TABLE IF EXISTS `tbl_book`;\nCREATE TABLE `tbl_book`  (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `type` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,\n  `name` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,\n  `description` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,\n  PRIMARY KEY (`id`) USING BTREE\n) ENGINE = InnoDB AUTO_INCREMENT = 51 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;\n\n-- ----------------------------\n-- Records of tbl_book\n-- ----------------------------\nINSERT INTO `tbl_book` VALUES (1, \'è®¡ç®æºçè®º\', \'Springå®æ ç¬¬5ç\', \'Springå¥é¨ç»å¸æç¨ï¼æ·±å¥çè§£Springåçææ¯åå¹\');\nINSERT INTO `tbl_book` VALUES (2, \'è®¡ç®æºçè®º\', \'Spring 5æ ¸å¿åçä¸30ä¸ªç±»æåå®æ\', \'åå¹´æ²æ·ä¹ä½ï¼æåSpringç²¾åææ³\');\nINSERT INTO `tbl_book` VALUES (3, \'è®¡ç®æºçè®º\', \'Spring 5 è®¾è®¡æ¨¡å¼\', \'æ·±å¥Springæºç åæSpringæºç ä¸­è´å«ç10å¤§è®¾è®¡æ¨¡å¼\');\nINSERT INTO `tbl_book` VALUES (4, \'è®¡ç®æºçè®º\', \'Spring MVC+MyBatiså¼åä»å¥é¨å°é¡¹ç®å®æ\', \'å¨æ¹ä½è§£æé¢åWebåºç¨çè½»éçº§æ¡æ¶ï¼å¸¦ä½ æä¸ºSpring MVCå¼åé«æ\');\nINSERT INTO `tbl_book` VALUES (5, \'è®¡ç®æºçè®º\', \'è½»éçº§Java Webä¼ä¸åºç¨å®æ\', \'æºç çº§åæSpringæ¡æ¶ï¼éåå·²ææ¡Javaåºç¡çè¯»è\');\nINSERT INTO `tbl_book` VALUES (6, \'è®¡ç®æºçè®º\', \'Javaæ ¸å¿ææ¯ å·I åºç¡ç¥è¯ï¼åä¹¦ç¬¬11çï¼\', \'Core Java ç¬¬11çï¼Joltå¤§å¥è·å¥ä½åï¼éå¯¹Java SE9ã10ã11å¨é¢æ´æ°\');\nINSERT INTO `tbl_book` VALUES (7, \'è®¡ç®æºçè®º\', \'æ·±å¥çè§£Javaèææº\', \'5ä¸ªç»´åº¦å¨é¢åæJVMï¼å¤§åé¢è¯ç¥è¯ç¹å¨è¦ç\');\nINSERT INTO `tbl_book` VALUES (8, \'è®¡ç®æºçè®º\', \'Javaç¼ç¨ææ³ï¼ç¬¬4çï¼\', \'Javaå­¦ä¹ å¿è¯»ç»å¸,æ®¿å çº§èä½ï¼èµ¢å¾äºå¨çç¨åºåçå¹¿æ³èµèª\');\nINSERT INTO `tbl_book` VALUES (9, \'è®¡ç®æºçè®º\', \'é¶åºç¡å­¦Javaï¼å¨å½©çï¼\', \'é¶åºç¡èªå­¦ç¼ç¨çå¥é¨å¾ä¹¦ï¼ç±æµå¥æ·±ï¼è¯¦è§£Javaè¯­è¨çç¼ç¨ææ³åæ ¸å¿ææ¯\');\nINSERT INTO `tbl_book` VALUES (10, \'å¸åºè¥é\', \'ç´æ­å°±è¯¥è¿ä¹åï¼ä¸»æ­é«ææ²éå®ææå\', \'æå­æãæä½³ç¦ãèå¨æé¿ä¸ºç½çº¢çç§å¯é½å¨ä¹¦ä¸­\');\nINSERT INTO `tbl_book` VALUES (11, \'å¸åºè¥é\', \'ç´æ­éè®²å®æä¸æ¬é\', \'åç§å¶ä¸èµ·å­¦ç³»åç½ç»è¥éä¹¦ç±\');\nINSERT INTO `tbl_book` VALUES (12, \'å¸åºè¥é\', \'ç´æ­å¸¦è´§ï¼æ·å®ãå¤©ç«ç´æ­ä»æ°æå°é«æ\', \'ä¸æ¬æä½ å¦ä½ç©è½¬ç´æ­çä¹¦ï¼10å è¯¾è½»æ¾å®ç°å¸¦è´§æå¥3W+\');\n\n\næ ¹æ®ä¸è¿°è¡¨ç»æï¼å¶ä½å¯¹åºçå®ä½ç±»\n\nå®ä½ç±»\n\npublic class Book {\n    private Integer id;\n    private String type;\n    private String name;\n    private String description;\n}\n\n\nå®ä½ç±»çå¼åå¯ä»¥èªå¨éè¿å·¥å·æå·¥çæget/setæ¹æ³ï¼ç¶åè¦çtoString()ãequals()ï¼hashCode()ç­æ¹æ³ï¼æ¹ä¾¿è°è¯ï¼ç­ç­ãä¸è¿è¿ä¸å¥æä½ä¹¦åå¾ç¹çï¼æå¯¹åºçå·¥å·å¯ä»¥å¸®å©æä»¬ç®åå¼åï¼ä»ç»ä¸ä¸ªå°å·¥å·ï¼lombokã\n\nLombokï¼ä¸ä¸ªJavaç±»åºï¼æä¾äºä¸ç»æ³¨è§£ï¼ç®åPOJOå®ä½ç±»å¼åï¼SpringBootç®åé»è®¤éæäºlombokææ¯ï¼å¹¶æä¾äºå¯¹åºççæ¬æ§å¶ï¼æä»¥åªéè¦æä¾å¯¹åºçåæ å³å¯ï¼å¨pom.xmlä¸­æ·»å lombokçåæ ã\n\n<dependencies>\n    \x3c!--lombok--\x3e\n    <dependency>\n        <groupId>org.projectlombok</groupId>\n        <artifactId>lombok</artifactId>\n    </dependency>\n</dependencies>\n\n\nä½¿ç¨lombokå¯ä»¥éè¿ä¸ä¸ªæ³¨è§£@Dataå®æä¸ä¸ªå®ä½ç±»å¯¹åºçgetterï¼setterï¼toStringï¼equalsï¼hashCodeç­æä½çå¿«éæ·»å \n\nimport lombok.Data;\n@Data\npublic class Book {\n    private Integer id;\n    private String type;\n    private String name;\n    private String description;\n}\n\n\nå°è¿éå®ä½ç±»å°±åå¥½äºï¼æ¯ä¸æ¯æ¯ä¸ä½¿ç¨lombokç®åå¥½å¤ï¼è¿ç§å·¥å·å¨Javaå¼åä¸­è¿æNå¤ï¼åé¢è¯¾ç¨ä¸­éå°äºè½ç¨çä¸è¥¿æ¶ï¼å¨ä¸å¢å åä½å°ä¼ä¼´å¤§éçå­¦ä¹ æ¶é´çæåµä¸ï¼å°½éå¤ç»å¤§å®¶ä»ç»ä¸äº\n\næ»ç»\n\n 1. å®ä½ç±»å¶ä½\n 2. ä½¿ç¨lombokç®åå¼å\n    * å¯¼å¥lombokæ éæå®çæ¬ï¼ç±SpringBootæä¾çæ¬\n    * @Dataæ³¨è§£\n\n# 2.æ°æ®å±å¼åââåºç¡CRUD\n\næ°æ®å±å¼åæ¬æ¬¡ä½¿ç¨MyBatisPlusææ¯ï¼æ°æ®æºä½¿ç¨åé¢å­¦ä¹ çDruidï¼å­¦é½å­¦äºé½ç¨ä¸\n\næ­¥éª¤â ï¼å¯¼å¥MyBatisPlusä¸Druidå¯¹åºçstarterï¼å½ç¶mysqlçé©±å¨ä¸è½å°\n\n<dependencies>\n    <dependency>\n        <groupId>com.baomidou</groupId>\n        <artifactId>mybatis-plus-boot-starter</artifactId>\n        <version>3.4.3</version>\n    </dependency>\n    <dependency>\n        <groupId>com.alibaba</groupId>\n        <artifactId>druid-spring-boot-starter</artifactId>\n        <version>1.2.6</version>\n    </dependency>\n    <dependency>\n        <groupId>mysql</groupId>\n        <artifactId>mysql-connector-java</artifactId>\n        <scope>runtime</scope>\n    </dependency>\n</dependencies>\n\n\næ­¥éª¤â¡ï¼éç½®æ°æ®åºè¿æ¥ç¸å³çæ°æ®æºéç½®\n\nserver:\n  port: 80\n\nspring:\n  datasource:\n    druid:\n      driver-class-name: com.mysql.cj.jdbc.Driver\n      url: jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC\n      username: root\n      password: root\n\n\næ­¥éª¤â¢ï¼ä½¿ç¨MPçæ åéç¨æ¥å£BaseMapperå éå¼åï¼å«å¿äº@Mapperåæ³åçæå®\n\n@Mapper\npublic interface BookDao extends BaseMapper<Book> {\n}\n\n\næ­¥éª¤â£ï¼å¶ä½æµè¯ç±»æµè¯ç»æï¼è¿ä¸ªæµè¯ç±»å¶ä½æ¯ä¸ªå¥½ä¹ æ¯ï¼ä¸è¿å¨ä¼ä¸å¼åä¸­å¾å¾é½ä¸ºå éå¼åè·³è¿æ­¤æ­¥ï¼ä¸è¡ä¸çæå§\n\npackage com.itheima.dao;\n\nimport com.baomidou.mybatisplus.core.conditions.query.LambdaQueryWrapper;\nimport com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport com.baomidou.mybatisplus.extension.plugins.pagination.Page;\nimport com.itheima.domain.Book;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\npublic class BookDaoTestCase {\n\n    @Autowired\n    private BookDao bookDao;\n\n    @Test\n    void testGetById(){\n        System.out.println(bookDao.selectById(1));\n    }\n\n    @Test\n    void testSave(){\n        Book book = new Book();\n        book.setType("æµè¯æ°æ®123");\n        book.setName("æµè¯æ°æ®123");\n        book.setDescription("æµè¯æ°æ®123");\n        bookDao.insert(book);\n    }\n\n    @Test\n    void testUpdate(){\n        Book book = new Book();\n        book.setId(17);\n        book.setType("æµè¯æ°æ®abcdefg");\n        book.setName("æµè¯æ°æ®123");\n        book.setDescription("æµè¯æ°æ®123");\n        bookDao.updateById(book);\n    }\n\n    @Test\n    void testDelete(){\n        bookDao.deleteById(16);\n    }\n\n    @Test\n    void testGetAll(){\n        bookDao.selectList(null);\n    }\n}\n\n\næ¸©é¦¨æç¤º\n\nMPææ¯é»è®¤çä¸»é®çæç­ç¥ä¸ºéªè±ç®æ³ï¼çæçä¸»é®IDé¿åº¦è¾å¤§ï¼åç®åçæ°æ®åºè®¾å®è§åä¸ç¸ç¬¦ï¼éè¦éç½®ä¸ä¸ä½¿MPä½¿ç¨æ°æ®åºçä¸»é®çæç­ç¥ï¼æ¹å¼åè¿æ¯èä¸å¥ï¼åéç½®ãå¨application.ymlä¸­æ·»å å¯¹åºéç½®å³å¯ï¼å·ä½å¦ä¸\n\nserver:\n  port: 80\n\nspring:\n  datasource:\n    druid:\n      driver-class-name: com.mysql.cj.jdbc.Driver\n      url: jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC\n      username: root\n      password: root\n\nmybatis-plus:\n  global-config:\n    db-config:\n      table-prefix: tbl_\t\t#è®¾ç½®è¡¨åéç¨åç¼\n      id-type: auto\t\t\t\t#è®¾ç½®ä¸»é®idå­æ®µççæç­ç¥ä¸ºåç§æ°æ®åºè®¾å®çç­ç¥ï¼å½åæ°æ®åºè®¾ç½®idçæç­ç¥ä¸ºèªå¢\n\n\n# æ¥çMPè¿è¡æ¥å¿\n\nå¨è¿è¡æ°æ®å±æµè¯çæ¶åï¼å ä¸ºåºç¡çCRUDæä½åç±MPç»æä»¬æä¾äºï¼æä»¥å°±åºç°äºä¸ä¸ªå±é¢ï¼å¼åèä¸éè¦ä¹¦åSQLè¯­å¥äºï¼è¿æ ·ç¨åºè¿è¡çæ¶åæ»æä¸ç§æè§ï¼ä¸åçä¸åé½æ¯é»ççï¼ä½ä¸ºå¼åèæä»¬å¥ä¹ä¸ç¥éå°±å®äºãå¦æç¨åºæ­£å¸¸è¿è¡è¿å¥½ï¼å¦ææ¥éäºï¼è¿ä¸ªæ¶åå°±å¾å´©æºï¼ä½ çè³é½ä¸ç¥éä»ä½ä¸æï¼å ä¸ºä¼ éåæ°ãå°è£SQLè¯­å¥è¿äºæä½å®å¨ä¸æ¯ä½ å¹²é¢å¼ååºæ¥çï¼æä»¥æ¥çæ§è¡æè¿è¡çSQLè¯­å¥å°±æä¸ºå½å¡ä¹æ¥ã\n\nSpringBootæ´åMPçæ¶åååèèå°äºè¿ç¹ï¼éè¿éç½®çå½¢å¼å°±å¯ä»¥æ¥éæ§è¡æSQLè¯­å¥ï¼éç½®å¦ä¸\n\nmybatis-plus:\n  global-config:\n    db-config:\n      table-prefix: tbl_\n      id-type: auto\n  configuration:\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\n\n\nåæ¥çè¿è¡ç»æï¼æ­¤æ¶å°±æ¾ç¤ºäºè¿è¡ææ§è¡SQLçæåµã\n\nCreating a new SqlSession\nSqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c9a6717] was not registered for synchronization because synchronization is not active\nJDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@6ca30b8a] will not be managed by Spring\n==>  Preparing: SELECT id,type,name,description FROM tbl_book\n==> Parameters: \n<==    Columns: id, type, name, description\n<==        Row: 1, è®¡ç®æºçè®º, Springå®æ ç¬¬5ç, Springå¥é¨ç»å¸æç¨ï¼æ·±å¥çè§£Springåçææ¯åå¹\n<==        Row: 2, è®¡ç®æºçè®º, Spring 5æ ¸å¿åçä¸30ä¸ªç±»æåå®æ, åå¹´æ²æ·ä¹ä½ï¼æåSpringç²¾åææ³\n<==        Row: 3, è®¡ç®æºçè®º, Spring 5 è®¾è®¡æ¨¡å¼, æ·±å¥Springæºç åæSpringæºç ä¸­è´å«ç10å¤§è®¾è®¡æ¨¡å¼\n<==        Row: 4, è®¡ç®æºçè®º, Spring MVC+MyBatiså¼åä»å¥é¨å°é¡¹ç®å®æ, å¨æ¹ä½è§£æé¢åWebåºç¨çè½»éçº§æ¡æ¶ï¼å¸¦ä½ æä¸ºSpring MVCå¼åé«æ\n<==        Row: 5, è®¡ç®æºçè®º, è½»éçº§Java Webä¼ä¸åºç¨å®æ, æºç çº§åæSpringæ¡æ¶ï¼éåå·²ææ¡Javaåºç¡çè¯»è\n<==        Row: 6, è®¡ç®æºçè®º, Javaæ ¸å¿ææ¯ å·I åºç¡ç¥è¯ï¼åä¹¦ç¬¬11çï¼, Core Java ç¬¬11çï¼Joltå¤§å¥è·å¥ä½åï¼éå¯¹Java SE9ã10ã11å¨é¢æ´æ°\n<==        Row: 7, è®¡ç®æºçè®º, æ·±å¥çè§£Javaèææº, 5ä¸ªç»´åº¦å¨é¢åæJVMï¼å¤§åé¢è¯ç¥è¯ç¹å¨è¦ç\n<==        Row: 8, è®¡ç®æºçè®º, Javaç¼ç¨ææ³ï¼ç¬¬4çï¼, Javaå­¦ä¹ å¿è¯»ç»å¸,æ®¿å çº§èä½ï¼èµ¢å¾äºå¨çç¨åºåçå¹¿æ³èµèª\n<==        Row: 9, è®¡ç®æºçè®º, é¶åºç¡å­¦Javaï¼å¨å½©çï¼, é¶åºç¡èªå­¦ç¼ç¨çå¥é¨å¾ä¹¦ï¼ç±æµå¥æ·±ï¼è¯¦è§£Javaè¯­è¨çç¼ç¨ææ³åæ ¸å¿ææ¯\n<==        Row: 10, å¸åºè¥é, ç´æ­å°±è¯¥è¿ä¹åï¼ä¸»æ­é«ææ²éå®ææå, æå­æãæä½³ç¦ãèå¨æé¿ä¸ºç½çº¢çç§å¯é½å¨ä¹¦ä¸­\n<==        Row: 11, å¸åºè¥é, ç´æ­éè®²å®æä¸æ¬é, åç§å¶ä¸èµ·å­¦ç³»åç½ç»è¥éä¹¦ç±\n<==        Row: 12, å¸åºè¥é, ç´æ­å¸¦è´§ï¼æ·å®ãå¤©ç«ç´æ­ä»æ°æå°é«æ, ä¸æ¬æä½ å¦ä½ç©è½¬ç´æ­çä¹¦ï¼10å è¯¾è½»æ¾å®ç°å¸¦è´§æå¥3W+\n<==        Row: 13, æµè¯ç±»å, æµè¯æ°æ®, æµè¯æè¿°æ°æ®\n<==        Row: 14, æµè¯æ°æ®update, æµè¯æ°æ®update, æµè¯æ°æ®update\n<==        Row: 15, -----------------, æµè¯æ°æ®123, æµè¯æ°æ®123\n<==      Total: 15\n\n\nå¶ä¸­æ¸æ°çæ æ³¨äºå½åæ§è¡çSQLè¯­å¥æ¯ä»ä¹ï¼æºå¸¦äºä»ä¹åæ°ï¼å¯¹åºçæ§è¡ç»ææ¯ä»ä¹ï¼ææä¿¡æ¯åºæå°½æã\n\næ­¤å¤è®¾ç½®çæ¯æ¥å¿çæ¾ç¤ºå½¢å¼ï¼å½åéç½®çæ¯æ§å¶å°è¾åºï¼å½ç¶è¿å¯ä»¥ç±æ´å¤çéæ©ï¼æ ¹æ®éæ±åæ¢å³å¯\n\næ»ç»\n\n 1. æå·¥å¯¼å¥starteråæ ï¼2ä¸ªï¼ï¼mysqlé©±å¨ï¼1ä¸ªï¼\n\n 2. éç½®æ°æ®æºä¸MyBatisPluså¯¹åºçéç½®\n\n 3. å¼åDaoæ¥å£ï¼Daoç¨äºæä½æ°æ®åºï¼ï¼ç»§æ¿BaseMapperï¼\n\n 4. å¶ä½æµè¯ç±»æµè¯Daoåè½æ¯å¦ææ\n\n 5. ä½¿ç¨éç½®æ¹å¼å¼å¯æ¥å¿ï¼è®¾ç½®æ¥å¿è¾åºæ¹å¼ä¸ºæ åè¾åºå³å¯æ¥éSQLæ§è¡æ¥å¿\n\n# 3.æ°æ®å±å¼åââåé¡µåè½å¶ä½\n\nåé¢ä»ä»æ¯ä½¿ç¨äºMPæä¾çåºç¡CRUDåè½ï¼å®éä¸MPç»æä»¬æä¾äºå ä¹ææçåºç¡æä½ï¼è¿ä¸èè¯´ä¸ä¸å¦æå®ç°æ°æ®åºç«¯çåé¡µæä½\n\nMPæä¾çåé¡µæä½APIå¦ä¸\n\n@Test\nvoid testGetPage(){\n    IPage page = new Page(2,5);\n    bookDao.selectPage(page, null);\n    System.out.println(page.getCurrent());\n    System.out.println(page.getSize());\n    System.out.println(page.getTotal());\n    System.out.println(page.getPages());\n    System.out.println(page.getRecords());\n}\n\n\nå¶ä¸­selectPageæ¹æ³éè¦ä¼ å¥ä¸ä¸ªå°è£åé¡µæ°æ®çå¯¹è±¡ï¼å¯ä»¥éè¿newçå½¢å¼åå»ºè¿ä¸ªå¯¹è±¡ï¼å½ç¶è¿ä¸ªå¯¹è±¡ä¹æ¯MPæä¾çï¼å«ééåäºãåå»ºæ­¤å¯¹è±¡æ¶å°±éè¦æå®åé¡µçä¸¤ä¸ªåºæ¬æ°æ®\n\n * å½åæ¾ç¤ºç¬¬å é¡µ\n * æ¯é¡µæ¾ç¤ºå æ¡æ°æ®\n\nå¯ä»¥éè¿åå»ºPageå¯¹è±¡æ¶å©ç¨æé æ¹æ³åå§åè¿ä¸¤ä¸ªæ°æ®\n\nIPage page = new Page(2,5);\n\n\nå°è¯¥å¯¹è±¡ä¼ å¥å°æ¥è¯¢æ¹æ³selectPageåï¼å¯ä»¥å¾å°æ¥è¯¢ç»æï¼ä½æ¯æä»¬ä¼åç°å½åæä½æ¥è¯¢ç»æè¿åå¼ä»ç¶æ¯ä¸ä¸ªIPageå¯¹è±¡ï¼è¿åæ¯æä¹åäºï¼\n\nIPage page = bookDao.selectPage(page, null);\n\n\nåæ¥è¿ä¸ªIPageå¯¹è±¡ä¸­å°è£äºè¥å¹²ä¸ªæ°æ®ï¼èæ¥è¯¢çç»æä½ä¸ºIPageå¯¹è±¡å°è£çä¸ä¸ªæ°æ®å­å¨çï¼å¯ä»¥çè§£ä¸ºæ¥è¯¢ç»æå¾å°åï¼åå¡å°äºè¿ä¸ªIPageå¯¹è±¡ä¸­ï¼å¶å®è¿æ¯ä¸ºäºé«åº¦çå°è£ï¼ä¸ä¸ªIPageæè¿°äºåé¡µææçä¿¡æ¯ãä¸é¢5ä¸ªæä½å°±æ¯IPageå¯¹è±¡ä¸­å°è£çææä¿¡æ¯äº\n\n@Test\nvoid testGetPage(){\n    IPage page = new Page(2,5);  //IPageå¯¹è±¡\n    bookDao.selectPage(page, null);\n    System.out.println(page.getCurrent());\t\t//å½åé¡µç å¼\n    System.out.println(page.getSize());\t\t\t//æ¯é¡µæ¾ç¤ºæ°\n    System.out.println(page.getTotal());\t\t//æ°æ®æ»é\n    System.out.println(page.getPages());\t\t//æ»é¡µæ°\n    System.out.println(page.getRecords());\t\t//è¯¦ç»æ°æ®\n}\n\n\nå°è¿éå°±ç¥éè¿äºæ°æ®å¦ä½è·åäºï¼ä½æ¯å½ä½ å»æ§è¡è¿ä¸ªæä½æ¶ï¼ä½ ä¼åç°å¹¶ä¸åæä»¬åæçè¿æ ·ï¼å®éä¸è¿ä¸ªåé¡µå½åæ¯æ æçãä¸ºä»ä¹è¿æ ·å¢ï¼è¿ä¸ªè¦æºäºMPçåé¨æºå¶ã\n\nå¯¹äºMySQLçåé¡µæä½ä½¿ç¨limitå³é®å­è¿è¡ï¼èå¹¶ä¸æ¯ææçæ°æ®åºé½ä½¿ç¨limitå³é®å­å®ç°çï¼è¿ä¸ªæ¶åMPä¸ºäºå¶ä½çå¼å®¹æ§å¼ºï¼å°åé¡µæä½è®¾ç½®ä¸ºåºç¡æ¥è¯¢æä½çåçº§çï¼ä½ å¯ä»¥çè§£ä¸ºIPhone6ä¸IPhone6S-PLUSçå³ç³»ã\n\nåºç¡æä½ä¸­ææ¥è¯¢å¨é¨çåè½ï¼èå¨è¿ä¸ªåºç¡ä¸åªéè¦åçº§ä¸ä¸ï¼PLUSï¼å°±å¯ä»¥å¾å°åé¡µæä½ãæä»¥MPå°åé¡µæä½åæäºä¸ä¸ªå¼å³ï¼ä½ ç¨åé¡µåè½å°±æå¼å³å¼å¯ï¼ä¸ç¨å°±ä¸éè¦å¼å¯è¿ä¸ªå¼å³ãèæä»¬ç°å¨æ²¡æå¼å¯è¿ä¸ªå¼å³ï¼æä»¥åé¡µæä½æ¯æ²¡æçãè¿ä¸ªå¼å³æ¯éè¿MPçæ¦æªå¨çå½¢å¼å­å¨çï¼å¶ä¸­çåçè¿éä¸åæäºï¼æå´è¶£çå°ä¼ä¼´å¯ä»¥å­¦ä¹ MyBatisPlusè¿é¨è¯¾ç¨è¿è¡è¯¦ç»è§£è¯»ãå·ä½è®¾ç½®æ¹å¼å¦ä¸\n\nå®ä¹MPæ¦æªå¨å¹¶å°å¶è®¾ç½®ä¸ºSpringç®¡æ§çbean\n\n@Configuration\npublic class MPConfig {\n    @Bean\n    public MybatisPlusInterceptor mybatisPlusInterceptor(){\n        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();\n        interceptor.addInnerInterceptor(new PaginationInnerInterceptor());\n        return interceptor;\n    }\n}\n\n\nä¸è¿°ä»£ç ç¬¬ä¸è¡æ¯åå»ºMPçæ¦æªå¨æ ï¼è¿ä¸ªæ¶åæ¦æªå¨æ ä¸­æ²¡æå·ä½çæ¦æªå¨ï¼ç¬¬äºè¡æ¯åå§åäºåé¡µæ¦æªå¨ï¼å¹¶æ·»å å°æ¦æªå¨æ ä¸­ãå¦æåæå¼åå¶ä»åè½ï¼éè¦æ·»å å¨æ°çæ¦æªå¨ï¼æç§ç¬¬äºè¡çæ ¼å¼ç»§ç»­addè¿å»æ°çæ¦æªå¨å°±å¯ä»¥äºã\n\næ»ç»\n\n 1. ä½¿ç¨IPageå°è£åé¡µæ°æ®\n 2. åé¡µæä½ä¾èµMyBatisPlusåé¡µæ¦æªå¨å®ç°åè½\n 3. åå©MyBatisPlusæ¥å¿æ¥éæ§è¡SQLè¯­å¥\n\n# 4.æ°æ®å±å¼åââæ¡ä»¶æ¥è¯¢åè½å¶ä½\n\né¤äºåé¡µåè½ï¼MPè¿æä¾æå¼ºå¤§çæ¡ä»¶æ¥è¯¢åè½ãä»¥å¾æä»¬åæ¡ä»¶æ¥è¯¢è¦èªå·±å¨ææ¼åå¤æçSQLè¯­å¥ï¼ç°å¨ç®åäºï¼MPå°è¿äºæä½é½å¶ä½æAPIæ¥å£ï¼è°ç¨ä¸ä¸ªåä¸ä¸ªçæ¹æ³å°±å¯ä»¥å®ç°åç§å¥ä»¶çæ¼è£ãè¿éç»å¤§å®¶æ®åä¸ä¸åºæ¬æ ¼å¼ï¼è¯¦ç»çæä½è¿æ¯å°MPçè¯¾ç¨ä¸­æ¥éå§\n\nä¸é¢çæä½å°±æ¯æ§è¡ä¸ä¸ªæ¨¡ç³å¹éå¯¹åºçæä½ï¼ç±likeæ¡ä»¶ä¹¦ååä¸ºäºlikeæ¹æ³çè°ç¨\n\n@Test\nvoid testGetBy(){\n    QueryWrapper<Book> qw = new QueryWrapper<>();\n    qw.like("name","Spring");\n    bookDao.selectList(qw);\n}\n\n\nå¶ä¸­ç¬¬ä¸å¥QueryWrapperå¯¹è±¡æ¯ä¸ä¸ªç¨äºå°è£æ¥è¯¢æ¡ä»¶çå¯¹è±¡ï¼è¯¥å¯¹è±¡å¯ä»¥å¨æä½¿ç¨APIè°ç¨çæ¹æ³æ·»å æ¡ä»¶ï¼æç»è½¬åæå¯¹åºçSQLè¯­å¥ãç¬¬äºå¥å°±æ¯ä¸ä¸ªæ¡ä»¶äºï¼éè¦ä»ä¹æ¡ä»¶ï¼ä½¿ç¨QueryWapperå¯¹è±¡ç´æ¥è°ç¨å¯¹åºæä½å³å¯ãæ¯å¦åå¤§äºå°äºå³ç³»ï¼å°±å¯ä»¥ä½¿ç¨ltægtæ¹æ³ï¼ç­äºä½¿ç¨eqæ¹æ³ï¼ç­ç­ï¼æ­¤å¤ä¸åæ´å¤çè§£éäºã\n\nè¿ç»APIä½¿ç¨è¿æ¯æ¯è¾ç®åçï¼ä½æ¯å³äºå±æ§å­æ®µåçä¹¦åå­å¨çå®å¨éæ£ï¼æ¯å¦æ¥è¯¢å­æ®µnameï¼å½åæ¯ä»¥å­ç¬¦ä¸²çå½¢æä¹¦åçï¼ä¸ä¸åéï¼ç¼è¯å¨è¿æ²¡æåæ³åç°ï¼åªè½å°é®é¢æå°è¿è¡å¨éè¿å¼å¸¸å æ åè¯å¼åèï¼ä¸å¤ªåå¥½ã\n\nMPéå¯¹å­æ®µæ£æ¥è¿è¡äºåè½åçº§ï¼å¨é¢æ¯æLambdaè¡¨è¾¾å¼ï¼å°±æäºä¸é¢è¿ç»APIãç±QueryWrapperå¯¹è±¡åçº§ä¸ºLambdaQueryWrapperå¯¹è±¡ï¼è¿ä¸å°±åäºä¸è¿°é®é¢çåºç°\n\n@Test\nvoid testGetBy2(){\n    String name = "1";\n    LambdaQueryWrapper<Book> lqw = new LambdaQueryWrapper<Book>();\n    lqw.like(Book::getName,name);\n    bookDao.selectList(lqw);\n}\n\n\nä¸ºäºä¾¿äºå¼åèå¨ææ¼åSQLï¼é²æ­¢å°nullæ°æ®ä½ä¸ºæ¡ä»¶ä½¿ç¨ï¼MPè¿æä¾äºå¨ææ¼è£SQLçå¿«æ·ä¹¦åæ¹å¼\n\n@Test\nvoid testGetBy2(){\n    String name = "1";\n    LambdaQueryWrapper<Book> lqw = new LambdaQueryWrapper<Book>();\n    //if(name != null) lqw.like(Book::getName,name);\t\t//æ¹å¼ä¸ï¼JAVAä»£ç æ§å¶\n    lqw.like(name != null,Book::getName,name);\t\t\t\t//æ¹å¼äºï¼APIæ¥å£æä¾æ§å¶å¼å³\n    bookDao.selectList(lqw);\n}\n\n\nå¶å®å°±æ¯ä¸ªæ ¼å¼ï¼æ²¡æåºå«ãå³äºMPçåºç¡æä½å°±è¯´å°è¿éå§ï¼å¦æè¿ä¸åç¥è¯ä¸å¤ªçæçå°ä¼ä¼´è¿æ¯å»å®æ´çå­¦ä¹ ä¸ä¸MPçç¥è¯å§ï¼è¿éåªæ¯è»èç¹æ°´çç¨äºå ä¸ªæä½èå·²ã\n\næ»ç»\n\n 1. ä½¿ç¨QueryWrapperå¯¹è±¡å°è£æ¥è¯¢æ¡ä»¶\n\n 2. æ¨èä½¿ç¨LambdaQueryWrapperå¯¹è±¡\n\n 3. æææ¥è¯¢æä½å°è£ææ¹æ³è°ç¨\n\n 4. æ¥è¯¢æ¡ä»¶æ¯æå¨ææ¡ä»¶æ¼è£\n\n# 5.ä¸å¡å±å¼å\n\næ°æ®å±å¼ååä¸æ®µè½ï¼ä¸é¢è¿è¡ä¸å¡å±å¼åï¼å¶å®æ åä¸å¡å±å¼åå¾å¤åå­¦èè®¤ä¸ºå°±æ¯è°ç¨æ°æ®å±ï¼æä¹è¯´å¢ï¼è¿ä¸ªçè§£æ¯æ²¡æå¤§é®é¢çï¼æ´ç²¾åçè¯´æ³åºè¯¥æ¯ç»ç»ä¸å¡é»è¾åè½ï¼å¹¶æ ¹æ®ä¸å¡éæ±ï¼å¯¹æ°æ®æä¹å±åèµ·è°ç¨ãæä»ä¹å·®å«å¢ï¼ç®æ æ¯ä¸ºäºç»ç»åºç¬¦åéæ±çä¸å¡é»è¾åè½ï¼è³äºè°ä¸è°ç¨æ°æ®å±è¿çä¸å¥½è¯´ï¼æéæ±å°±è°ç¨ï¼æ²¡æéæ±å°±ä¸è°ç¨ã\n\nä¸ä¸ªå¸¸è¯æ§çç¥è¯æ®åä¸ä¸ï¼ä¸å¡å±çæ¹æ³åå®ä¹ä¸å®è¦ä¸ä¸å¡æå³ï¼ä¾å¦ç»å½æä½\n\nlogin(String username,String password);\n\n\nèæ°æ®å±çæ¹æ³åå®ä¹ä¸å®ä¸ä¸å¡æ å³ï¼æ¯ä¸å®ï¼ä¸æ¯å¯è½ï¼ä¹ä¸æ¯æå¯è½ï¼ä¾å¦æ ¹æ®ç¨æ·åå¯ç æ¥è¯¢\n\nselectByUserNameAndPassword(String username,String password);\n\n\næä»¬å¨å¼åçæ¶åæ¯å¯ä»¥æ ¹æ®å®æçå·¥ä½ä¸åååæä¸åèè½çå¼åå¢éçãæ¯å¦ä¸ä¸ªå¥ä»¬å¶ä½æ°æ®å±ï¼ä»å°±å¯ä»¥ä¸ç¥éä¸å¡æ¯ä»ä¹æ ·å­ï¼æ¿å°çéæ±ææ¡£è¦æ±å¯è½æ¯è¿æ ·ç\n\næ¥å£ï¼ä¼ å¥ç¨æ·åä¸å¯ç å­æ®µï¼æ¥è¯¢åºå¯¹åºç»æï¼ç»ææ¯åæ¡æ°æ®\næ¥å£ï¼ä¼ å¥IDå­æ®µï¼æ¥è¯¢åºå¯¹åºç»æï¼ç»ææ¯åæ¡æ°æ®\næ¥å£ï¼ä¼ å¥ç¦»èå­æ®µï¼æ¥è¯¢åºå¯¹åºç»æï¼ç»ææ¯å¤æ¡æ°æ®\n\n\nä½æ¯è¿è¡ä¸å¡åè½å¼åçå¥ä»¬ï¼æ¿å°çéæ±ææ¡£è¦æ±å·®å«å°±å¾å¤§\n\næ¥å£ï¼ä¼ å¥ç¨æ·åä¸å¯ç å­æ®µï¼å¯¹ç¨æ·åå­æ®µåé¿åº¦æ ¡éªï¼4-15ä½ï¼å¯¹å¯ç å­æ®µåé¿åº¦æ ¡éªï¼8å°24ä½ï¼å¯¹åµåµåµå­æ®µåç¹æ®å­ç¬¦æ ¡éªï¼ä¸åè®¸å­å¨ç©ºæ ¼ï¼æ¥è¯¢ç»æä¸ºå¯¹è±¡ãå¦æä¸ºnullï¼è¿åBusinessExceptionï¼å°è£æ¶æ¯ç INFO_LOGON_USERNAME_PASSWORD_ERROR\n\n\nä½ æ¯è¾ä¸ä¸ï¼è½æ¯ä¸åäºåï¼å·®å«å¤ªå¤§äºï¼æä»¥è¯´ä¸å¡å±æ¹æ³å®ä¹ä¸æ°æ®å±æ¹æ³å®ä¹å·®å¼åå¾å¤§ï¼åªä¸è¿æäºå¥é¨çº§çå¼åèæææèæ²¡æä½¿ç¨è¿å¬å¸ç¸å³çISOæ ååææ¡£èå·²ã\n\nå¤ä½çè¯ä¸è¯´äºï¼å±ä»¬åæ¡ä¾å°±ç®åå¶ä½äºï¼ä¸å¡å±æ¥å£å®ä¹å¦ä¸ï¼\n\npublic interface BookService {\n    Boolean save(Book book);\n    Boolean update(Book book);\n    Boolean delete(Integer id);\n    Book getById(Integer id);\n    List<Book> getAll();\n    IPage<Book> getPage(int currentPage,int pageSize);\n}\n\n\nä¸å¡å±å®ç°ç±»å¦ä¸ï¼è½¬è°æ°æ®å±å³å¯\n\n@Service\npublic class BookServiceImpl implements BookService {\n\n    @Autowired\n    private BookDao bookDao;\n\n    @Override\n    public Boolean save(Book book) {\n        return bookDao.insert(book) > 0;\n    }\n\n    @Override\n    public Boolean update(Book book) {\n        return bookDao.updateById(book) > 0;\n    }\n\n    @Override\n    public Boolean delete(Integer id) {\n        return bookDao.deleteById(id) > 0;\n    }\n\n    @Override\n    public Book getById(Integer id) {\n        return bookDao.selectById(id);\n    }\n\n    @Override\n    public List<Book> getAll() {\n        return bookDao.selectList(null);\n    }\n\n    @Override\n    public IPage<Book> getPage(int currentPage, int pageSize) {\n        IPage page = new Page(currentPage,pageSize);\n        bookDao.selectPage(page,null);\n        return page;\n    }\n}\n\n\nå«å¿äºå¯¹ä¸å¡å±æ¥å£è¿è¡æµè¯ï¼æµè¯ç±»å¦ä¸\n\n@SpringBootTest\npublic class BookServiceTest {\n    @Autowired\n    private IBookService bookService;\n\n    @Test\n    void testGetById(){\n        System.out.println(bookService.getById(4));\n    }\n    @Test\n    void testSave(){\n        Book book = new Book();\n        book.setType("æµè¯æ°æ®123");\n        book.setName("æµè¯æ°æ®123");\n        book.setDescription("æµè¯æ°æ®123");\n        bookService.save(book);\n    }\n    @Test\n    void testUpdate(){\n        Book book = new Book();\n        book.setId(17);\n        book.setType("-----------------");\n        book.setName("æµè¯æ°æ®123");\n        book.setDescription("æµè¯æ°æ®123");\n        bookService.updateById(book);\n    }\n    @Test\n    void testDelete(){\n        bookService.removeById(18);\n    }\n\n    @Test\n    void testGetAll(){\n        bookService.list();\n    }\n\n    @Test\n    void testGetPage(){\n        IPage<Book> page = new Page<Book>(2,5);\n        bookService.page(page);\n        System.out.println(page.getCurrent());\n        System.out.println(page.getSize());\n        System.out.println(page.getTotal());\n        System.out.println(page.getPages());\n        System.out.println(page.getRecords());\n    }\n\n}\n\n\næ»ç»\n\n 1. Serviceæ¥å£åç§°å®ä¹æä¸å¡åç§°ï¼å¹¶ä¸Daoæ¥å£åç§°è¿è¡åºå\n 2. å¶ä½æµè¯ç±»æµè¯Serviceåè½æ¯å¦ææ\n\n# ä¸å¡å±å¿«éå¼å\n\nå¶å®MPææ¯ä¸ä»æä¾äºæ°æ®å±å¿«éå¼åæ¹æ¡ï¼ä¸å¡å±MPä¹ç»äºä¸ä¸ªéç¨æ¥å£ï¼ä¸ªäººè§ç¹ä¸æ¨èä½¿ç¨ï¼ååè½ç¨å§ï¼å¶å®å°±æ¯ä¸ä¸ªå°è£+ç»§æ¿çææ³ï¼ä»£ç ç»åºï¼å®éå¼åæç¨\n\nä¸å¡å±æ¥å£å¿«éå¼å\n\npublic interface IBookService extends IService<Book> {\n    //æ·»å ééç¨æä½APIæ¥å£\n}\n\n\nä¸å¡å±æ¥å£å®ç°ç±»å¿«éå¼åï¼å³æ³¨ç»§æ¿çç±»éè¦ä¼ å¥ä¸¤ä¸ªæ³åï¼ä¸ä¸ªæ¯æ°æ®å±æ¥å£ï¼å¦ä¸ä¸ªæ¯å®ä½ç±»\n\n@Service\npublic class BookServiceImpl extends ServiceImpl<BookDao, Book> implements IBookService {\n    @Autowired\n    private BookDao bookDao;\n\t//æ·»å ééç¨æä½API\n}\n\n\nå¦ææè§MPæä¾çåè½ä¸è¶³ä»¥æ¯æä½ çä½¿ç¨éè¦ï¼å¶å®æ¯ä¸å®ä¸è½æ¯æçï¼å ä¸ºéæ±ä¸å¯è½æ¯éç¨çï¼å¨åå§æ¥å£åºç¡ä¸æ¥çå®ä¹æ°çAPIæ¥å£å°±è¡äºï¼æ­¤å¤ä¸åè¯´å¤ªå¤äºï¼å°±æ¯èªå®ä¹èªå·±çæä½äºï¼ä½æ¯ä¸è¦åå·²æçAPIæ¥å£åå²çªå³å¯ã\n\næ»ç»\n\n 1. ä½¿ç¨éç¨æ¥å£ï¼ISerivce<T>ï¼å¿«éå¼åService\n 2. ä½¿ç¨éç¨å®ç°ç±»ï¼ServiceImpl<M,T>ï¼å¿«éå¼åServiceImpl\n 3. å¯ä»¥å¨éç¨æ¥å£åºç¡ä¸ååè½éè½½æåè½è¿½å \n 4. æ³¨æéè½½æ¶ä¸è¦è¦çåå§æä½ï¼é¿ååå§æä¾çåè½ä¸¢å¤±\n\n# 6.è¡¨ç°å±å¼å\n\nç»äºåå°è¡¨ç°å±äºï¼åäºè¿ä¹å¤é½æ¯åºç¡å·¥ä½ãå¶å®ä½ ç°å¨åå¤´ççï¼åªéè¿æä»ä¹SpringBootçå½±å­ï¼åé¢1,2æ­¥å°±æå®äºãç»§ç»­å®æè¡¨ç°å±å¶ä½å§ï¼å±ä»¬è¡¨ç°å±çå¼åä½¿ç¨åºäºRestfulçè¡¨ç°å±æ¥å£å¼åï¼åè½æµè¯éè¿Postmanå·¥å·è¿è¡\n\nè¡¨ç°å±æ¥å£å¦ä¸:\n\n@RestController\n@RequestMapping("/books")\npublic class BookController2 {\n\n    @Autowired\n    private IBookService bookService;\n\n    @GetMapping\n    public List<Book> getAll(){\n        return bookService.list();\n    }\n\n    @PostMapping\n    public Boolean save(@RequestBody Book book){\n        return bookService.save(book);\n    }\n\n    @PutMapping\n    public Boolean update(@RequestBody Book book){\n        return bookService.modify(book);\n    }\n\n    @DeleteMapping("{id}")\n    public Boolean delete(@PathVariable Integer id){\n        return bookService.delete(id);\n    }\n\n    @GetMapping("{id}")\n    public Book getById(@PathVariable Integer id){\n        return bookService.getById(id);\n    }\n\n    @GetMapping("{currentPage}/{pageSize}")\n    public IPage<Book> getPage(@PathVariable int currentPage,@PathVariable int pageSize){\n        return bookService.getPage(currentPage,pageSize, null);\n    }\n}\n\n\nå¨å®ç¨Postmanæµè¯æ¶å³æ³¨æäº¤ç±»åï¼å¯¹åºä¸å³å¯ï¼ä¸ç¶å°±ä¼æ¥405çéè¯¯ç äº\n\næ®éGETè¯·æ±\n\n\n\nPUTè¯·æ±ä¼ éjsonæ°æ®ï¼åå°å®ç¨@RequestBodyæ¥æ¶æ°æ®\n\n\n\nGETè¯·æ±ä¼ éè·¯å¾åéï¼åå°å®ç¨@PathVariableæ¥æ¶æ°æ®\n\n\n\næ»ç»\n\n 1. åºäºRestfulå¶ä½è¡¨ç°å±æ¥å£\n    * æ°å¢ï¼POST\n    * å é¤ï¼DELETE\n    * ä¿®æ¹ï¼PUT\n    * æ¥è¯¢ï¼GET\n 2. æ¥æ¶åæ°\n    * å®ä½æ°æ®ï¼@RequestBody\n    * è·¯å¾åéï¼@PathVariable\n\n# 7.è¡¨ç°å±æ¶æ¯ä¸è´æ§å¤ç\n\nç®åæä»¬éè¿Postmanæµè¯åä¸å¡å±æ¥å£åè½æ¶éçï¼ä½æ¯è¿æ ·çç»æç»å°åç«¯å¼åèä¼åºç°ä¸ä¸ªå°é®é¢ãä¸åçæä½ç»ææå±ç¤ºçæ°æ®æ ¼å¼å·®å¼åä¸¥é\n\nå¢å æ¹æä½ç»æ\n\ntrue\n\n\næ¥è¯¢åä¸ªæ°æ®æä½ç»æ\n\n{\n    "id": 1,\n    "type": "è®¡ç®æºçè®º",\n    "name": "Springå®æ ç¬¬5ç",\n    "description": "Springå¥é¨ç»å¸æç¨"\n}\n\n\næ¥è¯¢å¨é¨æ°æ®æä½ç»æ\n\n[\n    {\n        "id": 1,\n        "type": "è®¡ç®æºçè®º",\n        "name": "Springå®æ ç¬¬5ç",\n        "description": "Springå¥é¨ç»å¸æç¨"\n    },\n    {\n        "id": 2,\n        "type": "è®¡ç®æºçè®º",\n        "name": "Spring 5æ ¸å¿åçä¸30ä¸ªç±»æåå®æ",\n        "description": "åå¹´æ²æ·ä¹ä½"\n    }\n]\n\n\næ¯ç§ä¸åæä½è¿åçæ°æ®æ ¼å¼é½ä¸ä¸æ ·ï¼èä¸è¿ä¸ç¥éä»¥åè¿ä¼æä»ä¹æ ¼å¼ï¼è¿æ ·çç»æè®©åç«¯äººåçäºæ¯å¾å®¹æè®©äººå´©æºçï¼å¿é¡»å°æææä½çæä½ç»ææ°æ®æ ¼å¼ç»ä¸èµ·æ¥ï¼éè¦è®¾è®¡è¡¨ç°å±è¿åç»æçæ¨¡åç±»ï¼ç¨äºåç«¯ä¸åç«¯è¿è¡æ°æ®æ ¼å¼ç»ä¸ï¼ä¹ç§°ä¸ºååç«¯æ°æ®åè®®\n\n@Data\npublic class R {\n    private Boolean flag;\n    private Object data;\n}\n\n\nå¶ä¸­flagç¨äºæ è¯æä½æ¯å¦æåï¼dataç¨äºå°è£æä½æ°æ®ï¼ç°å¨çæ°æ®æ ¼å¼å°±åäº\n\n{\n    "flag": true,\n    "data":{\n        "id": 1,\n        "type": "è®¡ç®æºçè®º",\n        "name": "Springå®æ ç¬¬5ç",\n        "description": "Springå¥é¨ç»å¸æç¨"\n    }\n}\n\n\nè¡¨ç°å±å¼åæ ¼å¼ä¹éè¦è½¬æ¢ä¸ä¸\n\nç»æè¿ä¹ä¸æè¾ï¼å¨æ ¼å¼ç»ä¸ï¼ç°å¨åç«¯åéç»åç«¯çæ°æ®æ ¼å¼å°±ç»ä¸äºï¼åå»äºä¸å°åç«¯è§£ææ°æ®çéº»ç¦ã\n\næ»ç»\n\n 1. è®¾è®¡ç»ä¸çè¿åå¼ç»æç±»åä¾¿äºåç«¯å¼åè¯»åæ°æ®\n\n 2. è¿åå¼ç»æç±»åå¯ä»¥æ ¹æ®éæ±èªè¡è®¾å®ï¼æ²¡æåºå®æ ¼å¼\n\n 3. è¿åå¼ç»ææ¨¡åç±»ç¨äºåç«¯ä¸åç«¯è¿è¡æ°æ®æ ¼å¼ç»ä¸ï¼ä¹ç§°ä¸ºååç«¯æ°æ®åè®®\n\n# 8.ååç«¯èéæ§æµè¯\n\nåç«¯çè¡¨ç°å±æ¥å£å¼åå®æ¯ï¼å°±å¯ä»¥è¿è¡åç«¯çå¼åäºã\n\nå°åç«¯äººåå¼åçé¡µé¢ä¿å­å°lresourcesç®å½ä¸çstaticç®å½ä¸­ï¼å»ºè®®æ§è¡mavençcleançå½å¨æï¼é¿åç¼å­çé®é¢åºç°ã\n\n\n\nå¨è¿è¡å·ä½çåè½å¼åä¹åï¼ååèéæ§çæµè¯ï¼éè¿é¡µé¢åéå¼æ­¥æäº¤ï¼axiosï¼ï¼è¿ä¸æ­¥è°è¯éè¿ååè¿è¡è¿ä¸æ­¥çåè½å¼å\n\n//åè¡¨\ngetAll() {\n\taxios.get("/books").then((res)=>{\n\t\tconsole.log(res.data);\n\t});\n},\n\n\nåªè¦åå°ä»£ç è½å¤æ­£å¸¸å·¥ä½ï¼åç«¯è½å¤å¨æ¥å¿ä¸­æ¥æ¶å°æ°æ®ï¼å°±è¯æååç«¯æ¯éçï¼ä¹å°±å¯ä»¥è¿è¡ä¸ä¸æ­¥çåè½å¼åäº\n\næ»ç»\n\n 1. åä½é¡¹ç®ä¸­é¡µé¢æ¾ç½®å¨resources/staticç®å½ä¸\n 2. createdé©å­å½æ°ç¨äºåå§åé¡µé¢æ¶åèµ·è°ç¨\n 3. é¡µé¢ä½¿ç¨axiosåéå¼æ­¥è¯·æ±è·åæ°æ®åç¡®è®¤ååç«¯æ¯å¦èé\n\n# 9.é¡µé¢åºç¡åè½å¼å\n\n# F-1.åè¡¨åè½ï¼éåé¡µçï¼\n\nåè¡¨åè½ä¸»è¦æä½å°±æ¯å è½½å®æ°æ®ï¼å°æ°æ®å±ç¤ºå°é¡µé¢ä¸ï¼æ­¤å¤è¦å©ç¨VUEçæ°æ®æ¨¡åç»å®ï¼åéè¯·æ±å¾å°æ°æ®ï¼ç¶åé¡µé¢ä¸è¯»åæå®æ°æ®å³å¯\n\né¡µé¢æ°æ®æ¨¡åå®ä¹\n\ndata:{\n\tdataList: [],//å½åé¡µè¦å±ç¤ºçåè¡¨æ°æ®\n\t...\n},\n\n\nå¼æ­¥è¯·æ±è·åæ°æ®\n\n//åè¡¨\ngetAll() {\n    axios.get("/books").then((res)=>{\n        this.dataList = res.data.data;\n    });\n},\n\n\nè¿æ ·å¨é¡µé¢å è½½æ¶å°±å¯ä»¥è·åå°æ°æ®ï¼å¹¶ä¸ç±VUEå°æ°æ®å±ç¤ºå°é¡µé¢ä¸äº\n\næ»ç»ï¼\n\n 1. å°æ¥è¯¢æ°æ®è¿åå°é¡µé¢ï¼å©ç¨åç«¯æ°æ®ç»å®è¿è¡æ°æ®å±ç¤º\n\n# F-2.æ·»å åè½\n\næ·»å åè½ç¨äºæ¶éæ°æ®çè¡¨åæ¯éè¿ä¸ä¸ªå¼¹çªå±ç¤ºçï¼å æ­¤å¨æ·»å æä½åé¦åè¦è¿è¡å¼¹çªçå±ç¤ºï¼æ·»å åéèå¼¹çªå³å¯ãå ä¸ºè¿ä¸ªå¼¹çªä¸ç´å­å¨ï¼å æ­¤å½é¡µé¢å è½½æ¶é¦åè®¾ç½®è¿ä¸ªå¼¹çªä¸ºä¸å¯æ¾ç¤ºç¶æï¼éè¦å±ç¤ºï¼åæ¢ç¶æå³å¯\n\né»è®¤ç¶æ\n\ndata:{\n\tdialogFormVisible: false,//æ·»å è¡¨åæ¯å¦å¯è§\n\t...\n},\n\n\nåæ¢ä¸ºæ¾ç¤ºç¶æ\n\n//å¼¹åºæ·»å çªå£\nhandleCreate() {\n\tthis.dialogFormVisible = true;\n},\n\n\nç±äºæ¯æ¬¡æ·»å æ°æ®é½æ¯ä½¿ç¨åä¸ä¸ªå¼¹çªå½å¥æ°æ®ï¼æä»¥æ¯æ¬¡æä½ççè¿¹å°å¨ä¸ä¸æ¬¡æä½æ¶å±ç¤ºåºæ¥ï¼éè¦å¨æ¯æ¬¡æä½ä¹åæ¸çæä¸æ¬¡æä½ççè¿¹\n\nå®ä¹æ¸çæ°æ®æä½\n\n//éç½®è¡¨å\nresetForm() {\n    this.formData = {};\n},\n\n\nåæ¢å¼¹çªç¶ææ¶æ¸çæ°æ®\n\n//å¼¹åºæ·»å çªå£\nhandleCreate() {\n    this.dialogFormVisible = true;\n    this.resetForm();\n},\n\n\nè³æ­¤åå¤å·¥ä½å®æï¼ä¸é¢å°±è¦è°ç¨åå°å®ææ·»å æä½äº\n\næ·»å æä½\n\n//æ·»å \nhandleAdd () {\n    //åéå¼æ­¥è¯·æ±\n    axios.post("/books",this.formData).then((res)=>{\n        //å¦ææä½æåï¼å³é­å¼¹å±ï¼æ¾ç¤ºæ°æ®\n        if(res.data.flag){\n            this.dialogFormVisible = false;\n            this.$message.success("æ·»å æå");\n        }else {\n            this.$message.error("æ·»å å¤±è´¥");\n        }\n    }).finally(()=>{\n        this.getAll();\n    });\n},\n\n\n 1. å°è¦ä¿å­çæ°æ®ä¼ éå°åå°ï¼éè¿postè¯·æ±çç¬¬äºä¸ªåæ°ä¼ éjsonæ°æ®å°åå°\n 2. æ ¹æ®è¿åçæä½ç»æå³å®ä¸ä¸æ­¥æä½\n    * å¦ä½æ¯trueå°±å³é­æ·»å çªå£ï¼æ¾ç¤ºæ·»å æåçæ¶æ¯\n    * å¦ææ¯falseä¿çæ·»å çªå£ï¼æ¾ç¤ºæ·»å å¤±è´¥çæ¶æ¯\n 3. æ è®ºæ·»å æ¯å¦æåï¼é¡µé¢åè¿è¡å·æ°ï¼å¨æå è½½æ°æ®ï¼å¯¹getAllæä½åèµ·è°ç¨ï¼\n\nåæ¶æ·»å æä½\n\n//åæ¶\ncancel(){\n    this.dialogFormVisible = false;\n    this.$message.info("æä½åæ¶");\n},\n\n\næ»ç»\n\n 1. è¯·æ±æ¹å¼ä½¿ç¨POSTè°ç¨åå°å¯¹åºæä½\n 2. æ·»å æä½ç»æåå¨æå·æ°é¡µé¢å è½½æ°æ®\n 3. æ ¹æ®æä½ç»æä¸åï¼æ¾ç¤ºå¯¹åºçæç¤ºä¿¡æ¯\n 4. å¼¹åºæ·»å Divæ¶æ¸é¤è¡¨åæ°æ®\n\n# F-3.å é¤åè½\n\næ¨¡ä»¿æ·»å æä½å¶ä½å é¤åè½ï¼å·®å«ä¹å¤å¨äºå é¤æä½ä»ä¼ éä¸ä¸ªå¾å é¤çæ°æ®idå°åå°å³å¯\n\nå é¤æä½\n\n// å é¤\nhandleDelete(row) {\n    axios.delete("/books/"+row.id).then((res)=>{\n        if(res.data.flag){\n            this.$message.success("å é¤æå");\n        }else{\n            this.$message.error("å é¤å¤±è´¥");\n        }\n    }).finally(()=>{\n        this.getAll();\n    });\n},\n\n\nå é¤æä½æç¤ºä¿¡æ¯\n\n// å é¤\nhandleDelete(row) {\n    //1.å¼¹åºæç¤ºæ¡\n    this.$confirm("æ­¤æä½æ°¸ä¹å é¤å½åæ°æ®ï¼æ¯å¦ç»§ç»­ï¼","æç¤º",{\n        type:\'info\'\n    }).then(()=>{\n        //2.åå é¤ä¸å¡\n        axios.delete("/books/"+row.id).then((res)=>{\n       \t\tif(res.data.flag){\n            \tthis.$message.success("å é¤æå");\n        \t}else{\n            \tthis.$message.error("å é¤å¤±è´¥");\n        \t}\n        }).finally(()=>{\n            this.getAll();\n        });\n    }).catch(()=>{\n        //3.åæ¶å é¤\n        this.$message.info("åæ¶å é¤æä½");\n    });\n}ï¼\t\n\n\næ»ç»\n\n 1. è¯·æ±æ¹å¼ä½¿ç¨Deleteè°ç¨åå°å¯¹åºæä½\n 2. å é¤æä½éè¦ä¼ éå½åè¡æ°æ®å¯¹åºçidå¼å°åå°\n 3. å é¤æä½ç»æåå¨æå·æ°é¡µé¢å è½½æ°æ®\n 4. æ ¹æ®æä½ç»æä¸åï¼æ¾ç¤ºå¯¹åºçæç¤ºä¿¡æ¯\n 5. å é¤æä½åå¼¹åºæç¤ºæ¡é¿åè¯¯æä½\n\n# F-4.ä¿®æ¹åè½\n\nä¿®æ¹åè½å¯ä»¥è¯´æ¯åè¡¨åè½ãå é¤åè½ä¸æ·»å åè½çåä½ãå ä¸ªç¸ä¼¼ç¹å¦ä¸ï¼\n\n 1. é¡µé¢ä¹éè¦æä¸ä¸ªå¼¹çªç¨æ¥å è½½ä¿®æ¹çæ°æ®ï¼è¿ä¸ç¹ä¸æ·»å ç¸åï¼é½æ¯è¦å¼¹çª\n\n 2. å¼¹åºçªå£ä¸­è¦å è½½å¾ä¿®æ¹çæ°æ®ï¼èæ°æ®éè¦éè¿æ¥è¯¢å¾å°ï¼è¿ä¸ç¹ä¸æ¥è¯¢å¨é¨ç¸åï¼é½æ¯è¦æ¥æ°æ®\n\n 3. æ¥è¯¢æä½éè¦å°è¦ä¿®æ¹çæ°æ®idåéå°åå°ï¼è¿ä¸ç¹ä¸å é¤ç¸åï¼é½æ¯ä¼ éidå°åå°\n\n 4. æ¥è¯¢å¾å°æ°æ®åéè¦å±ç¤ºå°å¼¹çªä¸­ï¼è¿ä¸ç¹ä¸æ¥è¯¢å¨é¨ç¸åï¼é½æ¯è¦éè¿æ°æ®æ¨¡åç»å®å±ç¤ºæ°æ®\n\n 5. ä¿®æ¹æ°æ®æ¶éè¦å°è¢«ä¿®æ¹çæ°æ®ä¼ éå°åå°ï¼è¿ä¸ç¹ä¸æ·»å ç¸åï¼é½æ¯è¦ä¼ éæ°æ®\n    \n    æä»¥æ´ä½ä¸æ¥çï¼ä¿®æ¹åè½å°±æ¯åé¢å ä¸ªåè½çå¤§åä½\n    \n    æ¥è¯¢å¹¶å±ç¤ºæ°æ®\n\n//å¼¹åºç¼è¾çªå£\nhandleUpdate(row) {\n    axios.get("/books/"+row.id).then((res)=>{\n        if(res.data.flag){\n            //å±ç¤ºå¼¹å±ï¼å è½½æ°æ®\n            this.formData = res.data.data;\n            this.dialogFormVisible4Edit = true;\n        }else{\n            this.$message.error("æ°æ®åæ­¥å¤±è´¥ï¼èªå¨å·æ°");\n        }\n    });\n},\n\n\nä¿®æ¹æä½\n\n//ä¿®æ¹\nhandleEdit() {\n    axios.put("/books",this.formData).then((res)=>{\n        //å¦ææä½æåï¼å³é­å¼¹å±å¹¶å·æ°é¡µé¢\n        if(res.data.flag){\n            this.dialogFormVisible4Edit = false;\n            this.$message.success("ä¿®æ¹æå");\n        }else {\n            this.$message.error("ä¿®æ¹å¤±è´¥ï¼è¯·éè¯");\n        }\n    }).finally(()=>{\n        this.getAll();\n    });\n},\n\n\næ»ç»\n\n 1. å è½½è¦ä¿®æ¹æ°æ®éè¿ä¼ éå½åè¡æ°æ®å¯¹åºçidå¼å°åå°æ¥è¯¢æ°æ®ï¼åå é¤ä¸æ¥è¯¢å¨é¨ï¼\n 2. å©ç¨åç«¯ååæ°æ®ç»å®å°æ¥è¯¢å°çæ°æ®è¿è¡åæ¾ï¼åæ¥è¯¢å¨é¨ï¼\n 3. è¯·æ±æ¹å¼ä½¿ç¨PUTè°ç¨åå°å¯¹åºæä½ï¼åæ°å¢ä¼ éæ°æ®ï¼\n 4. ä¿®æ¹æä½ç»æåå¨æå·æ°é¡µé¢å è½½æ°æ®ï¼åæ°å¢ï¼\n 5. æ ¹æ®æä½ç»æä¸åï¼æ¾ç¤ºå¯¹åºçæç¤ºä¿¡æ¯ï¼åæ°å¢ï¼\n\n\n\n# 10.ä¸å¡æ¶æ¯ä¸è´æ§å¤ç\n\nç®åçåè½å¶ä½åºæ¬ä¸è¾¾æäºæ­£å¸¸ä½¿ç¨çæåµï¼ä»ä¹å«æ­£å¸¸ä½¿ç¨å¢ï¼ä¹å°±æ¯è¿ä¸ªç¨åºä¸åºBUGï¼å¦ææä»¬æä¸ä¸ªBUGåºæ¥ï¼ä½ ä¼åç°ç¨åºé©¬ä¸å´©æºæãæ¯å¦åå°æå·¥æåºä¸ä¸ªå¼å¸¸ï¼ççåç«¯æ¥æ¶å°çæ°æ®ä»ä¹æ ·å­\n\n{\n    "timestamp": "2021-09-15T03:27:31.038+00:00",\n    "status": 500,\n    "error": "Internal Server Error",\n    "path": "/books"\n}\n\n\né¢å¯¹è¿ç§æåµï¼åç«¯çåå­¦åä¸ä¼äºï¼è¿åæ¯ä»ä¹æ ¼å¼ï¼æä¹åä¹åçæ ¼å¼ä¸ä¸æ ·ï¼\n\n{\n    "flag": true,\n    "data":{\n        "id": 1,\n        "type": "è®¡ç®æºçè®º",\n        "name": "Springå®æ ç¬¬5ç",\n        "description": "Springå¥é¨ç»å¸æç¨"\n    }\n}\n\n\nçæ¥ä¸ä»è¦å¯¹æ­£ç¡®çæä½æ°æ®æ ¼å¼åå¤çï¼è¿è¦å¯¹éè¯¯çæä½æ°æ®æ ¼å¼ååæ ·çæ ¼å¼å¤ç\n\né¦åå¨å½åçæ°æ®ç»æä¸­æ·»å æ¶æ¯å­æ®µï¼ç¨æ¥å¼å®¹åå°åºç°çæä½æ¶æ¯\n\n@Data\npublic class R{\n    private Boolean flag;\n    private Object data;\n    private String msg;\t\t//ç¨äºå°è£æ¶æ¯\n}\n\n\nåå°ä»£ç ä¹è¦æ ¹æ®æåµåå¤çï¼å½åæ¯æ¨¡æçéè¯¯\n\n@PostMapping\npublic R save(@RequestBody Book book) throws IOException {\n    Boolean flag = bookService.insert(book);\n    return new R(flag , flag ? "æ·»å æå^_^" : "æ·»å å¤±è´¥-_-!");\n}\n\n\nç¶åå¨è¡¨ç°å±åç»ä¸çå¼å¸¸å¤çï¼ä½¿ç¨SpringMVCæä¾çå¼å¸¸å¤çå¨åç»ä¸çå¼å¸¸å¤ç\n\n@RestControllerAdvice\npublic class ProjectExceptionAdvice {\n    // ExceptionHandlerç¨æ¥æ¦æªæææèæå®çå¼å¸¸ä¿¡æ¯\n    @ExceptionHandler(Exception.class)\n    public R doOtherException(Exception ex){\n        //è®°å½æ¥å¿\n        //åéæ¶æ¯ç»è¿ç»´\n        //åéé®ä»¶ç»å¼åäººå,exå¯¹è±¡åéç»å¼åäººå\n        ex.printStackTrace();\n        return new R(false,null,"ç³»ç»éè¯¯ï¼è¯·ç¨ååè¯ï¼");\n    }\n}\n\n\né¡µé¢ä¸å¾å°æ°æ®åï¼åå¤å®æ¯å¦æåå°ä¼ éè¿æ¥çæ¶æ¯ï¼æ å¿å°±æ¯å½åæä½æ¯å¦æåï¼å¦æè¿åæä½ç»æfalseï¼å°±è¯»ååå°ä¼ éçæ¶æ¯\n\n//æ·»å \nhandleAdd () {\n\t//åéajaxè¯·æ±\n    axios.post("/books",this.formData).then((res)=>{\n        //å¦ææä½æåï¼å³é­å¼¹å±ï¼æ¾ç¤ºæ°æ®\n        if(res.data.flag){\n            this.dialogFormVisible = false;\n            this.$message.success("æ·»å æå");\n        }else {\n            this.$message.error(res.data.msg);\t\t\t//æ¶æ¯æ¥èªäºåå°ä¼ éè¿æ¥ï¼èéåºå®åå®¹\n        }\n    }).finally(()=>{\n        this.getAll();\n    });\n},\n\n\næ»ç»\n\n 1. ä½¿ç¨æ³¨è§£**@RestControllerAdvice**å®ä¹SpringMVCå¼å¸¸å¤çå¨ç¨æ¥å¤çå¼å¸¸ç\n 2. å¼å¸¸å¤çå¨å¿é¡»è¢«æ«æå è½½ï¼å¦åæ æ³çæ\n 3. è¡¨ç°å±è¿åç»æçæ¨¡åç±»ä¸­æ·»å æ¶æ¯å±æ§ç¨æ¥ä¼ éæ¶æ¯å°é¡µé¢\n\n\n\n# 11.é¡µé¢åè½å¼å\n\n# F-5.åé¡µåè½\n\nåé¡µåè½çå¶ä½ç¨äºæ¿æ¢åé¢çæ¥è¯¢å¨é¨ï¼å¶ä¸­è¦ä½¿ç¨å°elementUIæä¾çåé¡µç»ä»¶\n\n\x3c!--åé¡µç»ä»¶--\x3e\n<div class="pagination-container">\n    <el-pagination\n\t\tclass="pagiantion"\n\t\t@current-change="handleCurrentChange"\n\t\t:current-page="pagination.currentPage"\n\t\t:page-size="pagination.pageSize"\n\t\tlayout="total, prev, pager, next, jumper"\n\t\t:total="pagination.total">\n    </el-pagination>\n</div>\n\n\nä¸ºäºéååé¡µç»ä»¶ï¼å°è£åé¡µå¯¹åºçæ°æ®æ¨¡å\n\ndata:{\n\tpagination: {\t\n\t\t//åé¡µç¸å³æ¨¡åæ°æ®\n\t\tcurrentPage: 1,\t//å½åé¡µç \n\t\tpageSize:10,\t//æ¯é¡µæ¾ç¤ºçè®°å½æ°\n\t\ttotal:0,\t\t//æ»è®°å½æ°\n\t}\n},\n\n\nä¿®æ¹æ¥è¯¢å¨é¨åè½ä¸ºåé¡µæ¥è¯¢ï¼éè¿è·¯å¾åéä¼ éé¡µç ä¿¡æ¯åæ°\n\ngetAll() {\n    axios.get("/books/"+this.pagination.currentPage+"/"+this.pagination.pageSize).then((res) => {\n    });\n},\n\n\nåå°æä¾å¯¹åºçåé¡µåè½\n\n@GetMapping("/{currentPage}/{pageSize}")\npublic R getAll(@PathVariable Integer currentPage,@PathVariable Integer pageSize){\n    IPage<Book> pageBook = bookService.getPage(currentPage, pageSize);\n    return new R(null != pageBook ,pageBook);\n}\n\n\né¡µé¢æ ¹æ®åé¡µæä½ç»æè¯»åå¯¹åºæ°æ®ï¼å¹¶è¿è¡æ°æ®æ¨¡åç»å®\n\ngetAll() {\n    axios.get("/books/"+this.pagination.currentPage+"/"+this.pagination.pageSize).then((res) => {\n        this.pagination.total = res.data.data.total;\n        this.pagination.currentPage = res.data.data.current;\n        this.pagination.pagesize = res.data.data.size;\n        this.dataList = res.data.data.records;\n    });\n},\n\n\nå¯¹åæ¢é¡µç æä½è®¾ç½®è°ç¨å½ååé¡µæä½\n\n//åæ¢é¡µç \nhandleCurrentChange(currentPage) {\n    this.pagination.currentPage = currentPage;\n    this.getAll();\n},\n\n\næ»ç»\n\n 1. ä½¿ç¨elåé¡µç»ä»¶\n 2. å®ä¹åé¡µç»ä»¶ç»å®çæ°æ®æ¨¡å\n 3. å¼æ­¥è°ç¨è·ååé¡µæ°æ®\n 4. åé¡µæ°æ®é¡µé¢åæ¾\n\n# F-6.å é¤åè½ç»´æ¤\n\nç±äºä½¿ç¨äºåé¡µåè½ï¼å½æåä¸é¡µåªæä¸æ¡æ°æ®æ¶ï¼å é¤æä½å°±ä¼åºç°BUGï¼æåä¸é¡µæ æ°æ®ä½æ¯ç¬ç«å±ç¤ºï¼å¯¹åé¡µæ¥è¯¢åè½è¿è¡åå°åè½ç»´æ¤ï¼å¦æå½åé¡µç å¼å¤§äºæå¤§é¡µç å¼ï¼éæ°æ§è¡æ¥è¯¢ãå¶å®è¿ä¸ªé®é¢è§£å³æ¹æ¡å¾å¤ï¼è¿éç»åºæ¯è¾ç®åçä¸ç§å¤çæ¹æ¡\n\n@GetMapping("{currentPage}/{pageSize}")\npublic R getPage(@PathVariable int currentPage,@PathVariable int pageSize){\n    IPage<Book> page = bookService.getPage(currentPage, pageSize);\n    //å¦æå½åé¡µç å¼å¤§äºäºæ»é¡µç å¼ï¼é£ä¹éæ°æ§è¡æ¥è¯¢æä½ï¼ä½¿ç¨æå¤§é¡µç å¼ä½ä¸ºå½åé¡µç å¼\n    if( currentPage > page.getPages()){\n        page = bookService.getPage((int)page.getPages(), pageSize);\n    }\n    return new R(true, page);\n}\n\n\n# F-7.æ¡ä»¶æ¥è¯¢åè½\n\næåä¸ä¸ªåè½æ¥åæ¡ä»¶æ¥è¯¢ï¼å¶å®æ¡ä»¶æ¥è¯¢å¯ä»¥çè§£ä¸ºåé¡µæ¥è¯¢çæ¶åé¤äºæºå¸¦åé¡µæ°æ®åå¤å¸¦å ä¸ªæ°æ®çæ¥è¯¢ãè¿äºå¤å¸¦çæ°æ®å°±æ¯æ¥è¯¢æ¡ä»¶ãæ¯è¾ä¸ä¸ä¸å¸¦æ¡ä»¶çåé¡µæ¥è¯¢ä¸å¸¦æ¡ä»¶çåé¡µæ¥è¯¢å·®å«ä¹å¤ï¼è¿ä¸ªåè½å°±å¥½åäº\n\n * é¡µé¢å°è£çæ°æ®ï¼å¸¦ä¸å¸¦æ¡ä»¶å½±åçä»ä»æ¯ä¸æ¬¡æ§ä¼ éå°åå°çæ°æ®æ»éï¼ç±ä¼ é2ä¸ªåé¡µç¸å³çæ°æ®è½¬æ¢æ2ä¸ªåé¡µæ°æ®å è¥å¹²ä¸ªæ¡ä»¶\n\n * åå°æ¥è¯¢åè½ï¼æ¥è¯¢æ¶ç±ä¸å¸¦æ¡ä»¶ï¼è½¬æ¢æå¸¦æ¡ä»¶ï¼åæ­£ä¸å¸¦æ¡ä»¶çæ¶åæ¥è¯¢æ¡ä»¶å¯¹è±¡ä½¿ç¨çæ¯nullï¼ç°å¨æ¢æå·ä½æ¡ä»¶ï¼å·®å«ä¸å¤§\n\n * æ¥è¯¢ç»æï¼ä¸ç®¡å¸¦ä¸å¸¦æ¡ä»¶ï¼åºæ¥çæ°æ®åªæ¯ææ°éä¸çå·®å«ï¼å¶ä»é½å·®å«ï¼è¿ä¸ªå¯ä»¥å¿½ç¥\n   \n   ç»è¿ä¸è¿°åæï¼çæ¥éè¦å¨é¡µé¢åéè¯·æ±çæ ¼å¼æ¹é¢åä¸å®çä¿®æ¹ï¼åå°çè°ç¨æ°æ®å±æä½æ¶åéä¿®æ¹ï¼å¶ä»æ²¡æåºå«\n   \n   é¡µé¢åéè¯·æ±æ¶ï¼ä¸¤ä¸ªåé¡µæ°æ®ä»ç¶ä½¿ç¨è·¯å¾åéï¼å¶ä»æ¡ä»¶éç¨å¨ææ¼è£urlåæ°çå½¢å¼ä¼ é\n   \n   é¡µé¢å°è£æ¥è¯¢æ¡ä»¶å­æ®µ\n   \n   pagination: {\t\t\n   //åé¡µç¸å³æ¨¡åæ°æ®\n   \tcurrentPage: 1,\t\t//å½åé¡µç \n   \tpageSize:10,\t\t//æ¯é¡µæ¾ç¤ºçè®°å½æ°\n   \ttotal:0,\t\t\t//æ»è®°å½æ°\n   \tname: "",\n   \ttype: "",\n   \tdescription: ""\n   },\n   \n   \n   é¡µé¢æ·»å æ¥è¯¢æ¡ä»¶å­æ®µå¯¹åºçæ°æ®æ¨¡åç»å®åç§°\n   \n   <div class="filter-container">\n       <el-input placeholder="å¾ä¹¦ç±»å«" v-model="pagination.type" class="filter-item"/>\n       <el-input placeholder="å¾ä¹¦åç§°" v-model="pagination.name" class="filter-item"/>\n       <el-input placeholder="å¾ä¹¦æè¿°" v-model="pagination.description" class="filter-item"/>\n       <el-button @click="getAll()" class="dalfBut">æ¥è¯¢</el-button>\n       <el-button type="primary" class="butT" @click="handleCreate()">æ°å»º</el-button>\n   </div>\n   \n   \n   å°æ¥è¯¢æ¡ä»¶ç»ç»æurlåæ°ï¼æ·»å å°è¯·æ±urlå°åä¸­ï¼è¿éå¯ä»¥åå©å¶ä»ç±»åºå¿«éå¼åï¼å½åä½¿ç¨æå·¥å½¢å¼æ¼æ¥ï¼éä½å­¦ä¹ è¦æ±\n   \n   getAll() {\n       //1.è·åæ¥è¯¢æ¡ä»¶,æ¼æ¥æ¥è¯¢æ¡ä»¶\n       param = "?name="+this.pagination.name;\n       param += "&type="+this.pagination.type;\n       param += "&description="+this.pagination.description;\n       console.log("-----------------"+ param);\n       axios.get("/books/"+this.pagination.currentPage+"/"+this.pagination.pageSize+param).then((res) => {\n           this.dataList = res.data.data.records;\n       });\n   },\n   \n   \n   åå°ä»£ç ä¸­å®ä¹å®ä½ç±»å°æ¥è¯¢æ¡ä»¶\n   \n   @GetMapping("{currentPage}/{pageSize}")\n   public R getAll(@PathVariable int currentPage,@PathVariable int pageSize,Book book) {\n       System.out.println("åæ°=====>"+book);\n       IPage<Book> pageBook = bookService.getPage(currentPage,pageSize);\n       return new R(null != pageBook ,pageBook);\n   }\n   \n   \n   å¯¹åºä¸å¡å±æ¥å£ä¸å®ç°ç±»è¿è¡ä¿®æ­£\n   \n   public interface IBookService extends IService<Book> {\n       IPage<Book> getPage(Integer currentPage,Integer pageSize,Book queryBook);\n   }\n   \n   \n   @Service\n   public class BookServiceImpl2 extends ServiceImpl<BookDao,Book> implements IBookService {\n       public IPage<Book> getPage(Integer currentPage,Integer pageSize,Book queryBook){\n           IPage page = new Page(currentPage,pageSize);\n           LambdaQueryWrapper<Book> lqw = new LambdaQueryWrapper<Book>();\n           lqw.like(Strings.isNotEmpty(queryBook.getName()),Book::getName,queryBook.getName());\n           lqw.like(Strings.isNotEmpty(queryBook.getType()),Book::getType,queryBook.getType());\n           lqw.like(Strings.isNotEmpty(queryBook.getDescription()),Book::getDescription,queryBook.getDescription());\n           return bookDao.selectPage(page,lqw);\n       }\n   }\n   \n   \n   é¡µé¢åæ¾æ°æ®\n   \n   getAll() {\n       //1.è·åæ¥è¯¢æ¡ä»¶,æ¼æ¥æ¥è¯¢æ¡ä»¶\n       param = "?name="+this.pagination.name;\n       param += "&type="+this.pagination.type;\n       param += "&description="+this.pagination.description;\n       console.log("-----------------"+ param);\n       axios.get("/books/"+this.pagination.currentPage+"/"+this.pagination.pageSize+param).then((res) => {\n           this.pagination.total = res.data.data.total;\n           this.pagination.currentPage = res.data.data.current;\n           this.pagination.pagesize = res.data.data.size;\n           this.dataList = res.data.data.records;\n       });\n   },\n   \n\næ»ç»\n\n 1. å®ä¹æ¥è¯¢æ¡ä»¶æ°æ®æ¨¡åï¼å½åå°è£å°åé¡µæ°æ®æ¨¡åä¸­ï¼\n 2. å¼æ­¥è°ç¨åé¡µåè½å¹¶éè¿è¯·æ±åæ°ä¼ éæ°æ®å°åå°\n\n\n# åºç¡ç¯å®ç»\n\nåºç¡ç¯å°è¿éå°±å¨é¨ç»æäºï¼å¨åºç¡ç¯ä¸­å¸¦çå¤§å®¶å­¦ä¹ äºå¦æåå»ºä¸ä¸ªSpringBootå·¥ç¨ï¼ç¶åå­¦ä¹ äºSpringBootçåºç¡éç½®è¯­æ³æ ¼å¼ï¼æ¥ä¸æ¥å¯¹å¸¸è§çå¸é¢ä¸çå®ç¨ææ¯åäºæ´åï¼æåéè¿ä¸ä¸ªå°çæ¡ä¾å¯¹åé¢å­¦ä¹ çåå®¹åäºä¸ä¸ªç»¼ååºç¨ãæ´ä½æ¥è¯´å°±æ¯ä¸ä¸ªæåºæ¬çå¥é¨ï¼å³äºSpringBootçå®éå¼åå¶å®æ¥è§¦çè¿æ¯å¾å°çï¼æä»¬å°å®ç¨ç¯ååçç¯ä¸­ç»§ç»­å§ï¼åä½å°ä¼ä¼´ï¼å æ²¹å­¦ä¹ ï¼åè§ã',normalizedContent:'# springbootåºç¡ç¯\n\nå¨åºç¡ç¯ä¸­ï¼æç»å­¦ä¹ èçå®ä½æ¯åä¸æï¼è½å¤ä½¿ç¨springbootæ­å»ºåºäºspringbootçwebé¡¹ç®å¼åï¼æä»¥åå®¹è®¾ç½®è¾å°ï¼ä¸»è¦åå«å¦ä¸åå®¹ï¼\n\n * springbootå¿«éå¥é¨\n * springbootåºç¡éç½®\n * åºäºspringbootæ´åssmp\n\n\n# jc-1.å¿«éä¸æspringboot\n\nå­¦ä¹ ä»»æä¸é¡¹ææ¯ï¼é¦åè¦ç¥éè¿ä¸ªææ¯çä½ç¨æ¯ä»ä¹ï¼ä¸ç¶å­¦å®ä»¥åï¼ä½ é½ä¸ç¥éä»ä¹æ¶åä½¿ç¨è¿ä¸ªææ¯ï¼ä¹å°±æ¯ææ¯å¯¹åºçåºç¨åºæ¯ãspringbootææ¯ç±pivotalå¢éç åå¶ä½ï¼åè½çè¯ç®åæ¦æ¬å°±æ¯å éspringç¨åºçå¼åï¼è¿ä¸ªå éè¦ä»å¦ä¸ä¸¤ä¸ªæ¹é¢æ¥è¯´\n\n * springç¨åºåå§æ­å»ºè¿ç¨\n * springç¨åºçå¼åè¿ç¨\n\néè¿ä¸é¢ä¸¤ä¸ªæ¹é¢çå®ä½ï¼æä»¬å¯ä»¥äº§çä¸¤ä¸ªæ¨¡ç³çæ¦å¿µï¼\n\n 1. springbootå¼åå¢éè®¤ä¸ºåå§çspringç¨åºåå§æ­å»ºçæ¶åå¯è½æäºç¹çï¼è¿ä¸ªè¿ç¨æ¯å¯ä»¥ç®åçï¼é£åå§çspringç¨åºåå§æ­å»ºè¿ç¨é½åå«åªäºä¸è¥¿äºå¢ï¼ä¸ºä»ä¹è§å¾ç¹çå¢ï¼æåºæ¬çspringç¨åºè³å°æä¸ä¸ªéç½®æä»¶æéç½®ç±»ï¼ç¨æ¥æè¿°springçéç½®ä¿¡æ¯ï¼è«éè¿ä¸ªæä»¶é½å¯ä»¥ä¸åï¼æ­¤å¤ç°å¨ä¼ä¸çº§å¼åä½¿ç¨springå¤§é¨åæåµä¸æ¯åwebå¼åï¼å¦æåwebå¼åçè¯ï¼è¿è¦å¨å è½½webç¯å¢æ¶å è½½æ¶å è½½æå®çspringéç½®ï¼è¿é½æ¯æåºæ¬çéæ±äºï¼ä¸åçè¯æä¹ç¥éå è½½åªä¸ªéç½®æä»¶/éç½®ç±»å¢ï¼é£æ¢äºspringbootææ¯ä»¥åå¢ï¼è¿äºè¿è¦ååï¼è°åºç¨åæ­æï¼ååä¸ªå³å­\n 2. springbootå¼åå¢éè®¤ä¸ºåå§çspringç¨åºå¼åçè¿ç¨ä¹æäºç¹çï¼è¿ä¸ªè¿ç¨ä»ç¶å¯ä»¥ç®åãå¼åè¿ç¨æ å¤ä¹ä½¿ç¨ä»ä¹ææ¯ï¼å¯¼å¥å¯¹åºçjaråï¼æåæ ï¼ç¶åå°è¿ä¸ªææ¯çæ ¸å¿å¯¹è±¡äº¤ç»springå®¹å¨ç®¡çï¼ä¹å°±æ¯éç½®æspringå®¹å¨ç®¡æ§çbeanå°±å¯ä»¥äºãè¿é½æ¯åºæ¬æä½åï¼é¾éè¿äºä¸è¥¿springbootä¹è½å¸®æä»¬ç®åï¼\n\nå¸¦çä¸é¢è¿äºçé®æä»¬å°±çæç¬¬ä¸ä¸ªspringbootç¨åºçå¼åäºï¼ççå°åºä½¿ç¨springbootææ¯è½ç®åå¼åå°ä»ä¹ç¨åº¦ã\n\næ¸©é¦¨æç¤º\n\nå¦æå¯¹springç¨åºçåºç¡å¼åä¸å¤ªæçå°ä¼ä¼´ï¼çå°è¿éå¯ä»¥å¼åäºï¼ä¸é¢çåå®¹å­¦ä¹ éè¦å·å¤springææ¯çç¥è¯ï¼ç¡¬çå¤´ç®å­¦ä¸ä¸å»çã\n\n\n# jc-1-1.springbootå¥é¨ç¨åºå¶ä½ï¼ä¸ï¼\n\nä¸é¢è®©æä»¬å¼å§åç¬¬ä¸ä¸ªspringbootç¨åºå§ï¼æ¬è¯¾ç¨åºäºidea2020.3çæ¬å¶ä½ï¼ä½¿ç¨çmavençæ¬ä¸º3.6.1ï¼jdkçæ¬ä¸º1.8ãå¦æä½ çç¯å¢åä¸è¿°ç¯å¢ä¸åï¼å¯è½å¨æä½çé¢åæä½è¿ç¨ä¸­ç¥æä¸åï¼åªè¦è½¯ä»¶å¹éå¼å®¹å³å¯ï¼è¯´å°è¿ä¸ªideaåmavenï¼å®ä»¬ä¸¤ä¸ªè¿çä¸æ¯ä»ä¹çæ¬é½è½æ­å°ä¸èµ·çï¼è¯´å¤äºé½æ¯æ³ªåï¼ã\n\nä¸é¢ä½¿ç¨springbootææ¯å¿«éæå»ºä¸ä¸ªspringmvcçç¨åºï¼éè¿è¿ä¸ªè¿ç¨ä½ä¼ç®åäºå­çå«ä¹\n\næ­¥éª¤â ï¼åå»ºæ°æ¨¡åï¼éæ©spring initializrï¼å¹¶éç½®æ¨¡åç¸å³åºç¡ä¿¡æ¯\n\n\n\nç¹å«å³æ³¨ï¼ç¬¬3æ­¥ç¹å»nextæ¶ï¼ideaéè¦èç½ç¶ææå¯ä»¥è¿å¥å°åé¢é£ä¸é¡µï¼å¦æä¸è½æ­£å¸¸èç½ï¼å°±æ æ³æ­£ç¡®å°è¾¾å³é¢é£ä¸ªè®¾ç½®é¡µäºï¼ä¼ä¸ç´èç½è½¬è½¬è½¬\n\nç¹å«å³æ³¨ï¼ç¬¬5æ­¥éæ©javaçæ¬åä½ è®¡ç®æºä¸å®è£çjdkçæ¬å¹éå³å¯ï¼ä½æ¯æä½è¦æ±ä¸ºjdk8æä»¥ä¸çæ¬ï¼æ¨èä½¿ç¨8æ11\n\næ­¥éª¤â¡ï¼éæ©å½åæ¨¡åéè¦ä½¿ç¨çææ¯é\n\n\n\næç§è¦æ±ï¼å·¦ä¾§éæ©webï¼ç¶åå¨ä¸­é´éæ©spring webå³å¯ï¼éå®å³ä¾§å°±åºç°äºæ°çåå®¹é¡¹ï¼è¿å°±è¡¨ç¤ºå¾éæåäº\n\nå³æ³¨ï¼æ­¤å¤éæ©çspringbootççæ¬ä½¿ç¨é»è®¤çå°±å¯ä»¥äºï¼éè¦è¯´ä¸ç¹ï¼springbootççæ¬åçº§éåº¦å¾å¿«ï¼å¯è½æ¨å¤©åå»ºå·¥ç¨çæ¶åé»è®¤çæ¬æ¯2.5.4ï¼ä»å¤©ååå»ºå·¥ç¨é»è®¤çæ¬å°±åæ2.5.5äºï¼å·®å«ä¸å¤§ï¼æ éè¿äºçº ç»ï¼åå¤´å¯ä»¥å°éç½®æä»¶ä¸­ä¿®æ¹å¯¹åºççæ¬\n\næ­¥éª¤â¢ï¼å¼åæ§å¶å¨ç±»\n\n//restæ¨¡å¼\n@restcontroller\n@requestmapping("/books")\npublic class bookcontroller {\n    @getmapping\n    public string getbyid(){\n        system.out.println("springboot is running...");\n        return "springboot is running...";\n    }\n}\n\n\nå¥é¨æ¡ä¾å¶ä½çspringmvcçæ§å¶å¨åºäºresté£æ ¼å¼åï¼å½ç¶æ­¤å¤ä½¿ç¨åå§æ ¼å¼å¶ä½springmvcçç¨åºä¹æ¯æ²¡æé®é¢çï¼ä¸ä¾ä¸­ç@restcontrollerä¸@getmappingæ³¨è§£æ¯åºäºrestfulå¼åçå¸åæ³¨è§£\n\nå³æ³¨ï¼åå°è¿éspringbootç¨åºçæåºç¡çå¼åå·²ç»åå®äºï¼ç°å¨å°±å¯ä»¥æ­£å¸¸çè¿è¡springç¨åºäºãå¯è½æäºå°ä¼ä¼´ä¼æçæï¼tomcatæå¡å¨æ²¡æéç½®ï¼=-springä¹æ²¡æéç½®ï¼ä»ä¹é½æ²¡æéç½®è¿å°±è½ç¨åï¼è¿å°±æ¯springbootææ¯çå¼ºå¤§ä¹å¤ãå³äºåé¨å·¥ä½æµç¨åé¢åè¯´ï¼åä¸å¿å­¦ä¹ å¼åè¿ç¨\n\næ­¥éª¤â£ï¼è¿è¡èªå¨çæçapplicationç±»\n\n\n\nä½¿ç¨å¸¦mainæ¹æ³çjavaç¨åºçè¿è¡å½¢å¼æ¥è¿è¡ç¨åºï¼è¿è¡å®æ¯åï¼æ§å¶å°è¾åºä¸è¿°ä¿¡æ¯ã\n\nä¸é¾çåºï¼è¿è¡çä¿¡æ¯ä¸­åå«äº8080çç«¯å£ï¼tomcatè¿ç§çæçå­æ ·ï¼é¾éè¿éå¯å¨äºtomcatæå¡å¨ï¼æ¯çï¼è¿éå·²ç»å¯å¨äºãé£æå¡å¨æ²¡æéç½®ï¼åªéæ¥çå¢ï¼åé¢åè¯´ãç°å¨ä½ å°±å¯ä»¥éè¿æµè§å¨è®¿é®è¯·æ±çè·¯å¾ï¼æµè¯åè½æ¯å¦å·¥ä½æ­£å¸¸äº\n\nè®¿é®è·¯å¾ï¼\thttp://localhost:8080/books\n\n\næ¯ä¸æ¯æè§å¾ç¥å¥ï¼ç®åçææå¶å®ä¾èµçåºå±é»è¾è¿æ¯å¾å¤æçï¼ä½æ¯ä»å¼åèè§åº¦æ¥çï¼ç®ååªæä¸¤ä¸ªæä»¶å±ç°å°äºå¼åèé¢å\n\n * pom.xml\n   \n   è¿æ¯mavençéç½®æä»¶ï¼æè¿°äºå½åå·¥ç¨æå»ºæ¶ç¸åºçéç½®ä¿¡æ¯\n   \n   <?xml version="1.0" encoding="utf-8"?>\n   <project xmlns="http://maven.apache.org/pom/4.0.0" xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n            xsi:schemalocation="http://maven.apache.org/pom/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">\n       <modelversion>4.0.0</modelversion>\n   \n       <parent>\n           <groupid>org.springframework.boot</groupid>\n           <artifactid>spring-boot-starter-parent</artifactid>\n           <version>2.5.4</version>\n       </parent>\n   \n       <groupid>com.itheima</groupid>\n       <artifactid>springboot_01_01_quickstart</artifactid>\n       <version>0.0.1-snapshot</version>\n   \n       <dependencies>\n           <dependency>\n               <groupid>org.springframework.boot</groupid>\n               <artifactid>spring-boot-starter-web</artifactid>\n           </dependency>\n   \n           <dependency>\n               <groupid>org.springframework.boot</groupid>\n               <artifactid>spring-boot-starter-test</artifactid>\n               <scope>test</scope>\n           </dependency>\n       </dependencies>\n   </project>\n   \n   \n   éç½®ä¸­æä¸¤ä¸ªä¿¡æ¯éè¦å³æ³¨ï¼ä¸ä¸ªæ¯parentï¼ä¹å°±æ¯å½åå·¥ç¨ç»§æ¿äºå¦å¤ä¸ä¸ªå·¥ç¨ï¼å¹²ä»ä¹ç¨çåé¢åè¯´ï¼è¿æä¾èµåæ ï¼å¹²ä»ä¹ç¨çåé¢åè¯´\n\n * applicationç±»\n   \n   @springbootapplication\n   public class application {\n       public static void main(string[] args) {\n           springapplication.run(application.class, args);\n       }\n   }\n   \n   \n   è¿ä¸ªç±»åè½å¾ç®åï¼å°±ä¸å¥ä»£ç ï¼åé¢è¿è¡ç¨åºå°±æ¯è¿è¡çè¿ä¸ªç±»\n\nå°è¿éæä»¬å¯ä»¥å¤§èæ¨æµä¸ä¸ï¼å¦æä¸é¢è¿ä¸¤ä¸ªæä»¶æ²¡æçè¯ï¼springbootè¯å®æ²¡æ³ç©ï¼çæ¥æ ¸å¿å°±æ¯è¿ä¸¤ä¸ªæä»¶äºãç±äºæ¯å¶ä½ç¬¬ä¸ä¸ªspringbootç¨åºï¼åä¸è¦å³æ³¨è¿ä¸¤ä¸ªæä»¶çåè½ï¼åé¢è¯¦ç»è®²è§£åé¨å·¥ä½æµç¨ã\n\néè¿ä¸é¢çå¶ä½ï¼æä»¬ä¸é¾åç°ï¼springbootç¨åºç®ç´å¤ªå¥½åäºï¼å ä¹ä»ä¹é½æ²¡åï¼åè½å°±æäºï¼è¿ä¹æ¯springbootææ¯ä¸ºä»ä¹ç°å¨è¿ä¹ç«çåå ï¼åspirngç¨åºç¸æ¯ï¼springbootç¨åºå¨å¼åçè¿ç¨ä¸­åä¸ªå±é¢åå·æä¼å¿\n\nç±»éç½®æä»¶                 spring   springboot\npomæä»¶ä¸­çåæ              æå·¥æ·»å      å¾éæ·»å \nweb3.0éç½®ç±»             æå·¥å¶ä½     æ \nspring/springmvcéç½®ç±»   æå·¥å¶ä½     æ \næ§å¶å¨                   æå·¥å¶ä½     æå·¥å¶ä½\n\nä¸å¥è¯æ»ç»ä¸ä¸å°±æ¯è½å°åå°±å°åï¼è½ä¸åå°±ä¸åï¼è¿å°±æ¯springbootææ¯ç»æä»¬å¸¦æ¥çå¥½å¤ï¼è¡äºï¼ç°å¨ä½ å°±å¯ä»¥å¨æåä¸åspringbootç¨åºäºï¼ççææå¦ä½ï¼æ¯å¦ççå¸®å©ä½ ç®åå¼åäº\n\næ»ç»\n\n 1. å¼åspringbootç¨åºå¯ä»¥æ ¹æ®åå¯¼è¿è¡èç½å¿«éå¶ä½\n 2. springbootç¨åºéè¦åºäºjdk8ä»¥ä¸çæ¬è¿è¡å¶ä½\n 3. springbootç¨åºä¸­éè¦ä½¿ç¨ä½ç§åè½éè¿å¾ééæ©ææ¯ï¼ä¹å¯ä»¥æå·¥æ·»å å¯¹åºçè¦ä½¿ç¨çææ¯ï¼åæè®²è§£ï¼\n 4. è¿è¡springbootç¨åºéè¿è¿è¡applicationç¨åºå¥å£è¿è¡\n\næè\n\nåé¢å¶ä½çæ¶åè¯´è¿ï¼è¿ä¸ªè¿ç¨å¿é¡»èç½æå¯ä»¥è¿è¡ï¼ä½æ¯æäºæ¶åä½ ä¼éå°ä¸äºè«åå¶å¦çé®é¢ï¼æ¯å¦åºäºideaå¼åæ¶ï¼ä½ ä¼åç°ä½ éç½®äºä¸äºåæ ï¼ç¶åmavenä¸è½½å¯¹åºä¸è¥¿çæ¶åæ­»æ¢æ­»æ¢çï¼çè³è¿ä¼å¤±è´¥ãå¶å®è¿åideaè¿æ¬¾ideå·¥å·æå³ï¼ä¸ä¸ideaä¸è½æ­£å¸¸è®¿é®ç½ç»çè¯ï¼æä»¬æ¯ä¸æ¯å°±æ æ³å¶ä½springbootç¨åºäºå¢ï¼å±ä»¬ä¸ä¸èåè¯´\n\n\n# jc-1-2.springbootå¥é¨ç¨åºå¶ä½ï¼äºï¼\n\nå¦æideaä¸è½æ­£å¸¸èç½ï¼è¿ä¸ªspringbootç¨åºå°±æ æ³å¶ä½äºåï¼å¼ä»ä¹ç©ç¬ï¼ä¸ä¸ideå·¥å·ååä¸ï¼é¾éspringbootææ¯è¿å¿é¡»åºäºideaæ¥åäºï¼è¿æ¯ä¸å¯è½çãå¼åspringbootç¨åºï¼å¯ä»¥ä¸åºäºä»»æçideå·¥å·è¿è¡ï¼å¶å®å¨springbootçå®ç½éé¢å°±å¯ä»¥ç´æ¥åå»ºspringbootç¨åº\n\nspringbootå®ç½åspringçå®ç½æ¯å¨ä¸èµ·çï¼é½æ¯ spring.io ãä½ å¯ä»¥éè¿é¡¹ç®ä¸çº§ä¸çº§çæ¾å°springbootææ¯çä»ç»é¡µï¼ç¶åå¨é¡µé¢ä¸­é´é¨ä½æ¾å°å¦ä¸åå®¹\n\næ­¥éª¤â ï¼ç¹å»spring initializråè¿å¥å°åå»ºspringbootç¨åºççé¢ä¸ï¼ä¸é¢æ¯è¾å¥ä¿¡æ¯çè¿ç¨ï¼ååé¢çä¸æ ·ï¼åªæ¯çé¢åäºèå·²ï¼æ ¹æ®èªå·±çè¦æ±ï¼å¨å·¦ä¾§éæ©å¯¹åºä¿¡æ¯åè¾å¥å¯¹åºçä¿¡æ¯å³å¯\n\næ­¥éª¤â¡ï¼å³ä¾§çadd dependenciesç¨äºéæ©ä½¿ç¨ä½ç§ææ¯ï¼åä¹åå¾éçspring webæ¯å¨ååä¸ä»¶äºï¼ä»ä»æ¯çé¢ä¸åèå·²ï¼ç¹å»åæå¼ç½é¡µççææ¯éæ©çé¢\n\næ­¥éª¤â¢ï¼ææä¿¡æ¯è®¾ç½®å®æ¯åï¼ç¹å»ä¸é¢å·¦ä¾§æé®ï¼çæä¸ä¸ªæä»¶å\n\n\n\næ­¥éª¤â£ï¼ä¿å­åå¾å°ä¸ä¸ªåç¼©æä»¶ï¼è¿ä¸ªæä»¶æå¼åå°±æ¯åå»ºçspringbootå·¥ç¨æä»¶å¤¹äº\n\n\n\næ­¥éª¤â¤ï¼è§£åç¼©æ­¤æä»¶åï¼å¾å°å·¥ç¨ç®å½ï¼å¨ideaä¸­å¯¼å¥å³å¯ä½¿ç¨ï¼åä¹ååå»ºçä¸è¥¿å®å¨ä¸æ ·ãä¸é¢å°±å¯ä»¥èªå·±åå»ºä¸ä¸ªcontrolleræµè¯ä¸ä¸æ¯å¦è½ç¨äºã\n\næ¸©é¦¨æç¤º\n\nåå°è¿éå¶å®å¯ä»¥éæ¼ä¸ä¸ªå°ç§å¯ï¼ideaå·¥å·ä¸­åå»ºspringbootå·¥ç¨å¶å®è¿æ¥çå°±æ¯springbootçå®ç½ï¼èµ°çå°±æ¯è¿ä¸ªè¿ç¨ï¼åªä¸è¿ideaæçé¢ç»æ´åäºä¸ä¸ï¼è¯»åå°äºspringå®ç½ç»çä¿¡æ¯ï¼ç¶åå±ç¤ºå°äºideaççé¢ä¸­èå·²ï¼ä¸ä¿¡ä½ å¯ä»¥ççä¸é¢è¿ä¸ªæ­¥éª¤\n\nä¸é¢æè¿°äºè¿æ¥çç½åï¼åççspringbootå®ç½åå»ºå·¥ç¨çurlå°åï¼æ¯ä¸æ¯ä¸æ ·ï¼\n\næ»ç»\n\n 1. æå¼springbootå®ç½ï¼éæ©quickstart your project\n\n 2. åå»ºå·¥ç¨\n    \n    å¹¶ä¿å­é¡¹ç®\n    \n    \n\n 3. è§£åé¡¹ç®ï¼éè¿ideå¯¼å¥é¡¹ç®\n\næè\n\nç°å¨åå»ºå·¥ç¨é çæ¯è®¿é®å½å¤çspringä¸»ç«ï¼ä½æ¯äºèç½è®¿é®æ¯å¯ä»¥æ§å¶çï¼å¦æä¸å¤©è¿ä¸ªç½ç«ä½ å¨å½åé½æ æ³è®¿é®äºï¼é£åé¢è¿ä¸¤ç§æ¹å¼é½æ æ³åå»ºspringbootå·¥ç¨äºï¼è¿æ¶ååè¯¥æä¹è§£å³è¿ä¸ªé®é¢å¢ï¼å±ä»¬ä¸ä¸èåè¯´\n\n\n# jc-1-3.springbootå¥é¨ç¨åºå¶ä½ï¼ä¸ï¼\n\nåé¢æå°ç½ç«å¦æè¢«éå¶è®¿é®äºï¼è¯¥æä¹åï¼å¼å¨èç­æ³ä¸æ³ï¼ä¸ç®¡æ¯æ¹å¼ä¸è¿æ¯æ¹å¼äºå¶å®é½æ¯èµ°çåä¸ä¸ªå°æ¹ï¼ä¹å°±æ¯springbootçå®ç½åå»ºçspringbootå·¥ç¨ï¼é£å¦ææä»¬å½åæè¿ä¹ä¸ä¸ªç½ç«è½æä¾è¿æ ·çåè½ï¼æ¯ä¸æ¯å°±è§£å³äºå¢ï¼å¿ç¶çåï¼æ°çé®é¢åæ¥äºï¼è¿ä¸ªå½åçç½ç«æåï¼è¿çæï¼é¿éæä¾äºä¸ä¸ªï¼ä¸é¢é®é¢å°±ç®åäºï¼ç½ååè¯æä»¬å°±okäºï¼æ²¡éï¼å°±æ¯è¿æ ·\n\nåå»ºå·¥ç¨æ¶ï¼åæ¢éæ©starteræå¡è·¯å¾ï¼ç¶åæå·¥æ¶å¥é¿éäºæä¾ç»æä»¬çä½¿ç¨å°åå³å¯ãå°åï¼http://start.aliyun.comæhttps://start.aliyun.com\n\n\n\né¿éä¸ºäºä¾¿äºèªå·±å¼åä½¿ç¨ï¼å æ­¤å¨ä¾èµåæ ä¸­æ·»å äºä¸äºé¿éç¸å³çææ¯ï¼ä¹æ¯ä¸ºäºæ¨å¹¿èªå·±çææ¯å§ï¼æä»¥å¨ä¾èµéæ©åè¡¨ä¸­ï¼ä½ æäºæ´å¤çéæ©ãä¸è¿æä¸ç¹éè¦è¯´æ¸æ¥ï¼é¿éäºå°åé»è®¤åå»ºçspringbootå·¥ç¨çæ¬æ¯2.4.1ï¼æä»¥å¦æä½ æ³æ´æ¢å¶ä»ççæ¬ï¼åå»ºé¡¹ç®åæå·¥ä¿®æ¹å³å¯ï¼å«å¿äºå·æ°ä¸ä¸ï¼å è½½æ°çæ¬ä¿¡æ¯\n\n\n\né¿éäºæä¾çå°åæ´ç¬¦åå½åå¼åèçä½¿ç¨ä¹ æ¯ï¼éé¢æä¸äºspringbootå®ç½ä¸æ²¡æç»åºçåæ ï¼å¤§å®¶å¯ä»¥å¥½å¥½çä¸çã\n\næ³¨æï¼é¿éäºæä¾çå·¥ç¨åå»ºå°ååå§åå®æ¯ååå®ç¨springbootå®ç½åå»ºåºæ¥çå·¥ç¨ç¥æåºå«ãä¸»è¦æ¯å¨éç½®æä»¶çå½¢å¼ä¸æåºå«ãè¿ä¸ªä¿¡æ¯å¨åé¢è®²è§£bootç¨åºçæ§è¡æµç¨æ¶ç»å¤§å®¶æ­æ\n\næ»ç»\n\n 1. éæ©startæ¥æºä¸ºèªå®ä¹url\n 2. è¾å¥é¿éäºstartå°å\n 3. åå»ºé¡¹ç®\n\næè\n\nåå°è¿éæä»¬å·²ç»æäºä¸ç§æ¹å¼åå»ºspringbootå·¥ç¨ï¼ä½æ¯æ¯ç§æ¹å¼é½è¦æ±ä½ å¿é¡»è½ä¸ç½æè½åå»ºå·¥ç¨ãåå¦æä¸å¤©ï¼ä½ å å¥äºä¸ä¸ªä¿å¯çº§å«æ¯è¾é«çé¡¹ç®ç»ï¼æ´ä¸ªé¡¹ç®ç»æ²¡æå¤ç½ï¼æ´ä¸ªäºææ¯ä¸æ¯å°±ä¸è½åäºå¢ï¼å±ä»¬ä¸ä¸èåè¯´\n\n\n# jc-1-4.springbootå¥é¨ç¨åºå¶ä½ï¼åï¼\n\nä¸è½ä¸ç½ï¼è¿æ³åå»ºspringbootå·¥ç¨ï¼è½ä¸è½åå¢ï¼è½åï¼ä½æ¯ä½ è¦åé®é®èªå·±èç½åä¸èç½å°åºå·®å«æ¯ä»ä¹ï¼è¿ä¸ªä¿¡æ¯æ¾å°ä»¥åï¼ä½ å°±åç°ï¼ä½ æèç½è¦å¹²çäºæé½æååå¤å¥½ï¼å°±æ éèç½äºã\n\nèç½åä»ä¹å¢ï¼é¦åspringbootå·¥ç¨ä¹æ¯åºäºmavenæå»ºçï¼èmavenå·¥ç¨å½ä½¿ç¨äºä¸äºèªå·±éè¦ä½¿ç¨åä¸å­å¨çä¸è¥¿æ¶ï¼å°±è¦å»ä¸è½½ãå¶å®springbootå·¥ç¨åå»ºçæ¶åå°±æ¯å»ä¸è½½ä¸äºå¿è¦çç»ä»¶çãä½ æè¿äºä¸è¥¿ç»æååå¤å¥½å°±å¯ä»¥äºåï¼æ¯çï¼å°±æ¯è¿æ ·ã\n\nä¸é¢å±ä»¬å°±ä¸èµ·æå·¥åå»ºä¸ä¸ªspringbootå·¥ç¨\n\næ­¥éª¤â ï¼åå»ºå·¥ç¨æ¶ï¼éæ©æå·¥åå»ºmavenå·¥ç¨\n\næ­¥éª¤â¡ï¼åç§æ åspringbootå·¥ç¨çpomæä»¶ï¼ä¹¦åèªå·±çpomæä»¶å³å¯\n\n<?xml version="1.0" encoding="utf-8"?>\n<project xmlns="http://maven.apache.org/pom/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n         xsi:schemalocation="http://maven.apache.org/pom/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelversion>4.0.0</modelversion>\n\n    <parent>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-parent</artifactid>\n        <version>2.5.4</version>\n    </parent>\n\n    <groupid>com.itheima</groupid>\n    <artifactid>springboot_01_04_quickstart</artifactid>\n    <version>1.0-snapshot</version>\n\n    <properties>\n        <maven.compiler.source>8</maven.compiler.source>\n        <maven.compiler.target>8</maven.compiler.target>\n    </properties>\n\n    <dependencies>\n        <dependency>\n            <groupid>org.springframework.boot</groupid>\n            <artifactid>spring-boot-starter-web</artifactid>\n        </dependency>\n    </dependencies>\n\n</project>\n\n\nç¨ä»ä¹åä»ä¹ï¼ä¸ç¨çé½å¯ä»¥ä¸åãå½ç¶ï¼ç°å¨å°ä¼ä¼´ä»¬å¯è½è¿ä¸ç¥éç¨ä»ä¹åä¸ç¨ä»ä¹ï¼æç®åçå°±æ¯å¤å¶ç²è´´äºï¼éçåé¢çå­¦ä¹ ï¼ä½ å°±ç¥éåªäºå¯ä»¥çç¥äºãæ­¤å¤æå åäºä¸äºç®åä¸æ¯å¿é¡»çä¸è¥¿ï¼ä¸æ ·è½ç¨\n\næ­¥éª¤â¢ï¼ä¹åè¿è¡springbootå·¥ç¨éè¦ä¸ä¸ªç±»ï¼è¿ä¸ªç¼ºä¸äºï¼èªå·±æåä¸ä¸ªå°±è¡äºï¼å»ºè®®æç§ä¹åçç®å½ç»ææ¥åå»ºï¼åå«ç©è±æ ·ï¼åå­¦èµ°åå­¦è·ãç±»åå¯ä»¥èªå®ä¹ï¼å³èçåç§°ä¸åä¿®æ¹å³å¯\n\n@springbootapplication\npublic class application {\n    public static void main(string[] args) {\n        springapplication.run(application.class);\n    }\n}\n\n\nå³æ³¨ï¼ç±»ä¸é¢çæ³¨è§£@springbootapplicationåä¸å«ä¸¢äºï¼è¿ä¸ªæ¯æ ¸å¿ï¼åé¢åä»ç»\n\nå³æ³¨ï¼ç±»åå¯ä»¥èªå®ä¹ï¼åªè¦ä¿éä¸é¢ä»£ç ä¸­ä½¿ç¨çç±»ååä½ èªå·±å®ä¹çåç§°ä¸æ ·å³å¯ï¼ä¹å°±æ¯runæ¹æ³ä¸­çé£ä¸ªclasså¯¹åºçåç§°\n\næ­¥éª¤â£ï¼ä¸é¢å°±å¯ä»¥èªå·±åå»ºä¸ä¸ªcontrolleræµè¯ä¸ä¸æ¯å¦è½ç¨äºï¼åä¹åæ²¡æå·®å«äº\n\nçå°è¿éå¶å®åºè¯¥è½å¤æ³æç½äºï¼éè¿åå¯¼æèç½ç«åå»ºçspringbootå·¥ç¨å¶å®å°±æ¯å¸®ä½ åäºä¸äºä»£ç ï¼èç°å¨æ¯èªå·±æåï¼åçåå®¹é½ä¸æ ·ï¼ä»æ­¤èå·²ã\n\næ¸©é¦¨æç¤º\n\nå¦æä½ çè®¡ç®æºä¸ä»æ¥æ²¡æåå»ºæåè¿springbootå·¥ç¨ï¼èªç¶ä¹å°±æ²¡æä¸è½½è¿springbootå¯¹åºçåæ ï¼é£ç¨æååå»ºçæ¹å¼å¨ä¸èç½çæåµä¸è¯å®è¯¥æ¯ä¸è½ç¨çãæè°æåï¼å¶å®å°±æ¯èªå·±åå«äººå¸®ä½ çæçä¸è¥¿ï¼ä½æ¯å¼ç¨çåæ å¯¹åºçèµæºå¿é¡»ä¿émavenä»åºéé¢ææè¡ï¼å¦ææ²¡æï¼è¿æ¯è¦å»ä¸è½½ç\n\næ»ç»\n\n 1. åå»ºæ®émavenå·¥ç¨\n 2. ç»§æ¿spring-boot-starter-parent\n 3. æ·»å ä¾èµspring-boot-starter-web\n 4. å¶ä½å¼å¯¼ç±»application\n\nå°è¿éå¶å®å­¦ä¹ äº4ç§åå»ºspringbootå·¥ç¨çæ¹å¼ï¼å¶å®æ¬è´¨æ¯ä¸æ ·çï¼å°±æ¯æ ¹æ®springbootå·¥ç¨çæä»¶æ ¼å¼è¦æ±ï¼éè¿ä¸åæ¶æ¹å¼çææèæåå¾å°å¯¹åºçæä»¶ï¼ææå®å¨ä¸æ ·ã\n\n# æä½ ä¸æï¼å¨ideaä¸­éèæå®æä»¶/æä»¶å¤¹\n\nåå»ºspringbootå·¥ç¨æ¶ï¼ä½¿ç¨springbootåå¯¼ä¹å¥½ï¼é¿éäºä¹ç½¢ï¼å¶å®é½æ¯ä¸ºäºä¸ä¸ªç®çï¼å¾å°ä¸ä¸ªæ åçspringbootå·¥ç¨æä»¶ç»æãè¿ä¸ªæ¶åå°±ææ°çé®é¢åºç°äºï¼æ åçå·¥ç¨ç»æä¸­åå«äºä¸äºæªç¥çæä»¶å¤¹ï¼å¨å¼åçæ¶åçèµ·æ¥ç¹å«å«æ­ï¼è¿ä¸èå°±æ¥è¯´è¯´è¿äºæä»¶æä¹å¤çã\n\nå¤çæ¹æ¡æ å¤ä¹ä¸¤ç§ï¼å¦æä½ å¯¹æ¯ä¸ä¸ªæä»¶/ç®å½è¶³å¤äºè§£ï¼æ²¡æç¨çå®å¨å¯ä»¥å é¤æï¼æèä¸å é¤ï¼ä½æ¯ççå«æ­ï¼å°±è®¾ç½®æä»¶ä¸ºçä¸å°å°±è¡äºãå é¤ä¸è¯´äºï¼ç´æ¥deleteæå°±å¥½äºï¼è¿ä¸èè¯´è¯´å¦ä½éèæå®çæä»¶ææä»¶å¤¹ä¿¡æ¯ã\n\næ¢ç¶æ¯å¨ideaä¸åéèåè½ï¼è¯å®é¶å±äºideaçè®¾ç½®ï¼è®¾ç½®æ¹å¼å¦ä¸ã\n\næ­¥éª¤â ï¼æå¼è®¾ç½®ï¼ãfilesãâãsettingsã\n\næ­¥éª¤â¡ï¼æå¼æä»¶ç±»åè®¾ç½®çé¢ï¼ãeditorãâãfile typesãâãignored files and foldersãï¼å¿½ç¥æä»¶ææä»¶å¤¹æ¾ç¤º\n\næ­¥éª¤â¢ï¼æ·»å ä½ è¦éèçæä»¶åç§°ææä»¶å¤¹åç§°ï¼å¯ä»¥ä½¿ç¨*å·ééç¬¦ï¼è¡¨ç¤ºä»»æï¼è®¾ç½®å®æ¯å³å¯(è¿éå°±æ.mvnæä»¶å¤¹ç¹å»applyä¹åå°±è¢«éèäº)\n\n\n\nå°è¿éå°±åå®äºï¼å¶å®å°±æ¯ideaçä¸ä¸ªå°åè½\n\næ»ç»\n\n 1. ideaä¸­éèæå®æä»¶ææå®ç±»åæä»¶\n    1. ãfilesãâãsettingsã\n    2. ãeditorãâãfile typesãâãignored files and foldersã\n    3. è¾å¥è¦éèçåç§°ï¼æ¯æ*å·ééç¬¦\n    4. åè½¦ç¡®è®¤æ·»å \n\n\n# jc-1-5.springbootç®ä»\n\nå¥é¨æ¡ä¾åå®äºï¼è¿ä¸ªæ¶ååå¿ä¸ä¸å±ä»¬ä¹åè¯´çspringbootçåè½æ¯ä»ä¹è¿è®°å¾åï¼å éspringç¨åºçå¼åï¼ç°å¨æ¯å¦æ·±æä½ä¼ï¼åæ¥çspringbootææ¯çè®¾è®¡åè¡·å°±å¾å®¹æçè§£äºã\n\nspringbootæ¯ç±pivotalå¢éæä¾çå¨æ°æ¡æ¶ï¼å¶è®¾è®¡ç®çæ¯ç¨æ¥ç®åspringåºç¨çåå§æ­å»ºä»¥åå¼åè¿ç¨ã\n\né½ç®åäºäºåªäºä¸è¥¿å¢ï¼å¶å®å°±æ¯éå¯¹åå§çspringç¨åºå¶ä½çä¸¤ä¸ªæ¹é¢è¿è¡äºç®åï¼\n\n * springç¨åºç¼ºç¹\n   * ä¾èµè®¾ç½®ç¹ç\n     * ä»¥ååspringç¨åºï¼ä½¿ç¨çææ¯é½è¦èªå·±ä¸ä¸ªä¸ä¸ªçåï¼ç°å¨ä¸éè¦äºï¼å¦æåè¿åå§springmvcç¨åºçå°ä¼ä¼´åºè¯¥ç¥éï¼åspringmvcç¨åºï¼æåºç¡çspring-webåspring-webmvcè¿ä¸¤ä¸ªåæ æ¶å¿é¡»çï¼å°±è¿è¿ä¸åå«ä½ ç¨jsonåç­ç­è¿äºåæ ï¼ç°å¨å¢ï¼ä¸ä¸ªåæ æå®é¢\n   * éç½®ç¹ç\n     * ä»¥ååéç½®ç±»æèéç½®æä»¶ï¼ç¶åç¨ä»ä¹ä¸è¥¿å°±è¦èªå·±åå è½½beanè¿äºä¸è¥¿ï¼ç°å¨å¢ï¼ä»ä¹é½æ²¡åï¼ç§æ ·è½ç¨\n\n> åé¡¾\n> \n> éè¿ä¸é¢ä¸¤ä¸ªæ¹é¢çå®ä½ï¼æä»¬å¯ä»¥äº§çä¸¤ä¸ªæ¨¡ç³çæ¦å¿µï¼\n> \n>  1. springbootå¼åå¢éè®¤ä¸ºåå§çspringç¨åºåå§æ­å»ºçæ¶åå¯è½æäºç¹çï¼è¿ä¸ªè¿ç¨æ¯å¯ä»¥ç®åçï¼é£åå§çspringç¨åºåå§æ­å»ºè¿ç¨é½åå«åªäºä¸è¥¿äºå¢ï¼ä¸ºä»ä¹è§å¾ç¹çå¢ï¼æåºæ¬çspringç¨åºè³å°æä¸ä¸ªéç½®æä»¶æéç½®ç±»ï¼ç¨æ¥æè¿°springçéç½®ä¿¡æ¯ï¼è«éè¿ä¸ªæä»¶é½å¯ä»¥ä¸åï¼æ­¤å¤ç°å¨ä¼ä¸çº§å¼åä½¿ç¨springå¤§é¨åæåµä¸æ¯åwebå¼åï¼å¦æåwebå¼åçè¯ï¼è¿è¦å¨å è½½webç¯å¢æ¶å è½½æ¶å è½½æå®çspringéç½®ï¼è¿é½æ¯æåºæ¬çéæ±äºï¼ä¸åçè¯æä¹ç¥éå è½½åªä¸ªéç½®æä»¶/éç½®ç±»å¢ï¼é£æ¢äºspringbootææ¯ä»¥åå¢ï¼è¿äºè¿è¦ååï¼è°åºç¨åæ­æï¼ååä¸ªå³å­\n>  2. springbootå¼åå¢éè®¤ä¸ºåå§çspringç¨åºå¼åçè¿ç¨ä¹æäºç¹çï¼è¿ä¸ªè¿ç¨ä»ç¶å¯ä»¥ç®åãå¼åè¿ç¨æ å¤ä¹ä½¿ç¨ä»ä¹ææ¯ï¼å¯¼å¥å¯¹åºçjaråï¼æåæ ï¼ç¶åå°è¿ä¸ªææ¯çæ ¸å¿å¯¹è±¡äº¤ç»springå®¹å¨ç®¡çï¼ä¹å°±æ¯éç½®æspringå®¹å¨ç®¡æ§çbeanå°±å¯ä»¥äºãè¿é½æ¯åºæ¬æä½åï¼é¾éè¿äºä¸è¥¿springbootä¹è½å¸®æä»¬ç®åï¼\n\nåæ¥ççåé¢æåºçä¸¤ä¸ªé®é¢ï¼å·²ç»æç­æ¡äºï¼é½ç®åäºï¼é½ä¸ç¨åäºï¼è¿å°±æ¯springbootç»æä»¬å¸¦æ¥çå¥½å¤ãè¿äºç®åæä½å¨springbootä¸­æä¸ä¸çç¨è¯­ï¼ä¹æ¯springbootç¨åºçæ ¸å¿åè½åä¼ç¹ï¼\n\n * èµ·æ­¥ä¾èµï¼ç®åä¾èµéç½®ï¼\n   * ä¾èµéç½®çä¹¦åç®åå°±æ¯é è¿ä¸ªèµ·æ­¥ä¾èµè¾¾æç\n * èªå¨éç½®ï¼ç®åå¸¸ç¨å·¥ç¨ç¸å³éç½®ï¼\n   * éç½®è¿äºç¹çï¼ä½¿ç¨èªå¨éç½®å°±å¯ä»¥åååºçç®åï¼ä½æ¯åé¨è¿æ¯å¾å¤æçï¼åé¢å·ä½å±å¼è¯´\n * è¾å©åè½ï¼åç½®æå¡å¨ï¼â¦â¦ï¼\n   * é¤äºä¸é¢çåè½ï¼å¶å®springbootç¨åºè¿æå¶ä»çä¸äºä¼å¿ï¼æ¯å¦æä»¬æ²¡æéç½®tomcatæå¡å¨ï¼ä½æ¯è½æ­£å¸¸è¿è¡ï¼è¿æ¯springbootç¨åºçä¸ä¸ªå¯ä»¥æç¥å°çåè½ï¼ä¹æ¯springbootçè¾å©åè½ä¹ä¸ãä¸ä¸ªè¾å©åè½é½è½åçè¿ä¹6ï¼å¤ªçäº\n\nä¸é¢ç»åå¥é¨ç¨åºæ¥è¯´è¯´è¿äºç®åæä½é½å¨åªäºæ¹é¢è¿è¡ä½ç°çï¼ä¸å±åä¸º4ä¸ªæ¹é¢\n\n * parent\n * starter\n * å¼å¯¼ç±»\n * ååµtomcat\n\n# parent\n\nspringbootå³æ³¨å°å¼åèå¨è¿è¡å¼åæ¶ï¼å¾å¾å¯¹ä¾èµçæ¬çéæ©å·æåºå®çæ­éæ ¼å¼ï¼å¹¶ä¸è¿äºä¾èµçæ¬çéæ©è¿ä¸è½ä¹±æ­éãæ¯å¦aææ¯ç2.0çä¸bææ¯ç3.5çå¯ä»¥åä½å¨ä¸èµ·ï¼ä½æ¯åbææ¯ç3.7çåå¹¶ä½¿ç¨æ¶å°±æå²çªãå¶å®å¾å¤å¼åèé½ä¸ç´æ³åä¸ä»¶äºæï¼å°±æ¯å°åç§åæ ·çææ¯éåä½¿ç¨çå¸¸è§ä¾èµçæ¬è¿è¡æ¶éæ´çï¼å¶ä½åºäºæåççä¾èµçæ¬éç½®æ¹æ¡ï¼è¿æ ·ä½¿ç¨èµ·æ¥å°±æ¹ä¾¿å¤äºã\n\nspringbootä¸çè¿ç§æåµso easyåï¼äºæ¯å°ææçææ¯çæ¬çå¸¸è§ä½¿ç¨æ¹æ¡é½ç»å¼åèæ´çäºåºæ¥ï¼ä»¥åå¼åèä½¿ç¨æ¶ç´æ¥ç¨å®æä¾ççæ¬æ¹æ¡ï¼å°±ä¸ç¨æå¿å²çªé®é¢äºï¼ç¸å½äºspringbootåäºæ æ°ä¸ªææ¯çæ¬æ­éçåè¡¨ï¼è¿ä¸ªææ¯æ­éåè¡¨çåå­å«åparentã\n\nparentèªèº«å·æå¾å¤ä¸ªçæ¬ï¼æ¯ä¸ªparentçæ¬ä¸­åå«æå ç¾ä¸ªå¶ä»ææ¯ççæ¬å·ï¼ä¸åçparenté´ä½¿ç¨çåç§ææ¯ççæ¬å·æå¯è½ä¼åçååãå½å¼åèä½¿ç¨æäºææ¯æ¶ï¼ç´æ¥ä½¿ç¨springbootæä¾çparentå°±è¡äºï¼ç±parentå¸®å©å¼åèç»ä¸çè¿è¡åç§ææ¯ççæ¬ç®¡ç\n\næ¯å¦ä½ ç°å¨è¦ä½¿ç¨springéåmybatiså¼åï¼æ²¡æparentä¹åæä¹åå¢ï¼éä¸ªspringççæ¬ï¼åéä¸ªmybatisççæ¬ï¼åæè¿äºææ¯ä½¿ç¨æ¶å³èçå¶ä»ææ¯ççæ¬éä¸ç¡®å®ä¸æ¥ãå½ä½ springççæ¬åçååéè¦åæ¢æ¶ï¼ä½ çmybatisçæ¬æå¯è½ä¹è¦è·çåæ¢ï¼å³èææ¯å¢ï¼å¯è½é½è¦åæ¢ï¼èä¸åæ¢åè¿å¯è½åºç°é®é¢ãç°å¨è¿ä¸åå·¥ä½é½å¯ä»¥äº¤ç»parentæ¥åäºãä½ æ éå³æ³¨è¿äºææ¯é´ççæ¬å²çªé®é¢ï¼ä½ åªéè¦å³æ³¨ä½ ç¨ä»ä¹ææ¯å°±è¡äºï¼å²çªé®é¢ç±parentè´è´£å¤çã\n\næäººå¯è½ä¼æåºæ¥ï¼ä¸ä¸parentç»æå¯¼å¥äºä¸äºæä¸æ³ä½¿ç¨çä¾èµæä¹åï¼è®°æ¸æ¥ï¼è¿ä¸ç¹å¾å³é®ï¼parentä»ä»å¸®æä»¬è¿è¡çæ¬ç®¡çï¼å®ä¸è´è´£å¸®ä½ å¯¼å¥åæ ï¼è¯´ç½äºç¨ä»ä¹è¿æ¯ä½ èªå·±å®ï¼åªä¸è¿çæ¬ä¸éè¦ä½ ç®¡çäºãæ´ä½ä¸æ¥è¯´ï¼ä½¿ç¨parentå¯ä»¥å¸®å©å¼åèè¿è¡çæ¬çç»ä¸ç®¡ç\n\nå³æ³¨ï¼parentå®ä¹åºæ¥ä»¥åï¼å¹¶ä¸æ¯ç´æ¥ä½¿ç¨çï¼ä»ä»ç»äºå¼åèä¸ä¸ªè¯´æä¹¦ï¼ä½æ¯å¹¶æ²¡æå®éä½¿ç¨ï¼è¿ä¸ªä¸å®è¦ç¡®è®¤æ¸æ¥\n\né£springbootåæ¯å¦ä½åå°è¿ä¸ç¹çå¢ï¼å¯ä»¥æ¥éspringbootçéç½®æºç ï¼çå°è¿äºå®ä¹\n\n * é¡¹ç®ä¸­çpom.xmlä¸­ç»§æ¿äºä¸ä¸ªåæ \n\n<parent>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-parent</artifactid>\n    <version>2.5.4</version>\n</parent>\n\n\n * æå¼åå¯ä»¥æ¥éå°å¶ä¸­åç»§æ¿äºä¸ä¸ªåæ \n\n<parent>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-dependencies</artifactid>\n    <version>2.5.4</version>\n</parent>\n\n\n * è¿ä¸ªåæ ä¸­å®ä¹äºä¸¤ç»ä¿¡æ¯ï¼ç¬¬ä¸ç»æ¯åå¼åæ ·çä¾èµçæ¬å·å±æ§ï¼ä¸é¢ååºä¾èµçæ¬å±æ§çå±é¨ï¼å¯ä»¥ççåºæ¥ï¼å®ä¹äºè¥å¹²ä¸ªææ¯çä¾èµçæ¬å·\n\n<properties>\n    <activemq.version>5.16.3</activemq.version>\n    <aspectj.version>1.9.7</aspectj.version>\n    <assertj.version>3.19.0</assertj.version>\n    <commons-codec.version>1.15</commons-codec.version>\n    <commons-dbcp2.version>2.8.0</commons-dbcp2.version>\n    <commons-lang3.version>3.12.0</commons-lang3.version>\n    <commons-pool.version>1.6</commons-pool.version>\n    <commons-pool2.version>2.9.0</commons-pool2.version>\n    <h2.version>1.4.200</h2.version>\n    <hibernate.version>5.4.32.final</hibernate.version>\n    <hibernate-validator.version>6.2.0.final</hibernate-validator.version>\n    <httpclient.version>4.5.13</httpclient.version>\n    <jackson-bom.version>2.12.4</jackson-bom.version>\n    <javax-jms.version>2.0.1</javax-jms.version>\n    <javax-json.version>1.1.4</javax-json.version>\n    <javax-websocket.version>1.1</javax-websocket.version>\n    <jetty-el.version>9.0.48</jetty-el.version>\n    <junit.version>4.13.2</junit.version>\n</properties>\n\n\nç¬¬äºç»æ¯åå¼åæ ·ççä¾èµåæ ä¿¡æ¯ï¼å¯ä»¥çåºä¾èµåæ å®ä¹ä¸­æ²¡æå·ä½çä¾èµçæ¬å·ï¼èæ¯å¼ç¨äºç¬¬ä¸ç»ä¿¡æ¯ä¸­å®ä¹çä¾èµçæ¬å±æ§å¼\n\n<dependencymanagement>\n    <dependencies>\n        <dependency>\n            <groupid>org.hibernate</groupid>\n            <artifactid>hibernate-core</artifactid>\n            <version>${hibernate.version}</version>\n        </dependency>\n        <dependency>\n            <groupid>junit</groupid>\n            <artifactid>junit</artifactid>\n            <version>${junit.version}</version>\n        </dependency>\n    </dependencies>\n</dependencymanagement>\n\n\nå³æ³¨ï¼ä¸é¢çä¾èµåæ å®ä¹æ¯åºç°å¨<dependencymanagement>æ ç­¾ä¸­çï¼å¶å®æ¯å¯¹å¼ç¨åæ çä¾èµç®¡çï¼å¹¶ä¸æ¯å®éä½¿ç¨çåæ ãå æ­¤å½ä½ çé¡¹ç®ä¸­ç»§æ¿äºè¿ç»parentä¿¡æ¯åï¼å¨ä¸ä½¿ç¨å¯¹åºåæ çæåµä¸ï¼åé¢çè¿ç»å®ä¹æ¯ä¸ä¼å·ä½å¯¼å¥æä¸ªä¾èµç\n\nå³æ³¨ï¼å ä¸ºå¨mavenä¸­ç»§æ¿æºä¼åªæä¸æ¬¡ï¼ä¸è¿°ç»§æ¿çæ ¼å¼è¿å¯ä»¥åæ¢æå¯¼å¥çå½¢å¼è¿è¡ï¼å¹¶ä¸å¨é¿éäºçstarteråå»ºå·¥ç¨æ¶å°±ä½¿ç¨äºæ­¤ç§å½¢å¼\n\n<dependencymanagement>\n    <dependencies>\n        <dependency>\n            <groupid>org.springframework.boot</groupid>\n            <artifactid>spring-boot-dependencies</artifactid>\n            <version>${spring-boot.version}</version>\n            <type>pom</type>\n            <scope>import</scope>\n        </dependency>\n    </dependencies>\n</dependencymanagement>\n\n\næ»ç»\n\n 1. å¼åspringbootç¨åºè¦ç»§æ¿spring-boot-starter-parent\n 2. spring-boot-starter-parentä¸­å®ä¹äºè¥å¹²ä¸ªä¾èµç®¡ç\n 3. ç»§æ¿parentæ¨¡åå¯ä»¥é¿åå¤ä¸ªä¾èµä½¿ç¨ç¸åææ¯æ¶åºç°ä¾èµçæ¬å²çª\n 4. ç»§æ¿parentçå½¢å¼ä¹å¯ä»¥éç¨å¼å¥ä¾èµçå½¢å¼å®ç°ææ\n 5. å¦æä¸æå®çæ¬ï¼springbootéé¢ä¹ä¼é»è®¤æ ¹æ®parentè°ç¨æåéççæ¬ï¼è¿ä¸ªæ¯æèªå·±æ·»å çï¼\n\næè\n\nparentä¸­å®ä¹äºè¥å¹²ä¸ªä¾èµçæ¬ç®¡çï¼ä½æ¯ä¹æ²¡æä½¿ç¨ï¼é£è¿ä¸ªè®¾å®ä¹å°±ä¸çæåï¼ç©¶ç«è°å¨ä½¿ç¨è¿äºå®ä¹å¢ï¼\n\n# starter\n\nspringbootå³æ³¨å°å¼åèå¨å®éå¼åæ¶ï¼å¯¹äºä¾èµåæ çä½¿ç¨å¾å¾é½æä¸äºåºå®çç»åæ¹å¼ï¼æ¯å¦ä½¿ç¨spring-webmvcå°±ä¸å®è¦ä½¿ç¨spring-webãæ¯æ¬¡é½è¦åºå®æ­éçåï¼éå¸¸ç¹çï¼èä¸æ ¼å¼åºå®ï¼æ²¡æä»»ä½ææ¯å«éã\n\nspringbootä¸çè¿ç§æåµï¼çæ¥éè¦ç»å¼åèå¸¦æ¥ä¸äºå¸®å©äºãå®æï¼æææçææ¯ä½¿ç¨çåºå®æ­éæ ¼å¼é½ç»å¼ååºæ¥ï¼ä»¥åä½ ç¨æä¸ªææ¯ï¼å°±ä¸ç¨ä¸æ¬¡åä¸å ä¾èµäºï¼è¿å®¹æåéï¼æç»ä½ åä¸ä¸ªä¸è¥¿ï¼ä»£è¡¨ä¸å ä¸è¥¿ï¼å¼åèä½¿ç¨çæ¶åï¼ç´æ¥ç¨æåå¥½çè¿ä¸ªä¸è¥¿å°±å¥½äºï¼å¯¹äºè¿æ ·çåºå®ææ¯æ­éï¼springbootç»å®èµ·äºä¸ªåå­å«åstarterã\n\nstarterå®ä¹äºä½¿ç¨æç§ææ¯æ¶å¯¹äºä¾èµçåºå®æ­éæ ¼å¼ï¼ä¹æ¯ä¸ç§æä½³è§£å³æ¹æ¡ï¼ä½¿ç¨starterå¯ä»¥å¸®å©å¼åèåå°ä¾èµéç½®\n\nè¿ä¸ªä¸è¥¿å¶å®å¨å¥é¨æ¡ä¾éé¢å·²ç»ä½¿ç¨è¿äºï¼å¥é¨æ¡ä¾ä¸­çwebåè½å°±æ¯ä½¿ç¨è¿ç§æ¹å¼æ·»å ä¾èµçãå¯ä»¥æ¥éspringbootçéç½®æºç ï¼çå°è¿äºå®ä¹\n\n * é¡¹ç®ä¸­çpom.xmlå®ä¹äºä½¿ç¨springmvcææ¯ï¼ä½æ¯å¹¶æ²¡æåspringmvcçåæ ï¼èæ¯æ·»å äºä¸ä¸ªåå­ä¸­åå«starterçä¾èµ\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-web</artifactid>\n</dependency>\n\n\n * å¨spring-boot-starter-webä¸­åå®ä¹äºè¥å¹²ä¸ªå·ä½ä¾èµçåæ \n\n<dependencies>\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter</artifactid>\n        <version>2.5.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-json</artifactid>\n        <version>2.5.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-tomcat</artifactid>\n        <version>2.5.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupid>org.springframework</groupid>\n        <artifactid>spring-web</artifactid>\n        <version>5.3.9</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupid>org.springframework</groupid>\n        <artifactid>spring-webmvc</artifactid>\n        <version>5.3.9</version>\n        <scope>compile</scope>\n    </dependency>\n</dependencies>\n\n\nä¹åæå°è¿å¼åspringmvcç¨åºéè¦å¯¼å¥spring-webmvcçåæ åspringæ´åwebå¼åçåæ ï¼å°±æ¯ä¸é¢è¿ç»åæ ä¸­çæåä¸¤ä¸ªäºã\n\nä½æ¯æä»¬åç°é¤äºè¿ä¸¤ä¸ªè¿æå¶ä»çï¼æ¯å¦ç¬¬äºä¸ªï¼å«åspring-boot-starter-jsonãçåç§°å°±ç¥éï¼è¿ä¸ªæ¯ä¸jsonæå³çåæ äºï¼ä½æ¯çåå­åç°åæåä¸¤ä¸ªåä¸å¤ªä¸æ ·ï¼å®çåå­ä¸­ä¹æstarterï¼æå¼ççéé¢æä»ä¹ï¼\n\n<dependencies>\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter</artifactid>\n        <version>2.5.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupid>org.springframework</groupid>\n        <artifactid>spring-web</artifactid>\n        <version>5.3.9</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupid>com.fasterxml.jackson.core</groupid>\n        <artifactid>jackson-databind</artifactid>\n        <version>2.12.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupid>com.fasterxml.jackson.datatype</groupid>\n        <artifactid>jackson-datatype-jdk8</artifactid>\n        <version>2.12.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupid>com.fasterxml.jackson.datatype</groupid>\n        <artifactid>jackson-datatype-jsr310</artifactid>\n        <version>2.12.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupid>com.fasterxml.jackson.module</groupid>\n        <artifactid>jackson-module-parameter-names</artifactid>\n        <version>2.12.4</version>\n        <scope>compile</scope>\n    </dependency>\n</dependencies>\n\n\næä»¬å¯ä»¥åç°ï¼è¿ä¸ªstarterä¸­ååå«äºè¥å¹²ä¸ªåæ ï¼å¶å®å°±æ¯ä½¿ç¨springmvcå¼åéå¸¸é½ä¼ä½¿ç¨å°jsonï¼ä½¿ç¨jsonåç¦»ä¸å¼è¿éé¢å®ä¹çè¿äºåæ ï¼çæ¥è¿çæ¯æ¹ä¾¿ï¼springbootææä»¬å¼åä¸­ä½¿ç¨çä¸è¥¿è½ç¨å°çé½ç»æååå¥½äºãä½ ä»ç»çå®ä¼åç°ï¼éé¢æä¸äºä½ æ²¡ç¨è¿çãçç¡®ä¼åºç°è¿ç§è¿éå¯¼å¥çå¯è½æ§ï¼æ²¡å³ç³»ï¼å¯ä»¥éè¿mavenä¸­çæé¤ä¾èµåé¤æä¸é¨åãä¸è¿ä½ ä¸ç®¡å®ä¹æ²¡äºï¼å¤§ä¸äºå°±æ¯è¿éå¯¼å¥åã\n\nå°è¿éåºæ¬ä¸å¾å°äºä¸ä¸ªä¿¡æ¯ï¼ä½¿ç¨starterå¯ä»¥å¸®å¼åèå¿«ééç½®ä¾èµå³ç³»ãä»¥ååä¾èµ3ä¸ªåæ çï¼ç°å¨åå¯¼å¥ä¸ä¸ªå°±æå®äºï¼å°±æ¯å éä¾èµéç½®çã\n\nstarterä¸parentçåºå«\n\næ¦æ¦è§è§ä¸­æè§starterä¸parentå¥½åé½æ¯å¸®å©æä»¬ç®åéç½®çï¼ä½æ¯åè½åä¸ä¸æ ·ï¼æ¢³çä¸ä¸ã\n\nstarteræ¯ä¸ä¸ªåæ ä¸­å®äºè¥å¹²ä¸ªåæ ï¼ä»¥ååå¤ä¸ªçï¼ç°å¨åä¸ä¸ªï¼æ¯ç¨æ¥åå°ä¾èµéç½®çä¹¦åéç\n\nparentæ¯å®ä¹äºå ç¾ä¸ªä¾èµçæ¬å·ï¼ä»¥ååä¾èµéè¦èªå·±æå·¥æ§å¶çæ¬ï¼ç°å¨ç±springbootç»ä¸ç®¡çï¼è¿æ ·å°±ä¸å­å¨çæ¬å²çªäºï¼æ¯ç¨æ¥åå°ä¾èµå²çªç\n\nå®éå¼ååºç¨æ¹å¼\n\n * å®éå¼åä¸­å¦æéè¦ç¨ä»ä¹ææ¯ï¼åå»æ¾ææ²¡æè¿ä¸ªææ¯å¯¹åºçstarter\n   \n   * å¦ææå¯¹åºçstarterï¼ç´æ¥åstarterï¼èä¸æ éæå®çæ¬ï¼çæ¬ç±parentæä¾\n   * å¦ææ²¡æå¯¹åºçstarterï¼æååæ å³å¯\n\n * å®éå¼åä¸­å¦æåç°åæ åºç°äºå²çªç°è±¡ï¼ç¡®è®¤ä½ è¦ä½¿ç¨çå¯è¡ççæ¬å·ï¼ä½¿ç¨æå·¥ä¹¦åçæ¹å¼æ·»å å¯¹åºä¾èµï¼è¦çspringbootæä¾ç»æä»¬çéç½®ç®¡ç\n   \n   * æ¹å¼ä¸ï¼ç´æ¥ååæ \n   * æ¹å¼äºï¼è¦ç<properties>ä¸­å®ä¹ççæ¬å·ï¼å°±æ¯ä¸é¢è¿å ä¸è¥¿äºï¼åªä¸ªå²çªäºè¦çåªä¸ªå°±okäº\n   \n   <properties>\n       <activemq.version>5.16.3</activemq.version>\n       <aspectj.version>1.9.7</aspectj.version>\n       <assertj.version>3.19.0</assertj.version>\n       <commons-codec.version>1.15</commons-codec.version>\n       <commons-dbcp2.version>2.8.0</commons-dbcp2.version>\n       <commons-lang3.version>3.12.0</commons-lang3.version>\n       <commons-pool.version>1.6</commons-pool.version>\n       <commons-pool2.version>2.9.0</commons-pool2.version>\n       <h2.version>1.4.200</h2.version>\n       <hibernate.version>5.4.32.final</hibernate.version>\n       <hibernate-validator.version>6.2.0.final</hibernate-validator.version>\n       <httpclient.version>4.5.13</httpclient.version>\n       <jackson-bom.version>2.12.4</jackson-bom.version>\n       <javax-jms.version>2.0.1</javax-jms.version>\n       <javax-json.version>1.1.4</javax-json.version>\n       <javax-websocket.version>1.1</javax-websocket.version>\n       <jetty-el.version>9.0.48</jetty-el.version>\n       <junit.version>4.13.2</junit.version>\n   </properties>\n   \n\næ¸©é¦¨æç¤º\n\nspringbootå®æ¹ç»åºäºå¥½å¤ä¸ªstarterçå®ä¹ï¼æ¹ä¾¿æä»¬ä½¿ç¨ï¼èä¸åç§°é½æ¯å¦ä¸æ ¼å¼\n\nå½åè§åï¼spring-boot-starter-ææ¯åç§°\n\n\næä»¥ä»¥åè§äºspring-boot-starter-aaaè¿æ ·çåå­ï¼è¿å°±æ¯springbootå®æ¹ç»åºçstarterå®ä¹ãé£éå®æ¹å®ä¹çä¹æåï¼æçï¼å·ä½å½åæ¹å¼å°æ´åç« èåè¯´\n\næ»ç»\n\n 1. å¼åspringbootç¨åºéè¦å¯¼å¥åæ æ¶éå¸¸å¯¼å¥å¯¹åºçstarter\n 2. æ¯ä¸ªä¸åçstarteræ ¹æ®åè½ä¸åï¼éå¸¸åå«å¤ä¸ªä¾èµåæ \n 3. ä½¿ç¨starterå¯ä»¥å®ç°å¿«ééç½®çææï¼è¾¾å°ç®åéç½®çç®ç\n\n# å¼å¯¼ç±»\n\néç½®è¯´å®äºï¼æä»¬åç°springbootç¡®å®å¸®å©æä»¬åå°äºå¾å¤éç½®å·¥ä½ï¼ä¸é¢è¯´ä¸ä¸ç¨åºæ¯å¦ä½è¿è¡çãç®åç¨åºè¿è¡çå¥å£å°±æ¯springbootå·¥ç¨åå»ºæ¶èªå¸¦çé£ä¸ªç±»äºï¼å¸¦æmainæ¹æ³çé£ä¸ªç±»ï¼è¿è¡è¿ä¸ªç±»å°±å¯ä»¥å¯å¨springbootå·¥ç¨çè¿è¡\n\n@springbootapplication\npublic class springboot0101quickstartapplication {\n    public static void main(string[] args) {\n        springapplication.run(springboot0101quickstartapplication.class, args);\n    }\n}\n\n\nspringbootæ¬èº«æ¯ä¸ºäºå éspringç¨åºçå¼åçï¼èspringç¨åºè¿è¡çåºç¡æ¯éè¦åå»ºèªå·±çspringå®¹å¨å¯¹è±¡ï¼iocå®¹å¨ï¼å¹¶å°ææçå¯¹è±¡äº¤ç»springçå®¹å¨ç®¡çï¼ä¹å°±æ¯ä¸ä¸ªä¸ä¸ªçbeanãé£è¿äºspringbootå éå¼åspringç¨åºï¼è¿ä¸ªå®¹å¨è¿å¨åï¼è¿ä¸ªçé®ä¸ç¨è¯´ï¼ä¸å®å¨ãå½åè¿ä¸ªç±»è¿è¡åå°±ä¼äº§çä¸ä¸ªspringå®¹å¨å¯¹è±¡ï¼å¹¶ä¸å¯ä»¥å°è¿ä¸ªå¯¹è±¡ä¿å­èµ·æ¥ï¼éè¿å®¹å¨å¯¹è±¡ç´æ¥æä½beanã\n\n@springbootapplication\npublic class springboot0101quickstartapplication {\n    public static void main(string[] args) {\n        configurableapplicationcontext ctx = springapplication.run(springboot0101quickstartapplication.class, args);\n        bookcontroller bean = ctx.getbean(bookcontroller.class);\n        system.out.println("bean======>" + bean);\n    }\n}\n\n\n\n\néè¿ä¸è¿°æä½ä¸é¾çåºï¼å¶å®springbootç¨åºå¯å¨è¿æ¯åå»ºäºä¸ä¸ªspringå®¹å¨å¯¹è±¡ãè¿ä¸ªç±»å¨springbootç¨åºä¸­æ¯ææåè½çå¥å£ï¼ç§°è¿ä¸ªç±»ä¸ºå¼å¯¼ç±»ã\n\nä½ä¸ºä¸ä¸ªå¼å¯¼ç±»æå¸åçç¹å¾å°±æ¯å½åç±»ä¸æ¹å£°æäºä¸ä¸ªæ³¨è§£@springbootapplication\n\næ»ç»\n\n 1. springbootå·¥ç¨æä¾å¼å¯¼ç±»ç¨æ¥å¯å¨ç¨åº\n 2. springbootå·¥ç¨å¯å¨ååå»ºå¹¶åå§åspringå®¹å¨\n\næè\n\nç¨åºç°å¨å·²ç»è¿è¡äºï¼éè¿å¼å¯¼ç±»çmainæ¹æ³è¿è¡äºèµ·æ¥ãä½æ¯è¿è¡javaç¨åºä¸åºè¯¥æ¯æ§è¡å®å°±ç»æäºåï¼ä½æ¯æä»¬ç°å¨ææ¾æ¯å¯å¨äºä¸ä¸ªwebæå¡å¨åï¼ä¸ç¶ç½é¡µæä¹è½æ­£å¸¸è®¿é®å¢ï¼è¿ä¸ªæå¡å¨æ¯å¨åªéåçå¢ï¼\n\n# ååµtomcat\n\nå½åæä»¬åçspringbootå¥é¨æ¡ä¾å¾éäºspirng-webçåè½ï¼å¹¶ä¸å¯¼å¥äºå¯¹åºçstarterã\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-web</artifactid>\n</dependency>\n\n\nspringbootåç°ï¼æ¢ç¶ä½ è¦åwebç¨åºï¼è¯å®ç¦»ä¸å¼ä½¿ç¨webæå¡å¨ï¼è¿æ ·å§ï¼å¸®äººå¸®å°åºï¼éä½éå°è¥¿ãæå¸®ä½ æä¸ä¸ªwebæå¡å¨ï¼ä½ è¦æ¿æç¨çï¼ç´æ¥ä½¿ç¨å°±å¥½äºï¼å¹²èæåå¤ç»ä½ å ç§éæ©ï¼ä½ éä¾¿åæ¢ãä¸ä¸ä½ ä¸æ³ç¨æç»ä½ æä¾çï¼ä¹è¡ï¼ä½ å¯ä»¥èªå·±æã\n\nç±äºè¿ä¸ªåè½ä¸å±äºç¨åºçä¸»ä½åè½ï¼å¯ç¨å¯ä¸ç¨ï¼äºæ¯ä¹springbootå°å¶å®ä½æè¾å©åè½ï¼å«å°çè¿ä¹ä¸ä¸ªè¾å©åè½ï¼å®å¯æ¯å¸®æä»¬å¼åèååå°äºå¥½å¤çè®¾ç½®æ§å·¥ä½ã\n\nä¸é¢å°±å´ç»çè¿ä¸ªåç½®çwebæå¡å¨ï¼ä¹å¯ä»¥è¯´æ¯åç½®çtomcatæå¡å¨æ¥ç ç©¶å ä¸ªé®é¢\n\n 1. è¿ä¸ªæå¡å¨å¨ä»ä¹ä½ç½®å®ä¹ç\n 2. è¿ä¸ªæå¡å¨æ¯æä¹è¿è¡ç\n 3. è¿ä¸ªæå¡å¨å¦ææ³æ¢æä¹æ¢ï¼è½ç¶è¿ä¸ªéæ±å¾åå¾ï¼æå¾å¼åèä¼å¥½å¤webæå¡å¨ä¸æ ·ï¼ç¨å«äººæä¾å¥½çä¸é¦ä¹ï¼éè¦èªå·±æè¾\n\nååµtomcatå®ä¹ä½ç½®\n\nè¯´å°å®ä¹çä½ç½®ï¼æä»¬å°±æ³ï¼å¦ææä»¬ä¸å¼åwebç¨åºï¼ç¨ççwebæå¡å¨åï¼è¯å®ç¨ä¸çåãé£å¦æè¿ä¸ªä¸è¥¿è¢«å å¥å°ä½ çç¨åºä¸­ï¼ä¼´éçä»ä¹ææ¯è¿æ¥çå¢ï¼è¯å®æ¯webç¸å³çåè½åï¼æ²¡éï¼å°±æ¯åé¢å¯¼å¥çwebç¸å³çstarteråçè¿ä»¶äºã\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-web</artifactid>\n</dependency>\n\n\næå¼æ¥çwebçstarterå¯¼å¥äºåªäºä¸è¥¿\n\n<dependencies>\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter</artifactid>\n        <version>2.5.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-json</artifactid>\n        <version>2.5.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-tomcat</artifactid>\n        <version>2.5.4</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupid>org.springframework</groupid>\n        <artifactid>spring-web</artifactid>\n        <version>5.3.9</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupid>org.springframework</groupid>\n        <artifactid>spring-webmvc</artifactid>\n        <version>5.3.9</version>\n        <scope>compile</scope>\n    </dependency>\n</dependencies>\n\n\nç¬¬ä¸ä¸ªä¾èµå°±æ¯è¿ä¸ªtomcatå¯¹åºçä¸è¥¿äºï¼å±ç¶ä¹æ¯ä¸ä¸ªstarterï¼åæå¼çç\n\n<dependencies>\n    <dependency>\n        <groupid>jakarta.annotation</groupid>\n        <artifactid>jakarta.annotation-api</artifactid>\n        <version>1.3.5</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupid>org.apache.tomcat.embed</groupid>\n        <artifactid>tomcat-embed-core</artifactid>\n        <version>9.0.52</version>\n        <scope>compile</scope>\n        <exclusions>\n            <exclusion>\n                <artifactid>tomcat-annotations-api</artifactid>\n                <groupid>org.apache.tomcat</groupid>\n            </exclusion>\n        </exclusions>\n    </dependency>\n    <dependency>\n        <groupid>org.apache.tomcat.embed</groupid>\n        <artifactid>tomcat-embed-el</artifactid>\n        <version>9.0.52</version>\n        <scope>compile</scope>\n    </dependency>\n    <dependency>\n        <groupid>org.apache.tomcat.embed</groupid>\n        <artifactid>tomcat-embed-websocket</artifactid>\n        <version>9.0.52</version>\n        <scope>compile</scope>\n        <exclusions>\n            <exclusion>\n                <artifactid>tomcat-annotations-api</artifactid>\n                <groupid>org.apache.tomcat</groupid>\n            </exclusion>\n        </exclusions>\n    </dependency>\n</dependencies>\n\n\nè¿éé¢æä¸ä¸ªæ ¸å¿çåæ ï¼tomcat-embed-coreï¼å«åtomcatååµæ ¸å¿ãå°±æ¯è¿ä¸ªä¸è¥¿ætomcatåè½å¼å¥å°äºæä»¬çç¨åºä¸­ãç®åè§£å³äºç¬¬ä¸ä¸ªé®é¢ï¼æ¾å°æ ¹å¿äºï¼è°ætomcatå¼å¥å°ç¨åºä¸­çï¼spring-boot-starter-webä¸­çspring-boot-starter-tomcatåçãä¹æä»¥ä½ æè§å¾å¥å¦çåå å°±æ¯ï¼è¿ä¸ªä¸è¥¿æ¯é»è®¤å å¥å°ç¨åºä¸­äºï¼æä»¥æè§å¾ç¥å¥ï¼å±ç¶ä»ä¹é½ä¸åï¼å°±æäºwebæå¡å¨å¯¹åºçåè½ï¼åæ¥è¯´ç¬¬äºä¸ªé®é¢ï¼è¿ä¸ªæå¡å¨æ¯æä¹è¿è¡ç\n\nååµtomcatè¿è¡åç\n\ntomcatæå¡å¨æ¯ä¸æ¬¾è½¯ä»¶ï¼èä¸æ¯ä¸æ¬¾ä½¿ç¨javaè¯­è¨å¼åçè½¯ä»¶ï¼çæçå°ä¼ä¼´å¯è½æå°è±¡ï¼tomcatå®è£ç®å½ä¸­ä¿å­æjarï¼å¥½å¤ä¸ªjarã\n\nä¸é¢çé®é¢æ¥äºï¼æ¢ç¶æ¯ä½¿ç¨javaè¯­è¨å¼åçï¼è¿è¡çæ¶åè¯å®ç¬¦åjavaç¨åºè¿è¡çåçï¼javaç¨åºè¿è¡é çæ¯ä»ä¹ï¼å¯¹è±¡åï¼ä¸åçå¯¹è±¡ï¼ä¸ç©çå¯¹è±¡ãé£tomcatè¿è¡èµ·æ¥å¢ï¼ä¹æ¯å¯¹è±¡ã\n\nå¦ææ¯å¯¹è±¡ï¼é£springå®¹å¨æ¯ç¨æ¥ç®¡çå¯¹è±¡çï¼è¿ä¸ªå¯¹è±¡è½ä¸è½äº¤ç»springå®¹å¨ç®¡çå¢ï¼æåå»æï¼æ¯ä¸ªå¯¹è±¡é½å¯ä»¥äº¤ç»springå®¹å¨ç®¡çï¼è¡äºï¼è¿ä¸éäºãtomcatæå¡å¨è¿è¡å¶å®æ¯ä»¥å¯¹è±¡çå½¢å¼å¨springå®¹å¨ä¸­è¿è¡çï¼æªä¸å¾æä»¬æ²¡æå®è£è¿ä¸ªtomcatï¼èä¸è¿è½ç¨ãé¹äºåå¤©è¿ä¸è¥¿æåæ¯ä»¥ä¸ä¸ªå¯¹è±¡çå½¢å¼å­å¨ï¼ä¿å­å¨springå®¹å¨ä¸­ææè¿è¡çãå·ä½è¿è¡çæ¯ä»ä¹å¢ï¼å¶å®å°±æ¯ä¸åé¢æå°çé£ä¸ªtomcatååµæ ¸å¿\n\n<dependencies>\n    <dependency>\n        <groupid>org.apache.tomcat.embed</groupid>\n        <artifactid>tomcat-embed-core</artifactid>\n        <version>9.0.52</version>\n        <scope>compile</scope>\n    </dependency>\n</dependencies>\n\n\né£æ¢ç¶æ¯ä¸ªå¯¹è±¡ï¼å¦ææè¿ä¸ªå¯¹è±¡ä»springå®¹å¨ä¸­å»ææ¯ä¸æ¯å°±æ²¡æwebæå¡å¨çåè½å¢ï¼æ¯è¿æ ·çï¼éè¿ä¾èµæé¤å¯ä»¥å»æè¿ä¸ªwebæå¡å¨åè½\n\n<dependencies>\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-web</artifactid>\n        <exclusions>\n            <exclusion>\n                <groupid>org.springframework.boot</groupid>\n                <artifactid>spring-boot-starter-tomcat</artifactid>\n            </exclusion>\n        </exclusions>\n    </dependency>\n</dependencies>\n\n\nä¸é¢å¯¹web-starteråäºä¸ä¸ªæä½ï¼ä½¿ç¨mavençæé¤ä¾èµå»æäºä½¿ç¨tomcatçstarterãè¿ä¸å¥½äºï¼å®¹å¨ä¸­è¯å®æ²¡æè¿ä¸ªå¯¹è±¡äºï¼éæ°å¯å¨ç¨åºå¯ä»¥è§å¯å°ç¨åºè¿è¡äºï¼ä½æ¯å¹¶æ²¡æåä¹åé£æ ·è¿è¡åä¼ç­çç¨æ·åè¯·æ±ï¼èæ¯ç´æ¥åæäºï¼å°±æ¯è¿ä¸ªåå äºã\n\næ´æ¢ååµtomcat\n\né£æ ¹æ®ä¸é¢çæä½æä»¬æèæ¯å¦å¯ä»¥æ¢ä¸ªæå¡å¨å¢ï¼å¿é¡»çåãæ ¹æ®springbootçå·¥ä½æºå¶ï¼ç¨ä»ä¹ææ¯ï¼å å¥ä»ä¹ä¾èµå°±è¡äºãspringbootæä¾äº3æ¬¾åç½®çæå¡å¨\n\n * tomcat(é»è®¤)ï¼apacheåºåï¼ç²ä¸å¤ï¼åºç¨é¢å¹¿ï¼è´è½½äºè¥å¹²è¾éçç»ä»¶\n\n * jettyï¼æ´è½»éçº§ï¼è´è½½æ§è½è¿ä¸åtomcat\n\n * undertowï¼è´è½½æ§è½åå¼ºè·èµ¢tomcat\n   \n   æ³ç¨åªä¸ªï¼å ä¸ªåæ å°±okãåææ¯ætomcatæé¤æï¼å ä¸ºtomcatæ¯é»è®¤å è½½çã\n\n<dependencies>\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-web</artifactid>\n        <exclusions>\n            <exclusion>\n                <groupid>org.springframework.boot</groupid>\n                <artifactid>spring-boot-starter-tomcat</artifactid>\n            </exclusion>\n        </exclusions>\n    </dependency>\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-jetty</artifactid>\n    </dependency>\n</dependencies>\n\n\nç°å¨å°±å·²ç»æåæ¿æ¢äºwebæå¡å¨ï¼æ ¸å¿ææ³å°±æ¯ç¨ä»ä¹å å¥å¯¹åºåæ å°±å¯ä»¥äºãå¦ææstarterï¼ä¼åä½¿ç¨starterã\n\næ»ç»\n\n 1. ååµtomcatæå¡å¨æ¯springbootè¾å©åè½ä¹ä¸\n 2. ååµtomcatå·¥ä½åçæ¯å°tomcatæå¡å¨ä½ä¸ºå¯¹è±¡è¿è¡ï¼å¹¶å°è¯¥å¯¹è±¡äº¤ç»springå®¹å¨ç®¡ç\n 3. åæ´ååµæå¡å¨ææ³æ¯å»é¤ç°ææå¡å¨ï¼æ·»å å¨æ°çæå¡å¨\n\nå°è¿éç¬¬ä¸ç« å¿«éä¸æspringbootå°±ç»æäºï¼è¿ä¸ç« æä»¬å­¦ä¹ äºä¸¤å¤§åç¥è¯\n\n 1. ä½¿ç¨äº4ç§æ¹å¼å¶ä½äºspringbootçå¥é¨ç¨åºï¼ä¸ç®¡æ¯åªä¸ç§ï¼å¶å®åé¨é½æ¯ä¸æ¨¡ä¸æ ·ç\n 2. å­¦ä¹ äºå¥é¨ç¨åºçå·¥ä½æµç¨ï¼ç¥éä»ä¹æ¯parentï¼ä»ä¹æ¯starterï¼è¿ä¸¤ä¸ªä¸è¥¿æ¯æä¹éåå·¥ä½çï¼ä»¥åæä»¬çç¨åºä¸ºä»ä¹å¯å¨èµ·æ¥æ¯ä¸ä¸ªtomcatæå¡å¨ç­ç­\n\nç¬¬ä¸ç« å°è¿éå°±ç»æäºï¼åå¾ä¸å­¦ä¹ å°±è¦å»åºäºä¼åå»ºspringbootå·¥ç¨çåºç¡ä¸ï¼ç ç©¶springbootå·¥ç¨çå·ä½ç»èäºã\n\n\n# jc-2.springbootåºç¡éç½®\n\nå¥é¨æ¡ä¾åå®äºï¼ä¸é¢å°±è¦ç ç©¶springbootçç¨æ³äºãéè¿å¥é¨æ¡ä¾ï¼åä½å°ä¼ä¼´è½å¤æç¥å°ä¸ä¸ªä¿¡æ¯ï¼springbootæ²¡æå·ä½çåè½ï¼å®å¨è¾å©å å¿«springç¨åºçå¼åæçãæä»¬åç°ç°å¨å ä¹ä¸ç¨åä»»ä½çéç½®ï¼åè½å°±æäºï¼ç¡®å®å¾å¥½ç¨ãä½æ¯ä»ç»æ³æ³ï¼æ²¡æåéç½®æå³çä»ä¹ï¼æå³çéç½®å·²ç»åå¥½äºï¼ä¸ç¨ä½ èªå·±åäºãä½æ¯æ°çé®é¢åæ¥äºï¼å¦æä¸æ³ç¨å·²ç»åå¥½çé»è®¤éç½®ï¼è¯¥å¦ä½å¹²é¢å¢ï¼è¿å°±æ¯è¿ä¸ç« å±ä»¬è¦ç ç©¶çé®é¢ã\n\nå¦ææä»¬æ³ä¿®æ¹é»è®¤çéç½®iï¼è¿ä¸ªä¿¡æ¯åºè¯¥åå¨ä»ä¹ä½ç½®å¢ï¼ç®åæä»¬æ¥è§¦çå¥é¨æ¡ä¾ä¸­ä¸å±æ3ä¸ªæä»¶ï¼ç¬¬ä¸æ¯pom.xmlæä»¶ï¼è®¾ç½®é¡¹ç®çä¾èµçï¼è¿ä¸ªæ²¡ä»ä¹å¥½ç ç©¶çï¼ç¸å³çé«çº§åå®¹å±ä»¬å°åçç¯åè¯´ï¼ç¬¬äºæ¯å¼å¯¼ç±»ï¼è¿ä¸ªæ¯æ§è¡springbootç¨åºçå¥å£ï¼ä¹ä¸åæ¯åéç½®çå°æ¹ï¼å¶å®è¿æä¸ä¸ªä¿¡æ¯ï¼å°±æ¯å¨resourcesç®å½ä¸é¢æä¸ä¸ªç©ºç½çæä»¶ï¼å«åapplication.propertiesãä¸çå°±æ¯ä¸ªéç½®æä»¶ï¼å±ä»¬è¿ä¸ç« å°±æ¥è¯´è¯´éç½®æä»¶æä¹åï¼è½åä»ä¹ï¼æä¹å¹²é¢springbootçé»è®¤éç½®ï¼ä¿®æ¹æèªå·±çéç½®ã\n\n.imlæä»¶æ¯ideaçéç½®æä»¶ï¼ideaå¯¼å¥ä¸ä¸ªå·¥ç¨å°±ä¼èªå¨çæï¼å æ­¤å¤å¶çå·¥ç¨å¯ä»¥å é¤\n\nå¤å¶çå·¥ç¨ä¸­çnameådiscibtionå¯ä»¥å é¤\n\n\n\n\n\n\n# jc-2-1.å±æ§éç½®\n\nspringbootéè¿éç½®æä»¶resources/application.propertieså°±å¯ä»¥ä¿®æ¹é»è®¤çéç½®ï¼é£å±ä»¬å°±åæ¾ä¸ªç®åçéç½®ä¸æï¼å½åè®¿é®tomcatçé»è®¤ç«¯å£æ¯8080ï¼å¥½çæçå³éï¼ä½æ¯ä¸ä¾¿äºä¹¦åï¼æä»¬åæ¹æ80ï¼éè¿è¿ä¸ªæä½æ¥çæä¸ä¸springbootçéç½®æ ¼å¼æ¯ä»ä¹æ ·ç\n\n\n\né£è¯¥å¦ä½åå¢ï¼propertiesæ ¼å¼çæä»¶ä¹¦åè§èæ¯key=value\n\nname=itheima\n\n\nè¿ä¸ªæ ¼å¼è¯å®æ¯ä¸è½é¢ è¦çï¼é£å°±å°è¯æ§çåå°±è¡äºï¼æ¹ç«¯å£ï¼åportãå½ä½ è¾å¥portåï¼ç¥å¥çäºæå°±åçäºï¼è¿ç©æå¿å¸¦æç¤ºï¼å¤ªå¥½äº\n\næ ¹æ®æç¤ºæ²åè½¦ï¼è¾å¥80ç«¯å£ï¼æå®\n\nserver.port=80\n\n\nä¸é¢å°±å¯ä»¥ç´æ¥è¿è¡ç¨åºï¼æµè¯ææäºã\n\næä»¬æå¥çåç°springbootè¿ç©æå¿ç åï¼ä»¥åä¿®æ¹ç«¯å£å¨åªéæ¹ï¼tomcatæå¡å¨çéç½®æä»¶ä¸­æ¹ï¼ç°å¨å¢ï¼springbootä¸ç¨çéç½®æä»¶ä¸­æ¹ï¼æ¯ä¸æ¯æå³çä»¥åææçéç½®é½å¯ä»¥åå¨è¿ä¸ä¸ªæä»¶ä¸­å¢ï¼æ¯çï¼ç®åå¼åèéç½®çä¹¦åä½ç½®ï¼éä¸­ç®¡çãå¦åï¼å¦å¦åä¹ä¸ç¨æå¿ææ¾ä¸å°éç½®æä»¶äºã\n\nå¶å®å°è¿éæä»¬åºè¯¥å¾å°å¦ä¸ä¸ä¸ªä¿¡æ¯\n\n 1. springbootç¨åºå¯ä»¥å¨application.propertiesæä»¶ä¸­è¿è¡å±æ§éç½®\n 2. application.propertiesæä»¶ä¸­åªè¦è¾å¥è¦éç½®çå±æ§å³é®å­å°±å¯ä»¥æ ¹æ®æç¤ºè¿è¡è®¾ç½®\n 3. springbootå°éç½®ä¿¡æ¯éä¸­å¨ä¸ä¸ªæä»¶ä¸­åï¼ä¸ç®¡ä½ æ¯æå¡å¨çéç½®ï¼è¿æ¯æ°æ®åºçéç½®ï¼æ»ä¹é½åå¨ä¸èµ·ï¼éç¦»ä¸ä¸ªé¡¹ç®åå ç§éç½®æä»¶æ ¼å¼çå°´å°¬å±é¢\n\næ»ç»\n\n 1. springbooté»è®¤éç½®æä»¶æ¯application.properties\n\nåå®äºç«¯å£çéç½®ï¼è¶ç­æéï¼ååå ä¸ªéç½®ï¼ç®åé¡¹ç®å¯å¨æ¶ä¼æ¾ç¤ºä¸äºæ¥å¿ä¿¡æ¯ï¼å°±æ¥æ¹ä¸æ¹è¿éé¢çä¸äºè®¾ç½®ã\n\nå³é­è¿è¡æ¥å¿å¾è¡¨ï¼banner)\n\nspring.main.banner-mode=off\n\n\nè®¾ç½®è¿è¡æ¥å¿çæ¾ç¤ºçº§å«\n\nlogging.level.root=debug\n\n\nä½ ä¼åç°ï¼ç°å¨è¿ä¹æéç½®å¤ªç½äºï¼ä»¥åä½ åéç½®æä¹åï¼ä¸åçææ¯æèªå·±ä¸ç¨çéç½®æä»¶ï¼æä»¶ä¸åæ ¼å¼ä¹ä¸ç»ä¸ï¼ç°å¨å¢ï¼ä¸ç¨ä¸å¥è¥¿èµ°çæ¾éç½®æä»¶åéç½®äºï¼ç»ä¸æ ¼å¼äºï¼è¿å°±æ¯å¤§ç§¦å¸å½åï¼ç»ä¸å­å½ãspringbootæ¯å¤§ç§¦ç ï¼å ä¸ºæªæ¥åºç°çææ¯è¿æ²¡åºç°å¢ï¼ä½æ¯ç°å¨å·²ç»ç¡®è®¤äºï¼éç½®é½åè¿ä¸ªæä»¶éé¢ã\n\næä»¬ç°å¨éç½®äº3ä¸ªä¿¡æ¯ï¼ä½æ¯åææ°çé®é¢äºãè¿ä¸ªéç½®æ¯éä¾¿åçåï¼ä»ä¹é½è½éï¼ææ²¡æä¸ä¸ªä¸è¥¿æ¾ç¤ºææè½éç½®çé¡¹å¢ï¼æ­¤å¤è¿ä¸ªéç½®åä»ä¹ä¸è¥¿æå³å¢ï¼ä¼ä¸ä¼å ä¸ºæåäºä»ä¹ä¸è¥¿ä»¥åæå¯ä»¥åä»ä¹éç½®å¢ï¼æ¯å¦æç°å¨æ²¡æåæ°æ®åºç¸å³çä¸è¥¿ï¼è½å¦éç½®æ°æ®å¢ï¼ä¸ä¸ªä¸ä¸ªæ¥ï¼åè¯´ç¬¬ä¸ä¸ªé®é¢ï¼é½è½éç½®ä»ä¹ã\n\næå¼springbootçå®ç½ï¼æ¾å°springbootå®æ¹ææ¡£ï¼æå¼æ¥çéå½ä¸­çapplication propertieså°±å¯ä»¥è·åå°å¯¹åºçéç½®é¡¹äºï¼ç½åå¥ä¸ï¼https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties\n\nè½åä»ä¹çé®é¢è§£å³äºï¼åæ¥è¯´ç¬¬äºä¸ªé®é¢ï¼è¿ä¸ªéç½®é¡¹åä»ä¹æå³ãå¨pomä¸­æ³¨éæå¯¼å¥çspring-boot-starter-webï¼ç¶åå·æ°å·¥ç¨ï¼ä½ ä¼åç°éç½®çæç¤ºæ¶å¤±äºãé¹äºåå¤©æ¯è®¾å®ä½¿ç¨äºä»ä¹ææ¯æè½åä»ä¹éç½®ãä¹åçï¼ä¸ç¶éç½®çä¸è¥¿é½æ²¡æä½¿ç¨å¯¹åºææ¯ï¼éäºä¹æ¯ç½éã\n\næ¸©é¦¨æç¤º\n\nææçstarterä¸­é½ä¼ä¾èµä¸é¢è¿ä¸ªstarterï¼å«åspring-boot-starterãè¿ä¸ªstarteræ¯ææçspringbootçstarterçåºç¡ä¾èµï¼éé¢å®ä¹äºspringbootç¸å³çåºç¡éç½®ï¼å³äºè¿ä¸ªstarteræä»¬å°å¼ååºç¨ç¯ååçç¯ä¸­åæ·±å¥è®²è§£ã\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter</artifactid>\n    <version>2.5.4</version>\n    <scope>compile</scope>\n</dependency>\n\n\næ»ç»\n\n 1. springbootä¸­å¯¼å¥å¯¹åºstarteråï¼æä¾å¯¹åºéç½®å±æ§\n 2. ä¹¦åspringbootéç½®éç¨å³é®å­+æç¤ºå½¢å¼ä¹¦å\n\n\n# jc-2-2.éç½®æä»¶åç±»\n\nç°å¨å·²ç»è½å¤è¿è¡springbootç¸å³çéç½®äºï¼ä½æ¯propertiesæ ¼å¼çéç½®åèµ·æ¥æ»æ¯è§å¾ççä¸èæï¼æä»¥å°±ææå­å¨ä¸ç§ä¹¦åèµ·æ¥æ´ç®ä¾¿çéç½®æ ¼å¼æä¾ç»å¼åèä½¿ç¨ãæåï¼è¿çæï¼springbooté¤äºæ¯æpropertiesæ ¼å¼çéç½®æä»¶ï¼è¿æ¯æå¦å¤ä¸¤ç§æ ¼å¼çéç½®æä»¶ãåå«å¦ä¸:\n\n * propertiesæ ¼å¼\n\n * ymlæ ¼å¼\n\n * yamlæ ¼å¼\n   \n   ä¸çå°å¨æ°çæä»¶æ ¼å¼ï¼åä½å°ä¼ä¼´è¯å®æ³ï¼è¿ä¸åè¦å­¦ä¹ æ°çè¯­æ³æ ¼å¼äºãæä¹è¯´å¢ï¼ä»ç¥è¯è§åº¦æ¥è¯´ï¼è¦å­¦ï¼ä»å¼åè§åº¦æ¥è¯´ï¼ä¸ç¨å­¦ãä¸ºä»ä¹å¢ï¼å ä¸ºspringbootçéç½®å¨ideaå·¥å·ä¸ææç¤ºåï¼è·çæç¤ºèµ°å°±è¡äºãä¸é¢åä¸¾ä¸ç§ä¸åæä»¶æ ¼å¼éç½®ç¸åçå±æ§èä¾ï¼åäºè§£ä¸ä¸\n\n * application.propertiesï¼propertiesæ ¼å¼ï¼\n\nserver.port=80\n\n\n * application.ymlï¼ymlæ ¼å¼ï¼\n\nserver:\n  port: 81\n\n\n * application.yamlï¼yamlæ ¼å¼ï¼\n\nserver:\n  port: 82\n\n\nä»ç»çä¼åç°ymlæ ¼å¼åyamlæ ¼å¼é¤äºæä»¶ååç¼ä¸ä¸æ ·ï¼æ ¼å¼å®å¨ä¸æ ·ï¼æ¯è¿æ ·çï¼ymlåyamlæä»¶æ ¼å¼å°±æ¯ä¸æ¨¡ä¸æ ·çï¼åªæ¯æä»¶åç¼ä¸åï¼æä»¥å¯ä»¥åå¹¶æä¸ç§æ ¼å¼æ¥çãé£å¯¹äºè¿ä¸ç§æ ¼å¼æ¥è¯´ï¼ä»¥åç¨åªä¸ç§æ¯è¾å¤å¢ï¼è®°æ¸æ¥ï¼ä»¥ååºæ¬ä¸é½æ¯ç¨ymlæ ¼å¼çï¼æ¬è¯¾ç¨åé¢çææç¥è¯é½æ¯åºäºymlæ ¼å¼æ¥å¶ä½çï¼ä»¥åå¨ä¼ä¸å¼åè¿ç¨ä¸­ç¨è¿ä¸ªæ ¼å¼çæºä¼ä¹æå¤ï¼ä¸å®è¦éç¹ææ¡ã\n\næ»ç»\n\n 1. springbootæä¾äº3ç§éç½®æä»¶çæ ¼å¼\n    * propertiesï¼ä¼ ç»æ ¼å¼/é»è®¤æ ¼å¼ï¼\n    * ymlï¼ä¸»æµæ ¼å¼ï¼\n    * yaml\n\næè\n\nç°å¨æä»¬å·²ç»ç¥éä½¿ç¨ä¸ç§æ ¼å¼é½å¯ä»¥åéç½®äºï¼å¥½å¥å®å®ä»¬å°±ææ°ççµé­æ·é®äºï¼ä¸ä¸æä¸ä¸ªé½åäºï¼ä»ä»¬ä¸ä¸ªè°è¯´äºç®å¢ï¼æä¸æ¶åï¼\n\n# éç½®æä»¶ä¼åçº§\n\nå¶å®ä¸ä¸ªæä»¶å¦æå±å­çè¯ï¼è°çæè¯´çå°±æ¯éç½®æä»¶å è½½çä¼åçº§å«ãåè¯´ä¸ç¹ï¼è½ç¶ä»¥åè¿ç§æåµå¾å°åºç°ï¼ä½æ¯è¿ä¸ªç¥è¯è¿æ¯å¯ä»¥å­¦ä¹ ä¸ä¸çãæä»¬å°±è®©ä¸ä¸ªéç½®æä»¶ä¹¦ååæ ·çä¿¡æ¯ï¼æ¯å¦é½éç½®ç«¯å£ï¼ç¶åæä»¬è®©æ¯ä¸ªæä»¶éç½®çç«¯å£å·é½ä¸ä¸æ ·ï¼æåå¯å¨ç¨åºåçå¯å¨ç«¯å£æ¯å¤å°å°±ç¥éè°çå è½½ä¼åçº§æ¯è¾é«äºã\n\n * application.propertiesï¼propertiesæ ¼å¼ï¼\n\nserver.port=80\n\n\n * application.ymlï¼ymlæ ¼å¼ï¼\n\nserver:\n  port: 81\n\n\n * application.yamlï¼yamlæ ¼å¼ï¼\n\nserver:\n  port: 82\n\n\nå¯å¨ååç°ç®åçå¯å¨ç«¯å£ä¸º80ï¼æ80å¯¹åºçæä»¶å é¤æï¼ç¶ååå¯å¨ï¼ç°å¨ç«¯å£åæ¹æäº81ãç°å¨æä»¬å°±å·²ç»ç¥éäº3ä¸ªæä»¶çå è½½ä¼åé¡ºåºæ¯ä»ä¹\n\napplication.properties  >  application.yml  >  application.yaml\n\n\nè½ç¶å¾å°äºä¸ä¸ªç¥è¯ç»è®ºï¼ä½æ¯æä»¬å®éå¼åçæ¶åè¿æ¯è¦çæç»çææä¸ºåãä¹å°±æ¯ä½ è¦çæç»æææ¯ä»ä¹èªå·±æ¯æç¡®çï¼ä¸è¿°ç»è®ºåªè½å¸®å©ä½ åæç»è®ºäº§ççåå ãè¿ä¸ªç¥è¯äºè§£ä¸ä¸å°±è¡äºï¼å ä¸ºä»¥ååæ¶åå¤ç§éç½®æä»¶æ ¼å¼çæåµå®å¨æ¯è¾å°ã\n\næåæä»¬æéç½®æä»¶åå®¹ç»ä¿®æ¹ä¸ä¸\n\n * application.propertiesï¼propertiesæ ¼å¼ï¼\n\nserver.port=80\nspring.main.banner-mode=off\n\n\n * application.ymlï¼ymlæ ¼å¼ï¼\n\nserver:\n  port: 81\nlogging: \n  level: \n    root: debug\n\n\n * application.yamlï¼yamlæ ¼å¼ï¼\n\nserver:\n  port: 82\n\n\næä»¬åç°ä¸ä»ç«¯å£çæäºï¼æç»æ¾ç¤º80ï¼åæ¶å¶ä»ä¸¤æ¡éç½®ä¹çæäºï¼çæ¥æ¯ä¸ªéç½®æä»¶ä¸­çé¡¹é½ä¼çæï¼åªä¸è¿å¦æå¤ä¸ªéç½®æä»¶ä¸­æç¸åç±»åçéç½®ä¼ä¼åçº§é«çæä»¶è¦çä¼åçº§çæä»¶ä¸­çéç½®ãå¦æéç½®é¡¹ä¸åçè¯ï¼é£ææçéç½®é¡¹é½ä¼çæã\n\næ»ç»\n\n 1. éç½®æä»¶é´çå è½½ä¼åçº§ propertiesï¼æé«ï¼> yml > yamlï¼æä½ï¼\n 2. ä¸åéç½®æä»¶ä¸­ç¸åéç½®æç§å è½½ä¼åçº§ç¸äºè¦çï¼ä¸åéç½®æä»¶ä¸­ä¸åéç½®å¨é¨ä¿ç\n\n# æä½ ä¸æï¼èªå¨æç¤ºåè½æ¶å¤±è§£å³æ¹æ¡\n\nå¯è½æäºå°ä¼ä¼´ä¼åºäºåç§åæ ·çåå å¯¼è´éç½®æä»¶ä¸­æ²¡ææç¤ºï¼è¿ä¸ªç¡®å®å¾è®©äººå¤´ç¼ï¼æä»¥ä¸é¢ç»å¤§å®¶è¯´ä¸ä¸å¦æèªå¨æç¤ºåè½æ¶å¤±äºæä¹è§£å³ã\n\nåè¦æç¡®ä¸ä¸ªæ ¸å¿ï¼å°±æ¯èªå¨æç¤ºåè½ä¸æ¯springbootææ¯ç»æä»¬æä¾çï¼æ¯æä»¬å¨ideaå·¥å·ä¸ç¼ç¨ï¼è¿ä¸ªç¼ç¨å·¥å·ç»æä»¬æä¾çãæç½äºè¿ä¸ç¹åï¼åæ¥è¯´ä¸ºä»ä¹ä¼åºç°è¿ç§ç°è±¡ãå¶å®è¿ä¸ªèªå¨æç¤ºåè½æ¶å¤±çåå è¿æ¯è®å¤çï¼å¦ææ³è§£å³è¿ä¸ªé®é¢ï¼å°±è¦ç¥éä¸ºä»ä¹ä¼æ¶å¤±ï¼å¤§ä½åå æå¦ä¸3ç§ï¼\n\n 1. ideaè®¤ä¸ºä½ ç°å¨åéç½®çæä»¶ä¸æ¯ä¸ªéç½®æä»¶ï¼æä»¥æç»ç»ä½ æä¾æç¤ºåè½\n\n 2. ideaè®¤å®ä½ æ¯åççéç½®æä»¶ï¼ä½æ¯ideaå è½½ä¸å°å¯¹åºçæç¤ºä¿¡æ¯\n    \n    è¿éæä»¬ä¸»è¦è§£å³ç¬¬ä¸ä¸ªç°è±¡ï¼ç¬¬äºç§ç°è±¡å°åçç¯åè®²è§£ãç¬¬ä¸ç§ç°è±¡çè§£å³æ¹å¼å¦ä¸ï¼\n\næ­¥éª¤â ï¼æå¼è®¾ç½®ï¼ãfilesãâãproject structure...ã\n\n\n\næ­¥éª¤â¡ï¼å¨å¼¹åºçªå£ä¸­å·¦ä¾§éæ©ãfacetsãï¼å³ä¾§éä¸­springè·¯å¾ä¸å¯¹åºçæ¨¡ååç§°ï¼ä¹å°±æ¯ä½ èªå¨æç¤ºåè½æ¶å¤±çé£ä¸ªæ¨¡å\n\n\n\næ­¥éª¤â¢ï¼ç¹å»customize spring bootæé®ï¼æ­¤æ¶å¯ä»¥çå°å½åæ¨¡åå¯¹åºçéç½®æä»¶æ¯åªäºäºãå¦ææ²¡æä½ æ³è¦ç§°ä¸ºéç½®æä»¶çæä»¶æ ¼å¼ï¼å°±æå¯è½æ æ³å¼¹åºæç¤º\n\n\n\næ­¥éª¤â£ï¼éæ©æ·»å éç½®æä»¶ï¼ç¶åéä¸­è¦ä½ä¸ºéç½®æä»¶çå·ä½æä»¶å°±okäº\n\n\n\nå°è¿éå°±åå®äºï¼å¶å®å°±æ¯ideaçä¸ä¸ªå°åè½\n\n\n\næ»ç»\n\n 1. æå®springbootéç½®æä»¶\n    \n    * setting â project structure â facets\n    * éä¸­å¯¹åºé¡¹ç®/å·¥ç¨\n    * customize spring boot\n    * éæ©éç½®æä»¶\n\n\n# jc-2-3.yamlæä»¶\n\nspringbootçéç½®ä»¥åä¸»è¦ä½¿ç¨ymlç»å°¾çè¿ç§æä»¶æ ¼å¼ï¼å¹¶ä¸å¨ä¹¦åæ¶å¯ä»¥éè¿æç¤ºçå½¢å¼å è½½æ­£ç¡®çæ ¼å¼ãä½æ¯è¿ç§æä»¶è¿æ¯æä¸¥æ ¼çä¹¦åæ ¼å¼è¦æ±çãä¸é¢å°±æ¥è¯´ä¸ä¸å·ä½çè¯­æ³æ ¼å¼ã\n\nyamlï¼yaml ain\'t markup languageï¼ï¼ä¸ç§æ°æ®åºååæ ¼å¼ãå·æå®¹æéè¯»ãå®¹æä¸èæ¬è¯­è¨äº¤äºãä»¥æ°æ®ä¸ºæ ¸å¿ï¼éæ°æ®è½»æ ¼å¼çç¹ç¹ãå¸¸è§çæä»¶æ©å±åæä¸¤ç§ï¼\n\n * .ymlæ ¼å¼ï¼ä¸»æµï¼\n\n * .yamlæ ¼å¼\n   \n   å¯¹äºæä»¶èªèº«å¨ä¹¦åæ¶ï¼å·æä¸¥æ ¼çè¯­æ³æ ¼å¼è¦æ±ï¼å·ä½å¦ä¸ï¼\n\n 1. å¤§å°åææ\n 2. å±æ§å±çº§å³ç³»ä½¿ç¨å¤è¡æè¿°ï¼æ¯è¡ç»å°¾ä½¿ç¨åå·ç»æ\n 3. ä½¿ç¨ç¼©è¿è¡¨ç¤ºå±çº§å³ç³»ï¼åå±çº§å·¦ä¾§å¯¹é½ï¼åªåè®¸ä½¿ç¨ç©ºæ ¼ï¼ä¸åè®¸ä½¿ç¨tabé®ï¼\n 4. å±æ§å¼åé¢æ·»å ç©ºæ ¼ï¼å±æ§åä¸å±æ§å¼ä¹é´ä½¿ç¨åå·+ç©ºæ ¼ä½ä¸ºåéï¼\n 5. #å· è¡¨ç¤ºæ³¨é\n\nä¸è¿°è§åä¸è¦æ­»è®°ç¡¬èï¼æç§ä¹¦åä¹ æ¯æ¢æ¢éåºï¼å¹¶ä¸å¨ideaä¸ç±äºå·ææç¤ºåè½ï¼æ¢æ¢éåºçåæ ¼å¼å°±è¡äºãæ ¸å¿çä¸æ¡è§åè¦è®°ä½ï¼æ°æ®åé¢è¦å ç©ºæ ¼ä¸åå·éå¼\n\nä¸é¢ååºå¸¸è§çæ°æ®ä¹¦åæ ¼å¼ï¼çæä¸ä¸\n\nboolean: true  \t\t\t\t\t\t#true,true,true,false,falseï¼falseåå¯\nfloat: 3.14    \t\t\t\t\t\t#6.8523015e+5  #æ¯æç§å­¦è®¡æ°æ³\nint: 123       \t\t\t\t\t\t#0b1010_0111_0100_1010_1110    #æ¯æäºè¿å¶ãå«è¿å¶ãåå­è¿å¶\nnull: ~        \t\t\t\t\t\t#ä½¿ç¨~è¡¨ç¤ºnull\nstring: helloworld      \t\t\t#å­ç¬¦ä¸²å¯ä»¥ç´æ¥ä¹¦å\nstring2: "hello world"  \t\t\t#å¯ä»¥ä½¿ç¨åå¼å·åè£¹ç¹æ®å­ç¬¦\ndate: 2018-02-17        \t\t\t#æ¥æå¿é¡»ä½¿ç¨yyyy-mm-ddæ ¼å¼\ndatetime: 2018-02-17t15:02:31+08:00  #æ¶é´åæ¥æä¹é´ä½¿ç¨tè¿æ¥ï¼æåä½¿ç¨+ä»£è¡¨æ¶åº\n\n\næ­¤å¤ï¼yamlæ ¼å¼ä¸­ä¹å¯ä»¥è¡¨ç¤ºæ°ç»ï¼å¨å±æ§åä¹¦åä½ç½®çä¸æ¹ä½¿ç¨åå·ä½ä¸ºæ°æ®å¼å§ç¬¦å·ï¼æ¯è¡ä¹¦åä¸ä¸ªæ°æ®ï¼åå·ä¸æ°æ®é´ç©ºæ ¼åé\n\nsubject:\n\t- java\n\t- åç«¯\n\t- å¤§æ°æ®\nenterprise:\n\tname: itcast\n    age: 16\n    subject:\n    \t- java\n        - åç«¯\n        - å¤§æ°æ®\nlikes: [çèè£è,åºæ¿æåº]\t\t\t#æ°ç»ä¹¦åç¼©ç¥æ ¼å¼\nusers:\t\t\t\t\t\t\t #å¯¹è±¡æ°ç»æ ¼å¼ä¸\n  - name: tom\n   \tage: 4\n  - name: jerry\n    age: 5\n\n\nusers:\t\t\t\t\t\t\t #å¯¹è±¡æ°ç»æ ¼å¼äº\n  -  \n    name: tom\n    age: 4\n  -   \n    name: jerry\n    age: 5\t\t\t    \nusers2: [ { name:tom , age:4 } , { name:jerry , age:5 } ]\t#å¯¹è±¡æ°ç»ç¼©ç¥æ ¼å¼\n\n\næ»ç»\n\n 1. yamlè¯­æ³è§å\n    * å¤§å°åææ\n    * å±æ§å±çº§å³ç³»ä½¿ç¨å¤è¡æè¿°ï¼æ¯è¡ç»å°¾ä½¿ç¨åå·ç»æ\n    * ä½¿ç¨ç¼©è¿è¡¨ç¤ºå±çº§å³ç³»ï¼åå±çº§å·¦ä¾§å¯¹é½ï¼åªåè®¸ä½¿ç¨ç©ºæ ¼ï¼ä¸åè®¸ä½¿ç¨tabé®ï¼\n    * å±æ§å¼åé¢æ·»å ç©ºæ ¼ï¼å±æ§åä¸å±æ§å¼ä¹é´ä½¿ç¨åå·+ç©ºæ ¼ä½ä¸ºåéï¼\n    * #å· è¡¨ç¤ºæ³¨é\n 2. æ³¨æå±æ§ååå·åé¢ä¸æ°æ®ä¹é´æä¸ä¸ªç©ºæ ¼\n 3. å­é¢å¼ãå¯¹è±¡æ°æ®æ ¼å¼ãæ°ç»æ°æ®æ ¼å¼\n\næè\n\nç°å¨æä»¬å·²ç»ç¥éäºyamlå·æä¸¥æ ¼çæ°æ®æ ¼å¼è¦æ±ï¼å¹¶ä¸å·²ç»å¯ä»¥æ­£ç¡®çä¹¦åyamlæä»¶äºï¼é£è¿äºæä»¶ä¹¦ååå¶å®æ¯å¨å®ä¹ä¸äºæ°æ®ãè¿äºæ°æ®æ¶ç»è°ç¨çå¢ï¼å¤§é¨åæ¯springbootæ¡æ¶åé¨ä½¿ç¨ï¼ä½æ¯å¦ææä»¬æ³éç½®ä¸äºæ°æ®èªå·±ä½¿ç¨ï¼è½ä¸è½ç¨å¢ï¼ç­æ¡æ¯å¯ä»¥çï¼é£å¦ä½è¯»åyamlæä»¶ä¸­çæ°æ®å¢ï¼å±ä»¬ä¸ä¸èåè¯´ã\n\n\n# jc-2-4.yamlæ°æ®è¯»å\n\nå¯¹äºyamlæä»¶ä¸­çæ°æ®ï¼å¶å®ä½ å°±å¯ä»¥æ³è±¡æè¿å°±æ¯ä¸ä¸ªå°åçæ°æ®åºï¼éé¢ä¿å­æè¥å¹²æ°æ®ï¼æ¯ä¸ªæ°æ®é½æä¸ä¸ªç¬ç«çåå­ï¼å¦æä½ æ³è¯»åéé¢çæ°æ®ï¼è¯å®æ¯æ¯æçï¼ä¸é¢å°±ä»ç»3ç§è¯»åæ°æ®çæ¹å¼\n\n# è¯»ååä¸æ°æ®\n\nyamlä¸­ä¿å­çåä¸ªæ°æ®ï¼å¯ä»¥ä½¿ç¨springä¸­çæ³¨è§£ç´æ¥è¯»åï¼ä½¿ç¨@valueå¯ä»¥è¯»ååä¸ªæ°æ®ï¼å±æ§åå¼ç¨æ¹å¼ï¼${ä¸çº§å±æ§å.äºçº§å±æ§åâ¦â¦}\n\nè®°å¾ä½¿ç¨@valueæ³¨è§£æ¶ï¼è¦å°è¯¥æ³¨å¥åå¨æä¸ä¸ªæå®çspringç®¡æ§çbeançå±æ§åä¸æ¹ãç°å¨å°±å¯ä»¥è¯»åå°å¯¹åºçåä¸æ°æ®è¡äº\n\næ»ç»\n\n 1. ä½¿ç¨@valueéåspelè¯»ååä¸ªæ°æ®\n 2. å¦ææ°æ®å­å¨å¤å±çº§ï¼ä¾æ¬¡ä¹¦åå±çº§åç§°å³å¯\n\n# è¯»åå¨é¨æ°æ®\n\nè¯»ååä¸æ°æ®å¯ä»¥è§£å³è¯»åæ°æ®çé®é¢ï¼ä½æ¯å¦æå®ä¹çæ°æ®éè¿å¤§ï¼è¿ä¹ä¸ä¸ªä¸ä¸ªä¹¦åè¯å®ä¼ç´¯æ­»äººçï¼springbootæä¾äºä¸ä¸ªå¯¹è±¡ï¼è½å¤æææçæ°æ®é½å°è£å°è¿ä¸ä¸ªå¯¹è±¡ä¸­ï¼è¿ä¸ªå¯¹è±¡å«åenvironmentï¼ä½¿ç¨èªå¨è£éæ³¨è§£å¯ä»¥å°ææçyamlæ°æ®å°è£å°è¿ä¸ªå¯¹è±¡ä¸­\n\næ°æ®å°è£å°äºenvironmentå¯¹è±¡ä¸­ï¼è·åå±æ§æ¶ï¼éè¿environmentçæ¥å£æä½è¿è¡ï¼å·ä½æ¹æ³æ¶getpropertiesï¼stringï¼ï¼åæ°å¡«åå±æ§åå³å¯\n\næ»ç»\n\n 1. ä½¿ç¨environmentå¯¹è±¡å°è£å¨é¨éç½®ä¿¡æ¯\n 2. ä½¿ç¨@autowiredèªå¨è£éæ°æ®å°environmentå¯¹è±¡ä¸­\n\n# è¯»åå¯¹è±¡æ°æ®\n\nåä¸æ°æ®è¯»åä¹¦åæ¯è¾ç¹çï¼å¨æ°æ®å°è£åå°è£çå¤ªåå®³äºï¼æ¯æ¬¡æ¿æ°æ®è¿è¦ä¸ä¸ªä¸ä¸ªçgetpropertiesï¼ï¼,æ»ä¹ç¨èµ·æ¥é½ä¸æ¯å¾èæãç±äºjavaæ¯ä¸ä¸ªé¢åå¯¹è±¡çè¯­è¨ï¼å¾å¤æåµä¸ï¼æä»¬ä¼å°ä¸ç»æ°æ®å°è£æä¸ä¸ªå¯¹è±¡ãspringbootä¹æä¾äºå¯ä»¥å°ä¸ç»yamlå¯¹è±¡æ°æ®å°è£ä¸ä¸ªjavaå¯¹è±¡çæä½\n\né¦åå®ä¹ä¸ä¸ªå¯¹è±¡ï¼å¹¶å°è¯¥å¯¹è±¡çº³å¥springç®¡æ§çèå´ï¼ä¹å°±æ¯å®ä¹æä¸ä¸ªbeanï¼ç¶åä½¿ç¨æ³¨è§£@configurationpropertiesæå®è¯¥å¯¹è±¡å è½½åªä¸ç»yamlä¸­éç½®çä¿¡æ¯ã\n\nè¿ä¸ª@configurationpropertieså¿é¡»åè¯ä»å è½½çæ°æ®åç¼æ¯ä»ä¹ï¼è¿æ ·å½ååç¼ä¸çææå±æ§å°±å°è£å°è¿ä¸ªå¯¹è±¡ä¸­ãè®°å¾æ°æ®å±æ§åè¦ä¸å¯¹è±¡çåéåä¸ä¸å¯¹åºåï¼ä¸ç¶æ²¡æ³å°è£ãå¶å®ä»¥åå¦æä½ è¦å®ä¹ä¸ç»æ°æ®èªå·±ä½¿ç¨ï¼å°±å¯ä»¥ååä¸ä¸ªå¯¹è±¡ï¼ç¶åå®ä¹å¥½å±æ§ï¼ä¸é¢å°éç½®ä¸­æ ¹æ®è¿ä¸ªæ ¼å¼ä¹¦åå³å¯ï¼ç¶åéåtostringågetãsetæ¹æ³ã\n\n\n\næ¸©é¦¨æç¤º\n\nç»å¿çå°ä¼ä¼´ä¼åç°ä¸ä¸ªé®é¢ï¼èªå®ä¹çè¿ç§æ°æ®å¨yamlæä»¶ä¸­ä¹¦åæ¶æ²¡æå¼¹åºæç¤ºï¼æ¯è¿æ ·çï¼å±ä»¬å°åçç¯åæ­ç§å¦ä½å¼¹åºæç¤ºã\n\næ»ç»\n\n 1. ä½¿ç¨@configurationpropertiesæ³¨è§£ç»å®éç½®ä¿¡æ¯å°å°è£ç±»ä¸­\n 2. å°è£ç±»éè¦å®ä¹ä¸ºspringç®¡ççbeanï¼å¦åæ æ³è¿è¡å±æ§æ³¨å¥\n\n# yamlæä»¶ä¸­çæ°æ®å¼ç¨\n\nå¦æä½ å¨ä¹¦åyamlæ°æ®æ¶ï¼ç»å¸¸åºç°å¦ä¸ç°è±¡ï¼æ¯å¦å¾å¤ä¸ªæä»¶é½å·æç¸åçç®å½åç¼\n\ncenter:\n\tdatadir: /usr/local/fire/data\n    tmpdir: /usr/local/fire/tmp\n    logdir: /usr/local/fire/log\n    msgdir: /usr/local/fire/msgdir\n\n\næè\n\ncenter:\n\tdatadir: d:/usr/local/fire/data\n    tmpdir: d:/usr/local/fire/tmp\n    logdir: d:/usr/local/fire/log\n    msgdir: d:/usr/local/fire/msgdir\n\n\nè¿ä¸ªæ¶åä½ å¯ä»¥ä½¿ç¨å¼ç¨æ ¼å¼æ¥å®ä¹æ°æ®ï¼å¶å®å°±æ¯æäºä¸ªåéåï¼ç¶åå¼ç¨åéäºï¼æ ¼å¼å¦ä¸ï¼\n\nbasedir: /usr/local/fire\n\tcenter:\n    datadir: ${basedir}/data\n    tmpdir: ${basedir}/tmp\n    logdir: ${basedir}/log\n    msgdir: ${basedir}/msgdir\n\n\nè¿æä¸ä¸ªæ³¨æäºé¡¹ï¼å¨ä¹¦åå­ç¬¦ä¸²æ¶ï¼å¦æéè¦ä½¿ç¨è½¬ä¹å­ç¬¦ï¼éè¦å°æ°æ®å­ç¬¦ä¸²ä½¿ç¨åå¼å·åè£¹èµ·æ¥\n\nlesson: "spring\\tboot\\nlesson"\n\n\næ»ç»\n\n 1. å¨éç½®æä»¶ä¸­å¯ä»¥ä½¿ç¨${å±æ§å}æ¹å¼å¼ç¨å±æ§å¼\n 2. å¦æå±æ§ä¸­åºç°ç¹æ®å­ç¬¦ï¼å¯ä»¥ä½¿ç¨åå¼å·åè£¹èµ·æ¥ä½ä¸ºå­ç¬¦è§£æ\n\nå°è¿éæå³yamlæä»¶çåºç¡ä½¿ç¨å°±ååä¸æ®µè½ï¼å¨å®ç¨ç¯ä¸­åç»§ç»­ç ç©¶æ´æ·±å¥çåå®¹ã\n\n\n# jc-3.åºäºspringbootå®ç°ssmpæ´å\n\néå¤´ææ¥äºï¼springbootä¹æä»¥å¥½ç¨ï¼å°±æ¯å®è½æ¹ä¾¿å¿«æ·çæ´åå¶ä»ææ¯ï¼è¿ä¸é¨åå±ä»¬å°±æ¥èèä¸äºææ¯çæ´åæ¹å¼ï¼éè¿è¿ä¸ç« çå­¦ä¹ ï¼å¤§å®¶è½å¤æåå°springbootå°åºæå¤é·ç«ãè¿ä¸ç« å±ä»¬å­¦ä¹ å¦ä¸ææ¯çæ´åæ¹å¼\n\n * æ´åjunit\n\n * æ´åmybatis\n\n * æ´åmybatis-plus\n\n * æ´ådruid\n   \n   ä¸é¢è¿äºææ¯é½æ´åå®æ¯åï¼æä»¬åä¸ä¸ªå°æ¡ä¾ï¼ä¹ç®æ¯å­¦ææç¨å§ãæ¶åçææ¯æ¯è¾å¤ï¼ç»¼åè¿ç¨ä¸ä¸ã\n\n\n# jc-3-1.æ´åjunit\n\nspringbootææ¯çå®ä½ç¨äºç®åå¼åï¼åå·ä½ç¹æ¯ç®åspringç¨åºçå¼åãæä»¥å¨æ´åä»»æææ¯çæ¶åï¼å¦æä½ æ³ç´è§æè§¦å°ç®åçææï¼ä½ å¿é¡»åç¥éä½¿ç¨éspringbootææ¯æ¶å¯¹åºçæ´åæ¯å¦ä½åçï¼ç¶ååçåºäºspringbootçæ´åæ¯å¦ä½åçï¼æè½æ¯å¯¹åºæ¥ç®åå¨äºåªéã\n\næä»¬åæ¥çä¸ä¸ä¸ä½¿ç¨springbootææ¯æ¶ï¼springæ´åjunitçå¶ä½æ¹å¼\n\n//å è½½springæ´åjunitä¸ç¨çç±»è¿è¡å¨\n@runwith(springjunit4classrunner.class)\n//æå®å¯¹åºçéç½®ä¿¡æ¯ï¼è¿ä¸ªæ³¨è§£ä¹å¯ä»¥å¨springbootä¸­ä½¿ç¨ï¼ä½æ¯springbooté»è®¤ç¨springboottestå°±è¡å¯ä»¥\n@contextconfiguration(classes = springconfig.class)\npublic class accountservicetestcase {\n    //æ³¨å¥ä½ è¦æµè¯çå¯¹è±¡\n    @autowired\n    private accountservice accountservice;\n    @test\n    public void testgetbyid(){\n        //æ§è¡è¦æµè¯çå¯¹è±¡å¯¹åºçæ¹æ³\n        system.out.println(accountservice.findbyid(2));\n    }\n}\n\n\n\nå¶ä¸­æ ¸å¿ä»£ç æ¯åä¸¤ä¸ªæ³¨è§£ï¼ç¬¬ä¸ä¸ªæ³¨è§£@runwithæ¯è®¾ç½®springä¸ç¨äºæµè¯çç±»è¿è¡å¨ï¼ç®åè¯´å°±æ¯springç¨åºæ§è¡ç¨åºæèªå·±çä¸å¥ç¬ç«çè¿è¡ç¨åºçæ¹å¼ï¼ä¸è½ä½¿ç¨junitæä¾çç±»è¿è¡æ¹å¼äºï¼å¿é¡»æå®ä¸ä¸ï¼ä½æ¯æ ¼å¼æ¯åºå®çï¼ç¢ç£¨ä¸ä¸ï¼æ¯æ¬¡é½æå®ä¸æ ·çä¸è¥¿ï¼è¿ä¸ªä¸è¥¿åèµ·æ¥æ²¡æææ¯å«éåï¼ç¬¬äºä¸ªæ³¨è§£@contextconfigurationæ¯ç¨æ¥è®¾ç½®springæ ¸å¿éç½®æä»¶æéç½®ç±»çï¼ç®åè¯´å°±æ¯å è½½springçç¯å¢ä½ è¦åè¯springå·ä½çç¯å¢éç½®æ¯å¨åªéåçï¼è½ç¶æ¯æ¬¡å è½½çæä»¶é½æå¯è½ä¸åï¼ä½æ¯ä»ç»æ³æ³ï¼å¦ææä»¶åæ¯åºå®çï¼è¿ä¸ªè²ä¼¼ä¹æ¯ä¸ä¸ªåºå®æ ¼å¼ãä¼¼ç¶æå¯è½æ¯åºå®æ ¼å¼ï¼é£å°±æå¯è½æ¯æ¬¡é½åä¸æ ·çä¸è¥¿ï¼ä¹æ¯ä¸ä¸ªæ²¡æææ¯å«éçåå®¹ä¹¦å\n\nspringbootå°±æä½ä¸è¿°ä¸¤æ¡æ²¡æææ¯å«éçåå®¹ä¹¦åè¿è¡å¼åç®åï¼è½èµ°é»è®¤å¼çèµ°é»è®¤å¼ï¼è½ä¸åçå°±ä¸åï¼å·ä½æ ¼å¼å¦ä¸\n\n@springboottest\nclass springboot04junitapplicationtests {\n    //æ³¨å¥ä½ è¦æµè¯çå¯¹è±¡\n    @autowired\n    private bookdao bookdao;\n    @test\n    void contextloads() {\n        //æ§è¡è¦æµè¯çå¯¹è±¡å¯¹åºçæ¹æ³\n        bookdao.save();\n        system.out.println("two...");\n    }\n}\n\n\nççè¿æ¬¡ç®åæä»ä¹æ ·äºï¼ä¸ä¸ªæ³¨è§£å°±æå®äºï¼èä¸è¿æ²¡æåæ°ï¼åä½ä¼springbootæ´åå¶ä»ææ¯çä¼å¿å¨åªéï¼å°±ä¸¤ä¸ªå­ââç®åãä½¿ç¨ä¸ä¸ªæ³¨è§£@springboottestæ¿æ¢äºåé¢ä¸¤ä¸ªæ³¨è§£ãè³äºåé¨æ¯æä¹åäºï¼åä¹åä¸æ ·ï¼åªä¸è¿é½èµ°é»è®¤å¼ã\n\nè¿ä¸ªæ¶åæäººå°±é®äºï¼ä½ å è½½çéç½®ç±»æèéç½®æä»¶æ¯åªä¸ä¸ª**ï¼å¦æåå¼å¯¼ç±»ä¸å¨åä¸ä¸ªåä¸ï¼å°±ä¸è½å¼å¥é»è®¤çéç½®ç±»æèå¼å¯¼ç±»ï¼æå¿é¡»è¦æ¾å¼çå¼å¥éç½®ç±»æèå¼å¯¼ç±»ï¼**ï¼å°±æ¯æä»¬åé¢å¯å¨ç¨åºä½¿ç¨çå¼å¯¼ç±»ãå¦ææ³æå·¥æå®å¼å¯¼ç±»æä¸¤ç§æ¹å¼ï¼ç¬¬ä¸ç§æ¹å¼ä½¿ç¨å±æ§çå½¢å¼è¿è¡ï¼å¨æ³¨è§£@springboottestä¸­æ·»å classeså±æ§æå®éç½®ç±»\n\n@springboottest(classes = springboot04junitapplication.class)\nclass springboot04junitapplicationtests {\n    //æ³¨å¥ä½ è¦æµè¯çå¯¹è±¡\n    @autowired\n    private bookdao bookdao;\n    @test\n    void contextloads() {\n        //æ§è¡è¦æµè¯çå¯¹è±¡å¯¹åºçæ¹æ³\n        bookdao.save();\n        system.out.println("two...");\n    }\n}\n\n\nç¬¬äºç§æ¹å¼åå½åå§éç½®æ¹å¼ï¼ä»ç¶ä½¿ç¨@contextconfigurationæ³¨è§£è¿è¡ï¼æææ¯ä¸æ ·ç\n\n@springboottest \n@contextconfiguration(classes = springboot04junitapplication.class)\nclass springboot04junitapplicationtests {\n    //æ³¨å¥ä½ è¦æµè¯çå¯¹è±¡\n    @autowired\n    private bookdao bookdao;\n    @test\n    void contextloads() {\n        //æ§è¡è¦æµè¯çå¯¹è±¡å¯¹åºçæ¹æ³\n        bookdao.save();\n        system.out.println("two...");\n    }\n}\n\n\næ¸©é¦¨æç¤º\n\nä½¿ç¨springbootæ´åjunitéè¦ä¿éå¯¼å¥testå¯¹åºçstarterï¼ç±äºåå§åé¡¹ç®æ¶æ­¤é¡¹æ¯é»è®¤å¯¼å¥çï¼æä»¥æ­¤å¤æ²¡ææåï¼å¶å®åä¹åå­¦ä¹ çåå®¹ä¸æ ·ï¼ç¨ä»ä¹ææ¯å¯¼å¥å¯¹åºçstarterå³å¯ã\n\næ»ç»\n\n 1. å¯¼å¥æµè¯å¯¹åºçstarter\n 2. æµè¯ç±»ä½¿ç¨@springboottestä¿®é¥°\n 3. ä½¿ç¨èªå¨è£éçå½¢å¼æ·»å è¦æµè¯çå¯¹è±¡\n 4. æµè¯ç±»å¦æå­å¨äºå¼å¯¼ç±»æå¨åæå­åä¸­æ éæå®å¼å¯¼ç±»\n 5. æµè¯ç±»å¦æä¸å­å¨äºå¼å¯¼ç±»æå¨çåæå­åä¸­éè¦éè¿classeså±æ§æå®å¼å¯¼ç±»\n\n\n# jc-3-2.æ´åmybatis\n\næ´åå®junitä¸é¢åæ¥è¯´ä¸ä¸æ´åmybatisï¼è¿ä¸ªææ¯æ¯å¤§é¨åå¬å¸é½è¦ä½¿ç¨çææ¯ï¼å¡å¿ææ¡ãå¦æå¯¹springæ´åmybatisä¸çæçå°ä¼ä¼´å¥½å¥½å¤ä¹ ä¸ä¸ï¼ä¸é¢åä¸¾åºåå§æ´åçå¨é¨åå®¹ï¼ä»¥éç½®ç±»çå½¢å¼ä¸ºä¾è¿è¡\n\n * å¯¼å¥åæ ï¼mybatisåæ ä¸è½å°ï¼springæ´åmybatisè¿æèªå·±ä¸ç¨çåæ ï¼æ­¤å¤springè¿è¡æ°æ®åºæä½çjdbcåæ æ¯å¿é¡»çï¼å©ä¸è¿æmysqlé©±å¨åæ ï¼æ¬ä¾ä¸­ä½¿ç¨äºdruidæ°æ®æºï¼è¿ä¸ªåæ¯å¯ä»¥ä¸è¦\n   \n   <dependencies>\n       <dependency>\n           <groupid>com.alibaba</groupid>\n           <artifactid>druid</artifactid>\n           <version>1.1.16</version>\n       </dependency>\n       <dependency>\n           <groupid>org.mybatis</groupid>\n           <artifactid>mybatis</artifactid>\n           <version>3.5.6</version>\n       </dependency>\n       <dependency>\n           <groupid>mysql</groupid>\n           <artifactid>mysql-connector-java</artifactid>\n           <version>5.1.47</version>\n       </dependency>\n       \x3c!--1.å¯¼å¥mybatisä¸springæ´åçjarå--\x3e\n       <dependency>\n           <groupid>org.mybatis</groupid>\n           <artifactid>mybatis-spring</artifactid>\n           <version>1.3.0</version>\n       </dependency>\n       \x3c!--å¯¼å¥springæä½æ°æ®åºå¿éçå--\x3e\n       <dependency>\n           <groupid>org.springframework</groupid>\n           <artifactid>spring-jdbc</artifactid>\n           <version>5.2.10.release</version>\n       </dependency>\n   </dependencies>\n   \n\n * springæ ¸å¿éç½®\n   \n   @configuration\n   @componentscan("com.itheima")\n   @propertysource("jdbc.properties")\n   public class springconfig {\n   }\n   \n\n * mybatisè¦äº¤ç»springæ¥ç®¡çbean\n   \n   //å®ä¹mybatisä¸ç¨çéç½®ç±»\n   @configuration\n   public class mybatisconfig {\n   //    å®ä¹åå»ºsqlsessionfactoryå¯¹åºçbean\n       @bean\n       public sqlsessionfactorybean sqlsessionfactory(datasource datasource){\n           //sqlsessionfactorybeanæ¯ç±mybatis-springåæä¾çï¼ä¸ç¨äºæ´åç¨çå¯¹è±¡\n           sqlsessionfactorybean sfb = new sqlsessionfactorybean();\n           //è®¾ç½®æ°æ®æºæ¿ä»£åå§éç½®ä¸­çenvironmentsçéç½®\n           sfb.setdatasource(datasource);\n           //è®¾ç½®ç±»åå«åæ¿ä»£åå§éç½®ä¸­çtypealiasesçéç½®\n           sfb.settypealiasespackage("com.itheima.domain");\n           return sfb;\n       }\n   //    å®ä¹å è½½ææçæ å°éç½®\n       @bean\n       public mapperscannerconfigurer mapperscannerconfigurer(){\n           mapperscannerconfigurer msc = new mapperscannerconfigurer();\n           msc.setbasepackage("com.itheima.dao");\n           return msc;\n       }\n   \n   }\n   \n\n * æ°æ®æºå¯¹åºçbeanï¼æ­¤å¤ä½¿ç¨druidæ°æ®æº\n   \n   @configuration\n   public class jdbcconfig {\n       @value("${jdbc.driver}")\n       private string driver;\n       @value("${jdbc.url}")\n       private string url;\n       @value("${jdbc.username}")\n       private string username;\n       @value("${jdbc.password}")\n       private string password;\n   \n       @bean("datasource")\n       public datasource datasource(){\n           druiddatasource ds = new druiddatasource();\n           ds.setdriverclassname(driver);\n           ds.seturl(url);\n           ds.setusername(username);\n           ds.setpassword(password);\n           return ds;\n       }\n   }\n   \n\n * æ°æ®åºè¿æ¥ä¿¡æ¯ï¼propertiesæ ¼å¼ï¼\n   \n   jdbc.driver=com.mysql.jdbc.driver\n   jdbc.url=jdbc:mysql://localhost:3306/spring_db?usessl=false\n   jdbc.username=root\n   jdbc.password=root\n   \n   \n   ä¸è¿°æ ¼å¼åºæ¬ä¸æ¯ç®æ ¼å¼äºï¼è¦åçä¸è¥¿è¿çä¸å°ãä¸é¢ççspringbootæ´åmybaitsæ ¼å¼\n\næ­¥éª¤â ï¼åå»ºæ¨¡åæ¶å¾éè¦ä½¿ç¨çææ¯ï¼mybatisï¼ç±äºè¦æä½æ°æ®åºï¼è¿è¦å¾éå¯¹åºæ°æ®åº\n\n\n\n\n\næèæå·¥å¯¼å¥å¯¹åºææ¯çstarterï¼åå¯¹åºæ°æ®åºçåæ \n\n<dependencies>\n    \x3c!--1.å¯¼å¥å¯¹åºçstarter--\x3e\n    <dependency>\n        <groupid>org.mybatis.spring.boot</groupid>\n        <artifactid>mybatis-spring-boot-starter</artifactid>\n        <version>2.2.0</version>\n    </dependency>\n\n    <dependency>\n        <groupid>mysql</groupid>\n        <artifactid>mysql-connector-java</artifactid>\n        <scope>runtime</scope>\n    </dependency>\n</dependencies>\n\n\næ­¥éª¤â¡ï¼éç½®æ°æ®æºç¸å³ä¿¡æ¯ï¼æ²¡æè¿ä¸ªä¿¡æ¯ä½ è¿æ¥åªä¸ªæ°æ®åºé½ä¸ç¥é\n\n#2.éç½®ç¸å³ä¿¡æ¯\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.driver\n    url: jdbc:mysql://localhost:3306/ssm_db\n    username: root\n    password: root\n\n\nå®äºï¼å°±è¿ä¹å¤ï¼æ²¡äºãæäººå°±å¾çº³é·ï¼è¿å°±ç»æäºï¼å¯¹ï¼è¿å°±ç»æäºï¼springbootæéç½®ä¸­ææå¯è½åºç°çéç¨éç½®é½ç®åäºãä¸é¢å°±å¯ä»¥åä¸ä¸mybatisç¨åºè¿è¡éè¦çdaoï¼æèmapperï¼å°±å¯ä»¥è¿è¡äº\n\nå®ä½ç±»ï¼è¿è¦æsetågetæ¹æ³ãtostringæ¹æ³ï¼\n\npublic class book {\n    private integer id;\n    private string type;\n    private string name;\n    private string description;\n}\n\n\næ å°æ¥å£ï¼daoï¼\n\n@mapper\npublic interface bookdao {\n    @select("select * from tbl_book where id = #{id}")\n    public book getbyid(integer id);\n}\n\n\næµè¯ç±»\n\n@springboottest\nclass springboot05mybatisapplicationtests {\n    @autowired\n    private bookdao bookdao;\n    @test\n    void contextloads() {\n        system.out.println(bookdao.getbyid(1));\n    }\n}\n\n\nå®ç¾ï¼å¼åä»æ­¤åçå°±è¿ä¹ç®åãåä½ä¼ä¸ä¸springbootå¦ä½è¿è¡ç¬¬ä¸æ¹ææ¯æ´åçï¼æ¯ä¸æ¯å¾ä¼ç§ï¼å·ä½åé¨çåçå°åçç¯åå±å¼è®²è§£\n\næ³¨æï¼å½åä½¿ç¨çspringbootçæ¬æ¯2.5.4ï¼å¯¹åºçåæ è®¾ç½®ä¸­mysqlé©±å¨ä½¿ç¨çæ¯8xçæ¬ãå½springboot2.4.3ï¼ä¸å«ï¼çæ¬ä¹åä¼åºç°ä¸ä¸ªå°bugï¼å°±æ¯mysqlé©±å¨åçº§å°8ä»¥åè¦æ±å¼ºå¶éç½®æ¶åºï¼å¦æä¸è®¾ç½®ä¼åºé®é¢ãè§£å³æ¹æ¡å¾ç®åï¼é©±å¨urlä¸é¢æ·»å ä¸å¯¹åºè®¾ç½®å°±è¡äº\n\n#2.éç½®ç¸å³ä¿¡æ¯\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.driver\n    url: jdbc:mysql://localhost:3306/ssm_db?servertimezone=utc\n    username: root\n    password: root\n\n\nè¿éè®¾ç½®çutcæ¯å¨çæ åæ¶é´ï¼ä½ ä¹å¯ä»¥çè§£ä¸ºæ¯è±å½æ¶é´ï¼ä¸­å½å¤å¨ä¸å«åºï¼éè¦å¨è¿ä¸ªåºç¡ä¸å ä¸8å°æ¶ï¼è¿æ ·æè½åä¸­å½å°åºçæ¶é´å¯¹åºçï¼ä¹å¯ä»¥ä¿®æ¹éç½®ä¸åutcï¼åasia/shanghaiä¹å¯ä»¥è§£å³è¿ä¸ªé®é¢ã\n\n#2.éç½®ç¸å³ä¿¡æ¯\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.driver\n    url: jdbc:mysql://localhost:3306/ssm_db?servertimezone=asia/shanghai\n    username: root\n    password: root\n\n\nå¦æä¸æ³æ¯æ¬¡é½è®¾ç½®è¿ä¸ªä¸è¥¿ï¼ä¹å¯ä»¥å»ä¿®æ¹mysqlä¸­çéç½®æä»¶mysql.iniï¼å¨mysqldé¡¹ä¸­æ·»å default-time-zone=+8:00ä¹å¯ä»¥è§£å³è¿ä¸ªé®é¢ãå¶å®æ¹å¼æ¹æ³å¾å¤ï¼è¿éå°±è¯´è¿ä¹å¤å§ã\n\næ­¤å¤å¨è¿è¡ç¨åºæ¶è¿ä¼ç»åºä¸ä¸ªæç¤ºï¼è¯´æ°æ®åºé©±å¨è¿æ¶çè­¦åï¼æ ¹æ®æç¤ºä¿®æ¹éç½®å³å¯ï¼å¼ç¨com.mysql.jdbc.driverï¼æ¢ç¨com.mysql.cj.jdbc.driverãåé¢çä¾å­ä¸­å·²ç»æ´æ¢äºé©±å¨äºï¼å¨æ­¤è¯´æä¸ä¸ã\n\nloading class `com.mysql.jdbc.driver\'. this is deprecated. the new driver class is `com.mysql.cj.jdbc.driver\'. the driver is automatically registered via the spi and manual loading of the driver class is generally unnecessary.\n\n\næ»ç»\n\n 1. æ´åæä½éè¦å¾émybatisææ¯ï¼ä¹å°±æ¯å¯¼å¥mybatiså¯¹åºçstarter\n\n 2. æ°æ®åºè¿æ¥ç¸å³ä¿¡æ¯è½¬æ¢æéç½®\n\n 3. æ°æ®åºsqlæ å°éè¦æ·»å @mapperè¢«å®¹å¨è¯å«å°\n\n 4. mysql 8.xé©±å¨å¼ºå¶è¦æ±è®¾ç½®æ¶åº\n    \n    * ä¿®æ¹urlï¼æ·»å servertimezoneè®¾å®\n    * ä¿®æ¹mysqlæ°æ®åºéç½®\n\n 5. é©±å¨ç±»è¿æ¶ï¼æéæ´æ¢ä¸ºcom.mysql.cj.jdbc.driver\n\n\n# jc-3-3.æ´åmybatis-plus\n\nåå®äºä¸¤ç§ææ¯çæ´åäºï¼åä½å°ä¼ä¼´è¦å­¦ä¼æ»ç»ï¼æä»¬åè¿ä¸ªæ´åç©¶ç«åªäºæ¯æ ¸å¿ï¼æ»ç»ä¸æ¥å°±ä¸¤å¥è¯\n\n * å¯¼å¥å¯¹åºææ¯çstarteråæ \n * æ ¹æ®å¯¹åºææ¯çè¦æ±åéç½®\n\nè½ç¶çèµ·æ¥æç¹èï¼ä½æ¯ç¡®å®æ¯è¿ä¸ªçå¿ï¼ä¸é¢è¶ç­æéï¼åæ¢ä¸ä¸ªææ¯ï¼ççæ¯ä¸æ¯ä¸é¢è¿ä¸¤æ­¥ã\n\næ¥ä¸æ¥å¨mybatisçåºç¡ä¸ååçº§ä¸ä¸ï¼æ´åmybaitsplusï¼ç®ç§°mpï¼ï¼å½äººå¼åçææ¯ï¼ç¬¦åä¸­å½äººå¼åä¹ æ¯ï¼è°ç¨è°ç¥éãæ¥å§ï¼ä¸èµ·åæ´å\n\næ­¥éª¤â ï¼æå·¥å¯¼å¥å¯¹åºçstarter ï¼å»www.mvnrepository.comæ¥è¯¢æä»¶å¯¹åºççæ¬åå¶ä»ä¿¡æ¯ï¼å®ç½ä¼ç»åºå¼ç¨æ ¼å¼ï¼\n\n<dependency>\n    <groupid>com.baomidou</groupid>\n    <artifactid>mybatis-plus-boot-starter</artifactid>\n    <version>3.4.3</version>\n</dependency>\n\n\nå³äºè¿ä¸ªåæ ï¼æ­¤å¤è¦è¯´æä¸ç¹ï¼ä¹åæä»¬ççstarteré½æ¯spring-boot-starter-ï¼ï¼ï¼ï¼ä¹å°±æ¯è¯´é½æ¯ä¸é¢çæ ¼å¼\n\nspring-boot-start-***\n\n\nèè¿ä¸ªåæ çåå­ä¹¦åæ¯è¾ç¹æ®ï¼æ¯ç¬¬ä¸æ¹ææ¯åç§°å¨åï¼bootåstarterå¨åãæ­¤å¤ç®åæä¸ä¸å½åè§èï¼åæåçç¯ä¼åè¯¦ç»è®²è§£\n\nstarteræå±   å½åè§å                                   ç¤ºä¾\nå®æ¹æä¾        spring-boot-starter-ææ¯åç§°               spring-boot-starter-web\n                                                   spring-boot-starter-test\nç¬¬ä¸æ¹æä¾       ç¬¬ä¸æ¹ææ¯åç§°-spring-boot-starter            druid-spring-boot-starter\nç¬¬ä¸æ¹æä¾       ç¬¬ä¸æ¹ææ¯åç§°-boot-starterï¼ç¬¬ä¸æ¹ææ¯åç§°è¿é¿ï¼ç®åå½åï¼   mybatis-plus-boot-starter\n\næ¸©é¦¨æç¤º\n\næäºå°ä¼ä¼´å¨åå»ºé¡¹ç®æ¶æ³éè¿å¾éçå½¢å¼æ¾å°è¿ä¸ªåå­ï¼å«ç¿»äºï¼æ²¡æãæªæ­¢ç®åï¼springbootå®ç½è¿æªæ¶å½æ­¤åæ ï¼èæä»¬ideaåå»ºæ¨¡åæ¶è¯»åçæ¯springbootå®ç½çspring initializrï¼æä»¥ä¹æ²¡æãå¦ææ¢ç¨é¿éäºçurlåå»ºé¡¹ç®å¯ä»¥æ¾å°å¯¹åºmybatis-plusçåæ \n\næ­¥éª¤â¡ï¼éç½®æ°æ®æºç¸å³ä¿¡æ¯\n\n#2.éç½®ç¸å³ä¿¡æ¯\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.driver\n    url: jdbc:mysql://localhost:3306/ssm_db\n    username: root\n    password: root\n\n\næ²¡äºï¼å°±è¿ä¹å¤ï¼å©ä¸çå°±æ¯åmybaitsplusçç¨åºäº\n\næ å°æ¥å£ï¼daoï¼\n\n@mapper\npublic interface bookdao extends basemapper<book> {\n}\n\n\næ ¸å¿å¨äºdaoæ¥å£ç»§æ¿äºä¸ä¸ªbasemapperçæ¥å£ï¼è¿ä¸ªæ¥å£ä¸­å¸®å©å¼åèé¢å®äºè¥å¹²ä¸ªå¸¸ç¨çapiæ¥å£ï¼ç®åäºéç¨apiæ¥å£çå¼åå·¥ä½ã\n\nä¸é¢å°±å¯ä»¥åä¸ä¸ªæµè¯ç±»è¿è¡æµè¯äºï¼æ­¤å¤çç¥ã\n\næ¸©é¦¨æç¤º\n\nç®åæ°æ®åºçè¡¨åå®ä¹è§åæ¯tbl_æ¨¡ååç§°ï¼ä¸ºäºè½åå®ä½ç±»ç¸å¯¹åºï¼éè¦åä¸ä¸ªéç½®ï¼ç¸å³ç¥è¯åä½å°ä¼ä¼´å¯ä»¥å°mybatisplusè¯¾ç¨ä¸­å»å­¦ä¹ ï¼æ­¤å¤ä»ç»åºè§£å³æ¹æ¡ãéç½®application.ymlæä»¶ï¼æ·»å å¦ä¸éç½®å³å¯ï¼è®¾ç½®ææè¡¨åçéç¨åç¼å\n\nmybatis-plus:\n  global-config:\n    db-config:\n      table-prefix: tbl_\t\t#è®¾ç½®ææè¡¨çéç¨åç¼åç§°ä¸ºtbl_\n\n\næ»ç»\n\n 1. æå·¥æ·»å mybatis-pluså¯¹åºçstarter\n 2. æ°æ®å±æ¥å£ä½¿ç¨basemapperç®åå¼å\n 3. éè¦ä½¿ç¨çç¬¬ä¸æ¹ææ¯æ æ³éè¿å¾éç¡®å®æ¶ï¼éè¦æå·¥æ·»å åæ \n\n\n# jc-3-4.æ´ådruid\n\nä½¿ç¨springbootæ´åäº3ä¸ªææ¯äºï¼åç°å¥è·¯åºæ¬ç¸åï¼å¯¼å¥å¯¹åºçstarterï¼ç¶ååéç½®ï¼åä½å°ä¼ä¼´éè¦ä¸ç´å¼ºåè¿å¥ææ³ãä¸é¢åæ´åä¸ä¸ªææ¯ï¼ç»§ç»­æ·±å¥å¼ºåæ­¤ææ³ã\n\nåé¢æ´åmybatisåmpçæ¶åï¼ä½¿ç¨çæ°æ®æºå¯¹è±¡é½æ¯springbooté»è®¤çæ°æ®æºå¯¹è±¡ï¼ä¸é¢æä»¬æå·¥æ§å¶ä¸ä¸ï¼èªå·±æå®äºä¸ä¸ªæ°æ®æºå¯¹è±¡ï¼druidã\n\nå¨æ²¡ææå®æ°æ®æºæ¶ï¼æä»¬çéç½®å¦ä¸ï¼\n\n#2.éç½®ç¸å³ä¿¡æ¯\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.driver\n    url: jdbc:mysql://localhost:3306/ssm_db?servertimezone=asia/shanghai\n    username: root\n    password: root\n\n\næ­¤æ¶è½ç¶æ²¡ææå®æ°æ®æºï¼ä½æ¯æ ¹æ®springbootçå¾·è¡ï¼è¯å®å¸®æä»¬éäºä¸ä¸ªå®è®¤ä¸ºæå¥½çæ°æ®æºå¯¹è±¡ï¼è¿å°±æ¯hikariãéè¿å¯å¨æ¥å¿å¯ä»¥æ¥çå°å¯¹åºçèº«å½±ã\n\n2021-11-29 09:39:15.202  info 12260 --- [           main] com.zaxxer.hikari.hikaridatasource       : hikaripool-1 - starting...\n2021-11-29 09:39:15.208  warn 12260 --- [           main] com.zaxxer.hikari.util.driverdatasource  : registered driver with driverclassname=com.mysql.jdbc.driver was not found, trying direct instantiation.\n2021-11-29 09:39:15.551  info 12260 --- [           main] com.zaxxer.hikari.hikaridatasource       : hikaripool-1 - start completed.\n\n\nä¸è¿°ä¿¡æ¯ä¸­æ¯ä¸è¡é½æhikariçèº«å½±ï¼å¦æéè¦æ´æ¢æ°æ®æºï¼å¶å®åªéè¦ä¸¤æ­¥å³å¯ã\n\n 1. å¯¼å¥å¯¹åºçææ¯åæ \n 2. éç½®ä½¿ç¨æå®çæ°æ®æºç±»å\n\nä¸é¢å°±åæ¢ä¸ä¸æ°æ®æºå¯¹è±¡\n\næ­¥éª¤â ï¼å¯¼å¥å¯¹åºçåæ ï¼æ³¨æï¼æ¯åæ ï¼æ­¤å¤ä¸æ¯starterï¼\n\n<dependencies>\n    <dependency>\n        <groupid>com.alibaba</groupid>\n        <artifactid>druid</artifactid>\n        <version>1.1.16</version>\n    </dependency>\n</dependencies>\n\n\næ­¥éª¤â¡ï¼ä¿®æ¹éç½®ï¼å¨æ°æ®æºéç½®ä¸­æä¸ä¸ªtypeå±æ§ï¼ä¸ç¨äºæå®æ°æ®æºç±»å\n\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.driver\n    url: jdbc:mysql://localhost:3306/ssm_db?servertimezone=utc\n    username: root\n    password: root\n    type: com.alibaba.druid.pool.druiddatasource\n\n\nè¿éå¶å®è¦æåºä¸ä¸ªé®é¢çï¼ç®åçæ°æ®æºéç½®æ ¼å¼æ¯ä¸ä¸ªéç¨æ ¼å¼ï¼ä¸ç®¡ä½ æ¢ä»ä¹æ°æ®æºé½å¯ä»¥ç¨è¿ç§å½¢å¼è¿è¡éç½®ãä½æ¯æ°çé®é¢åæ¥äºï¼å¦æå¯¹æ°æ®æºè¿è¡ä¸ªæ§åçéç½®ï¼ä¾å¦éç½®æ°æ®æºå¯¹åºçè¿æ¥æ°éï¼è¿ä¸ªæ¶åå°±ææ°çé®é¢äºãæ¯ä¸ªæ°æ®æºææ¯å¯¹åºçéç½®åç§°é½ä¸æ ·åï¼è¯å®ä¸æ¯åï¼åä¸ªååä¸å¯è½æååéå¥½é½åä¸æ ·çåå­åï¼æä¹åï¼å°±è¦ä½¿ç¨ä¸ç¨çéç½®æ ¼å¼äºãè¿ä¸ªæ¶åä¸é¢è¿ç§éç¨æ ¼å¼å°±ä¸è½ä½¿ç¨äºï¼æä¹åï¼è¿è½æä¹åï¼æç§springbootæ´åå¶ä»ææ¯çéç¨è§åæ¥å¥åï¼å¯¼å¥å¯¹åºçstarterï¼è¿è¡ç¸åºçéç½®å³å¯ã\n\næ­¥éª¤â ï¼å¯¼å¥å¯¹åºçstarter\n\n<dependencies>\n    <dependency>\n        <groupid>com.alibaba</groupid>\n        <artifactid>druid-spring-boot-starter</artifactid>\n        <version>1.2.6</version>\n    </dependency>\n</dependencies>\n\n\næ­¥éª¤â¡ï¼ä¿®æ¹éç½®\n\nspring:\n  datasource:\n    druid:\n      driver-class-name: com.mysql.cj.jdbc.driver\n      url: jdbc:mysql://localhost:3306/ssm_db?servertimezone=utc\n      username: root\n      password: root\n\n\næ³¨æè§å¯ï¼éç½®é¡¹ä¸­ï¼å¨datasourceä¸é¢å¹¶ä¸æ¯ç´æ¥éç½®urlè¿äºå±æ§çï¼èæ¯åéç½®äºä¸ä¸ªdruidèç¹ï¼ç¶ååéç½®çurlè¿äºä¸è¥¿**ï¼diuidä¸ç¨ç¹å®çä¸ç¨éç½®æ¹æ³ï¼**ãè¨å¤ä¹æï¼urlè¿ä¸ªå±æ§æ¶druidä¸é¢çå±æ§ï¼é£ä½ è½æ³å°åï¼é¤äºè¿4ä¸ªå¸¸è§éç½®å¤ï¼è¿ædruidä¸ç¨çå¶ä»éç½®ãéè¿æç¤ºåè½å¯ä»¥æå¼druidç¸å³çéç½®æ¥é\n\nä¸druidç¸å³çéç½®è¶è¿200æ¡ä»¥ä¸ï¼è¿å°±åè¯ä½ ï¼å¦ææ³ådruidç¸å³çéç½®ï¼ä½¿ç¨è¿ç§æ ¼å¼å°±å¯ä»¥äºï¼è¿éå°±ä¸å±å¼æè¿°äºï¼å¤ªå¤äºã\n\nè¿æ¯æä»¬åçç¬¬4ä¸ªææ¯çæ´åæ¹æ¡ï¼è¿æ¯é£ä¸¤å¥è¯ï¼å¯¼å¥å¯¹åºstarterï¼ä½¿ç¨å¯¹åºéç½®ãæ²¡äºï¼springbootæ´åå¶ä»ææ¯å°±è¿ä¹ç®åç²æ´ã\n\næ»ç»\n\n 1. æ´ådruidéè¦å¯¼å¥druidå¯¹åºçstarter\n 2. æ ¹æ®druidæä¾çéç½®æ¹å¼è¿è¡éç½®\n 3. æ´åç¬¬ä¸æ¹ææ¯éç¨æ¹å¼\n    * å¯¼å¥å¯¹åºçstarter\n    * æ ¹æ®æä¾çéç½®æ ¼å¼ï¼éç½®éé»è®¤å¼å¯¹åºçéç½®é¡¹\n\n\n# jc-3-5.ssmpæ´åç»¼åæ¡ä¾\n\nspringbootè½å¤æ´åçææ¯å¤ªå¤å¤ªå¤äºï¼å¯¹äºåå­¦èæ¥è¯´æ¢æ¢æ¥ï¼ä¸ç¹ç¹ææ¡ãåé¢å±ä»¬åäº4ä¸ªæ´åäºï¼ä¸é¢å°±éè¿ä¸ä¸ªç¨å¾®ç»¼åä¸ç¹çæ¡ä¾ï¼å°ææç¥è¯è´¯ç©¿èµ·æ¥ï¼åæ¶åä¸ä¸ªå°åè½ï¼ä½ä¼ä¸ä¸ãä¸è¿æè¨å¨åï¼è¿ä¸ªæ¡ä¾å¶ä½çæ¶åï¼ä½ å¯è½ä¼æè¿ç§æè§ï¼è¯´å¥½çspringbootæ´åå¶ä»ææ¯çæ¡ä¾ï¼ä¸ºä»ä¹æè§springbootæ´åå¶ä»ææ¯çèº«å½±ä¸å¤å¢ï¼å ä¸ºè¿ä¸è¥¿ä¹¦åå¤ªç®åäºï¼ç®åå°ç¬é´åå®ï¼å¤§éçæ¶é´åçä¸æ¯è¿äºæ´åå·¥ä½ã\n\nåçä¸ä¸è¿ä¸ªæ¡ä¾çæç»ææ\n\nä¸»é¡µé¢\n\n\n\næ·»å \n\n\n\nå é¤\n\n\n\nä¿®æ¹\n\n\n\nåé¡µ\n\n\n\næ¡ä»¶æ¥è¯¢\n\n\n\næ´ä½æ¡ä¾ä¸­éè¦éç¨çææ¯å¦ä¸ï¼åäºè§£ä¸ä¸ï¼åå°åªä¸ä¸ªè¯´åªä¸ä¸ª\n\n 1. å®ä½ç±»å¼åââââä½¿ç¨lombokå¿«éå¶ä½å®ä½ç±»\n 2. daoå¼åââââæ´åmybatisplusï¼å¶ä½æ°æ®å±æµè¯\n 3. serviceå¼åââââåºäºmybatisplusè¿è¡å¢éå¼åï¼å¶ä½ä¸å¡å±æµè¯ç±»\n 4. controllerå¼åââââåºäºrestfulå¼åï¼ä½¿ç¨postmanæµè¯æ¥å£åè½\n 5. controllerå¼åââââååç«¯å¼ååè®®å¶ä½\n 6. é¡µé¢å¼åââââåºäºvue+elementuiå¶ä½ï¼ååç«¯èè°ï¼é¡µé¢æ°æ®å¤çï¼é¡µé¢æ¶æ¯å¤ç\n    * åè¡¨\n    * æ°å¢\n    * ä¿®æ¹\n    * å é¤\n    * åé¡µ\n    * æ¥è¯¢\n 7. é¡¹ç®å¼å¸¸å¤ç\n 8. ææ¡ä»¶æ¥è¯¢ââââé¡µé¢åè½è°æ´ãcontrollerä¿®æ­£åè½ãserviceä¿®æ­£åè½\n\nå¯ä»¥ççåºæ¥ï¼ä¸è¥¿è¿æ¯å¾å¤çï¼å¸æéè¿è¿ä¸ªæ¡ä¾ï¼åä½å°ä¼ä¼´è½å¤å®æåºç¡å¼åçæè½è®­ç»ãæ´ä½å¼åè¿ç¨éç¨åä¸å±æµä¸å±çå½¢å¼è¿è¡ï¼è¿ç¨å®æ´ï¼æçº¿è¾é¿ï¼å¸æåä½è½è·è¿è¿åº¦ï¼å®æè¿ä¸ªå°æ¡ä¾çå¶ä½ã\n\n# 0.æ¨¡ååå»º\n\nå¯¹äºè¿ä¸ªæ¡ä¾å¦ææç§ä¼ä¸å¼åçå½¢å¼è¿è¡åºè¯¥å¶ä½åå°å¾®æå¡ï¼ååç«¯åç¦»çå¼åã\n\næç¥éè¿ä¸ªå¯¹åå­¦çå°ä¼ä¼´è¦æ±å¤ªé«äºï¼å±ä»¬ç®åä¸ä¸ãåå°ååä½æå¡å¨ï¼åç«¯ä¸ä½¿ç¨ååç«¯åç¦»çå¶ä½äºã\n\nä¸ä¸ªæå¡å¨å³åå½åå°æå¡è°ç¨ï¼åè´è´£åç«¯é¡µé¢å±ç¤ºï¼éä½å­¦ä¹ çé¨æ§ã\n\nä¸é¢æä»¬å°±å¯ä»¥åå»ºä¸ä¸ªæ°çæ¨¡åï¼å è½½è¦ä½¿ç¨çææ¯å¯¹åºçstarterï¼ä¿®æ¹éç½®æä»¶æ ¼å¼ä¸ºymlæ ¼å¼ï¼å¹¶æwebè®¿é®ç«¯å£åè®¾ç½®æ80ã\n\npom.xml\n\n<dependencies>\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-web</artifactid>\n    </dependency>\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-test</artifactid>\n        <scope>test</scope>\n    </dependency>\n</dependencies>\n\n\napplication.yml\n\nserver:\n  port: 80\n\n\n# 1.å®ä½ç±»å¼å\n\næ¬æ¡ä¾å¯¹åºçæ¨¡åè¡¨ç»æå¦ä¸ï¼\n\n-- ----------------------------\n-- table structure for tbl_book\n-- ----------------------------\ndrop table if exists `tbl_book`;\ncreate table `tbl_book`  (\n  `id` int(11) not null auto_increment,\n  `type` varchar(20) character set utf8 collate utf8_general_ci null default null,\n  `name` varchar(50) character set utf8 collate utf8_general_ci null default null,\n  `description` varchar(255) character set utf8 collate utf8_general_ci null default null,\n  primary key (`id`) using btree\n) engine = innodb auto_increment = 51 character set = utf8 collate = utf8_general_ci row_format = dynamic;\n\n-- ----------------------------\n-- records of tbl_book\n-- ----------------------------\ninsert into `tbl_book` values (1, \'è®¡ç®æºçè®º\', \'springå®æ ç¬¬5ç\', \'springå¥é¨ç»å¸æç¨ï¼æ·±å¥çè§£springåçææ¯åå¹\');\ninsert into `tbl_book` values (2, \'è®¡ç®æºçè®º\', \'spring 5æ ¸å¿åçä¸30ä¸ªç±»æåå®æ\', \'åå¹´æ²æ·ä¹ä½ï¼æåspringç²¾åææ³\');\ninsert into `tbl_book` values (3, \'è®¡ç®æºçè®º\', \'spring 5 è®¾è®¡æ¨¡å¼\', \'æ·±å¥springæºç åæspringæºç ä¸­è´å«ç10å¤§è®¾è®¡æ¨¡å¼\');\ninsert into `tbl_book` values (4, \'è®¡ç®æºçè®º\', \'spring mvc+mybatiså¼åä»å¥é¨å°é¡¹ç®å®æ\', \'å¨æ¹ä½è§£æé¢åwebåºç¨çè½»éçº§æ¡æ¶ï¼å¸¦ä½ æä¸ºspring mvcå¼åé«æ\');\ninsert into `tbl_book` values (5, \'è®¡ç®æºçè®º\', \'è½»éçº§java webä¼ä¸åºç¨å®æ\', \'æºç çº§åæspringæ¡æ¶ï¼éåå·²ææ¡javaåºç¡çè¯»è\');\ninsert into `tbl_book` values (6, \'è®¡ç®æºçè®º\', \'javaæ ¸å¿ææ¯ å·i åºç¡ç¥è¯ï¼åä¹¦ç¬¬11çï¼\', \'core java ç¬¬11çï¼joltå¤§å¥è·å¥ä½åï¼éå¯¹java se9ã10ã11å¨é¢æ´æ°\');\ninsert into `tbl_book` values (7, \'è®¡ç®æºçè®º\', \'æ·±å¥çè§£javaèææº\', \'5ä¸ªç»´åº¦å¨é¢åæjvmï¼å¤§åé¢è¯ç¥è¯ç¹å¨è¦ç\');\ninsert into `tbl_book` values (8, \'è®¡ç®æºçè®º\', \'javaç¼ç¨ææ³ï¼ç¬¬4çï¼\', \'javaå­¦ä¹ å¿è¯»ç»å¸,æ®¿å çº§èä½ï¼èµ¢å¾äºå¨çç¨åºåçå¹¿æ³èµèª\');\ninsert into `tbl_book` values (9, \'è®¡ç®æºçè®º\', \'é¶åºç¡å­¦javaï¼å¨å½©çï¼\', \'é¶åºç¡èªå­¦ç¼ç¨çå¥é¨å¾ä¹¦ï¼ç±æµå¥æ·±ï¼è¯¦è§£javaè¯­è¨çç¼ç¨ææ³åæ ¸å¿ææ¯\');\ninsert into `tbl_book` values (10, \'å¸åºè¥é\', \'ç´æ­å°±è¯¥è¿ä¹åï¼ä¸»æ­é«ææ²éå®ææå\', \'æå­æãæä½³ç¦ãèå¨æé¿ä¸ºç½çº¢çç§å¯é½å¨ä¹¦ä¸­\');\ninsert into `tbl_book` values (11, \'å¸åºè¥é\', \'ç´æ­éè®²å®æä¸æ¬é\', \'åç§å¶ä¸èµ·å­¦ç³»åç½ç»è¥éä¹¦ç±\');\ninsert into `tbl_book` values (12, \'å¸åºè¥é\', \'ç´æ­å¸¦è´§ï¼æ·å®ãå¤©ç«ç´æ­ä»æ°æå°é«æ\', \'ä¸æ¬æä½ å¦ä½ç©è½¬ç´æ­çä¹¦ï¼10å è¯¾è½»æ¾å®ç°å¸¦è´§æå¥3w+\');\n\n\næ ¹æ®ä¸è¿°è¡¨ç»æï¼å¶ä½å¯¹åºçå®ä½ç±»\n\nå®ä½ç±»\n\npublic class book {\n    private integer id;\n    private string type;\n    private string name;\n    private string description;\n}\n\n\nå®ä½ç±»çå¼åå¯ä»¥èªå¨éè¿å·¥å·æå·¥çæget/setæ¹æ³ï¼ç¶åè¦çtostring()ãequals()ï¼hashcode()ç­æ¹æ³ï¼æ¹ä¾¿è°è¯ï¼ç­ç­ãä¸è¿è¿ä¸å¥æä½ä¹¦åå¾ç¹çï¼æå¯¹åºçå·¥å·å¯ä»¥å¸®å©æä»¬ç®åå¼åï¼ä»ç»ä¸ä¸ªå°å·¥å·ï¼lombokã\n\nlombokï¼ä¸ä¸ªjavaç±»åºï¼æä¾äºä¸ç»æ³¨è§£ï¼ç®åpojoå®ä½ç±»å¼åï¼springbootç®åé»è®¤éæäºlombokææ¯ï¼å¹¶æä¾äºå¯¹åºççæ¬æ§å¶ï¼æä»¥åªéè¦æä¾å¯¹åºçåæ å³å¯ï¼å¨pom.xmlä¸­æ·»å lombokçåæ ã\n\n<dependencies>\n    \x3c!--lombok--\x3e\n    <dependency>\n        <groupid>org.projectlombok</groupid>\n        <artifactid>lombok</artifactid>\n    </dependency>\n</dependencies>\n\n\nä½¿ç¨lombokå¯ä»¥éè¿ä¸ä¸ªæ³¨è§£@dataå®æä¸ä¸ªå®ä½ç±»å¯¹åºçgetterï¼setterï¼tostringï¼equalsï¼hashcodeç­æä½çå¿«éæ·»å \n\nimport lombok.data;\n@data\npublic class book {\n    private integer id;\n    private string type;\n    private string name;\n    private string description;\n}\n\n\nå°è¿éå®ä½ç±»å°±åå¥½äºï¼æ¯ä¸æ¯æ¯ä¸ä½¿ç¨lombokç®åå¥½å¤ï¼è¿ç§å·¥å·å¨javaå¼åä¸­è¿ænå¤ï¼åé¢è¯¾ç¨ä¸­éå°äºè½ç¨çä¸è¥¿æ¶ï¼å¨ä¸å¢å åä½å°ä¼ä¼´å¤§éçå­¦ä¹ æ¶é´çæåµä¸ï¼å°½éå¤ç»å¤§å®¶ä»ç»ä¸äº\n\næ»ç»\n\n 1. å®ä½ç±»å¶ä½\n 2. ä½¿ç¨lombokç®åå¼å\n    * å¯¼å¥lombokæ éæå®çæ¬ï¼ç±springbootæä¾çæ¬\n    * @dataæ³¨è§£\n\n# 2.æ°æ®å±å¼åââåºç¡crud\n\næ°æ®å±å¼åæ¬æ¬¡ä½¿ç¨mybatisplusææ¯ï¼æ°æ®æºä½¿ç¨åé¢å­¦ä¹ çdruidï¼å­¦é½å­¦äºé½ç¨ä¸\n\næ­¥éª¤â ï¼å¯¼å¥mybatisplusä¸druidå¯¹åºçstarterï¼å½ç¶mysqlçé©±å¨ä¸è½å°\n\n<dependencies>\n    <dependency>\n        <groupid>com.baomidou</groupid>\n        <artifactid>mybatis-plus-boot-starter</artifactid>\n        <version>3.4.3</version>\n    </dependency>\n    <dependency>\n        <groupid>com.alibaba</groupid>\n        <artifactid>druid-spring-boot-starter</artifactid>\n        <version>1.2.6</version>\n    </dependency>\n    <dependency>\n        <groupid>mysql</groupid>\n        <artifactid>mysql-connector-java</artifactid>\n        <scope>runtime</scope>\n    </dependency>\n</dependencies>\n\n\næ­¥éª¤â¡ï¼éç½®æ°æ®åºè¿æ¥ç¸å³çæ°æ®æºéç½®\n\nserver:\n  port: 80\n\nspring:\n  datasource:\n    druid:\n      driver-class-name: com.mysql.cj.jdbc.driver\n      url: jdbc:mysql://localhost:3306/ssm_db?servertimezone=utc\n      username: root\n      password: root\n\n\næ­¥éª¤â¢ï¼ä½¿ç¨mpçæ åéç¨æ¥å£basemapperå éå¼åï¼å«å¿äº@mapperåæ³åçæå®\n\n@mapper\npublic interface bookdao extends basemapper<book> {\n}\n\n\næ­¥éª¤â£ï¼å¶ä½æµè¯ç±»æµè¯ç»æï¼è¿ä¸ªæµè¯ç±»å¶ä½æ¯ä¸ªå¥½ä¹ æ¯ï¼ä¸è¿å¨ä¼ä¸å¼åä¸­å¾å¾é½ä¸ºå éå¼åè·³è¿æ­¤æ­¥ï¼ä¸è¡ä¸çæå§\n\npackage com.itheima.dao;\n\nimport com.baomidou.mybatisplus.core.conditions.query.lambdaquerywrapper;\nimport com.baomidou.mybatisplus.core.conditions.query.querywrapper;\nimport com.baomidou.mybatisplus.core.metadata.ipage;\nimport com.baomidou.mybatisplus.extension.plugins.pagination.page;\nimport com.itheima.domain.book;\nimport org.junit.jupiter.api.test;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.boot.test.context.springboottest;\n\n@springboottest\npublic class bookdaotestcase {\n\n    @autowired\n    private bookdao bookdao;\n\n    @test\n    void testgetbyid(){\n        system.out.println(bookdao.selectbyid(1));\n    }\n\n    @test\n    void testsave(){\n        book book = new book();\n        book.settype("æµè¯æ°æ®123");\n        book.setname("æµè¯æ°æ®123");\n        book.setdescription("æµè¯æ°æ®123");\n        bookdao.insert(book);\n    }\n\n    @test\n    void testupdate(){\n        book book = new book();\n        book.setid(17);\n        book.settype("æµè¯æ°æ®abcdefg");\n        book.setname("æµè¯æ°æ®123");\n        book.setdescription("æµè¯æ°æ®123");\n        bookdao.updatebyid(book);\n    }\n\n    @test\n    void testdelete(){\n        bookdao.deletebyid(16);\n    }\n\n    @test\n    void testgetall(){\n        bookdao.selectlist(null);\n    }\n}\n\n\næ¸©é¦¨æç¤º\n\nmpææ¯é»è®¤çä¸»é®çæç­ç¥ä¸ºéªè±ç®æ³ï¼çæçä¸»é®idé¿åº¦è¾å¤§ï¼åç®åçæ°æ®åºè®¾å®è§åä¸ç¸ç¬¦ï¼éè¦éç½®ä¸ä¸ä½¿mpä½¿ç¨æ°æ®åºçä¸»é®çæç­ç¥ï¼æ¹å¼åè¿æ¯èä¸å¥ï¼åéç½®ãå¨application.ymlä¸­æ·»å å¯¹åºéç½®å³å¯ï¼å·ä½å¦ä¸\n\nserver:\n  port: 80\n\nspring:\n  datasource:\n    druid:\n      driver-class-name: com.mysql.cj.jdbc.driver\n      url: jdbc:mysql://localhost:3306/ssm_db?servertimezone=utc\n      username: root\n      password: root\n\nmybatis-plus:\n  global-config:\n    db-config:\n      table-prefix: tbl_\t\t#è®¾ç½®è¡¨åéç¨åç¼\n      id-type: auto\t\t\t\t#è®¾ç½®ä¸»é®idå­æ®µççæç­ç¥ä¸ºåç§æ°æ®åºè®¾å®çç­ç¥ï¼å½åæ°æ®åºè®¾ç½®idçæç­ç¥ä¸ºèªå¢\n\n\n# æ¥çmpè¿è¡æ¥å¿\n\nå¨è¿è¡æ°æ®å±æµè¯çæ¶åï¼å ä¸ºåºç¡çcrudæä½åç±mpç»æä»¬æä¾äºï¼æä»¥å°±åºç°äºä¸ä¸ªå±é¢ï¼å¼åèä¸éè¦ä¹¦åsqlè¯­å¥äºï¼è¿æ ·ç¨åºè¿è¡çæ¶åæ»æä¸ç§æè§ï¼ä¸åçä¸åé½æ¯é»ççï¼ä½ä¸ºå¼åèæä»¬å¥ä¹ä¸ç¥éå°±å®äºãå¦æç¨åºæ­£å¸¸è¿è¡è¿å¥½ï¼å¦ææ¥éäºï¼è¿ä¸ªæ¶åå°±å¾å´©æºï¼ä½ çè³é½ä¸ç¥éä»ä½ä¸æï¼å ä¸ºä¼ éåæ°ãå°è£sqlè¯­å¥è¿äºæä½å®å¨ä¸æ¯ä½ å¹²é¢å¼ååºæ¥çï¼æä»¥æ¥çæ§è¡æè¿è¡çsqlè¯­å¥å°±æä¸ºå½å¡ä¹æ¥ã\n\nspringbootæ´åmpçæ¶åååèèå°äºè¿ç¹ï¼éè¿éç½®çå½¢å¼å°±å¯ä»¥æ¥éæ§è¡æsqlè¯­å¥ï¼éç½®å¦ä¸\n\nmybatis-plus:\n  global-config:\n    db-config:\n      table-prefix: tbl_\n      id-type: auto\n  configuration:\n    log-impl: org.apache.ibatis.logging.stdout.stdoutimpl\n\n\nåæ¥çè¿è¡ç»æï¼æ­¤æ¶å°±æ¾ç¤ºäºè¿è¡ææ§è¡sqlçæåµã\n\ncreating a new sqlsession\nsqlsession [org.apache.ibatis.session.defaults.defaultsqlsession@2c9a6717] was not registered for synchronization because synchronization is not active\njdbc connection [com.mysql.cj.jdbc.connectionimpl@6ca30b8a] will not be managed by spring\n==>  preparing: select id,type,name,description from tbl_book\n==> parameters: \n<==    columns: id, type, name, description\n<==        row: 1, è®¡ç®æºçè®º, springå®æ ç¬¬5ç, springå¥é¨ç»å¸æç¨ï¼æ·±å¥çè§£springåçææ¯åå¹\n<==        row: 2, è®¡ç®æºçè®º, spring 5æ ¸å¿åçä¸30ä¸ªç±»æåå®æ, åå¹´æ²æ·ä¹ä½ï¼æåspringç²¾åææ³\n<==        row: 3, è®¡ç®æºçè®º, spring 5 è®¾è®¡æ¨¡å¼, æ·±å¥springæºç åæspringæºç ä¸­è´å«ç10å¤§è®¾è®¡æ¨¡å¼\n<==        row: 4, è®¡ç®æºçè®º, spring mvc+mybatiså¼åä»å¥é¨å°é¡¹ç®å®æ, å¨æ¹ä½è§£æé¢åwebåºç¨çè½»éçº§æ¡æ¶ï¼å¸¦ä½ æä¸ºspring mvcå¼åé«æ\n<==        row: 5, è®¡ç®æºçè®º, è½»éçº§java webä¼ä¸åºç¨å®æ, æºç çº§åæspringæ¡æ¶ï¼éåå·²ææ¡javaåºç¡çè¯»è\n<==        row: 6, è®¡ç®æºçè®º, javaæ ¸å¿ææ¯ å·i åºç¡ç¥è¯ï¼åä¹¦ç¬¬11çï¼, core java ç¬¬11çï¼joltå¤§å¥è·å¥ä½åï¼éå¯¹java se9ã10ã11å¨é¢æ´æ°\n<==        row: 7, è®¡ç®æºçè®º, æ·±å¥çè§£javaèææº, 5ä¸ªç»´åº¦å¨é¢åæjvmï¼å¤§åé¢è¯ç¥è¯ç¹å¨è¦ç\n<==        row: 8, è®¡ç®æºçè®º, javaç¼ç¨ææ³ï¼ç¬¬4çï¼, javaå­¦ä¹ å¿è¯»ç»å¸,æ®¿å çº§èä½ï¼èµ¢å¾äºå¨çç¨åºåçå¹¿æ³èµèª\n<==        row: 9, è®¡ç®æºçè®º, é¶åºç¡å­¦javaï¼å¨å½©çï¼, é¶åºç¡èªå­¦ç¼ç¨çå¥é¨å¾ä¹¦ï¼ç±æµå¥æ·±ï¼è¯¦è§£javaè¯­è¨çç¼ç¨ææ³åæ ¸å¿ææ¯\n<==        row: 10, å¸åºè¥é, ç´æ­å°±è¯¥è¿ä¹åï¼ä¸»æ­é«ææ²éå®ææå, æå­æãæä½³ç¦ãèå¨æé¿ä¸ºç½çº¢çç§å¯é½å¨ä¹¦ä¸­\n<==        row: 11, å¸åºè¥é, ç´æ­éè®²å®æä¸æ¬é, åç§å¶ä¸èµ·å­¦ç³»åç½ç»è¥éä¹¦ç±\n<==        row: 12, å¸åºè¥é, ç´æ­å¸¦è´§ï¼æ·å®ãå¤©ç«ç´æ­ä»æ°æå°é«æ, ä¸æ¬æä½ å¦ä½ç©è½¬ç´æ­çä¹¦ï¼10å è¯¾è½»æ¾å®ç°å¸¦è´§æå¥3w+\n<==        row: 13, æµè¯ç±»å, æµè¯æ°æ®, æµè¯æè¿°æ°æ®\n<==        row: 14, æµè¯æ°æ®update, æµè¯æ°æ®update, æµè¯æ°æ®update\n<==        row: 15, -----------------, æµè¯æ°æ®123, æµè¯æ°æ®123\n<==      total: 15\n\n\nå¶ä¸­æ¸æ°çæ æ³¨äºå½åæ§è¡çsqlè¯­å¥æ¯ä»ä¹ï¼æºå¸¦äºä»ä¹åæ°ï¼å¯¹åºçæ§è¡ç»ææ¯ä»ä¹ï¼ææä¿¡æ¯åºæå°½æã\n\næ­¤å¤è®¾ç½®çæ¯æ¥å¿çæ¾ç¤ºå½¢å¼ï¼å½åéç½®çæ¯æ§å¶å°è¾åºï¼å½ç¶è¿å¯ä»¥ç±æ´å¤çéæ©ï¼æ ¹æ®éæ±åæ¢å³å¯\n\næ»ç»\n\n 1. æå·¥å¯¼å¥starteråæ ï¼2ä¸ªï¼ï¼mysqlé©±å¨ï¼1ä¸ªï¼\n\n 2. éç½®æ°æ®æºä¸mybatispluså¯¹åºçéç½®\n\n 3. å¼ådaoæ¥å£ï¼daoç¨äºæä½æ°æ®åºï¼ï¼ç»§æ¿basemapperï¼\n\n 4. å¶ä½æµè¯ç±»æµè¯daoåè½æ¯å¦ææ\n\n 5. ä½¿ç¨éç½®æ¹å¼å¼å¯æ¥å¿ï¼è®¾ç½®æ¥å¿è¾åºæ¹å¼ä¸ºæ åè¾åºå³å¯æ¥ésqlæ§è¡æ¥å¿\n\n# 3.æ°æ®å±å¼åââåé¡µåè½å¶ä½\n\nåé¢ä»ä»æ¯ä½¿ç¨äºmpæä¾çåºç¡crudåè½ï¼å®éä¸mpç»æä»¬æä¾äºå ä¹ææçåºç¡æä½ï¼è¿ä¸èè¯´ä¸ä¸å¦æå®ç°æ°æ®åºç«¯çåé¡µæä½\n\nmpæä¾çåé¡µæä½apiå¦ä¸\n\n@test\nvoid testgetpage(){\n    ipage page = new page(2,5);\n    bookdao.selectpage(page, null);\n    system.out.println(page.getcurrent());\n    system.out.println(page.getsize());\n    system.out.println(page.gettotal());\n    system.out.println(page.getpages());\n    system.out.println(page.getrecords());\n}\n\n\nå¶ä¸­selectpageæ¹æ³éè¦ä¼ å¥ä¸ä¸ªå°è£åé¡µæ°æ®çå¯¹è±¡ï¼å¯ä»¥éè¿newçå½¢å¼åå»ºè¿ä¸ªå¯¹è±¡ï¼å½ç¶è¿ä¸ªå¯¹è±¡ä¹æ¯mpæä¾çï¼å«ééåäºãåå»ºæ­¤å¯¹è±¡æ¶å°±éè¦æå®åé¡µçä¸¤ä¸ªåºæ¬æ°æ®\n\n * å½åæ¾ç¤ºç¬¬å é¡µ\n * æ¯é¡µæ¾ç¤ºå æ¡æ°æ®\n\nå¯ä»¥éè¿åå»ºpageå¯¹è±¡æ¶å©ç¨æé æ¹æ³åå§åè¿ä¸¤ä¸ªæ°æ®\n\nipage page = new page(2,5);\n\n\nå°è¯¥å¯¹è±¡ä¼ å¥å°æ¥è¯¢æ¹æ³selectpageåï¼å¯ä»¥å¾å°æ¥è¯¢ç»æï¼ä½æ¯æä»¬ä¼åç°å½åæä½æ¥è¯¢ç»æè¿åå¼ä»ç¶æ¯ä¸ä¸ªipageå¯¹è±¡ï¼è¿åæ¯æä¹åäºï¼\n\nipage page = bookdao.selectpage(page, null);\n\n\nåæ¥è¿ä¸ªipageå¯¹è±¡ä¸­å°è£äºè¥å¹²ä¸ªæ°æ®ï¼èæ¥è¯¢çç»æä½ä¸ºipageå¯¹è±¡å°è£çä¸ä¸ªæ°æ®å­å¨çï¼å¯ä»¥çè§£ä¸ºæ¥è¯¢ç»æå¾å°åï¼åå¡å°äºè¿ä¸ªipageå¯¹è±¡ä¸­ï¼å¶å®è¿æ¯ä¸ºäºé«åº¦çå°è£ï¼ä¸ä¸ªipageæè¿°äºåé¡µææçä¿¡æ¯ãä¸é¢5ä¸ªæä½å°±æ¯ipageå¯¹è±¡ä¸­å°è£çææä¿¡æ¯äº\n\n@test\nvoid testgetpage(){\n    ipage page = new page(2,5);  //ipageå¯¹è±¡\n    bookdao.selectpage(page, null);\n    system.out.println(page.getcurrent());\t\t//å½åé¡µç å¼\n    system.out.println(page.getsize());\t\t\t//æ¯é¡µæ¾ç¤ºæ°\n    system.out.println(page.gettotal());\t\t//æ°æ®æ»é\n    system.out.println(page.getpages());\t\t//æ»é¡µæ°\n    system.out.println(page.getrecords());\t\t//è¯¦ç»æ°æ®\n}\n\n\nå°è¿éå°±ç¥éè¿äºæ°æ®å¦ä½è·åäºï¼ä½æ¯å½ä½ å»æ§è¡è¿ä¸ªæä½æ¶ï¼ä½ ä¼åç°å¹¶ä¸åæä»¬åæçè¿æ ·ï¼å®éä¸è¿ä¸ªåé¡µå½åæ¯æ æçãä¸ºä»ä¹è¿æ ·å¢ï¼è¿ä¸ªè¦æºäºmpçåé¨æºå¶ã\n\nå¯¹äºmysqlçåé¡µæä½ä½¿ç¨limitå³é®å­è¿è¡ï¼èå¹¶ä¸æ¯ææçæ°æ®åºé½ä½¿ç¨limitå³é®å­å®ç°çï¼è¿ä¸ªæ¶åmpä¸ºäºå¶ä½çå¼å®¹æ§å¼ºï¼å°åé¡µæä½è®¾ç½®ä¸ºåºç¡æ¥è¯¢æä½çåçº§çï¼ä½ å¯ä»¥çè§£ä¸ºiphone6ä¸iphone6s-plusçå³ç³»ã\n\nåºç¡æä½ä¸­ææ¥è¯¢å¨é¨çåè½ï¼èå¨è¿ä¸ªåºç¡ä¸åªéè¦åçº§ä¸ä¸ï¼plusï¼å°±å¯ä»¥å¾å°åé¡µæä½ãæä»¥mpå°åé¡µæä½åæäºä¸ä¸ªå¼å³ï¼ä½ ç¨åé¡µåè½å°±æå¼å³å¼å¯ï¼ä¸ç¨å°±ä¸éè¦å¼å¯è¿ä¸ªå¼å³ãèæä»¬ç°å¨æ²¡æå¼å¯è¿ä¸ªå¼å³ï¼æä»¥åé¡µæä½æ¯æ²¡æçãè¿ä¸ªå¼å³æ¯éè¿mpçæ¦æªå¨çå½¢å¼å­å¨çï¼å¶ä¸­çåçè¿éä¸åæäºï¼æå´è¶£çå°ä¼ä¼´å¯ä»¥å­¦ä¹ mybatisplusè¿é¨è¯¾ç¨è¿è¡è¯¦ç»è§£è¯»ãå·ä½è®¾ç½®æ¹å¼å¦ä¸\n\nå®ä¹mpæ¦æªå¨å¹¶å°å¶è®¾ç½®ä¸ºspringç®¡æ§çbean\n\n@configuration\npublic class mpconfig {\n    @bean\n    public mybatisplusinterceptor mybatisplusinterceptor(){\n        mybatisplusinterceptor interceptor = new mybatisplusinterceptor();\n        interceptor.addinnerinterceptor(new paginationinnerinterceptor());\n        return interceptor;\n    }\n}\n\n\nä¸è¿°ä»£ç ç¬¬ä¸è¡æ¯åå»ºmpçæ¦æªå¨æ ï¼è¿ä¸ªæ¶åæ¦æªå¨æ ä¸­æ²¡æå·ä½çæ¦æªå¨ï¼ç¬¬äºè¡æ¯åå§åäºåé¡µæ¦æªå¨ï¼å¹¶æ·»å å°æ¦æªå¨æ ä¸­ãå¦æåæå¼åå¶ä»åè½ï¼éè¦æ·»å å¨æ°çæ¦æªå¨ï¼æç§ç¬¬äºè¡çæ ¼å¼ç»§ç»­addè¿å»æ°çæ¦æªå¨å°±å¯ä»¥äºã\n\næ»ç»\n\n 1. ä½¿ç¨ipageå°è£åé¡µæ°æ®\n 2. åé¡µæä½ä¾èµmybatisplusåé¡µæ¦æªå¨å®ç°åè½\n 3. åå©mybatisplusæ¥å¿æ¥éæ§è¡sqlè¯­å¥\n\n# 4.æ°æ®å±å¼åââæ¡ä»¶æ¥è¯¢åè½å¶ä½\n\né¤äºåé¡µåè½ï¼mpè¿æä¾æå¼ºå¤§çæ¡ä»¶æ¥è¯¢åè½ãä»¥å¾æä»¬åæ¡ä»¶æ¥è¯¢è¦èªå·±å¨ææ¼åå¤æçsqlè¯­å¥ï¼ç°å¨ç®åäºï¼mpå°è¿äºæä½é½å¶ä½æapiæ¥å£ï¼è°ç¨ä¸ä¸ªåä¸ä¸ªçæ¹æ³å°±å¯ä»¥å®ç°åç§å¥ä»¶çæ¼è£ãè¿éç»å¤§å®¶æ®åä¸ä¸åºæ¬æ ¼å¼ï¼è¯¦ç»çæä½è¿æ¯å°mpçè¯¾ç¨ä¸­æ¥éå§\n\nä¸é¢çæä½å°±æ¯æ§è¡ä¸ä¸ªæ¨¡ç³å¹éå¯¹åºçæä½ï¼ç±likeæ¡ä»¶ä¹¦ååä¸ºäºlikeæ¹æ³çè°ç¨\n\n@test\nvoid testgetby(){\n    querywrapper<book> qw = new querywrapper<>();\n    qw.like("name","spring");\n    bookdao.selectlist(qw);\n}\n\n\nå¶ä¸­ç¬¬ä¸å¥querywrapperå¯¹è±¡æ¯ä¸ä¸ªç¨äºå°è£æ¥è¯¢æ¡ä»¶çå¯¹è±¡ï¼è¯¥å¯¹è±¡å¯ä»¥å¨æä½¿ç¨apiè°ç¨çæ¹æ³æ·»å æ¡ä»¶ï¼æç»è½¬åæå¯¹åºçsqlè¯­å¥ãç¬¬äºå¥å°±æ¯ä¸ä¸ªæ¡ä»¶äºï¼éè¦ä»ä¹æ¡ä»¶ï¼ä½¿ç¨querywapperå¯¹è±¡ç´æ¥è°ç¨å¯¹åºæä½å³å¯ãæ¯å¦åå¤§äºå°äºå³ç³»ï¼å°±å¯ä»¥ä½¿ç¨ltægtæ¹æ³ï¼ç­äºä½¿ç¨eqæ¹æ³ï¼ç­ç­ï¼æ­¤å¤ä¸åæ´å¤çè§£éäºã\n\nè¿ç»apiä½¿ç¨è¿æ¯æ¯è¾ç®åçï¼ä½æ¯å³äºå±æ§å­æ®µåçä¹¦åå­å¨çå®å¨éæ£ï¼æ¯å¦æ¥è¯¢å­æ®µnameï¼å½åæ¯ä»¥å­ç¬¦ä¸²çå½¢æä¹¦åçï¼ä¸ä¸åéï¼ç¼è¯å¨è¿æ²¡æåæ³åç°ï¼åªè½å°é®é¢æå°è¿è¡å¨éè¿å¼å¸¸å æ åè¯å¼åèï¼ä¸å¤ªåå¥½ã\n\nmpéå¯¹å­æ®µæ£æ¥è¿è¡äºåè½åçº§ï¼å¨é¢æ¯ælambdaè¡¨è¾¾å¼ï¼å°±æäºä¸é¢è¿ç»apiãç±querywrapperå¯¹è±¡åçº§ä¸ºlambdaquerywrapperå¯¹è±¡ï¼è¿ä¸å°±åäºä¸è¿°é®é¢çåºç°\n\n@test\nvoid testgetby2(){\n    string name = "1";\n    lambdaquerywrapper<book> lqw = new lambdaquerywrapper<book>();\n    lqw.like(book::getname,name);\n    bookdao.selectlist(lqw);\n}\n\n\nä¸ºäºä¾¿äºå¼åèå¨ææ¼åsqlï¼é²æ­¢å°nullæ°æ®ä½ä¸ºæ¡ä»¶ä½¿ç¨ï¼mpè¿æä¾äºå¨ææ¼è£sqlçå¿«æ·ä¹¦åæ¹å¼\n\n@test\nvoid testgetby2(){\n    string name = "1";\n    lambdaquerywrapper<book> lqw = new lambdaquerywrapper<book>();\n    //if(name != null) lqw.like(book::getname,name);\t\t//æ¹å¼ä¸ï¼javaä»£ç æ§å¶\n    lqw.like(name != null,book::getname,name);\t\t\t\t//æ¹å¼äºï¼apiæ¥å£æä¾æ§å¶å¼å³\n    bookdao.selectlist(lqw);\n}\n\n\nå¶å®å°±æ¯ä¸ªæ ¼å¼ï¼æ²¡æåºå«ãå³äºmpçåºç¡æä½å°±è¯´å°è¿éå§ï¼å¦æè¿ä¸åç¥è¯ä¸å¤ªçæçå°ä¼ä¼´è¿æ¯å»å®æ´çå­¦ä¹ ä¸ä¸mpçç¥è¯å§ï¼è¿éåªæ¯è»èç¹æ°´çç¨äºå ä¸ªæä½èå·²ã\n\næ»ç»\n\n 1. ä½¿ç¨querywrapperå¯¹è±¡å°è£æ¥è¯¢æ¡ä»¶\n\n 2. æ¨èä½¿ç¨lambdaquerywrapperå¯¹è±¡\n\n 3. æææ¥è¯¢æä½å°è£ææ¹æ³è°ç¨\n\n 4. æ¥è¯¢æ¡ä»¶æ¯æå¨ææ¡ä»¶æ¼è£\n\n# 5.ä¸å¡å±å¼å\n\næ°æ®å±å¼ååä¸æ®µè½ï¼ä¸é¢è¿è¡ä¸å¡å±å¼åï¼å¶å®æ åä¸å¡å±å¼åå¾å¤åå­¦èè®¤ä¸ºå°±æ¯è°ç¨æ°æ®å±ï¼æä¹è¯´å¢ï¼è¿ä¸ªçè§£æ¯æ²¡æå¤§é®é¢çï¼æ´ç²¾åçè¯´æ³åºè¯¥æ¯ç»ç»ä¸å¡é»è¾åè½ï¼å¹¶æ ¹æ®ä¸å¡éæ±ï¼å¯¹æ°æ®æä¹å±åèµ·è°ç¨ãæä»ä¹å·®å«å¢ï¼ç®æ æ¯ä¸ºäºç»ç»åºç¬¦åéæ±çä¸å¡é»è¾åè½ï¼è³äºè°ä¸è°ç¨æ°æ®å±è¿çä¸å¥½è¯´ï¼æéæ±å°±è°ç¨ï¼æ²¡æéæ±å°±ä¸è°ç¨ã\n\nä¸ä¸ªå¸¸è¯æ§çç¥è¯æ®åä¸ä¸ï¼ä¸å¡å±çæ¹æ³åå®ä¹ä¸å®è¦ä¸ä¸å¡æå³ï¼ä¾å¦ç»å½æä½\n\nlogin(string username,string password);\n\n\nèæ°æ®å±çæ¹æ³åå®ä¹ä¸å®ä¸ä¸å¡æ å³ï¼æ¯ä¸å®ï¼ä¸æ¯å¯è½ï¼ä¹ä¸æ¯æå¯è½ï¼ä¾å¦æ ¹æ®ç¨æ·åå¯ç æ¥è¯¢\n\nselectbyusernameandpassword(string username,string password);\n\n\næä»¬å¨å¼åçæ¶åæ¯å¯ä»¥æ ¹æ®å®æçå·¥ä½ä¸åååæä¸åèè½çå¼åå¢éçãæ¯å¦ä¸ä¸ªå¥ä»¬å¶ä½æ°æ®å±ï¼ä»å°±å¯ä»¥ä¸ç¥éä¸å¡æ¯ä»ä¹æ ·å­ï¼æ¿å°çéæ±ææ¡£è¦æ±å¯è½æ¯è¿æ ·ç\n\næ¥å£ï¼ä¼ å¥ç¨æ·åä¸å¯ç å­æ®µï¼æ¥è¯¢åºå¯¹åºç»æï¼ç»ææ¯åæ¡æ°æ®\næ¥å£ï¼ä¼ å¥idå­æ®µï¼æ¥è¯¢åºå¯¹åºç»æï¼ç»ææ¯åæ¡æ°æ®\næ¥å£ï¼ä¼ å¥ç¦»èå­æ®µï¼æ¥è¯¢åºå¯¹åºç»æï¼ç»ææ¯å¤æ¡æ°æ®\n\n\nä½æ¯è¿è¡ä¸å¡åè½å¼åçå¥ä»¬ï¼æ¿å°çéæ±ææ¡£è¦æ±å·®å«å°±å¾å¤§\n\næ¥å£ï¼ä¼ å¥ç¨æ·åä¸å¯ç å­æ®µï¼å¯¹ç¨æ·åå­æ®µåé¿åº¦æ ¡éªï¼4-15ä½ï¼å¯¹å¯ç å­æ®µåé¿åº¦æ ¡éªï¼8å°24ä½ï¼å¯¹åµåµåµå­æ®µåç¹æ®å­ç¬¦æ ¡éªï¼ä¸åè®¸å­å¨ç©ºæ ¼ï¼æ¥è¯¢ç»æä¸ºå¯¹è±¡ãå¦æä¸ºnullï¼è¿åbusinessexceptionï¼å°è£æ¶æ¯ç info_logon_username_password_error\n\n\nä½ æ¯è¾ä¸ä¸ï¼è½æ¯ä¸åäºåï¼å·®å«å¤ªå¤§äºï¼æä»¥è¯´ä¸å¡å±æ¹æ³å®ä¹ä¸æ°æ®å±æ¹æ³å®ä¹å·®å¼åå¾å¤§ï¼åªä¸è¿æäºå¥é¨çº§çå¼åèæææèæ²¡æä½¿ç¨è¿å¬å¸ç¸å³çisoæ ååææ¡£èå·²ã\n\nå¤ä½çè¯ä¸è¯´äºï¼å±ä»¬åæ¡ä¾å°±ç®åå¶ä½äºï¼ä¸å¡å±æ¥å£å®ä¹å¦ä¸ï¼\n\npublic interface bookservice {\n    boolean save(book book);\n    boolean update(book book);\n    boolean delete(integer id);\n    book getbyid(integer id);\n    list<book> getall();\n    ipage<book> getpage(int currentpage,int pagesize);\n}\n\n\nä¸å¡å±å®ç°ç±»å¦ä¸ï¼è½¬è°æ°æ®å±å³å¯\n\n@service\npublic class bookserviceimpl implements bookservice {\n\n    @autowired\n    private bookdao bookdao;\n\n    @override\n    public boolean save(book book) {\n        return bookdao.insert(book) > 0;\n    }\n\n    @override\n    public boolean update(book book) {\n        return bookdao.updatebyid(book) > 0;\n    }\n\n    @override\n    public boolean delete(integer id) {\n        return bookdao.deletebyid(id) > 0;\n    }\n\n    @override\n    public book getbyid(integer id) {\n        return bookdao.selectbyid(id);\n    }\n\n    @override\n    public list<book> getall() {\n        return bookdao.selectlist(null);\n    }\n\n    @override\n    public ipage<book> getpage(int currentpage, int pagesize) {\n        ipage page = new page(currentpage,pagesize);\n        bookdao.selectpage(page,null);\n        return page;\n    }\n}\n\n\nå«å¿äºå¯¹ä¸å¡å±æ¥å£è¿è¡æµè¯ï¼æµè¯ç±»å¦ä¸\n\n@springboottest\npublic class bookservicetest {\n    @autowired\n    private ibookservice bookservice;\n\n    @test\n    void testgetbyid(){\n        system.out.println(bookservice.getbyid(4));\n    }\n    @test\n    void testsave(){\n        book book = new book();\n        book.settype("æµè¯æ°æ®123");\n        book.setname("æµè¯æ°æ®123");\n        book.setdescription("æµè¯æ°æ®123");\n        bookservice.save(book);\n    }\n    @test\n    void testupdate(){\n        book book = new book();\n        book.setid(17);\n        book.settype("-----------------");\n        book.setname("æµè¯æ°æ®123");\n        book.setdescription("æµè¯æ°æ®123");\n        bookservice.updatebyid(book);\n    }\n    @test\n    void testdelete(){\n        bookservice.removebyid(18);\n    }\n\n    @test\n    void testgetall(){\n        bookservice.list();\n    }\n\n    @test\n    void testgetpage(){\n        ipage<book> page = new page<book>(2,5);\n        bookservice.page(page);\n        system.out.println(page.getcurrent());\n        system.out.println(page.getsize());\n        system.out.println(page.gettotal());\n        system.out.println(page.getpages());\n        system.out.println(page.getrecords());\n    }\n\n}\n\n\næ»ç»\n\n 1. serviceæ¥å£åç§°å®ä¹æä¸å¡åç§°ï¼å¹¶ä¸daoæ¥å£åç§°è¿è¡åºå\n 2. å¶ä½æµè¯ç±»æµè¯serviceåè½æ¯å¦ææ\n\n# ä¸å¡å±å¿«éå¼å\n\nå¶å®mpææ¯ä¸ä»æä¾äºæ°æ®å±å¿«éå¼åæ¹æ¡ï¼ä¸å¡å±mpä¹ç»äºä¸ä¸ªéç¨æ¥å£ï¼ä¸ªäººè§ç¹ä¸æ¨èä½¿ç¨ï¼ååè½ç¨å§ï¼å¶å®å°±æ¯ä¸ä¸ªå°è£+ç»§æ¿çææ³ï¼ä»£ç ç»åºï¼å®éå¼åæç¨\n\nä¸å¡å±æ¥å£å¿«éå¼å\n\npublic interface ibookservice extends iservice<book> {\n    //æ·»å ééç¨æä½apiæ¥å£\n}\n\n\nä¸å¡å±æ¥å£å®ç°ç±»å¿«éå¼åï¼å³æ³¨ç»§æ¿çç±»éè¦ä¼ å¥ä¸¤ä¸ªæ³åï¼ä¸ä¸ªæ¯æ°æ®å±æ¥å£ï¼å¦ä¸ä¸ªæ¯å®ä½ç±»\n\n@service\npublic class bookserviceimpl extends serviceimpl<bookdao, book> implements ibookservice {\n    @autowired\n    private bookdao bookdao;\n\t//æ·»å ééç¨æä½api\n}\n\n\nå¦ææè§mpæä¾çåè½ä¸è¶³ä»¥æ¯æä½ çä½¿ç¨éè¦ï¼å¶å®æ¯ä¸å®ä¸è½æ¯æçï¼å ä¸ºéæ±ä¸å¯è½æ¯éç¨çï¼å¨åå§æ¥å£åºç¡ä¸æ¥çå®ä¹æ°çapiæ¥å£å°±è¡äºï¼æ­¤å¤ä¸åè¯´å¤ªå¤äºï¼å°±æ¯èªå®ä¹èªå·±çæä½äºï¼ä½æ¯ä¸è¦åå·²æçapiæ¥å£åå²çªå³å¯ã\n\næ»ç»\n\n 1. ä½¿ç¨éç¨æ¥å£ï¼iserivce<t>ï¼å¿«éå¼åservice\n 2. ä½¿ç¨éç¨å®ç°ç±»ï¼serviceimpl<m,t>ï¼å¿«éå¼åserviceimpl\n 3. å¯ä»¥å¨éç¨æ¥å£åºç¡ä¸ååè½éè½½æåè½è¿½å \n 4. æ³¨æéè½½æ¶ä¸è¦è¦çåå§æä½ï¼é¿ååå§æä¾çåè½ä¸¢å¤±\n\n# 6.è¡¨ç°å±å¼å\n\nç»äºåå°è¡¨ç°å±äºï¼åäºè¿ä¹å¤é½æ¯åºç¡å·¥ä½ãå¶å®ä½ ç°å¨åå¤´ççï¼åªéè¿æä»ä¹springbootçå½±å­ï¼åé¢1,2æ­¥å°±æå®äºãç»§ç»­å®æè¡¨ç°å±å¶ä½å§ï¼å±ä»¬è¡¨ç°å±çå¼åä½¿ç¨åºäºrestfulçè¡¨ç°å±æ¥å£å¼åï¼åè½æµè¯éè¿postmanå·¥å·è¿è¡\n\nè¡¨ç°å±æ¥å£å¦ä¸:\n\n@restcontroller\n@requestmapping("/books")\npublic class bookcontroller2 {\n\n    @autowired\n    private ibookservice bookservice;\n\n    @getmapping\n    public list<book> getall(){\n        return bookservice.list();\n    }\n\n    @postmapping\n    public boolean save(@requestbody book book){\n        return bookservice.save(book);\n    }\n\n    @putmapping\n    public boolean update(@requestbody book book){\n        return bookservice.modify(book);\n    }\n\n    @deletemapping("{id}")\n    public boolean delete(@pathvariable integer id){\n        return bookservice.delete(id);\n    }\n\n    @getmapping("{id}")\n    public book getbyid(@pathvariable integer id){\n        return bookservice.getbyid(id);\n    }\n\n    @getmapping("{currentpage}/{pagesize}")\n    public ipage<book> getpage(@pathvariable int currentpage,@pathvariable int pagesize){\n        return bookservice.getpage(currentpage,pagesize, null);\n    }\n}\n\n\nå¨å®ç¨postmanæµè¯æ¶å³æ³¨æäº¤ç±»åï¼å¯¹åºä¸å³å¯ï¼ä¸ç¶å°±ä¼æ¥405çéè¯¯ç äº\n\næ®égetè¯·æ±\n\n\n\nputè¯·æ±ä¼ éjsonæ°æ®ï¼åå°å®ç¨@requestbodyæ¥æ¶æ°æ®\n\n\n\ngetè¯·æ±ä¼ éè·¯å¾åéï¼åå°å®ç¨@pathvariableæ¥æ¶æ°æ®\n\n\n\næ»ç»\n\n 1. åºäºrestfulå¶ä½è¡¨ç°å±æ¥å£\n    * æ°å¢ï¼post\n    * å é¤ï¼delete\n    * ä¿®æ¹ï¼put\n    * æ¥è¯¢ï¼get\n 2. æ¥æ¶åæ°\n    * å®ä½æ°æ®ï¼@requestbody\n    * è·¯å¾åéï¼@pathvariable\n\n# 7.è¡¨ç°å±æ¶æ¯ä¸è´æ§å¤ç\n\nç®åæä»¬éè¿postmanæµè¯åä¸å¡å±æ¥å£åè½æ¶éçï¼ä½æ¯è¿æ ·çç»æç»å°åç«¯å¼åèä¼åºç°ä¸ä¸ªå°é®é¢ãä¸åçæä½ç»ææå±ç¤ºçæ°æ®æ ¼å¼å·®å¼åä¸¥é\n\nå¢å æ¹æä½ç»æ\n\ntrue\n\n\næ¥è¯¢åä¸ªæ°æ®æä½ç»æ\n\n{\n    "id": 1,\n    "type": "è®¡ç®æºçè®º",\n    "name": "springå®æ ç¬¬5ç",\n    "description": "springå¥é¨ç»å¸æç¨"\n}\n\n\næ¥è¯¢å¨é¨æ°æ®æä½ç»æ\n\n[\n    {\n        "id": 1,\n        "type": "è®¡ç®æºçè®º",\n        "name": "springå®æ ç¬¬5ç",\n        "description": "springå¥é¨ç»å¸æç¨"\n    },\n    {\n        "id": 2,\n        "type": "è®¡ç®æºçè®º",\n        "name": "spring 5æ ¸å¿åçä¸30ä¸ªç±»æåå®æ",\n        "description": "åå¹´æ²æ·ä¹ä½"\n    }\n]\n\n\næ¯ç§ä¸åæä½è¿åçæ°æ®æ ¼å¼é½ä¸ä¸æ ·ï¼èä¸è¿ä¸ç¥éä»¥åè¿ä¼æä»ä¹æ ¼å¼ï¼è¿æ ·çç»æè®©åç«¯äººåçäºæ¯å¾å®¹æè®©äººå´©æºçï¼å¿é¡»å°æææä½çæä½ç»ææ°æ®æ ¼å¼ç»ä¸èµ·æ¥ï¼éè¦è®¾è®¡è¡¨ç°å±è¿åç»æçæ¨¡åç±»ï¼ç¨äºåç«¯ä¸åç«¯è¿è¡æ°æ®æ ¼å¼ç»ä¸ï¼ä¹ç§°ä¸ºååç«¯æ°æ®åè®®\n\n@data\npublic class r {\n    private boolean flag;\n    private object data;\n}\n\n\nå¶ä¸­flagç¨äºæ è¯æä½æ¯å¦æåï¼dataç¨äºå°è£æä½æ°æ®ï¼ç°å¨çæ°æ®æ ¼å¼å°±åäº\n\n{\n    "flag": true,\n    "data":{\n        "id": 1,\n        "type": "è®¡ç®æºçè®º",\n        "name": "springå®æ ç¬¬5ç",\n        "description": "springå¥é¨ç»å¸æç¨"\n    }\n}\n\n\nè¡¨ç°å±å¼åæ ¼å¼ä¹éè¦è½¬æ¢ä¸ä¸\n\nç»æè¿ä¹ä¸æè¾ï¼å¨æ ¼å¼ç»ä¸ï¼ç°å¨åç«¯åéç»åç«¯çæ°æ®æ ¼å¼å°±ç»ä¸äºï¼åå»äºä¸å°åç«¯è§£ææ°æ®çéº»ç¦ã\n\næ»ç»\n\n 1. è®¾è®¡ç»ä¸çè¿åå¼ç»æç±»åä¾¿äºåç«¯å¼åè¯»åæ°æ®\n\n 2. è¿åå¼ç»æç±»åå¯ä»¥æ ¹æ®éæ±èªè¡è®¾å®ï¼æ²¡æåºå®æ ¼å¼\n\n 3. è¿åå¼ç»ææ¨¡åç±»ç¨äºåç«¯ä¸åç«¯è¿è¡æ°æ®æ ¼å¼ç»ä¸ï¼ä¹ç§°ä¸ºååç«¯æ°æ®åè®®\n\n# 8.ååç«¯èéæ§æµè¯\n\nåç«¯çè¡¨ç°å±æ¥å£å¼åå®æ¯ï¼å°±å¯ä»¥è¿è¡åç«¯çå¼åäºã\n\nå°åç«¯äººåå¼åçé¡µé¢ä¿å­å°lresourcesç®å½ä¸çstaticç®å½ä¸­ï¼å»ºè®®æ§è¡mavençcleançå½å¨æï¼é¿åç¼å­çé®é¢åºç°ã\n\n\n\nå¨è¿è¡å·ä½çåè½å¼åä¹åï¼ååèéæ§çæµè¯ï¼éè¿é¡µé¢åéå¼æ­¥æäº¤ï¼axiosï¼ï¼è¿ä¸æ­¥è°è¯éè¿ååè¿è¡è¿ä¸æ­¥çåè½å¼å\n\n//åè¡¨\ngetall() {\n\taxios.get("/books").then((res)=>{\n\t\tconsole.log(res.data);\n\t});\n},\n\n\nåªè¦åå°ä»£ç è½å¤æ­£å¸¸å·¥ä½ï¼åç«¯è½å¤å¨æ¥å¿ä¸­æ¥æ¶å°æ°æ®ï¼å°±è¯æååç«¯æ¯éçï¼ä¹å°±å¯ä»¥è¿è¡ä¸ä¸æ­¥çåè½å¼åäº\n\næ»ç»\n\n 1. åä½é¡¹ç®ä¸­é¡µé¢æ¾ç½®å¨resources/staticç®å½ä¸\n 2. createdé©å­å½æ°ç¨äºåå§åé¡µé¢æ¶åèµ·è°ç¨\n 3. é¡µé¢ä½¿ç¨axiosåéå¼æ­¥è¯·æ±è·åæ°æ®åç¡®è®¤ååç«¯æ¯å¦èé\n\n# 9.é¡µé¢åºç¡åè½å¼å\n\n# f-1.åè¡¨åè½ï¼éåé¡µçï¼\n\nåè¡¨åè½ä¸»è¦æä½å°±æ¯å è½½å®æ°æ®ï¼å°æ°æ®å±ç¤ºå°é¡µé¢ä¸ï¼æ­¤å¤è¦å©ç¨vueçæ°æ®æ¨¡åç»å®ï¼åéè¯·æ±å¾å°æ°æ®ï¼ç¶åé¡µé¢ä¸è¯»åæå®æ°æ®å³å¯\n\né¡µé¢æ°æ®æ¨¡åå®ä¹\n\ndata:{\n\tdatalist: [],//å½åé¡µè¦å±ç¤ºçåè¡¨æ°æ®\n\t...\n},\n\n\nå¼æ­¥è¯·æ±è·åæ°æ®\n\n//åè¡¨\ngetall() {\n    axios.get("/books").then((res)=>{\n        this.datalist = res.data.data;\n    });\n},\n\n\nè¿æ ·å¨é¡µé¢å è½½æ¶å°±å¯ä»¥è·åå°æ°æ®ï¼å¹¶ä¸ç±vueå°æ°æ®å±ç¤ºå°é¡µé¢ä¸äº\n\næ»ç»ï¼\n\n 1. å°æ¥è¯¢æ°æ®è¿åå°é¡µé¢ï¼å©ç¨åç«¯æ°æ®ç»å®è¿è¡æ°æ®å±ç¤º\n\n# f-2.æ·»å åè½\n\næ·»å åè½ç¨äºæ¶éæ°æ®çè¡¨åæ¯éè¿ä¸ä¸ªå¼¹çªå±ç¤ºçï¼å æ­¤å¨æ·»å æä½åé¦åè¦è¿è¡å¼¹çªçå±ç¤ºï¼æ·»å åéèå¼¹çªå³å¯ãå ä¸ºè¿ä¸ªå¼¹çªä¸ç´å­å¨ï¼å æ­¤å½é¡µé¢å è½½æ¶é¦åè®¾ç½®è¿ä¸ªå¼¹çªä¸ºä¸å¯æ¾ç¤ºç¶æï¼éè¦å±ç¤ºï¼åæ¢ç¶æå³å¯\n\né»è®¤ç¶æ\n\ndata:{\n\tdialogformvisible: false,//æ·»å è¡¨åæ¯å¦å¯è§\n\t...\n},\n\n\nåæ¢ä¸ºæ¾ç¤ºç¶æ\n\n//å¼¹åºæ·»å çªå£\nhandlecreate() {\n\tthis.dialogformvisible = true;\n},\n\n\nç±äºæ¯æ¬¡æ·»å æ°æ®é½æ¯ä½¿ç¨åä¸ä¸ªå¼¹çªå½å¥æ°æ®ï¼æä»¥æ¯æ¬¡æä½ççè¿¹å°å¨ä¸ä¸æ¬¡æä½æ¶å±ç¤ºåºæ¥ï¼éè¦å¨æ¯æ¬¡æä½ä¹åæ¸çæä¸æ¬¡æä½ççè¿¹\n\nå®ä¹æ¸çæ°æ®æä½\n\n//éç½®è¡¨å\nresetform() {\n    this.formdata = {};\n},\n\n\nåæ¢å¼¹çªç¶ææ¶æ¸çæ°æ®\n\n//å¼¹åºæ·»å çªå£\nhandlecreate() {\n    this.dialogformvisible = true;\n    this.resetform();\n},\n\n\nè³æ­¤åå¤å·¥ä½å®æï¼ä¸é¢å°±è¦è°ç¨åå°å®ææ·»å æä½äº\n\næ·»å æä½\n\n//æ·»å \nhandleadd () {\n    //åéå¼æ­¥è¯·æ±\n    axios.post("/books",this.formdata).then((res)=>{\n        //å¦ææä½æåï¼å³é­å¼¹å±ï¼æ¾ç¤ºæ°æ®\n        if(res.data.flag){\n            this.dialogformvisible = false;\n            this.$message.success("æ·»å æå");\n        }else {\n            this.$message.error("æ·»å å¤±è´¥");\n        }\n    }).finally(()=>{\n        this.getall();\n    });\n},\n\n\n 1. å°è¦ä¿å­çæ°æ®ä¼ éå°åå°ï¼éè¿postè¯·æ±çç¬¬äºä¸ªåæ°ä¼ éjsonæ°æ®å°åå°\n 2. æ ¹æ®è¿åçæä½ç»æå³å®ä¸ä¸æ­¥æä½\n    * å¦ä½æ¯trueå°±å³é­æ·»å çªå£ï¼æ¾ç¤ºæ·»å æåçæ¶æ¯\n    * å¦ææ¯falseä¿çæ·»å çªå£ï¼æ¾ç¤ºæ·»å å¤±è´¥çæ¶æ¯\n 3. æ è®ºæ·»å æ¯å¦æåï¼é¡µé¢åè¿è¡å·æ°ï¼å¨æå è½½æ°æ®ï¼å¯¹getallæä½åèµ·è°ç¨ï¼\n\nåæ¶æ·»å æä½\n\n//åæ¶\ncancel(){\n    this.dialogformvisible = false;\n    this.$message.info("æä½åæ¶");\n},\n\n\næ»ç»\n\n 1. è¯·æ±æ¹å¼ä½¿ç¨postè°ç¨åå°å¯¹åºæä½\n 2. æ·»å æä½ç»æåå¨æå·æ°é¡µé¢å è½½æ°æ®\n 3. æ ¹æ®æä½ç»æä¸åï¼æ¾ç¤ºå¯¹åºçæç¤ºä¿¡æ¯\n 4. å¼¹åºæ·»å divæ¶æ¸é¤è¡¨åæ°æ®\n\n# f-3.å é¤åè½\n\næ¨¡ä»¿æ·»å æä½å¶ä½å é¤åè½ï¼å·®å«ä¹å¤å¨äºå é¤æä½ä»ä¼ éä¸ä¸ªå¾å é¤çæ°æ®idå°åå°å³å¯\n\nå é¤æä½\n\n// å é¤\nhandledelete(row) {\n    axios.delete("/books/"+row.id).then((res)=>{\n        if(res.data.flag){\n            this.$message.success("å é¤æå");\n        }else{\n            this.$message.error("å é¤å¤±è´¥");\n        }\n    }).finally(()=>{\n        this.getall();\n    });\n},\n\n\nå é¤æä½æç¤ºä¿¡æ¯\n\n// å é¤\nhandledelete(row) {\n    //1.å¼¹åºæç¤ºæ¡\n    this.$confirm("æ­¤æä½æ°¸ä¹å é¤å½åæ°æ®ï¼æ¯å¦ç»§ç»­ï¼","æç¤º",{\n        type:\'info\'\n    }).then(()=>{\n        //2.åå é¤ä¸å¡\n        axios.delete("/books/"+row.id).then((res)=>{\n       \t\tif(res.data.flag){\n            \tthis.$message.success("å é¤æå");\n        \t}else{\n            \tthis.$message.error("å é¤å¤±è´¥");\n        \t}\n        }).finally(()=>{\n            this.getall();\n        });\n    }).catch(()=>{\n        //3.åæ¶å é¤\n        this.$message.info("åæ¶å é¤æä½");\n    });\n}ï¼\t\n\n\næ»ç»\n\n 1. è¯·æ±æ¹å¼ä½¿ç¨deleteè°ç¨åå°å¯¹åºæä½\n 2. å é¤æä½éè¦ä¼ éå½åè¡æ°æ®å¯¹åºçidå¼å°åå°\n 3. å é¤æä½ç»æåå¨æå·æ°é¡µé¢å è½½æ°æ®\n 4. æ ¹æ®æä½ç»æä¸åï¼æ¾ç¤ºå¯¹åºçæç¤ºä¿¡æ¯\n 5. å é¤æä½åå¼¹åºæç¤ºæ¡é¿åè¯¯æä½\n\n# f-4.ä¿®æ¹åè½\n\nä¿®æ¹åè½å¯ä»¥è¯´æ¯åè¡¨åè½ãå é¤åè½ä¸æ·»å åè½çåä½ãå ä¸ªç¸ä¼¼ç¹å¦ä¸ï¼\n\n 1. é¡µé¢ä¹éè¦æä¸ä¸ªå¼¹çªç¨æ¥å è½½ä¿®æ¹çæ°æ®ï¼è¿ä¸ç¹ä¸æ·»å ç¸åï¼é½æ¯è¦å¼¹çª\n\n 2. å¼¹åºçªå£ä¸­è¦å è½½å¾ä¿®æ¹çæ°æ®ï¼èæ°æ®éè¦éè¿æ¥è¯¢å¾å°ï¼è¿ä¸ç¹ä¸æ¥è¯¢å¨é¨ç¸åï¼é½æ¯è¦æ¥æ°æ®\n\n 3. æ¥è¯¢æä½éè¦å°è¦ä¿®æ¹çæ°æ®idåéå°åå°ï¼è¿ä¸ç¹ä¸å é¤ç¸åï¼é½æ¯ä¼ éidå°åå°\n\n 4. æ¥è¯¢å¾å°æ°æ®åéè¦å±ç¤ºå°å¼¹çªä¸­ï¼è¿ä¸ç¹ä¸æ¥è¯¢å¨é¨ç¸åï¼é½æ¯è¦éè¿æ°æ®æ¨¡åç»å®å±ç¤ºæ°æ®\n\n 5. ä¿®æ¹æ°æ®æ¶éè¦å°è¢«ä¿®æ¹çæ°æ®ä¼ éå°åå°ï¼è¿ä¸ç¹ä¸æ·»å ç¸åï¼é½æ¯è¦ä¼ éæ°æ®\n    \n    æä»¥æ´ä½ä¸æ¥çï¼ä¿®æ¹åè½å°±æ¯åé¢å ä¸ªåè½çå¤§åä½\n    \n    æ¥è¯¢å¹¶å±ç¤ºæ°æ®\n\n//å¼¹åºç¼è¾çªå£\nhandleupdate(row) {\n    axios.get("/books/"+row.id).then((res)=>{\n        if(res.data.flag){\n            //å±ç¤ºå¼¹å±ï¼å è½½æ°æ®\n            this.formdata = res.data.data;\n            this.dialogformvisible4edit = true;\n        }else{\n            this.$message.error("æ°æ®åæ­¥å¤±è´¥ï¼èªå¨å·æ°");\n        }\n    });\n},\n\n\nä¿®æ¹æä½\n\n//ä¿®æ¹\nhandleedit() {\n    axios.put("/books",this.formdata).then((res)=>{\n        //å¦ææä½æåï¼å³é­å¼¹å±å¹¶å·æ°é¡µé¢\n        if(res.data.flag){\n            this.dialogformvisible4edit = false;\n            this.$message.success("ä¿®æ¹æå");\n        }else {\n            this.$message.error("ä¿®æ¹å¤±è´¥ï¼è¯·éè¯");\n        }\n    }).finally(()=>{\n        this.getall();\n    });\n},\n\n\næ»ç»\n\n 1. å è½½è¦ä¿®æ¹æ°æ®éè¿ä¼ éå½åè¡æ°æ®å¯¹åºçidå¼å°åå°æ¥è¯¢æ°æ®ï¼åå é¤ä¸æ¥è¯¢å¨é¨ï¼\n 2. å©ç¨åç«¯ååæ°æ®ç»å®å°æ¥è¯¢å°çæ°æ®è¿è¡åæ¾ï¼åæ¥è¯¢å¨é¨ï¼\n 3. è¯·æ±æ¹å¼ä½¿ç¨putè°ç¨åå°å¯¹åºæä½ï¼åæ°å¢ä¼ éæ°æ®ï¼\n 4. ä¿®æ¹æä½ç»æåå¨æå·æ°é¡µé¢å è½½æ°æ®ï¼åæ°å¢ï¼\n 5. æ ¹æ®æä½ç»æä¸åï¼æ¾ç¤ºå¯¹åºçæç¤ºä¿¡æ¯ï¼åæ°å¢ï¼\n\n\n\n# 10.ä¸å¡æ¶æ¯ä¸è´æ§å¤ç\n\nç®åçåè½å¶ä½åºæ¬ä¸è¾¾æäºæ­£å¸¸ä½¿ç¨çæåµï¼ä»ä¹å«æ­£å¸¸ä½¿ç¨å¢ï¼ä¹å°±æ¯è¿ä¸ªç¨åºä¸åºbugï¼å¦ææä»¬æä¸ä¸ªbugåºæ¥ï¼ä½ ä¼åç°ç¨åºé©¬ä¸å´©æºæãæ¯å¦åå°æå·¥æåºä¸ä¸ªå¼å¸¸ï¼ççåç«¯æ¥æ¶å°çæ°æ®ä»ä¹æ ·å­\n\n{\n    "timestamp": "2021-09-15t03:27:31.038+00:00",\n    "status": 500,\n    "error": "internal server error",\n    "path": "/books"\n}\n\n\né¢å¯¹è¿ç§æåµï¼åç«¯çåå­¦åä¸ä¼äºï¼è¿åæ¯ä»ä¹æ ¼å¼ï¼æä¹åä¹åçæ ¼å¼ä¸ä¸æ ·ï¼\n\n{\n    "flag": true,\n    "data":{\n        "id": 1,\n        "type": "è®¡ç®æºçè®º",\n        "name": "springå®æ ç¬¬5ç",\n        "description": "springå¥é¨ç»å¸æç¨"\n    }\n}\n\n\nçæ¥ä¸ä»è¦å¯¹æ­£ç¡®çæä½æ°æ®æ ¼å¼åå¤çï¼è¿è¦å¯¹éè¯¯çæä½æ°æ®æ ¼å¼ååæ ·çæ ¼å¼å¤ç\n\né¦åå¨å½åçæ°æ®ç»æä¸­æ·»å æ¶æ¯å­æ®µï¼ç¨æ¥å¼å®¹åå°åºç°çæä½æ¶æ¯\n\n@data\npublic class r{\n    private boolean flag;\n    private object data;\n    private string msg;\t\t//ç¨äºå°è£æ¶æ¯\n}\n\n\nåå°ä»£ç ä¹è¦æ ¹æ®æåµåå¤çï¼å½åæ¯æ¨¡æçéè¯¯\n\n@postmapping\npublic r save(@requestbody book book) throws ioexception {\n    boolean flag = bookservice.insert(book);\n    return new r(flag , flag ? "æ·»å æå^_^" : "æ·»å å¤±è´¥-_-!");\n}\n\n\nç¶åå¨è¡¨ç°å±åç»ä¸çå¼å¸¸å¤çï¼ä½¿ç¨springmvcæä¾çå¼å¸¸å¤çå¨åç»ä¸çå¼å¸¸å¤ç\n\n@restcontrolleradvice\npublic class projectexceptionadvice {\n    // exceptionhandlerç¨æ¥æ¦æªæææèæå®çå¼å¸¸ä¿¡æ¯\n    @exceptionhandler(exception.class)\n    public r dootherexception(exception ex){\n        //è®°å½æ¥å¿\n        //åéæ¶æ¯ç»è¿ç»´\n        //åéé®ä»¶ç»å¼åäººå,exå¯¹è±¡åéç»å¼åäººå\n        ex.printstacktrace();\n        return new r(false,null,"ç³»ç»éè¯¯ï¼è¯·ç¨ååè¯ï¼");\n    }\n}\n\n\né¡µé¢ä¸å¾å°æ°æ®åï¼åå¤å®æ¯å¦æåå°ä¼ éè¿æ¥çæ¶æ¯ï¼æ å¿å°±æ¯å½åæä½æ¯å¦æåï¼å¦æè¿åæä½ç»æfalseï¼å°±è¯»ååå°ä¼ éçæ¶æ¯\n\n//æ·»å \nhandleadd () {\n\t//åéajaxè¯·æ±\n    axios.post("/books",this.formdata).then((res)=>{\n        //å¦ææä½æåï¼å³é­å¼¹å±ï¼æ¾ç¤ºæ°æ®\n        if(res.data.flag){\n            this.dialogformvisible = false;\n            this.$message.success("æ·»å æå");\n        }else {\n            this.$message.error(res.data.msg);\t\t\t//æ¶æ¯æ¥èªäºåå°ä¼ éè¿æ¥ï¼èéåºå®åå®¹\n        }\n    }).finally(()=>{\n        this.getall();\n    });\n},\n\n\næ»ç»\n\n 1. ä½¿ç¨æ³¨è§£**@restcontrolleradvice**å®ä¹springmvcå¼å¸¸å¤çå¨ç¨æ¥å¤çå¼å¸¸ç\n 2. å¼å¸¸å¤çå¨å¿é¡»è¢«æ«æå è½½ï¼å¦åæ æ³çæ\n 3. è¡¨ç°å±è¿åç»æçæ¨¡åç±»ä¸­æ·»å æ¶æ¯å±æ§ç¨æ¥ä¼ éæ¶æ¯å°é¡µé¢\n\n\n\n# 11.é¡µé¢åè½å¼å\n\n# f-5.åé¡µåè½\n\nåé¡µåè½çå¶ä½ç¨äºæ¿æ¢åé¢çæ¥è¯¢å¨é¨ï¼å¶ä¸­è¦ä½¿ç¨å°elementuiæä¾çåé¡µç»ä»¶\n\n\x3c!--åé¡µç»ä»¶--\x3e\n<div class="pagination-container">\n    <el-pagination\n\t\tclass="pagiantion"\n\t\t@current-change="handlecurrentchange"\n\t\t:current-page="pagination.currentpage"\n\t\t:page-size="pagination.pagesize"\n\t\tlayout="total, prev, pager, next, jumper"\n\t\t:total="pagination.total">\n    </el-pagination>\n</div>\n\n\nä¸ºäºéååé¡µç»ä»¶ï¼å°è£åé¡µå¯¹åºçæ°æ®æ¨¡å\n\ndata:{\n\tpagination: {\t\n\t\t//åé¡µç¸å³æ¨¡åæ°æ®\n\t\tcurrentpage: 1,\t//å½åé¡µç \n\t\tpagesize:10,\t//æ¯é¡µæ¾ç¤ºçè®°å½æ°\n\t\ttotal:0,\t\t//æ»è®°å½æ°\n\t}\n},\n\n\nä¿®æ¹æ¥è¯¢å¨é¨åè½ä¸ºåé¡µæ¥è¯¢ï¼éè¿è·¯å¾åéä¼ éé¡µç ä¿¡æ¯åæ°\n\ngetall() {\n    axios.get("/books/"+this.pagination.currentpage+"/"+this.pagination.pagesize).then((res) => {\n    });\n},\n\n\nåå°æä¾å¯¹åºçåé¡µåè½\n\n@getmapping("/{currentpage}/{pagesize}")\npublic r getall(@pathvariable integer currentpage,@pathvariable integer pagesize){\n    ipage<book> pagebook = bookservice.getpage(currentpage, pagesize);\n    return new r(null != pagebook ,pagebook);\n}\n\n\né¡µé¢æ ¹æ®åé¡µæä½ç»æè¯»åå¯¹åºæ°æ®ï¼å¹¶è¿è¡æ°æ®æ¨¡åç»å®\n\ngetall() {\n    axios.get("/books/"+this.pagination.currentpage+"/"+this.pagination.pagesize).then((res) => {\n        this.pagination.total = res.data.data.total;\n        this.pagination.currentpage = res.data.data.current;\n        this.pagination.pagesize = res.data.data.size;\n        this.datalist = res.data.data.records;\n    });\n},\n\n\nå¯¹åæ¢é¡µç æä½è®¾ç½®è°ç¨å½ååé¡µæä½\n\n//åæ¢é¡µç \nhandlecurrentchange(currentpage) {\n    this.pagination.currentpage = currentpage;\n    this.getall();\n},\n\n\næ»ç»\n\n 1. ä½¿ç¨elåé¡µç»ä»¶\n 2. å®ä¹åé¡µç»ä»¶ç»å®çæ°æ®æ¨¡å\n 3. å¼æ­¥è°ç¨è·ååé¡µæ°æ®\n 4. åé¡µæ°æ®é¡µé¢åæ¾\n\n# f-6.å é¤åè½ç»´æ¤\n\nç±äºä½¿ç¨äºåé¡µåè½ï¼å½æåä¸é¡µåªæä¸æ¡æ°æ®æ¶ï¼å é¤æä½å°±ä¼åºç°bugï¼æåä¸é¡µæ æ°æ®ä½æ¯ç¬ç«å±ç¤ºï¼å¯¹åé¡µæ¥è¯¢åè½è¿è¡åå°åè½ç»´æ¤ï¼å¦æå½åé¡µç å¼å¤§äºæå¤§é¡µç å¼ï¼éæ°æ§è¡æ¥è¯¢ãå¶å®è¿ä¸ªé®é¢è§£å³æ¹æ¡å¾å¤ï¼è¿éç»åºæ¯è¾ç®åçä¸ç§å¤çæ¹æ¡\n\n@getmapping("{currentpage}/{pagesize}")\npublic r getpage(@pathvariable int currentpage,@pathvariable int pagesize){\n    ipage<book> page = bookservice.getpage(currentpage, pagesize);\n    //å¦æå½åé¡µç å¼å¤§äºäºæ»é¡µç å¼ï¼é£ä¹éæ°æ§è¡æ¥è¯¢æä½ï¼ä½¿ç¨æå¤§é¡µç å¼ä½ä¸ºå½åé¡µç å¼\n    if( currentpage > page.getpages()){\n        page = bookservice.getpage((int)page.getpages(), pagesize);\n    }\n    return new r(true, page);\n}\n\n\n# f-7.æ¡ä»¶æ¥è¯¢åè½\n\næåä¸ä¸ªåè½æ¥åæ¡ä»¶æ¥è¯¢ï¼å¶å®æ¡ä»¶æ¥è¯¢å¯ä»¥çè§£ä¸ºåé¡µæ¥è¯¢çæ¶åé¤äºæºå¸¦åé¡µæ°æ®åå¤å¸¦å ä¸ªæ°æ®çæ¥è¯¢ãè¿äºå¤å¸¦çæ°æ®å°±æ¯æ¥è¯¢æ¡ä»¶ãæ¯è¾ä¸ä¸ä¸å¸¦æ¡ä»¶çåé¡µæ¥è¯¢ä¸å¸¦æ¡ä»¶çåé¡µæ¥è¯¢å·®å«ä¹å¤ï¼è¿ä¸ªåè½å°±å¥½åäº\n\n * é¡µé¢å°è£çæ°æ®ï¼å¸¦ä¸å¸¦æ¡ä»¶å½±åçä»ä»æ¯ä¸æ¬¡æ§ä¼ éå°åå°çæ°æ®æ»éï¼ç±ä¼ é2ä¸ªåé¡µç¸å³çæ°æ®è½¬æ¢æ2ä¸ªåé¡µæ°æ®å è¥å¹²ä¸ªæ¡ä»¶\n\n * åå°æ¥è¯¢åè½ï¼æ¥è¯¢æ¶ç±ä¸å¸¦æ¡ä»¶ï¼è½¬æ¢æå¸¦æ¡ä»¶ï¼åæ­£ä¸å¸¦æ¡ä»¶çæ¶åæ¥è¯¢æ¡ä»¶å¯¹è±¡ä½¿ç¨çæ¯nullï¼ç°å¨æ¢æå·ä½æ¡ä»¶ï¼å·®å«ä¸å¤§\n\n * æ¥è¯¢ç»æï¼ä¸ç®¡å¸¦ä¸å¸¦æ¡ä»¶ï¼åºæ¥çæ°æ®åªæ¯ææ°éä¸çå·®å«ï¼å¶ä»é½å·®å«ï¼è¿ä¸ªå¯ä»¥å¿½ç¥\n   \n   ç»è¿ä¸è¿°åæï¼çæ¥éè¦å¨é¡µé¢åéè¯·æ±çæ ¼å¼æ¹é¢åä¸å®çä¿®æ¹ï¼åå°çè°ç¨æ°æ®å±æä½æ¶åéä¿®æ¹ï¼å¶ä»æ²¡æåºå«\n   \n   é¡µé¢åéè¯·æ±æ¶ï¼ä¸¤ä¸ªåé¡µæ°æ®ä»ç¶ä½¿ç¨è·¯å¾åéï¼å¶ä»æ¡ä»¶éç¨å¨ææ¼è£urlåæ°çå½¢å¼ä¼ é\n   \n   é¡µé¢å°è£æ¥è¯¢æ¡ä»¶å­æ®µ\n   \n   pagination: {\t\t\n   //åé¡µç¸å³æ¨¡åæ°æ®\n   \tcurrentpage: 1,\t\t//å½åé¡µç \n   \tpagesize:10,\t\t//æ¯é¡µæ¾ç¤ºçè®°å½æ°\n   \ttotal:0,\t\t\t//æ»è®°å½æ°\n   \tname: "",\n   \ttype: "",\n   \tdescription: ""\n   },\n   \n   \n   é¡µé¢æ·»å æ¥è¯¢æ¡ä»¶å­æ®µå¯¹åºçæ°æ®æ¨¡åç»å®åç§°\n   \n   <div class="filter-container">\n       <el-input placeholder="å¾ä¹¦ç±»å«" v-model="pagination.type" class="filter-item"/>\n       <el-input placeholder="å¾ä¹¦åç§°" v-model="pagination.name" class="filter-item"/>\n       <el-input placeholder="å¾ä¹¦æè¿°" v-model="pagination.description" class="filter-item"/>\n       <el-button @click="getall()" class="dalfbut">æ¥è¯¢</el-button>\n       <el-button type="primary" class="butt" @click="handlecreate()">æ°å»º</el-button>\n   </div>\n   \n   \n   å°æ¥è¯¢æ¡ä»¶ç»ç»æurlåæ°ï¼æ·»å å°è¯·æ±urlå°åä¸­ï¼è¿éå¯ä»¥åå©å¶ä»ç±»åºå¿«éå¼åï¼å½åä½¿ç¨æå·¥å½¢å¼æ¼æ¥ï¼éä½å­¦ä¹ è¦æ±\n   \n   getall() {\n       //1.è·åæ¥è¯¢æ¡ä»¶,æ¼æ¥æ¥è¯¢æ¡ä»¶\n       param = "?name="+this.pagination.name;\n       param += "&type="+this.pagination.type;\n       param += "&description="+this.pagination.description;\n       console.log("-----------------"+ param);\n       axios.get("/books/"+this.pagination.currentpage+"/"+this.pagination.pagesize+param).then((res) => {\n           this.datalist = res.data.data.records;\n       });\n   },\n   \n   \n   åå°ä»£ç ä¸­å®ä¹å®ä½ç±»å°æ¥è¯¢æ¡ä»¶\n   \n   @getmapping("{currentpage}/{pagesize}")\n   public r getall(@pathvariable int currentpage,@pathvariable int pagesize,book book) {\n       system.out.println("åæ°=====>"+book);\n       ipage<book> pagebook = bookservice.getpage(currentpage,pagesize);\n       return new r(null != pagebook ,pagebook);\n   }\n   \n   \n   å¯¹åºä¸å¡å±æ¥å£ä¸å®ç°ç±»è¿è¡ä¿®æ­£\n   \n   public interface ibookservice extends iservice<book> {\n       ipage<book> getpage(integer currentpage,integer pagesize,book querybook);\n   }\n   \n   \n   @service\n   public class bookserviceimpl2 extends serviceimpl<bookdao,book> implements ibookservice {\n       public ipage<book> getpage(integer currentpage,integer pagesize,book querybook){\n           ipage page = new page(currentpage,pagesize);\n           lambdaquerywrapper<book> lqw = new lambdaquerywrapper<book>();\n           lqw.like(strings.isnotempty(querybook.getname()),book::getname,querybook.getname());\n           lqw.like(strings.isnotempty(querybook.gettype()),book::gettype,querybook.gettype());\n           lqw.like(strings.isnotempty(querybook.getdescription()),book::getdescription,querybook.getdescription());\n           return bookdao.selectpage(page,lqw);\n       }\n   }\n   \n   \n   é¡µé¢åæ¾æ°æ®\n   \n   getall() {\n       //1.è·åæ¥è¯¢æ¡ä»¶,æ¼æ¥æ¥è¯¢æ¡ä»¶\n       param = "?name="+this.pagination.name;\n       param += "&type="+this.pagination.type;\n       param += "&description="+this.pagination.description;\n       console.log("-----------------"+ param);\n       axios.get("/books/"+this.pagination.currentpage+"/"+this.pagination.pagesize+param).then((res) => {\n           this.pagination.total = res.data.data.total;\n           this.pagination.currentpage = res.data.data.current;\n           this.pagination.pagesize = res.data.data.size;\n           this.datalist = res.data.data.records;\n       });\n   },\n   \n\næ»ç»\n\n 1. å®ä¹æ¥è¯¢æ¡ä»¶æ°æ®æ¨¡åï¼å½åå°è£å°åé¡µæ°æ®æ¨¡åä¸­ï¼\n 2. å¼æ­¥è°ç¨åé¡µåè½å¹¶éè¿è¯·æ±åæ°ä¼ éæ°æ®å°åå°\n\n\n# åºç¡ç¯å®ç»\n\nåºç¡ç¯å°è¿éå°±å¨é¨ç»æäºï¼å¨åºç¡ç¯ä¸­å¸¦çå¤§å®¶å­¦ä¹ äºå¦æåå»ºä¸ä¸ªspringbootå·¥ç¨ï¼ç¶åå­¦ä¹ äºspringbootçåºç¡éç½®è¯­æ³æ ¼å¼ï¼æ¥ä¸æ¥å¯¹å¸¸è§çå¸é¢ä¸çå®ç¨ææ¯åäºæ´åï¼æåéè¿ä¸ä¸ªå°çæ¡ä¾å¯¹åé¢å­¦ä¹ çåå®¹åäºä¸ä¸ªç»¼ååºç¨ãæ´ä½æ¥è¯´å°±æ¯ä¸ä¸ªæåºæ¬çå¥é¨ï¼å³äºspringbootçå®éå¼åå¶å®æ¥è§¦çè¿æ¯å¾å°çï¼æä»¬å°å®ç¨ç¯ååçç¯ä¸­ç»§ç»­å§ï¼åä½å°ä¼ä¼´ï¼å æ²¹å­¦ä¹ ï¼åè§ã',charsets:{cjk:!0}},{title:"ç®ä»åéç½®",frontmatter:{title:"ç®ä»åéç½®",date:"2022-03-04T00:00:00.000Z",permalink:"/mybatis/001/",categories:["æ¡æ¶","MyBatis"],tags:["MyBatis"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/04.MyBatis/01.%E7%AE%80%E4%BB%8B%E5%8F%8A%E9%85%8D%E7%BD%AE.html",relativePath:"07.æ¡æ¶/04.MyBatis/01.ç®ä»åéç½®.md",key:"v-df9543e4",path:"/mybatis/001/",headers:[{level:2,title:"MyBatisåå²",slug:"mybatisåå²",normalizedTitle:"mybatisåå²",charIndex:16},{level:2,title:"MyBatisç¹æ§",slug:"mybatisç¹æ§",normalizedTitle:"mybatisç¹æ§",charIndex:287},{level:2,title:"MyBatisä¸è½½",slug:"mybatisä¸è½½",normalizedTitle:"mybatisä¸è½½",charIndex:532},{level:2,title:"åå¶å®æä¹åå±ææ¯å¯¹æ¯",slug:"åå¶å®æä¹åå±ææ¯å¯¹æ¯",normalizedTitle:"åå¶å®æä¹åå±ææ¯å¯¹æ¯",charIndex:566},{level:2,title:"å¼åç¯å¢",slug:"å¼åç¯å¢",normalizedTitle:"å¼åç¯å¢",charIndex:943},{level:2,title:"åå»ºmavenå·¥ç¨",slug:"åå»ºmavenå·¥ç¨",normalizedTitle:"åå»ºmavenå·¥ç¨",charIndex:1040},{level:2,title:"åå»ºMyBatisçæ ¸å¿éç½®æä»¶",slug:"åå»ºmybatisçæ ¸å¿éç½®æä»¶",normalizedTitle:"åå»ºmybatisçæ ¸å¿éç½®æä»¶",charIndex:1627},{level:2,title:"åå»ºmapperæ¥å£",slug:"åå»ºmapperæ¥å£",normalizedTitle:"åå»ºmapperæ¥å£",charIndex:2558},{level:2,title:"åå»ºMyBatisçæ å°æä»¶",slug:"åå»ºmybatisçæ å°æä»¶",normalizedTitle:"åå»ºmybatisçæ å°æä»¶",charIndex:2756},{level:2,title:"éè¿junitæµè¯åè½",slug:"éè¿junitæµè¯åè½",normalizedTitle:"éè¿junitæµè¯åè½",charIndex:3612},{level:2,title:"å å¥log4jæ¥å¿åè½",slug:"å å¥log4jæ¥å¿åè½",normalizedTitle:"å å¥log4jæ¥å¿åè½",charIndex:5026}],headersStr:"MyBatisåå² MyBatisç¹æ§ MyBatisä¸è½½ åå¶å®æä¹åå±ææ¯å¯¹æ¯ å¼åç¯å¢ åå»ºmavenå·¥ç¨ åå»ºMyBatisçæ ¸å¿éç½®æä»¶ åå»ºmapperæ¥å£ åå»ºMyBatisçæ å°æä»¶ éè¿junitæµè¯åè½ å å¥log4jæ¥å¿åè½",content:'# Mybatisç®ä»\n\n\n# MyBatisåå²\n\n * MyBatisæåæ¯Apacheçä¸ä¸ªå¼æºé¡¹ç®iBatis, 2010å¹´6æè¿ä¸ªé¡¹ç®ç±Apache Software Foundationè¿ç§»å°äºGoogle Codeãéçå¼åå¢éè½¬æGoogle Codeæä¸ï¼iBatis3.xæ­£å¼æ´åä¸ºMyBatisãä»£ç äº2013å¹´11æè¿ç§»å°Github\n * iBatisä¸è¯æ¥æºäºâinternetâåâabatisâçç»åï¼æ¯ä¸ä¸ªåºäºJavaçæä¹å±æ¡æ¶ãiBatisæä¾çæä¹å±æ¡æ¶åæ¬SQL MapsåData Access Objectsï¼DAOï¼\n\n\n# MyBatisç¹æ§\n\n 1. MyBatis æ¯æ¯æå®å¶å SQLãå­å¨è¿ç¨ä»¥åé«çº§æ å°çä¼ç§çæä¹å±æ¡æ¶\n 2. MyBatis é¿åäºå ä¹ææç JDBC ä»£ç åæå¨è®¾ç½®åæ°ä»¥åè·åç»æé\n 3. MyBatiså¯ä»¥ä½¿ç¨ç®FåçXMLææ³¨è§£ç¨äºéç½®ååå§æ å°ï¼å°æ¥å£åJavaçPOJOï¼Plain Old Java Objectsï¼æ®éçJavaå¯¹è±¡ï¼æ å°ææ°æ®åºä¸­çè®°å½\n 4. MyBatis æ¯ä¸ä¸ª åèªå¨çORMï¼Object Relation Mappingï¼æ¡æ¶\n\n\n# MyBatisä¸è½½\n\n * MyBatisä¸è½½å°å\n * \n\n\n# åå¶å®æä¹åå±ææ¯å¯¹æ¯\n\n * JDBC\n   * SQL å¤¹æå¨Javaä»£ç ä¸­è¦ååº¦é«ï¼å¯¼è´ç¡¬ç¼ç åä¼¤\n   * ç»´æ¤ä¸æä¸å®éå¼åéæ±ä¸­ SQL æååï¼é¢ç¹ä¿®æ¹çæåµå¤è§\n   * ä»£ç åé¿ï¼å¼åæçä½\n * Hibernate å JPA\n   * æä½ç®ä¾¿ï¼å¼åæçé«\n   * ç¨åºä¸­çé¿é¾å¤æ SQL éè¦ç»è¿æ¡æ¶\n   * åé¨èªå¨çäº§ç SQLï¼ä¸å®¹æåç¹æ®ä¼å\n   * åºäºå¨æ å°çå¨èªå¨æ¡æ¶ï¼å¤§éå­æ®µç POJO è¿è¡é¨åæ å°æ¶æ¯è¾å°é¾ã\n   * åå°æä½å¤ªå¤ï¼å¯¼è´æ°æ®åºæ§è½ä¸é\n * MyBatis\n   * è½»éçº§ï¼æ§è½åºè²\n   * SQL å Java ç¼ç åå¼ï¼åè½è¾¹çæ¸æ°ãJavaä»£ç ä¸æ³¨ä¸å¡ãSQLè¯­å¥ä¸æ³¨æ°æ®\n   * å¼åæçç¨éäºHIbernateï¼ä½æ¯å®å¨è½å¤æ¥å\n\n\n# æ­å»ºMyBatis\n\n\n# å¼åç¯å¢\n\n * IDEï¼idea 2019.2\n * æå»ºå·¥å·ï¼maven 3.5.4\n * MySQLçæ¬ï¼MySQL 5.7\n * MyBatisçæ¬ï¼MyBatis 3.5.7\n\n\n# åå»ºmavenå·¥ç¨\n\n * æåæ¹å¼ï¼jar\n\n * å¼å¥ä¾èµ\n   \n   <dependencies>\n   \t\x3c!-- Mybatisæ ¸å¿ --\x3e\n   \t<dependency>\n   \t\t<groupId>org.mybatis</groupId>\n   \t\t<artifactId>mybatis</artifactId>\n   \t\t<version>3.5.7</version>\n   \t</dependency>\n   \t\x3c!-- junitæµè¯ --\x3e\n   \t<dependency>\n   \t\t<groupId>junit</groupId>\n   \t\t<artifactId>junit</artifactId>\n   \t\t<version>4.12</version>\n   \t\t<scope>test</scope>\n   \t</dependency>\n   \t\x3c!-- MySQLé©±å¨ --\x3e\n   \t<dependency>\n   \t\t<groupId>mysql</groupId>\n   \t\t<artifactId>mysql-connector-java</artifactId>\n   \t\t<version>5.1.3</version>\n   \t\t</dependency>\n   </dependencies>\n   \n\n\n# åå»ºMyBatisçæ ¸å¿éç½®æä»¶\n\n> ä¹ æ¯ä¸å½åä¸ºmybatis-config.xmlï¼è¿ä¸ªæä»¶åä»ä»åªæ¯å»ºè®®ï¼å¹¶éå¼ºå¶è¦æ±ãå°æ¥æ´åSpringä¹åï¼è¿ä¸ªéç½®æä»¶å¯ä»¥çç¥ï¼æä»¥å¤§å®¶æä½æ¶å¯ä»¥ç´æ¥å¤å¶ãç²è´´ã æ ¸å¿éç½®æä»¶ä¸»è¦ç¨äºéç½®è¿æ¥æ°æ®åºçç¯å¢ä»¥åMyBatisçå¨å±éç½®ä¿¡æ¯ æ ¸å¿éç½®æä»¶å­æ¾çä½ç½®æ¯src/main/resourcesç®å½ä¸\n\n<?xml version="1.0" encoding="UTF-8" ?>  \n<!DOCTYPE configuration  \nPUBLIC "-//mybatis.org//DTD Config 3.0//EN"  \n"http://mybatis.org/dtd/mybatis-3-config.dtd">  \n<configuration>  \n\t\x3c!--è®¾ç½®è¿æ¥æ°æ®åºçç¯å¢--\x3e  \n\t<environments default="development">  \n\t\t<environment id="development">  \n\t\t\t<transactionManager type="JDBC"/>  \n\t\t\t<dataSource type="POOLED">  \n\t\t\t\t<property name="driver" value="com.mysql.cj.jdbc.Driver"/>  \n\t\t\t\t<property name="url" value="jdbc:mysql://localhost:3306/MyBatis"/>  \n\t\t\t\t<property name="username" value="root"/>  \n\t\t\t\t<property name="password" value="123456"/>  \n\t\t\t</dataSource>  \n\t\t</environment>  \n\t</environments>  \n\t\x3c!--å¼å¥æ å°æä»¶--\x3e  \n\t<mappers>  \n\t\t<mapper resource="mappers/UserMapper.xml"/>  \n\t</mappers>  \n</configuration>\n\n\n\n# åå»ºmapperæ¥å£\n\n> MyBatisä¸­çmapperæ¥å£ç¸å½äºä»¥åçdaoãä½æ¯åºå«å¨äºï¼mapperä»ä»æ¯æ¥å£ï¼æä»¬ä¸éè¦æä¾å®ç°ç±»\n\npackage com.atguigu.mybatis.mapper;  \n  \npublic interface UserMapper {  \n\t/**  \n\t* æ·»å ç¨æ·ä¿¡æ¯  \n\t*/  \n\tint insertUser();  \n}\n\n\n\n# åå»ºMyBatisçæ å°æä»¶\n\n * ç¸å³æ¦å¿µï¼ORMï¼Object Relationship Mappingï¼å¯¹è±¡å³ç³»æ å°ã\n   * å¯¹è±¡ï¼Javaçå®ä½ç±»å¯¹è±¡\n   * å³ç³»ï¼å³ç³»åæ°æ®åº\n   * æ å°ï¼äºèä¹é´çå¯¹åºå³ç³»\n\nJAVAæ¦å¿µ   æ°æ®åºæ¦å¿µ\nç±»        è¡¨\nå±æ§       å­æ®µ/å\nå¯¹è±¡       è®°å½/è¡\n\n * æ å°æä»¶çå½åè§å\n   * è¡¨æå¯¹åºçå®ä½ç±»çç±»å+Mapper.xml\n   * ä¾å¦ï¼è¡¨t_userï¼æ å°çå®ä½ç±»ä¸ºUserï¼æå¯¹åºçæ å°æä»¶ä¸ºUserMapper.xml\n   * å æ­¤ä¸ä¸ªæ å°æä»¶å¯¹åºä¸ä¸ªå®ä½ç±»ï¼å¯¹åºä¸å¼ è¡¨çæä½\n   * MyBatisæ å°æä»¶ç¨äºç¼åSQLï¼è®¿é®ä»¥åæä½è¡¨ä¸­çæ°æ®\n   * MyBatisæ å°æä»¶å­æ¾çä½ç½®æ¯src/main/resources/mappersç®å½ä¸\n * MyBatisä¸­å¯ä»¥é¢åæ¥å£æä½æ°æ®ï¼è¦ä¿è¯ä¸¤ä¸ªä¸è´\n   * mapperæ¥å£çå¨ç±»ååæ å°æä»¶çå½åç©ºé´ï¼namespaceï¼ä¿æä¸è´\n   * mapperæ¥å£ä¸­æ¹æ³çæ¹æ³ååæ å°æä»¶ä¸­ç¼åSQLçæ ç­¾çidå±æ§ä¿æä¸è´\n\n<?xml version="1.0" encoding="UTF-8" ?>  \n<!DOCTYPE mapper  \nPUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  \n"http://mybatis.org/dtd/mybatis-3-mapper.dtd">  \n<mapper namespace="com.atguigu.mybatis.mapper.UserMapper">  \n\t\x3c!--int insertUser();--\x3e  \n\t<insert id="insertUser">  \n\t\tinsert into t_user values(null,\'å¼ ä¸\',\'123\',23,\'å¥³\')  \n\t</insert>  \n</mapper>\n\n\n\n# éè¿junitæµè¯åè½\n\n * SqlSessionï¼ä»£è¡¨Javaç¨åºåæ°æ®åºä¹é´çä¼è¯ãï¼HttpSessionæ¯Javaç¨åºåæµè§å¨ä¹é´çä¼è¯ï¼\n * SqlSessionFactoryï¼æ¯âçäº§âSqlSessionçâå·¥åâ\n * å·¥åæ¨¡å¼ï¼å¦æåå»ºæä¸ä¸ªå¯¹è±¡ï¼ä½¿ç¨çè¿ç¨åºæ¬åºå®ï¼é£ä¹æä»¬å°±å¯ä»¥æåå»ºè¿ä¸ªå¯¹è±¡çç¸å³ä»£ç å°è£å°ä¸ä¸ªâå·¥åç±»âä¸­ï¼ä»¥åé½ä½¿ç¨è¿ä¸ªå·¥åç±»æ¥âçäº§âæä»¬éè¦çå¯¹è±¡\n\npublic class UserMapperTest {\n    @Test\n    public void testInsertUser() throws IOException {\n        //è¯»åMyBatisçæ ¸å¿éç½®æä»¶\n        InputStream is = Resources.getResourceAsStream("mybatis-config.xml");\n        //è·åSqlSessionFactoryBuilderå¯¹è±¡\n        SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();\n        //éè¿æ ¸å¿éç½®æä»¶æå¯¹åºçå­èè¾å¥æµåå»ºå·¥åç±»SqlSessionFactoryï¼çäº§SqlSessionå¯¹è±¡\n        SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);\n        //è·åsqlSessionï¼æ­¤æ¶éè¿SqlSessionå¯¹è±¡ææä½çsqlé½å¿é¡»æå¨æäº¤æåæ»äºå¡\n        //SqlSession sqlSession = sqlSessionFactory.openSession();\n\t    //åå»ºSqlSessionå¯¹è±¡ï¼æ­¤æ¶éè¿SqlSessionå¯¹è±¡ææä½çsqlé½ä¼èªå¨æäº¤  \n\t\tSqlSession sqlSession = sqlSessionFactory.openSession(true);\n        //éè¿ä»£çæ¨¡å¼åå»ºUserMapperæ¥å£çä»£çå®ç°ç±»å¯¹è±¡\n        UserMapper userMapper = sqlSession.getMapper(UserMapper.class);\n        //è°ç¨UserMapperæ¥å£ä¸­çæ¹æ³ï¼å°±å¯ä»¥æ ¹æ®UserMapperçå¨ç±»åå¹éåç´ æä»¶ï¼éè¿è°ç¨çæ¹æ³åå¹éæ å°æä»¶ä¸­çSQLæ ç­¾ï¼å¹¶æ§è¡æ ç­¾ä¸­çSQLè¯­å¥\n        int result = userMapper.insertUser();\n        //æäº¤äºå¡\n        //sqlSession.commit();\n        System.out.println("result:" + result);\n    }\n}\n\n\n * æ­¤æ¶éè¦æå¨æäº¤äºå¡ï¼å¦æè¦èªå¨æäº¤äºå¡ï¼åå¨è·åsqlSessionå¯¹è±¡æ¶ï¼ä½¿ç¨SqlSession sqlSession = sqlSessionFactory.openSession(true);ï¼ä¼ å¥ä¸ä¸ªBooleanç±»åçåæ°ï¼å¼ä¸ºtrueï¼è¿æ ·å°±å¯ä»¥èªå¨æäº¤\n\n\n# å å¥log4jæ¥å¿åè½\n\n 1. å å¥ä¾èµ\n    \n    \x3c!-- log4jæ¥å¿ --\x3e\n    <dependency>\n    <groupId>log4j</groupId>\n    <artifactId>log4j</artifactId>\n    <version>1.2.17</version>\n    </dependency>\n    \n\n 2. å å¥log4jçéç½®æä»¶\n    * log4jçéç½®æä»¶åä¸ºlog4j.xmlï¼å­æ¾çä½ç½®æ¯src/main/resourcesç®å½ä¸\n    * æ¥å¿ççº§å«ï¼FATAL(è´å½)>ERROR(éè¯¯)>WARN(è­¦å)>INFO(ä¿¡æ¯)>DEBUG(è°è¯) ä»å·¦å°å³æå°çåå®¹è¶æ¥è¶è¯¦ç»\n    \n    <?xml version="1.0" encoding="UTF-8" ?>\n    <!DOCTYPE log4j:configuration SYSTEM "log4j.dtd">\n    <log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">\n        <appender name="STDOUT" class="org.apache.log4j.ConsoleAppender">\n            <param name="Encoding" value="UTF-8" />\n            <layout class="org.apache.log4j.PatternLayout">\n    \t\t\t<param name="ConversionPattern" value="%-5p %d{MM-dd HH:mm:ss,SSS} %m (%F:%L) \\n" />\n            </layout>\n        </appender>\n        <logger name="java.sql">\n            <level value="debug" />\n        </logger>\n        <logger name="org.apache.ibatis">\n            <level value="info" />\n        </logger>\n        <root>\n            <level value="debug" />\n            <appender-ref ref="STDOUT" />\n        </root>\n    </log4j:configuration>\n    ',normalizedContent:'# mybatisç®ä»\n\n\n# mybatisåå²\n\n * mybatisæåæ¯apacheçä¸ä¸ªå¼æºé¡¹ç®ibatis, 2010å¹´6æè¿ä¸ªé¡¹ç®ç±apache software foundationè¿ç§»å°äºgoogle codeãéçå¼åå¢éè½¬ægoogle codeæä¸ï¼ibatis3.xæ­£å¼æ´åä¸ºmybatisãä»£ç äº2013å¹´11æè¿ç§»å°github\n * ibatisä¸è¯æ¥æºäºâinternetâåâabatisâçç»åï¼æ¯ä¸ä¸ªåºäºjavaçæä¹å±æ¡æ¶ãibatisæä¾çæä¹å±æ¡æ¶åæ¬sql mapsådata access objectsï¼daoï¼\n\n\n# mybatisç¹æ§\n\n 1. mybatis æ¯æ¯æå®å¶å sqlãå­å¨è¿ç¨ä»¥åé«çº§æ å°çä¼ç§çæä¹å±æ¡æ¶\n 2. mybatis é¿åäºå ä¹ææç jdbc ä»£ç åæå¨è®¾ç½®åæ°ä»¥åè·åç»æé\n 3. mybatiså¯ä»¥ä½¿ç¨ç®fåçxmlææ³¨è§£ç¨äºéç½®ååå§æ å°ï¼å°æ¥å£åjavaçpojoï¼plain old java objectsï¼æ®éçjavaå¯¹è±¡ï¼æ å°ææ°æ®åºä¸­çè®°å½\n 4. mybatis æ¯ä¸ä¸ª åèªå¨çormï¼object relation mappingï¼æ¡æ¶\n\n\n# mybatisä¸è½½\n\n * mybatisä¸è½½å°å\n * \n\n\n# åå¶å®æä¹åå±ææ¯å¯¹æ¯\n\n * jdbc\n   * sql å¤¹æå¨javaä»£ç ä¸­è¦ååº¦é«ï¼å¯¼è´ç¡¬ç¼ç åä¼¤\n   * ç»´æ¤ä¸æä¸å®éå¼åéæ±ä¸­ sql æååï¼é¢ç¹ä¿®æ¹çæåµå¤è§\n   * ä»£ç åé¿ï¼å¼åæçä½\n * hibernate å jpa\n   * æä½ç®ä¾¿ï¼å¼åæçé«\n   * ç¨åºä¸­çé¿é¾å¤æ sql éè¦ç»è¿æ¡æ¶\n   * åé¨èªå¨çäº§ç sqlï¼ä¸å®¹æåç¹æ®ä¼å\n   * åºäºå¨æ å°çå¨èªå¨æ¡æ¶ï¼å¤§éå­æ®µç pojo è¿è¡é¨åæ å°æ¶æ¯è¾å°é¾ã\n   * åå°æä½å¤ªå¤ï¼å¯¼è´æ°æ®åºæ§è½ä¸é\n * mybatis\n   * è½»éçº§ï¼æ§è½åºè²\n   * sql å java ç¼ç åå¼ï¼åè½è¾¹çæ¸æ°ãjavaä»£ç ä¸æ³¨ä¸å¡ãsqlè¯­å¥ä¸æ³¨æ°æ®\n   * å¼åæçç¨éäºhibernateï¼ä½æ¯å®å¨è½å¤æ¥å\n\n\n# æ­å»ºmybatis\n\n\n# å¼åç¯å¢\n\n * ideï¼idea 2019.2\n * æå»ºå·¥å·ï¼maven 3.5.4\n * mysqlçæ¬ï¼mysql 5.7\n * mybatisçæ¬ï¼mybatis 3.5.7\n\n\n# åå»ºmavenå·¥ç¨\n\n * æåæ¹å¼ï¼jar\n\n * å¼å¥ä¾èµ\n   \n   <dependencies>\n   \t\x3c!-- mybatisæ ¸å¿ --\x3e\n   \t<dependency>\n   \t\t<groupid>org.mybatis</groupid>\n   \t\t<artifactid>mybatis</artifactid>\n   \t\t<version>3.5.7</version>\n   \t</dependency>\n   \t\x3c!-- junitæµè¯ --\x3e\n   \t<dependency>\n   \t\t<groupid>junit</groupid>\n   \t\t<artifactid>junit</artifactid>\n   \t\t<version>4.12</version>\n   \t\t<scope>test</scope>\n   \t</dependency>\n   \t\x3c!-- mysqlé©±å¨ --\x3e\n   \t<dependency>\n   \t\t<groupid>mysql</groupid>\n   \t\t<artifactid>mysql-connector-java</artifactid>\n   \t\t<version>5.1.3</version>\n   \t\t</dependency>\n   </dependencies>\n   \n\n\n# åå»ºmybatisçæ ¸å¿éç½®æä»¶\n\n> ä¹ æ¯ä¸å½åä¸ºmybatis-config.xmlï¼è¿ä¸ªæä»¶åä»ä»åªæ¯å»ºè®®ï¼å¹¶éå¼ºå¶è¦æ±ãå°æ¥æ´åspringä¹åï¼è¿ä¸ªéç½®æä»¶å¯ä»¥çç¥ï¼æä»¥å¤§å®¶æä½æ¶å¯ä»¥ç´æ¥å¤å¶ãç²è´´ã æ ¸å¿éç½®æä»¶ä¸»è¦ç¨äºéç½®è¿æ¥æ°æ®åºçç¯å¢ä»¥åmybatisçå¨å±éç½®ä¿¡æ¯ æ ¸å¿éç½®æä»¶å­æ¾çä½ç½®æ¯src/main/resourcesç®å½ä¸\n\n<?xml version="1.0" encoding="utf-8" ?>  \n<!doctype configuration  \npublic "-//mybatis.org//dtd config 3.0//en"  \n"http://mybatis.org/dtd/mybatis-3-config.dtd">  \n<configuration>  \n\t\x3c!--è®¾ç½®è¿æ¥æ°æ®åºçç¯å¢--\x3e  \n\t<environments default="development">  \n\t\t<environment id="development">  \n\t\t\t<transactionmanager type="jdbc"/>  \n\t\t\t<datasource type="pooled">  \n\t\t\t\t<property name="driver" value="com.mysql.cj.jdbc.driver"/>  \n\t\t\t\t<property name="url" value="jdbc:mysql://localhost:3306/mybatis"/>  \n\t\t\t\t<property name="username" value="root"/>  \n\t\t\t\t<property name="password" value="123456"/>  \n\t\t\t</datasource>  \n\t\t</environment>  \n\t</environments>  \n\t\x3c!--å¼å¥æ å°æä»¶--\x3e  \n\t<mappers>  \n\t\t<mapper resource="mappers/usermapper.xml"/>  \n\t</mappers>  \n</configuration>\n\n\n\n# åå»ºmapperæ¥å£\n\n> mybatisä¸­çmapperæ¥å£ç¸å½äºä»¥åçdaoãä½æ¯åºå«å¨äºï¼mapperä»ä»æ¯æ¥å£ï¼æä»¬ä¸éè¦æä¾å®ç°ç±»\n\npackage com.atguigu.mybatis.mapper;  \n  \npublic interface usermapper {  \n\t/**  \n\t* æ·»å ç¨æ·ä¿¡æ¯  \n\t*/  \n\tint insertuser();  \n}\n\n\n\n# åå»ºmybatisçæ å°æä»¶\n\n * ç¸å³æ¦å¿µï¼ormï¼object relationship mappingï¼å¯¹è±¡å³ç³»æ å°ã\n   * å¯¹è±¡ï¼javaçå®ä½ç±»å¯¹è±¡\n   * å³ç³»ï¼å³ç³»åæ°æ®åº\n   * æ å°ï¼äºèä¹é´çå¯¹åºå³ç³»\n\njavaæ¦å¿µ   æ°æ®åºæ¦å¿µ\nç±»        è¡¨\nå±æ§       å­æ®µ/å\nå¯¹è±¡       è®°å½/è¡\n\n * æ å°æä»¶çå½åè§å\n   * è¡¨æå¯¹åºçå®ä½ç±»çç±»å+mapper.xml\n   * ä¾å¦ï¼è¡¨t_userï¼æ å°çå®ä½ç±»ä¸ºuserï¼æå¯¹åºçæ å°æä»¶ä¸ºusermapper.xml\n   * å æ­¤ä¸ä¸ªæ å°æä»¶å¯¹åºä¸ä¸ªå®ä½ç±»ï¼å¯¹åºä¸å¼ è¡¨çæä½\n   * mybatisæ å°æä»¶ç¨äºç¼åsqlï¼è®¿é®ä»¥åæä½è¡¨ä¸­çæ°æ®\n   * mybatisæ å°æä»¶å­æ¾çä½ç½®æ¯src/main/resources/mappersç®å½ä¸\n * mybatisä¸­å¯ä»¥é¢åæ¥å£æä½æ°æ®ï¼è¦ä¿è¯ä¸¤ä¸ªä¸è´\n   * mapperæ¥å£çå¨ç±»ååæ å°æä»¶çå½åç©ºé´ï¼namespaceï¼ä¿æä¸è´\n   * mapperæ¥å£ä¸­æ¹æ³çæ¹æ³ååæ å°æä»¶ä¸­ç¼åsqlçæ ç­¾çidå±æ§ä¿æä¸è´\n\n<?xml version="1.0" encoding="utf-8" ?>  \n<!doctype mapper  \npublic "-//mybatis.org//dtd mapper 3.0//en"  \n"http://mybatis.org/dtd/mybatis-3-mapper.dtd">  \n<mapper namespace="com.atguigu.mybatis.mapper.usermapper">  \n\t\x3c!--int insertuser();--\x3e  \n\t<insert id="insertuser">  \n\t\tinsert into t_user values(null,\'å¼ ä¸\',\'123\',23,\'å¥³\')  \n\t</insert>  \n</mapper>\n\n\n\n# éè¿junitæµè¯åè½\n\n * sqlsessionï¼ä»£è¡¨javaç¨åºåæ°æ®åºä¹é´çä¼è¯ãï¼httpsessionæ¯javaç¨åºåæµè§å¨ä¹é´çä¼è¯ï¼\n * sqlsessionfactoryï¼æ¯âçäº§âsqlsessionçâå·¥åâ\n * å·¥åæ¨¡å¼ï¼å¦æåå»ºæä¸ä¸ªå¯¹è±¡ï¼ä½¿ç¨çè¿ç¨åºæ¬åºå®ï¼é£ä¹æä»¬å°±å¯ä»¥æåå»ºè¿ä¸ªå¯¹è±¡çç¸å³ä»£ç å°è£å°ä¸ä¸ªâå·¥åç±»âä¸­ï¼ä»¥åé½ä½¿ç¨è¿ä¸ªå·¥åç±»æ¥âçäº§âæä»¬éè¦çå¯¹è±¡\n\npublic class usermappertest {\n    @test\n    public void testinsertuser() throws ioexception {\n        //è¯»åmybatisçæ ¸å¿éç½®æä»¶\n        inputstream is = resources.getresourceasstream("mybatis-config.xml");\n        //è·åsqlsessionfactorybuilderå¯¹è±¡\n        sqlsessionfactorybuilder sqlsessionfactorybuilder = new sqlsessionfactorybuilder();\n        //éè¿æ ¸å¿éç½®æä»¶æå¯¹åºçå­èè¾å¥æµåå»ºå·¥åç±»sqlsessionfactoryï¼çäº§sqlsessionå¯¹è±¡\n        sqlsessionfactory sqlsessionfactory = sqlsessionfactorybuilder.build(is);\n        //è·åsqlsessionï¼æ­¤æ¶éè¿sqlsessionå¯¹è±¡ææä½çsqlé½å¿é¡»æå¨æäº¤æåæ»äºå¡\n        //sqlsession sqlsession = sqlsessionfactory.opensession();\n\t    //åå»ºsqlsessionå¯¹è±¡ï¼æ­¤æ¶éè¿sqlsessionå¯¹è±¡ææä½çsqlé½ä¼èªå¨æäº¤  \n\t\tsqlsession sqlsession = sqlsessionfactory.opensession(true);\n        //éè¿ä»£çæ¨¡å¼åå»ºusermapperæ¥å£çä»£çå®ç°ç±»å¯¹è±¡\n        usermapper usermapper = sqlsession.getmapper(usermapper.class);\n        //è°ç¨usermapperæ¥å£ä¸­çæ¹æ³ï¼å°±å¯ä»¥æ ¹æ®usermapperçå¨ç±»åå¹éåç´ æä»¶ï¼éè¿è°ç¨çæ¹æ³åå¹éæ å°æä»¶ä¸­çsqlæ ç­¾ï¼å¹¶æ§è¡æ ç­¾ä¸­çsqlè¯­å¥\n        int result = usermapper.insertuser();\n        //æäº¤äºå¡\n        //sqlsession.commit();\n        system.out.println("result:" + result);\n    }\n}\n\n\n * æ­¤æ¶éè¦æå¨æäº¤äºå¡ï¼å¦æè¦èªå¨æäº¤äºå¡ï¼åå¨è·åsqlsessionå¯¹è±¡æ¶ï¼ä½¿ç¨sqlsession sqlsession = sqlsessionfactory.opensession(true);ï¼ä¼ å¥ä¸ä¸ªbooleanç±»åçåæ°ï¼å¼ä¸ºtrueï¼è¿æ ·å°±å¯ä»¥èªå¨æäº¤\n\n\n# å å¥log4jæ¥å¿åè½\n\n 1. å å¥ä¾èµ\n    \n    \x3c!-- log4jæ¥å¿ --\x3e\n    <dependency>\n    <groupid>log4j</groupid>\n    <artifactid>log4j</artifactid>\n    <version>1.2.17</version>\n    </dependency>\n    \n\n 2. å å¥log4jçéç½®æä»¶\n    * log4jçéç½®æä»¶åä¸ºlog4j.xmlï¼å­æ¾çä½ç½®æ¯src/main/resourcesç®å½ä¸\n    * æ¥å¿ççº§å«ï¼fatal(è´å½)>error(éè¯¯)>warn(è­¦å)>info(ä¿¡æ¯)>debug(è°è¯) ä»å·¦å°å³æå°çåå®¹è¶æ¥è¶è¯¦ç»\n    \n    <?xml version="1.0" encoding="utf-8" ?>\n    <!doctype log4j:configuration system "log4j.dtd">\n    <log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">\n        <appender name="stdout" class="org.apache.log4j.consoleappender">\n            <param name="encoding" value="utf-8" />\n            <layout class="org.apache.log4j.patternlayout">\n    \t\t\t<param name="conversionpattern" value="%-5p %d{mm-dd hh:mm:ss,sss} %m (%f:%l) \\n" />\n            </layout>\n        </appender>\n        <logger name="java.sql">\n            <level value="debug" />\n        </logger>\n        <logger name="org.apache.ibatis">\n            <level value="info" />\n        </logger>\n        <root>\n            <level value="debug" />\n            <appender-ref ref="stdout" />\n        </root>\n    </log4j:configuration>\n    ',charsets:{cjk:!0}},{title:"åç",frontmatter:{title:"åç",date:"2022-03-30T00:00:00.000Z",permalink:"/springboot/004/",categories:["æ¡æ¶","SpringBoot"],tags:["SpringBoot"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/03.SpringBoot/04.%E5%8E%9F%E7%90%86.html",relativePath:"07.æ¡æ¶/03.SpringBoot/04.åç.md",key:"v-0b01fcc0",path:"/springboot/004/",headers:[{level:2,title:"YL-1.èªå¨éç½®å·¥ä½æµç¨",slug:"yl-1-èªå¨éç½®å·¥ä½æµç¨",normalizedTitle:"yl-1.èªå¨éç½®å·¥ä½æµç¨",charIndex:140},{level:3,title:"YL-1-1.beançå è½½æ¹å¼",slug:"yl-1-1-beançå è½½æ¹å¼",normalizedTitle:"yl-1-1.beançå è½½æ¹å¼",charIndex:424},{level:4,title:"æ¹å¼ä¸ï¼éç½®æä»¶+`<bean/>`æ ç­¾",slug:"æ¹å¼ä¸-éç½®æä»¶-bean-æ ç­¾",normalizedTitle:"æ¹å¼ä¸ï¼éç½®æä»¶+<code>&lt;bean/&gt;</code>æ ç­¾",charIndex:null},{level:4,title:"æ¹å¼äºï¼éç½®æä»¶æ«æ+æ³¨è§£å®ä¹bean",slug:"æ¹å¼äº-éç½®æä»¶æ«æ-æ³¨è§£å®ä¹bean",normalizedTitle:"æ¹å¼äºï¼éç½®æä»¶æ«æ+æ³¨è§£å®ä¹bean",charIndex:1600},{level:4,title:"æ¹å¼ä¸ï¼æ³¨è§£æ¹å¼å£°æéç½®ç±»",slug:"æ¹å¼ä¸-æ³¨è§£æ¹å¼å£°æéç½®ç±»",normalizedTitle:"æ¹å¼ä¸ï¼æ³¨è§£æ¹å¼å£°æéç½®ç±»",charIndex:3187},{level:5,title:"ä½¿ç¨FactroyBeanæ¥å£",slug:"ä½¿ç¨factroybeanæ¥å£",normalizedTitle:"ä½¿ç¨factroybeanæ¥å£",charIndex:3660},{level:5,title:"æ³¨è§£æ ¼å¼å¯¼å¥XMLæ ¼å¼éç½®çbean",slug:"æ³¨è§£æ ¼å¼å¯¼å¥xmlæ ¼å¼éç½®çbean",normalizedTitle:"æ³¨è§£æ ¼å¼å¯¼å¥xmlæ ¼å¼éç½®çbean",charIndex:4735},{level:5,title:"proxyBeanMethodså±æ§",slug:"proxybeanmethodså±æ§",normalizedTitle:"proxybeanmethodså±æ§",charIndex:5073},{level:4,title:"æ¹å¼åï¼ä½¿ç¨@Importæ³¨è§£æ³¨å¥bean",slug:"æ¹å¼å-ä½¿ç¨-importæ³¨è§£æ³¨å¥bean",normalizedTitle:"æ¹å¼åï¼ä½¿ç¨@importæ³¨è§£æ³¨å¥bean",charIndex:6178},{level:5,title:"ä½¿ç¨@Importæ³¨è§£æ³¨å¥éç½®ç±»",slug:"ä½¿ç¨-importæ³¨è§£æ³¨å¥éç½®ç±»",normalizedTitle:"ä½¿ç¨@importæ³¨è§£æ³¨å¥éç½®ç±»",charIndex:6785},{level:4,title:"æ¹å¼äºï¼ç¼ç¨å½¢å¼æ³¨åbean",slug:"æ¹å¼äº-ç¼ç¨å½¢å¼æ³¨åbean",normalizedTitle:"æ¹å¼äºï¼ç¼ç¨å½¢å¼æ³¨åbean",charIndex:6916},{level:4,title:"æ¹å¼å­ï¼å¯¼å¥å®ç°äºImportSelectoræ¥å£çç±»",slug:"æ¹å¼å­-å¯¼å¥å®ç°äºimportselectoræ¥å£çç±»",normalizedTitle:"æ¹å¼å­ï¼å¯¼å¥å®ç°äºimportselectoræ¥å£çç±»",charIndex:7750},{level:4,title:"æ¹å¼ä¸ï¼å¯¼å¥å®ç°äºImportBeanDefinitionRegistraræ¥å£çç±»",slug:"æ¹å¼ä¸-å¯¼å¥å®ç°äºimportbeandefinitionregistraræ¥å£çç±»",normalizedTitle:"æ¹å¼ä¸ï¼å¯¼å¥å®ç°äºimportbeandefinitionregistraræ¥å£çç±»",charIndex:8450},{level:4,title:"æ¹å¼å«ï¼å¯¼å¥å®ç°äºBeanDefinitionRegistryPostProcessoræ¥å£çç±»",slug:"æ¹å¼å«-å¯¼å¥å®ç°äºbeandefinitionregistrypostprocessoræ¥å£çç±»",normalizedTitle:"æ¹å¼å«ï¼å¯¼å¥å®ç°äºbeandefinitionregistrypostprocessoræ¥å£çç±»",charIndex:9288},{level:3,title:"YL-1-2.beançå è½½æ§å¶",slug:"yl-1-2-beançå è½½æ§å¶",normalizedTitle:"yl-1-2.beançå è½½æ§å¶",charIndex:10453},{level:3,title:"YL-1-3.beançä¾èµå±æ§éç½®ç®¡ç",slug:"yl-1-3-beançä¾èµå±æ§éç½®ç®¡ç",normalizedTitle:"yl-1-3.beançä¾èµå±æ§éç½®ç®¡ç",charIndex:13016},{level:3,title:"YL-1-4.èªå¨éç½®åçï¼å·¥ä½æµç¨ï¼",slug:"yl-1-4-èªå¨éç½®åç-å·¥ä½æµç¨",normalizedTitle:"yl-1-4.èªå¨éç½®åçï¼å·¥ä½æµç¨ï¼",charIndex:13926},{level:3,title:"YL-1-5.åæ´èªå¨éç½®",slug:"yl-1-5-åæ´èªå¨éç½®",normalizedTitle:"yl-1-5.åæ´èªå¨éç½®",charIndex:17450},{level:2,title:"YL-2.èªå®ä¹starterå¼å",slug:"yl-2-èªå®ä¹starterå¼å",normalizedTitle:"yl-2.èªå®ä¹starterå¼å",charIndex:18645},{level:3,title:"YL-2-1.æ¡ä¾ï¼è®°å½ç³»ç»è®¿å®¢ç¬ç«IPè®¿é®æ¬¡æ°",slug:"yl-2-1-æ¡ä¾-è®°å½ç³»ç»è®¿å®¢ç¬ç«ipè®¿é®æ¬¡æ°",normalizedTitle:"yl-2-1.æ¡ä¾ï¼è®°å½ç³»ç»è®¿å®¢ç¬ç«ipè®¿é®æ¬¡æ°",charIndex:18856},{level:3,title:"YL-2-2.IPè®¡æ°ä¸å¡åè½å¼åï¼èªå®ä¹starterï¼",slug:"yl-2-2-ipè®¡æ°ä¸å¡åè½å¼å-èªå®ä¹starter",normalizedTitle:"yl-2-2.ipè®¡æ°ä¸å¡åè½å¼åï¼èªå®ä¹starterï¼",charIndex:19738},{level:3,title:"YL-2-3.å®æ¶ä»»å¡æ¥è¡¨å¼å",slug:"yl-2-3-å®æ¶ä»»å¡æ¥è¡¨å¼å",normalizedTitle:"yl-2-3.å®æ¶ä»»å¡æ¥è¡¨å¼å",charIndex:22690},{level:3,title:"YL-2-4.ä½¿ç¨å±æ§éç½®è®¾ç½®åè½åæ°",slug:"yl-2-4-ä½¿ç¨å±æ§éç½®è®¾ç½®åè½åæ°",normalizedTitle:"yl-2-4.ä½¿ç¨å±æ§éç½®è®¾ç½®åè½åæ°",charIndex:23893},{level:3,title:"YL-2-5.ä½¿ç¨å±æ§éç½®è®¾ç½®å®æ¶å¨åæ°",slug:"yl-2-5-ä½¿ç¨å±æ§éç½®è®¾ç½®å®æ¶å¨åæ°",normalizedTitle:"yl-2-5.ä½¿ç¨å±æ§éç½®è®¾ç½®å®æ¶å¨åæ°",charIndex:26500},{level:3,title:"YL-2-6.æ¦æªå¨å¼å",slug:"yl-2-6-æ¦æªå¨å¼å",normalizedTitle:"yl-2-6.æ¦æªå¨å¼å",charIndex:27368},{level:3,title:"YL-2-7.åè½æ§å®åââå¼å¯ymlæç¤ºåè½",slug:"yl-2-7-åè½æ§å®å-å¼å¯ymlæç¤ºåè½",normalizedTitle:"yl-2-7.åè½æ§å®åââå¼å¯ymlæç¤ºåè½",charIndex:28548},{level:2,title:"YL-3.SpringBootç¨åºå¯å¨æµç¨è§£æ",slug:"yl-3-springbootç¨åºå¯å¨æµç¨è§£æ",normalizedTitle:"yl-3.springbootç¨åºå¯å¨æµç¨è§£æ",charIndex:30425}],headersStr:"YL-1.èªå¨éç½®å·¥ä½æµç¨ YL-1-1.beançå è½½æ¹å¼ æ¹å¼ä¸ï¼éç½®æä»¶+`<bean/>`æ ç­¾ æ¹å¼äºï¼éç½®æä»¶æ«æ+æ³¨è§£å®ä¹bean æ¹å¼ä¸ï¼æ³¨è§£æ¹å¼å£°æéç½®ç±» ä½¿ç¨FactroyBeanæ¥å£ æ³¨è§£æ ¼å¼å¯¼å¥XMLæ ¼å¼éç½®çbean proxyBeanMethodså±æ§ æ¹å¼åï¼ä½¿ç¨@Importæ³¨è§£æ³¨å¥bean ä½¿ç¨@Importæ³¨è§£æ³¨å¥éç½®ç±» æ¹å¼äºï¼ç¼ç¨å½¢å¼æ³¨åbean æ¹å¼å­ï¼å¯¼å¥å®ç°äºImportSelectoræ¥å£çç±» æ¹å¼ä¸ï¼å¯¼å¥å®ç°äºImportBeanDefinitionRegistraræ¥å£çç±» æ¹å¼å«ï¼å¯¼å¥å®ç°äºBeanDefinitionRegistryPostProcessoræ¥å£çç±» YL-1-2.beançå è½½æ§å¶ YL-1-3.beançä¾èµå±æ§éç½®ç®¡ç YL-1-4.èªå¨éç½®åçï¼å·¥ä½æµç¨ï¼ YL-1-5.åæ´èªå¨éç½® YL-2.èªå®ä¹starterå¼å YL-2-1.æ¡ä¾ï¼è®°å½ç³»ç»è®¿å®¢ç¬ç«IPè®¿é®æ¬¡æ° YL-2-2.IPè®¡æ°ä¸å¡åè½å¼åï¼èªå®ä¹starterï¼ YL-2-3.å®æ¶ä»»å¡æ¥è¡¨å¼å YL-2-4.ä½¿ç¨å±æ§éç½®è®¾ç½®åè½åæ° YL-2-5.ä½¿ç¨å±æ§éç½®è®¾ç½®å®æ¶å¨åæ° YL-2-6.æ¦æªå¨å¼å YL-2-7.åè½æ§å®åââå¼å¯ymlæç¤ºåè½ YL-3.SpringBootç¨åºå¯å¨æµç¨è§£æ",content:'# SpringBootåçç¯\n\nä¸é¢å°±å¼å§å­¦ä¹ åçç¯ï¼å ä¸ºæ²¡ææ³åºæ¥ç¹å«å¥½çåå­ï¼æä»¥è¿æ¯åç§°ä½åçç¯å§ãåçç¯ä¸­åå«å¦ä¸åå®¹ï¼\n\n * èªå¨éç½®å·¥ä½æµç¨\n * èªå®ä¹starterå¼å\n * springbootç¨åºå¯å¨æµç¨\n\nä¸é¢å¼å¯ç¬¬ä¸é¨åèªå¨éç½®å·¥ä½æµç¨çå­¦ä¹ \n\n\n# YL-1.èªå¨éç½®å·¥ä½æµç¨\n\nèªå¨éç½®æ¯springbootææ¯éå¸¸å¥½ç¨çæ ¸å¿å ç´ ï¼åé¢å­¦ä¹ äºè¿ä¹å¤ç§ææ¯çæ´åï¼æ¯ä¸ä¸ªé½ç¦»ä¸å¼èªå¨éç½®ãä¸è¿å¨å­¦ä¹ èªå¨éç½®çæ¶åï¼éè¦ä½ å¯¹springå®¹å¨å¦ä½è¿è¡beanç®¡ççè¿ç¨éå¸¸çææè¡ï¼æä»¥è¿ééè¦åå¤ä¹ ä¸ä¸æå³springææ¯ä¸­beanå è½½ç¸å³çç¥è¯ãæ¹å¼æ¹æ³å¾å¤ï¼éä¸å¿«éå¤ä¹ ä¸ä¸ï¼æ¥æ¼è¡¥ç¼ºãä¸è¿è¿ééè¦å£°æä¸ç¹ï¼è¿éååºçbeançå è½½æ¹å¼ä»ä»åºç¨äºåé¢è¯¾ç¨çå­¦ä¹ ï¼å¹¶ä¸æ¯ææçspringå è½½beançæ¹å¼ãè·çæçæ­¥ä¼ä¸ç§ä¸ç§çå¤ä¹ ï¼ä»ä»¬è¿äºæ¹æ¡ä¹é´æåä¸ä¸ç¼çå³ç³»ï¼é¡ºççå®ï¼ä½ å°±æèªå¨éç½®æ¯æä¹åäºäºã\n\n\n# YL-1-1.beançå è½½æ¹å¼\n\nå³äºbeançå è½½æ¹å¼ï¼springæä¾äºåç§åæ ·çå½¢å¼ãå ä¸ºspringç®¡çbeanæ´ä½ä¸æ¥è¯´å°±æ¯ç±springç»´æ¤å¯¹è±¡ççå½å¨æï¼æä»¥beançå è½½å¯ä»¥ä»å¤§çæ¹é¢ååæ2ç§å½¢å¼ãå·²ç¥ç±»å¹¶äº¤ç»springç®¡çï¼åå·²ç¥ç±»åå¹¶äº¤ç»springç®¡çãæä»ä¹åºå«ï¼ä¸ä¸ªç».classï¼ä¸ä¸ªç»ç±»åå­ç¬¦ä¸²ãåé¨å¶å®é½ä¸æ ·ï¼é½æ¯éè¿springçBeanDefinitionå¯¹è±¡åå§åspringçbeanãå¦æåé¢è¿å¥è¯çèµ·æ¥æéç¢ï¼å¯ä»¥å»å¤ä¹ ä¸ä¸springçç¸å³ç¥è¯ãBç«ä¸­ææå°æ¬çæ»¡ä¸èªèå¸å½å¶çspringé«çº§è¯¾ç¨ï¼é¾æ¥å°åå¦ä¸ï¼æ¬¢è¿å¤§å®¶æ§åºï¼è®°å¾ä¸é®ä¸è¿å¦ã\n\nhttps://www.bilibili.com/video/BV1P44y1N7QG\n\n\n# æ¹å¼ä¸ï¼éç½®æä»¶+<bean/>æ ç­¾\n\næé«ç«¯çé£æå¾å¾åªéè¦æç®åçç¹é¥ªæ¹æ³ï¼æéäºï¼åæ¥ãæåçº§çbeançå è½½æ¹å¼å¶å®å¯ä»¥ç´å»springç®¡æ§beançæ ¸å¿ææ³ï¼å°±æ¯æä¾ç±»åï¼ç¶åspringå°±å¯ä»¥ç®¡çäºãæä»¥ç¬¬ä¸ç§æ¹å¼å°±æ¯ç»åºbeançç±»åï¼è³äºåé¨åå°±æ¯åå°æºå¶å è½½æclassï¼ç¶åï¼å°±æ²¡æç¶åäºï¼æ¿å°äºclassä½ å°±å¯ä»¥æå®ä¸åäºãå¦æè¿å¥è¯å¬ä¸å¤ªæï¼è¯·è¿äºå°çåè½¬æjavaåºç¡é«çº§é¨åå¤ä¹ ä¸ä¸åå°ç¸å³ç¥è¯ã\n\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">\n    \x3c!--xmlæ¹å¼å£°æèªå·±å¼åçbean--\x3e\n    <bean id="cat" class="Cat"/>\n    <bean class="Dog"/>\n\n    \x3c!--xmlæ¹å¼å£°æç¬¬ä¸æ¹å¼åçbean--\x3e\n    <bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource"/>\n    <bean class="com.alibaba.druid.pool.DruidDataSource"/>\n    <bean class="com.alibaba.druid.pool.DruidDataSource"/>\n</beans>\n\n\n# æ¹å¼äºï¼éç½®æä»¶æ«æ+æ³¨è§£å®ä¹bean\n\nç±äºæ¹å¼ä¸ç§éè¦å°springç®¡æ§çbeanå¨é¨åå¨xmlæä»¶ä¸­ï¼å¯¹äºç¨åºåæ¥è¯´éå¸¸ä¸åå¥½ï¼æä»¥å°±æäºç¬¬äºç§æ¹å¼ãåªä¸ä¸ªç±»è¦åå°springç®¡æ§å è½½æbeanï¼å°±å¨è¿ä¸ªç±»çä¸é¢å ä¸ä¸ªæ³¨è§£ï¼è¿å¯ä»¥é¡ºå¸¦èµ·ä¸ä¸ªbeançåå­ï¼idï¼ãè¿éå¯ä»¥ä½¿ç¨çæ³¨è§£æ@Componentä»¥åä¸ä¸ªè¡çæ³¨è§£@Serviceã@Controllerã@Repositoryã\n\n@Component("tom")\npublic class Cat {\n}\n\n\n@Service\npublic class Mouse {\n}\n\n\nå½ç¶ï¼ç±äºæä»¬æ æ³å¨ç¬¬ä¸æ¹æä¾çææ¯æºä»£ç ä¸­å»æ·»å ä¸è¿°4ä¸ªæ³¨è§£ï¼å æ­¤å½ä½ éè¦å è½½ç¬¬ä¸æ¹å¼åçbeançæ¶åå¯ä»¥ä½¿ç¨ä¸åæ¹å¼å®ä¹æ³¨è§£å¼çbeanã@Beanå®ä¹å¨ä¸ä¸ªæ¹æ³ä¸æ¹ï¼å½åæ¹æ³çè¿åå¼å°±å¯ä»¥äº¤ç»springç®¡æ§ï¼è®°å¾è¿ä¸ªæ¹æ³æå¨çç±»ä¸å®è¦å®ä¹å¨@Componentä¿®é¥°çç±»ä¸­ï¼æäººä¼è¯´ä¸æ¯@Configurationåï¼å»ºè®®æspringæ³¨è§£å¼åç¸å³è¯¾ç¨å­¦ä¹ ä¸ä¸ï¼å°±ä¸ä¼æè¿ä¸ªçé®äºã\n\n@Component\npublic class DbConfig {\n    @Bean\n    public DruidDataSource dataSource(){\n        DruidDataSource ds = new DruidDataSource();\n        return ds;\n    }\n}\n\n\nä¸é¢æä¾çä»ä»æ¯beançå£°æï¼springå¹¶æ²¡ææç¥å°è¿äºä¸è¥¿ï¼åæäºä¸è¯¾ç§¯æåç­é®é¢çä½ ï¼æä¸¾çéå¸¸é«ï¼å¯æèå¸é½æ²¡æå¾ä½ çæ¹åçä¸ä¸ç¼ãæ³è®©springæç¥å°è¿äºç§¯æçå°ä¼ä¼´ï¼å¿é¡»è®¾ç½®springå»æ£æ¥è¿äºç±»ï¼çä»ä»¬æ¯å¦è´´æ ç­¾ï¼æ³å½ç§¯æåå­ãå¯ä»¥éè¿ä¸åxmléç½®è®¾ç½®springå»æ£æ¥åªäºåï¼åç°å®äºå¯¹åºæ³¨è§£ï¼å°±å°å¯¹åºçç±»çº³å¥springç®¡æ§èå´ï¼å£°ææbeanã\n\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xsi:schemaLocation="\n       http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n       http://www.springframework.org/schema/context/spring-context.xsd\n    ">\n    \x3c!--æå®æ«æå è½½beançä½ç½®--\x3e\n    <context:component-scan base-package="com.itheima.bean,com.itheima.config"/>\n</beans>\n\n\næ¹å¼äºå£°æbeançæ¹å¼æ¯ç®åä¼ä¸ä¸­è¾ä¸ºå¸¸è§çbeançå£°ææ¹å¼ï¼ä½æ¯ä¹æç¼ºç¹ãæ¹å¼ä¸ä¸­ï¼éè¿ä¸ä¸ªéç½®æä»¶ï¼ä½ å¯ä»¥æ¥éå½åspringç¯å¢ä¸­å®ä¹äºå¤å°ä¸ªæèè¯´å¤å°ç§beanï¼ä½æ¯æ¹å¼äºæ²¡æä»»ä½ä¸ä¸ªå°æ¹å¯ä»¥æ¥éæ´ä½ä¿¡æ¯ï¼åªæå½ç¨åºè¿è¡èµ·æ¥æè½æç¥å°å è½½äºå¤å°ä¸ªbeanã\n\n# æ¹å¼ä¸ï¼æ³¨è§£æ¹å¼å£°æéç½®ç±»\n\næ¹å¼äºå·²ç»å®ç¾çç®åäºbeançå£°æï¼ä»¥ååä¹ä¸ç¨åè«è«å¤çéç½®ä¿¡æ¯äºãä»ç»è§å¯xmléç½®æä»¶ï¼ä¼åç°è¿ä¸ªæä»¶ä¸­åªå©äºæ«æåè¿å¥è¯ï¼äºæ¯å°±æäººæåºï¼ä½¿ç¨javaç±»æ¿æ¢æè¿ç§åºå®æ ¼å¼çéç½®ï¼æä»¥ä¸é¢è¿ç§æ ¼å¼å°±åºç°äºãä¸¥æ ¼æä¹ä¸è®²ä¸è½ç®å¨æ°çæ¹å¼ï¼ä½æ¯ç±äºæ­¤ç§å¼åå½¢å¼æ¯ä¼ä¸çº§å¼åä¸­çä¸»æµå½¢å¼ï¼æä»¥åç¬ç¬ç«åºæ¥åæä¸ç§æ¹å¼ãå¯â¦â¦ï¼æä¹è¯´å¢ï¼æ¹å¼äºåæ¹å¼ä¸å¶å®å·®å«è¿æ¯æºå¤§çï¼çªå¤ç¯æ¾ä¸ªæ¶é´åèå§ã\n\nå®ä¹ä¸ä¸ªç±»å¹¶ä½¿ç¨@ComponentScanæ¿ä»£åå§xmléç½®ä¸­çåæ«æè¿ä¸ªå¨ä½ï¼å¶å®åè½åºæ¬ç¸å ãä¸ºä»ä¹è¯´åºæ¬ï¼è¿æ¯æå·®å«çãååä¸ªå³å­å§ï¼çªå¤ç¯åèã\n\n@ComponentScan({"com.itheima.bean","com.itheima.config"})\npublic class SpringConfig3 {\n    @Bean\n    public DogFactoryBean dog(){\n        return new DogFactoryBean();\n    }\n}\n\n\n# ä½¿ç¨FactroyBeanæ¥å£\n\nè¡¥åä¸ä¸ªå°ç¥è¯ï¼springæä¾äºä¸ä¸ªæ¥å£FactoryBeanï¼ä¹å¯ä»¥ç¨äºå£°æbeanï¼åªä¸è¿å®ç°äºFactoryBeanæ¥å£çç±»é åºæ¥çå¯¹è±¡ä¸æ¯å½åç±»çå¯¹è±¡ï¼èæ¯FactoryBeanæ¥å£æ³åæå®ç±»åçå¯¹è±¡ãå¦ä¸åï¼é åºæ¥çbeanå¹¶ä¸æ¯DogFactoryBeanï¼èæ¯Dogãæä»ä¹ç¨å¢ï¼å¯ä»¥å¨å¯¹è±¡åå§åååä¸äºäºæï¼ä¸ä¾ä¸­çæ³¨éä½ç½®å°±æ¯è®©ä½ èªå·±å»æ©å±è¦åçå¶ä»äºæçã\n\npublic class DogFactoryBean implements FactoryBean<Dog> {\n    @Override\n    public Dog getObject() throws Exception {\n        Dog d = new Dog();\n        //.........\n        return d;\n    }\n    @Override\n    public Class<?> getObjectType() {\n        return Dog.class;\n    }\n    @Override\n    public boolean isSingleton() {\n        return true;\n    }\n}\n\n\næäººè¯´ï¼æ³¨éä¸­çä»£ç åå¥Dogçæé æ¹æ³ä¸å°±è¡äºåï¼å¹²åè¿ä¹è´¹å²è½¬ä¸åï¼è¿åä¸ªç±»ï¼è¿è¦å®ç°æ¥å£ï¼å¤éº»ç¦åãè¿çä¸ä¸æ ·ï¼ä½ å¯ä»¥çè§£ä¸ºDogæ¯ä¸ä¸ªæ½è±¡åå¥ç¦»çç¹å«å¹²åçæ¨¡åï¼ä½æ¯å®éä½¿ç¨çæ¶åå¿é¡»è¿è¡ä¸ç³»åçåå§åå¨ä½ãåªä¸è¿æ ¹æ®æåµä¸åï¼åå§åå¨ä½ä¸åèå·²ãå¦æåå¥Dogï¼æè®¸åå§åå¨ä½Aå½åå¹¶ä¸è½æ»¡è¶³ä½ çéè¦ï¼è¿ä¸ªæ¶åä½ å°±è¦åä¸ä¸ªDogBçæ¹æ¡äºãç¶åï¼å°±æ²¡æç¶åäºï¼ä½ å°±è¦åä¸¤ä¸ªDogç±»ãå½æ¶ä½¿ç¨FactoryBeanæ¥å£å°±å¯ä»¥å®ç¾è§£å³è¿ä¸ªé®é¢ã\n\néå¸¸å®ç°äºFactoryBeanæ¥å£çç±»ä½¿ç¨@Beançå½¢å¼è¿è¡å è½½ï¼å½ç¶ä½ ä¹å¯ä»¥ä½¿ç¨@Componentå»å£°æDogFactoryBeanï¼åªè¦è¢«æ«æå è½½å°å³å¯ï¼ä½æ¯è¿ç§æ ¼å¼å è½½æ»è§å¾æªæªçï¼æåæ§ä¸æ¯å¾æç¡®ã\n\n@ComponentScan({"com.itheima.bean","com.itheima.config"})\npublic class SpringConfig3 {\n    @Bean\n    public DogFactoryBean dog(){\n        return new DogFactoryBean();\n    }\n}\n\n\n# æ³¨è§£æ ¼å¼å¯¼å¥XMLæ ¼å¼éç½®çbean\n\nåè¡¥åä¸ä¸ªå°ç¥è¯ï¼ç±äºæ©èµ·å¼åçç³»ç»å¤§é¨åé½æ¯éç¨xmlçå½¢å¼éç½®beanï¼ç°å¨çä¼ä¸çº§å¼ååºæ¬ä¸ä¸ç¨è¿ç§æ¨¡å¼äºãä½æ¯å¦æä½ ç¹å«å¹¸è¿ï¼éè¦åºäºä¹åçç³»ç»è¿è¡äºæ¬¡å¼åï¼è¿å°±å°´å°¬äºãæ°å¼åçç¨æ³¨è§£æ ¼å¼ï¼ä¹åå¼åçæ¯xmlæ ¼å¼ãè¿ä¸ªæ¶åå¯ä¸æ¯è®©ä½ éæ©ç¨åªç§æ¨¡å¼çï¼èæ¯ä¸¤ç§è¦åæ¶ä½¿ç¨ãspringæä¾äºä¸ä¸ªæ³¨è§£å¯ä»¥è§£å³è¿ä¸ªé®é¢ï¼@ImportResourceï¼å¨éç½®ç±»ä¸ç´æ¥åä¸è¦è¢«èåçxmléç½®æä»¶åå³å¯ï¼ç®çä¸ä¸ç§å¼å®¹æ§è§£å³æ¹æ¡ï¼æ²¡å¥å®éæä¹ã\n\n@Configuration\n@ImportResource("applicationContext1.xml")\npublic class SpringConfig32 {\n}\n\n\n# proxyBeanMethodså±æ§\n\nåé¢çä¾å­ä¸­ç¨å°äº@Configurationè¿ä¸ªæ³¨è§£ï¼å½æä»¬ä½¿ç¨AnnotationConfigApplicationContextå è½½éç½®ç±»çæ¶åï¼éç½®ç±»å¯ä»¥ä¸æ·»å è¿ä¸ªæ³¨è§£ãä½æ¯è¿ä¸ªæ³¨è§£æä¸ä¸ªæ´å å¼ºå¤§çåè½ï¼å®å¯ä»¥ä¿ééç½®ç±»ä¸­ä½¿ç¨æ¹æ³åå»ºçbeançå¯ä¸æ§ãä¸º@Configurationæ³¨è§£è®¾ç½®proxyBeanMethodså±æ§å¼ä¸ºtrueå³å¯ï¼ç±äºæ­¤å±æ§é»è®¤å¼ä¸ºtrueï¼æä»¥å¾å°çè§æç¡®ä¹¦åçï¼é¤éæ³æ¾å¼æ­¤åè½ã\n\n@Configuration(proxyBeanMethods = true)\npublic class SpringConfig33 {\n    @Bean\n    public Cat cat(){\n        return new Cat();\n    }\n}\n\n\nä¸é¢éè¿å®¹å¨åè°ç¨ä¸é¢çcatæ¹æ³æ¶ï¼å¾å°çå°±æ¯åä¸ä¸ªå¯¹è±¡äºãæ³¨æï¼å¿é¡»ä½¿ç¨springå®¹å¨å¯¹è±¡è°ç¨æ­¤æ¹æ³ææä¿æbeanå¯ä¸æ§çç¹æ§ãæ­¤ç¹æ§å¨å¾å¤åºå±æºç ä¸­æåºç¨ï¼åé¢è®²MQæ¶ï¼ä¹åºç¨äºæ­¤ç¹æ§ï¼åªä¸è¿å½åæ²¡æè§£éèå·²ãè¿éç®æ¯å¡«ä¸ªåå§ã\n\npublic class App33 {\n    public static void main(String[] args) {\n        ApplicationContext ctx = new AnnotationConfigApplicationContext(SpringConfig33.class);\n        String[] names = ctx.getBeanDefinitionNames();\n        for (String name : names) {\n            System.out.println(name);\n        }\n        System.out.println("-------------------------");\n        SpringConfig33 springConfig33 = ctx.getBean("springConfig33", SpringConfig33.class);\n        System.out.println(springConfig33.cat());\n        System.out.println(springConfig33.cat());\n        System.out.println(springConfig33.cat());\n    }\n}\n\n\n# æ¹å¼åï¼ä½¿ç¨@Importæ³¨è§£æ³¨å¥bean\n\nä½¿ç¨æ«æçæ¹å¼å è½½beanæ¯ä¼ä¸çº§å¼åä¸­å¸¸è§çbeançå è½½æ¹å¼ï¼ä½æ¯ç±äºæ«æçæ¶åä¸ä»å¯ä»¥å è½½å°ä½ è¦çä¸è¥¿ï¼è¿æå¯è½å è½½å°åç§åæ ·çä¹±ä¸å«ç³çä¸è¥¿ï¼ä¸ä¸æ²¡ææ§å¶å¥½å¾ä¸å¿å¤±äºã\n\næäººå°±ä¼å¥æªï¼ä¼æä»ä¹é®é¢å¢ï¼æ¯å¦ä½ æ«æäºcom.itheima.serviceåï¼åæ¥å ä¸ºä¸å¡éè¦ï¼åæ«æäºcom.itheima.daoåï¼ä½ åç°com.itheimaåä¸é¢åªæserviceådaoè¿ä¸¤ä¸ªåï¼è¿å°±ç®åäºï¼ç´æ¥æ«æcom.itheimaå°±è¡äºãä½æ¯ä¸ä¸æ²¡æ³å°ï¼åå¤©åä½ å å¥äºä¸ä¸ªå¤é¨ä¾èµåï¼éé¢ä¹æcom.itheimaåï¼è¿ä¸å°±ç­é¹äºï¼è¯¥æ¥çä¸è¯¥æ¥çå¨æ¥äºã\n\næä»¥æä»¬éè¦ä¸ç§ç²¾åå¶å¯¼çå è½½æ¹å¼ï¼ä½¿ç¨@Importæ³¨è§£å°±å¯ä»¥è§£å³ä½ çé®é¢ãå®å¯ä»¥å è½½ææçä¸åï¼åªéè¦å¨æ³¨è§£çåæ°ä¸­åä¸å è½½çç±»å¯¹åºç.classå³å¯ãæäººå°±ä¼è§å¾ï¼è¿è¦èªå·±æåï¼å¤éº»ç¦ï¼ä¸å¦æ«æå¥½ç¨ãå¯¹åï¼ä½æ¯ä»å¯ä»¥æå®å è½½åï¼å¥½çå½åè§èéå@ComponentScanå¯ä»¥è§£å³å¾å¤é®é¢ï¼ä½æ¯@Importæ³¨è§£æ¥æå¶éè¦çåºç¨åºæ¯ãææ²¡ææ³è¿åå¦ä½ è¦å è½½çbeanæ²¡æä½¿ç¨@Componentä¿®é¥°å¢ï¼è¿ä¸å°±æ è§£äºï¼è@Importå°±æ éèèè¿ä¸ªé®é¢ã\n\n@Import({Dog.class,DbConfig.class})\npublic class SpringConfig4 {\n}\n\n\n# ä½¿ç¨@Importæ³¨è§£æ³¨å¥éç½®ç±»\n\né¤äºå è½½beanï¼è¿å¯ä»¥ä½¿ç¨@Importæ³¨è§£å è½½éç½®ç±»ãå¶å®æ¬è´¨ä¸æ¯ä¸æ ·çï¼ä¸è§£éå¤ªå¤äºã\n\n@Import(DogFactoryBean.class)\npublic class SpringConfig4 {\n}\n\n\n# æ¹å¼äºï¼ç¼ç¨å½¢å¼æ³¨åbean\n\nåé¢ä»ç»çå è½½beançæ¹å¼é½æ¯å¨å®¹å¨å¯å¨é¶æ®µå®æbeançå è½½ï¼ä¸é¢è¿ç§æ¹å¼å°±æ¯è¾ç¹æ®äºï¼å¯ä»¥å¨å®¹å¨åå§åå®æåæå¨å è½½beanãéè¿è¿ç§æ¹å¼å¯ä»¥å®ç°ç¼ç¨å¼æ§å¶beançå è½½ã\n\npublic class App5 {\n    public static void main(String[] args) {\n        AnnotationConfigApplicationContext ctx = new AnnotationConfigApplicationContext(SpringConfig.class);\n        //ä¸ä¸æå®¹å¨å¯¹è±¡å·²ç»åå§åå®æ¯åï¼æå·¥å è½½bean\n        ctx.register(Mouse.class);\n    }\n}\n\n\nå¶å®è¿ç§æ¹å¼åè¿æ¯æºå¤çï¼æ¯å¦å®¹å¨ä¸­å·²ç»æäºæç§ç±»åçbeanï¼åå è½½ä¼ä¸ä¼è¦çå¢ï¼è¿é½æ¯è¦æèåå³æ³¨çé®é¢ãæ°ææç¨ã\n\npublic class App5 {\n    public static void main(String[] args) {\n        AnnotationConfigApplicationContext ctx = new AnnotationConfigApplicationContext(SpringConfig.class);\n        //ä¸ä¸æå®¹å¨å¯¹è±¡å·²ç»åå§åå®æ¯åï¼æå·¥å è½½bean\n        ctx.registerBean("tom", Cat.class,0);\n        ctx.registerBean("tom", Cat.class,1);\n        ctx.registerBean("tom", Cat.class,2);\n        System.out.println(ctx.getBean(Cat.class));\n    }\n}\n\n\n# æ¹å¼å­ï¼å¯¼å¥å®ç°äºImportSelectoræ¥å£çç±»\n\nå¨æ¹å¼äºç§ï¼æä»¬æåäºbeançå è½½å¯ä»¥è¿è¡ç¼ç¨åçæ§å¶ï¼æ·»å ifè¯­å¥å°±å¯ä»¥å®ç°beançå è½½æ§å¶äºãä½æ¯æ¯ç«æ¯å¨å®¹å¨åå§ååå®ç°beançå è½½æ§å¶ï¼é£æ¯å¦å¯ä»¥å¨å®¹å¨åå§åè¿ç¨ä¸­è¿è¡æ§å¶å¢ï¼ç­æ¡æ¯å¿é¡»çãå®ç°ImportSelectoræ¥å£çç±»å¯ä»¥è®¾ç½®å è½½çbeançå¨è·¯å¾ç±»åï¼è®°å¾ä¸ç¹ï¼åªè¦è½ç¼ç¨å°±è½å¤å®ï¼è½å¤å®æå³çå¯ä»¥æ§å¶ç¨åºçè¿è¡èµ°åï¼è¿èæ§å¶ä¸åã\n\nç°å¨åå¤äºä¸ç§æ§å¶beanå è½½çæ¹å¼ï¼æèè¯´æ¯éæ©beançæ¹å¼ã\n\npublic class MyImportSelector implements ImportSelector {\n    @Override\n    public String[] selectImports(AnnotationMetadata metadata) {\n        //åç§æ¡ä»¶çå¤å®ï¼å¤å®å®æ¯åï¼å³å®æ¯å¦è£è½½æå®çbean\n        // Metadataè¡¨ç¤ºæºæ°æ®\n        boolean flag = metadata.hasAnnotation("org.springframework.context.annotation.Configuration");\n        if(flag){\n            return new String[]{"com.itheima.bean.Dog"};\n        }\n        return new String[]{"com.itheima.bean.Cat"};\n    }\n}\n\n\n\n# æ¹å¼ä¸ï¼å¯¼å¥å®ç°äºImportBeanDefinitionRegistraræ¥å£çç±»\n\næ¹å¼å­ä¸­æä¾äºç»å®ç±»å¨è·¯å¾ç±»åæ§å¶beanå è½½çå½¢å¼ï¼å¦æå¯¹springçbeançå è½½åçæ¯è¾çæçå°ä¼ä¼´ç¥éï¼å¶å®beançå è½½ä¸æ¯ä¸ä¸ªç®ç®ååçå¯¹è±¡ï¼springä¸­å®ä¹äºä¸ä¸ªå«åBeanDefinitionçä¸è¥¿ï¼å®ææ¯æ§å¶beanåå§åå è½½çæ ¸å¿ãBeanDefinitionæ¥å£ä¸­ç»åºäºè¥å¹²ç§æ¹æ³ï¼å¯ä»¥æ§å¶beançç¸å³å±æ§ãè¯´ä¸ªæç®åçï¼åå»ºçå¯¹è±¡æ¯åä¾è¿æ¯éåä¾ï¼å¨BeanDefinitionä¸­å®ä¹äºscopeå±æ§å°±å¯ä»¥æ§å¶è¿ä¸ªãå¦æä½ æè§æ¹å¼å­æ²¡æç»ä½ å¼æ¾åºè¶³å¤çå¯¹beançæ§å¶æä½ï¼é£ä¹æ¹å¼ä¸ä½ å¼å¾æ¥æãæä»¬å¯ä»¥éè¿å®ä¹ä¸ä¸ªç±»ï¼ç¶åå®ç°ImportBeanDefinitionRegistraræ¥å£çæ¹å¼å®ä¹beanï¼å¹¶ä¸è¿å¯ä»¥è®©ä½ å¯¹beançåå§åè¿è¡æ´å ç»ç²åº¦çæ§å¶ï¼ä¸è¿å¯¹äºæ°æå¹¶ä¸æ¯å¾åå¥½ãå¿½ç¶ç»ä½ å¼æ¾äºè¥å¹²ä¸ªæä½ï¼è¿çä¸ç¥éå¦ä½ä¸æã\n\npublic class MyRegistrar implements ImportBeanDefinitionRegistrar {\n    @Override\n    public void registerBeanDefinitions(AnnotationMetadata metadata, BeanDefinitionRegistry registry) {\n        BeanDefinition beanDefinition = \t\n            BeanDefinitionBuilder.rootBeanDefinition(BookServiceImpl2.class).getBeanDefinition();\n        registry.registerBeanDefinition("bookService",beanDefinition);\n    }\n}\n\n\n# æ¹å¼å«ï¼å¯¼å¥å®ç°äºBeanDefinitionRegistryPostProcessoræ¥å£çç±»\n\nä¸è¿°ä¸ç§æ¹å¼é½æ¯å¨å®¹å¨åå§åè¿ç¨ä¸­è¿è¡beançå è½½æèå£°æï¼ä½æ¯è¿éæä¸ä¸ªbugãè¿ä¹å¤ç§æ¹å¼ï¼å®ä»¬ä¹é´å¦ææå²çªæä¹åï¼è°è½ææç»è£å®æï¼è¿æ¯ä¸ªå¥½é®é¢ï¼å½æç§ç±»åçbeanè¢«æ¥äºè¿ä¸çä½¿ç¨åç§æ¹å¼å è½½åï¼å¨ä½ å¯¹ææå è½½æ¹å¼çå è½½é¡ºåºæ²¡æå®å¨çè§£æ¸æ°ä¹åï¼ä½ è¿çä¸ç¥éæåè°è¯´äºç®ãå³ä¾¿ä½ çæ¸æ¥äºï¼ä¿ä¸é½åä½ ä¸èµ·å¼åççªéååæ·»å äºä¸ä¸ªbeanï¼å¾åï¼è¿ä¸å°±ç­é¹äºã\n\nspringæ¥èå®ä»²è£èçå¤§åæ¥äºä¸ä¸ªè´å½ä¸å»ï¼é½å«ååäºï¼æè¯´äºç®ï¼BeanDefinitionRegistryPostProcessorï¼çåå­ç¥éï¼BeanDefinitionæææ¯beanå®ä¹ï¼Registryæ³¨åçææï¼Poståç½®ï¼Processorå¤çå¨ï¼å¨ç§°beanå®ä¹åå¤çå¨ï¼å¹²å¥çï¼å¨ææbeanæ³¨åé½æè¾å®åï¼å®ææåä¸éå³ï¼è¯´ç½äºï¼å®è¯´äºç®ï¼è¿ä¸æ¶åäºï¼å®æ¯æåä¸ä¸ªè¿è¡çã\n\npublic class MyPostProcessor implements BeanDefinitionRegistryPostProcessor {\n    @Override\n    public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\n        BeanDefinition beanDefinition = \n            BeanDefinitionBuilder.rootBeanDefinition(BookServiceImpl4.class).getBeanDefinition();\n        registry.registerBeanDefinition("bookService",beanDefinition);\n    }\n}\n\n\n\næ»ä½ä¸æ¥è¯´ï¼ä¸é¢ä»ç»äºåç§åæ ·çbeançæ³¨åå è½½åå§åæ¹å¼ï¼èå­éå»ºç«ä¸ªæ¦å¿µå§ï¼æ¹å¼å¾å¤ï¼springæºç ä¸­å¤§éè¿ç¨åç§æ¹å¼ãå¤ä¹ çåå®¹å°±åè¯´å°è¿éã\n\næ»ç»\n\n 1. beançå®ä¹ç±åæxmléç½®éæ­¥æ¼åææ³¨è§£éç½®ï¼æ¬è´¨æ¯ä¸æ ·çï¼é½æ¯éè¿åå°æºå¶å è½½ç±»åååå»ºå¯¹è±¡ï¼å¯¹è±¡å°±æ¯springç®¡æ§çbean\n 2. @Importæ³¨è§£å¯ä»¥æå®å è½½æä¸ä¸ªç±»ä½ä¸ºspringç®¡æ§çbeanï¼å¦æè¢«å è½½çç±»ä¸­è¿å·æ@Beanç¸å³çå®ä¹ï¼ä¼è¢«ä¸åå è½½\n 3. springå¼æ¾åºäºè¥å¹²ç§å¯ç¼ç¨æ§å¶çbeançåå§åæ¹å¼ï¼éè¿åæ¯è¯­å¥ç±åºå®çå è½½beanè½¬æäºå¯ä»¥éæ©beanæ¯å¦å è½½æèéæ©å è½½åªä¸ç§bean\n\n\n\n\n# YL-1-2.beançå è½½æ§å¶\n\nåé¢å¤ä¹ beançå è½½æ¶ï¼æåºäºæå³å è½½æ§å¶çæ¹å¼ï¼å¶ä¸­æå·¥æ³¨åbeanï¼ImportSelectoræ¥å£ï¼ImportBeanDefinitionRegistraræ¥å£ï¼BeanDefinitionRegistryPostProcessoræ¥å£é½å¯ä»¥æ§å¶beançå è½½ï¼è¿ä¸èå°±æ¥è¯´è¯´è¿äºå è½½æ§å¶ã\n\nä¼ä¸çº§å¼åä¸­ä¸å¯è½å¨springå®¹å¨ä¸­è¿è¡beançé¥±åå¼å è½½çãä»ä¹æ¯é¥±åå¼å è½½ï¼å°±æ¯ä¸ç®¡ç¨ä¸ç¨ï¼å¨é¨å è½½ãæ¯å¦jdkä¸­æä¸¤ä¸ä¸ªç±»ï¼é£å°±å è½½ä¸¤ä¸ä¸ªbeanï¼æ¾ç¶æ¯ä¸åççï¼å ä¸ºä½ åæ ¹å°±ä¸ä¼ä½¿ç¨å¶ä¸­å¤§é¨åçbeanãé£åççå è½½æ¹å¼æ¯ä»ä¹ï¼è¯å®æ¯å¿è¦æ§å è½½ï¼å°±æ¯ç¨ä»ä¹å è½½ä»ä¹ãç»§ç»­æèï¼å è½½åªäºbeanéå¸¸åä»ä¹å½±åå¢ï¼æå®¹ææ³çå°±æ¯ä½ è¦ç¨ä»ä¹ææ¯ï¼å°±å è½½å¯¹åºçbeanãç¨ä»ä¹ææ¯æå³çä»ä¹ï¼å°±æ¯å è½½å¯¹åºææ¯çç±»ãæä»¥å¨springå®¹å¨ä¸­ï¼éè¿å¤å®æ¯å¦å è½½äºæä¸ªç±»æ¥æ§å¶æäºbeançå è½½æ¯ä¸ç§å¸¸è§æä½ãä¸ä¾ç»åºäºå¯¹åºçä»£ç å®ç°ï¼å¶å®ææ³å¾ç®åï¼åå¤æ­ä¸ä¸ªç±»çå¨è·¯å¾åæ¯å¦è½å¤æåå è½½ï¼å è½½æåè¯´ææè¿ä¸ªç±»ï¼é£å°±å¹²æé¡¹å·ä½çå·¥ä½ï¼å¦åå°±å¹²å«çå·¥ä½ã\n\npublic class MyImportSelector implements ImportSelector {\n    @Override\n    public String[] selectImports(AnnotationMetadata importingClassMetadata) {\n        try {\n            Class<?> clazz = Class.forName("com.itheima.bean.Mouse");\n            if(clazz != null) {\n                return new String[]{"com.itheima.bean.Cat"};\n            }\n        } catch (ClassNotFoundException e) {\n//            e.printStackTrace();\n            return new String[0];\n        }\n        return null;\n    }\n}\n\n\néè¿ä¸è¿°çåæï¼å¯ä»¥çå°æ­¤ç±»æä½å°æä¸ºä¼ä¸çº§å¼åä¸­çå¸¸è§æä½ï¼äºæ¯springbootå°æè¿äºå¸¸ç¨æä½ç»æä»¬åäºä¸æ¬¡å°è£ãè¿ç§é»è¾å¤å®ä½ å¼åèå°±å«æäºï¼æspringbootä¿¡ä¸è¿ä½ è¿ç§æ°æå¼åèï¼æç»ä½ å°è£ä¸ä¸ï¼åå ä¸ªæ³¨è§£ï¼ä½ å¡«åæ°å§ï¼è¶ï¼happyã\n\nä¸ä¾ä½¿ç¨@ConditionalOnClassæ³¨è§£å®ç°äºå½èææºä¸­å è½½äºcom.itheima.bean.Wolfç±»æ¶å è½½å¯¹åºçbeanãæ¯è¾ä¸ä¸ä¸é¢çä»£ç åä¸é¢çä»£ç ï¼ææ²¡ææè§å¾æ¸ç½ãå¶å®æ­¤ç±»æ³¨è§£è¿æå¾å¤ã\n\n@Bean\n@ConditionalOnClass(name = "com.itheima.bean.Wolf")\npublic Cat tom(){\n    return new Cat();\n}\n\n\n@ConditionalOnMissingClassæ³¨è§£æ§å¶èææºä¸­æ²¡æå è½½æå®çç±»æå è½½å¯¹åºçbeanã\n\n@Bean\n@ConditionalOnMissingClass("com.itheima.bean.Dog")\npublic Cat tom(){\n    return new Cat();\n}\n\n\nè¿ç§æ¡ä»¶è¿å¯ä»¥åå¹¶ä¸çé»è¾å³ç³»ï¼å2ä¸ªå°±æ¯2ä¸ªæ¡ä»¶é½æç«ï¼åå¤ä¸ªå°±æ¯å¤ä¸ªæ¡ä»¶é½æç«ã\n\n\n@Bean\n@ConditionalOnClass(name = "com.itheima.bean.Wolf")\n@ConditionalOnMissingClass("com.itheima.bean.Mouse")\npublic Cat tom(){\n    return new Cat();\n}\n\n\né¤äºå¤å®æ¯å¦å è½½ç±»ï¼è¿å¯ä»¥å¯¹å½åå®¹å¨ç±»ååå¤å®ï¼ä¸ä¾æ¯å¤å®å½åå®¹å¨ç¯å¢æ¯å¦æ¯webç¯å¢ã\n\n@Bean\n@ConditionalOnWebApplication\npublic Cat tom(){\n    return new Cat();\n}\n\n\nä¸é¢æ¯å¤å®å®¹å¨ç¯å¢æ¯å¦æ¯éwebç¯å¢ã\n\n@Bean\n@ConditionalOnNotWebApplication\npublic Cat tom(){\n    return new Cat();\n}\n\n\nå½ç¶è¿å¯ä»¥å¤å®æ¯å¦å è½½äºæå®åç§°çbeanï¼è¿ç§æä»ä¹ç¨å¢ï¼å¤ªæç¨äºãæ¯å¦å½åå®¹å¨ä¸­å·²ç»æä¾äºjdbcTemplateå¯¹åºçbeanï¼ä½ è¿éè¦åå è½½ä¸ä¸ªå¨æ°çjdbcTemplateçbeanåï¼æ²¡æå¿è¦äºåãspringè¯´ï¼å¦æä½ èªå·±åçè¯ï¼æå°±ä¸å¸®ä½ æè¿ä»½å¿äºï¼å¦æä½ æ²¡åï¼æåç»ä½ æä¾ãèªéåºï¼èªéåºï¼æç½ï¼æ²¡æçè¯å°±æä¾ç»ä½ ï¼æçè¯å°±ç¨ä½ èªå·±çï¼æ¯ä¸æ¯å¾å¸ï¼\n\n@Bean\n@ConditionalOnBean(name="jerry")\npublic Cat tom(){\n    return new Cat();\n}\n\n\nä»¥ä¸å°±æ¯å¤å®å½åæ¯å¦å è½½äºmysqlçé©±å¨ç±»ï¼å¦æå è½½äºï¼æå°±ç»ä½ æä¸ä¸ªDruidçæ°æ®æºå¯¹è±¡åºæ¥ï¼å®ç¾ï¼\n\npublic class SpringConfig {\n    @Bean\n    @ConditionalOnClass(name="com.mysql.jdbc.Driver")\n    public DruidDataSource dataSource(){\n        return new DruidDataSource();\n    }\n}\n\n\nå¶ä¸­springbootçbeanå è½½æ§å¶æ³¨è§£è¿æå¾å¤ï¼è¿éå°±ä¸ä¸ä¸åä¸¾äºï¼æå¸¸ç¨çå¤å®æ¡ä»¶å°±æ¯æ ¹æ®ç±»æ¯å¦å è½½æ¥è¿è¡æ§å¶ã\n\næ»ç»\n\n 1. springbootå®ä¹äºè¥å¹²ç§æ§å¶beanå è½½çæ¡ä»¶è®¾ç½®æ³¨è§£ï¼ç±springåºå®å è½½beanåæäºå¯ä»¥æ ¹æ®æåµéæ©æ§çå è½½bean\n\n\n# YL-1-3.beançä¾èµå±æ§éç½®ç®¡ç\n\nbeançå è½½åå è½½æ§å¶å·²ç»æå®äºï¼ä¸é¢ç ç©¶ä¸ä¸beanåé¨çäºæãbeanå¨è¿è¡çæ¶åï¼å®ç°å¯¹åºçä¸å¡é»è¾æ¶æå¯è½éè¦å¼åèæä¾ä¸äºè®¾ç½®å¼ï¼æå°±æ¯å±æ§äºãå¦æä½¿ç¨æé æ¹æ³å°åæ°åºå®ï¼çµæ´»æ§ä¸è¶³ï¼è¿ä¸ªæ¶åå°±å¯ä»¥ä½¿ç¨åæå­¦ä¹ çbeançå±æ§éç½®ç¸å³çç¥è¯è¿è¡çµæ´»çéç½®äºãåéè¿ymléç½®æä»¶ï¼è®¾ç½®beanè¿è¡éè¦ä½¿ç¨çéç½®ä¿¡æ¯ã\n\ncartoon:\n  cat:\n    name: "å¾å¤çæ´"\n    age: 5\n  mouse:\n    name: "æ³°è²"\n    age: 1\n\n\nç¶åå®ä¹ä¸ä¸ªå°è£å±æ§çä¸ç¨ç±»ï¼å è½½éç½®å±æ§ï¼è¯»åå¯¹åºåç¼ç¸å³çå±æ§å¼ã\n\n@ConfigurationProperties(prefix = "cartoon")\n@Data\npublic class CartoonProperties {\n    private Cat cat;\n    private Mouse mouse;\n}\n\n\næåå¨ä½¿ç¨çä½ç½®æ³¨å¥å¯¹åºçéç½®å³å¯ã\n\n@EnableConfigurationProperties(CartoonProperties.class)\npublic class CartoonCatAndMouse{\n    @Autowired\n    private CartoonProperties cartoonProperties;\n}\n\n\nå»ºè®®å¨ä¸å¡ç±»ä¸ä½¿ç¨@EnableConfigurationPropertieså£°æbeanï¼è¿æ ·å¨ä¸ä½¿ç¨è¿ä¸ªç±»çæ¶åï¼ä¹ä¸ä¼æ æå è½½ä¸ç¨çå±æ§éç½®ç±»CartoonPropertiesï¼åå°springç®¡æ§çèµæºæ°éã\n\næ»ç»\n\n 1. beançè¿è¡å¦æéè¦å¤é¨è®¾ç½®å¼ï¼å»ºè®®å°è®¾ç½®å¼å°è£æä¸ç¨çå±æ§ç±»* * * * Properties\n 2. è®¾ç½®å±æ§ç±»å è½½æå®åç¼çéç½®ä¿¡æ¯\n 3. å¨éè¦ä½¿ç¨å±æ§ç±»çä½ç½®éè¿æ³¨è§£@EnableConfigurationPropertieså è½½beanï¼èä¸è¦ç´æ¥å¨å±æ§éç½®ç±»ä¸å®ä¹beanï¼åå°èµæºå è½½çæ°éï¼å éå è½½èä¸è¦é¥±åå¼å è½½ã\n\n\n# YL-1-4.èªå¨éç½®åçï¼å·¥ä½æµç¨ï¼\n\nç»è¿åé¢çç¥è¯å¤ä¹ ï¼ä¸é¢ç»äºè¿å¥å°äºæ¬ç« æ ¸å¿åå®¹çå­¦ä¹ ï¼èªå¨éç½®åçãåçè°ä¸ä¸ï¼å°±æ¯èªå¨éç½®çå·¥ä½æµç¨ã\n\nå¥å«èªå¨éç½®å¢ï¼ç®åè¯´å°±æ¯springbootæ ¹æ®æä»¬å¼åèçè¡ä¸ºçæµä½ è¦åä»ä¹äºæï¼ç¶åæä½ è¦ç¨çbeané½ç»ä½ åå¤å¥½ãå¬ä¸å»æ¯ä¸æ¯å¾ç¥å¥ï¼å¶å®éå¸¸ç®åï¼åé¢å¤ä¹ çä¸è¥¿é½å·²ç»è®²å®äºãspringbootååå°çå¢ï¼å°±æ¯çä½ å¯¼å¥äºä»ä¹ç±»ï¼å°±ç¥éä½ æ³å¹²ä»ä¹äºãç¶åæä½ æå¯è½è¦ç¨çbeanï¼æ³¨ææ¯æå¯è½ï¼é½ç»ä½ å è½½å¥½ï¼ä½ ç´æ¥ä½¿ç¨å°±è¡äºï¼springbootææéè¦çä¸åå·¥ä½é½åå®äºã\n\nèªå¨éç½®çæä¹å°±æ¯å éå¼åæçï¼å°å¼åèä½¿ç¨æç§ææ¯æ¶éè¦ä½¿ç¨çbeanæ ¹æ®æåµæåå è½½å¥½ï¼å®ç°èªå¨éç½®çææãå½ç¶ï¼å¼åèæå¯è½éè¦æä¾å¿è¦çåæ°ï¼æ¯å¦ä½ è¦ç¨mysqlææ¯ï¼å¯¼å¥äºmysqlçåæ ï¼springbootå°±ç¥éäºä½ è¦åæ°æ®åºæä½ï¼ä¸ç³»åçæ°æ®åºæä½ç¸å³çbeané½ç»ä½ æåå£°æå¥½ï¼ä½æ¯ä½ è¦åè¯springbootä½ å°åºç¨åªä¸ä¸ªæ°æ®åºï¼åä»ä¹IPå°ååï¼ç«¯å£åï¼ä½ ä¸åè¯spirngbootï¼springbootå°±æ æ³å¸®ä½ æèªå¨éç½®ç¸å³çå·¥ä½åå®ã\n\nèè¿ç§ææ³å¶å®å°±æ¯å¨æ¥å¸¸çå¼åè¿ç¨ä¸­æ ¹æ®å¼åèçä¹ æ¯æ¢æ¢æ½åå¾å°äºãæ´ä½è¿ç¨åä¸º2ä¸ªé¶æ®µï¼\n\né¶æ®µä¸ï¼åå¤é¶æ®µ\n\n 1. springbootçå¼åäººååå¤§éæ¶éSpringå¼åèçç¼ç¨ä¹ æ¯ï¼æ´çå¼åè¿ç¨æ¯ä¸ä¸ªç¨åºç»å¸¸ä½¿ç¨çææ¯åè¡¨ï¼å½¢æä¸ä¸ªææ¯éA\n\n 2. æ¶éå¸¸ç¨ææ¯(ææ¯éA)çä½¿ç¨åæ°ï¼ä¸ç®¡ä½ ç¨ä»ä¹å¸¸ç¨è®¾ç½®ï¼æç¨ä»ä¹å¸¸ç¨è®¾ç½®ï¼ç»ç»æ¶éèµ·æ¥æ´çä¸ä¸ï¼å¾å°å¼åè¿ç¨ä¸­æ¯ä¸ä¸ªææ¯çå¸¸ç¨è®¾ç½®ï¼å½¢ææ¯ä¸ä¸ªææ¯å¯¹åºçè®¾ç½®éB\n    \n    é¶æ®µäºï¼å è½½é¶æ®µ\n\n 3. springbootåå§åSpringå®¹å¨åºç¡ç¯å¢ï¼è¯»åç¨æ·çéç½®ä¿¡æ¯ï¼å è½½ç¨æ·èªå®ä¹çbeanåå¯¼å¥çå¶ä»åæ ï¼å½¢æåå§åç¯å¢\n\n 4. springbootå°ææ¯éAåå«çææææ¯å¨SpringBootå¯å¨æ¶é»è®¤å¨é¨å è½½ï¼è¿æ¶è¯å®å è½½çä¸è¥¿æä¸äºæ¯æ æçï¼æ²¡æç¨ç\n\n 5. springbootä¼å¯¹ææ¯éAä¸­æ¯ä¸ä¸ªææ¯çº¦å®åºå¯å¨è¿ä¸ªææ¯å¯¹åºçæ¡ä»¶ï¼å¹¶è®¾ç½®æææ¡ä»¶å è½½ï¼ç±äºå¼åèå¯¼å¥äºä¸äºbeanåå¶ä»åæ ï¼ä¹å°±æ¯ä¸åå§åç¯å¢ï¼è¿ä¸ªæ¶åå°±å¯ä»¥æ ¹æ®è¿ä¸ªåå§åç¯å¢ä¸springbootçææ¯éAè¿è¡æ¯å¯¹äºï¼åªä¸ªå¹éä¸å è½½åªä¸ª\n\n 6. å ä¸ºæäºææ¯ä¸åéç½®å°±æ æ³å·¥ä½ï¼æä»¥springbootå¼å§å¯¹è®¾ç½®éBä¸æäºãå®ç»è®¡åºåä¸ªå½å®¶åä¸ªè¡ä¸çå¼åèä½¿ç¨æä¸ªææ¯æ¶æå¸¸ç¨çè®¾ç½®æ¯ä»ä¹ï¼ç¶åæè¿äºè®¾ç½®ä½ä¸ºé»è®¤å¼ç´æ¥è®¾ç½®å¥½ï¼å¹¶åè¯å¼åèå½åè®¾ç½®æå·²ç»ç»ä½ æäºä¸å¥ï¼ä½ è¦ç¨å¯ä»¥ç´æ¥ç¨ï¼è¿æ ·å¯ä»¥åå°å¼åèéç½®åæ°çå·¥ä½é\n\n 7. ä½æ¯é»è®¤éç½®ä¸ä¸å®è½è§£å³é®é¢ï¼äºæ¯springbootå¼æ¾ä¿®æ¹è®¾ç½®éBçæ¥å£ï¼å¯ä»¥ç±å¼åèæ ¹æ®éè¦å³å®æ¯å¦è¦çé»è®¤éç½®\n\nä»¥ä¸è¿äºä»ä»æ¯ä¸ä¸ªææ³ï¼è½å°å°ä»£ç å®ç°é¶æ®µå°±è¦å¥½å¥½æèä¸ä¸æä¹å®ç°äºãåå®æä»¬æ³èªå·±å®ç°èªå¨éç½®çåè½ï¼é½è¦ååªäºå·¥ä½å¢ï¼\n\n * é¦åæå®ä¸ä¸ªææ¯Xï¼æä»¬æç®è®©ææ¯Xå·å¤èªå¨éç½®çåè½ï¼è¿ä¸ªææ¯Xå¯ä»¥æ¯ä»»æåè½ï¼è¿ä¸ªææ¯é¶å±äºä¸é¢æè¿°çææ¯éA\n\npublic class CartoonCatAndMouse{\n}\n\n\n * ç¶åæ¾åºææ¯Xä½¿ç¨è¿ç¨ä¸­çå¸¸ç¨éç½®Yï¼è¿ä¸ªéç½®é¶å±äºä¸é¢è¡¨è¿°çè®¾ç½®éB\n\ncartoon:\n  cat:\n    name: "å¾å¤çæ´"\n    age: 5\n  mouse:\n    name: "æ³°è²"\n    age: 1\n\n\n * å°å¸¸ç¨éç½®Yè®¾è®¡åºå¯¹åºçymléç½®ä¹¦åæ ¼å¼ï¼ç¶åå®ä¹ä¸ä¸ªå±æ§ç±»å°è£å¯¹åºçéç½®å±æ§ï¼è¿ä¸ªè¿ç¨å¶å®å°±æ¯ä¸ä¸èå±ä»¬åçbeançä¾èµå±æ§ç®¡çï¼ä¸æ¨¡ä¸æ ·\n\n@ConfigurationProperties(prefix = "cartoon")\n@Data\npublic class CartoonProperties {\n    private Cat cat;\n    private Mouse mouse;\n}\n\n\n * æååä¸ä¸ªéç½®ç±»ï¼å½è¿ä¸ªç±»å è½½çæ¶åå°±å¯ä»¥åå§åå¯¹åºçåè½beanï¼å¹¶ä¸å¯ä»¥å è½½å°å¯¹åºçéç½®\n\n@EnableConfigurationProperties(CartoonProperties.class)\npublic class CartoonCatAndMouse implements ApplicationContextAware {\n    private CartoonProperties cartoonProperties;\n}\n\n\n * å½ç¶ï¼ä½ ä¹å¯ä»¥ä¸ºå½åèªå¨éç½®ç±»è®¾ç½®ä¸æ¿æ´»æ¡ä»¶ï¼ä¾å¦ä½¿ç¨@CondtionOn* * * * ä¸ºå¶è®¾ç½®å è½½æ¡ä»¶\n\n@ConditionalOnClass(name="org.springframework.data.redis.core.RedisOperations")\n@EnableConfigurationProperties(CartoonProperties.class)\npublic class CartoonCatAndMouse implements ApplicationContextAware {\n    private CartoonProperties cartoonProperties;\n}\n\n\nåå°è¿éé½å·²ç»åå®äºï¼ä½æ¯éå°äºä¸ä¸ªå¨æ°çé®é¢ï¼å¦ä½è®©springbootå¯å¨çæ¶åå»å è½½è¿ä¸ªç±»å¢ï¼å¦æä¸å è½½çè¯ï¼æä»¬åçæ¡ä»¶å¤å®ï¼åçå±æ§å è½½è¿äºå¨é¨é½å¤±æäºãspringbootä¸ºæä»¬å¼æ¾äºä¸ä¸ªéç½®å¥å£ï¼å¨éç½®ç®å½ä¸­åå»ºMETA-INFç®å½ï¼å¹¶åå»ºspring.factoriesæä»¶ï¼å¨å¶ä¸­æ·»å è®¾ç½®ï¼è¯´æåªäºç±»è¦å¯å¨èªå¨éç½®å°±å¯ä»¥äºã\n\n# Auto Configure\norg.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\ncom.itheima.bean.CartoonCatAndMouse\n\n\nå¶å®è¿ä¸ªæä»¶å°±åäºä¸ä»¶äºï¼éè¿è¿ç§éç½®çæ¹å¼å è½½äºæå®çç±»ãè½¬äºä¸åï¼å°±æ¯ä¸ªæ®éçbeançå è½½ï¼åæåä½¿ç¨xmlæ ¼å¼å è½½beanå ä¹æ²¡æåºå«ï¼æ ¼å¼åäºèå·²ãé£èªå¨éç½®çæ ¸å¿ç©¶ç«æ¯ä»ä¹å¢ï¼èªå¨éç½®å¶å®æ¯ä¸ä¸ªå°ççæï¼å¯ä»¥æç§å¦ä¸ææ³çè§£ï¼\n\n 1. èªå¨éç½®ä»æ ¹æ¬ä¸æ¥è¯´å°±æ¯ä¸ä¸ªbeançå è½½\n 2. éè¿beanå è½½æ¡ä»¶çæ§å¶ç»å¼åèä¸ç§æè§ï¼èªå¨éç½®æ¯èªéåºçï¼å¯ä»¥æ ¹æ®æåµèªå·±å¤å®ï¼ä½å®éä¸å°±æ¯ææ®éçåæ¯è¯­å¥çåºç¨ï¼è¿æ¯èè½æä»¬åç¼çç¬¬ä¸å±é¢çº±\n 3. ä½¿ç¨beançæ¶åï¼å¦æä¸è®¾ç½®å±æ§ï¼å°±æé»è®¤å¼ï¼å¦æä¸æ³ç¨é»è®¤å¼ï¼å°±å¯ä»¥èªå·±è®¾ç½®ï¼ä¹å°±æ¯å¯ä»¥ä¿®æ¹é¨åæèå¨é¨åæ°ï¼æè§è¿ä¸ªè¿ç¨å¥½å±ï¼ä¹æ¯ä¸ç§èªéåºçå½¢å¼ï¼å¶å®è¿æ¯éè¦ä½¿ç¨åæ¯è¯­å¥æ¥åå¤æ­çï¼è¿æ¯èè½æä»¬åç¼çç¬¬äºå±é¢çº±\n 4. springbootææ¯æåå°å¤§éå¼åèæå¯è½ä½¿ç¨çææ¯æååå¥½äºï¼æ¡ä»¶ä¹åå¥½äºï¼ç¨çæ¶åä½ å¯¼å¥äºä¸ä¸ªåæ ï¼å¯¹åºææ¯å°±å¯ä»¥ä½¿ç¨äºï¼å¶å®å°±æ¯æåå¸®æä»¬æspring.factoriesæä»¶åå¥½äºï¼è¿æ¯èè½æä»¬åç¼çç¬¬ä¸å±é¢çº±\n\nä½ å¨ä¸ç¥éèªå¨éç½®è¿ä¸ªç¥è¯çæåµä¸ï¼ç»è¿ä¸é¢è¿ä¸äºä¸ï¼ä½ å½ç¶è§å¾èªå¨éç½®æ¯ä¸ç§ç¹å«ççææ¯ï¼ä½æ¯ä¸çª¥ç©¶ç«ååç°ï¼ä¹å°±é£ä¹åäºãèä¸ç°å¨springbootç¨åºå¯å¨æ¶ï¼å¨åå°å·å·çåäºè¿ä¹å¤æ¬¡æ£æµï¼è¿ä¹å¤ç§æåµå¤å®ï¼ä¸ç¨é®äºï¼æçä¸å®æ¯éå¸¸ä½çï¼æ¯ç«å®è¦æ£æµ100ä½ç§ææ¯æ¯å¦å¨ä½ ç¨åºä¸­ä½¿ç¨ã\n\nä»¥ä¸åå®¹æ¯èªå¨éç½®çå·¥ä½æµç¨ã\n\næ»ç»\n\n 1. springbootå¯å¨æ¶åå è½½spring.factoriesæä»¶ä¸­çorg.springframework.boot.autoconfigure.EnableAutoConfigurationéç½®é¡¹ï¼å°å¶ä¸­éç½®çææçç±»é½å è½½æbean\n 2. å¨å è½½beançæ¶åï¼beanå¯¹åºçç±»å®ä¹ä¸é½è®¾ç½®æå è½½æ¡ä»¶ï¼å æ­¤æå¯è½å è½½æåï¼ä¹å¯è½æ¡ä»¶æ£æµå¤±è´¥ä¸å è½½bean\n 3. å¯¹äºå¯ä»¥æ­£å¸¸å è½½æbeançç±»ï¼éå¸¸ä¼éè¿@EnableConfigurationPropertiesæ³¨è§£åå§åå¯¹åºçéç½®å±æ§ç±»å¹¶å è½½å¯¹åºçéç½®\n 4. éç½®å±æ§ç±»ä¸éå¸¸ä¼éè¿@ConfigurationPropertieså è½½æå®åç¼çéç½®ï¼å½ç¶è¿äºéç½®éå¸¸é½æé»è®¤å¼ãå¦ææ²¡æé»è®¤å¼ï¼å°±å¼ºå¶ä½ å¿é¡»éç½®åä½¿ç¨äº\n\n\n\n\n# YL-1-5.åæ´èªå¨éç½®\n\nç¥éäºèªå¨éç½®çæ§è¡è¿ç¨ï¼ä¸é¢å°±å¯ä»¥æ ¹æ®è¿ä¸ªèªå¨éç½®çæµç¨åä¸äºé«çº§å®å¶äºãä¾å¦ç³»ç»é»è®¤ä¼å è½½100å¤ç§èªå¨éç½®çææ¯ï¼å¦ææä»¬åæå·¥å¹²é¢æ­¤å·¥ç¨ï¼ç¦ç¨èªå¨éç½®æ¯å¦å¯è¡å¢ï¼ç­æ¡ä¸å®æ¯å¯ä»¥çãæ¹å¼è¿æºå¤ï¼\n\næ¹å¼ä¸ï¼éè¿yamléç½®è®¾ç½®æé¤æå®çèªå¨éç½®ç±»\n\nspring:\n  autoconfigure:\n    exclude:\n      - org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration\n\n\næ¹å¼äºï¼éè¿æ³¨è§£åæ°æé¤èªå¨éç½®ç±»\n\n@EnableAutoConfiguration(excludeName = "",exclude = {})\n\n\næ¹å¼ä¸ï¼æé¤åæ ï¼åºç¨é¢è¾çªï¼\n\nå¦æå½åèªå¨éç½®ä¸­åå«ææ´å¤çèªå¨éç½®åè½ï¼ä¹å°±æ¯ä¸ä¸ªå¥å¨çææãæ­¤æ¶å¯ä»¥éè¿æ£æµæ¡ä»¶çæ§å¶æ¥ç®¡çèªå¨éç½®æ¯å¦å¯å¨ãä¾å¦webç¨åºå¯å¨æ¶ä¼èªå¨å¯å¨tomcatæå¡å¨ï¼å¯ä»¥éè¿æé¤åæ çæ¹å¼ï¼è®©å è½½tomcatæå¡å¨çæ¡ä»¶å¤±æãä¸è¿éè¦æéä¸ç¹ï¼ä½ ætomcatæé¤æï¼è®°å¾åå ä¸ç§å¯ä»¥è¿è¡çæå¡å¨ã\n\n<dependencies>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-web</artifactId>\n        \x3c!--webèµ·æ­¥ä¾èµç¯å¢ä¸­ï¼æé¤Tomcatèµ·æ­¥ä¾èµï¼å¹éèªå¨éç½®æ¡ä»¶--\x3e\n        <exclusions>\n            <exclusion>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-starter-tomcat</artifactId>\n            </exclusion>\n        </exclusions>\n    </dependency>\n    \x3c!--æ·»å Jettyèµ·æ­¥ä¾èµï¼å¹éèªå¨éç½®æ¡ä»¶--\x3e\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-jetty</artifactId>\n    </dependency>\n</dependencies>\n\n\næ»ç»\n\n 1. springbootçèªå¨éç½®å¹¶ä¸æ¯å¿ç¶è¿è¡çï¼å¯ä»¥éè¿éç½®çå½¢å¼å¹²é¢æ¯å¦å¯ç¨å¯¹åºçèªå¨éç½®åè½\n\n\n# YL-2.èªå®ä¹starterå¼å\n\nèªå¨éç½®å­¦ä¹ å®åï¼æä»¬å°±å¯ä»¥åºäºèªå¨éç½®çç¹æ§ï¼å¼åspringbootææ¯ä¸­æå¼ä»¥ä¸ºå²çåè½äºï¼starterãå¶å®éè¿åæå­¦ä¹ ï¼æä»¬åç°ç¨ä»ä¹ææ¯ç´æ¥å¯¼å¥å¯¹åºçstarterï¼ç¶åå°±å®ç°äºspringbootæ´åå¯¹åºææ¯ï¼åå ä¸ä¸äºç®åçéç½®ï¼å°±å¯ä»¥ç´æ¥ä½¿ç¨äºãè¿ç§è®¾è®¡æ¹å¼å¯¹å¼åèéå¸¸åå¥½ï¼æ¬ç« å°±éè¿ä¸ä¸ªæ¡ä¾çå¶ä½ï¼å¼åèªå®ä¹starteræ¥å®ç°èªå®ä¹åè½çå¿«æ·æ·»å ã\n\n\n# YL-2-1.æ¡ä¾ï¼è®°å½ç³»ç»è®¿å®¢ç¬ç«IPè®¿é®æ¬¡æ°\n\næ¬æ¡ä¾çåè½æ¯ç»è®¡ç½ç«ç¬ç«IPè®¿é®æ¬¡æ°çåè½ï¼å¹¶å°è®¿é®ä¿¡æ¯å¨åå°æç»­è¾åºãæ´ä½åè½æ¯å¨åå°æ¯10ç§è¾åºä¸æ¬¡çæ§ä¿¡æ¯ï¼æ ¼å¼ï¼IP+è®¿é®æ¬¡æ°ï¼ ï¼å½ç¨æ·è®¿é®ç½ç«æ¶ï¼å¯¹ç¨æ·çè®¿é®è¡ä¸ºè¿è¡ç»è®¡ã\n\nä¾å¦ï¼å¼ ä¸è®¿é®ç½ç«åè½15æ¬¡ï¼IPå°åï¼192.168.0.135ï¼æåè®¿é®ç½ç«åè½20æ¬¡ï¼IPå°åï¼61.129.65.248ãé£ä¹å¨ç½ç«åå°å°±è¾åºå¦ä¸çæ§ä¿¡æ¯ï¼æ­¤ä¿¡æ¯æ¯10ç§å·æ°ä¸æ¬¡ã\n\n         IPè®¿é®çæ§\n+-----ip-address-----+--num--+\n|     192.168.0.135  |   15  |\n|     61.129.65.248  |   20  |\n+--------------------+-------+\n\n\nå¨è¿è¡å·ä½å¶ä½ä¹åï¼åå¯¹åè½åå·ä½çåæ\n\n 1. æ°æ®è®°å½å¨ä»ä¹ä½ç½®\n    \n    æç»è®°å½çæ°æ®æ¯ä¸ä¸ªå­ç¬¦ä¸²ï¼IPå°åï¼å¯¹åºä¸ä¸ªæ°å­ï¼è®¿é®æ¬¡æ°ï¼ï¼æ­¤å¤å¯ä»¥éæ©çæ°æ®å­å¨æ¨¡åå¯ä»¥ä½¿ç¨javaæä¾çmapæ¨¡åï¼ä¹å°±æ¯key-valueçé®å¼å¯¹æ¨¡åï¼æèå·ækey-valueé®å¼å¯¹æ¨¡åçå­å¨ææ¯ï¼ä¾å¦redisææ¯ãæ¬æ¡ä¾ä½¿ç¨mapä½ä¸ºå®ç°æ¹æ¡ï¼æå´è¶£çå°ä¼ä¼´å¯ä»¥ä½¿ç¨redisä½ä¸ºè§£å³æ¹æ¡ã\n\n 2. ç»è®¡åè½è¿è¡ä½ç½®ï¼å ä¸ºæ¯æ¬¡webè¯·æ±é½éè¦è¿è¡ç»è®¡ï¼å æ­¤ä½¿ç¨æ¦æªå¨ä¼æ¯æ¯è¾å¥½çæ¹æ¡ï¼æ¬æ¡ä¾ä½¿ç¨æ¦æªå¨æ¥å®ç°ãä¸è¿å¨å¶ä½åæï¼åä½¿ç¨è°ç¨çå½¢å¼è¿è¡æµè¯ï¼ç­åè½å®æäºï¼åæ¹ææ¦æªå¨çå®ç°æ¹æ¡ã\n\n 3. ä¸ºäºæåç»è®¡æ°æ®å±ç¤ºççµæ´»åº¦ï¼ä¸ºç»è®¡åè½æ·»å éç½®é¡¹ãè¾åºé¢åº¦ï¼è¾åºçæ°æ®æ ¼å¼ï¼ç»è®¡æ°æ®çæ¾ç¤ºæ¨¡å¼åå¯ä»¥éè¿éç½®å®ç°è°æ´ã\n    \n    * è¾åºé¢åº¦ï¼é»è®¤10ç§\n    * æ°æ®ç¹å¾ï¼ç´¯è®¡æ°æ® / é¶æ®µæ°æ®ï¼é»è®¤ç´¯è®¡æ°æ®\n    * è¾åºæ ¼å¼ï¼è¯¦ç»æ¨¡å¼ / æç®æ¨¡å¼\n\nå¨ä¸é¢çå¶ä½ä¸­ï¼åæè¥å¹²ä¸ªæ­¥éª¤å®ç°ãåå®ææåºæ¬çç»è®¡åè½çå¶ä½ï¼ç¶åå¼ååºç»è®¡æ¥è¡¨ï¼æ¥ä¸æ¥æææçéç½®é½è®¾ç½®å¥½ï¼æåå°æ¦æªå¨åè½å®ç°ï¼æ´ä½åè½å°±åå®äºã\n\n\n# YL-2-2.IPè®¡æ°ä¸å¡åè½å¼åï¼èªå®ä¹starterï¼\n\næ¬åè½æç»è¦å®ç°çæææ¯å¨ç°æçé¡¹ç®ä¸­å¯¼å¥ä¸ä¸ªstarterï¼å¯¹åºçåè½å°±æ·»å ä¸äºï¼å é¤æå¯¹åºçstarterï¼åè½å°±æ¶å¤±äºï¼è¦æ±åè½è¦ä¸åå§é¡¹ç®å®å¨è§£è¦ãå æ­¤éè¦å¼åä¸ä¸ªç¬ç«çæ¨¡åï¼å¶ä½å¯¹åºåè½ã\n\næ­¥éª¤ä¸ï¼åå»ºå¨æ°çæ¨¡åï¼å®ä¹ä¸å¡åè½ç±»\n\nåè½ç±»çå¶ä½å¹¶ä¸å¤æï¼å®ä¹ä¸ä¸ªä¸å¡ç±»ï¼å£°æä¸ä¸ªMapå¯¹è±¡ï¼ç¨äºè®°å½ipè®¿é®æ¬¡æ°ï¼keyæ¯ipå°åï¼valueæ¯è®¿é®æ¬¡æ°\n\npublic class IpCountService {\n    private Map<String,Integer> ipCountMap = new HashMap<String,Integer>();\n}\n\n\næäºå°ä¼ä¼´å¯è½ä¼æçé®ï¼ä¸è®¾ç½®æéæçï¼å¦ä½å¨æ¯æ¬¡è¯·æ±æ¶è¿è¡æ°æ®å±äº«å¢ï¼è®°å¾ï¼å½åç±»å è½½æbeanä»¥åæ¯ä¸ä¸ªåä¾å¯¹è±¡ï¼å¯¹è±¡é½æ¯åä¾çï¼åªéå­å¨å¤ä¸ªå¯¹è±¡å±äº«åéçé®é¢ã\n\næ­¥éª¤äºï¼å¶ä½ç»è®¡åè½\n\nå¶ä½ç»è®¡æä½å¯¹åºçæ¹æ³ï¼æ¯æ¬¡è®¿é®åå¯¹åºipçè®°å½æ¬¡æ°+1ãéè¦åæåµå¤çï¼å¦æå½åæ²¡æå¯¹åºipçæ°æ®ï¼æ°å¢ä¸æ¡æ°æ®ï¼å¦åå°±ä¿®æ¹å¯¹åºkeyçå¼+1å³å¯\n\npublic class IpCountService {\n    private Map<String,Integer> ipCountMap = new HashMap<String,Integer>();\n    public void count(){\n        //æ¯æ¬¡è°ç¨å½åæä½ï¼å°±è®°å½å½åè®¿é®çIPï¼ç¶åç´¯å è®¿é®æ¬¡æ°\n        //1.è·åå½åæä½çIPå°å\n        String ip = null;\n        //2.æ ¹æ®IPå°åä»Mapåå¼ï¼å¹¶éå¢\n        Integer count = ipCountMap.get(ip);\n        if(count == null){\n            ipCountMap.put(ip,1);\n        }else{\n            ipCountMap.put(ip,count + 1);\n        }\n    }\n}\n\n\nå ä¸ºå½ååè½æç»å¯¼å¥å°å¶ä»é¡¹ç®ä¸­è¿è¡ï¼èå¯¼å¥å½ååè½çé¡¹ç®æ¯ä¸ä¸ªwebé¡¹ç®ï¼å¯ä»¥ä»å®¹å¨ä¸­ç´æ¥è·åè¯·æ±å¯¹è±¡ï¼å æ­¤è·åIPå°åçæä½å¯ä»¥éè¿èªå¨è£éå¾å°è¯·æ±å¯¹è±¡ï¼ç¶åè·åå¯¹åºçè®¿é®IPå°åã\n\npublic class IpCountService {\n    private Map<String,Integer> ipCountMap = new HashMap<String,Integer>();\n    @Autowired\n    //å½åçrequestå¯¹è±¡çæ³¨å¥å·¥ä½ç±ä½¿ç¨å½åstarterçå·¥ç¨æä¾èªå¨è£é\n    private HttpServletRequest httpServletRequest;\n    public void count(){\n        //æ¯æ¬¡è°ç¨å½åæä½ï¼å°±è®°å½å½åè®¿é®çIPï¼ç¶åç´¯å è®¿é®æ¬¡æ°\n        //1.è·åå½åæä½çIPå°å\n        String ip = httpServletRequest.getRemoteAddr();\n        //2.æ ¹æ®IPå°åä»Mapåå¼ï¼å¹¶éå¢\n        Integer count = ipCountMap.get(ip);\n        if(count == null){\n            ipCountMap.put(ip,1);\n        }else{\n            ipCountMap.put(ip,count + 1);\n        }\n    }\n}\n\n\næ­¥éª¤ä¸ï¼å®ä¹èªå¨éç½®ç±»\n\næä»¬éè¦åå°çæææ¯å¯¼å¥å½åæ¨¡åå³å¼å¯æ­¤åè½ï¼å æ­¤ä½¿ç¨èªå¨éç½®å®ç°åè½çèªå¨è£è½½ï¼éè¦å¼åèªå¨éç½®ç±»å¨å¯å¨é¡¹ç®æ¶å è½½å½ååè½ã\n\npublic class IpAutoConfiguration {\n    @Bean\n    public IpCountService ipCountService(){\n        return new IpCountService();\n    }\n}\n\n\nèªå¨éç½®ç±»éè¦å¨spring.factoriesæä»¶ä¸­åéç½®æ¹å¯èªå¨è¿è¡ã\n\n# Auto Configure\norg.springframework.boot.autoconfigure.EnableAutoConfiguration=cn.itcast.autoconfig.IpAutoConfiguration\n\n\næ­¥éª¤åï¼å¨åå§é¡¹ç®ä¸­æ¨¡æè°ç¨ï¼æµè¯åè½\n\nåå§è°ç¨é¡¹ç®ä¸­å¯¼å¥å½åå¼åçstarter\n\n<dependency>\n    <groupId>cn.itcast</groupId>\n    <artifactId>ip_spring_boot_starter</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n</dependency>\n\n\næ¨èéæ©è°ç¨æ¹ä¾¿çåè½åæµè¯ï¼æ¨èä½¿ç¨åé¡µæä½ï¼å½ç¶ä¹å¯ä»¥æ¢å¶ä»åè½ä½ç½®è¿è¡æµè¯ã\n\n@RestController\n@RequestMapping("/books")\npublic class BookController {\n    @Autowired\n    private IpCountService ipCountService;\n    @GetMapping("{currentPage}/{pageSize}")\n    public R getPage(@PathVariable int currentPage,@PathVariable int pageSize,Book book){\n        ipCountService.count();\n        IPage<Book> page = bookService.getPage(currentPage, pageSize,book);\n        if( currentPage > page.getPages()){\n            page = bookService.getPage((int)page.getPages(), pageSize,book);\n        }\n        return new R(true, page);\n    }\n}\n\n\næ¸©é¦¨æç¤º\n\nç±äºå½åå¶ä½çåè½éè¦å¨å¯¹åºçè°ç¨ä½ç½®è¿è¡åæ å¯¼å¥ï¼å æ­¤å¿é¡»ä¿éä»åºä¸­å·æå½åå¼åçåè½ï¼æä»¥æ¯æ¬¡åå§ä»£ç ä¿®æ¹åï¼éè¦éæ°ç¼è¯å¹¶å®è£å°ä»åºä¸­ãä¸ºé²æ­¢é®é¢åºç°ï¼å»ºè®®æ¯æ¬¡å®è£ä¹ååcleanç¶åinstallï¼ä¿éèµæºè¿è¡äºæ´æ°ãåè®°åè®°ï¼ï¼\n\nå½åææ\n\næ¯æ¬¡è°ç¨åé¡µæä½åï¼å¯ä»¥å¨æ§å¶å°è¾åºå½åè®¿é®çIPå°åï¼æ­¤åè½å¯ä»¥å¨countæä½ä¸­æ·»å æ¥å¿æèè¾åºè¯­å¥è¿è¡æµè¯ã\n\n\n# YL-2-3.å®æ¶ä»»å¡æ¥è¡¨å¼å\n\nå½åå·²ç»å®ç°äºå¨ä¸å¡åè½ç±»ä¸­è®°å½è®¿é®æ°æ®ï¼ä½æ¯è¿æ²¡æè¾åºçæ§çä¿¡æ¯å°æ§å¶å°ãç±äºçæ§ä¿¡æ¯éè¦æ¯10ç§è¾åº1æ¬¡ï¼å æ­¤éè¦ä½¿ç¨å®æ¶å¨åè½ãå¯ä»¥éåç¬¬ä¸æ¹ææ¯Quartzå®ç°ï¼ä¹å¯ä»¥éæ©Springåç½®çtaskæ¥å®ææ­¤åè½ï¼æ­¤å¤éç¨Springçtaskä½ä¸ºå®ç°æ¹æ¡ã\n\næ­¥éª¤ä¸ï¼å¼å¯å®æ¶ä»»å¡åè½\n\nå®æ¶ä»»å¡åè½å¼å¯éè¦å¨å½ååè½çæ»éç½®ä¸­è®¾ç½®ï¼ç»åç°æä¸å¡è®¾å®ï¼æ¯è¾åççä½ç½®æ¯è®¾ç½®å¨èªå¨éç½®ç±»ä¸ãå è½½èªå¨éç½®ç±»å³å¯ç¨å®æ¶ä»»å¡åè½ã\n\n@EnableScheduling\npublic class IpAutoConfiguration {\n    @Bean\n    public IpCountService ipCountService(){\n        return new IpCountService();\n    }\n}\n\n\næ­¥éª¤äºï¼å¶ä½æ¾ç¤ºç»è®¡æ°æ®åè½\n\nå®ä¹æ¾ç¤ºç»è®¡åè½çæä½print()ï¼å¹¶è®¾ç½®å®æ¶ä»»å¡ï¼å½åè®¾ç½®æ¯5ç§è¿è¡ä¸æ¬¡ç»è®¡æ°æ®ã\n\npublic class IpCountService {\n    private Map<String,Integer> ipCountMap = new HashMap<String,Integer>();\n    @Scheduled(cron = "0/5 * * * * ?")\n    public void print(){\n        System.out.println("         IPè®¿é®çæ§");\n        System.out.println("+-----ip-address-----+--num--+");\n        for (Map.Entry<String, Integer> entry : ipCountMap.entrySet()) {\n            String key = entry.getKey();\n            Integer value = entry.getValue();\n            System.out.println(String.format("|%18s  |%5d  |",key,value));\n        }\n        System.out.println("+--------------------+-------+");\n      }\n}\n\n\nå¶ä¸­å³äºç»è®¡æ¥è¡¨çæ¾ç¤ºä¿¡æ¯æ¼æ¥å¯ä»¥ä½¿ç¨åç§å½¢å¼è¿è¡ï¼æ­¤å¤ä½¿ç¨Stringç±»ä¸­çæ ¼å¼åå­ç¬¦ä¸²æä½è¿è¡ï¼å­¦ä¹ èå¯ä»¥æ ¹æ®èªå·±çåå¥½è°æ´å®ç°æ¹æ¡ã\n\næ¸©é¦¨æç¤º\n\næ¯æ¬¡è¿è¡ææä¹ååcleanç¶åinstallï¼åè®°åè®°ï¼ï¼\n\nå½åææ\n\næ¯æ¬¡è°ç¨åé¡µæä½åï¼å¯ä»¥å¨æ§å¶å°çå°ç»è®¡æ°æ®ï¼å°æ­¤åºç¡åè½å·²ç»å¼åå®æ¯ã\n\n\n# YL-2-4.ä½¿ç¨å±æ§éç½®è®¾ç½®åè½åæ°\n\nç±äºå½åæ¥è¡¨æ¾ç¤ºçä¿¡æ¯æ ¼å¼åºå®ï¼ä¸ºæé«æ¥è¡¨ä¿¡æ¯æ¾ç¤ºççµæ´»æ§ï¼éè¦éè¿ymlæä»¶è®¾ç½®åæ°ï¼æ§å¶æ¥è¡¨çæ¾ç¤ºæ ¼å¼ã\n\næ­¥éª¤ä¸ï¼å®ä¹åæ°æ ¼å¼\n\nè®¾ç½®3ä¸ªå±æ§ï¼åå«ç¨æ¥æ§å¶æ¾ç¤ºå¨æï¼cycleï¼ï¼é¶æ®µæ°æ®æ¯å¦æ¸ç©ºï¼cycleResetï¼ï¼æ°æ®æ¾ç¤ºæ ¼å¼ï¼modelï¼\n\ntools:\n  ip:\n    cycle: 10\n    cycleReset: false\n    model: "detail"\n\n\næ­¥éª¤äºï¼å®ä¹å°è£åæ°çå±æ§ç±»ï¼è¯»åéç½®åæ°\n\nä¸ºé²æ­¢é¡¹ç®ç»å®ä¹çåæ°ç§ç±»è¿å¤ï¼äº§çå²çªï¼éå¸¸è®¾ç½®å±æ§åç¼ä¼è³å°ä½¿ç¨ä¸¤çº§å±æ§ä½ä¸ºåç¼è¿è¡åºåã\n\næ¥å¿è¾åºæ¨¡å¼æ¯å¨è¥å¹²ä¸ªç±»å«éé¡¹ä¸­éæ©æä¸é¡¹ï¼å¯¹äºæ­¤ç§åç±»æ§æ°æ®å»ºè®®å¶ä½æä¸¾å®ä¹åç±»æ°æ®ï¼å½ç¶ä½¿ç¨å­ç¬¦ä¸²ä¹å¯ä»¥ã\n\n@ConfigurationProperties(prefix = "tools.ip")\npublic class IpProperties {\n    /**\n     * æ¥å¿æ¾ç¤ºå¨æ\n     */\n    private Long cycle = 5L;\n    /**\n     * æ¯å¦å¨æåéç½®æ°æ®\n     */\n    private Boolean cycleReset = false;\n    /**\n     * æ¥å¿è¾åºæ¨¡å¼  detailï¼è¯¦ç»æ¨¡å¼  simpleï¼æç®æ¨¡å¼\n     */\n    private String model = LogModel.DETAIL.value;\n    public enum LogModel{\n        DETAIL("detail"),\n        SIMPLE("simple");\n        private String value;\n        LogModel(String value) {\n            this.value = value;\n        }\n        public String getValue() {\n            return value;\n        }\n    }\n}\n\n\næ­¥éª¤ä¸ï¼å è½½å±æ§ç±»\n\n@EnableScheduling\n@EnableConfigurationProperties(IpProperties.class)\npublic class IpAutoConfiguration {\n    @Bean\n    public IpCountService ipCountService(){\n        return new IpCountService();\n    }\n}\n\n\næ­¥éª¤åï¼åºç¨éç½®å±æ§\n\nå¨åºç¨éç½®å±æ§çåè½ç±»ä¸­ï¼ä½¿ç¨èªå¨è£éå è½½å¯¹åºçéç½®beanï¼ç¶åä½¿ç¨éç½®ä¿¡æ¯ååæ¯å¤çã\n\næ³¨æï¼æ¸é¤æ°æ®çåè½ä¸å®è¦å¨è¾åºåè¿è¡ï¼å¦åæ¯æ¬¡æ¥éçæ°æ®åä¸ºç©ºç½æ°æ®ã\n\npublic class IpCountService {\n    private Map<String,Integer> ipCountMap = new HashMap<String,Integer>();\n    @Autowired\n    private IpProperties ipProperties;\n    @Scheduled(cron = "0/5 * * * * ?")\n    public void print(){\n        if(ipProperties.getModel().equals(IpProperties.LogModel.DETAIL.getValue())){\n            System.out.println("         IPè®¿é®çæ§");\n            System.out.println("+-----ip-address-----+--num--+");\n            for (Map.Entry<String, Integer> entry : ipCountMap.entrySet()) {\n                String key = entry.getKey();\n                Integer value = entry.getValue();\n                System.out.println(String.format("|%18s  |%5d  |",key,value));\n            }\n            System.out.println("+--------------------+-------+");\n        }else if(ipProperties.getModel().equals(IpProperties.LogModel.SIMPLE.getValue())){\n            System.out.println("     IPè®¿é®çæ§");\n            System.out.println("+-----ip-address-----+");\n            for (String key: ipCountMap.keySet()) {\n                System.out.println(String.format("|%18s  |",key));\n            }\n            System.out.println("+--------------------+");\n        }\n        //é¶æ®µåç»è®¡æ°æ®å½é¶\n        if(ipProperties.getCycleReset()){\n            ipCountMap.clear();\n        }\n    }\n}\n\n\næ¸©é¦¨æç¤º\n\næ¯æ¬¡è¿è¡ææä¹ååcleanç¶åinstallï¼åè®°åè®°ï¼ï¼\n\nå½åææ\n\nå¨webç¨åºç«¯å¯ä»¥éè¿æ§å¶ymlæä»¶ä¸­çéç½®åæ°å¯¹ç»è®¡ä¿¡æ¯è¿è¡æ ¼å¼æ§å¶ãä½æ¯æ°æ®æ¾ç¤ºå¨æè¿æªè¿è¡æ§å¶ã\n\n\n# YL-2-5.ä½¿ç¨å±æ§éç½®è®¾ç½®å®æ¶å¨åæ°\n\nå¨ä½¿ç¨å±æ§éç½®ä¸­çæ¾ç¤ºå¨ææ°æ®æ¶ï¼éå°äºä¸äºé®é¢ãç±äºæ æ³å¨@Scheduledæ³¨è§£ä¸ç´æ¥ä½¿ç¨éç½®æ°æ®ï¼æ¹ç¨æ²çº¿æå½çæ¹éï¼æ¾å¼ä½¿ç¨@EnableConfigurationPropertiesæ³¨è§£å¯¹åºçåè½ï¼æ¹ææåå§çbeanå®ä¹æ ¼å¼ã\n\næ­¥éª¤ä¸ï¼@Scheduledæ³¨è§£ä½¿ç¨#{}è¯»åbeanå±æ§å¼\n\næ­¤å¤è¯»åbeanåç§°ä¸ºipPropertiesçbeançcycleå±æ§å¼\n\n@Scheduled(cron = "0/#{ipProperties.cycle} * * * * ?")\npublic void print(){\n}\n\n\næ­¥éª¤äºï¼å±æ§ç±»å®ä¹beanå¹¶æå®beançè®¿é®åç§°\n\nå¦ææ­¤å¤ä¸è®¾ç½®beançè®¿é®åç§°ï¼springä¼ä½¿ç¨èªå·±çå½åçæå¨çæbeançé¿åç§°ï¼æ æ³å®ç°å±æ§çè¯»å\n\n@Component("ipProperties")\n@ConfigurationProperties(prefix = "tools.ip")\npublic class IpProperties {\n}\n\n\næ­¥éª¤ä¸ï¼å¼ç¨@EnableConfigurationPropertiesæ³¨è§£å¯¹åºçåè½ï¼æ¹ä¸ºå¯¼å¥beançå½¢å¼å è½½éç½®å±æ§ç±»\n\n@EnableScheduling\n//@EnableConfigurationProperties(IpProperties.class)\n@Import(IpProperties.class)\npublic class IpAutoConfiguration {\n    @Bean\n    public IpCountService ipCountService(){\n        return new IpCountService();\n    }\n}\n\n\næ¸©é¦¨æç¤º\n\næ¯æ¬¡è¿è¡ææä¹ååcleanç¶åinstallï¼åè®°åè®°ï¼ï¼\n\nå½åææ\n\nå¨webç¨åºç«¯å¯ä»¥éè¿æ§å¶ymlæä»¶ä¸­çéç½®åæ°å¯¹ç»è®¡ä¿¡æ¯çæ¾ç¤ºå¨æè¿è¡æ§å¶\n\n\n# YL-2-6.æ¦æªå¨å¼å\n\nåºç¡åè½åºæ¬ä¸å·²ç»å®æäºå¶ä½ï¼ä¸é¢è¿è¡æ¦æªå¨çå¼åãå¼åæ¶åå¨webå·¥ç¨ä¸­å¶ä½ï¼ç¶åå°ææåè½æªå¥starteræ¨¡åä¸­\n\næ­¥éª¤ä¸ï¼å¼åæ¦æªå¨\n\nä½¿ç¨èªå¨è£éå è½½ç»è®¡åè½çä¸å¡ç±»ï¼å¹¶å¨æ¦æªå¨ä¸­è°ç¨å¯¹åºåè½\n\npublic class IpCountInterceptor implements HandlerInterceptor {\n    @Autowired\n    private IpCountService ipCountService;\n    @Override\n    public boolean preHandle(HttpServletRequest request, \n                             HttpServletResponse response, Object handler) throws Exception {\n        ipCountService.count();\n        return true;\n    }\n}\n\n\næ­¥éª¤äºï¼éç½®æ¦æªå¨\n\néç½®mvcæ¦æªå¨ï¼è®¾ç½®æ¦æªå¯¹åºçè¯·æ±è·¯å¾ãæ­¤å¤æ¦æªææè¯·æ±ï¼ç¨æ·å¯ä»¥æ ¹æ®ä½¿ç¨éè¦è®¾ç½®è¦æ¦æªçè¯·æ±ãçè³å¯ä»¥å¨æ­¤å¤å è½½IpCountPropertiesä¸­çå±æ§ï¼éè¿éç½®è®¾ç½®æ¦æªå¨æ¦æªçè¯·æ±ã\n\n@Configuration\npublic class SpringMvcConfig implements WebMvcConfigurer {\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(ipCountInterceptor()).addPathPatterns("/**");\n    }\n    @Bean\n    public IpCountInterceptor ipCountInterceptor(){\n        return new IpCountInterceptor();\n    }\n}\n\n\næ¸©é¦¨æç¤º\n\næ¯æ¬¡è¿è¡ææä¹ååcleanç¶åinstallï¼åè®°åè®°ï¼ï¼\n\nå½åææ\n\nå¨webç¨åºç«¯å¯¼å¥å¯¹åºçstarterååè½å¼å¯ï¼å»æåæ ååè½æ¶å¤±ï¼å®ç°èªå®ä¹starterçææã\n\nå°æ­¤å½åæ¡ä¾å¨é¨å®æï¼èªå®ä¹staterçå¼åå¶å®å¨ç¬¬ä¸è½®å¼åä¸­å°±å·²ç»å®æäºï¼å°±æ¯åå»ºç¬ç«æ¨¡åå¯¼åºç¬ç«åè½ï¼éè¦ä½¿ç¨çä½ç½®å¯¼å¥å¯¹åºçstarterå³å¯ãå¦ææ¯å¨ä¼ä¸ä¸­å¼åï¼è®°å¾ä¸ä»éè¦å°å¼åå®æçstarteræ¨¡åinstallå°èªå·±çæ¬å°ä»åºä¸­ï¼å¼åå®æ¯åè¿è¦deployå°ç§æä¸ï¼å¦åå«äººå°±æ æ³ä½¿ç¨äºã\n\n\n# YL-2-7.åè½æ§å®åââå¼å¯ymlæç¤ºåè½\n\næä»¬å¨ä½¿ç¨springbootçéç½®å±æ§æ¶ï¼é½å¯ä»¥çå°æç¤ºï¼å°¤å¶æ¯å¯¼å¥äºå¯¹åºçstarteråï¼ä¹ä¼æå¯¹åºçæç¤ºä¿¡æ¯åºç°ãä½æ¯ç°å¨æä»¬çstarteræ²¡æå¯¹åºçæç¤ºåè½ï¼è¿ç§è®¾å®å°±éå¸¸çä¸åå¥½ï¼æ¬èè§£å³èªå®ä¹starteråè½å¦ä½å¼å¯éç½®æç¤ºçé®é¢ã\n\nspringbootæä¾æä¸ç¨çå·¥å·å®ç°æ­¤åè½ï¼ä»éè¦å¯¼å¥ä¸ååæ ã\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-configuration-processor</artifactId>\n    <optional>true</optional>\n</dependency>\n\n\nç¨åºç¼è¯åï¼å¨META-INFç®å½ä¸­ä¼çæå¯¹åºçæç¤ºæä»¶ï¼ç¶åæ·è´çæåºçæä»¶å°èªå·±å¼åçMETA-INFç®å½ä¸­ï¼å¹¶å¯¹å¶è¿è¡ç¼è¾ãæå¼çæçæä»¶ï¼å¯ä»¥çå°å¦ä¸ä¿¡æ¯ãå¶ä¸­groupså±æ§å®ä¹äºå½åéç½®çæç¤ºä¿¡æ¯æ»ä½æè¿°ï¼å½åéç½®å±äºåªä¸ä¸ªå±æ§å°è£ç±»ï¼propertieså±æ§æè¿°äºå½åéç½®ä¸­æ¯ä¸ä¸ªå±æ§çå·ä½è®¾ç½®ï¼åå«åç§°ãç±»åãæè¿°ãé»è®¤å¼ç­ä¿¡æ¯ãhintså±æ§é»è®¤æ¯ç©ºç½çï¼æ²¡æè¿è¡è®¾ç½®ãhintså±æ§å¯ä»¥åèspringbootæºç ä¸­çå¶ä½ï¼è®¾ç½®å½åå±æ§å°è£ç±»ä¸ç¨çæç¤ºä¿¡æ¯ï¼ä¸ä¾ä¸­ä¸ºæ¥å¿è¾åºæ¨¡å¼å±æ§modelè®¾ç½®äºä¸¤ç§å¯éæç¤ºä¿¡æ¯ã\n\n{\n  "groups": [\n    {\n      "name": "tools.ip",\n      "type": "cn.itcast.properties.IpProperties",\n      "sourceType": "cn.itcast.properties.IpProperties"\n    }\n  ],\n  "properties": [\n    {\n      "name": "tools.ip.cycle",\n      "type": "java.lang.Long",\n      "description": "æ¥å¿æ¾ç¤ºå¨æ",\n      "sourceType": "cn.itcast.properties.IpProperties",\n      "defaultValue": 5\n    },\n    {\n      "name": "tools.ip.cycle-reset",\n      "type": "java.lang.Boolean",\n      "description": "æ¯å¦å¨æåéç½®æ°æ®",\n      "sourceType": "cn.itcast.properties.IpProperties",\n      "defaultValue": false\n    },\n    {\n      "name": "tools.ip.model",\n      "type": "java.lang.String",\n      "description": "æ¥å¿è¾åºæ¨¡å¼  detailï¼è¯¦ç»æ¨¡å¼  simpleï¼æç®æ¨¡å¼",\n      "sourceType": "cn.itcast.properties.IpProperties"\n    }\n  ],\n  "hints": [\n    {\n      "name": "tools.ip.model",\n      "values": [\n        {\n          "value": "detail",\n          "description": "è¯¦ç»æ¨¡å¼."\n        },\n        {\n          "value": "simple",\n          "description": "æç®æ¨¡å¼."\n        }\n      ]\n    }\n  ]\n}\n\n\næ»ç»\n\n 1. èªå®ä¹starterå¶å®å°±æ¯åä¸ä¸ªç¬ç«çåè½æ¨¡åï¼æ ¸å¿ææ¯æ¯å©ç¨èªå¨éç½®çææå¨å è½½æ¨¡ååå è½½å¯¹åºçåè½\n 2. éå¸¸ä¼ä¸ºèªå®ä¹starterçèªå¨éç½®åè½æ·»å è¶³å¤çæ¡ä»¶æ§å¶ï¼èä¸ä¼åæ100%å è½½å¯¹åè½çææ\n 3. æ¬ä¾ä¸­ä½¿ç¨mapä¿å­æ°æ®ï¼å¦ææ¢ç¨redisæ¹æ¡ï¼å¨starterå¼åæ¨¡åä¸­å°±è¦å¯¼å¥rediså¯¹åºçstarter\n 4. å¯¹äºéç½®å±æ§å¡å¿å¼å¯æç¤ºåè½ï¼å¦åä½¿ç¨èæ æ³æç¥éç½®åºè¯¥å¦ä½ä¹¦å\n\n\n# YL-3.SpringBootç¨åºå¯å¨æµç¨è§£æ\n\nåçç¯å­¦ä¹ å°è¿éå³å°ç»æï¼æåä¸ç« è¯´ä¸ä¸springbootç¨åºçå¯å¨æµç¨ãå¯¹äºspringbootææ¯æ¥è¯´ï¼å®ç¨äºå éspringç¨åºçå¼åï¼æ ¸å¿æ¬è´¨è¿æ¯springç¨åºçè¿è¡ï¼æä»¥äºå¶è¯´æ¯springbootç¨åºçå¯å¨æµç¨ï¼ä¸å¦è¯´æ¯springbootå¯¹springç¨åºçå¯å¨æµç¨åäºåªäºæ´æ¹ã\n\n\n\nå¶å®ä¸ç®¡æ¯springbootç¨åºè¿æ¯springç¨åºï¼å¯å¨è¿ç¨æ¬è´¨ä¸é½æ¯å¨åå®¹å¨çåå§åï¼å¹¶å°å¯¹åºçbeanåå§ååºæ¥æ¾å¥å®¹å¨ãå¨springç¯å¢ä¸­ï¼æ¯ä¸ªbeançåå§åé½è¦å¼åèèªå·±æ·»å è®¾ç½®ï¼ä½æ¯åæ¢æspringbootç¨åºåï¼èªå¨éç½®åè½çæ·»å å¸®å©å¼åèæåé¢è®¾äºå¾å¤beançåå§åè¿ç¨ï¼å ä¸åç§åæ ·çåæ°è®¾ç½®ï¼ä½¿å¾æ´ä½åå§åè¿ç¨æ¾å¾ç¥å¾®å¤æï¼ä½æ¯æ ¸å¿æ¬è´¨è¿æ¯å¨åä¸ä»¶äºï¼åå§åå®¹å¨ãä½ä¸ºå¼åèåªè¦ææ¸æ¥springbootæä¾äºåªäºåæ°è®¾ç½®çç¯èï¼åæ¶åå§åå®¹å¨çè¿ç¨ä¸­é½åäºåªäºäºæå°±è¡äºã\n\nspringbootåå§åçåæ°æ ¹æ®åæ°çæä¾æ¹ï¼ååæå¦ä¸3ä¸ªå¤§ç±»ï¼æ¯ä¸ªå¤§ç±»çåæ°åè¢«å°è£äºåç§åæ ·çå¯¹è±¡ï¼å·ä½å¦ä¸ï¼\n\n * ç¯å¢å±æ§ï¼Environmentï¼\n * ç³»ç»éç½®ï¼spring.factoriesï¼\n * åæ°ï¼Argumentsãapplication.propertiesï¼\n\nä»¥ä¸éè¿ä»£ç æµåä»ç»äºspringbootç¨åºå¯å¨æ¶æ¯ä¸ç¯èåçå·ä½äºæã\n\nSpringboot30StartupApplicationã10ã->SpringApplication.run(Springboot30StartupApplication.class, args);\n    SpringApplicationã1332ã->return run(new Class<?>[] { primarySource }, args);\n        SpringApplicationã1343ã->return new SpringApplication(primarySources).run(args);\n            SpringApplicationã1343ã->SpringApplication(primarySources)\n            # å è½½åç§éç½®ä¿¡æ¯ï¼åå§ååç§éç½®å¯¹è±¡\n                SpringApplicationã266ã->this(null, primarySources);\n                    SpringApplicationã280ã->public SpringApplication(ResourceLoader resourceLoader, Class<?>... primarySources)\n                        SpringApplicationã281ã->this.resourceLoader = resourceLoader;\n                        # åå§åèµæºå è½½å¨\n                        SpringApplicationã283ã->this.primarySources = new LinkedHashSet<>(Arrays.asList(primarySources));\n                        # åå§åéç½®ç±»çç±»åä¿¡æ¯ï¼æ ¼å¼è½¬æ¢ï¼\n                        SpringApplicationã284ã->this.webApplicationType = WebApplicationType.deduceFromClasspath();\n                        # ç¡®è®¤å½åå®¹å¨å è½½çç±»å\n                        SpringApplicationã285ã->this.bootstrapRegistryInitializers = getBootstrapRegistryInitializersFromSpringFactories();\n                        # è·åç³»ç»éç½®å¼å¯¼ä¿¡æ¯\n                        SpringApplicationã286ã->setInitializers((Collection) getSpringFactoriesInstances(ApplicationContextInitializer.class));\n                        # è·åApplicationContextInitializer.classå¯¹åºçå®ä¾\n                        SpringApplicationã287ã->setListeners((Collection) getSpringFactoriesInstances(ApplicationListener.class));\n                        # åå§åçå¬å¨ï¼å¯¹åå§åè¿ç¨åè¿è¡è¿ç¨è¿è¡å¹²é¢\n                        SpringApplicationã288ã->this.mainApplicationClass = deduceMainApplicationClass();\n                        # åå§åäºå¼å¯¼ç±»ç±»åä¿¡æ¯ï¼å¤ç¨\n            SpringApplicationã1343ã->new SpringApplication(primarySources).run(args)\n            # åå§åå®¹å¨ï¼å¾å°ApplicationContextå¯¹è±¡\n                SpringApplicationã323ã->StopWatch stopWatch = new StopWatch();\n                # è®¾ç½®è®¡æ¶å¨\n                SpringApplicationã324ã->stopWatch.start();\n                # è®¡æ¶å¼å§\n                SpringApplicationã325ã->DefaultBootstrapContext bootstrapContext = createBootstrapContext();\n                # ç³»ç»å¼å¯¼ä¿¡æ¯å¯¹åºçä¸ä¸æå¯¹è±¡\n                SpringApplicationã327ã->configureHeadlessProperty();\n                # æ¨¡æè¾å¥è¾åºä¿¡å·ï¼é¿ååºç°å ç¼ºå°å¤è®¾å¯¼è´çä¿¡å·ä¼ è¾å¤±è´¥ï¼è¿èå¼åéè¯¯ï¼æ¨¡ææ¾ç¤ºå¨ï¼é®çï¼é¼ æ ...ï¼\n                    java.awt.headless=true\n                SpringApplicationã328ã->SpringApplicationRunListeners listeners = getRunListeners(args);\n                # è·åå½åæ³¨åçææçå¬å¨\n                SpringApplicationã329ã->listeners.starting(bootstrapContext, this.mainApplicationClass);\n                # çå¬å¨æ§è¡äºå¯¹åºçæä½æ­¥éª¤\n                SpringApplicationã331ã->ApplicationArguments applicationArguments = new DefaultApplicationArguments(args);\n                # è·ååæ°\n                SpringApplicationã333ã->ConfigurableEnvironment environment = prepareEnvironment(listeners, bootstrapContext, applicationArguments);\n                # å°åæè¯»åçæ°æ®å è½½æäºä¸ä¸ªç¯å¢å¯¹è±¡ï¼ç¨æ¥æè¿°ä¿¡æ¯\n                SpringApplicationã333ã->configureIgnoreBeanInfo(environment);\n                # åäºä¸ä¸ªéç½®ï¼å¤ç¨\n                SpringApplicationã334ã->Banner printedBanner = printBanner(environment);\n                # åå§ålogo\n                SpringApplicationã335ã->context = createApplicationContext();\n                # åå»ºå®¹å¨å¯¹è±¡ï¼æ ¹æ®åæéç½®çå®¹å¨ç±»åè¿è¡å¤å®å¹¶åå»º\n                SpringApplicationã363ã->context.setApplicationStartup(this.applicationStartup);\n                # è®¾ç½®å¯å¨æ¨¡å¼\n                SpringApplicationã337ã->prepareContext(bootstrapContext, context, environment, listeners, applicationArguments, printedBanner);\n                # å¯¹å®¹å¨è¿è¡è®¾ç½®ï¼åæ°æ¥æºäºåæçè®¾å®\n                SpringApplicationã338ã->refreshContext(context);\n                # å·æ°å®¹å¨ç¯å¢\n                SpringApplicationã339ã->afterRefresh(context, applicationArguments);\n                # å·æ°å®æ¯åååå¤ç\n                SpringApplicationã340ã->stopWatch.stop();\n                # è®¡æ¶ç»æ\n                SpringApplicationã341ã->if (this.logStartupInfo) {\n                # å¤å®æ¯å¦è®°å½å¯å¨æ¶é´çæ¥å¿\n                SpringApplicationã342ã->    new StartupInfoLogger(this.mainApplicationClass).logStarted(getApplicationLog(), stopWatch);\n                # åå»ºæ¥å¿å¯¹åºçå¯¹è±¡ï¼è¾åºæ¥å¿ä¿¡æ¯ï¼åå«å¯å¨æ¶é´\n                SpringApplicationã344ã->listeners.started(context);\n                # çå¬å¨æ§è¡äºå¯¹åºçæä½æ­¥éª¤\n                SpringApplicationã345ã->callRunners(context, applicationArguments);\n                # è°ç¨è¿è¡å¨\n                SpringApplicationã353ã->listeners.running(context);\n                # çå¬å¨æ§è¡äºå¯¹åºçæä½æ­¥éª¤\n\n\nä¸è¿°è¿ç¨æè¿°äºspringbootç¨åºå¯å¨è¿ç¨ä¸­åçææçäºæï¼è¿ä¸ªæ¶åå¥½å¥å®å®ä»¬å°±ä¼æåºä¸ä¸ªé®é¢ãå¦ææ³å¹²é¢springbootçå¯å¨è¿ç¨ï¼æ¯å¦èªå®ä¹ä¸ä¸ªæ°æ®åºç¯å¢æ£æµçç¨åºï¼è¯¥å¦ä½å°è¿ä¸ªè¿ç¨å å¥springbootçå¯å¨æµç¨å¢ï¼\n\néå°è¿æ ·çé®é¢ï¼å¤§é¨åææ¯æ¯è¿æ ·è®¾è®¡çï¼è®¾è®¡è¥å¹²ä¸ªæ åæ¥å£ï¼å¯¹åºç¨åºä¸­çæææ åè¿ç¨ãå½ä½ æ³å¹²é¢æä¸ªè¿ç¨æ¶ï¼å®ç°æ¥å£å°±è¡äºãä¾å¦springææ¯ä¸­beanççå½å¨æç®¡çå°±æ¯éç¨æ åæ¥å£è¿è¡çã\n\npublic class Abc implements InitializingBean, DisposableBean {\n    public void destroy() throws Exception {\n        //éæ¯æä½\n    }\n    public void afterPropertiesSet() throws Exception {\n        //åå§åæä½\n    }\n}\n\n\nspringbootå¯å¨è¿ç¨ç±äºå­å¨çå¤§éçè¿ç¨é¶æ®µï¼å¦æè®¾è®¡æ¥å£å°±è¦è®¾è®¡åä½ä¸ªæ åæ¥å£ï¼è¿æ ·å¯¹å¼åèä¸åå¥½ï¼åæ¶æ´ä½è¿ç¨ç®¡çåæ£ï¼åä½ä¸ªè¿ç¨åèªä¸ºæ¿ï¼ç®¡çé¾åº¦å¤§ï¼è¿ç¨è¿äºæ¾æ£ãé£springbootå¦ä½è§£å³è¿ä¸ªé®é¢å¢ï¼å®éç¨äºä¸ç§æåå§çè®¾è®¡æ¨¡å¼æ¥è§£å³è¿ä¸ªé®é¢ï¼è¿å°±æ¯çå¬å¨æ¨¡å¼ï¼ä½¿ç¨çå¬å¨æ¥è§£å³è¿ä¸ªé®é¢ã\n\nspringbootå°èªèº«çå¯å¨è¿ç¨æ¯å»æä¸ä¸ªå¤§çäºä»¶ï¼è¯¥äºä»¶æ¯ç±è¥å¹²ä¸ªå°çäºä»¶ç»æçãä¾å¦ï¼\n\n * org.springframework.boot.context.event.ApplicationStartingEvent\n   * åºç¨å¯å¨äºä»¶ï¼å¨åºç¨è¿è¡ä½æªè¿è¡ä»»ä½å¤çæ¶ï¼å°åé ApplicationStartingEvent\n * org.springframework.boot.context.event.ApplicationEnvironmentPreparedEvent\n   * ç¯å¢åå¤äºä»¶ï¼å½Environmentè¢«ä½¿ç¨ï¼ä¸ä¸ä¸æåå»ºä¹åï¼å°åé ApplicationEnvironmentPreparedEvent\n * org.springframework.boot.context.event.ApplicationContextInitializedEvent\n   * ä¸ä¸æåå§åäºä»¶\n * org.springframework.boot.context.event.ApplicationPreparedEvent\n   * åºç¨åå¤äºä»¶ï¼å¨å¼å§å·æ°ä¹åï¼beanå®ä¹è¢«å è½½ä¹ååé ApplicationPreparedEvent\n * org.springframework.context.event.ContextRefreshedEvent\n   * ä¸ä¸æå·æ°äºä»¶\n * org.springframework.boot.context.event.ApplicationStartedEvent\n   * åºç¨å¯å¨å®æäºä»¶ï¼å¨ä¸ä¸æå·æ°ä¹åä¸ææçåºç¨åå½ä»¤è¡è¿è¡å¨è¢«è°ç¨ä¹ååé ApplicationStartedEvent\n * org.springframework.boot.context.event.ApplicationReadyEvent\n   * åºç¨åå¤å°±ç»ªäºä»¶ï¼å¨åºç¨ç¨åºåå½ä»¤è¡è¿è¡å¨è¢«è°ç¨ä¹åï¼å°ååº ApplicationReadyEventï¼ç¨äºéç¥åºç¨å·²ç»åå¤å¤çè¯·æ±\n * org.springframework.context.event.ContextClosedEventï¼ä¸ä¸æå³é­äºä»¶ï¼å¯¹åºå®¹å¨å³é­ï¼\n\nä¸è¿°ååºçä»ä»æ¯é¨åäºä»¶ï¼å½åºç¨å¯å¨åèµ°å°æä¸ä¸ªè¿ç¨ç¹æ¶ï¼çå¬å¨çå¬å°æä¸ªäºä»¶è§¦åï¼å°±ä¼æ§è¡å¯¹åºçäºä»¶ãé¤äºç³»ç»åç½®çäºä»¶å¤çï¼ç¨æ·è¿å¯ä»¥æ ¹æ®éè¦èªå®ä¹å¼åå½åäºä»¶è§¦åæ¶è¦åçå¶ä»å¨ä½ã\n\n//è®¾å®çå¬å¨ï¼å¨åºç¨å¯å¨å¼å§äºä»¶æ¶è¿è¡åè½è¿½å \npublic class MyListener implements ApplicationListener<ApplicationStartingEvent> {\n    public void onApplicationEvent(ApplicationStartingEvent event) {\n\t\t//èªå®ä¹äºä»¶å¤çé»è¾\n    }\n}\n\n\næç§ä¸è¿°æ¹æ¡å¤çï¼ç¨æ·å°±å¯ä»¥å¹²é¢springbootå¯å¨è¿ç¨çææå·¥ä½èç¹ï¼è®¾ç½®èªå·±çä¸å¡ç³»ç»ä¸­ç¬æçåè½ç¹ã\n\næ»ç»\n\n 1. springbootå¯å¨æµç¨æ¯ååå§åå®¹å¨éè¦çåç§éç½®ï¼å¹¶å è½½æåç§å¯¹è±¡ï¼åå§åå®¹å¨æ¶è¯»åè¿äºå¯¹è±¡ï¼åå»ºå®¹å¨\n 2. æ´ä½æµç¨éç¨äºä»¶çå¬çæºå¶è¿è¡è¿ç¨æ§å¶ï¼å¼åèå¯ä»¥æ ¹æ®éè¦èªè¡æ©å±ï¼æ·»å å¯¹åºççå¬å¨ç»å®å·ä½äºä»¶ï¼å°±å¯ä»¥å¨äºä»¶è§¦åä½ç½®æ§è¡å¼åèçä¸å¡ä»£ç ',normalizedContent:'# springbootåçç¯\n\nä¸é¢å°±å¼å§å­¦ä¹ åçç¯ï¼å ä¸ºæ²¡ææ³åºæ¥ç¹å«å¥½çåå­ï¼æä»¥è¿æ¯åç§°ä½åçç¯å§ãåçç¯ä¸­åå«å¦ä¸åå®¹ï¼\n\n * èªå¨éç½®å·¥ä½æµç¨\n * èªå®ä¹starterå¼å\n * springbootç¨åºå¯å¨æµç¨\n\nä¸é¢å¼å¯ç¬¬ä¸é¨åèªå¨éç½®å·¥ä½æµç¨çå­¦ä¹ \n\n\n# yl-1.èªå¨éç½®å·¥ä½æµç¨\n\nèªå¨éç½®æ¯springbootææ¯éå¸¸å¥½ç¨çæ ¸å¿å ç´ ï¼åé¢å­¦ä¹ äºè¿ä¹å¤ç§ææ¯çæ´åï¼æ¯ä¸ä¸ªé½ç¦»ä¸å¼èªå¨éç½®ãä¸è¿å¨å­¦ä¹ èªå¨éç½®çæ¶åï¼éè¦ä½ å¯¹springå®¹å¨å¦ä½è¿è¡beanç®¡ççè¿ç¨éå¸¸çææè¡ï¼æä»¥è¿ééè¦åå¤ä¹ ä¸ä¸æå³springææ¯ä¸­beanå è½½ç¸å³çç¥è¯ãæ¹å¼æ¹æ³å¾å¤ï¼éä¸å¿«éå¤ä¹ ä¸ä¸ï¼æ¥æ¼è¡¥ç¼ºãä¸è¿è¿ééè¦å£°æä¸ç¹ï¼è¿éååºçbeançå è½½æ¹å¼ä»ä»åºç¨äºåé¢è¯¾ç¨çå­¦ä¹ ï¼å¹¶ä¸æ¯ææçspringå è½½beançæ¹å¼ãè·çæçæ­¥ä¼ä¸ç§ä¸ç§çå¤ä¹ ï¼ä»ä»¬è¿äºæ¹æ¡ä¹é´æåä¸ä¸ç¼çå³ç³»ï¼é¡ºççå®ï¼ä½ å°±æèªå¨éç½®æ¯æä¹åäºäºã\n\n\n# yl-1-1.beançå è½½æ¹å¼\n\nå³äºbeançå è½½æ¹å¼ï¼springæä¾äºåç§åæ ·çå½¢å¼ãå ä¸ºspringç®¡çbeanæ´ä½ä¸æ¥è¯´å°±æ¯ç±springç»´æ¤å¯¹è±¡ççå½å¨æï¼æä»¥beançå è½½å¯ä»¥ä»å¤§çæ¹é¢ååæ2ç§å½¢å¼ãå·²ç¥ç±»å¹¶äº¤ç»springç®¡çï¼åå·²ç¥ç±»åå¹¶äº¤ç»springç®¡çãæä»ä¹åºå«ï¼ä¸ä¸ªç».classï¼ä¸ä¸ªç»ç±»åå­ç¬¦ä¸²ãåé¨å¶å®é½ä¸æ ·ï¼é½æ¯éè¿springçbeandefinitionå¯¹è±¡åå§åspringçbeanãå¦æåé¢è¿å¥è¯çèµ·æ¥æéç¢ï¼å¯ä»¥å»å¤ä¹ ä¸ä¸springçç¸å³ç¥è¯ãbç«ä¸­ææå°æ¬çæ»¡ä¸èªèå¸å½å¶çspringé«çº§è¯¾ç¨ï¼é¾æ¥å°åå¦ä¸ï¼æ¬¢è¿å¤§å®¶æ§åºï¼è®°å¾ä¸é®ä¸è¿å¦ã\n\nhttps://www.bilibili.com/video/bv1p44y1n7qg\n\n\n# æ¹å¼ä¸ï¼éç½®æä»¶+<bean/>æ ç­¾\n\næé«ç«¯çé£æå¾å¾åªéè¦æç®åçç¹é¥ªæ¹æ³ï¼æéäºï¼åæ¥ãæåçº§çbeançå è½½æ¹å¼å¶å®å¯ä»¥ç´å»springç®¡æ§beançæ ¸å¿ææ³ï¼å°±æ¯æä¾ç±»åï¼ç¶åspringå°±å¯ä»¥ç®¡çäºãæä»¥ç¬¬ä¸ç§æ¹å¼å°±æ¯ç»åºbeançç±»åï¼è³äºåé¨åå°±æ¯åå°æºå¶å è½½æclassï¼ç¶åï¼å°±æ²¡æç¶åäºï¼æ¿å°äºclassä½ å°±å¯ä»¥æå®ä¸åäºãå¦æè¿å¥è¯å¬ä¸å¤ªæï¼è¯·è¿äºå°çåè½¬æjavaåºç¡é«çº§é¨åå¤ä¹ ä¸ä¸åå°ç¸å³ç¥è¯ã\n\n<?xml version="1.0" encoding="utf-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n       xsi:schemalocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">\n    \x3c!--xmlæ¹å¼å£°æèªå·±å¼åçbean--\x3e\n    <bean id="cat" class="cat"/>\n    <bean class="dog"/>\n\n    \x3c!--xmlæ¹å¼å£°æç¬¬ä¸æ¹å¼åçbean--\x3e\n    <bean id="datasource" class="com.alibaba.druid.pool.druiddatasource"/>\n    <bean class="com.alibaba.druid.pool.druiddatasource"/>\n    <bean class="com.alibaba.druid.pool.druiddatasource"/>\n</beans>\n\n\n# æ¹å¼äºï¼éç½®æä»¶æ«æ+æ³¨è§£å®ä¹bean\n\nç±äºæ¹å¼ä¸ç§éè¦å°springç®¡æ§çbeanå¨é¨åå¨xmlæä»¶ä¸­ï¼å¯¹äºç¨åºåæ¥è¯´éå¸¸ä¸åå¥½ï¼æä»¥å°±æäºç¬¬äºç§æ¹å¼ãåªä¸ä¸ªç±»è¦åå°springç®¡æ§å è½½æbeanï¼å°±å¨è¿ä¸ªç±»çä¸é¢å ä¸ä¸ªæ³¨è§£ï¼è¿å¯ä»¥é¡ºå¸¦èµ·ä¸ä¸ªbeançåå­ï¼idï¼ãè¿éå¯ä»¥ä½¿ç¨çæ³¨è§£æ@componentä»¥åä¸ä¸ªè¡çæ³¨è§£@serviceã@controllerã@repositoryã\n\n@component("tom")\npublic class cat {\n}\n\n\n@service\npublic class mouse {\n}\n\n\nå½ç¶ï¼ç±äºæä»¬æ æ³å¨ç¬¬ä¸æ¹æä¾çææ¯æºä»£ç ä¸­å»æ·»å ä¸è¿°4ä¸ªæ³¨è§£ï¼å æ­¤å½ä½ éè¦å è½½ç¬¬ä¸æ¹å¼åçbeançæ¶åå¯ä»¥ä½¿ç¨ä¸åæ¹å¼å®ä¹æ³¨è§£å¼çbeanã@beanå®ä¹å¨ä¸ä¸ªæ¹æ³ä¸æ¹ï¼å½åæ¹æ³çè¿åå¼å°±å¯ä»¥äº¤ç»springç®¡æ§ï¼è®°å¾è¿ä¸ªæ¹æ³æå¨çç±»ä¸å®è¦å®ä¹å¨@componentä¿®é¥°çç±»ä¸­ï¼æäººä¼è¯´ä¸æ¯@configurationåï¼å»ºè®®æspringæ³¨è§£å¼åç¸å³è¯¾ç¨å­¦ä¹ ä¸ä¸ï¼å°±ä¸ä¼æè¿ä¸ªçé®äºã\n\n@component\npublic class dbconfig {\n    @bean\n    public druiddatasource datasource(){\n        druiddatasource ds = new druiddatasource();\n        return ds;\n    }\n}\n\n\nä¸é¢æä¾çä»ä»æ¯beançå£°æï¼springå¹¶æ²¡ææç¥å°è¿äºä¸è¥¿ï¼åæäºä¸è¯¾ç§¯æåç­é®é¢çä½ ï¼æä¸¾çéå¸¸é«ï¼å¯æèå¸é½æ²¡æå¾ä½ çæ¹åçä¸ä¸ç¼ãæ³è®©springæç¥å°è¿äºç§¯æçå°ä¼ä¼´ï¼å¿é¡»è®¾ç½®springå»æ£æ¥è¿äºç±»ï¼çä»ä»¬æ¯å¦è´´æ ç­¾ï¼æ³å½ç§¯æåå­ãå¯ä»¥éè¿ä¸åxmléç½®è®¾ç½®springå»æ£æ¥åªäºåï¼åç°å®äºå¯¹åºæ³¨è§£ï¼å°±å°å¯¹åºçç±»çº³å¥springç®¡æ§èå´ï¼å£°ææbeanã\n\n<?xml version="1.0" encoding="utf-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n       xsi:schemalocation="\n       http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n       http://www.springframework.org/schema/context/spring-context.xsd\n    ">\n    \x3c!--æå®æ«æå è½½beançä½ç½®--\x3e\n    <context:component-scan base-package="com.itheima.bean,com.itheima.config"/>\n</beans>\n\n\næ¹å¼äºå£°æbeançæ¹å¼æ¯ç®åä¼ä¸ä¸­è¾ä¸ºå¸¸è§çbeançå£°ææ¹å¼ï¼ä½æ¯ä¹æç¼ºç¹ãæ¹å¼ä¸ä¸­ï¼éè¿ä¸ä¸ªéç½®æä»¶ï¼ä½ å¯ä»¥æ¥éå½åspringç¯å¢ä¸­å®ä¹äºå¤å°ä¸ªæèè¯´å¤å°ç§beanï¼ä½æ¯æ¹å¼äºæ²¡æä»»ä½ä¸ä¸ªå°æ¹å¯ä»¥æ¥éæ´ä½ä¿¡æ¯ï¼åªæå½ç¨åºè¿è¡èµ·æ¥æè½æç¥å°å è½½äºå¤å°ä¸ªbeanã\n\n# æ¹å¼ä¸ï¼æ³¨è§£æ¹å¼å£°æéç½®ç±»\n\næ¹å¼äºå·²ç»å®ç¾çç®åäºbeançå£°æï¼ä»¥ååä¹ä¸ç¨åè«è«å¤çéç½®ä¿¡æ¯äºãä»ç»è§å¯xmléç½®æä»¶ï¼ä¼åç°è¿ä¸ªæä»¶ä¸­åªå©äºæ«æåè¿å¥è¯ï¼äºæ¯å°±æäººæåºï¼ä½¿ç¨javaç±»æ¿æ¢æè¿ç§åºå®æ ¼å¼çéç½®ï¼æä»¥ä¸é¢è¿ç§æ ¼å¼å°±åºç°äºãä¸¥æ ¼æä¹ä¸è®²ä¸è½ç®å¨æ°çæ¹å¼ï¼ä½æ¯ç±äºæ­¤ç§å¼åå½¢å¼æ¯ä¼ä¸çº§å¼åä¸­çä¸»æµå½¢å¼ï¼æä»¥åç¬ç¬ç«åºæ¥åæä¸ç§æ¹å¼ãå¯â¦â¦ï¼æä¹è¯´å¢ï¼æ¹å¼äºåæ¹å¼ä¸å¶å®å·®å«è¿æ¯æºå¤§çï¼çªå¤ç¯æ¾ä¸ªæ¶é´åèå§ã\n\nå®ä¹ä¸ä¸ªç±»å¹¶ä½¿ç¨@componentscanæ¿ä»£åå§xmléç½®ä¸­çåæ«æè¿ä¸ªå¨ä½ï¼å¶å®åè½åºæ¬ç¸å ãä¸ºä»ä¹è¯´åºæ¬ï¼è¿æ¯æå·®å«çãååä¸ªå³å­å§ï¼çªå¤ç¯åèã\n\n@componentscan({"com.itheima.bean","com.itheima.config"})\npublic class springconfig3 {\n    @bean\n    public dogfactorybean dog(){\n        return new dogfactorybean();\n    }\n}\n\n\n# ä½¿ç¨factroybeanæ¥å£\n\nè¡¥åä¸ä¸ªå°ç¥è¯ï¼springæä¾äºä¸ä¸ªæ¥å£factorybeanï¼ä¹å¯ä»¥ç¨äºå£°æbeanï¼åªä¸è¿å®ç°äºfactorybeanæ¥å£çç±»é åºæ¥çå¯¹è±¡ä¸æ¯å½åç±»çå¯¹è±¡ï¼èæ¯factorybeanæ¥å£æ³åæå®ç±»åçå¯¹è±¡ãå¦ä¸åï¼é åºæ¥çbeanå¹¶ä¸æ¯dogfactorybeanï¼èæ¯dogãæä»ä¹ç¨å¢ï¼å¯ä»¥å¨å¯¹è±¡åå§åååä¸äºäºæï¼ä¸ä¾ä¸­çæ³¨éä½ç½®å°±æ¯è®©ä½ èªå·±å»æ©å±è¦åçå¶ä»äºæçã\n\npublic class dogfactorybean implements factorybean<dog> {\n    @override\n    public dog getobject() throws exception {\n        dog d = new dog();\n        //.........\n        return d;\n    }\n    @override\n    public class<?> getobjecttype() {\n        return dog.class;\n    }\n    @override\n    public boolean issingleton() {\n        return true;\n    }\n}\n\n\næäººè¯´ï¼æ³¨éä¸­çä»£ç åå¥dogçæé æ¹æ³ä¸å°±è¡äºåï¼å¹²åè¿ä¹è´¹å²è½¬ä¸åï¼è¿åä¸ªç±»ï¼è¿è¦å®ç°æ¥å£ï¼å¤éº»ç¦åãè¿çä¸ä¸æ ·ï¼ä½ å¯ä»¥çè§£ä¸ºdogæ¯ä¸ä¸ªæ½è±¡åå¥ç¦»çç¹å«å¹²åçæ¨¡åï¼ä½æ¯å®éä½¿ç¨çæ¶åå¿é¡»è¿è¡ä¸ç³»åçåå§åå¨ä½ãåªä¸è¿æ ¹æ®æåµä¸åï¼åå§åå¨ä½ä¸åèå·²ãå¦æåå¥dogï¼æè®¸åå§åå¨ä½aå½åå¹¶ä¸è½æ»¡è¶³ä½ çéè¦ï¼è¿ä¸ªæ¶åä½ å°±è¦åä¸ä¸ªdogbçæ¹æ¡äºãç¶åï¼å°±æ²¡æç¶åäºï¼ä½ å°±è¦åä¸¤ä¸ªdogç±»ãå½æ¶ä½¿ç¨factorybeanæ¥å£å°±å¯ä»¥å®ç¾è§£å³è¿ä¸ªé®é¢ã\n\néå¸¸å®ç°äºfactorybeanæ¥å£çç±»ä½¿ç¨@beançå½¢å¼è¿è¡å è½½ï¼å½ç¶ä½ ä¹å¯ä»¥ä½¿ç¨@componentå»å£°ædogfactorybeanï¼åªè¦è¢«æ«æå è½½å°å³å¯ï¼ä½æ¯è¿ç§æ ¼å¼å è½½æ»è§å¾æªæªçï¼æåæ§ä¸æ¯å¾æç¡®ã\n\n@componentscan({"com.itheima.bean","com.itheima.config"})\npublic class springconfig3 {\n    @bean\n    public dogfactorybean dog(){\n        return new dogfactorybean();\n    }\n}\n\n\n# æ³¨è§£æ ¼å¼å¯¼å¥xmlæ ¼å¼éç½®çbean\n\nåè¡¥åä¸ä¸ªå°ç¥è¯ï¼ç±äºæ©èµ·å¼åçç³»ç»å¤§é¨åé½æ¯éç¨xmlçå½¢å¼éç½®beanï¼ç°å¨çä¼ä¸çº§å¼ååºæ¬ä¸ä¸ç¨è¿ç§æ¨¡å¼äºãä½æ¯å¦æä½ ç¹å«å¹¸è¿ï¼éè¦åºäºä¹åçç³»ç»è¿è¡äºæ¬¡å¼åï¼è¿å°±å°´å°¬äºãæ°å¼åçç¨æ³¨è§£æ ¼å¼ï¼ä¹åå¼åçæ¯xmlæ ¼å¼ãè¿ä¸ªæ¶åå¯ä¸æ¯è®©ä½ éæ©ç¨åªç§æ¨¡å¼çï¼èæ¯ä¸¤ç§è¦åæ¶ä½¿ç¨ãspringæä¾äºä¸ä¸ªæ³¨è§£å¯ä»¥è§£å³è¿ä¸ªé®é¢ï¼@importresourceï¼å¨éç½®ç±»ä¸ç´æ¥åä¸è¦è¢«èåçxmléç½®æä»¶åå³å¯ï¼ç®çä¸ä¸ç§å¼å®¹æ§è§£å³æ¹æ¡ï¼æ²¡å¥å®éæä¹ã\n\n@configuration\n@importresource("applicationcontext1.xml")\npublic class springconfig32 {\n}\n\n\n# proxybeanmethodså±æ§\n\nåé¢çä¾å­ä¸­ç¨å°äº@configurationè¿ä¸ªæ³¨è§£ï¼å½æä»¬ä½¿ç¨annotationconfigapplicationcontextå è½½éç½®ç±»çæ¶åï¼éç½®ç±»å¯ä»¥ä¸æ·»å è¿ä¸ªæ³¨è§£ãä½æ¯è¿ä¸ªæ³¨è§£æä¸ä¸ªæ´å å¼ºå¤§çåè½ï¼å®å¯ä»¥ä¿ééç½®ç±»ä¸­ä½¿ç¨æ¹æ³åå»ºçbeançå¯ä¸æ§ãä¸º@configurationæ³¨è§£è®¾ç½®proxybeanmethodså±æ§å¼ä¸ºtrueå³å¯ï¼ç±äºæ­¤å±æ§é»è®¤å¼ä¸ºtrueï¼æä»¥å¾å°çè§æç¡®ä¹¦åçï¼é¤éæ³æ¾å¼æ­¤åè½ã\n\n@configuration(proxybeanmethods = true)\npublic class springconfig33 {\n    @bean\n    public cat cat(){\n        return new cat();\n    }\n}\n\n\nä¸é¢éè¿å®¹å¨åè°ç¨ä¸é¢çcatæ¹æ³æ¶ï¼å¾å°çå°±æ¯åä¸ä¸ªå¯¹è±¡äºãæ³¨æï¼å¿é¡»ä½¿ç¨springå®¹å¨å¯¹è±¡è°ç¨æ­¤æ¹æ³ææä¿æbeanå¯ä¸æ§çç¹æ§ãæ­¤ç¹æ§å¨å¾å¤åºå±æºç ä¸­æåºç¨ï¼åé¢è®²mqæ¶ï¼ä¹åºç¨äºæ­¤ç¹æ§ï¼åªä¸è¿å½åæ²¡æè§£éèå·²ãè¿éç®æ¯å¡«ä¸ªåå§ã\n\npublic class app33 {\n    public static void main(string[] args) {\n        applicationcontext ctx = new annotationconfigapplicationcontext(springconfig33.class);\n        string[] names = ctx.getbeandefinitionnames();\n        for (string name : names) {\n            system.out.println(name);\n        }\n        system.out.println("-------------------------");\n        springconfig33 springconfig33 = ctx.getbean("springconfig33", springconfig33.class);\n        system.out.println(springconfig33.cat());\n        system.out.println(springconfig33.cat());\n        system.out.println(springconfig33.cat());\n    }\n}\n\n\n# æ¹å¼åï¼ä½¿ç¨@importæ³¨è§£æ³¨å¥bean\n\nä½¿ç¨æ«æçæ¹å¼å è½½beanæ¯ä¼ä¸çº§å¼åä¸­å¸¸è§çbeançå è½½æ¹å¼ï¼ä½æ¯ç±äºæ«æçæ¶åä¸ä»å¯ä»¥å è½½å°ä½ è¦çä¸è¥¿ï¼è¿æå¯è½å è½½å°åç§åæ ·çä¹±ä¸å«ç³çä¸è¥¿ï¼ä¸ä¸æ²¡ææ§å¶å¥½å¾ä¸å¿å¤±äºã\n\næäººå°±ä¼å¥æªï¼ä¼æä»ä¹é®é¢å¢ï¼æ¯å¦ä½ æ«æäºcom.itheima.serviceåï¼åæ¥å ä¸ºä¸å¡éè¦ï¼åæ«æäºcom.itheima.daoåï¼ä½ åç°com.itheimaåä¸é¢åªæserviceådaoè¿ä¸¤ä¸ªåï¼è¿å°±ç®åäºï¼ç´æ¥æ«æcom.itheimaå°±è¡äºãä½æ¯ä¸ä¸æ²¡æ³å°ï¼åå¤©åä½ å å¥äºä¸ä¸ªå¤é¨ä¾èµåï¼éé¢ä¹æcom.itheimaåï¼è¿ä¸å°±ç­é¹äºï¼è¯¥æ¥çä¸è¯¥æ¥çå¨æ¥äºã\n\næä»¥æä»¬éè¦ä¸ç§ç²¾åå¶å¯¼çå è½½æ¹å¼ï¼ä½¿ç¨@importæ³¨è§£å°±å¯ä»¥è§£å³ä½ çé®é¢ãå®å¯ä»¥å è½½ææçä¸åï¼åªéè¦å¨æ³¨è§£çåæ°ä¸­åä¸å è½½çç±»å¯¹åºç.classå³å¯ãæäººå°±ä¼è§å¾ï¼è¿è¦èªå·±æåï¼å¤éº»ç¦ï¼ä¸å¦æ«æå¥½ç¨ãå¯¹åï¼ä½æ¯ä»å¯ä»¥æå®å è½½åï¼å¥½çå½åè§èéå@componentscanå¯ä»¥è§£å³å¾å¤é®é¢ï¼ä½æ¯@importæ³¨è§£æ¥æå¶éè¦çåºç¨åºæ¯ãææ²¡ææ³è¿åå¦ä½ è¦å è½½çbeanæ²¡æä½¿ç¨@componentä¿®é¥°å¢ï¼è¿ä¸å°±æ è§£äºï¼è@importå°±æ éèèè¿ä¸ªé®é¢ã\n\n@import({dog.class,dbconfig.class})\npublic class springconfig4 {\n}\n\n\n# ä½¿ç¨@importæ³¨è§£æ³¨å¥éç½®ç±»\n\né¤äºå è½½beanï¼è¿å¯ä»¥ä½¿ç¨@importæ³¨è§£å è½½éç½®ç±»ãå¶å®æ¬è´¨ä¸æ¯ä¸æ ·çï¼ä¸è§£éå¤ªå¤äºã\n\n@import(dogfactorybean.class)\npublic class springconfig4 {\n}\n\n\n# æ¹å¼äºï¼ç¼ç¨å½¢å¼æ³¨åbean\n\nåé¢ä»ç»çå è½½beançæ¹å¼é½æ¯å¨å®¹å¨å¯å¨é¶æ®µå®æbeançå è½½ï¼ä¸é¢è¿ç§æ¹å¼å°±æ¯è¾ç¹æ®äºï¼å¯ä»¥å¨å®¹å¨åå§åå®æåæå¨å è½½beanãéè¿è¿ç§æ¹å¼å¯ä»¥å®ç°ç¼ç¨å¼æ§å¶beançå è½½ã\n\npublic class app5 {\n    public static void main(string[] args) {\n        annotationconfigapplicationcontext ctx = new annotationconfigapplicationcontext(springconfig.class);\n        //ä¸ä¸æå®¹å¨å¯¹è±¡å·²ç»åå§åå®æ¯åï¼æå·¥å è½½bean\n        ctx.register(mouse.class);\n    }\n}\n\n\nå¶å®è¿ç§æ¹å¼åè¿æ¯æºå¤çï¼æ¯å¦å®¹å¨ä¸­å·²ç»æäºæç§ç±»åçbeanï¼åå è½½ä¼ä¸ä¼è¦çå¢ï¼è¿é½æ¯è¦æèåå³æ³¨çé®é¢ãæ°ææç¨ã\n\npublic class app5 {\n    public static void main(string[] args) {\n        annotationconfigapplicationcontext ctx = new annotationconfigapplicationcontext(springconfig.class);\n        //ä¸ä¸æå®¹å¨å¯¹è±¡å·²ç»åå§åå®æ¯åï¼æå·¥å è½½bean\n        ctx.registerbean("tom", cat.class,0);\n        ctx.registerbean("tom", cat.class,1);\n        ctx.registerbean("tom", cat.class,2);\n        system.out.println(ctx.getbean(cat.class));\n    }\n}\n\n\n# æ¹å¼å­ï¼å¯¼å¥å®ç°äºimportselectoræ¥å£çç±»\n\nå¨æ¹å¼äºç§ï¼æä»¬æåäºbeançå è½½å¯ä»¥è¿è¡ç¼ç¨åçæ§å¶ï¼æ·»å ifè¯­å¥å°±å¯ä»¥å®ç°beançå è½½æ§å¶äºãä½æ¯æ¯ç«æ¯å¨å®¹å¨åå§ååå®ç°beançå è½½æ§å¶ï¼é£æ¯å¦å¯ä»¥å¨å®¹å¨åå§åè¿ç¨ä¸­è¿è¡æ§å¶å¢ï¼ç­æ¡æ¯å¿é¡»çãå®ç°importselectoræ¥å£çç±»å¯ä»¥è®¾ç½®å è½½çbeançå¨è·¯å¾ç±»åï¼è®°å¾ä¸ç¹ï¼åªè¦è½ç¼ç¨å°±è½å¤å®ï¼è½å¤å®æå³çå¯ä»¥æ§å¶ç¨åºçè¿è¡èµ°åï¼è¿èæ§å¶ä¸åã\n\nç°å¨åå¤äºä¸ç§æ§å¶beanå è½½çæ¹å¼ï¼æèè¯´æ¯éæ©beançæ¹å¼ã\n\npublic class myimportselector implements importselector {\n    @override\n    public string[] selectimports(annotationmetadata metadata) {\n        //åç§æ¡ä»¶çå¤å®ï¼å¤å®å®æ¯åï¼å³å®æ¯å¦è£è½½æå®çbean\n        // metadataè¡¨ç¤ºæºæ°æ®\n        boolean flag = metadata.hasannotation("org.springframework.context.annotation.configuration");\n        if(flag){\n            return new string[]{"com.itheima.bean.dog"};\n        }\n        return new string[]{"com.itheima.bean.cat"};\n    }\n}\n\n\n\n# æ¹å¼ä¸ï¼å¯¼å¥å®ç°äºimportbeandefinitionregistraræ¥å£çç±»\n\næ¹å¼å­ä¸­æä¾äºç»å®ç±»å¨è·¯å¾ç±»åæ§å¶beanå è½½çå½¢å¼ï¼å¦æå¯¹springçbeançå è½½åçæ¯è¾çæçå°ä¼ä¼´ç¥éï¼å¶å®beançå è½½ä¸æ¯ä¸ä¸ªç®ç®ååçå¯¹è±¡ï¼springä¸­å®ä¹äºä¸ä¸ªå«åbeandefinitionçä¸è¥¿ï¼å®ææ¯æ§å¶beanåå§åå è½½çæ ¸å¿ãbeandefinitionæ¥å£ä¸­ç»åºäºè¥å¹²ç§æ¹æ³ï¼å¯ä»¥æ§å¶beançç¸å³å±æ§ãè¯´ä¸ªæç®åçï¼åå»ºçå¯¹è±¡æ¯åä¾è¿æ¯éåä¾ï¼å¨beandefinitionä¸­å®ä¹äºscopeå±æ§å°±å¯ä»¥æ§å¶è¿ä¸ªãå¦æä½ æè§æ¹å¼å­æ²¡æç»ä½ å¼æ¾åºè¶³å¤çå¯¹beançæ§å¶æä½ï¼é£ä¹æ¹å¼ä¸ä½ å¼å¾æ¥æãæä»¬å¯ä»¥éè¿å®ä¹ä¸ä¸ªç±»ï¼ç¶åå®ç°importbeandefinitionregistraræ¥å£çæ¹å¼å®ä¹beanï¼å¹¶ä¸è¿å¯ä»¥è®©ä½ å¯¹beançåå§åè¿è¡æ´å ç»ç²åº¦çæ§å¶ï¼ä¸è¿å¯¹äºæ°æå¹¶ä¸æ¯å¾åå¥½ãå¿½ç¶ç»ä½ å¼æ¾äºè¥å¹²ä¸ªæä½ï¼è¿çä¸ç¥éå¦ä½ä¸æã\n\npublic class myregistrar implements importbeandefinitionregistrar {\n    @override\n    public void registerbeandefinitions(annotationmetadata metadata, beandefinitionregistry registry) {\n        beandefinition beandefinition = \t\n            beandefinitionbuilder.rootbeandefinition(bookserviceimpl2.class).getbeandefinition();\n        registry.registerbeandefinition("bookservice",beandefinition);\n    }\n}\n\n\n# æ¹å¼å«ï¼å¯¼å¥å®ç°äºbeandefinitionregistrypostprocessoræ¥å£çç±»\n\nä¸è¿°ä¸ç§æ¹å¼é½æ¯å¨å®¹å¨åå§åè¿ç¨ä¸­è¿è¡beançå è½½æèå£°æï¼ä½æ¯è¿éæä¸ä¸ªbugãè¿ä¹å¤ç§æ¹å¼ï¼å®ä»¬ä¹é´å¦ææå²çªæä¹åï¼è°è½ææç»è£å®æï¼è¿æ¯ä¸ªå¥½é®é¢ï¼å½æç§ç±»åçbeanè¢«æ¥äºè¿ä¸çä½¿ç¨åç§æ¹å¼å è½½åï¼å¨ä½ å¯¹ææå è½½æ¹å¼çå è½½é¡ºåºæ²¡æå®å¨çè§£æ¸æ°ä¹åï¼ä½ è¿çä¸ç¥éæåè°è¯´äºç®ãå³ä¾¿ä½ çæ¸æ¥äºï¼ä¿ä¸é½åä½ ä¸èµ·å¼åççªéååæ·»å äºä¸ä¸ªbeanï¼å¾åï¼è¿ä¸å°±ç­é¹äºã\n\nspringæ¥èå®ä»²è£èçå¤§åæ¥äºä¸ä¸ªè´å½ä¸å»ï¼é½å«ååäºï¼æè¯´äºç®ï¼beandefinitionregistrypostprocessorï¼çåå­ç¥éï¼beandefinitionæææ¯beanå®ä¹ï¼registryæ³¨åçææï¼poståç½®ï¼processorå¤çå¨ï¼å¨ç§°beanå®ä¹åå¤çå¨ï¼å¹²å¥çï¼å¨ææbeanæ³¨åé½æè¾å®åï¼å®ææåä¸éå³ï¼è¯´ç½äºï¼å®è¯´äºç®ï¼è¿ä¸æ¶åäºï¼å®æ¯æåä¸ä¸ªè¿è¡çã\n\npublic class mypostprocessor implements beandefinitionregistrypostprocessor {\n    @override\n    public void postprocessbeandefinitionregistry(beandefinitionregistry registry) throws beansexception {\n        beandefinition beandefinition = \n            beandefinitionbuilder.rootbeandefinition(bookserviceimpl4.class).getbeandefinition();\n        registry.registerbeandefinition("bookservice",beandefinition);\n    }\n}\n\n\n\næ»ä½ä¸æ¥è¯´ï¼ä¸é¢ä»ç»äºåç§åæ ·çbeançæ³¨åå è½½åå§åæ¹å¼ï¼èå­éå»ºç«ä¸ªæ¦å¿µå§ï¼æ¹å¼å¾å¤ï¼springæºç ä¸­å¤§éè¿ç¨åç§æ¹å¼ãå¤ä¹ çåå®¹å°±åè¯´å°è¿éã\n\næ»ç»\n\n 1. beançå®ä¹ç±åæxmléç½®éæ­¥æ¼åææ³¨è§£éç½®ï¼æ¬è´¨æ¯ä¸æ ·çï¼é½æ¯éè¿åå°æºå¶å è½½ç±»åååå»ºå¯¹è±¡ï¼å¯¹è±¡å°±æ¯springç®¡æ§çbean\n 2. @importæ³¨è§£å¯ä»¥æå®å è½½æä¸ä¸ªç±»ä½ä¸ºspringç®¡æ§çbeanï¼å¦æè¢«å è½½çç±»ä¸­è¿å·æ@beanç¸å³çå®ä¹ï¼ä¼è¢«ä¸åå è½½\n 3. springå¼æ¾åºäºè¥å¹²ç§å¯ç¼ç¨æ§å¶çbeançåå§åæ¹å¼ï¼éè¿åæ¯è¯­å¥ç±åºå®çå è½½beanè½¬æäºå¯ä»¥éæ©beanæ¯å¦å è½½æèéæ©å è½½åªä¸ç§bean\n\n\n\n\n# yl-1-2.beançå è½½æ§å¶\n\nåé¢å¤ä¹ beançå è½½æ¶ï¼æåºäºæå³å è½½æ§å¶çæ¹å¼ï¼å¶ä¸­æå·¥æ³¨åbeanï¼importselectoræ¥å£ï¼importbeandefinitionregistraræ¥å£ï¼beandefinitionregistrypostprocessoræ¥å£é½å¯ä»¥æ§å¶beançå è½½ï¼è¿ä¸èå°±æ¥è¯´è¯´è¿äºå è½½æ§å¶ã\n\nä¼ä¸çº§å¼åä¸­ä¸å¯è½å¨springå®¹å¨ä¸­è¿è¡beançé¥±åå¼å è½½çãä»ä¹æ¯é¥±åå¼å è½½ï¼å°±æ¯ä¸ç®¡ç¨ä¸ç¨ï¼å¨é¨å è½½ãæ¯å¦jdkä¸­æä¸¤ä¸ä¸ªç±»ï¼é£å°±å è½½ä¸¤ä¸ä¸ªbeanï¼æ¾ç¶æ¯ä¸åççï¼å ä¸ºä½ åæ ¹å°±ä¸ä¼ä½¿ç¨å¶ä¸­å¤§é¨åçbeanãé£åççå è½½æ¹å¼æ¯ä»ä¹ï¼è¯å®æ¯å¿è¦æ§å è½½ï¼å°±æ¯ç¨ä»ä¹å è½½ä»ä¹ãç»§ç»­æèï¼å è½½åªäºbeanéå¸¸åä»ä¹å½±åå¢ï¼æå®¹ææ³çå°±æ¯ä½ è¦ç¨ä»ä¹ææ¯ï¼å°±å è½½å¯¹åºçbeanãç¨ä»ä¹ææ¯æå³çä»ä¹ï¼å°±æ¯å è½½å¯¹åºææ¯çç±»ãæä»¥å¨springå®¹å¨ä¸­ï¼éè¿å¤å®æ¯å¦å è½½äºæä¸ªç±»æ¥æ§å¶æäºbeançå è½½æ¯ä¸ç§å¸¸è§æä½ãä¸ä¾ç»åºäºå¯¹åºçä»£ç å®ç°ï¼å¶å®ææ³å¾ç®åï¼åå¤æ­ä¸ä¸ªç±»çå¨è·¯å¾åæ¯å¦è½å¤æåå è½½ï¼å è½½æåè¯´ææè¿ä¸ªç±»ï¼é£å°±å¹²æé¡¹å·ä½çå·¥ä½ï¼å¦åå°±å¹²å«çå·¥ä½ã\n\npublic class myimportselector implements importselector {\n    @override\n    public string[] selectimports(annotationmetadata importingclassmetadata) {\n        try {\n            class<?> clazz = class.forname("com.itheima.bean.mouse");\n            if(clazz != null) {\n                return new string[]{"com.itheima.bean.cat"};\n            }\n        } catch (classnotfoundexception e) {\n//            e.printstacktrace();\n            return new string[0];\n        }\n        return null;\n    }\n}\n\n\néè¿ä¸è¿°çåæï¼å¯ä»¥çå°æ­¤ç±»æä½å°æä¸ºä¼ä¸çº§å¼åä¸­çå¸¸è§æä½ï¼äºæ¯springbootå°æè¿äºå¸¸ç¨æä½ç»æä»¬åäºä¸æ¬¡å°è£ãè¿ç§é»è¾å¤å®ä½ å¼åèå°±å«æäºï¼æspringbootä¿¡ä¸è¿ä½ è¿ç§æ°æå¼åèï¼æç»ä½ å°è£ä¸ä¸ï¼åå ä¸ªæ³¨è§£ï¼ä½ å¡«åæ°å§ï¼è¶ï¼happyã\n\nä¸ä¾ä½¿ç¨@conditionalonclassæ³¨è§£å®ç°äºå½èææºä¸­å è½½äºcom.itheima.bean.wolfç±»æ¶å è½½å¯¹åºçbeanãæ¯è¾ä¸ä¸ä¸é¢çä»£ç åä¸é¢çä»£ç ï¼ææ²¡ææè§å¾æ¸ç½ãå¶å®æ­¤ç±»æ³¨è§£è¿æå¾å¤ã\n\n@bean\n@conditionalonclass(name = "com.itheima.bean.wolf")\npublic cat tom(){\n    return new cat();\n}\n\n\n@conditionalonmissingclassæ³¨è§£æ§å¶èææºä¸­æ²¡æå è½½æå®çç±»æå è½½å¯¹åºçbeanã\n\n@bean\n@conditionalonmissingclass("com.itheima.bean.dog")\npublic cat tom(){\n    return new cat();\n}\n\n\nè¿ç§æ¡ä»¶è¿å¯ä»¥åå¹¶ä¸çé»è¾å³ç³»ï¼å2ä¸ªå°±æ¯2ä¸ªæ¡ä»¶é½æç«ï¼åå¤ä¸ªå°±æ¯å¤ä¸ªæ¡ä»¶é½æç«ã\n\n\n@bean\n@conditionalonclass(name = "com.itheima.bean.wolf")\n@conditionalonmissingclass("com.itheima.bean.mouse")\npublic cat tom(){\n    return new cat();\n}\n\n\né¤äºå¤å®æ¯å¦å è½½ç±»ï¼è¿å¯ä»¥å¯¹å½åå®¹å¨ç±»ååå¤å®ï¼ä¸ä¾æ¯å¤å®å½åå®¹å¨ç¯å¢æ¯å¦æ¯webç¯å¢ã\n\n@bean\n@conditionalonwebapplication\npublic cat tom(){\n    return new cat();\n}\n\n\nä¸é¢æ¯å¤å®å®¹å¨ç¯å¢æ¯å¦æ¯éwebç¯å¢ã\n\n@bean\n@conditionalonnotwebapplication\npublic cat tom(){\n    return new cat();\n}\n\n\nå½ç¶è¿å¯ä»¥å¤å®æ¯å¦å è½½äºæå®åç§°çbeanï¼è¿ç§æä»ä¹ç¨å¢ï¼å¤ªæç¨äºãæ¯å¦å½åå®¹å¨ä¸­å·²ç»æä¾äºjdbctemplateå¯¹åºçbeanï¼ä½ è¿éè¦åå è½½ä¸ä¸ªå¨æ°çjdbctemplateçbeanåï¼æ²¡æå¿è¦äºåãspringè¯´ï¼å¦æä½ èªå·±åçè¯ï¼æå°±ä¸å¸®ä½ æè¿ä»½å¿äºï¼å¦æä½ æ²¡åï¼æåç»ä½ æä¾ãèªéåºï¼èªéåºï¼æç½ï¼æ²¡æçè¯å°±æä¾ç»ä½ ï¼æçè¯å°±ç¨ä½ èªå·±çï¼æ¯ä¸æ¯å¾å¸ï¼\n\n@bean\n@conditionalonbean(name="jerry")\npublic cat tom(){\n    return new cat();\n}\n\n\nä»¥ä¸å°±æ¯å¤å®å½åæ¯å¦å è½½äºmysqlçé©±å¨ç±»ï¼å¦æå è½½äºï¼æå°±ç»ä½ æä¸ä¸ªdruidçæ°æ®æºå¯¹è±¡åºæ¥ï¼å®ç¾ï¼\n\npublic class springconfig {\n    @bean\n    @conditionalonclass(name="com.mysql.jdbc.driver")\n    public druiddatasource datasource(){\n        return new druiddatasource();\n    }\n}\n\n\nå¶ä¸­springbootçbeanå è½½æ§å¶æ³¨è§£è¿æå¾å¤ï¼è¿éå°±ä¸ä¸ä¸åä¸¾äºï¼æå¸¸ç¨çå¤å®æ¡ä»¶å°±æ¯æ ¹æ®ç±»æ¯å¦å è½½æ¥è¿è¡æ§å¶ã\n\næ»ç»\n\n 1. springbootå®ä¹äºè¥å¹²ç§æ§å¶beanå è½½çæ¡ä»¶è®¾ç½®æ³¨è§£ï¼ç±springåºå®å è½½beanåæäºå¯ä»¥æ ¹æ®æåµéæ©æ§çå è½½bean\n\n\n# yl-1-3.beançä¾èµå±æ§éç½®ç®¡ç\n\nbeançå è½½åå è½½æ§å¶å·²ç»æå®äºï¼ä¸é¢ç ç©¶ä¸ä¸beanåé¨çäºæãbeanå¨è¿è¡çæ¶åï¼å®ç°å¯¹åºçä¸å¡é»è¾æ¶æå¯è½éè¦å¼åèæä¾ä¸äºè®¾ç½®å¼ï¼æå°±æ¯å±æ§äºãå¦æä½¿ç¨æé æ¹æ³å°åæ°åºå®ï¼çµæ´»æ§ä¸è¶³ï¼è¿ä¸ªæ¶åå°±å¯ä»¥ä½¿ç¨åæå­¦ä¹ çbeançå±æ§éç½®ç¸å³çç¥è¯è¿è¡çµæ´»çéç½®äºãåéè¿ymléç½®æä»¶ï¼è®¾ç½®beanè¿è¡éè¦ä½¿ç¨çéç½®ä¿¡æ¯ã\n\ncartoon:\n  cat:\n    name: "å¾å¤çæ´"\n    age: 5\n  mouse:\n    name: "æ³°è²"\n    age: 1\n\n\nç¶åå®ä¹ä¸ä¸ªå°è£å±æ§çä¸ç¨ç±»ï¼å è½½éç½®å±æ§ï¼è¯»åå¯¹åºåç¼ç¸å³çå±æ§å¼ã\n\n@configurationproperties(prefix = "cartoon")\n@data\npublic class cartoonproperties {\n    private cat cat;\n    private mouse mouse;\n}\n\n\næåå¨ä½¿ç¨çä½ç½®æ³¨å¥å¯¹åºçéç½®å³å¯ã\n\n@enableconfigurationproperties(cartoonproperties.class)\npublic class cartooncatandmouse{\n    @autowired\n    private cartoonproperties cartoonproperties;\n}\n\n\nå»ºè®®å¨ä¸å¡ç±»ä¸ä½¿ç¨@enableconfigurationpropertieså£°æbeanï¼è¿æ ·å¨ä¸ä½¿ç¨è¿ä¸ªç±»çæ¶åï¼ä¹ä¸ä¼æ æå è½½ä¸ç¨çå±æ§éç½®ç±»cartoonpropertiesï¼åå°springç®¡æ§çèµæºæ°éã\n\næ»ç»\n\n 1. beançè¿è¡å¦æéè¦å¤é¨è®¾ç½®å¼ï¼å»ºè®®å°è®¾ç½®å¼å°è£æä¸ç¨çå±æ§ç±»* * * * properties\n 2. è®¾ç½®å±æ§ç±»å è½½æå®åç¼çéç½®ä¿¡æ¯\n 3. å¨éè¦ä½¿ç¨å±æ§ç±»çä½ç½®éè¿æ³¨è§£@enableconfigurationpropertieså è½½beanï¼èä¸è¦ç´æ¥å¨å±æ§éç½®ç±»ä¸å®ä¹beanï¼åå°èµæºå è½½çæ°éï¼å éå è½½èä¸è¦é¥±åå¼å è½½ã\n\n\n# yl-1-4.èªå¨éç½®åçï¼å·¥ä½æµç¨ï¼\n\nç»è¿åé¢çç¥è¯å¤ä¹ ï¼ä¸é¢ç»äºè¿å¥å°äºæ¬ç« æ ¸å¿åå®¹çå­¦ä¹ ï¼èªå¨éç½®åçãåçè°ä¸ä¸ï¼å°±æ¯èªå¨éç½®çå·¥ä½æµç¨ã\n\nå¥å«èªå¨éç½®å¢ï¼ç®åè¯´å°±æ¯springbootæ ¹æ®æä»¬å¼åèçè¡ä¸ºçæµä½ è¦åä»ä¹äºæï¼ç¶åæä½ è¦ç¨çbeané½ç»ä½ åå¤å¥½ãå¬ä¸å»æ¯ä¸æ¯å¾ç¥å¥ï¼å¶å®éå¸¸ç®åï¼åé¢å¤ä¹ çä¸è¥¿é½å·²ç»è®²å®äºãspringbootååå°çå¢ï¼å°±æ¯çä½ å¯¼å¥äºä»ä¹ç±»ï¼å°±ç¥éä½ æ³å¹²ä»ä¹äºãç¶åæä½ æå¯è½è¦ç¨çbeanï¼æ³¨ææ¯æå¯è½ï¼é½ç»ä½ å è½½å¥½ï¼ä½ ç´æ¥ä½¿ç¨å°±è¡äºï¼springbootææéè¦çä¸åå·¥ä½é½åå®äºã\n\nèªå¨éç½®çæä¹å°±æ¯å éå¼åæçï¼å°å¼åèä½¿ç¨æç§ææ¯æ¶éè¦ä½¿ç¨çbeanæ ¹æ®æåµæåå è½½å¥½ï¼å®ç°èªå¨éç½®çææãå½ç¶ï¼å¼åèæå¯è½éè¦æä¾å¿è¦çåæ°ï¼æ¯å¦ä½ è¦ç¨mysqlææ¯ï¼å¯¼å¥äºmysqlçåæ ï¼springbootå°±ç¥éäºä½ è¦åæ°æ®åºæä½ï¼ä¸ç³»åçæ°æ®åºæä½ç¸å³çbeané½ç»ä½ æåå£°æå¥½ï¼ä½æ¯ä½ è¦åè¯springbootä½ å°åºç¨åªä¸ä¸ªæ°æ®åºï¼åä»ä¹ipå°ååï¼ç«¯å£åï¼ä½ ä¸åè¯spirngbootï¼springbootå°±æ æ³å¸®ä½ æèªå¨éç½®ç¸å³çå·¥ä½åå®ã\n\nèè¿ç§ææ³å¶å®å°±æ¯å¨æ¥å¸¸çå¼åè¿ç¨ä¸­æ ¹æ®å¼åèçä¹ æ¯æ¢æ¢æ½åå¾å°äºãæ´ä½è¿ç¨åä¸º2ä¸ªé¶æ®µï¼\n\né¶æ®µä¸ï¼åå¤é¶æ®µ\n\n 1. springbootçå¼åäººååå¤§éæ¶éspringå¼åèçç¼ç¨ä¹ æ¯ï¼æ´çå¼åè¿ç¨æ¯ä¸ä¸ªç¨åºç»å¸¸ä½¿ç¨çææ¯åè¡¨ï¼å½¢æä¸ä¸ªææ¯éa\n\n 2. æ¶éå¸¸ç¨ææ¯(ææ¯éa)çä½¿ç¨åæ°ï¼ä¸ç®¡ä½ ç¨ä»ä¹å¸¸ç¨è®¾ç½®ï¼æç¨ä»ä¹å¸¸ç¨è®¾ç½®ï¼ç»ç»æ¶éèµ·æ¥æ´çä¸ä¸ï¼å¾å°å¼åè¿ç¨ä¸­æ¯ä¸ä¸ªææ¯çå¸¸ç¨è®¾ç½®ï¼å½¢ææ¯ä¸ä¸ªææ¯å¯¹åºçè®¾ç½®éb\n    \n    é¶æ®µäºï¼å è½½é¶æ®µ\n\n 3. springbootåå§åspringå®¹å¨åºç¡ç¯å¢ï¼è¯»åç¨æ·çéç½®ä¿¡æ¯ï¼å è½½ç¨æ·èªå®ä¹çbeanåå¯¼å¥çå¶ä»åæ ï¼å½¢æåå§åç¯å¢\n\n 4. springbootå°ææ¯éaåå«çææææ¯å¨springbootå¯å¨æ¶é»è®¤å¨é¨å è½½ï¼è¿æ¶è¯å®å è½½çä¸è¥¿æä¸äºæ¯æ æçï¼æ²¡æç¨ç\n\n 5. springbootä¼å¯¹ææ¯éaä¸­æ¯ä¸ä¸ªææ¯çº¦å®åºå¯å¨è¿ä¸ªææ¯å¯¹åºçæ¡ä»¶ï¼å¹¶è®¾ç½®æææ¡ä»¶å è½½ï¼ç±äºå¼åèå¯¼å¥äºä¸äºbeanåå¶ä»åæ ï¼ä¹å°±æ¯ä¸åå§åç¯å¢ï¼è¿ä¸ªæ¶åå°±å¯ä»¥æ ¹æ®è¿ä¸ªåå§åç¯å¢ä¸springbootçææ¯éaè¿è¡æ¯å¯¹äºï¼åªä¸ªå¹éä¸å è½½åªä¸ª\n\n 6. å ä¸ºæäºææ¯ä¸åéç½®å°±æ æ³å·¥ä½ï¼æä»¥springbootå¼å§å¯¹è®¾ç½®ébä¸æäºãå®ç»è®¡åºåä¸ªå½å®¶åä¸ªè¡ä¸çå¼åèä½¿ç¨æä¸ªææ¯æ¶æå¸¸ç¨çè®¾ç½®æ¯ä»ä¹ï¼ç¶åæè¿äºè®¾ç½®ä½ä¸ºé»è®¤å¼ç´æ¥è®¾ç½®å¥½ï¼å¹¶åè¯å¼åèå½åè®¾ç½®æå·²ç»ç»ä½ æäºä¸å¥ï¼ä½ è¦ç¨å¯ä»¥ç´æ¥ç¨ï¼è¿æ ·å¯ä»¥åå°å¼åèéç½®åæ°çå·¥ä½é\n\n 7. ä½æ¯é»è®¤éç½®ä¸ä¸å®è½è§£å³é®é¢ï¼äºæ¯springbootå¼æ¾ä¿®æ¹è®¾ç½®ébçæ¥å£ï¼å¯ä»¥ç±å¼åèæ ¹æ®éè¦å³å®æ¯å¦è¦çé»è®¤éç½®\n\nä»¥ä¸è¿äºä»ä»æ¯ä¸ä¸ªææ³ï¼è½å°å°ä»£ç å®ç°é¶æ®µå°±è¦å¥½å¥½æèä¸ä¸æä¹å®ç°äºãåå®æä»¬æ³èªå·±å®ç°èªå¨éç½®çåè½ï¼é½è¦ååªäºå·¥ä½å¢ï¼\n\n * é¦åæå®ä¸ä¸ªææ¯xï¼æä»¬æç®è®©ææ¯xå·å¤èªå¨éç½®çåè½ï¼è¿ä¸ªææ¯xå¯ä»¥æ¯ä»»æåè½ï¼è¿ä¸ªææ¯é¶å±äºä¸é¢æè¿°çææ¯éa\n\npublic class cartooncatandmouse{\n}\n\n\n * ç¶åæ¾åºææ¯xä½¿ç¨è¿ç¨ä¸­çå¸¸ç¨éç½®yï¼è¿ä¸ªéç½®é¶å±äºä¸é¢è¡¨è¿°çè®¾ç½®éb\n\ncartoon:\n  cat:\n    name: "å¾å¤çæ´"\n    age: 5\n  mouse:\n    name: "æ³°è²"\n    age: 1\n\n\n * å°å¸¸ç¨éç½®yè®¾è®¡åºå¯¹åºçymléç½®ä¹¦åæ ¼å¼ï¼ç¶åå®ä¹ä¸ä¸ªå±æ§ç±»å°è£å¯¹åºçéç½®å±æ§ï¼è¿ä¸ªè¿ç¨å¶å®å°±æ¯ä¸ä¸èå±ä»¬åçbeançä¾èµå±æ§ç®¡çï¼ä¸æ¨¡ä¸æ ·\n\n@configurationproperties(prefix = "cartoon")\n@data\npublic class cartoonproperties {\n    private cat cat;\n    private mouse mouse;\n}\n\n\n * æååä¸ä¸ªéç½®ç±»ï¼å½è¿ä¸ªç±»å è½½çæ¶åå°±å¯ä»¥åå§åå¯¹åºçåè½beanï¼å¹¶ä¸å¯ä»¥å è½½å°å¯¹åºçéç½®\n\n@enableconfigurationproperties(cartoonproperties.class)\npublic class cartooncatandmouse implements applicationcontextaware {\n    private cartoonproperties cartoonproperties;\n}\n\n\n * å½ç¶ï¼ä½ ä¹å¯ä»¥ä¸ºå½åèªå¨éç½®ç±»è®¾ç½®ä¸æ¿æ´»æ¡ä»¶ï¼ä¾å¦ä½¿ç¨@condtionon* * * * ä¸ºå¶è®¾ç½®å è½½æ¡ä»¶\n\n@conditionalonclass(name="org.springframework.data.redis.core.redisoperations")\n@enableconfigurationproperties(cartoonproperties.class)\npublic class cartooncatandmouse implements applicationcontextaware {\n    private cartoonproperties cartoonproperties;\n}\n\n\nåå°è¿éé½å·²ç»åå®äºï¼ä½æ¯éå°äºä¸ä¸ªå¨æ°çé®é¢ï¼å¦ä½è®©springbootå¯å¨çæ¶åå»å è½½è¿ä¸ªç±»å¢ï¼å¦æä¸å è½½çè¯ï¼æä»¬åçæ¡ä»¶å¤å®ï¼åçå±æ§å è½½è¿äºå¨é¨é½å¤±æäºãspringbootä¸ºæä»¬å¼æ¾äºä¸ä¸ªéç½®å¥å£ï¼å¨éç½®ç®å½ä¸­åå»ºmeta-infç®å½ï¼å¹¶åå»ºspring.factoriesæä»¶ï¼å¨å¶ä¸­æ·»å è®¾ç½®ï¼è¯´æåªäºç±»è¦å¯å¨èªå¨éç½®å°±å¯ä»¥äºã\n\n# auto configure\norg.springframework.boot.autoconfigure.enableautoconfiguration=\\\ncom.itheima.bean.cartooncatandmouse\n\n\nå¶å®è¿ä¸ªæä»¶å°±åäºä¸ä»¶äºï¼éè¿è¿ç§éç½®çæ¹å¼å è½½äºæå®çç±»ãè½¬äºä¸åï¼å°±æ¯ä¸ªæ®éçbeançå è½½ï¼åæåä½¿ç¨xmlæ ¼å¼å è½½beanå ä¹æ²¡æåºå«ï¼æ ¼å¼åäºèå·²ãé£èªå¨éç½®çæ ¸å¿ç©¶ç«æ¯ä»ä¹å¢ï¼èªå¨éç½®å¶å®æ¯ä¸ä¸ªå°ççæï¼å¯ä»¥æç§å¦ä¸ææ³çè§£ï¼\n\n 1. èªå¨éç½®ä»æ ¹æ¬ä¸æ¥è¯´å°±æ¯ä¸ä¸ªbeançå è½½\n 2. éè¿beanå è½½æ¡ä»¶çæ§å¶ç»å¼åèä¸ç§æè§ï¼èªå¨éç½®æ¯èªéåºçï¼å¯ä»¥æ ¹æ®æåµèªå·±å¤å®ï¼ä½å®éä¸å°±æ¯ææ®éçåæ¯è¯­å¥çåºç¨ï¼è¿æ¯èè½æä»¬åç¼çç¬¬ä¸å±é¢çº±\n 3. ä½¿ç¨beançæ¶åï¼å¦æä¸è®¾ç½®å±æ§ï¼å°±æé»è®¤å¼ï¼å¦æä¸æ³ç¨é»è®¤å¼ï¼å°±å¯ä»¥èªå·±è®¾ç½®ï¼ä¹å°±æ¯å¯ä»¥ä¿®æ¹é¨åæèå¨é¨åæ°ï¼æè§è¿ä¸ªè¿ç¨å¥½å±ï¼ä¹æ¯ä¸ç§èªéåºçå½¢å¼ï¼å¶å®è¿æ¯éè¦ä½¿ç¨åæ¯è¯­å¥æ¥åå¤æ­çï¼è¿æ¯èè½æä»¬åç¼çç¬¬äºå±é¢çº±\n 4. springbootææ¯æåå°å¤§éå¼åèæå¯è½ä½¿ç¨çææ¯æååå¥½äºï¼æ¡ä»¶ä¹åå¥½äºï¼ç¨çæ¶åä½ å¯¼å¥äºä¸ä¸ªåæ ï¼å¯¹åºææ¯å°±å¯ä»¥ä½¿ç¨äºï¼å¶å®å°±æ¯æåå¸®æä»¬æspring.factoriesæä»¶åå¥½äºï¼è¿æ¯èè½æä»¬åç¼çç¬¬ä¸å±é¢çº±\n\nä½ å¨ä¸ç¥éèªå¨éç½®è¿ä¸ªç¥è¯çæåµä¸ï¼ç»è¿ä¸é¢è¿ä¸äºä¸ï¼ä½ å½ç¶è§å¾èªå¨éç½®æ¯ä¸ç§ç¹å«ççææ¯ï¼ä½æ¯ä¸çª¥ç©¶ç«ååç°ï¼ä¹å°±é£ä¹åäºãèä¸ç°å¨springbootç¨åºå¯å¨æ¶ï¼å¨åå°å·å·çåäºè¿ä¹å¤æ¬¡æ£æµï¼è¿ä¹å¤ç§æåµå¤å®ï¼ä¸ç¨é®äºï¼æçä¸å®æ¯éå¸¸ä½çï¼æ¯ç«å®è¦æ£æµ100ä½ç§ææ¯æ¯å¦å¨ä½ ç¨åºä¸­ä½¿ç¨ã\n\nä»¥ä¸åå®¹æ¯èªå¨éç½®çå·¥ä½æµç¨ã\n\næ»ç»\n\n 1. springbootå¯å¨æ¶åå è½½spring.factoriesæä»¶ä¸­çorg.springframework.boot.autoconfigure.enableautoconfigurationéç½®é¡¹ï¼å°å¶ä¸­éç½®çææçç±»é½å è½½æbean\n 2. å¨å è½½beançæ¶åï¼beanå¯¹åºçç±»å®ä¹ä¸é½è®¾ç½®æå è½½æ¡ä»¶ï¼å æ­¤æå¯è½å è½½æåï¼ä¹å¯è½æ¡ä»¶æ£æµå¤±è´¥ä¸å è½½bean\n 3. å¯¹äºå¯ä»¥æ­£å¸¸å è½½æbeançç±»ï¼éå¸¸ä¼éè¿@enableconfigurationpropertiesæ³¨è§£åå§åå¯¹åºçéç½®å±æ§ç±»å¹¶å è½½å¯¹åºçéç½®\n 4. éç½®å±æ§ç±»ä¸éå¸¸ä¼éè¿@configurationpropertieså è½½æå®åç¼çéç½®ï¼å½ç¶è¿äºéç½®éå¸¸é½æé»è®¤å¼ãå¦ææ²¡æé»è®¤å¼ï¼å°±å¼ºå¶ä½ å¿é¡»éç½®åä½¿ç¨äº\n\n\n\n\n# yl-1-5.åæ´èªå¨éç½®\n\nç¥éäºèªå¨éç½®çæ§è¡è¿ç¨ï¼ä¸é¢å°±å¯ä»¥æ ¹æ®è¿ä¸ªèªå¨éç½®çæµç¨åä¸äºé«çº§å®å¶äºãä¾å¦ç³»ç»é»è®¤ä¼å è½½100å¤ç§èªå¨éç½®çææ¯ï¼å¦ææä»¬åæå·¥å¹²é¢æ­¤å·¥ç¨ï¼ç¦ç¨èªå¨éç½®æ¯å¦å¯è¡å¢ï¼ç­æ¡ä¸å®æ¯å¯ä»¥çãæ¹å¼è¿æºå¤ï¼\n\næ¹å¼ä¸ï¼éè¿yamléç½®è®¾ç½®æé¤æå®çèªå¨éç½®ç±»\n\nspring:\n  autoconfigure:\n    exclude:\n      - org.springframework.boot.autoconfigure.task.taskexecutionautoconfiguration\n\n\næ¹å¼äºï¼éè¿æ³¨è§£åæ°æé¤èªå¨éç½®ç±»\n\n@enableautoconfiguration(excludename = "",exclude = {})\n\n\næ¹å¼ä¸ï¼æé¤åæ ï¼åºç¨é¢è¾çªï¼\n\nå¦æå½åèªå¨éç½®ä¸­åå«ææ´å¤çèªå¨éç½®åè½ï¼ä¹å°±æ¯ä¸ä¸ªå¥å¨çææãæ­¤æ¶å¯ä»¥éè¿æ£æµæ¡ä»¶çæ§å¶æ¥ç®¡çèªå¨éç½®æ¯å¦å¯å¨ãä¾å¦webç¨åºå¯å¨æ¶ä¼èªå¨å¯å¨tomcatæå¡å¨ï¼å¯ä»¥éè¿æé¤åæ çæ¹å¼ï¼è®©å è½½tomcatæå¡å¨çæ¡ä»¶å¤±æãä¸è¿éè¦æéä¸ç¹ï¼ä½ ætomcatæé¤æï¼è®°å¾åå ä¸ç§å¯ä»¥è¿è¡çæå¡å¨ã\n\n<dependencies>\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-web</artifactid>\n        \x3c!--webèµ·æ­¥ä¾èµç¯å¢ä¸­ï¼æé¤tomcatèµ·æ­¥ä¾èµï¼å¹éèªå¨éç½®æ¡ä»¶--\x3e\n        <exclusions>\n            <exclusion>\n                <groupid>org.springframework.boot</groupid>\n                <artifactid>spring-boot-starter-tomcat</artifactid>\n            </exclusion>\n        </exclusions>\n    </dependency>\n    \x3c!--æ·»å jettyèµ·æ­¥ä¾èµï¼å¹éèªå¨éç½®æ¡ä»¶--\x3e\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-jetty</artifactid>\n    </dependency>\n</dependencies>\n\n\næ»ç»\n\n 1. springbootçèªå¨éç½®å¹¶ä¸æ¯å¿ç¶è¿è¡çï¼å¯ä»¥éè¿éç½®çå½¢å¼å¹²é¢æ¯å¦å¯ç¨å¯¹åºçèªå¨éç½®åè½\n\n\n# yl-2.èªå®ä¹starterå¼å\n\nèªå¨éç½®å­¦ä¹ å®åï¼æä»¬å°±å¯ä»¥åºäºèªå¨éç½®çç¹æ§ï¼å¼åspringbootææ¯ä¸­æå¼ä»¥ä¸ºå²çåè½äºï¼starterãå¶å®éè¿åæå­¦ä¹ ï¼æä»¬åç°ç¨ä»ä¹ææ¯ç´æ¥å¯¼å¥å¯¹åºçstarterï¼ç¶åå°±å®ç°äºspringbootæ´åå¯¹åºææ¯ï¼åå ä¸ä¸äºç®åçéç½®ï¼å°±å¯ä»¥ç´æ¥ä½¿ç¨äºãè¿ç§è®¾è®¡æ¹å¼å¯¹å¼åèéå¸¸åå¥½ï¼æ¬ç« å°±éè¿ä¸ä¸ªæ¡ä¾çå¶ä½ï¼å¼åèªå®ä¹starteræ¥å®ç°èªå®ä¹åè½çå¿«æ·æ·»å ã\n\n\n# yl-2-1.æ¡ä¾ï¼è®°å½ç³»ç»è®¿å®¢ç¬ç«ipè®¿é®æ¬¡æ°\n\næ¬æ¡ä¾çåè½æ¯ç»è®¡ç½ç«ç¬ç«ipè®¿é®æ¬¡æ°çåè½ï¼å¹¶å°è®¿é®ä¿¡æ¯å¨åå°æç»­è¾åºãæ´ä½åè½æ¯å¨åå°æ¯10ç§è¾åºä¸æ¬¡çæ§ä¿¡æ¯ï¼æ ¼å¼ï¼ip+è®¿é®æ¬¡æ°ï¼ ï¼å½ç¨æ·è®¿é®ç½ç«æ¶ï¼å¯¹ç¨æ·çè®¿é®è¡ä¸ºè¿è¡ç»è®¡ã\n\nä¾å¦ï¼å¼ ä¸è®¿é®ç½ç«åè½15æ¬¡ï¼ipå°åï¼192.168.0.135ï¼æåè®¿é®ç½ç«åè½20æ¬¡ï¼ipå°åï¼61.129.65.248ãé£ä¹å¨ç½ç«åå°å°±è¾åºå¦ä¸çæ§ä¿¡æ¯ï¼æ­¤ä¿¡æ¯æ¯10ç§å·æ°ä¸æ¬¡ã\n\n         ipè®¿é®çæ§\n+-----ip-address-----+--num--+\n|     192.168.0.135  |   15  |\n|     61.129.65.248  |   20  |\n+--------------------+-------+\n\n\nå¨è¿è¡å·ä½å¶ä½ä¹åï¼åå¯¹åè½åå·ä½çåæ\n\n 1. æ°æ®è®°å½å¨ä»ä¹ä½ç½®\n    \n    æç»è®°å½çæ°æ®æ¯ä¸ä¸ªå­ç¬¦ä¸²ï¼ipå°åï¼å¯¹åºä¸ä¸ªæ°å­ï¼è®¿é®æ¬¡æ°ï¼ï¼æ­¤å¤å¯ä»¥éæ©çæ°æ®å­å¨æ¨¡åå¯ä»¥ä½¿ç¨javaæä¾çmapæ¨¡åï¼ä¹å°±æ¯key-valueçé®å¼å¯¹æ¨¡åï¼æèå·ækey-valueé®å¼å¯¹æ¨¡åçå­å¨ææ¯ï¼ä¾å¦redisææ¯ãæ¬æ¡ä¾ä½¿ç¨mapä½ä¸ºå®ç°æ¹æ¡ï¼æå´è¶£çå°ä¼ä¼´å¯ä»¥ä½¿ç¨redisä½ä¸ºè§£å³æ¹æ¡ã\n\n 2. ç»è®¡åè½è¿è¡ä½ç½®ï¼å ä¸ºæ¯æ¬¡webè¯·æ±é½éè¦è¿è¡ç»è®¡ï¼å æ­¤ä½¿ç¨æ¦æªå¨ä¼æ¯æ¯è¾å¥½çæ¹æ¡ï¼æ¬æ¡ä¾ä½¿ç¨æ¦æªå¨æ¥å®ç°ãä¸è¿å¨å¶ä½åæï¼åä½¿ç¨è°ç¨çå½¢å¼è¿è¡æµè¯ï¼ç­åè½å®æäºï¼åæ¹ææ¦æªå¨çå®ç°æ¹æ¡ã\n\n 3. ä¸ºäºæåç»è®¡æ°æ®å±ç¤ºççµæ´»åº¦ï¼ä¸ºç»è®¡åè½æ·»å éç½®é¡¹ãè¾åºé¢åº¦ï¼è¾åºçæ°æ®æ ¼å¼ï¼ç»è®¡æ°æ®çæ¾ç¤ºæ¨¡å¼åå¯ä»¥éè¿éç½®å®ç°è°æ´ã\n    \n    * è¾åºé¢åº¦ï¼é»è®¤10ç§\n    * æ°æ®ç¹å¾ï¼ç´¯è®¡æ°æ® / é¶æ®µæ°æ®ï¼é»è®¤ç´¯è®¡æ°æ®\n    * è¾åºæ ¼å¼ï¼è¯¦ç»æ¨¡å¼ / æç®æ¨¡å¼\n\nå¨ä¸é¢çå¶ä½ä¸­ï¼åæè¥å¹²ä¸ªæ­¥éª¤å®ç°ãåå®ææåºæ¬çç»è®¡åè½çå¶ä½ï¼ç¶åå¼ååºç»è®¡æ¥è¡¨ï¼æ¥ä¸æ¥æææçéç½®é½è®¾ç½®å¥½ï¼æåå°æ¦æªå¨åè½å®ç°ï¼æ´ä½åè½å°±åå®äºã\n\n\n# yl-2-2.ipè®¡æ°ä¸å¡åè½å¼åï¼èªå®ä¹starterï¼\n\næ¬åè½æç»è¦å®ç°çæææ¯å¨ç°æçé¡¹ç®ä¸­å¯¼å¥ä¸ä¸ªstarterï¼å¯¹åºçåè½å°±æ·»å ä¸äºï¼å é¤æå¯¹åºçstarterï¼åè½å°±æ¶å¤±äºï¼è¦æ±åè½è¦ä¸åå§é¡¹ç®å®å¨è§£è¦ãå æ­¤éè¦å¼åä¸ä¸ªç¬ç«çæ¨¡åï¼å¶ä½å¯¹åºåè½ã\n\næ­¥éª¤ä¸ï¼åå»ºå¨æ°çæ¨¡åï¼å®ä¹ä¸å¡åè½ç±»\n\nåè½ç±»çå¶ä½å¹¶ä¸å¤æï¼å®ä¹ä¸ä¸ªä¸å¡ç±»ï¼å£°æä¸ä¸ªmapå¯¹è±¡ï¼ç¨äºè®°å½ipè®¿é®æ¬¡æ°ï¼keyæ¯ipå°åï¼valueæ¯è®¿é®æ¬¡æ°\n\npublic class ipcountservice {\n    private map<string,integer> ipcountmap = new hashmap<string,integer>();\n}\n\n\næäºå°ä¼ä¼´å¯è½ä¼æçé®ï¼ä¸è®¾ç½®æéæçï¼å¦ä½å¨æ¯æ¬¡è¯·æ±æ¶è¿è¡æ°æ®å±äº«å¢ï¼è®°å¾ï¼å½åç±»å è½½æbeanä»¥åæ¯ä¸ä¸ªåä¾å¯¹è±¡ï¼å¯¹è±¡é½æ¯åä¾çï¼åªéå­å¨å¤ä¸ªå¯¹è±¡å±äº«åéçé®é¢ã\n\næ­¥éª¤äºï¼å¶ä½ç»è®¡åè½\n\nå¶ä½ç»è®¡æä½å¯¹åºçæ¹æ³ï¼æ¯æ¬¡è®¿é®åå¯¹åºipçè®°å½æ¬¡æ°+1ãéè¦åæåµå¤çï¼å¦æå½åæ²¡æå¯¹åºipçæ°æ®ï¼æ°å¢ä¸æ¡æ°æ®ï¼å¦åå°±ä¿®æ¹å¯¹åºkeyçå¼+1å³å¯\n\npublic class ipcountservice {\n    private map<string,integer> ipcountmap = new hashmap<string,integer>();\n    public void count(){\n        //æ¯æ¬¡è°ç¨å½åæä½ï¼å°±è®°å½å½åè®¿é®çipï¼ç¶åç´¯å è®¿é®æ¬¡æ°\n        //1.è·åå½åæä½çipå°å\n        string ip = null;\n        //2.æ ¹æ®ipå°åä»mapåå¼ï¼å¹¶éå¢\n        integer count = ipcountmap.get(ip);\n        if(count == null){\n            ipcountmap.put(ip,1);\n        }else{\n            ipcountmap.put(ip,count + 1);\n        }\n    }\n}\n\n\nå ä¸ºå½ååè½æç»å¯¼å¥å°å¶ä»é¡¹ç®ä¸­è¿è¡ï¼èå¯¼å¥å½ååè½çé¡¹ç®æ¯ä¸ä¸ªwebé¡¹ç®ï¼å¯ä»¥ä»å®¹å¨ä¸­ç´æ¥è·åè¯·æ±å¯¹è±¡ï¼å æ­¤è·åipå°åçæä½å¯ä»¥éè¿èªå¨è£éå¾å°è¯·æ±å¯¹è±¡ï¼ç¶åè·åå¯¹åºçè®¿é®ipå°åã\n\npublic class ipcountservice {\n    private map<string,integer> ipcountmap = new hashmap<string,integer>();\n    @autowired\n    //å½åçrequestå¯¹è±¡çæ³¨å¥å·¥ä½ç±ä½¿ç¨å½åstarterçå·¥ç¨æä¾èªå¨è£é\n    private httpservletrequest httpservletrequest;\n    public void count(){\n        //æ¯æ¬¡è°ç¨å½åæä½ï¼å°±è®°å½å½åè®¿é®çipï¼ç¶åç´¯å è®¿é®æ¬¡æ°\n        //1.è·åå½åæä½çipå°å\n        string ip = httpservletrequest.getremoteaddr();\n        //2.æ ¹æ®ipå°åä»mapåå¼ï¼å¹¶éå¢\n        integer count = ipcountmap.get(ip);\n        if(count == null){\n            ipcountmap.put(ip,1);\n        }else{\n            ipcountmap.put(ip,count + 1);\n        }\n    }\n}\n\n\næ­¥éª¤ä¸ï¼å®ä¹èªå¨éç½®ç±»\n\næä»¬éè¦åå°çæææ¯å¯¼å¥å½åæ¨¡åå³å¼å¯æ­¤åè½ï¼å æ­¤ä½¿ç¨èªå¨éç½®å®ç°åè½çèªå¨è£è½½ï¼éè¦å¼åèªå¨éç½®ç±»å¨å¯å¨é¡¹ç®æ¶å è½½å½ååè½ã\n\npublic class ipautoconfiguration {\n    @bean\n    public ipcountservice ipcountservice(){\n        return new ipcountservice();\n    }\n}\n\n\nèªå¨éç½®ç±»éè¦å¨spring.factoriesæä»¶ä¸­åéç½®æ¹å¯èªå¨è¿è¡ã\n\n# auto configure\norg.springframework.boot.autoconfigure.enableautoconfiguration=cn.itcast.autoconfig.ipautoconfiguration\n\n\næ­¥éª¤åï¼å¨åå§é¡¹ç®ä¸­æ¨¡æè°ç¨ï¼æµè¯åè½\n\nåå§è°ç¨é¡¹ç®ä¸­å¯¼å¥å½åå¼åçstarter\n\n<dependency>\n    <groupid>cn.itcast</groupid>\n    <artifactid>ip_spring_boot_starter</artifactid>\n    <version>0.0.1-snapshot</version>\n</dependency>\n\n\næ¨èéæ©è°ç¨æ¹ä¾¿çåè½åæµè¯ï¼æ¨èä½¿ç¨åé¡µæä½ï¼å½ç¶ä¹å¯ä»¥æ¢å¶ä»åè½ä½ç½®è¿è¡æµè¯ã\n\n@restcontroller\n@requestmapping("/books")\npublic class bookcontroller {\n    @autowired\n    private ipcountservice ipcountservice;\n    @getmapping("{currentpage}/{pagesize}")\n    public r getpage(@pathvariable int currentpage,@pathvariable int pagesize,book book){\n        ipcountservice.count();\n        ipage<book> page = bookservice.getpage(currentpage, pagesize,book);\n        if( currentpage > page.getpages()){\n            page = bookservice.getpage((int)page.getpages(), pagesize,book);\n        }\n        return new r(true, page);\n    }\n}\n\n\næ¸©é¦¨æç¤º\n\nç±äºå½åå¶ä½çåè½éè¦å¨å¯¹åºçè°ç¨ä½ç½®è¿è¡åæ å¯¼å¥ï¼å æ­¤å¿é¡»ä¿éä»åºä¸­å·æå½åå¼åçåè½ï¼æä»¥æ¯æ¬¡åå§ä»£ç ä¿®æ¹åï¼éè¦éæ°ç¼è¯å¹¶å®è£å°ä»åºä¸­ãä¸ºé²æ­¢é®é¢åºç°ï¼å»ºè®®æ¯æ¬¡å®è£ä¹ååcleanç¶åinstallï¼ä¿éèµæºè¿è¡äºæ´æ°ãåè®°åè®°ï¼ï¼\n\nå½åææ\n\næ¯æ¬¡è°ç¨åé¡µæä½åï¼å¯ä»¥å¨æ§å¶å°è¾åºå½åè®¿é®çipå°åï¼æ­¤åè½å¯ä»¥å¨countæä½ä¸­æ·»å æ¥å¿æèè¾åºè¯­å¥è¿è¡æµè¯ã\n\n\n# yl-2-3.å®æ¶ä»»å¡æ¥è¡¨å¼å\n\nå½åå·²ç»å®ç°äºå¨ä¸å¡åè½ç±»ä¸­è®°å½è®¿é®æ°æ®ï¼ä½æ¯è¿æ²¡æè¾åºçæ§çä¿¡æ¯å°æ§å¶å°ãç±äºçæ§ä¿¡æ¯éè¦æ¯10ç§è¾åº1æ¬¡ï¼å æ­¤éè¦ä½¿ç¨å®æ¶å¨åè½ãå¯ä»¥éåç¬¬ä¸æ¹ææ¯quartzå®ç°ï¼ä¹å¯ä»¥éæ©springåç½®çtaskæ¥å®ææ­¤åè½ï¼æ­¤å¤éç¨springçtaskä½ä¸ºå®ç°æ¹æ¡ã\n\næ­¥éª¤ä¸ï¼å¼å¯å®æ¶ä»»å¡åè½\n\nå®æ¶ä»»å¡åè½å¼å¯éè¦å¨å½ååè½çæ»éç½®ä¸­è®¾ç½®ï¼ç»åç°æä¸å¡è®¾å®ï¼æ¯è¾åççä½ç½®æ¯è®¾ç½®å¨èªå¨éç½®ç±»ä¸ãå è½½èªå¨éç½®ç±»å³å¯ç¨å®æ¶ä»»å¡åè½ã\n\n@enablescheduling\npublic class ipautoconfiguration {\n    @bean\n    public ipcountservice ipcountservice(){\n        return new ipcountservice();\n    }\n}\n\n\næ­¥éª¤äºï¼å¶ä½æ¾ç¤ºç»è®¡æ°æ®åè½\n\nå®ä¹æ¾ç¤ºç»è®¡åè½çæä½print()ï¼å¹¶è®¾ç½®å®æ¶ä»»å¡ï¼å½åè®¾ç½®æ¯5ç§è¿è¡ä¸æ¬¡ç»è®¡æ°æ®ã\n\npublic class ipcountservice {\n    private map<string,integer> ipcountmap = new hashmap<string,integer>();\n    @scheduled(cron = "0/5 * * * * ?")\n    public void print(){\n        system.out.println("         ipè®¿é®çæ§");\n        system.out.println("+-----ip-address-----+--num--+");\n        for (map.entry<string, integer> entry : ipcountmap.entryset()) {\n            string key = entry.getkey();\n            integer value = entry.getvalue();\n            system.out.println(string.format("|%18s  |%5d  |",key,value));\n        }\n        system.out.println("+--------------------+-------+");\n      }\n}\n\n\nå¶ä¸­å³äºç»è®¡æ¥è¡¨çæ¾ç¤ºä¿¡æ¯æ¼æ¥å¯ä»¥ä½¿ç¨åç§å½¢å¼è¿è¡ï¼æ­¤å¤ä½¿ç¨stringç±»ä¸­çæ ¼å¼åå­ç¬¦ä¸²æä½è¿è¡ï¼å­¦ä¹ èå¯ä»¥æ ¹æ®èªå·±çåå¥½è°æ´å®ç°æ¹æ¡ã\n\næ¸©é¦¨æç¤º\n\næ¯æ¬¡è¿è¡ææä¹ååcleanç¶åinstallï¼åè®°åè®°ï¼ï¼\n\nå½åææ\n\næ¯æ¬¡è°ç¨åé¡µæä½åï¼å¯ä»¥å¨æ§å¶å°çå°ç»è®¡æ°æ®ï¼å°æ­¤åºç¡åè½å·²ç»å¼åå®æ¯ã\n\n\n# yl-2-4.ä½¿ç¨å±æ§éç½®è®¾ç½®åè½åæ°\n\nç±äºå½åæ¥è¡¨æ¾ç¤ºçä¿¡æ¯æ ¼å¼åºå®ï¼ä¸ºæé«æ¥è¡¨ä¿¡æ¯æ¾ç¤ºççµæ´»æ§ï¼éè¦éè¿ymlæä»¶è®¾ç½®åæ°ï¼æ§å¶æ¥è¡¨çæ¾ç¤ºæ ¼å¼ã\n\næ­¥éª¤ä¸ï¼å®ä¹åæ°æ ¼å¼\n\nè®¾ç½®3ä¸ªå±æ§ï¼åå«ç¨æ¥æ§å¶æ¾ç¤ºå¨æï¼cycleï¼ï¼é¶æ®µæ°æ®æ¯å¦æ¸ç©ºï¼cycleresetï¼ï¼æ°æ®æ¾ç¤ºæ ¼å¼ï¼modelï¼\n\ntools:\n  ip:\n    cycle: 10\n    cyclereset: false\n    model: "detail"\n\n\næ­¥éª¤äºï¼å®ä¹å°è£åæ°çå±æ§ç±»ï¼è¯»åéç½®åæ°\n\nä¸ºé²æ­¢é¡¹ç®ç»å®ä¹çåæ°ç§ç±»è¿å¤ï¼äº§çå²çªï¼éå¸¸è®¾ç½®å±æ§åç¼ä¼è³å°ä½¿ç¨ä¸¤çº§å±æ§ä½ä¸ºåç¼è¿è¡åºåã\n\næ¥å¿è¾åºæ¨¡å¼æ¯å¨è¥å¹²ä¸ªç±»å«éé¡¹ä¸­éæ©æä¸é¡¹ï¼å¯¹äºæ­¤ç§åç±»æ§æ°æ®å»ºè®®å¶ä½æä¸¾å®ä¹åç±»æ°æ®ï¼å½ç¶ä½¿ç¨å­ç¬¦ä¸²ä¹å¯ä»¥ã\n\n@configurationproperties(prefix = "tools.ip")\npublic class ipproperties {\n    /**\n     * æ¥å¿æ¾ç¤ºå¨æ\n     */\n    private long cycle = 5l;\n    /**\n     * æ¯å¦å¨æåéç½®æ°æ®\n     */\n    private boolean cyclereset = false;\n    /**\n     * æ¥å¿è¾åºæ¨¡å¼  detailï¼è¯¦ç»æ¨¡å¼  simpleï¼æç®æ¨¡å¼\n     */\n    private string model = logmodel.detail.value;\n    public enum logmodel{\n        detail("detail"),\n        simple("simple");\n        private string value;\n        logmodel(string value) {\n            this.value = value;\n        }\n        public string getvalue() {\n            return value;\n        }\n    }\n}\n\n\næ­¥éª¤ä¸ï¼å è½½å±æ§ç±»\n\n@enablescheduling\n@enableconfigurationproperties(ipproperties.class)\npublic class ipautoconfiguration {\n    @bean\n    public ipcountservice ipcountservice(){\n        return new ipcountservice();\n    }\n}\n\n\næ­¥éª¤åï¼åºç¨éç½®å±æ§\n\nå¨åºç¨éç½®å±æ§çåè½ç±»ä¸­ï¼ä½¿ç¨èªå¨è£éå è½½å¯¹åºçéç½®beanï¼ç¶åä½¿ç¨éç½®ä¿¡æ¯ååæ¯å¤çã\n\næ³¨æï¼æ¸é¤æ°æ®çåè½ä¸å®è¦å¨è¾åºåè¿è¡ï¼å¦åæ¯æ¬¡æ¥éçæ°æ®åä¸ºç©ºç½æ°æ®ã\n\npublic class ipcountservice {\n    private map<string,integer> ipcountmap = new hashmap<string,integer>();\n    @autowired\n    private ipproperties ipproperties;\n    @scheduled(cron = "0/5 * * * * ?")\n    public void print(){\n        if(ipproperties.getmodel().equals(ipproperties.logmodel.detail.getvalue())){\n            system.out.println("         ipè®¿é®çæ§");\n            system.out.println("+-----ip-address-----+--num--+");\n            for (map.entry<string, integer> entry : ipcountmap.entryset()) {\n                string key = entry.getkey();\n                integer value = entry.getvalue();\n                system.out.println(string.format("|%18s  |%5d  |",key,value));\n            }\n            system.out.println("+--------------------+-------+");\n        }else if(ipproperties.getmodel().equals(ipproperties.logmodel.simple.getvalue())){\n            system.out.println("     ipè®¿é®çæ§");\n            system.out.println("+-----ip-address-----+");\n            for (string key: ipcountmap.keyset()) {\n                system.out.println(string.format("|%18s  |",key));\n            }\n            system.out.println("+--------------------+");\n        }\n        //é¶æ®µåç»è®¡æ°æ®å½é¶\n        if(ipproperties.getcyclereset()){\n            ipcountmap.clear();\n        }\n    }\n}\n\n\næ¸©é¦¨æç¤º\n\næ¯æ¬¡è¿è¡ææä¹ååcleanç¶åinstallï¼åè®°åè®°ï¼ï¼\n\nå½åææ\n\nå¨webç¨åºç«¯å¯ä»¥éè¿æ§å¶ymlæä»¶ä¸­çéç½®åæ°å¯¹ç»è®¡ä¿¡æ¯è¿è¡æ ¼å¼æ§å¶ãä½æ¯æ°æ®æ¾ç¤ºå¨æè¿æªè¿è¡æ§å¶ã\n\n\n# yl-2-5.ä½¿ç¨å±æ§éç½®è®¾ç½®å®æ¶å¨åæ°\n\nå¨ä½¿ç¨å±æ§éç½®ä¸­çæ¾ç¤ºå¨ææ°æ®æ¶ï¼éå°äºä¸äºé®é¢ãç±äºæ æ³å¨@scheduledæ³¨è§£ä¸ç´æ¥ä½¿ç¨éç½®æ°æ®ï¼æ¹ç¨æ²çº¿æå½çæ¹éï¼æ¾å¼ä½¿ç¨@enableconfigurationpropertiesæ³¨è§£å¯¹åºçåè½ï¼æ¹ææåå§çbeanå®ä¹æ ¼å¼ã\n\næ­¥éª¤ä¸ï¼@scheduledæ³¨è§£ä½¿ç¨#{}è¯»åbeanå±æ§å¼\n\næ­¤å¤è¯»åbeanåç§°ä¸ºippropertiesçbeançcycleå±æ§å¼\n\n@scheduled(cron = "0/#{ipproperties.cycle} * * * * ?")\npublic void print(){\n}\n\n\næ­¥éª¤äºï¼å±æ§ç±»å®ä¹beanå¹¶æå®beançè®¿é®åç§°\n\nå¦ææ­¤å¤ä¸è®¾ç½®beançè®¿é®åç§°ï¼springä¼ä½¿ç¨èªå·±çå½åçæå¨çæbeançé¿åç§°ï¼æ æ³å®ç°å±æ§çè¯»å\n\n@component("ipproperties")\n@configurationproperties(prefix = "tools.ip")\npublic class ipproperties {\n}\n\n\næ­¥éª¤ä¸ï¼å¼ç¨@enableconfigurationpropertiesæ³¨è§£å¯¹åºçåè½ï¼æ¹ä¸ºå¯¼å¥beançå½¢å¼å è½½éç½®å±æ§ç±»\n\n@enablescheduling\n//@enableconfigurationproperties(ipproperties.class)\n@import(ipproperties.class)\npublic class ipautoconfiguration {\n    @bean\n    public ipcountservice ipcountservice(){\n        return new ipcountservice();\n    }\n}\n\n\næ¸©é¦¨æç¤º\n\næ¯æ¬¡è¿è¡ææä¹ååcleanç¶åinstallï¼åè®°åè®°ï¼ï¼\n\nå½åææ\n\nå¨webç¨åºç«¯å¯ä»¥éè¿æ§å¶ymlæä»¶ä¸­çéç½®åæ°å¯¹ç»è®¡ä¿¡æ¯çæ¾ç¤ºå¨æè¿è¡æ§å¶\n\n\n# yl-2-6.æ¦æªå¨å¼å\n\nåºç¡åè½åºæ¬ä¸å·²ç»å®æäºå¶ä½ï¼ä¸é¢è¿è¡æ¦æªå¨çå¼åãå¼åæ¶åå¨webå·¥ç¨ä¸­å¶ä½ï¼ç¶åå°ææåè½æªå¥starteræ¨¡åä¸­\n\næ­¥éª¤ä¸ï¼å¼åæ¦æªå¨\n\nä½¿ç¨èªå¨è£éå è½½ç»è®¡åè½çä¸å¡ç±»ï¼å¹¶å¨æ¦æªå¨ä¸­è°ç¨å¯¹åºåè½\n\npublic class ipcountinterceptor implements handlerinterceptor {\n    @autowired\n    private ipcountservice ipcountservice;\n    @override\n    public boolean prehandle(httpservletrequest request, \n                             httpservletresponse response, object handler) throws exception {\n        ipcountservice.count();\n        return true;\n    }\n}\n\n\næ­¥éª¤äºï¼éç½®æ¦æªå¨\n\néç½®mvcæ¦æªå¨ï¼è®¾ç½®æ¦æªå¯¹åºçè¯·æ±è·¯å¾ãæ­¤å¤æ¦æªææè¯·æ±ï¼ç¨æ·å¯ä»¥æ ¹æ®ä½¿ç¨éè¦è®¾ç½®è¦æ¦æªçè¯·æ±ãçè³å¯ä»¥å¨æ­¤å¤å è½½ipcountpropertiesä¸­çå±æ§ï¼éè¿éç½®è®¾ç½®æ¦æªå¨æ¦æªçè¯·æ±ã\n\n@configuration\npublic class springmvcconfig implements webmvcconfigurer {\n    @override\n    public void addinterceptors(interceptorregistry registry) {\n        registry.addinterceptor(ipcountinterceptor()).addpathpatterns("/**");\n    }\n    @bean\n    public ipcountinterceptor ipcountinterceptor(){\n        return new ipcountinterceptor();\n    }\n}\n\n\næ¸©é¦¨æç¤º\n\næ¯æ¬¡è¿è¡ææä¹ååcleanç¶åinstallï¼åè®°åè®°ï¼ï¼\n\nå½åææ\n\nå¨webç¨åºç«¯å¯¼å¥å¯¹åºçstarterååè½å¼å¯ï¼å»æåæ ååè½æ¶å¤±ï¼å®ç°èªå®ä¹starterçææã\n\nå°æ­¤å½åæ¡ä¾å¨é¨å®æï¼èªå®ä¹staterçå¼åå¶å®å¨ç¬¬ä¸è½®å¼åä¸­å°±å·²ç»å®æäºï¼å°±æ¯åå»ºç¬ç«æ¨¡åå¯¼åºç¬ç«åè½ï¼éè¦ä½¿ç¨çä½ç½®å¯¼å¥å¯¹åºçstarterå³å¯ãå¦ææ¯å¨ä¼ä¸ä¸­å¼åï¼è®°å¾ä¸ä»éè¦å°å¼åå®æçstarteræ¨¡åinstallå°èªå·±çæ¬å°ä»åºä¸­ï¼å¼åå®æ¯åè¿è¦deployå°ç§æä¸ï¼å¦åå«äººå°±æ æ³ä½¿ç¨äºã\n\n\n# yl-2-7.åè½æ§å®åââå¼å¯ymlæç¤ºåè½\n\næä»¬å¨ä½¿ç¨springbootçéç½®å±æ§æ¶ï¼é½å¯ä»¥çå°æç¤ºï¼å°¤å¶æ¯å¯¼å¥äºå¯¹åºçstarteråï¼ä¹ä¼æå¯¹åºçæç¤ºä¿¡æ¯åºç°ãä½æ¯ç°å¨æä»¬çstarteræ²¡æå¯¹åºçæç¤ºåè½ï¼è¿ç§è®¾å®å°±éå¸¸çä¸åå¥½ï¼æ¬èè§£å³èªå®ä¹starteråè½å¦ä½å¼å¯éç½®æç¤ºçé®é¢ã\n\nspringbootæä¾æä¸ç¨çå·¥å·å®ç°æ­¤åè½ï¼ä»éè¦å¯¼å¥ä¸ååæ ã\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-configuration-processor</artifactid>\n    <optional>true</optional>\n</dependency>\n\n\nç¨åºç¼è¯åï¼å¨meta-infç®å½ä¸­ä¼çæå¯¹åºçæç¤ºæä»¶ï¼ç¶åæ·è´çæåºçæä»¶å°èªå·±å¼åçmeta-infç®å½ä¸­ï¼å¹¶å¯¹å¶è¿è¡ç¼è¾ãæå¼çæçæä»¶ï¼å¯ä»¥çå°å¦ä¸ä¿¡æ¯ãå¶ä¸­groupså±æ§å®ä¹äºå½åéç½®çæç¤ºä¿¡æ¯æ»ä½æè¿°ï¼å½åéç½®å±äºåªä¸ä¸ªå±æ§å°è£ç±»ï¼propertieså±æ§æè¿°äºå½åéç½®ä¸­æ¯ä¸ä¸ªå±æ§çå·ä½è®¾ç½®ï¼åå«åç§°ãç±»åãæè¿°ãé»è®¤å¼ç­ä¿¡æ¯ãhintså±æ§é»è®¤æ¯ç©ºç½çï¼æ²¡æè¿è¡è®¾ç½®ãhintså±æ§å¯ä»¥åèspringbootæºç ä¸­çå¶ä½ï¼è®¾ç½®å½åå±æ§å°è£ç±»ä¸ç¨çæç¤ºä¿¡æ¯ï¼ä¸ä¾ä¸­ä¸ºæ¥å¿è¾åºæ¨¡å¼å±æ§modelè®¾ç½®äºä¸¤ç§å¯éæç¤ºä¿¡æ¯ã\n\n{\n  "groups": [\n    {\n      "name": "tools.ip",\n      "type": "cn.itcast.properties.ipproperties",\n      "sourcetype": "cn.itcast.properties.ipproperties"\n    }\n  ],\n  "properties": [\n    {\n      "name": "tools.ip.cycle",\n      "type": "java.lang.long",\n      "description": "æ¥å¿æ¾ç¤ºå¨æ",\n      "sourcetype": "cn.itcast.properties.ipproperties",\n      "defaultvalue": 5\n    },\n    {\n      "name": "tools.ip.cycle-reset",\n      "type": "java.lang.boolean",\n      "description": "æ¯å¦å¨æåéç½®æ°æ®",\n      "sourcetype": "cn.itcast.properties.ipproperties",\n      "defaultvalue": false\n    },\n    {\n      "name": "tools.ip.model",\n      "type": "java.lang.string",\n      "description": "æ¥å¿è¾åºæ¨¡å¼  detailï¼è¯¦ç»æ¨¡å¼  simpleï¼æç®æ¨¡å¼",\n      "sourcetype": "cn.itcast.properties.ipproperties"\n    }\n  ],\n  "hints": [\n    {\n      "name": "tools.ip.model",\n      "values": [\n        {\n          "value": "detail",\n          "description": "è¯¦ç»æ¨¡å¼."\n        },\n        {\n          "value": "simple",\n          "description": "æç®æ¨¡å¼."\n        }\n      ]\n    }\n  ]\n}\n\n\næ»ç»\n\n 1. èªå®ä¹starterå¶å®å°±æ¯åä¸ä¸ªç¬ç«çåè½æ¨¡åï¼æ ¸å¿ææ¯æ¯å©ç¨èªå¨éç½®çææå¨å è½½æ¨¡ååå è½½å¯¹åºçåè½\n 2. éå¸¸ä¼ä¸ºèªå®ä¹starterçèªå¨éç½®åè½æ·»å è¶³å¤çæ¡ä»¶æ§å¶ï¼èä¸ä¼åæ100%å è½½å¯¹åè½çææ\n 3. æ¬ä¾ä¸­ä½¿ç¨mapä¿å­æ°æ®ï¼å¦ææ¢ç¨redisæ¹æ¡ï¼å¨starterå¼åæ¨¡åä¸­å°±è¦å¯¼å¥rediså¯¹åºçstarter\n 4. å¯¹äºéç½®å±æ§å¡å¿å¼å¯æç¤ºåè½ï¼å¦åä½¿ç¨èæ æ³æç¥éç½®åºè¯¥å¦ä½ä¹¦å\n\n\n# yl-3.springbootç¨åºå¯å¨æµç¨è§£æ\n\nåçç¯å­¦ä¹ å°è¿éå³å°ç»æï¼æåä¸ç« è¯´ä¸ä¸springbootç¨åºçå¯å¨æµç¨ãå¯¹äºspringbootææ¯æ¥è¯´ï¼å®ç¨äºå éspringç¨åºçå¼åï¼æ ¸å¿æ¬è´¨è¿æ¯springç¨åºçè¿è¡ï¼æä»¥äºå¶è¯´æ¯springbootç¨åºçå¯å¨æµç¨ï¼ä¸å¦è¯´æ¯springbootå¯¹springç¨åºçå¯å¨æµç¨åäºåªäºæ´æ¹ã\n\n\n\nå¶å®ä¸ç®¡æ¯springbootç¨åºè¿æ¯springç¨åºï¼å¯å¨è¿ç¨æ¬è´¨ä¸é½æ¯å¨åå®¹å¨çåå§åï¼å¹¶å°å¯¹åºçbeanåå§ååºæ¥æ¾å¥å®¹å¨ãå¨springç¯å¢ä¸­ï¼æ¯ä¸ªbeançåå§åé½è¦å¼åèèªå·±æ·»å è®¾ç½®ï¼ä½æ¯åæ¢æspringbootç¨åºåï¼èªå¨éç½®åè½çæ·»å å¸®å©å¼åèæåé¢è®¾äºå¾å¤beançåå§åè¿ç¨ï¼å ä¸åç§åæ ·çåæ°è®¾ç½®ï¼ä½¿å¾æ´ä½åå§åè¿ç¨æ¾å¾ç¥å¾®å¤æï¼ä½æ¯æ ¸å¿æ¬è´¨è¿æ¯å¨åä¸ä»¶äºï¼åå§åå®¹å¨ãä½ä¸ºå¼åèåªè¦ææ¸æ¥springbootæä¾äºåªäºåæ°è®¾ç½®çç¯èï¼åæ¶åå§åå®¹å¨çè¿ç¨ä¸­é½åäºåªäºäºæå°±è¡äºã\n\nspringbootåå§åçåæ°æ ¹æ®åæ°çæä¾æ¹ï¼ååæå¦ä¸3ä¸ªå¤§ç±»ï¼æ¯ä¸ªå¤§ç±»çåæ°åè¢«å°è£äºåç§åæ ·çå¯¹è±¡ï¼å·ä½å¦ä¸ï¼\n\n * ç¯å¢å±æ§ï¼environmentï¼\n * ç³»ç»éç½®ï¼spring.factoriesï¼\n * åæ°ï¼argumentsãapplication.propertiesï¼\n\nä»¥ä¸éè¿ä»£ç æµåä»ç»äºspringbootç¨åºå¯å¨æ¶æ¯ä¸ç¯èåçå·ä½äºæã\n\nspringboot30startupapplicationã10ã->springapplication.run(springboot30startupapplication.class, args);\n    springapplicationã1332ã->return run(new class<?>[] { primarysource }, args);\n        springapplicationã1343ã->return new springapplication(primarysources).run(args);\n            springapplicationã1343ã->springapplication(primarysources)\n            # å è½½åç§éç½®ä¿¡æ¯ï¼åå§ååç§éç½®å¯¹è±¡\n                springapplicationã266ã->this(null, primarysources);\n                    springapplicationã280ã->public springapplication(resourceloader resourceloader, class<?>... primarysources)\n                        springapplicationã281ã->this.resourceloader = resourceloader;\n                        # åå§åèµæºå è½½å¨\n                        springapplicationã283ã->this.primarysources = new linkedhashset<>(arrays.aslist(primarysources));\n                        # åå§åéç½®ç±»çç±»åä¿¡æ¯ï¼æ ¼å¼è½¬æ¢ï¼\n                        springapplicationã284ã->this.webapplicationtype = webapplicationtype.deducefromclasspath();\n                        # ç¡®è®¤å½åå®¹å¨å è½½çç±»å\n                        springapplicationã285ã->this.bootstrapregistryinitializers = getbootstrapregistryinitializersfromspringfactories();\n                        # è·åç³»ç»éç½®å¼å¯¼ä¿¡æ¯\n                        springapplicationã286ã->setinitializers((collection) getspringfactoriesinstances(applicationcontextinitializer.class));\n                        # è·åapplicationcontextinitializer.classå¯¹åºçå®ä¾\n                        springapplicationã287ã->setlisteners((collection) getspringfactoriesinstances(applicationlistener.class));\n                        # åå§åçå¬å¨ï¼å¯¹åå§åè¿ç¨åè¿è¡è¿ç¨è¿è¡å¹²é¢\n                        springapplicationã288ã->this.mainapplicationclass = deducemainapplicationclass();\n                        # åå§åäºå¼å¯¼ç±»ç±»åä¿¡æ¯ï¼å¤ç¨\n            springapplicationã1343ã->new springapplication(primarysources).run(args)\n            # åå§åå®¹å¨ï¼å¾å°applicationcontextå¯¹è±¡\n                springapplicationã323ã->stopwatch stopwatch = new stopwatch();\n                # è®¾ç½®è®¡æ¶å¨\n                springapplicationã324ã->stopwatch.start();\n                # è®¡æ¶å¼å§\n                springapplicationã325ã->defaultbootstrapcontext bootstrapcontext = createbootstrapcontext();\n                # ç³»ç»å¼å¯¼ä¿¡æ¯å¯¹åºçä¸ä¸æå¯¹è±¡\n                springapplicationã327ã->configureheadlessproperty();\n                # æ¨¡æè¾å¥è¾åºä¿¡å·ï¼é¿ååºç°å ç¼ºå°å¤è®¾å¯¼è´çä¿¡å·ä¼ è¾å¤±è´¥ï¼è¿èå¼åéè¯¯ï¼æ¨¡ææ¾ç¤ºå¨ï¼é®çï¼é¼ æ ...ï¼\n                    java.awt.headless=true\n                springapplicationã328ã->springapplicationrunlisteners listeners = getrunlisteners(args);\n                # è·åå½åæ³¨åçææçå¬å¨\n                springapplicationã329ã->listeners.starting(bootstrapcontext, this.mainapplicationclass);\n                # çå¬å¨æ§è¡äºå¯¹åºçæä½æ­¥éª¤\n                springapplicationã331ã->applicationarguments applicationarguments = new defaultapplicationarguments(args);\n                # è·ååæ°\n                springapplicationã333ã->configurableenvironment environment = prepareenvironment(listeners, bootstrapcontext, applicationarguments);\n                # å°åæè¯»åçæ°æ®å è½½æäºä¸ä¸ªç¯å¢å¯¹è±¡ï¼ç¨æ¥æè¿°ä¿¡æ¯\n                springapplicationã333ã->configureignorebeaninfo(environment);\n                # åäºä¸ä¸ªéç½®ï¼å¤ç¨\n                springapplicationã334ã->banner printedbanner = printbanner(environment);\n                # åå§ålogo\n                springapplicationã335ã->context = createapplicationcontext();\n                # åå»ºå®¹å¨å¯¹è±¡ï¼æ ¹æ®åæéç½®çå®¹å¨ç±»åè¿è¡å¤å®å¹¶åå»º\n                springapplicationã363ã->context.setapplicationstartup(this.applicationstartup);\n                # è®¾ç½®å¯å¨æ¨¡å¼\n                springapplicationã337ã->preparecontext(bootstrapcontext, context, environment, listeners, applicationarguments, printedbanner);\n                # å¯¹å®¹å¨è¿è¡è®¾ç½®ï¼åæ°æ¥æºäºåæçè®¾å®\n                springapplicationã338ã->refreshcontext(context);\n                # å·æ°å®¹å¨ç¯å¢\n                springapplicationã339ã->afterrefresh(context, applicationarguments);\n                # å·æ°å®æ¯åååå¤ç\n                springapplicationã340ã->stopwatch.stop();\n                # è®¡æ¶ç»æ\n                springapplicationã341ã->if (this.logstartupinfo) {\n                # å¤å®æ¯å¦è®°å½å¯å¨æ¶é´çæ¥å¿\n                springapplicationã342ã->    new startupinfologger(this.mainapplicationclass).logstarted(getapplicationlog(), stopwatch);\n                # åå»ºæ¥å¿å¯¹åºçå¯¹è±¡ï¼è¾åºæ¥å¿ä¿¡æ¯ï¼åå«å¯å¨æ¶é´\n                springapplicationã344ã->listeners.started(context);\n                # çå¬å¨æ§è¡äºå¯¹åºçæä½æ­¥éª¤\n                springapplicationã345ã->callrunners(context, applicationarguments);\n                # è°ç¨è¿è¡å¨\n                springapplicationã353ã->listeners.running(context);\n                # çå¬å¨æ§è¡äºå¯¹åºçæä½æ­¥éª¤\n\n\nä¸è¿°è¿ç¨æè¿°äºspringbootç¨åºå¯å¨è¿ç¨ä¸­åçææçäºæï¼è¿ä¸ªæ¶åå¥½å¥å®å®ä»¬å°±ä¼æåºä¸ä¸ªé®é¢ãå¦ææ³å¹²é¢springbootçå¯å¨è¿ç¨ï¼æ¯å¦èªå®ä¹ä¸ä¸ªæ°æ®åºç¯å¢æ£æµçç¨åºï¼è¯¥å¦ä½å°è¿ä¸ªè¿ç¨å å¥springbootçå¯å¨æµç¨å¢ï¼\n\néå°è¿æ ·çé®é¢ï¼å¤§é¨åææ¯æ¯è¿æ ·è®¾è®¡çï¼è®¾è®¡è¥å¹²ä¸ªæ åæ¥å£ï¼å¯¹åºç¨åºä¸­çæææ åè¿ç¨ãå½ä½ æ³å¹²é¢æä¸ªè¿ç¨æ¶ï¼å®ç°æ¥å£å°±è¡äºãä¾å¦springææ¯ä¸­beanççå½å¨æç®¡çå°±æ¯éç¨æ åæ¥å£è¿è¡çã\n\npublic class abc implements initializingbean, disposablebean {\n    public void destroy() throws exception {\n        //éæ¯æä½\n    }\n    public void afterpropertiesset() throws exception {\n        //åå§åæä½\n    }\n}\n\n\nspringbootå¯å¨è¿ç¨ç±äºå­å¨çå¤§éçè¿ç¨é¶æ®µï¼å¦æè®¾è®¡æ¥å£å°±è¦è®¾è®¡åä½ä¸ªæ åæ¥å£ï¼è¿æ ·å¯¹å¼åèä¸åå¥½ï¼åæ¶æ´ä½è¿ç¨ç®¡çåæ£ï¼åä½ä¸ªè¿ç¨åèªä¸ºæ¿ï¼ç®¡çé¾åº¦å¤§ï¼è¿ç¨è¿äºæ¾æ£ãé£springbootå¦ä½è§£å³è¿ä¸ªé®é¢å¢ï¼å®éç¨äºä¸ç§æåå§çè®¾è®¡æ¨¡å¼æ¥è§£å³è¿ä¸ªé®é¢ï¼è¿å°±æ¯çå¬å¨æ¨¡å¼ï¼ä½¿ç¨çå¬å¨æ¥è§£å³è¿ä¸ªé®é¢ã\n\nspringbootå°èªèº«çå¯å¨è¿ç¨æ¯å»æä¸ä¸ªå¤§çäºä»¶ï¼è¯¥äºä»¶æ¯ç±è¥å¹²ä¸ªå°çäºä»¶ç»æçãä¾å¦ï¼\n\n * org.springframework.boot.context.event.applicationstartingevent\n   * åºç¨å¯å¨äºä»¶ï¼å¨åºç¨è¿è¡ä½æªè¿è¡ä»»ä½å¤çæ¶ï¼å°åé applicationstartingevent\n * org.springframework.boot.context.event.applicationenvironmentpreparedevent\n   * ç¯å¢åå¤äºä»¶ï¼å½environmentè¢«ä½¿ç¨ï¼ä¸ä¸ä¸æåå»ºä¹åï¼å°åé applicationenvironmentpreparedevent\n * org.springframework.boot.context.event.applicationcontextinitializedevent\n   * ä¸ä¸æåå§åäºä»¶\n * org.springframework.boot.context.event.applicationpreparedevent\n   * åºç¨åå¤äºä»¶ï¼å¨å¼å§å·æ°ä¹åï¼beanå®ä¹è¢«å è½½ä¹ååé applicationpreparedevent\n * org.springframework.context.event.contextrefreshedevent\n   * ä¸ä¸æå·æ°äºä»¶\n * org.springframework.boot.context.event.applicationstartedevent\n   * åºç¨å¯å¨å®æäºä»¶ï¼å¨ä¸ä¸æå·æ°ä¹åä¸ææçåºç¨åå½ä»¤è¡è¿è¡å¨è¢«è°ç¨ä¹ååé applicationstartedevent\n * org.springframework.boot.context.event.applicationreadyevent\n   * åºç¨åå¤å°±ç»ªäºä»¶ï¼å¨åºç¨ç¨åºåå½ä»¤è¡è¿è¡å¨è¢«è°ç¨ä¹åï¼å°ååº applicationreadyeventï¼ç¨äºéç¥åºç¨å·²ç»åå¤å¤çè¯·æ±\n * org.springframework.context.event.contextclosedeventï¼ä¸ä¸æå³é­äºä»¶ï¼å¯¹åºå®¹å¨å³é­ï¼\n\nä¸è¿°ååºçä»ä»æ¯é¨åäºä»¶ï¼å½åºç¨å¯å¨åèµ°å°æä¸ä¸ªè¿ç¨ç¹æ¶ï¼çå¬å¨çå¬å°æä¸ªäºä»¶è§¦åï¼å°±ä¼æ§è¡å¯¹åºçäºä»¶ãé¤äºç³»ç»åç½®çäºä»¶å¤çï¼ç¨æ·è¿å¯ä»¥æ ¹æ®éè¦èªå®ä¹å¼åå½åäºä»¶è§¦åæ¶è¦åçå¶ä»å¨ä½ã\n\n//è®¾å®çå¬å¨ï¼å¨åºç¨å¯å¨å¼å§äºä»¶æ¶è¿è¡åè½è¿½å \npublic class mylistener implements applicationlistener<applicationstartingevent> {\n    public void onapplicationevent(applicationstartingevent event) {\n\t\t//èªå®ä¹äºä»¶å¤çé»è¾\n    }\n}\n\n\næç§ä¸è¿°æ¹æ¡å¤çï¼ç¨æ·å°±å¯ä»¥å¹²é¢springbootå¯å¨è¿ç¨çææå·¥ä½èç¹ï¼è®¾ç½®èªå·±çä¸å¡ç³»ç»ä¸­ç¬æçåè½ç¹ã\n\næ»ç»\n\n 1. springbootå¯å¨æµç¨æ¯ååå§åå®¹å¨éè¦çåç§éç½®ï¼å¹¶å è½½æåç§å¯¹è±¡ï¼åå§åå®¹å¨æ¶è¯»åè¿äºå¯¹è±¡ï¼åå»ºå®¹å¨\n 2. æ´ä½æµç¨éç¨äºä»¶çå¬çæºå¶è¿è¡è¿ç¨æ§å¶ï¼å¼åèå¯ä»¥æ ¹æ®éè¦èªè¡æ©å±ï¼æ·»å å¯¹åºççå¬å¨ç»å®å·ä½äºä»¶ï¼å°±å¯ä»¥å¨äºä»¶è§¦åä½ç½®æ§è¡å¼åèçä¸å¡ä»£ç ',charsets:{cjk:!0}},{title:"æ ¸å¿éç½®æä»¶è¯¦è§£",frontmatter:{title:"æ ¸å¿éç½®æä»¶è¯¦è§£",date:"2022-03-05T00:00:00.000Z",permalink:"/mybatis/002/",categories:["æ¡æ¶","MyBatis"],tags:["MyBatis"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/04.MyBatis/02.%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3.html",relativePath:"07.æ¡æ¶/04.MyBatis/02.æ ¸å¿éç½®æä»¶è¯¦è§£.md",key:"v-78cb83ac",path:"/mybatis/002/",headers:[{level:2,title:"åä¸ªå­é¢éç±»åçåæ°",slug:"åä¸ªå­é¢éç±»åçåæ°",normalizedTitle:"åä¸ªå­é¢éç±»åçåæ°",charIndex:4192},{level:2,title:"å¤ä¸ªå­é¢éç±»åçåæ°",slug:"å¤ä¸ªå­é¢éç±»åçåæ°",normalizedTitle:"å¤ä¸ªå­é¢éç±»åçåæ°",charIndex:4637},{level:2,title:"mapéåç±»åçåæ°ï¼ç¬¬äºç§æåµçæ¼åï¼",slug:"mapéåç±»åçåæ°-ç¬¬äºç§æåµçæ¼å",normalizedTitle:"mapéåç±»åçåæ°ï¼ç¬¬äºç§æåµçæ¼åï¼",charIndex:5303},{level:2,title:"å®ä½ç±»ç±»åçåæ°",slug:"å®ä½ç±»ç±»åçåæ°",normalizedTitle:"å®ä½ç±»ç±»åçåæ°",charIndex:5965},{level:2,title:"ä½¿ç¨@Paramæ è¯åæ°",slug:"ä½¿ç¨-paramæ è¯åæ°",normalizedTitle:"ä½¿ç¨@paramæ è¯åæ°",charIndex:6460},{level:2,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:7186}],headersStr:"åä¸ªå­é¢éç±»åçåæ° å¤ä¸ªå­é¢éç±»åçåæ° mapéåç±»åçåæ°ï¼ç¬¬äºç§æåµçæ¼åï¼ å®ä½ç±»ç±»åçåæ° ä½¿ç¨@Paramæ è¯åæ° æ»ç»",content:'# æ ¸å¿éç½®æä»¶è¯¦è§£\n\n> æ ¸å¿éç½®æä»¶ä¸­çæ ç­¾å¿é¡»æç§åºå®çé¡ºåº(æçæ ç­¾å¯ä»¥ä¸åï¼ä½é¡ºåºä¸å®ä¸è½ä¹±)ï¼ propertiesãsettingsãtypeAliasesãtypeHandlersãobjectFactoryãobjectWrapperFactoryãreflectorFactoryãpluginsãenvironmentsãdatabaseIdProviderãmappers\n\n<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE configuration\n        PUBLIC "-//MyBatis.org//DTD Config 3.0//EN"\n        "http://MyBatis.org/dtd/MyBatis-3-config.dtd">\n<configuration>\n    \x3c!--å¼å¥propertiesæä»¶ï¼æ­¤æ¶å°±å¯ä»¥${å±æ§å}çæ¹å¼è®¿é®å±æ§å¼--\x3e\n\t\x3c!-- å±æ§åéå¸¸ä¼è¡¨ç¤ºä¸º"æä»¶å.å±æ§å"é²æ­¢éå --\x3e\n    <properties resource="jdbc.properties"></properties>\n    <settings>\n        \x3c!--å°è¡¨ä¸­å­æ®µçä¸åçº¿èªå¨è½¬æ¢ä¸ºé©¼å³°--\x3e\n        <setting name="mapUnderscoreToCamelCase" value="true"/>\n        \x3c!--å¼å¯å»¶è¿å è½½--\x3e\n        <setting name="lazyLoadingEnabled" value="true"/>\n    </settings>\n    <typeAliases>\n        \x3c!--\n        typeAliasï¼è®¾ç½®æä¸ªå·ä½çç±»åçå«å\n        å±æ§ï¼\n        typeï¼éè¦è®¾ç½®å«åçç±»åçå¨ç±»å\n        aliasï¼è®¾ç½®æ­¤ç±»åçå«åï¼ä¸å«åä¸åºåå¤§å°åã\n\t\tè¥ä¸è®¾ç½®æ­¤å±æ§ï¼è¯¥ç±»åæ¥æé»è®¤çå«åï¼å³ç±»å\n        --\x3e\n        \x3c!--<typeAlias type="com.atguigu.mybatis.bean.User"></typeAlias>--\x3e\n        \x3c!--<typeAlias type="com.atguigu.mybatis.bean.User" alias="user">\n        </typeAlias>--\x3e\n        \x3c!--ä»¥åä¸ºåä½ï¼è®¾ç½®æ¹åä¸ææçç±»åé½æ¥æé»è®¤çå«åï¼å³ç±»åä¸ä¸åºåå¤§å°å--\x3e\n        <package name="com.atguigu.mybatis.bean"/>\n    </typeAliases>\n    \x3c!--\n    environmentsï¼è®¾ç½®å¤ä¸ªè¿æ¥æ°æ®åºçç¯å¢\n    å±æ§ï¼\n\t    defaultï¼è®¾ç½®é»è®¤ä½¿ç¨çç¯å¢çid\n    --\x3e\n    <environments default="mysql_test">\n        \x3c!--\n        environmentï¼è®¾ç½®å·ä½çè¿æ¥æ°æ®åºçç¯å¢ä¿¡æ¯\n        å±æ§ï¼\n\t        idï¼è®¾ç½®ç¯å¢çå¯ä¸æ è¯ï¼å¯éè¿environmentsæ ç­¾ä¸­çdefaultè®¾ç½®æä¸ä¸ªç¯å¢ çidï¼è¡¨ç¤ºé»è®¤ä½¿ç¨çç¯å¢\n        --\x3e\n        <environment id="mysql_test">\n            \x3c!--\n            transactionManagerï¼è®¾ç½®äºå¡ç®¡çæ¹å¼\n            å±æ§ï¼\n\t            typeï¼è®¾ç½®äºå¡ç®¡çæ¹å¼ï¼type="JDBC|MANAGED"\n\t            type="JDBC"ï¼è®¾ç½®å½åç¯å¢çäºå¡ç®¡çé½å¿é¡»æå¨å¤ç\n\t            type="MANAGED"ï¼è®¾ç½®äºå¡è¢«ç®¡çï¼ä¾å¦springä¸­çAOP\n            --\x3e\n            <transactionManager type="JDBC"/>\n            \x3c!--\n            dataSourceï¼è®¾ç½®æ°æ®æº\n            å±æ§ï¼\n\t            typeï¼è®¾ç½®æ°æ®æºçç±»åï¼type="POOLED|UNPOOLED|JNDI"\n\t            type="POOLED"ï¼ä½¿ç¨æ°æ®åºè¿æ¥æ± ï¼å³ä¼å°åå»ºçè¿æ¥è¿è¡ç¼å­ï¼ä¸æ¬¡ä½¿ç¨å¯ä»¥ä»ç¼å­ä¸­ç´æ¥è·åï¼ä¸éè¦éæ°åå»º\n\t            type="UNPOOLED"ï¼ä¸ä½¿ç¨æ°æ®åºè¿æ¥æ± ï¼å³æ¯æ¬¡ä½¿ç¨è¿æ¥é½éè¦éæ°åå»º\n\t            type="JNDI"ï¼è°ç¨ä¸ä¸æä¸­çæ°æ®æº\n            --\x3e\n            <dataSource type="POOLED">\n                \x3c!--è®¾ç½®é©±å¨ç±»çå¨ç±»å--\x3e\n                <property name="driver" value="${jdbc.driver}"/>\n                \x3c!--è®¾ç½®è¿æ¥æ°æ®åºçè¿æ¥å°å--\x3e\n                <property name="url" value="${jdbc.url}"/>\n                \x3c!--è®¾ç½®è¿æ¥æ°æ®åºçç¨æ·å--\x3e\n                <property name="username" value="${jdbc.username}"/>\n                \x3c!--è®¾ç½®è¿æ¥æ°æ®åºçå¯ç --\x3e\n                <property name="password" value="${jdbc.password}"/>\n            </dataSource>\n        </environment>\n    </environments>\n    \x3c!--å¼å¥æ å°æä»¶--\x3e\n    <mappers>\n        \x3c!-- <mapper resource="UserMapper.xml"/> --\x3e\n        \x3c!--\n        ä»¥åä¸ºåä½ï¼å°åä¸ææçæ å°æä»¶å¼å¥æ ¸å¿éç½®æä»¶\n        æ³¨æï¼\n\t\t\t1. æ­¤æ¹å¼å¿é¡»ä¿è¯mapperæ¥å£åmapperæ å°æä»¶å¿é¡»å¨ç¸åçåä¸\n\t\t\t2. mapperæ¥å£è¦åmapperæ å°æä»¶çåå­ä¸è´\n        --\x3e\n        <package name="com.atguigu.mybatis.mapper"/>\n    </mappers>\n</configuration>\n\n\n * \n\n\n# é»è®¤çç±»åå«å\n\n\n\n\n# MyBatisçå¢å æ¹æ¥\n\n 1. æ·»å \n    \n    \x3c!--int insertUser();--\x3e\n    <insert id="insertUser">\n    \tinsert into t_user values(null,\'admin\',\'123456\',23,\'ç·\',\'12345@qq.com\')\n    </insert>\n    \n\n 2. å é¤\n    \n    \x3c!--int deleteUser();--\x3e\n    <delete id="deleteUser">\n        delete from t_user where id = 6\n    </delete>\n    \n\n 3. ä¿®æ¹\n    \n    \x3c!--int updateUser();--\x3e\n    <update id="updateUser">\n        update t_user set username = \'å¼ ä¸\' where id = 5\n    </update>\n    \n\n 4. æ¥è¯¢ä¸ä¸ªå®ä½ç±»å¯¹è±¡\n    \n    \x3c!--User getUserById();--\x3e  \n    <select id="getUserById" resultType="com.atguigu.mybatis.bean.User">  \n    \tselect * from t_user where id = 2  \n    </select>\n    \n\n 5. æ¥è¯¢éå\n    \n    \x3c!--List<User> getUserList();--\x3e\n    <select id="getUserList" resultType="com.atguigu.mybatis.bean.User">\n    \tselect * from t_user\n    </select>\n    \n\n * æ³¨æï¼\n   \n   1. æ¥è¯¢çæ ç­¾selectå¿é¡»è®¾ç½®å±æ§resultTypeæresultMapï¼ç¨äºè®¾ç½®å®ä½ç±»åæ°æ®åºè¡¨çæ å°å³ç³»\n      * resultTypeï¼èªå¨æ å°ï¼ç¨äºå±æ§ååè¡¨ä¸­å­æ®µåä¸è´çæåµ\n      * resultMapï¼èªå®ä¹æ å°ï¼ç¨äºä¸å¯¹å¤æå¤å¯¹ä¸æå­æ®µååå±æ§åä¸ä¸è´çæåµ\n   2. å½æ¥è¯¢çæ°æ®ä¸ºå¤æ¡æ¶ï¼ä¸è½ä½¿ç¨å®ä½ç±»ä½ä¸ºè¿åå¼ï¼åªè½ä½¿ç¨éåï¼å¦åä¼æåºå¼å¸¸TooManyResultsExceptionï¼ä½æ¯è¥æ¥è¯¢çæ°æ®åªæä¸æ¡ï¼å¯ä»¥ä½¿ç¨å®ä½ç±»æéåä½ä¸ºè¿åå¼\n\n\n# MyBatisè·ååæ°å¼çä¸¤ç§æ¹å¼ï¼éç¹ï¼\n\n * MyBatisè·ååæ°å¼çä¸¤ç§æ¹å¼ï¼${}å#{}ï¼è¿ç§æ¹æ³ææ¨èï¼\n * ${}çæ¬è´¨å°±æ¯å­ç¬¦ä¸²æ¼æ¥ï¼#{}çæ¬è´¨å°±æ¯å ä½ç¬¦èµå¼\n * ${}ä½¿ç¨å­ç¬¦ä¸²æ¼æ¥çæ¹å¼æ¼æ¥sqlï¼è¥ä¸ºå­ç¬¦ä¸²ç±»åææ¥æç±»åçå­æ®µè¿è¡èµå¼æ¶ï¼éè¦æå¨å åå¼å·ï¼ä½æ¯#{}ä½¿ç¨å ä½ç¬¦èµå¼çæ¹å¼æ¼æ¥sqlï¼æ­¤æ¶ä¸ºå­ç¬¦ä¸²ç±»åææ¥æç±»åçå­æ®µè¿è¡èµå¼æ¶ï¼å¯ä»¥èªå¨æ·»å åå¼å·\n\n\n# åä¸ªå­é¢éç±»åçåæ°\n\n * è¥mapperæ¥å£ä¸­çæ¹æ³åæ°ä¸ºåä¸ªçå­é¢éç±»åï¼æ­¤æ¶å¯ä»¥ä½¿ç¨${}å#{}ä»¥ä»»æçåç§°ï¼æå¥½è§åè¯æï¼ä½¿ç¨åååæ°ç¸åçï¼è·ååæ°çå¼ï¼æ³¨æ${}éè¦æå¨å åå¼å·ï¼\'$(See YOU!)\'ï¼\n\n\x3c!--User getUserByUsername(String username);--\x3e\n<select id="getUserByUsername" resultType="User">\n\tselect * from t_user where username = #{username}\n</select>\n\n\n\x3c!--User getUserByUsername(String username);--\x3e\n<select id="getUserByUsername" resultType="User">  \n\tselect * from t_user where username = \'${username}\'  \n</select>\n\n\n\n# å¤ä¸ªå­é¢éç±»åçåæ°\n\n * è¥mapperæ¥å£ä¸­çæ¹æ³åæ°ä¸ºå¤ä¸ªæ¶ï¼æ­¤æ¶MyBatisä¼èªå¨å°è¿äºåæ°æ¾å¨ä¸ä¸ªmapéåä¸­\n   \n   1. ä»¥arg0,arg1...ä¸ºé®ï¼ä»¥åæ°ä¸ºå¼ï¼\n   2. ä»¥param1,param2...ä¸ºé®ï¼ä»¥åæ°ä¸ºå¼ï¼\n\n * å æ­¤åªéè¦éè¿${}å#{}è®¿é®mapéåçé®å°±å¯ä»¥è·åç¸å¯¹åºçå¼ï¼æ³¨æ${}éè¦æå¨å åå¼å·ã\n\n * ä½¿ç¨argæèparamé½è¡ï¼è¦æ³¨æçæ¯ï¼argæ¯ä»arg0å¼å§çï¼paramæ¯ä»param1å¼å§ç\n\n * è¿éå¯ä»¥æ··ç¨ï¼arg0åparam1ç¸ç­\n\n\x3c!--User checkLogin(String username,String password);--\x3e\n<select id="checkLogin" resultType="User">  \n\tselect * from t_user where username = #{arg0} and password = #{arg1}  \n</select>\n\n\n\x3c!--User checkLogin(String username,String password);--\x3e\n<select id="checkLogin" resultType="User">\n\tselect * from t_user where username = \'${param1}\' and password = \'${param2}\'\n</select> \x3c!--${}è¦æ³¨æåå¼å·ä¸ºå¯¹è±¡è¿è¡ç ç©¶--\x3e\n\n\n\n# mapéåç±»åçåæ°ï¼ç¬¬äºç§æåµçæ¼åï¼\n\n * è¥mapperæ¥å£ä¸­çæ¹æ³éè¦çåæ°ä¸ºå¤ä¸ªæ¶ï¼æ­¤æ¶å¯ä»¥æå¨åå»ºmapéåï¼å°è¿äºæ°æ®æ¾å¨mapä¸­åªéè¦éè¿${}å#{}è®¿é®mapéåçé®å°±å¯ä»¥è·åç¸å¯¹åºçå¼ï¼æ³¨æ${}éè¦æå¨å åå¼å·\n\n\x3c!--User checkLoginByMap(Map<String,Object> map);--\x3e \n<select id="  checkLoginByMap" resultType="User">\n\tselect * from t_user where username = #{username} and password = #{password}\n</select>\n\n\n@Test\npublic void checkLoginByMap() {\n\tSqlSession sqlSession = SqlSessionUtils.getSqlSession();\n\tParamet erMapper mapper = sqlSession.getMapper(ParameterMapper.class);\n\tMap<String,Object> map = new HashMap<>();\n\tmap.put("usermane","admin");\n\tmap.put("password","123456");\n\tUser user = mapper.checkLoginByMap(map);\n\tSystem.out.println(user);\n}\n\n\n\n# å®ä½ç±»ç±»åçåæ°\n\n * è¥mapperæ¥å£ä¸­çæ¹æ³åæ°ä¸ºå®ä½ç±»å¯¹è±¡æ¶æ­¤æ¶å¯ä»¥ä½¿ç¨${}å#{}ï¼éè¿è®¿é®å®ä½ç±»å¯¹è±¡ä¸­çå±æ§åè·åå±æ§å¼ï¼æ³¨æ${}éè¦æå¨å åå¼å·\n\n\x3c!--int insertUser(User user);--\x3e\n<insert id="insertUser">\n\tinsert into t_user values(null,#{username},#{password},#{age},#{sex},#{email})\n</insert>\n\n\n@Test\npublic void insertUser() {\n\tSqlSession sqlSession = SqlSessionUtils.getSqlSession();\n\tParameterMapper mapper = sqlSession.getMapper(ParameterMapper.class);\n\tUser user = new User(null,"Tom","123456",12,"ç·","123@321.com");\n\tmapper.insertUser(user);\n}\n\n\n\n# ä½¿ç¨@Paramæ è¯åæ°\n\n * å¯ä»¥éè¿@Paramæ³¨è§£æ è¯mapperæ¥å£ä¸­çæ¹æ³åæ°ï¼æ­¤æ¶ï¼ä¼å°è¿äºåæ°æ¾å¨mapéåä¸­\n   \n   1. ä»¥@Paramæ³¨è§£çvalueå±æ§å¼ä¸ºé®ï¼ä»¥åæ°ä¸ºå¼ï¼\n   2. ä»¥param1,param2...ä¸ºé®ï¼ä»¥åæ°ä¸ºå¼ï¼\n\n * åªéè¦éè¿${}å#{}è®¿é®mapéåçé®å°±å¯ä»¥è·åç¸å¯¹åºçå¼ï¼æ³¨æ${}éè¦æå¨å åå¼å·ã\n\nè¿ééè¦å¼ºè°ä¸ä¸ªç¹: @Param("username")ç­ä»·äº@Param(value = "username")\n\n\x3c!--User CheckLoginByParam(@Param("username") String username, @Param("password") String password);--\x3e\n    <select id="CheckLoginByParam" resultType="User">\n        select * from t_user where username = #{username} and password = #{password}\n    </select>\n\n\n@Test\npublic void checkLoginByParam() {\n\tSqlSession sqlSession = SqlSessionUtils.getSqlSession();\n\tParameterMapper mapper = sqlSession.getMapper(ParameterMapper.class);\n\tmapper.CheckLoginByParam("admin","123456");\n}\n\n\n\n# æ»ç»\n\n * å»ºè®®åæä¸¤ç§æåµè¿è¡å¤ç\n   \n   1. å®ä½ç±»ç±»åçåæ°\n   2. ä½¿ç¨@Paramæ è¯åæ°',normalizedContent:'# æ ¸å¿éç½®æä»¶è¯¦è§£\n\n> æ ¸å¿éç½®æä»¶ä¸­çæ ç­¾å¿é¡»æç§åºå®çé¡ºåº(æçæ ç­¾å¯ä»¥ä¸åï¼ä½é¡ºåºä¸å®ä¸è½ä¹±)ï¼ propertiesãsettingsãtypealiasesãtypehandlersãobjectfactoryãobjectwrapperfactoryãreflectorfactoryãpluginsãenvironmentsãdatabaseidproviderãmappers\n\n<?xml version="1.0" encoding="utf-8" ?>\n<!doctype configuration\n        public "-//mybatis.org//dtd config 3.0//en"\n        "http://mybatis.org/dtd/mybatis-3-config.dtd">\n<configuration>\n    \x3c!--å¼å¥propertiesæä»¶ï¼æ­¤æ¶å°±å¯ä»¥${å±æ§å}çæ¹å¼è®¿é®å±æ§å¼--\x3e\n\t\x3c!-- å±æ§åéå¸¸ä¼è¡¨ç¤ºä¸º"æä»¶å.å±æ§å"é²æ­¢éå --\x3e\n    <properties resource="jdbc.properties"></properties>\n    <settings>\n        \x3c!--å°è¡¨ä¸­å­æ®µçä¸åçº¿èªå¨è½¬æ¢ä¸ºé©¼å³°--\x3e\n        <setting name="mapunderscoretocamelcase" value="true"/>\n        \x3c!--å¼å¯å»¶è¿å è½½--\x3e\n        <setting name="lazyloadingenabled" value="true"/>\n    </settings>\n    <typealiases>\n        \x3c!--\n        typealiasï¼è®¾ç½®æä¸ªå·ä½çç±»åçå«å\n        å±æ§ï¼\n        typeï¼éè¦è®¾ç½®å«åçç±»åçå¨ç±»å\n        aliasï¼è®¾ç½®æ­¤ç±»åçå«åï¼ä¸å«åä¸åºåå¤§å°åã\n\t\tè¥ä¸è®¾ç½®æ­¤å±æ§ï¼è¯¥ç±»åæ¥æé»è®¤çå«åï¼å³ç±»å\n        --\x3e\n        \x3c!--<typealias type="com.atguigu.mybatis.bean.user"></typealias>--\x3e\n        \x3c!--<typealias type="com.atguigu.mybatis.bean.user" alias="user">\n        </typealias>--\x3e\n        \x3c!--ä»¥åä¸ºåä½ï¼è®¾ç½®æ¹åä¸ææçç±»åé½æ¥æé»è®¤çå«åï¼å³ç±»åä¸ä¸åºåå¤§å°å--\x3e\n        <package name="com.atguigu.mybatis.bean"/>\n    </typealiases>\n    \x3c!--\n    environmentsï¼è®¾ç½®å¤ä¸ªè¿æ¥æ°æ®åºçç¯å¢\n    å±æ§ï¼\n\t    defaultï¼è®¾ç½®é»è®¤ä½¿ç¨çç¯å¢çid\n    --\x3e\n    <environments default="mysql_test">\n        \x3c!--\n        environmentï¼è®¾ç½®å·ä½çè¿æ¥æ°æ®åºçç¯å¢ä¿¡æ¯\n        å±æ§ï¼\n\t        idï¼è®¾ç½®ç¯å¢çå¯ä¸æ è¯ï¼å¯éè¿environmentsæ ç­¾ä¸­çdefaultè®¾ç½®æä¸ä¸ªç¯å¢ çidï¼è¡¨ç¤ºé»è®¤ä½¿ç¨çç¯å¢\n        --\x3e\n        <environment id="mysql_test">\n            \x3c!--\n            transactionmanagerï¼è®¾ç½®äºå¡ç®¡çæ¹å¼\n            å±æ§ï¼\n\t            typeï¼è®¾ç½®äºå¡ç®¡çæ¹å¼ï¼type="jdbc|managed"\n\t            type="jdbc"ï¼è®¾ç½®å½åç¯å¢çäºå¡ç®¡çé½å¿é¡»æå¨å¤ç\n\t            type="managed"ï¼è®¾ç½®äºå¡è¢«ç®¡çï¼ä¾å¦springä¸­çaop\n            --\x3e\n            <transactionmanager type="jdbc"/>\n            \x3c!--\n            datasourceï¼è®¾ç½®æ°æ®æº\n            å±æ§ï¼\n\t            typeï¼è®¾ç½®æ°æ®æºçç±»åï¼type="pooled|unpooled|jndi"\n\t            type="pooled"ï¼ä½¿ç¨æ°æ®åºè¿æ¥æ± ï¼å³ä¼å°åå»ºçè¿æ¥è¿è¡ç¼å­ï¼ä¸æ¬¡ä½¿ç¨å¯ä»¥ä»ç¼å­ä¸­ç´æ¥è·åï¼ä¸éè¦éæ°åå»º\n\t            type="unpooled"ï¼ä¸ä½¿ç¨æ°æ®åºè¿æ¥æ± ï¼å³æ¯æ¬¡ä½¿ç¨è¿æ¥é½éè¦éæ°åå»º\n\t            type="jndi"ï¼è°ç¨ä¸ä¸æä¸­çæ°æ®æº\n            --\x3e\n            <datasource type="pooled">\n                \x3c!--è®¾ç½®é©±å¨ç±»çå¨ç±»å--\x3e\n                <property name="driver" value="${jdbc.driver}"/>\n                \x3c!--è®¾ç½®è¿æ¥æ°æ®åºçè¿æ¥å°å--\x3e\n                <property name="url" value="${jdbc.url}"/>\n                \x3c!--è®¾ç½®è¿æ¥æ°æ®åºçç¨æ·å--\x3e\n                <property name="username" value="${jdbc.username}"/>\n                \x3c!--è®¾ç½®è¿æ¥æ°æ®åºçå¯ç --\x3e\n                <property name="password" value="${jdbc.password}"/>\n            </datasource>\n        </environment>\n    </environments>\n    \x3c!--å¼å¥æ å°æä»¶--\x3e\n    <mappers>\n        \x3c!-- <mapper resource="usermapper.xml"/> --\x3e\n        \x3c!--\n        ä»¥åä¸ºåä½ï¼å°åä¸ææçæ å°æä»¶å¼å¥æ ¸å¿éç½®æä»¶\n        æ³¨æï¼\n\t\t\t1. æ­¤æ¹å¼å¿é¡»ä¿è¯mapperæ¥å£åmapperæ å°æä»¶å¿é¡»å¨ç¸åçåä¸\n\t\t\t2. mapperæ¥å£è¦åmapperæ å°æä»¶çåå­ä¸è´\n        --\x3e\n        <package name="com.atguigu.mybatis.mapper"/>\n    </mappers>\n</configuration>\n\n\n * \n\n\n# é»è®¤çç±»åå«å\n\n\n\n\n# mybatisçå¢å æ¹æ¥\n\n 1. æ·»å \n    \n    \x3c!--int insertuser();--\x3e\n    <insert id="insertuser">\n    \tinsert into t_user values(null,\'admin\',\'123456\',23,\'ç·\',\'12345@qq.com\')\n    </insert>\n    \n\n 2. å é¤\n    \n    \x3c!--int deleteuser();--\x3e\n    <delete id="deleteuser">\n        delete from t_user where id = 6\n    </delete>\n    \n\n 3. ä¿®æ¹\n    \n    \x3c!--int updateuser();--\x3e\n    <update id="updateuser">\n        update t_user set username = \'å¼ ä¸\' where id = 5\n    </update>\n    \n\n 4. æ¥è¯¢ä¸ä¸ªå®ä½ç±»å¯¹è±¡\n    \n    \x3c!--user getuserbyid();--\x3e  \n    <select id="getuserbyid" resulttype="com.atguigu.mybatis.bean.user">  \n    \tselect * from t_user where id = 2  \n    </select>\n    \n\n 5. æ¥è¯¢éå\n    \n    \x3c!--list<user> getuserlist();--\x3e\n    <select id="getuserlist" resulttype="com.atguigu.mybatis.bean.user">\n    \tselect * from t_user\n    </select>\n    \n\n * æ³¨æï¼\n   \n   1. æ¥è¯¢çæ ç­¾selectå¿é¡»è®¾ç½®å±æ§resulttypeæresultmapï¼ç¨äºè®¾ç½®å®ä½ç±»åæ°æ®åºè¡¨çæ å°å³ç³»\n      * resulttypeï¼èªå¨æ å°ï¼ç¨äºå±æ§ååè¡¨ä¸­å­æ®µåä¸è´çæåµ\n      * resultmapï¼èªå®ä¹æ å°ï¼ç¨äºä¸å¯¹å¤æå¤å¯¹ä¸æå­æ®µååå±æ§åä¸ä¸è´çæåµ\n   2. å½æ¥è¯¢çæ°æ®ä¸ºå¤æ¡æ¶ï¼ä¸è½ä½¿ç¨å®ä½ç±»ä½ä¸ºè¿åå¼ï¼åªè½ä½¿ç¨éåï¼å¦åä¼æåºå¼å¸¸toomanyresultsexceptionï¼ä½æ¯è¥æ¥è¯¢çæ°æ®åªæä¸æ¡ï¼å¯ä»¥ä½¿ç¨å®ä½ç±»æéåä½ä¸ºè¿åå¼\n\n\n# mybatisè·ååæ°å¼çä¸¤ç§æ¹å¼ï¼éç¹ï¼\n\n * mybatisè·ååæ°å¼çä¸¤ç§æ¹å¼ï¼${}å#{}ï¼è¿ç§æ¹æ³ææ¨èï¼\n * ${}çæ¬è´¨å°±æ¯å­ç¬¦ä¸²æ¼æ¥ï¼#{}çæ¬è´¨å°±æ¯å ä½ç¬¦èµå¼\n * ${}ä½¿ç¨å­ç¬¦ä¸²æ¼æ¥çæ¹å¼æ¼æ¥sqlï¼è¥ä¸ºå­ç¬¦ä¸²ç±»åææ¥æç±»åçå­æ®µè¿è¡èµå¼æ¶ï¼éè¦æå¨å åå¼å·ï¼ä½æ¯#{}ä½¿ç¨å ä½ç¬¦èµå¼çæ¹å¼æ¼æ¥sqlï¼æ­¤æ¶ä¸ºå­ç¬¦ä¸²ç±»åææ¥æç±»åçå­æ®µè¿è¡èµå¼æ¶ï¼å¯ä»¥èªå¨æ·»å åå¼å·\n\n\n# åä¸ªå­é¢éç±»åçåæ°\n\n * è¥mapperæ¥å£ä¸­çæ¹æ³åæ°ä¸ºåä¸ªçå­é¢éç±»åï¼æ­¤æ¶å¯ä»¥ä½¿ç¨${}å#{}ä»¥ä»»æçåç§°ï¼æå¥½è§åè¯æï¼ä½¿ç¨åååæ°ç¸åçï¼è·ååæ°çå¼ï¼æ³¨æ${}éè¦æå¨å åå¼å·ï¼\'$(see you!)\'ï¼\n\n\x3c!--user getuserbyusername(string username);--\x3e\n<select id="getuserbyusername" resulttype="user">\n\tselect * from t_user where username = #{username}\n</select>\n\n\n\x3c!--user getuserbyusername(string username);--\x3e\n<select id="getuserbyusername" resulttype="user">  \n\tselect * from t_user where username = \'${username}\'  \n</select>\n\n\n\n# å¤ä¸ªå­é¢éç±»åçåæ°\n\n * è¥mapperæ¥å£ä¸­çæ¹æ³åæ°ä¸ºå¤ä¸ªæ¶ï¼æ­¤æ¶mybatisä¼èªå¨å°è¿äºåæ°æ¾å¨ä¸ä¸ªmapéåä¸­\n   \n   1. ä»¥arg0,arg1...ä¸ºé®ï¼ä»¥åæ°ä¸ºå¼ï¼\n   2. ä»¥param1,param2...ä¸ºé®ï¼ä»¥åæ°ä¸ºå¼ï¼\n\n * å æ­¤åªéè¦éè¿${}å#{}è®¿é®mapéåçé®å°±å¯ä»¥è·åç¸å¯¹åºçå¼ï¼æ³¨æ${}éè¦æå¨å åå¼å·ã\n\n * ä½¿ç¨argæèparamé½è¡ï¼è¦æ³¨æçæ¯ï¼argæ¯ä»arg0å¼å§çï¼paramæ¯ä»param1å¼å§ç\n\n * è¿éå¯ä»¥æ··ç¨ï¼arg0åparam1ç¸ç­\n\n\x3c!--user checklogin(string username,string password);--\x3e\n<select id="checklogin" resulttype="user">  \n\tselect * from t_user where username = #{arg0} and password = #{arg1}  \n</select>\n\n\n\x3c!--user checklogin(string username,string password);--\x3e\n<select id="checklogin" resulttype="user">\n\tselect * from t_user where username = \'${param1}\' and password = \'${param2}\'\n</select> \x3c!--${}è¦æ³¨æåå¼å·ä¸ºå¯¹è±¡è¿è¡ç ç©¶--\x3e\n\n\n\n# mapéåç±»åçåæ°ï¼ç¬¬äºç§æåµçæ¼åï¼\n\n * è¥mapperæ¥å£ä¸­çæ¹æ³éè¦çåæ°ä¸ºå¤ä¸ªæ¶ï¼æ­¤æ¶å¯ä»¥æå¨åå»ºmapéåï¼å°è¿äºæ°æ®æ¾å¨mapä¸­åªéè¦éè¿${}å#{}è®¿é®mapéåçé®å°±å¯ä»¥è·åç¸å¯¹åºçå¼ï¼æ³¨æ${}éè¦æå¨å åå¼å·\n\n\x3c!--user checkloginbymap(map<string,object> map);--\x3e \n<select id="  checkloginbymap" resulttype="user">\n\tselect * from t_user where username = #{username} and password = #{password}\n</select>\n\n\n@test\npublic void checkloginbymap() {\n\tsqlsession sqlsession = sqlsessionutils.getsqlsession();\n\tparamet ermapper mapper = sqlsession.getmapper(parametermapper.class);\n\tmap<string,object> map = new hashmap<>();\n\tmap.put("usermane","admin");\n\tmap.put("password","123456");\n\tuser user = mapper.checkloginbymap(map);\n\tsystem.out.println(user);\n}\n\n\n\n# å®ä½ç±»ç±»åçåæ°\n\n * è¥mapperæ¥å£ä¸­çæ¹æ³åæ°ä¸ºå®ä½ç±»å¯¹è±¡æ¶æ­¤æ¶å¯ä»¥ä½¿ç¨${}å#{}ï¼éè¿è®¿é®å®ä½ç±»å¯¹è±¡ä¸­çå±æ§åè·åå±æ§å¼ï¼æ³¨æ${}éè¦æå¨å åå¼å·\n\n\x3c!--int insertuser(user user);--\x3e\n<insert id="insertuser">\n\tinsert into t_user values(null,#{username},#{password},#{age},#{sex},#{email})\n</insert>\n\n\n@test\npublic void insertuser() {\n\tsqlsession sqlsession = sqlsessionutils.getsqlsession();\n\tparametermapper mapper = sqlsession.getmapper(parametermapper.class);\n\tuser user = new user(null,"tom","123456",12,"ç·","123@321.com");\n\tmapper.insertuser(user);\n}\n\n\n\n# ä½¿ç¨@paramæ è¯åæ°\n\n * å¯ä»¥éè¿@paramæ³¨è§£æ è¯mapperæ¥å£ä¸­çæ¹æ³åæ°ï¼æ­¤æ¶ï¼ä¼å°è¿äºåæ°æ¾å¨mapéåä¸­\n   \n   1. ä»¥@paramæ³¨è§£çvalueå±æ§å¼ä¸ºé®ï¼ä»¥åæ°ä¸ºå¼ï¼\n   2. ä»¥param1,param2...ä¸ºé®ï¼ä»¥åæ°ä¸ºå¼ï¼\n\n * åªéè¦éè¿${}å#{}è®¿é®mapéåçé®å°±å¯ä»¥è·åç¸å¯¹åºçå¼ï¼æ³¨æ${}éè¦æå¨å åå¼å·ã\n\nè¿ééè¦å¼ºè°ä¸ä¸ªç¹: @param("username")ç­ä»·äº@param(value = "username")\n\n\x3c!--user checkloginbyparam(@param("username") string username, @param("password") string password);--\x3e\n    <select id="checkloginbyparam" resulttype="user">\n        select * from t_user where username = #{username} and password = #{password}\n    </select>\n\n\n@test\npublic void checkloginbyparam() {\n\tsqlsession sqlsession = sqlsessionutils.getsqlsession();\n\tparametermapper mapper = sqlsession.getmapper(parametermapper.class);\n\tmapper.checkloginbyparam("admin","123456");\n}\n\n\n\n# æ»ç»\n\n * å»ºè®®åæä¸¤ç§æåµè¿è¡å¤ç\n   \n   1. å®ä½ç±»ç±»åçåæ°\n   2. ä½¿ç¨@paramæ è¯åæ°',charsets:{cjk:!0}},{title:"å¼å",frontmatter:{title:"å¼å",date:"2022-03-26T00:00:00.000Z",permalink:"/springboot/003/",categories:["æ¡æ¶","SpringBoot"],tags:["SpringBoot"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/03.SpringBoot/03.%E5%BC%80%E5%8F%91%E5%AE%9E%E7%94%A8%E7%AF%87.html",relativePath:"07.æ¡æ¶/03.SpringBoot/03.å¼åå®ç¨ç¯.md",key:"v-55ea32ac",path:"/springboot/003/",headers:[{level:2,title:"KF-1.ç­é¨ç½²",slug:"kf-1-ç­é¨ç½²",normalizedTitle:"kf-1.ç­é¨ç½²",charIndex:469},{level:3,title:"KF-1-1.æå¨å¯å¨ç­é¨ç½²",slug:"kf-1-1-æå¨å¯å¨ç­é¨ç½²",normalizedTitle:"kf-1-1.æå¨å¯å¨ç­é¨ç½²",charIndex:1754},{level:3,title:"KF-1-2.èªå¨å¯å¨ç­é¨ç½²",slug:"kf-1-2-èªå¨å¯å¨ç­é¨ç½²",normalizedTitle:"kf-1-2.èªå¨å¯å¨ç­é¨ç½²",charIndex:2738},{level:3,title:"KF-1-3.åä¸ç­é¨ç½²çæ§çæä»¶èå´éç½®",slug:"kf-1-3-åä¸ç­é¨ç½²çæ§çæä»¶èå´éç½®",normalizedTitle:"kf-1-3.åä¸ç­é¨ç½²çæ§çæä»¶èå´éç½®",charIndex:3402},{level:3,title:"KF-1-4.å³é­ç­é¨ç½²",slug:"kf-1-4-å³é­ç­é¨ç½²",normalizedTitle:"kf-1-4.å³é­ç­é¨ç½²",charIndex:3902},{level:2,title:"KF-2.éç½®é«çº§",slug:"kf-2-éç½®é«çº§",normalizedTitle:"kf-2.éç½®é«çº§",charIndex:4473},{level:3,title:"KF-2-1.@ConfigurationProperties",slug:"kf-2-1-configurationproperties",normalizedTitle:"kf-2-1.@configurationproperties",charIndex:4589},{level:3,title:"KF-2-2.å®½æ¾ç»å®/æ¾æ£ç»å®",slug:"kf-2-2-å®½æ¾ç»å®-æ¾æ£ç»å®",normalizedTitle:"kf-2-2.å®½æ¾ç»å®/æ¾æ£ç»å®",charIndex:7279},{level:3,title:"KF-2-3.å¸¸ç¨è®¡éåä½ç»å®",slug:"kf-2-3-å¸¸ç¨è®¡éåä½ç»å®",normalizedTitle:"kf-2-3.å¸¸ç¨è®¡éåä½ç»å®",charIndex:9675},{level:3,title:"KF-2-4.æ ¡éª",slug:"kf-2-4-æ ¡éª",normalizedTitle:"kf-2-4.æ ¡éª",charIndex:10571},{level:3,title:"KF-2-5.æ°æ®ç±»åè½¬æ¢",slug:"kf-2-5-æ°æ®ç±»åè½¬æ¢",normalizedTitle:"kf-2-5.æ°æ®ç±»åè½¬æ¢",charIndex:11742},{level:2,title:"KF-3.æµè¯",slug:"kf-3-æµè¯",normalizedTitle:"kf-3.æµè¯",charIndex:12724},{level:3,title:"KF-3-1.å è½½æµè¯ä¸ç¨å±æ§",slug:"kf-3-1-å è½½æµè¯ä¸ç¨å±æ§",normalizedTitle:"kf-3-1.å è½½æµè¯ä¸ç¨å±æ§",charIndex:12897},{level:3,title:"KF-3-2.å è½½æµè¯ä¸ç¨éç½®",slug:"kf-3-2-å è½½æµè¯ä¸ç¨éç½®",normalizedTitle:"kf-3-2.å è½½æµè¯ä¸ç¨éç½®",charIndex:14591},{level:3,title:"KF-3-3.Webç¯å¢æ¨¡ææµè¯",slug:"kf-3-3-webç¯å¢æ¨¡ææµè¯",normalizedTitle:"kf-3-3.webç¯å¢æ¨¡ææµè¯",charIndex:15601},{level:3,title:"KF-3-4.æ°æ®å±æµè¯åæ»",slug:"kf-3-4-æ°æ®å±æµè¯åæ»",normalizedTitle:"kf-3-4.æ°æ®å±æµè¯åæ»",charIndex:20858},{level:3,title:"KF-3-5.æµè¯ç¨ä¾æ°æ®è®¾å®",slug:"kf-3-5-æµè¯ç¨ä¾æ°æ®è®¾å®",normalizedTitle:"kf-3-5.æµè¯ç¨ä¾æ°æ®è®¾å®",charIndex:22023},{level:2,title:"KF-4.æ°æ®å±è§£å³æ¹æ¡",slug:"kf-4-æ°æ®å±è§£å³æ¹æ¡",normalizedTitle:"kf-4.æ°æ®å±è§£å³æ¹æ¡",charIndex:22909},{level:3,title:"KF-4-1.SQL",slug:"kf-4-1-sql",normalizedTitle:"kf-4-1.sql",charIndex:23173},{level:4,title:"æ°æ®æºææ¯",slug:"æ°æ®æºææ¯",normalizedTitle:"æ°æ®æºææ¯",charIndex:23322},{level:4,title:"æä¹åææ¯",slug:"æä¹åææ¯",normalizedTitle:"æä¹åææ¯",charIndex:23337},{level:4,title:"æ°æ®åºææ¯",slug:"æ°æ®åºææ¯",normalizedTitle:"æ°æ®åºææ¯",charIndex:23358},{level:3,title:"KF-4-2.NoSQL",slug:"kf-4-2-nosql",normalizedTitle:"kf-4-2.nosql",charIndex:29580},{level:4,title:"SpringBootæ´åRedis",slug:"springbootæ´åredis",normalizedTitle:"springbootæ´åredis",charIndex:30071},{level:5,title:"å®è£",slug:"å®è£",normalizedTitle:"å®è£",charIndex:716},{level:5,title:"åºæ¬æä½",slug:"åºæ¬æä½",normalizedTitle:"åºæ¬æä½",charIndex:30418},{level:5,title:"æ´å",slug:"æ´å",normalizedTitle:"æ´å",charIndex:190},{level:4,title:"SpringBootæ´åMongoDB",slug:"springbootæ´åmongodb",normalizedTitle:"springbootæ´åmongodb",charIndex:34746},{level:5,title:"å®è£",slug:"å®è£-2",normalizedTitle:"å®è£",charIndex:716},{level:5,title:"åºæ¬æä½",slug:"åºæ¬æä½-2",normalizedTitle:"åºæ¬æä½",charIndex:30418},{level:5,title:"æ´å",slug:"æ´å-2",normalizedTitle:"æ´å",charIndex:190},{level:4,title:"SpringBootæ´åES",slug:"springbootæ´åes",normalizedTitle:"springbootæ´åes",charIndex:38814},{level:5,title:"å®è£",slug:"å®è£-3",normalizedTitle:"å®è£",charIndex:716},{level:5,title:"åºæ¬æä½",slug:"åºæ¬æä½-3",normalizedTitle:"åºæ¬æä½",charIndex:30418},{level:5,title:"æ´å",slug:"æ´å-3",normalizedTitle:"æ´å",charIndex:190},{level:2,title:"KF-5.æ´åç¬¬ä¸æ¹ææ¯",slug:"kf-5-æ´åç¬¬ä¸æ¹ææ¯",normalizedTitle:"kf-5.æ´åç¬¬ä¸æ¹ææ¯",charIndex:55820},{level:3,title:"KF-5-1.ç¼å­",slug:"kf-5-1-ç¼å­",normalizedTitle:"kf-5-1.ç¼å­",charIndex:56048},{level:4,title:"SpringBootåç½®ç¼å­è§£å³æ¹æ¡",slug:"springbootåç½®ç¼å­è§£å³æ¹æ¡",normalizedTitle:"springbootåç½®ç¼å­è§£å³æ¹æ¡",charIndex:56467},{level:4,title:"ææºéªè¯ç æ¡ä¾",slug:"ææºéªè¯ç æ¡ä¾",normalizedTitle:"ææºéªè¯ç æ¡ä¾",charIndex:57507},{level:4,title:"SpringBootå¸¸ç¨ç¼å­ææ¯",slug:"springbootå¸¸ç¨ç¼å­ææ¯",normalizedTitle:"springbootå¸¸ç¨ç¼å­ææ¯",charIndex:60436},{level:4,title:"SpringBootæ´åEhcacheç¼å­",slug:"springbootæ´åehcacheç¼å­",normalizedTitle:"springbootæ´åehcacheç¼å­",charIndex:60469},{level:4,title:"SpringBootæ´åRedisç¼å­",slug:"springbootæ´åredisç¼å­",normalizedTitle:"springbootæ´åredisç¼å­",charIndex:62810},{level:4,title:"SpringBootæ´åMemcachedç¼å­",slug:"springbootæ´åmemcachedç¼å­",normalizedTitle:"springbootæ´åmemcachedç¼å­",charIndex:63745},{level:4,title:"SpringBootæ´åjetcacheç¼å­",slug:"springbootæ´åjetcacheç¼å­",normalizedTitle:"springbootæ´åjetcacheç¼å­",charIndex:67592},{level:5,title:"çº¯è¿ç¨æ¹æ¡",slug:"çº¯è¿ç¨æ¹æ¡",normalizedTitle:"çº¯è¿ç¨æ¹æ¡",charIndex:68288},{level:5,title:"çº¯æ¬å°æ¹æ¡",slug:"çº¯æ¬å°æ¹æ¡",normalizedTitle:"çº¯æ¬å°æ¹æ¡",charIndex:70786},{level:5,title:"æ¬å°+è¿ç¨æ¹æ¡",slug:"æ¬å°-è¿ç¨æ¹æ¡",normalizedTitle:"æ¬å°+è¿ç¨æ¹æ¡",charIndex:72218},{level:5,title:"è¿ç¨æ¹æ¡çæ°æ®åæ­¥",slug:"è¿ç¨æ¹æ¡çæ°æ®åæ­¥",normalizedTitle:"è¿ç¨æ¹æ¡çæ°æ®åæ­¥",charIndex:75622},{level:5,title:"æ°æ®æ¥è¡¨",slug:"æ°æ®æ¥è¡¨",normalizedTitle:"æ°æ®æ¥è¡¨",charIndex:76181},{level:4,title:"SpringBootæ´åj2cacheç¼å­",slug:"springbootæ´åj2cacheç¼å­",normalizedTitle:"springbootæ´åj2cacheç¼å­",charIndex:77109},{level:3,title:"KF-5-2.ä»»å¡",slug:"kf-5-2-ä»»å¡",normalizedTitle:"kf-5-2.ä»»å¡",charIndex:85690},{level:4,title:"Quartz",slug:"quartz",normalizedTitle:"quartz",charIndex:85877},{level:4,title:"Task",slug:"task",normalizedTitle:"task",charIndex:87797},{level:3,title:"KF-5-3.é®ä»¶",slug:"kf-5-3-é®ä»¶",normalizedTitle:"kf-5-3.é®ä»¶",charIndex:88937},{level:4,title:"åéç®åé®ä»¶",slug:"åéç®åé®ä»¶",normalizedTitle:"åéç®åé®ä»¶",charIndex:89681},{level:4,title:"åéå¤ç»ä»¶é®ä»¶ï¼éä»¶ãå¤ææ­£æï¼",slug:"åéå¤ç»ä»¶é®ä»¶-éä»¶ãå¤ææ­£æ",normalizedTitle:"åéå¤ç»ä»¶é®ä»¶ï¼éä»¶ãå¤ææ­£æï¼",charIndex:90954},{level:3,title:"KF-5-4.æ¶æ¯",slug:"kf-5-4-æ¶æ¯",normalizedTitle:"kf-5-4.æ¶æ¯",charIndex:93098},{level:4,title:"æ¶æ¯çæ¦å¿µ",slug:"æ¶æ¯çæ¦å¿µ",normalizedTitle:"æ¶æ¯çæ¦å¿µ",charIndex:93159},{level:4,title:"Javaå¤çæ¶æ¯çæ åè§è(ä¹å°±æ¯å¨å¤çæ¶æ¯éå)",slug:"javaå¤çæ¶æ¯çæ åè§è-ä¹å°±æ¯å¨å¤çæ¶æ¯éå",normalizedTitle:"javaå¤çæ¶æ¯çæ åè§è(ä¹å°±æ¯å¨å¤çæ¶æ¯éå)",charIndex:94400},{level:5,title:"JMS",slug:"jms",normalizedTitle:"jms",charIndex:94461},{level:5,title:"AMQP",slug:"amqp",normalizedTitle:"amqp",charIndex:94468},{level:5,title:"MQTT",slug:"mqtt",normalizedTitle:"mqtt",charIndex:94476},{level:5,title:"KafKa",slug:"kafka",normalizedTitle:"kafka",charIndex:96518},{level:4,title:"è´­ç©è®¢ååéææºç­ä¿¡æ¡ä¾",slug:"è´­ç©è®¢ååéææºç­ä¿¡æ¡ä¾",normalizedTitle:"è´­ç©è®¢ååéææºç­ä¿¡æ¡ä¾",charIndex:96765},{level:4,title:"SpringBootæ´åActiveMQ",slug:"springbootæ´åactivemq",normalizedTitle:"springbootæ´åactivemq",charIndex:98853},{level:5,title:"å®è£",slug:"å®è£-4",normalizedTitle:"å®è£",charIndex:716},{level:5,title:"æ´å",slug:"æ´å-4",normalizedTitle:"æ´å",charIndex:190},{level:4,title:"SpringBootæ´åRabbitMQ",slug:"springbootæ´årabbitmq",normalizedTitle:"springbootæ´årabbitmq",charIndex:123101},{level:5,title:"å®è£",slug:"å®è£-5",normalizedTitle:"å®è£",charIndex:716},{level:5,title:"æ´å(directæ¨¡å)",slug:"æ´å-directæ¨¡å",normalizedTitle:"æ´å(directæ¨¡å)",charIndex:124284},{level:5,title:"æ´å(topicæ¨¡å)",slug:"æ´å-topicæ¨¡å",normalizedTitle:"æ´å(topicæ¨¡å)",charIndex:126239},{level:4,title:"SpringBootæ´åRocketMQ",slug:"springbootæ´årocketmq",normalizedTitle:"springbootæ´årocketmq",charIndex:128474},{level:5,title:"å®è£",slug:"å®è£-6",normalizedTitle:"å®è£",charIndex:716},{level:5,title:"æ´åï¼å¼æ­¥æ¶æ¯ï¼",slug:"æ´å-å¼æ­¥æ¶æ¯",normalizedTitle:"æ´åï¼å¼æ­¥æ¶æ¯ï¼",charIndex:129474},{level:4,title:"SpringBootæ´åKafka",slug:"springbootæ´åkafka",normalizedTitle:"springbootæ´åkafka",charIndex:131170},{level:5,title:"å®è£",slug:"å®è£-7",normalizedTitle:"å®è£",charIndex:716},{level:5,title:"æ´å",slug:"æ´å-5",normalizedTitle:"æ´å",charIndex:190},{level:2,title:"KF-6.çæ§",slug:"kf-6-çæ§",normalizedTitle:"kf-6.çæ§",charIndex:133565},{level:3,title:"KF-6-1.çæ§çæä¹",slug:"kf-6-1-çæ§çæä¹",normalizedTitle:"kf-6-1.çæ§çæä¹",charIndex:134130},{level:3,title:"KF-6-2.å¯è§åçæ§å¹³å°",slug:"kf-6-2-å¯è§åçæ§å¹³å°",normalizedTitle:"kf-6-2.å¯è§åçæ§å¹³å°",charIndex:135755},{level:3,title:"KF-6-3.çæ§åç",slug:"kf-6-3-çæ§åç",normalizedTitle:"kf-6-3.çæ§åç",charIndex:138887},{level:3,title:"KF-6-4.èªå®ä¹çæ§ææ ",slug:"kf-6-4-èªå®ä¹çæ§ææ ",normalizedTitle:"kf-6-4.èªå®ä¹çæ§ææ ",charIndex:145929},{level:2,title:"å¼åå®ç¨ç¯å®ç»",slug:"å¼åå®ç¨ç¯å®ç»",normalizedTitle:"å¼åå®ç¨ç¯å®ç»",charIndex:148653}],headersStr:"KF-1.ç­é¨ç½² KF-1-1.æå¨å¯å¨ç­é¨ç½² KF-1-2.èªå¨å¯å¨ç­é¨ç½² KF-1-3.åä¸ç­é¨ç½²çæ§çæä»¶èå´éç½® KF-1-4.å³é­ç­é¨ç½² KF-2.éç½®é«çº§ KF-2-1.@ConfigurationProperties KF-2-2.å®½æ¾ç»å®/æ¾æ£ç»å® KF-2-3.å¸¸ç¨è®¡éåä½ç»å® KF-2-4.æ ¡éª KF-2-5.æ°æ®ç±»åè½¬æ¢ KF-3.æµè¯ KF-3-1.å è½½æµè¯ä¸ç¨å±æ§ KF-3-2.å è½½æµè¯ä¸ç¨éç½® KF-3-3.Webç¯å¢æ¨¡ææµè¯ KF-3-4.æ°æ®å±æµè¯åæ» KF-3-5.æµè¯ç¨ä¾æ°æ®è®¾å® KF-4.æ°æ®å±è§£å³æ¹æ¡ KF-4-1.SQL æ°æ®æºææ¯ æä¹åææ¯ æ°æ®åºææ¯ KF-4-2.NoSQL SpringBootæ´åRedis å®è£ åºæ¬æä½ æ´å SpringBootæ´åMongoDB å®è£ åºæ¬æä½ æ´å SpringBootæ´åES å®è£ åºæ¬æä½ æ´å KF-5.æ´åç¬¬ä¸æ¹ææ¯ KF-5-1.ç¼å­ SpringBootåç½®ç¼å­è§£å³æ¹æ¡ ææºéªè¯ç æ¡ä¾ SpringBootå¸¸ç¨ç¼å­ææ¯ SpringBootæ´åEhcacheç¼å­ SpringBootæ´åRedisç¼å­ SpringBootæ´åMemcachedç¼å­ SpringBootæ´åjetcacheç¼å­ çº¯è¿ç¨æ¹æ¡ çº¯æ¬å°æ¹æ¡ æ¬å°+è¿ç¨æ¹æ¡ è¿ç¨æ¹æ¡çæ°æ®åæ­¥ æ°æ®æ¥è¡¨ SpringBootæ´åj2cacheç¼å­ KF-5-2.ä»»å¡ Quartz Task KF-5-3.é®ä»¶ åéç®åé®ä»¶ åéå¤ç»ä»¶é®ä»¶ï¼éä»¶ãå¤ææ­£æï¼ KF-5-4.æ¶æ¯ æ¶æ¯çæ¦å¿µ Javaå¤çæ¶æ¯çæ åè§è(ä¹å°±æ¯å¨å¤çæ¶æ¯éå) JMS AMQP MQTT KafKa è´­ç©è®¢ååéææºç­ä¿¡æ¡ä¾ SpringBootæ´åActiveMQ å®è£ æ´å SpringBootæ´åRabbitMQ å®è£ æ´å(directæ¨¡å) æ´å(topicæ¨¡å) SpringBootæ´åRocketMQ å®è£ æ´åï¼å¼æ­¥æ¶æ¯ï¼ SpringBootæ´åKafka å®è£ æ´å KF-6.çæ§ KF-6-1.çæ§çæä¹ KF-6-2.å¯è§åçæ§å¹³å° KF-6-3.çæ§åç KF-6-4.èªå®ä¹çæ§ææ  å¼åå®ç¨ç¯å®ç»",content:'# SpringBootå¼åå®ç¨ç¯\n\næçå¿å¿çå¿æï¼å¼å§äºå¼åå®ç¨ç¯ææ¡£çç¼åãä¸ºä»ä¹å¿å¿ï¼ç¹åµçåºæ¬ çå¤ªå¤ï¼ä¸ç¥éä»ä½åèµ·ãåï¼ä¸ç½æäºï¼å¼å·¥ã\n\nè¿ç»´å®ç¨ç¯å®ç»ä»¥åï¼å¼åå®ç¨ç¯éç¨æ¥æ´æ°çå½¢å¼åå¸ç»åä½å°ä¼ä¼´ï¼åºæ¬ä¸æ¯æ¯å¤©ä¸éï¼ç®åå·²ç»åå¸å®æ¯ãçè¯è®ºåºï¼å¥½å¤å°ä¼ä¼´å¨æ±ææ¡£ï¼æä»¥èµ¶ç´§æ¥è¡¥ææ¡£ï¼å ç­å ç¹æå¼åå®ç¨ç¯çææ¡£å¨åºæ¥ã\n\nå¼åå®ç¨ç¯ä¸­å ä¸ºçµæ¯å°SpringBootæ´ååç§åæ ·çææ¯ï¼ç±äºä¸æ¯æ¯ä¸ªå°ä¼ä¼´å¯¹åç§ææ¯é½ææææ¡ï¼æä»¥å¨æ´åæ¯ä¸ä¸ªææ¯ä¹åï¼é½ä¼åä¸ä¸ªå¿«éçæ®åï¼è¿æ ·çè¯åå®¹æ´ä¸ªå¼åå®ç¨ç¯æåå«çåå®¹å°±ä¼æ¯è¾å¤ãåä½å°ä¼ä¼´å¨å­¦ä¹ çæ¶åï¼å¦æå¯¹æä¸ä¸ªææ¯ä¸æ¯å¾æ¸æ¥ï¼å¯ä»¥åè·³è¿å¯¹åºç« èï¼æèåè¡¥åä¸ä¸ææ¯ç¥è¯ï¼ç¶ååæ¥çå¯¹åºçè¯¾ç¨ãå¼åå®ç¨ç¯å·ä½åå«çåå®¹å¦ä¸ï¼\n\n * ç­é¨ç½²\n * éç½®é«çº§\n * æµè¯\n * æ°æ®å±è§£å³æ¹æ¡\n * æ´åç¬¬ä¸æ¹ææ¯\n * çæ§\n\nçç®å½æè§åå®¹éå¹¶ä¸æ¯å¾å¤§ï¼ä½æ¯å¨æ°æ®å±è§£å³æ¹æ¡åæ´åç¬¬ä¸æ¹ææ¯ä¸­åå«äºå¤§éçç¥è¯ï¼ä¸ç¹ä¸ç¹æ¢æ¢å­¦å§ãä¸é¢å¼å¯ç¬¬ä¸é¨åç­é¨ç½²ç¸å³ç¥è¯çå­¦ä¹ \n\n\n# KF-1.ç­é¨ç½²\n\nä»ä¹æ¯ç­é¨ç½²ï¼ç®åè¯´å°±æ¯ä½ ç¨åºæ¹äºï¼ç°å¨è¦éæ°å¯å¨æå¡å¨ï¼å«éº»ç¦ï¼ä¸ç¨éå¯ï¼æå¡å¨ä¼èªå·±ææçææ´æ°åçç¨åºç»éæ°å è½½ä¸éï¼è¿å°±æ¯ç­é¨ç½²ã\n\nç­é¨ç½²çåè½æ¯å¦ä½å®ç°çå¢ï¼è¿å°±è¦åä¸¤ç§æåµæ¥è¯´äºï¼éspringbootå·¥ç¨åspringbootå·¥ç¨çç­é¨ç½²å®ç°æ¹å¼å®å¨ä¸ä¸æ ·ãåè¯´ä¸ä¸åå§çéspringbooté¡¹ç®æ¯å¦ä½å®ç°ç­é¨ç½²çã\n\néspringbooté¡¹ç®ç­é¨ç½²å®ç°åç\n\nå¼åéspringbooté¡¹ç®æ¶ï¼æä»¬è¦å¶ä½ä¸ä¸ªwebå·¥ç¨å¹¶éè¿tomcatå¯å¨ï¼éå¸¸éè¦åå®è£tomcatæå¡å¨å°ç£çä¸­ï¼å¼åçç¨åºéç½®åå¸å°å®è£çtomcatæå¡å¨ä¸ãå¦ææ³å®ç°ç­é¨ç½²çææï¼è¿ç§æåµå¶å®æä¸¤ç§åæ³ï¼ä¸ç§æ¯å¨tomcatæå¡å¨çéç½®æä»¶ä¸­è¿è¡éç½®ï¼è¿ç§åæ³ä¸ä½ ä½¿ç¨ä»ä¹IDEå·¥å·æ å³ï¼ä¸ç®¡ä½ ä½¿ç¨eclipseè¿æ¯ideaé½è¡ãè¿æä¸ç§åæ³æ¯éè¿IDEå·¥å·è¿è¡éç½®ï¼æ¯å¦å¨ideaå·¥å·ä¸­è¿è¡è®¾ç½®ï¼è¿ç§å½¢å¼éè¦ä¾èµIDEå·¥å·ï¼æ¯æ¬¾IDEå·¥å·ä¸åï¼å¯¹åºçéç½®ä¹ä¸å¤ªä¸æ ·ãä½æ¯æ ¸å¿ææ³æ¯ä¸æ ·çï¼å°±æ¯ä½¿ç¨æå¡å¨å»çæ§å¶ä¸­å è½½çåºç¨ï¼åç°äº§çäºååå°±éæ°å è½½ä¸æ¬¡ã\n\nä¸é¢æè¯´çéspringbooté¡¹ç®å®ç°ç­é¨ç½²çä¸å»æ¯ä¸ä¸ªéå¸¸ç®åçè¿ç¨ï¼å ä¹æ¯ä¸ªå°ä¼ä¼´é½è½èªå·±ååºæ¥ãå¦æä½ ä¸ä¼åï¼æç»ä½ ä¸ªæç®åçæè·¯ï¼ä½æ¯å®éè®¾è®¡è¦æ¯è¿å¤æä¸äºãä¾å¦å¯å¨ä¸ä¸ªå®æ¶ä»»å¡ï¼ä»»å¡å¯å¨æ¶è®°å½æ¯ä¸ªæä»¶çå¤§å°ï¼ä»¥åæ¯5ç§æ¯å¯¹ä¸ä¸æ¯ä¸ªæä»¶çå¤§å°æ¯å¦ææ¹åï¼æèæ¯å¦ææ°æä»¶ãå¦ææ²¡ææ¹åï¼æ¾è¡ï¼å¦æææ¹åï¼å·æ°å½åè®°å½çæä»¶ä¿¡æ¯ï¼ç¶åéæ°å¯å¨æå¡å¨ï¼è¿å°±å¯ä»¥å®ç°ç­é¨ç½²äºãå½ç¶ï¼è¿ä¸ªè¿ç¨è¯å®ä¸è½è¿ä¹åï¼æ¯å¦ææä¸ä¸ªæå°è¾åºçå­ç¬¦ä¸²"abc"æ¹æ"cba"ï¼æ¯å¯¹å¤§å°æ¯æ²¡æååçï¼ä½æ¯åå®¹ç¼ºå®åäºï¼æä»¥è¿ä¹åè¯å®ä¸è¡ï¼åªæ¯ç»å¤§å®¶æä¸ªæ¯æ¹ï¼èä¸éå¯æå¡å¨è¿å°±æ¯å·å¯å¨äºï¼ä¸è½ç®ç­é¨ç½²ï¼é¢ä¼ç²¾ç¥å§ã\n\nçä¸å»è¿ä¸ªè¿ç¨ä¹æ²¡å¤å¤æï¼å¨springbooté¡¹ç®ä¸­é¾éè¿æå¶ä»çå¼¯å¼¯ç»åï¼è¿çæã\n\nspringbooté¡¹ç®ç­é¨ç½²å®ç°åç\n\nåºäºspringbootå¼åçwebå·¥ç¨å¶å®æä¸ä¸ªæ¾èçç¹å¾ï¼å°±æ¯tomcatæå¡å¨åç½®äºï¼è¿è®°å¾ååµæå¡å¨åï¼æå¡å¨æ¯ä»¥ä¸ä¸ªå¯¹è±¡çå½¢å¼å¨springå®¹å¨ä¸­è¿è¡çãæ¬æ¥æä»¬ææäºtomcatæå¡å¨å è½½ç¨åºåç±tomcatæå¡å¨ç¯çç¨åºï¼ä½ åååæå°±éæ°å¯å¨éæ°å è½½ï¼ä½æ¯ç°å¨tomcatåæä»¬çç¨åºæ¯å¹³çº§çäºï¼é½æ¯springå®¹å¨ä¸­çç»ä»¶ï¼è¿ä¸å°±éº»ç¦äºï¼ç¼ºä¹äºä¸ä¸ªç´æ¥çç®¡çæï¼é£è¯¥æä¹åå¢ï¼ç®åï¼åæä¸ä¸ªç¨åºXå¨springå®¹å¨ä¸­ç¯çä½ åå§å¼åçç¨åºAä¸å°±è¡äºåï¼ç¡®å®ï¼æä¸ä¸ªç¯çç¨åºAçç¨åºXå°±è¡äºï¼å¦æä½ èªå·±å¼åçç¨åºAååäºï¼é£ä¹ç¨åºXå°±å½ä»¤tomcatå®¹å¨éæ°å è½½ç¨åºAå°±OKäºãå¹¶ä¸è¿æ ·åæä¸ä¸ªå¥½å¤ï¼springå®¹å¨ä¸­ä¸è¥¿ä¸ç¨å¨é¨éæ°å è½½ä¸éï¼åªéè¦éæ°å è½½ä½ å¼åçç¨åºé£ä¸é¨åå°±å¯ä»¥äºï¼è¿ä¸æçåé«äºï¼æºå¥½ã\n\nä¸é¢å°±è¯´è¯´ï¼æä¹æåºæ¥è¿ä¹ä¸ä¸ªç¨åºXï¼è¯å®ä¸æ¯æä»¬èªå·±æåäºï¼springbootæ©å°±åå¥½äºï¼æä¸ä¸ªåæ å¯¼å¥è¿å»å°±è¡äºã\n\n\n# KF-1-1.æå¨å¯å¨ç­é¨ç½²\n\næ­¥éª¤â ï¼å¯¼å¥å¼åèå·¥å·å¯¹åºçåæ \n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-devtools</artifactId>\n    <optional>true</optional>\n</dependency>\n\n\næ­¥éª¤â¡ï¼æå»ºé¡¹ç®ï¼å¯ä»¥ä½¿ç¨å¿«æ·é®æ¿æ´»æ­¤åè½\n\n\n\nå¯¹åºçå¿«æ·é®ä¸å®è¦è®°å¾\n\n<CTRL>+<F9>\n\n\nä»¥ä¸è¿ç¨å°±å®ç°äºspringbootå·¥ç¨çç­é¨ç½²ï¼æ¯ä¸æ¯æºç®åçãä¸è¿è¿ééè¦æåºå±çå·¥ä½å·¥ç¨ç»æ®åä¸ä¸ã\n\néå¯ä¸éè½½\n\nä¸ä¸ªspringbooté¡¹ç®å¨è¿è¡æ¶å®éä¸æ¯åä¸¤ä¸ªè¿ç¨è¿è¡çï¼æ ¹æ®å è½½çä¸è¥¿ä¸åï¼ååæbaseç±»å è½½å¨ä¸restartç±»å è½½å¨ã\n\n * baseç±»å è½½å¨ï¼ç¨æ¥å è½½jaråä¸­çç±»ï¼jaråä¸­çç±»åéç½®æä»¶ç±äºä¸ä¼åçååï¼å æ­¤ä¸ç®¡å è½½å¤å°æ¬¡ï¼å è½½çåå®¹ä¸ä¼åçåå\n * restartç±»å è½½å¨ï¼ç¨æ¥å è½½å¼åèèªå·±å¼åçç±»ãéç½®æä»¶ãé¡µé¢ç­ä¿¡æ¯ï¼è¿ä¸ç±»æä»¶åå¼åèå½±å\n\nå½springbooté¡¹ç®å¯å¨æ¶ï¼baseç±»å è½½å¨æ§è¡ï¼å è½½jaråä¸­çä¿¡æ¯åï¼restartç±»å è½½å¨æ§è¡ï¼å è½½å¼åèå¶ä½çåå®¹ãå½æ§è¡æå»ºé¡¹ç®åï¼ç±äºjarä¸­çä¿¡æ¯ä¸ä¼ååï¼å æ­¤baseç±»å è½½å¨æ éåæ¬¡æ§è¡ï¼æä»¥ä»ä»è¿è¡restartç±»å è½½å³å¯ï¼ä¹å°±æ¯å°å¼åèèªå·±å¶ä½çåå®¹éæ°å è½½å°±è¡äºï¼è¿å°±å®æäºä¸æ¬¡ç­é¨ç½²çè¿ç¨ï¼ä¹å¯ä»¥è¯´ç­é¨ç½²çè¿ç¨å®éä¸æ¯éæ°å è½½restartç±»å è½½å¨ä¸­çä¿¡æ¯ã\n\næ»ç»\n\n 1. ä½¿ç¨å¼åèå·¥å·å¯ä»¥ä¸ºå½åé¡¹ç®å¼å¯ç­é¨ç½²åè½\n 2. ä½¿ç¨æå»ºé¡¹ç®æä½å¯¹å·¥ç¨è¿è¡ç­é¨ç½²\n\næè\n\nä¸è¿°è¿ç¨æ¯æ¬¡è¿è¡ç­é¨ç½²é½éè¦å¼åèæå·¥æä½ï¼ä¸ç®¡æ¯ç¹å»æé®è¿æ¯å¿«æ·é®é½éè¦å¼åèæå·¥æ§è¡ãè¿ç§æä½çåºç¨åºæ¯ä¸»è¦æ¯å¨å¼åè°è¯æï¼å¹¶ä¸è°è¯çä»£ç å¤äºä¸åçæä»¶ä¸­ï¼æ¯å¦æå¡å¨å¯å¨äºï¼æéè¦æ¹4ä¸ªæä»¶ä¸­çåå®¹ï¼ç¶åéå¯ï¼ç­4ä¸ªæä»¶é½æ¹å®äºåæ§è¡ç­é¨ç½²ï¼ä½¿ç¨ä¸ä¸ªå¿«æ·é®å°±OKäºãä½æ¯å¦æç°å¨å¼åèè¦ä¿®æ¹çåå®¹å°±åªæä¸ä¸ªæä»¶ä¸­çå°éä»£ç ï¼è¿ä¸ªæ¶åä»£ç ä¿®æ¹å®æ¯å¦æè½å¤è®©ç¨åºèªå·±æ§è¡ç­é¨ç½²åè½ï¼å°±å¯ä»¥åå°å¼åèçæä½ï¼ä¹å°±æ¯èªå¨è¿è¡ç­é¨ç½²ï¼è½è¿ä¹ååï¼æ¯å¯ä»¥çãå±ä»¬ä¸ä¸èåè¯´ã\n\n\n\n\n# KF-1-2.èªå¨å¯å¨ç­é¨ç½²\n\nèªå¨ç­é¨ç½²å¶å®å°±æ¯è®¾è®¡ä¸ä¸ªå¼å³ï¼æå¼è¿ä¸ªå¼å³åï¼IDEå·¥å·å°±å¯ä»¥èªå¨ç­é¨ç½²ãå æ­¤è¿ä¸ªæä½åIDEå·¥å·æå³ï¼ä»¥ä¸ä»¥ideaä¸ºä¾è®¾ç½®ideaä¸­å¯å¨ç­é¨ç½²\n\næ­¥éª¤â ï¼è®¾ç½®èªå¨æå»ºé¡¹ç®\n\næå¼ãFileãï¼éæ©ãsettings...ã,å¨é¢æ¿å·¦ä¾§çèåä¸­æ¾å°ãCompileãéé¡¹ï¼ç¶åå¾éãBuild project automaticallyãï¼æææ¯èªå¨æå»ºé¡¹ç®\n\n\n\nèªå¨æå»ºé¡¹ç®éé¡¹å¾éå\n\næ­¥éª¤â¡ï¼åè®¸å¨ç¨åºè¿è¡æ¶è¿è¡èªå¨æå»º\n\nä½¿ç¨å¿«æ·é®ãCtrlã+ãAltã+ãShitã+ã/ãæå¼ç»´æ¤é¢æ¿ï¼éæ©ç¬¬1é¡¹ãRegistry...ã\n\n\n\nå¨éé¡¹ä¸­æç´¢compleï¼ç¶åå¾éå¯¹åºé¡¹å³å¯\n\nè¿æ ·ç¨åºå¨è¿è¡çæ¶åå°±å¯ä»¥è¿è¡èªå¨æå»ºäºï¼å®ç°äºç­é¨ç½²çææã\n\nå³æ³¨ï¼å¦æä½ æ¯æ²ä¸ä¸ªå­æ¯ï¼æå¡å¨å°±éæ°æå»ºä¸æ¬¡ï¼è¿æªåæç¹å¤ªé¢ç¹äºï¼æä»¥ideaè®¾ç½®å½ideaå·¥å·å¤±å»ç¦ç¹(é¼ æ ç¦»å¼)5ç§åè¿è¡ç­é¨ç½²ãå¶å®å°±æ¯ä½ ä»ideaå·¥å·ä¸­åæ¢å°å¶ä»å·¥å·æ¶è¿è¡ç­é¨ç½²ï¼æ¯å¦æ¹å®ç¨åºéè¦å°æµè§å¨ä¸å»è°è¯ï¼è¿ä¸ªæ¶åideaå°±èªå¨è¿è¡ç­é¨ç½²æä½ã\n\næ»ç»\n\n 1. èªå¨ç­é¨ç½²è¦å¼å¯èªå¨æå»ºé¡¹ç®\n 2. èªå¨ç­é¨ç½²è¦å¼å¯å¨ç¨åºè¿è¡æ¶èªå¨æå»ºé¡¹ç®\n\næè\n\nç°å¨å·²ç»å®ç°äºç­é¨ç½²äºï¼ä½æ¯å°ä¼ä¸å¼åçæ¶åä½ ä¼åç°ï¼ä¸ºäºä¾¿äºç®¡çï¼å¨ä½ çç¨åºç®å½ä¸­é¤äºæä»£ç ï¼è¿æå¯è½æææ¡£ï¼å¦æä½ ä¿®æ¹äºä¸ä¸ææ¡£ï¼è¿ä¸ªæ¶åä¼è¿è¡ç­é¨ç½²åï¼ä¸ç®¡æ¯å¦è¿è¡ç­é¨ç½²ï¼è¿ä¸ªè¿ç¨æä»¬éè¦èªå·±æ§å¶ææ¯è¾åçï¼é£è¿ä¸ªä¸è¥¿è½æ§å¶åï¼å±ä»¬ä¸ä¸èåè¯´ã\n\n\n# KF-1-3.åä¸ç­é¨ç½²çæ§çæä»¶èå´éç½®\n\néè¿ä¿®æ¹é¡¹ç®ä¸­çæä»¶ï¼ä½ å¯ä»¥åç°å¶å®å¹¶ä¸æ¯ææçæä»¶ä¿®æ¹é½ä¼æ¿æ´»ç­é¨ç½²çï¼åå å¨äºå¨å¼åèå·¥å·ä¸­æä¸ç»éç½®ï¼å½æ»¡è¶³äºéç½®ä¸­çæ¡ä»¶åï¼æä¼å¯å¨ç­é¨ç½²ï¼éç½®ä¸­é»è®¤ä¸åä¸ç­é¨ç½²çç®å½ä¿¡æ¯å¦ä¸\n\n * /META-INF/maven\n * /META-INF/resources\n * /resources\n * /static\n * /public\n * /templates\n\nä»¥ä¸ç®å½ä¸­çæä»¶å¦æåçååï¼æ¯ä¸åä¸ç­é¨ç½²çãå¦ææ³ä¿®æ¹éç½®ï¼å¯ä»¥éè¿application.ymlæä»¶è¿è¡è®¾å®åªäºæä»¶ä¸åä¸ç­é¨ç½²æä½\n\nspring:\n  devtools:\n    restart:\n      # è®¾ç½®ä¸åä¸ç­é¨ç½²çæä»¶ææä»¶å¤¹\n      exclude: static/**,public/**,config/application.yml\n\n\næ»ç»\n\n 1. éè¿éç½®å¯ä»¥ä¿®æ¹ä¸åä¸ç­é¨ç½²çæä»¶æç®å½\n\næè\n\nç­é¨ç½²åè½æ¯ä¸ä¸ªå¸åçå¼åé¶æ®µä½¿ç¨çåè½ï¼å°äºçº¿ä¸ç¯å¢è¿è¡ç¨åºæ¶ï¼è¿ä¸ªåè½å°±æ²¡ææä¹äºãè½å¦å³é­ç­é¨ç½²åè½å¢ï¼å±ä»¬ä¸ä¸èåè¯´ã\n\n\n# KF-1-4.å³é­ç­é¨ç½²\n\nçº¿ä¸ç¯å¢è¿è¡æ¶æ¯ä¸å¯è½ä½¿ç¨ç­é¨ç½²åè½çï¼æä»¥éè¦å¼ºå¶å³é­æ­¤åè½ï¼éè¿éç½®å¯ä»¥å³é­æ­¤åè½ã\n\nspring:\n  devtools:\n    restart:\n      enabled: false\n\n\nå¦æå½å¿éç½®æä»¶å±çº§è¿å¤å¯¼è´ç¸ç¬¦è¦çæç»å¼èµ·éç½®å¤±æï¼å¯ä»¥æé«éç½®çå±çº§ï¼å¨æ´é«å±çº§ä¸­éç½®å³é­ç­é¨ç½²ãä¾å¦å¨å¯å¨å®¹å¨åéè¿ç³»ç»å±æ§è®¾ç½®å³é­ç­é¨ç½²åè½ã\n\n@SpringBootApplication\npublic class SSMPApplication {\n    public static void main(String[] args) {\n        System.setProperty("spring.devtools.restart.enabled","false");\n        SpringApplication.run(SSMPApplication.class);\n    }\n}\n\n\nå¶å®ä¸è¿°æå¿ç¥å¾®æç¹å¤ä½ï¼å ä¸ºçº¿ä¸ç¯å¢çç»´æ¤æ¯ä¸å¯è½åºç°ä¿®æ¹ä»£ç çæä½çï¼è¿ä¹åå¯ä¸çä½ç¨æ¯éä½èµæºæ¶èï¼æ¯ç«é£åç¯çä½ é¡¹ç®æ¯ä¸æ¯äº§çååçç¼çåªè¦é­ä¸äºï¼å°±ä¸å·æç­é¨ç½²åè½äºï¼è¿ä¸ªå¼å³çä½ç¨å°±æ¯ç¦ç¨å¯¹åºåè½ã\n\næ»ç»\n\n 1. éè¿éç½®å¯ä»¥å³é­ç­é¨ç½²åè½éä½çº¿ä¸ç¨åºçèµæºæ¶è\n\n\n# KF-2.éç½®é«çº§\n\nè¿å¥å¼åå®ç¨ç¯ç¬¬äºç« åå®¹ï¼éç½®é«çº§ï¼å¶å®éç½®å¨åºç¡ç¯è®²äºä¸é¨åï¼å¨è¿ç»´å®ç¨ç¯è®²äºä¸é¨åï¼è¿éè¿è¦è®²ï¼è®²çä¸è¥¿æä»ä¹åºå«å¢ï¼è·ç¦»å¼åè¿ç¨è¶æ¥è¶æ¥è¿ï¼è§£å³çé®é¢ä¹è¶æ¥è¶é è¿çº¿ä¸ç¯å¢ï¼ä¸é¢å°±å¼å¯æ¬ç« çå­¦ä¹ ã\n\n\n# KF-2-1.@ConfigurationProperties\n\nå¨åºç¡ç¯å­¦ä¹ äº@ConfigurationPropertiesæ³¨è§£ï¼æ­¤æ³¨è§£çä½ç¨æ¯ç¨æ¥ä¸ºbeanç»å®å±æ§çãå¼åèå¯ä»¥å¨ymléç½®æä»¶ä¸­ä»¥å¯¹è±¡çæ ¼å¼æ·»å è¥å¹²å±æ§\n\nservers:\n  ip-address: 192.168.0.1 \n  port: 2345\n  timeout: -1\n\n\nç¶ååå¼åä¸ä¸ªç¨æ¥å°è£æ°æ®çå®ä½ç±»ï¼æ³¨æè¦æä¾å±æ§å¯¹åºçsetteræ¹æ³\n\n@Component\n@Data\npublic class ServerConfig {\n    private String ipAddress;\n    private int port;\n    private long timeout;\n}\n\n\nä½¿ç¨@ConfigurationPropertiesæ³¨è§£å°±å¯ä»¥å°éç½®ä¸­çå±æ§å¼å³èå°å¼åçæ¨¡åç±»ä¸\n\n@Component\n@Data\n@ConfigurationProperties(prefix = "servers")\npublic class ServerConfig {\n    private String ipAddress;\n    private int port;\n    private long timeout;\n}\n\n\nè¿æ ·å è½½å¯¹åºbeançæ¶åå°±å¯ä»¥ç´æ¥å è½½éç½®å±æ§å¼äºãä½æ¯ç®åæä»¬å­¦çé½æ¯ç»èªå®ä¹çbeanä½¿ç¨è¿ç§å½¢å¼å è½½å±æ§å¼ï¼å¦ææ¯ç¬¬ä¸æ¹çbeanå¢ï¼è½ä¸è½ç¨è¿ç§å½¢å¼å è½½å±æ§å¼å¢ï¼ä¸ºä»ä¹ä¼æåºè¿ä¸ªçé®ï¼åå å°±å¨äºå½å@ConfigurationPropertiesæ³¨è§£æ¯åå¨ç±»å®ä¹çä¸æ¹ï¼èç¬¬ä¸æ¹å¼åçbeanæºä»£ç ä¸æ¯ä½ èªå·±ä¹¦åçï¼ä½ ä¹ä¸å¯è½å°æºä»£ç ä¸­å»æ·»å @ConfigurationPropertiesæ³¨è§£ï¼è¿ç§é®é¢è¯¥æä¹è§£å³å¢ï¼ä¸é¢å°±æ¥è¯´è¯´è¿ä¸ªé®é¢ã\n\nä½¿ç¨@ConfigurationPropertiesæ³¨è§£å¶å®å¯ä»¥ä¸ºç¬¬ä¸æ¹beanå è½½å±æ§ï¼æ ¼å¼ç¹æ®ä¸ç¹èå·²ã\n\næ­¥éª¤â ï¼ä½¿ç¨@Beanæ³¨è§£å®ä¹ç¬¬ä¸æ¹bean\n\n@Bean\npublic DruidDataSource datasource(){\n    DruidDataSource ds = new DruidDataSource();\n    return ds;\n}\n\n\næ­¥éª¤â¡ï¼å¨ymlä¸­å®ä¹è¦ç»å®çå±æ§ï¼æ³¨ædatasourceæ­¤æ¶å¨å°å\n\ndriverClassNameç¨äºæå®driverClassNameå±æ§\n\ndatasource:\n  driverClassName: com.mysql.jdbc.Driver\n\n\næ­¥éª¤â¢ï¼ä½¿ç¨@ConfigurationPropertiesæ³¨è§£ä¸ºç¬¬ä¸æ¹beanè¿è¡å±æ§ç»å®ï¼æ³¨æåç¼æ¯å¨å°åçdatasource\n\n@Bean\n@ConfigurationProperties(prefix = "datasource")\npublic DruidDataSource datasource(){\n    DruidDataSource ds = new DruidDataSource();\n    return ds;\n}\n\n\næä½æ¹å¼å®å¨ä¸æ ·ï¼åªä¸è¿@ConfigurationPropertiesæ³¨è§£ä¸ä»è½æ·»å å°ç±»ä¸ï¼è¿å¯ä»¥æ·»å å°æ¹æ³ä¸ï¼æ·»å å°ç±»ä¸æ¯ä¸ºspringå®¹å¨ç®¡ççå½åç±»çå¯¹è±¡ç»å®å±æ§ï¼æ·»å å°æ¹æ³ä¸æ¯ä¸ºspringå®¹å¨ç®¡ççå½åæ¹æ³çè¿åå¼å¯¹è±¡ç»å®å±æ§ï¼å¶å®æ¬è´¨ä¸é½ä¸æ ·ã\n\nåå°è¿å¶å®å°±åºç°äºä¸ä¸ªæ°çé®é¢ï¼ç®åæä»¬å®ä¹beanä¸æ¯éè¿ç±»æ³¨è§£å®ä¹å°±æ¯éè¿@Beanå®ä¹ï¼ä½¿ç¨@ConfigurationPropertiesæ³¨è§£å¯ä»¥ä¸ºbeanè¿è¡å±æ§ç»å®ï¼é£å¨ä¸ä¸ªä¸å¡ç³»ç»ä¸­ï¼åªäºbeanéè¿æ³¨è§£@ConfigurationPropertieså»ç»å®å±æ§äºå¢ï¼å ä¸ºè¿ä¸ªæ³¨è§£ä¸ä»å¯ä»¥åå¨ç±»ä¸ï¼è¿å¯ä»¥åå¨æ¹æ³ä¸ï¼æä»¥æ¾èµ·æ¥å°±æ¯è¾éº»ç¦äºãä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼springç»æä»¬æä¾äºä¸ä¸ªå¨æ°çæ³¨è§£ï¼ä¸é¨æ æ³¨ä½¿ç¨@ConfigurationPropertiesæ³¨è§£ç»å®å±æ§çbeanæ¯åªäºãè¿ä¸ªæ³¨è§£å«å@EnableConfigurationPropertiesãå·ä½å¦ä½ä½¿ç¨å¢ï¼\n\næ­¥éª¤â ï¼å¨éç½®ç±»ä¸å¼å¯@EnableConfigurationPropertiesæ³¨è§£ï¼å¹¶æ æ³¨è¦ä½¿ç¨@ConfigurationPropertiesæ³¨è§£ç»å®å±æ§çç±»\n\n@SpringBootApplication\n@EnableConfigurationProperties(ServerConfig.class)\npublic class Springboot13ConfigurationApplication {\n}\n\n\næ­¥éª¤â¡ï¼å¨å¯¹åºçç±»ä¸ç´æ¥ä½¿ç¨@ConfigurationPropertiesè¿è¡å±æ§ç»å®\n\n@Data\n@ConfigurationProperties(prefix = "servers")\npublic class ServerConfig {\n    private String ipAddress;\n    private int port;\n    private long timeout;\n}\n\n\næäººæè§è¿æ²¡åºå«åï¼æ³¨æè§å¯ï¼ç°å¨ç»å®å±æ§çServerConfigç±»å¹¶æ²¡æå£°æ@Componentæ³¨è§£ãå½ä½¿ç¨@EnableConfigurationPropertiesæ³¨è§£æ¶ï¼springä¼é»è®¤å°å¶æ æ³¨çç±»å®ä¹ä¸ºbeanï¼å æ­¤æ éåæ¬¡å£°æ@Componentæ³¨è§£äºã\n\næååè¯´ä¸ä¸ªå°æå·§ï¼ä½¿ç¨@ConfigurationPropertiesæ³¨è§£æ¶ï¼ä¼åºç°ä¸ä¸ªæç¤ºä¿¡æ¯\n\n\n\nåºç°è¿ä¸ªæç¤ºååªéè¦æ·»å ä¸ä¸ªåæ æ­¤æéå°±æ¶å¤±äº\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-configuration-processor</artifactId>\n</dependency>\n\n\næ»ç»\n\n 1. ä½¿ç¨@ConfigurationPropertieså¯ä»¥ä¸ºä½¿ç¨@Beanå£°æçç¬¬ä¸æ¹beanç»å®å±æ§\n 2. å½ä½¿ç¨@EnableConfigurationPropertieså£°æè¿è¡å±æ§ç»å®çbeanåï¼æ éä½¿ç¨@Componentæ³¨è§£åæ¬¡è¿è¡beanå£°æ\n\n\n# KF-2-2.å®½æ¾ç»å®/æ¾æ£ç»å®\n\nå¨è¿è¡å±æ§ç»å®æ¶ï¼å¯è½ä¼éå°å¦ä¸æåµï¼ä¸ºäºè¿è¡æ åå½åï¼å¼åèä¼å°å±æ§åä¸¥æ ¼æç§é©¼å³°å½åæ³ä¹¦åï¼å¨ymléç½®æä»¶ä¸­å°datasourceä¿®æ¹ä¸ºdataSourceï¼å¦ä¸ï¼\n\ndataSource:\n  driverClassName: com.mysql.jdbc.Driver\n\n\næ­¤æ¶ç¨åºå¯ä»¥æ­£å¸¸è¿è¡ï¼ç¶ååå°ä»£ç ä¸­çåç¼datasourceä¿®æ¹ä¸ºdataSourceï¼å¦ä¸ï¼\n\n@Bean\n@ConfigurationProperties(prefix = "dataSource")\npublic DruidDataSource datasource(){\n    DruidDataSource ds = new DruidDataSource();\n    return ds;\n}\n\n\næ­¤æ¶å°±åçäºç¼è¯éè¯¯ï¼èä¸å¹¶ä¸æ¯ideaå·¥å·å¯¼è´çï¼è¿è¡åä¾ç¶ä¼åºç°é®é¢ï¼éç½®å±æ§ådataSourceæ¯æ æç\n\nConfiguration property name \'dataSource\' is not valid:\n\n    Invalid characters: \'S\'\n    Bean: datasource\n    Reason: Canonical names should be kebab-case (\'-\' separated), lowercase alpha-numeric characters and must start with a letter\n\nAction:\nModify \'dataSource\' so that it conforms to the canonical names requirements.\n\n\nä¸ºä»ä¹ä¼åºç°è¿ç§é®é¢ï¼è¿å°±è¦æ¥è¯´ä¸è¯´springbootè¿è¡å±æ§ç»å®æ¶çä¸ä¸ªéè¦ç¥è¯ç¹äºï¼æå³å±æ§åç§°çå®½æ¾ç»å®ï¼ä¹å¯ä»¥ç§°ä¸ºå®½æ¾ç»å®ã\n\nä»ä¹æ¯å®½æ¾ç»å®ï¼å®éä¸æ¯springbootè¿è¡ç¼ç¨æ¶äººæ§åè®¾è®¡çä¸ç§ä½ç°ï¼å³éç½®æä»¶ä¸­çå½åæ ¼å¼ä¸åéåçå½åæ ¼å¼å¯ä»¥è¿è¡æ ¼å¼ä¸çæå¤§åå¼å®¹ãå¼å®¹å°ä»ä¹ç¨åº¦å¢ï¼å ä¹ä¸»æµçå½åæ ¼å¼é½æ¯æï¼ä¾å¦ï¼\n\nå¨ServerConfigä¸­çipAddresså±æ§å\n\n@Component\n@Data\n@ConfigurationProperties(prefix = "servers")\npublic class ServerConfig {\n    private String ipAddress;\n}\n\n\nå¯ä»¥ä¸ä¸é¢çéç½®å±æ§åè§åå¨å¼å®¹\n\nservers:\n  ipAddress: 192.168.0.2       # é©¼å³°æ¨¡å¼\n  ip_address: 192.168.0.2      # ä¸åçº¿æ¨¡å¼\n  ip-address: 192.168.0.2      # ç¤èä¸²æ¨¡å¼\n  IP_ADDRESS: 192.168.0.2      # å¸¸éæ¨¡å¼\n\n\nä¹å¯ä»¥è¯´ï¼ä»¥ä¸4ç§æ¨¡å¼æç»é½å¯ä»¥å¹éå°ipAddressè¿ä¸ªå±æ§åãä¸ºä»ä¹è¿æ ·å¢ï¼åå å°±æ¯å¨è¿è¡å¹éæ¶ï¼éç½®ä¸­çåç§°è¦å»æä¸­åçº¿åä¸åçº¿åï¼å¿½ç¥å¤§å°åçæåµä¸å»ä¸javaä»£ç ä¸­çå±æ§åè¿è¡å¿½ç¥å¤§å°åçç­å¼å¹éï¼ä»¥ä¸4ç§å½åå»æä¸åçº¿ä¸­åçº¿å¿½ç¥å¤§å°ååé½æ¯ä¸ä¸ªè¯ipaddressï¼javaä»£ç ä¸­çå±æ§åå¿½ç¥å¤§å°ååä¹æ¯ipaddressï¼è¿æ ·å°±å¯ä»¥è¿è¡ç­å¼å¹éäºï¼è¿å°±æ¯ä¸ºä»ä¹è¿4ç§æ ¼å¼é½è½å¹éæåçåå ãä¸è¿springbootå®æ¹æ¨èä½¿ç¨ç¤èä¸²æ¨¡å¼ï¼ä¹å°±æ¯ä¸­åçº¿æ¨¡å¼ã\n\nå°è¿éæä»¬ææ¡äºä¸ä¸ªç¥è¯ç¹ï¼å°±æ¯å½åçè§èé®é¢ãåæ¥çå¼å§åºç°çç¼ç¨éè¯¯ä¿¡æ¯\n\nConfiguration property name \'dataSource\' is not valid:\n\n    Invalid characters: \'S\'\n    Bean: datasource\n    Reason: Canonical names should be kebab-case (\'-\' separated), lowercase alpha-numeric characters and must start with a letter\n\nAction:\nModify \'dataSource\' so that it conforms to the canonical names requirements.\n\n\nå¶ä¸­Reasonæè¿°äºæ¥éçåå ï¼è§èçåç§°åºè¯¥æ¯ç¤èä¸²(kebab)æ¨¡å¼(case)ï¼å³ä½¿ç¨-åéï¼ä½¿ç¨å°åå­æ¯æ°å­ä½ä¸ºæ åå­ç¬¦ï¼ä¸å¿é¡»ä»¥å­æ¯å¼å¤´ï¼ç»å®åç¼åå½åè§èï¼ä»è½ä½¿ç¨çº¯å°åå­å¹ãæ°å­ãä¸åçº¿ä½ä¸ºåæ³å­ç¬¦ï¼åå±æ§åç»å®ä¸ä¸æ ·ï¼è¿æ¯ä¸ºäºé¿åéè¯¯å¹²èå¨é¨å°åå§ï¼ãç¶ååçæä»¬åçåç§°dataSourceï¼å°±ä¸æ»¡è¶³ä¸è¿°è¦æ±ãé¹äºåå¤©ï¼å¨ä¹¦ååç¼æ¶ï¼è¿ä¸ªè¯ä¸æ¯éææ¯æçï¼å¿é¡»ä½¿ç¨ä¸è¿°æ åãç¼ç¨åäºè¿ä¹ä¹ï¼åºæ¬ä¸ç¼ç¨ä¹ æ¯é½å»æäºï¼å°è¿éåè¢«springbootæè²äºï¼æ²¡è¾ï¼è°è®©äººå®¶ä¸è¥¿å¥½ç¨å¢ï¼æç§äººå®¶çè¦æ±åå§ã\n\næåè¯´ä¸å¥ï¼ä»¥ä¸è§åä»éå¯¹springbootä¸­@ConfigurationPropertiesæ³¨è§£è¿è¡å±æ§ç»å®æ¶ææï¼å¯¹@Valueæ³¨è§£è¿è¡å±æ§æ å°æ æ ãæäººå°±è¯´ï¼é£æä¸ç¨ä½ ä¸å°±è¡äºï¼ä¸ç¨ï¼ä½ å°çspringbootçæ¨å¹¿è½åäºï¼å°åçç¯æä»¬çæºç æ¶ï¼ä½ ä¼åç°åé¨å¨æ¯è¿ç©æå¿ï¼ç®äºï¼æ¿äººæç­åäººå´ç­ï¼è®¤æå§ã\n\næ»ç»\n\n 1. @ConfigurationPropertiesç»å®å±æ§æ¶æ¯æå±æ§åå®½æ¾ç»å®ï¼è¿ä¸ªå®½æ¾ä½ç°å¨å±æ§åçå½åè§åä¸\n 2. @Valueæ³¨è§£ä¸æ¯ææ¾æ£ç»å®è§å\n 3. ç»å®åç¼åæ¨èéç¨ç¤èä¸²å½åè§åï¼å³ä½¿ç¨ä¸­åçº¿ååéç¬¦\n\n\n# KF-2-3.å¸¸ç¨è®¡éåä½ç»å®\n\nå¨åé¢çéç½®ä¸­ï¼æä»¬ä¹¦åäºå¦ä¸éç½®å¼ï¼å¶ä¸­ç¬¬ä¸é¡¹è¶æ¶æ¶é´timeoutæè¿°äºæå¡å¨æä½è¶æ¶æ¶é´ï¼å½åå¼æ¯-1è¡¨ç¤ºæ°¸ä¸è¶æ¶ã\n\nservers:\n  ip-address: 192.168.0.1 \n  port: 2345\n  timeout: -1\n\n\nä½æ¯æ¯ä¸ªäººé½è¿ä¸ªå¼ççè§£ä¼äº§çä¸åï¼æ¯å¦çº¿ä¸æå¡å¨å®æä¸æ¬¡ä¸»ä»å¤ä»½ï¼éç½®è¶æ¶æ¶é´240ï¼è¿ä¸ª240å¦æåä½æ¯ç§å°±æ¯è¶æ¶æ¶é´4åéï¼å¦æåä½æ¯åéå°±æ¯è¶æ¶æ¶é´4å°æ¶ãé¢å¯¹ä¸æ¬¡çº¿ä¸æå¡å¨çä¸»ä»å¤ä»½ï¼è®¾ç½®4åéï¼ç®ç´æ¯å¼ç©ç¬ï¼å«è¯´æ·è´è¿ç¨ï¼å¤ä»½ä¹åçåç¼©è¿ç¨4åéä¹æä¸å®ï¼è¿ä¸ªæ¶åé®é¢å°±æ¥äºï¼æä¹è§£å³è¿ä¸ªè¯¯ä¼ï¼\n\né¤äºå å¼ºçº¦å®ä¹å¤ï¼springbootååå©ç¨äºJDK8ä¸­æä¾çå¨æ°çç¨æ¥è¡¨ç¤ºè®¡éåä½çæ°æ°æ®ç±»åï¼ä»æ ¹æ¬ä¸è§£å³è¿ä¸ªé®é¢ãä»¥ä¸æ¨¡åç±»ä¸­æ·»å äºä¸¤ä¸ªJDK8ä¸­æ°å¢çç±»ï¼åå«æ¯DurationåDataSize\n\n@Component\n@Data\n@ConfigurationProperties(prefix = "servers")\npublic class ServerConfig {\n    @DurationUnit(ChronoUnit.HOURS)\n    private Duration serverTimeOut;\n    @DataSizeUnit(DataUnit.MEGABYTES)\n    private DataSize dataSize;\n}\n\n\n\nDurationï¼è¡¨ç¤ºæ¶é´é´éï¼å¯ä»¥éè¿**@DurationUnit**æ³¨è§£æè¿°æ¶é´åä½ï¼ä¾å¦ä¸ä¾ä¸­æè¿°çåä½ä¸ºå°æ¶ï¼ChronoUnit.HOURSï¼\n\nDataSizeï¼è¡¨ç¤ºå­å¨ç©ºé´ï¼å¯ä»¥éè¿**@DataSizeUnit**æ³¨è§£æè¿°å­å¨ç©ºé´åä½ï¼ä¾å¦ä¸ä¾ä¸­æè¿°çåä½ä¸ºMBï¼DataUnit.MEGABYTESï¼\n\nä½¿ç¨ä¸è¿°ä¸¤ä¸ªåä½å°±å¯ä»¥ææé¿åå æ²éä¸åæ­¥æææ¡£ä¸å¥å¨å¯¼è´çä¿¡æ¯ä¸å¯¹ç§°é®é¢ï¼ä»æ ¹æ¬ä¸è§£å³äºé®é¢ï¼é¿åäº§çè¯¯è¯»ã\n\nDruationå¸¸ç¨åä½å¦ä¸ï¼\n\nDataSizeå¸¸ç¨åä½å¦ä¸ï¼\n\n\n# KF-2-4.æ ¡éª\n\nç®åæä»¬å¨è¿è¡å±æ§ç»å®æ¶å¯ä»¥éè¿æ¾æ£ç»å®è§åå¨ä¹¦åæ¶æ¾é£èªæäºï¼ä½æ¯å¨ä¹¦åæ¶ç±äºæ æ³æç¥æ¨¡åç±»ä¸­çæ°æ®ç±»åï¼å°±ä¼åºç°ç±»åä¸å¹éçé®é¢ï¼æ¯å¦ä»£ç ä¸­éè¦intç±»åï¼éç½®ä¸­ç»äºéæ³çæ°å¼ï¼ä¾å¦åä¸ä¸ªâa"ï¼è¿ç§æ°æ®è¯å®æ æ³ææçç»å®ï¼è¿ä¼å¼åéè¯¯ã SpringBootç»åºäºå¼ºå¤§çæ°æ®æ ¡éªåè½ï¼å¯ä»¥ææçé¿åæ­¤ç±»é®é¢çåçãå¨JAVAEEçJSR303è§èä¸­ç»åºäºå·ä½çæ°æ®æ ¡éªæ åï¼å¼åèå¯ä»¥æ ¹æ®èªå·±çéè¦éæ©å¯¹åºçæ ¡éªæ¡æ¶ï¼æ­¤å¤ä½¿ç¨Hibernateæä¾çæ ¡éªæ¡æ¶æ¥ä½ä¸ºå®ç°è¿è¡æ°æ®æ ¡éªãä¹¦ååºç¨æ ¼å¼éå¸¸åºå®ï¼è¯ä¸å¤è¯´ï¼ç´æ¥ä¸æ­¥éª¤\n\næ­¥éª¤â ï¼å¼å¯æ ¡éªæ¡æ¶\n\n\x3c!--1.å¯¼å¥JSR303è§èï¼è¿ä¸ªæ¯æ¥å£è§è--\x3e\n<dependency>\n    <groupId>javax.validation</groupId>\n    <artifactId>validation-api</artifactId>\n</dependency>\n\x3c!--ä½¿ç¨hibernateæ¡æ¶æä¾çæ ¡éªå¨åå®ç°ï¼è¿ä¸é¨åå®ç°ä¸é¢çæ¥å£--\x3e\n<dependency>\n    <groupId>org.hibernate.validator</groupId>\n    <artifactId>hibernate-validator</artifactId>\n</dependency>\n\n\næ­¥éª¤â¡ï¼å¨éè¦å¼å¯æ ¡éªåè½çç±»ä¸ä½¿ç¨æ³¨è§£@Validatedå¼å¯æ ¡éªåè½\n\n@Component\n@Data\n@ConfigurationProperties(prefix = "servers")\n//å¼å¯å¯¹å½åbeançå±æ§æ³¨å¥æ ¡éª\n@Validated\npublic class ServerConfig {\n}\n\n\næ­¥éª¤â¢ï¼å¯¹å·ä½çå­æ®µè®¾ç½®æ ¡éªè§å\n\n@Component\n@Data\n@ConfigurationProperties(prefix = "servers")\n@Validated  //å¼å¯å¯¹å½åbeançå±æ§æ³¨å¥æ ¡éª\npublic class ServerConfig {\n    //è®¾ç½®å·ä½çè§å\n    @Max(value = 8888,message = "æå¤§å¼ä¸è½è¶è¿8888")\n    @Min(value = 202,message = "æå°å¼ä¸è½ä½äº202")\n    private int port;\n}\n\n\néè¿è®¾ç½®æ°æ®æ ¼å¼æ ¡éªï¼å°±å¯ä»¥ææé¿åéæ³æ°æ®å è½½ï¼å¶å®ä½¿ç¨èµ·æ¥è¿æ¯æºè½»æ¾çï¼åºæ¬ä¸å°±æ¯ä¸ä¸ªæ ¼å¼ã\n\næ»ç»\n\n 1. å¼å¯Beanå±æ§æ ¡éªåè½ä¸å±3æ­¥ï¼å¯¼å¥JSR303ä¸Hibernateæ ¡éªæ¡æ¶åæ ãä½¿ç¨@Validatedæ³¨è§£å¯ç¨æ ¡éªåè½ãä½¿ç¨å·ä½æ ¡éªè§åè§èæ°æ®æ ¡éªæ ¼å¼\n\n\n# KF-2-5.æ°æ®ç±»åè½¬æ¢\n\næå³springå±æ§æ³¨å¥çé®é¢å°è¿éåºæ¬ä¸å°±è®²å®äºï¼ä½æ¯æè¿ä¸åå¼åèåæå¨è¯¢äºä¸ä¸ªé®é¢ï¼æè§å¾éè¦ç»åä½å­¦ä¹ èåäº«ä¸ä¸ãå¨å­¦ä¹ é¶æ®µå¶å®æä»¬éå°çé®é¢å¾å¾å¤æåº¦æ¯è¾ä½ï¼åä¸æ§æ¯è¾å¼ºï¼ä½æ¯å°äºçº¿ä¸å¼åæ¶ï¼é½æ¯ç»¼åæ§çé®é¢ï¼èè¿ä¸ªå¼åèéå°çé®é¢å°±æ¯ç±äºbeançå±æ§æ³¨å¥å¼åçç¾é¾ã\n\nåæé®é¢æè¿°ä¸ä¸ï¼è¿ä½å¼åèè¿æ¥æ°æ®åºæ­£å¸¸æä½ï¼ä½æ¯è¿è¡ç¨åºåæ¾ç¤ºçä¿¡æ¯æ¯å¯ç éè¯¯ã\n\njava.sql.SQLException: Access denied for user \'root\'@\'localhost\' (using password: YES)\n\n\nå¶å®çå°è¿ä¸ªæ¥éï¼å ä¹ææçå­¦ä¹ èé½è½åè¾¨åºæ¥ï¼è¿æ¯ç¨æ·ååå¯ç ä¸å¹éï¼å°±å°±æ¯å¯ç è¾å¥éäºï¼ä½æ¯é®é¢å°±å¨äºå¯ç å¹¶æ²¡æè¾å¥éè¯¯ï¼è¿å°±æ¯è¾è®¨åäºãç»çæ¥éä¿¡æ¯æ æ³å¸®å©ä½ ææçåæé®é¢ï¼çè³ä¼ç»ä½ å¸¦å°æ²éãå¦ææ¯åå­¦èï¼ä¼°è®¡è¿ä¼å¿æå°±å´©äºï¼æå¯ç æ²¡éåï¼ä½ æä¹è½è¯´ææéè¯¯å¢ï¼æ¥ççç¨æ·åå¯ç çéç½®æ¯å¦ä½åçï¼\n\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC\n    username: root\n    password: 0127\n\n\nè¿åå¼åèççæ¥æ¯1æ27æ¥ï¼æä»¥å¯ç å°±ä½¿ç¨äº0127ï¼å¶å®é®é¢å°±åºå¨è¿éäºã\n\nä¹åå¨åºç¡ç¯è®²å±æ§æ³¨å¥æ¶ï¼æå°è¿ç±»åç¸å³çç¥è¯ï¼å¨æ´æ°ç¸å³ç¥è¯ä¸­æè¿ä¹ä¸å¥è¯ï¼æ¯æäºè¿å¶ï¼å«è¿å¶ï¼åå­è¿å¶\n\nè¿ä¸ªé®é¢å°±å¤å¨è¿éäºï¼å ä¸º0127å¨å¼åèç¼ä¸­æ¯ä¸ä¸ªå­ç¬¦ä¸²â0127âï¼ä½æ¯å¨springbootçæ¥ï¼è¿å°±æ¯ä¸ä¸ªæ°å­ï¼èä¸æ¯ä¸ä¸ªå«è¿å¶çæ°å­ãå½åå°ä½¿ç¨Stringç±»åæ¥æ¶æ°æ®æ¶ï¼å¦æéç½®æä»¶ä¸­éç½®äºä¸ä¸ªæ´æ°å¼ï¼ä»æ¯åå®è£æ´æ°è¿è¡å¤çï¼è¯»åååè½¬æ¢æå­ç¬¦ä¸²ãå·§äºï¼0127æä¸äºå«è¿å¶çæ ¼å¼ï¼æä»¥æç»ä»¥åè¿å¶æ°å­87çç»æå­å¨äºã\n\nè¿éæä¸¤ä¸ªæ³¨æç¹ï¼ç¬¬ä¸ï¼å­ç¬¦ä¸²æ åä¹¦åå ä¸å¼å·åè£¹ï¼å»æä¹ æ¯ï¼ç¬¬äºï¼éå°0å¼å¤´çæ°æ®å¤æ³¨æå§ã\n\næ»ç»\n\n 1. yamlæä»¶ä¸­å¯¹äºæ°å­çå®ä¹æ¯æè¿å¶ä¹¦åæ ¼å¼ï¼å¦éä½¿ç¨å­ç¬¦ä¸²è¯·ä½¿ç¨å¼å·æç¡®æ æ³¨\n\n\n# KF-3.æµè¯\n\nè¯´å®beanéç½®ç¸å³çåå®¹ï¼ä¸é¢è¦å¯¹åé¢è®²è¿çä¸ä¸ªç¥è¯åå å¼ºäºï¼æµè¯ãæµè¯æ¯ä¿éç¨åºæ­£ç¡®æ§çå¯ä¸å±éï¼å¨ä¼ä¸çº§å¼åä¸­æ´æ¯ä¸å¯ç¼ºå°ï¼ä½æ¯ç±äºæµè¯ä»£ç å¾å¾ä¸äº§çå®éæçï¼æä»¥ä¸äºå°åå¬å¸å¹¶ä¸æ¯å¾å³æ³¨ï¼å¯¼è´ä¸äºå¼åèä»å°åå¬å¸è¿å¥ä¸­å¤§åå¬å¸åï¼å¾å¾è¿ä¸åæ¯è¾ç­æ¿ï¼æä»¥è¿æ¯è¦æ¿åºæ¥æè¿ä¸åç¥è¯å¥½å¥½è¯´è¯´ï¼åä¸åä¸ä¸çå¼åäººåã\n\n\n# KF-3-1.å è½½æµè¯ä¸ç¨å±æ§\n\næµè¯è¿ç¨æ¬èº«å¹¶ä¸æ¯ä¸ä¸ªå¤æçè¿ç¨ï¼ä½æ¯å¾å¤æåµä¸æµè¯æ¶éè¦æ¨¡æä¸äºçº¿ä¸æåµï¼æèæ¨¡æä¸äºç¹æ®æåµãå¦æå½åç¯å¢æç§çº¿ä¸ç¯å¢å·²ç»è®¾å®å¥½äºï¼ä¾å¦æ¯ä¸é¢çéç½®\n\nenv:\n  maxMemory: 32GB\n  minMemory: 16GB\n\n\nä½æ¯ä½ ç°å¨æ³æµè¯å¯¹åºçå¼å®¹æ§ï¼éè¦æµè¯å¦ä¸éç½®\n\nenv:\n  maxMemory: 16GB\n  minMemory: 8GB\n\n\nè¿ä¸ªæ¶åæä»¬è½ä¸è½æ¯æ¬¡æµè¯çæ¶åé½å»ä¿®æ¹æºç application.ymlä¸­çéç½®è¿è¡æµè¯å¢ï¼æ¾ç¶æ¯ä¸è¡çãæ¯æ¬¡æµè¯åæ¹è¿æ¥ï¼æ¯æ¬¡æµè¯åæ¹åå»ï¼è¿å¤ªéº»ç¦äºãäºæ¯æä»¬å°±æ³ï¼éè¦å¨æµè¯ç¯å¢ä¸­åå»ºä¸ç»ä¸´æ¶å±æ§ï¼å»è¦çæä»¬æºç ä¸­è®¾å®çå±æ§ï¼è¿æ ·æµè¯ç¨ä¾å°±ç¸å½äºæ¯ä¸ä¸ªç¬ç«çç¯å¢ï¼è½å¤ç¬ç«æµè¯ï¼è¿æ ·å°±æ¹ä¾¿å¤äºã\n\nä¸´æ¶å±æ§\n\nspringbootå·²ç»ä¸ºæä»¬å¼åèæ©å°±æ³å¥½äºè¿ç§é®é¢è¯¥å¦ä½è§£å³ï¼å¹¶ä¸æä¾äºå¯¹åºçåè½å¥å£ãå¨æµè¯ç¨ä¾ç¨åºä¸­ï¼å¯ä»¥éè¿å¯¹æ³¨è§£@SpringBootTestæ·»å å±æ§æ¥æ¨¡æä¸´æ¶å±æ§ï¼å·ä½å¦ä¸ï¼\n\n//propertieså±æ§å¯ä»¥ä¸ºå½åæµè¯ç¨ä¾æ·»å ä¸´æ¶çå±æ§éç½®\n@SpringBootTest(properties = {"test.prop=testValue1"})\npublic class PropertiesAndArgsTest {\n\n    @Value("${test.prop}")\n    private String msg;\n    \n    @Test\n    void testProperties(){\n        System.out.println(msg);\n    }\n}\n\n\nä½¿ç¨æ³¨è§£@SpringBootTestçpropertieså±æ§å°±å¯ä»¥ä¸ºå½åæµè¯ç¨ä¾æ·»å ä¸´æ¶çå±æ§ï¼è¦çæºç éç½®æä»¶ä¸­å¯¹åºçå±æ§å¼è¿è¡æµè¯ã\n\nä¸´æ¶åæ°\n\né¤äºä¸è¿°è¿ç§æåµï¼å¨åé¢è®²è§£ä½¿ç¨å½ä»¤è¡å¯å¨springbootç¨åºæ¶è®²è¿ï¼éè¿å½ä»¤è¡åæ°ä¹å¯ä»¥è®¾ç½®å±æ§å¼ãèä¸çº¿ä¸å¯å¨ç¨åºæ¶ï¼éå¸¸é½ä¼æ·»å ä¸äºä¸ç¨çéç½®ä¿¡æ¯ãä½ä¸ºè¿ç»´äººåä»ä»¬æä¸æjavaï¼æ´ä¸æè¿äºéç½®çä¿¡æ¯å·ä½æ ¼å¼è¯¥æä¹åï¼é£å¦ææä»¬ä½ä¸ºå¼åèæä¾äºå¯¹åºçä¹¦ååå®¹åï¼è½å¦æåæµè¯ä¸ä¸è¿äºéç½®ä¿¡æ¯æ¯å¦ææå¢ï¼å½æ¶æ¯å¯ä»¥çï¼è¿æ¯éè¿æ³¨è§£@SpringBootTestçå¦ä¸ä¸ªå±æ§æ¥è¿è¡è®¾å®ã\n\n//argså±æ§å¯ä»¥ä¸ºå½åæµè¯ç¨ä¾æ·»å ä¸´æ¶çå½ä»¤è¡åæ°\n@SpringBootTest(args={"--test.prop=testValue2"})\npublic class PropertiesAndArgsTest {\n    \n    @Value("${test.prop}")\n    private String msg;\n    \n    @Test\n    void testProperties(){\n        System.out.println(msg);\n    }\n}\n\n\nä½¿ç¨æ³¨è§£@SpringBootTestçargså±æ§å°±å¯ä»¥ä¸ºå½åæµè¯ç¨ä¾æ¨¡æå½ä»¤è¡åæ°å¹¶è¿è¡æµè¯ã\n\nè¯´å°è¿éï¼å¥½å¥å®å®ä»¬è¯å®å°±ææ°é®é¢äºï¼å¦æä¸¤èå±å­å¢ï¼å¶å®å¦ææèä¸ä¸éç½®å±æ§ä¸å½ä»¤è¡åæ°çå è½½ä¼åçº§ï¼è¿ä¸ªç»æå°±ä¸è¨èå»äºãå¨å±æ§å è½½çä¼åçº§è®¾å®ä¸­ï¼ææç¡®çä¼åçº§è®¾å®é¡ºåºï¼è¿è®°å¾ä¸é¢è¿ä¸ªé¡ºåºåï¼\n\nå¨è¿ä¸ªå±æ§å è½½ä¼åçº§çé¡ºåºä¸­ï¼æç¡®è§å®äºå½ä»¤è¡åæ°çä¼åçº§æåºæ¯11ï¼èéç½®å±æ§çä¼åçº§æ¯3ï¼ç»æä¸è¨èå»äºï¼argså±æ§éç½®ä¼åäºpropertieså±æ§éç½®å è½½ã\n\nå°è¿éæä»¬å°±ææ¡äºå¦æå¨æµè¯ç¨ä¾ä¸­å»æ¨¡æä¸´æ¶å±æ§çè®¾å®ã\n\næ»ç»\n\n 1. å è½½æµè¯ä¸´æ¶å±æ§å¯ä»¥éè¿æ³¨è§£@SpringBootTestçpropertiesåargså±æ§è¿è¡è®¾å®ï¼æ­¤è®¾å®åºç¨èå´ä»éç¨äºå½åæµè¯ç¨ä¾\n\næè\n\nåºç¨äºæµè¯ç¯å¢çä¸´æ¶å±æ§è§£å³äºï¼å¦ææ³å¨æµè¯çæ¶åä¸´æ¶å è½½ä¸äºbeanè½ä¸åå¢ï¼ä¹å°±æ¯è¯´ææµè¯æ¶ï¼æ³æä¸äºç¬ç«çbeanåºæ¥ï¼ä¸é¨åºç¨äºæµè¯ç¯å¢ï¼è½å¦å®ç°å¢ï¼å±ä»¬ä¸ä¸èåè®²ã\n\n\n# KF-3-2.å è½½æµè¯ä¸ç¨éç½®\n\nä¸ä¸èæåºäºä¸´æ¶éç½®ä¸äºä¸ç¨äºæµè¯ç¯å¢çbeançéæ±ï¼è¿ä¸èæä»¬å°±æ¥è§£å³è¿ä¸ªé®é¢ã\n\nå­¦ä¹ è¿Springçç¥è¯ï¼æä»¬é½ç¥éï¼å¶å®ä¸ä¸ªspringç¯å¢ä¸­å¯ä»¥è®¾ç½®è¥å¹²ä¸ªéç½®æä»¶æéç½®ç±»ï¼è¥å¹²ä¸ªéç½®ä¿¡æ¯å¯ä»¥åæ¶çæãç°å¨æä»¬çéæ±å°±æ¯å¨æµè¯ç¯å¢ä¸­åæ·»å ä¸ä¸ªéç½®ç±»ï¼ç¶åå¯å¨æµè¯ç¯å¢æ¶ï¼çææ­¤éç½®å°±è¡äºãå¶å®åæ³åspringç¯å¢ä¸­å è½½å¤ä¸ªéç½®ä¿¡æ¯çæ¹å¼å®å¨ä¸æ ·ãå·ä½æä½æ­¥éª¤å¦ä¸ï¼\n\næ­¥éª¤â ï¼å¨æµè¯åtestä¸­åå»ºä¸ç¨çæµè¯ç¯å¢éç½®ç±»\n\n@Configuration\npublic class MsgConfig {\n    @Bean\n    public String msg(){\n        return "bean msg";\n    }\n}\n\n\nä¸è¿°éç½®ä»ç¨äºæ¼ç¤ºå½åå®éªææï¼å®éå¼åå¯ä¸è½è¿ä¹æ³¨å¥Stringç±»åçæ°æ®\n\næ­¥éª¤â¡ï¼å¨å¯å¨æµè¯ç¯å¢æ¶ï¼å¯¼å¥æµè¯ç¯å¢ä¸ç¨çéç½®ç±»ï¼ä½¿ç¨@Importæ³¨è§£å³å¯å®ç°\n\n@SpringBootTest\n@Import({MsgConfig.class})\npublic class ConfigurationTest {\n\n    @Autowired\n    private String msg;\n\n    @Test\n    void testConfiguration(){\n        System.out.println(msg);\n    }\n}\n\n\nå°è¿éå°±éè¿@Importå±æ§å®ç°äºåºäºå¼åç¯å¢çéç½®åºç¡ä¸ï¼å¯¹éç½®è¿è¡æµè¯ç¯å¢çè¿½å æä½ï¼å®ç°äº1+1çéç½®ç¯å¢ææãè¿æ ·æä»¬å°±å¯ä»¥å®ç°æ¯ä¸ä¸ªä¸åçæµè¯ç¨ä¾å è½½ä¸åçbeançææï¼ä¸°å¯æµè¯ç¨ä¾çç¼åï¼åæ¶ä¸å½±åå¼åç¯å¢çéç½®ã\n\næ»ç»\n\n 1. å®ä¹æµè¯ç¯å¢ä¸ç¨çéç½®ç±»ï¼ç¶åéè¿@Importæ³¨è§£å¨å·ä½çæµè¯ä¸­å¯¼å¥ä¸´æ¶çéç½®ï¼ä¾å¦æµè¯ç¨ä¾ï¼æ¹ä¾¿æµè¯è¿ç¨ï¼ä¸ä¸è¿°éç½®ä¸å½±åå¶ä»çæµè¯ç±»ç¯å¢\n\næè\n\nå½åæä»¬å·²ç»å¯ä»¥å®ç°ä¸å¡å±åæ°æ®å±çæµè¯ï¼å¹¶ä¸éè¿ä¸´æ¶éç½®ï¼æ§å¶æ¯ä¸ªæµè¯ç¨ä¾å è½½ä¸åçæµè¯æ°æ®ãä½æ¯å®éä¼ä¸å¼åä¸ä»è¦ä¿éä¸å¡å±ä¸æ°æ®å±çåè½å®å¨ææï¼ä¹è¦ä¿éè¡¨ç°å±çåè½æ­£å¸¸ãä½æ¯æä»¬ç®çå¯¹è¡¨ç°å±çæµè¯é½æ¯éè¿postmanæå·¥æµè¯çï¼å¹¶æ²¡æå¨æåè¿ç¨ä¸­ä½ç°è¡¨ç°å±åè½è¢«æµè¯éè¿ãè½å¦å¨æµè¯ç¨ä¾ä¸­å¯¹è¡¨ç°å±è¿è¡åè½æµè¯å¢ï¼è¿çå¯ä»¥ï¼å±ä»¬ä¸ä¸èåè®²ã\n\n\n# KF-3-3.Webç¯å¢æ¨¡ææµè¯\n\nå¨æµè¯ä¸­å¯¹è¡¨ç°å±åè½è¿è¡æµè¯éè¦ä¸ä¸ªåºç¡åä¸ä¸ªåè½ãæè°çä¸ä¸ªåºç¡æ¯è¿è¡æµè¯ç¨åºæ¶ï¼å¿é¡»å¯å¨webç¯å¢ï¼ä¸ç¶æ²¡æ³æµè¯webåè½ãä¸ä¸ªåè½æ¯å¿é¡»å¨æµè¯ç¨åºä¸­å·å¤åéwebè¯·æ±çè½åï¼ä¸ç¶æ æ³å®ç°webåè½çæµè¯ãæä»¥å¨æµè¯ç¨ä¾ä¸­æµè¯è¡¨ç°å±æ¥å£è¿é¡¹å·¥ä½å°±è½¬æ¢æäºä¸¤ä»¶äºï¼ä¸ï¼å¦ä½å¨æµè¯ç±»ä¸­å¯å¨webæµè¯ï¼äºï¼å¦ä½å¨æµè¯ç±»ä¸­åéwebè¯·æ±ãä¸é¢ä¸ä»¶äºä¸ä»¶äºè¿è¡ï¼åè¯´ç¬¬ä¸ä¸ª\n\næµè¯ç±»ä¸­å¯å¨webç¯å¢\n\næ¯ä¸ä¸ªspringbootçæµè¯ç±»ä¸æ¹é½ä¼æ å@SpringBootTestæ³¨è§£ï¼èæ³¨è§£å¸¦æä¸ä¸ªå±æ§ï¼å«åwebEnvironmentãéè¿è¯¥å±æ§å°±å¯ä»¥è®¾ç½®å¨æµè¯ç¨ä¾ä¸­å¯å¨webç¯å¢ï¼å·ä½å¦ä¸ï¼\n\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class WebTest {\t\n}\n\n\næµè¯ç±»ä¸­å¯å¨webç¯å¢æ¶ï¼å¯ä»¥æå®å¯å¨çWebç¯å¢å¯¹åºçç«¯å£ï¼springbootæä¾äº4ç§è®¾ç½®å¼ï¼åå«å¦ä¸ï¼\n\n * MOCKï¼æ ¹æ®å½åè®¾ç½®ç¡®è®¤æ¯å¦å¯å¨webç¯å¢ï¼ä¾å¦ä½¿ç¨äºServletçAPIå°±å¯å¨webç¯å¢ï¼å±äºééæ§çéç½®\n * DEFINED_PORTï¼ä½¿ç¨èªå®ä¹çç«¯å£ä½ä¸ºwebæå¡å¨ç«¯å£\n * RANDOM_PORTï¼ä½¿ç¨éæºç«¯å£ä½ä¸ºwebæå¡å¨ç«¯å£\n * NONEï¼ä¸å¯å¨webç¯å¢\n\néè¿ä¸è¿°éç½®ï¼ç°å¨å¯å¨æµè¯ç¨åºæ¶å°±å¯ä»¥æ­£å¸¸å¯ç¨webç¯å¢äºï¼å»ºè®®å¤§å®¶æµè¯æ¶ä½¿ç¨RANDOM_PORTï¼é¿åä»£ç ä¸­å ä¸ºåæ­»è®¾å®å¼åçº¿ä¸åè½æåæµè¯æ¶ç±äºç«¯å£å²çªå¯¼è´æå¤ç°è±¡çåºç°ãå°±æ¯è¯´ä½ ç¨åºä¸­åäºç¨8080ç«¯å£ï¼ç»æçº¿ä¸ç¯å¢8080ç«¯å£è¢«å ç¨äºï¼ç»æä½ ä»£ç ä¸­ææåçä¸è¥¿é½è¦æ¹ï¼è¿å°±æ¯åæ­»ä»£ç çä»£ä»·ãç°å¨ä½ ç¨éæºç«¯å£å°±å¯ä»¥æµè¯åºæ¥ä½ ææ²¡æè¿ç§é®é¢çéæ£äºã\n\næµè¯ç¯å¢ä¸­çwebç¯å¢å·²ç»æ­å»ºå¥½äºï¼ä¸é¢å°±å¯ä»¥æ¥è§£å³ç¬¬äºä¸ªé®é¢äºï¼å¦ä½å¨ç¨åºä»£ç ä¸­åéwebè¯·æ±ã\n\næµè¯ç±»ä¸­åéè¯·æ±\n\nå¯¹äºæµè¯ç±»ä¸­åéè¯·æ±ï¼å¶å®javaçAPIå°±æä¾å¯¹åºçåè½ï¼åªä¸è¿å¹³æ¶åä½å°ä¼ä¼´æ¥è§¦çæ¯è¾å°ï¼æä»¥è¾ä¸ºéçãspringbootä¸ºäºä¾¿äºå¼åèè¿è¡å¯¹åºçåè½å¼åï¼å¯¹å¶åè¿è¡äºåè£ï¼ç®åäºå¼åæ­¥éª¤ï¼å·ä½æä½å¦ä¸ï¼\n\næ­¥éª¤â ï¼å¨æµè¯ç±»ä¸­å¼å¯webèæè°ç¨åè½ï¼éè¿æ³¨è§£@AutoConfigureMockMvcå®ç°æ­¤åè½çå¼å¯\n\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n//å¼å¯èæMVCè°ç¨\n@AutoConfigureMockMvc\npublic class WebTest {\n}\n\n\næ­¥éª¤â¡ï¼å®ä¹åèµ·èæè°ç¨çå¯¹è±¡MockMVCï¼éè¿èªå¨è£éçå½¢å¼åå§åå¯¹è±¡\n\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n//å¼å¯èæMVCè°ç¨\n@AutoConfigureMockMvc\npublic class WebTest {\n\n    @Test\n    void testWeb(@Autowired MockMvc mvc) {\n    }\n}\n\n\næ­¥éª¤â¢ï¼åå»ºä¸ä¸ªèæè¯·æ±å¯¹è±¡ï¼å°è£è¯·æ±çè·¯å¾ï¼å¹¶ä½¿ç¨MockMVCå¯¹è±¡åéå¯¹åºè¯·æ±\n\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n//å¼å¯èæMVCè°ç¨\n@AutoConfigureMockMvc\npublic class WebTest {\n\n    @Test\n    void testWeb(@Autowired MockMvc mvc) throws Exception {\n        //http://localhost:8080/books\n        //æ¨¡æåå»ºèæè¯·æ±ï¼å½åè®¿é®/books\n        MockHttpServletRequestBuilder builder = MockMvcRequestBuilders.get("/books");\n        //æ§è¡å¯¹åºçè¯·æ±\n        mvc.perform(builder);\n    }\n}\n\n\næ§è¡æµè¯ç¨åºï¼ç°å¨å°±å¯ä»¥æ­£å¸¸çåé/bookså¯¹åºçè¯·æ±äºï¼æ³¨æè®¿é®è·¯å¾ä¸è¦åhttp://localhost:8080/booksï¼å ä¸ºåé¢çæå¡å¨IPå°ååç«¯å£ä½¿ç¨çæ¯å½åèæçwebç¯å¢ï¼æ éæå®ï¼ä»æå®è¯·æ±çå·ä½è·¯å¾å³å¯ã\n\næ»ç»\n\n 1. å¨æµè¯ç±»ä¸­æµè¯webå±æ¥å£è¦ä¿éæµè¯ç±»å¯å¨æ¶å¯å¨webå®¹å¨ï¼ä½¿ç¨@SpringBootTestæ³¨è§£çwebEnvironmentå±æ§å¯ä»¥èæwebç¯å¢ç¨äºæµè¯\n 2. ä¸ºæµè¯æ¹æ³æ³¨å¥MockMvcå¯¹è±¡ï¼éè¿MockMvcå¯¹è±¡å¯ä»¥åéèæè¯·æ±ï¼æ¨¡æwebè¯·æ±è°ç¨è¿ç¨\n\næè\n\nç®åå·²ç»æåçåéäºè¯·æ±ï¼ä½æ¯è¿æ²¡æèµ·å°æµè¯çææï¼æµè¯è¿ç¨å¿é¡»åºç°é¢è®¡å¼ä¸çå®å¼çæ¯å¯¹ç»ææè½ç¡®è®¤æµè¯ç»ææ¯å¦éè¿ï¼èæè¯·æ±ä¸­è½å¯¹åªäºè¯·æ±ç»æè¿è¡æ¯å¯¹å¢ï¼å±ä»¬ä¸ä¸èåè®²ã\n\nwebç¯å¢è¯·æ±ç»ææ¯å¯¹\n\nä¸ä¸èå·²ç»å¨æµè¯ç¨ä¾ä¸­æåçæ¨¡æåºäºwebç¯å¢ï¼å¹¶æåçåéäºwebè¯·æ±ï¼æ¬èå°±æ¥è§£å³åéè¯·æ±åå¦ä½æ¯å¯¹åéç»æçé®é¢ãå¶å®åå®è¯·æ±å¾å°çä¿¡æ¯åªæä¸ç§ï¼å°±æ¯ååºå¯¹è±¡ãè³äºååºå¯¹è±¡ä¸­åå«ä»ä¹ï¼å°±å¯ä»¥æ¯å¯¹ä»ä¹ãå¸¸è§çæ¯å¯¹åå®¹å¦ä¸ï¼\n\n * ååºç¶æå¹é\n   \n   @Test\n   void testStatus(@Autowired MockMvc mvc) throws Exception {\n       MockHttpServletRequestBuilder builder = MockMvcRequestBuilders.get("/books");\n       ResultActions action = mvc.perform(builder);\n       //è®¾å®é¢æå¼ ä¸çå®å¼è¿è¡æ¯è¾ï¼æåæµè¯éè¿ï¼å¤±è´¥æµè¯å¤±è´¥\n       //å®ä¹æ¬æ¬¡è°ç¨çé¢æå¼\n       StatusResultMatchers status = MockMvcResultMatchers.status();\n       //é¢è®¡æ¬æ¬¡è°ç¨æ¶æåçï¼ç¶æ200\n       ResultMatcher ok = status.isOk();\n       //æ·»å é¢è®¡å¼å°æ¬æ¬¡è°ç¨è¿ç¨ä¸­è¿è¡å¹é\n       action.andExpect(ok);\n   }\n   \n\n * ååºä½å¹éï¼éjsonæ°æ®æ ¼å¼ï¼\n   \n   @Test\n   void testBody(@Autowired MockMvc mvc) throws Exception {\n       MockHttpServletRequestBuilder builder = MockMvcRequestBuilders.get("/books");\n       ResultActions action = mvc.perform(builder);\n       //è®¾å®é¢æå¼ ä¸çå®å¼è¿è¡æ¯è¾ï¼æåæµè¯éè¿ï¼å¤±è´¥æµè¯å¤±è´¥\n       //å®ä¹æ¬æ¬¡è°ç¨çé¢æå¼\n       ContentResultMatchers content = MockMvcResultMatchers.content\n       // ååºçç¶æå¼åä¸ºå­ç¬¦ä¸²\n       ResultMatcher result = content.string("springboot2");\n       //æ·»å é¢è®¡å¼å°æ¬æ¬¡è°ç¨è¿ç¨ä¸­è¿è¡å¹é\n       action.andExpect(result);\n   }\n   \n\n * ååºä½å¹éï¼jsonæ°æ®æ ¼å¼ï¼å¼åä¸­çä¸»æµä½¿ç¨æ¹å¼ï¼\n   \n   @Test\n   void testJson(@Autowired MockMvc mvc) throws Exception {\n       MockHttpServletRequestBuilder builder = MockMvcRequestBuilders.get("/books");\n       ResultActions action = mvc.perform(builder);\n       //è®¾å®é¢æå¼ ä¸çå®å¼è¿è¡æ¯è¾ï¼æåæµè¯éè¿ï¼å¤±è´¥æµè¯å¤±è´¥\n       //å®ä¹æ¬æ¬¡è°ç¨çé¢æå¼\n       ContentResultMatchers content = MockMvcResultMatchers.content();\n       ResultMatcher result = content.json("{\\"id\\":1,\\"name\\":\\"springboot2\\",\\"type\\":\\"springboot\\"}");\n       //æ·»å é¢è®¡å¼å°æ¬æ¬¡è°ç¨è¿ç¨ä¸­è¿è¡å¹é\n       action.andExpect(result);\n   }\n   \n\n * ååºå¤´ä¿¡æ¯å¹é\n   \n   @Test\n   void testContentType(@Autowired MockMvc mvc) throws Exception {\n       MockHttpServletRequestBuilder builder = MockMvcRequestBuilders.get("/books");\n       ResultActions action = mvc.perform(builder);\n       //è®¾å®é¢æå¼ ä¸çå®å¼è¿è¡æ¯è¾ï¼æåæµè¯éè¿ï¼å¤±è´¥æµè¯å¤±è´¥\n       //å®ä¹æ¬æ¬¡è°ç¨çé¢æå¼\n       HeaderResultMatchers header = MockMvcResultMatchers.header();\n       ResultMatcher contentType = header.string("Content-Type", "application/json");\n       //æ·»å é¢è®¡å¼å°æ¬æ¬¡è°ç¨è¿ç¨ä¸­è¿è¡å¹é\n       action.andExpect(contentType);\n   }\n   \n\nåºæ¬ä¸é½äºï¼å¤´ä¿¡æ¯ï¼æ­£æä¿¡æ¯ï¼ç¶æä¿¡æ¯é½æäºï¼å°±å¯ä»¥ç»ååºä¸ä¸ªå®ç¾çååºç»ææ¯å¯¹ç»æäºãä»¥ä¸èä¾å°±æ¯ä¸ç§ä¿¡æ¯åæ¶è¿è¡å¹éæ ¡éªï¼ä¹æ¯ä¸ä¸ªå®æ´çä¿¡æ¯å¹éè¿ç¨ã\n\n@Test\nvoid testGetById(@Autowired MockMvc mvc) throws Exception {\n    MockHttpServletRequestBuilder builder = MockMvcRequestBuilders.get("/books");\n    ResultActions action = mvc.perform(builder);\n\n    StatusResultMatchers status = MockMvcResultMatchers.status();\n    ResultMatcher ok = status.isOk();\n    action.andExpect(ok);\n\n    HeaderResultMatchers header = MockMvcResultMatchers.header();\n    ResultMatcher contentType = header.string("Content-Type", "application/json");\n    action.andExpect(contentType);\n\n    ContentResultMatchers content = MockMvcResultMatchers.content();\n    ResultMatcher result = content.json("{\\"id\\":1,\\"name\\":\\"springboot\\",\\"type\\":\\"springboot\\"}");\n    action.andExpect(result);\n}\n\n\næ»ç»\n\n 1. webèæè°ç¨å¯ä»¥å¯¹æ¬å°èæè¯·æ±çè¿åååºä¿¡æ¯è¿è¡æ¯å¯¹ï¼åä¸ºååºå¤´ä¿¡æ¯æ¯å¯¹ãååºä½ä¿¡æ¯æ¯å¯¹ãååºç¶æä¿¡æ¯æ¯å¯¹\n\n\n# KF-3-4.æ°æ®å±æµè¯åæ»\n\nå½åæä»¬çæµè¯ç¨åºå¯ä»¥å®ç¾çè¿è¡è¡¨ç°å±ãä¸å¡å±ãæ°æ®å±æ¥å£å¯¹åºçåè½æµè¯äºï¼ä½æ¯æµè¯ç¨ä¾å¼åå®æåï¼å¨æåçé¶æ®µç±äºtestçå½å¨æå±äºå¿é¡»è¢«è¿è¡ççå½å¨æï¼å¦æè·³è¿ä¼ç»ç³»ç»å¸¦æ¥æé«çå®å¨éæ£ï¼æä»¥æµè¯ç¨ä¾å¿é¡»æ§è¡ãä½æ¯æ°çé®é¢å°±åç°äºï¼æµè¯ç¨ä¾å¦ææµè¯æ¶äº§çäºäºå¡æäº¤å°±ä¼å¨æµè¯è¿ç¨ä¸­å¯¹æ°æ®åºæ°æ®äº§çå½±åï¼è¿èäº§çåå¾æ°æ®ãè¿ä¸ªè¿ç¨ä¸æ¯æä»¬å¸æåççï¼ä½ä¸ºå¼åèæµè¯ç¨ä¾è¯¥è¿è¡è¿è¡ï¼ä½æ¯è¿ç¨ä¸­äº§ççæ°æ®ä¸è¦å¨æçç³»ç»ä¸­ççï¼è¿æ ·è¯¥å¦ä½å¤çå¢ï¼\n\nspringbootæ©å°±ä¸ºå¼åèæ³å°äºè¿ä¸ªé®é¢ï¼å¹¶ä¸éå¯¹æ­¤é®é¢ç»åºäºæç®è§£å³æ¹æ¡ï¼å¨åå§æµè¯ç¨ä¾ä¸­æ·»å æ³¨è§£@Transactionalå³å¯å®ç°å½åæµè¯ç¨ä¾çäºå¡ä¸æäº¤ãå½ç¨åºè¿è¡åï¼åªè¦æ³¨è§£@Transactionalåºç°çä½ç½®å­å¨æ³¨è§£@SpringBootTestï¼springbootå°±ä¼è®¤ä¸ºè¿æ¯ä¸ä¸ªæµè¯ç¨åºï¼æ éæäº¤äºå¡ï¼æä»¥ä¹å°±å¯ä»¥é¿åäºå¡çæäº¤ã\n\n@SpringBootTest\n@Transactional\n@Rollback(true)\npublic class DaoTest {\n    @Autowired\n    private BookService bookService;\n\n    @Test\n    void testSave(){\n        Book book = new Book();\n        book.setName("springboot3");\n        book.setType("springboot3");\n        book.setDescription("springboot3");\n\n        bookService.save(book);\n    }\n}\n\n\nå¦æå¼åèæ³æäº¤äºå¡ï¼ä¹å¯ä»¥ï¼åæ·»å ä¸ä¸ª@RollBackçæ³¨è§£ï¼è®¾ç½®åæ»ç¶æä¸ºfalseå³å¯æ­£å¸¸æäº¤äºå¡ï¼FALSEè¡¨ç¤ºä¸è½åæ»ï¼ï¼æ¯ä¸æ¯å¾æ¹ä¾¿ï¼springbootå¨è¾å©å¼åèæ¥å¸¸å·¥ä½è¿ä¸åå±ç°åºäºæäººçè½åï¼å®å¨å¤ªè´´å¿äºã\n\næ»ç»\n\n 1. å¨springbootçæµè¯ç±»ä¸­éè¿æ·»å æ³¨è§£@Transactionalæ¥é»æ­¢æµè¯ç¨ä¾æäº¤äºå¡\n 2. éè¿æ³¨è§£@Rollbackæ§å¶springbootæµè¯ç±»æ§è¡ç»ææ¯å¦æäº¤äºå¡ï¼éè¦éåæ³¨è§£@Transactionalä½¿ç¨\n\næè\n\nå½åæµè¯ç¨åºå·²ç»è¿ä¹å®ç¾äºï¼ä½æ¯ç±äºæµè¯ç¨ä¾ä¸­ä¹¦åçæµè¯æ°æ®å±äºåºå®æ°æ®ï¼å¾å¾å¤±å»äºæµè¯çæä¹ï¼å¼åèå¯ä»¥éå¯¹æµè¯ç¨ä¾è¿è¡éå¯¹æ§å¼åï¼è¿æ ·å°±æå¯è½åºç°æµè¯ç¨ä¾ä¸è½å®ç¾åç°ä¸å¡é»è¾ä»£ç æ¯å¦çå®ææçè¾¾æä¸å¡ç®æ çç°è±¡ï¼è§£å³æ¹æ¡å¶å®å¾å®¹ææ³ï¼æµè¯ç¨ä¾çæ°æ®åªè¦éæºäº§çå°±å¯ä»¥äºï¼è½å®ç°åï¼å±ä»¬ä¸ä¸èåè®²ã\n\n\n# KF-3-5.æµè¯ç¨ä¾æ°æ®è®¾å®\n\nå¯¹äºæµè¯ç¨ä¾çæ°æ®åºå®ä¹¦åè¯å®æ¯ä¸åççï¼springbootæä¾äºå¨éç½®ä¸­ä½¿ç¨éæºå¼çæºå¶ï¼ç¡®ä¿æ¯æ¬¡è¿è¡ç¨åºå è½½çæ°æ®é½æ¯éæºçãå·ä½å¦ä¸ï¼\n\ntestcase:\n  book:\n    id: ${random.int}\n    id2: ${random.int(10)}\n    type: ${random.int!5,10!}\n    name: ${random.value}\n    uuid: ${random.uuid}\n    publishTime: ${random.long}\n\n\nå½åéç½®å°±å¯ä»¥å¨æ¯æ¬¡è¿è¡ç¨åºæ¶åå»ºä¸ç»éæºæ°æ®ï¼é¿åæ¯æ¬¡è¿è¡æ¶æ°æ®é½æ¯åºå®å¼çå°´å°¬ç°è±¡åçï¼æå©äºæµè¯åè½çè¿è¡ãæ°æ®çå è½½æç§ä¹åå è½½æ°æ®çå½¢å¼ï¼ä½¿ç¨@ConfigurationPropertiesæ³¨è§£å³å¯\n\n@Component\n@Data\n@ConfigurationProperties(prefix = "testcase.book")\npublic class BookCase {\n    private int id;\n    private int id2;\n    private int type;\n    private String name;\n    private String uuid;\n    private long publishTime;\n}\n\n\nå¯¹äºéæºå¼çäº§çï¼è¿æä¸äºå°çéå®è§åï¼æ¯å¦äº§ççæ°å¼æ§æ°æ®å¯ä»¥è®¾ç½®èå´ç­ï¼å·ä½å¦ä¸ï¼\n\n * ${random.int}è¡¨ç¤ºéæºæ´æ°\n * ${random.int(10)}è¡¨ç¤º10ä»¥åçéæºæ°\n * ${random.int(10,20)}è¡¨ç¤º10å°20çéæºæ°\n * å¶ä¸­()å¯ä»¥æ¯ä»»æå­ç¬¦ï¼ä¾å¦[]ï¼!!åå¯ï¼ä¹å°±æ¯random.int!5,10!ç­ä»·äºrandom.int(5,10)ç­ä»·äºrandom.int[5,10]\n\næ»ç»\n\n 1. ä½¿ç¨éæºæ°æ®å¯ä»¥æ¿æ¢æµè¯ç¨ä¾ä¸­ä¹¦åçåºå®æ°æ®ï¼æé«æµè¯ç¨ä¾ä¸­çæµè¯æ°æ®æææ§\n\n\n# KF-4.æ°æ®å±è§£å³æ¹æ¡\n\nå¼åå®ç¨ç¯åä¸ç« åºæ¬ä¸æ¯å¼èèï¼ä»ç¬¬åç« å¼å§ï¼å¼åå®ç¨ç¯è¿å¥å°äºå©æ¢¦é¾åº¦äºï¼ä»è¿éå¼å§ï¼ä¸åæ¯åçº¯çå¨springbootåé¨æäºæäºï¼è¦æ¶åå°å¾å¤ç¸å³ç¥è¯ãæ¬ç« èä¸»è¦åå®¹é½æ¯åæ°æ®å­å¨ä¸è¯»åç¸å³ï¼åæå­¦ä¹ çç¥è¯ä¸æ°æ®å±æå³çææ¯åºæ¬ä¸é½å´ç»å¨æ°æ®åºè¿ä¸ªå±é¢ä¸ï¼æä»¥æ¬ç« è¦è®²çç¬¬ä¸ä¸ªå¤§çåæ¯å°±æ¯SQLè§£å³æ¹æ¡ç¸å³çåå®¹ï¼é¤æ­¤ä¹å¤ï¼æ°æ®çæ¥æºè¿å¯ä»¥æ¯éSQLææ¯ç¸å³çæ°æ®æä½ï¼å æ­¤ç¬¬äºé¨åå´ç»çNOSQLè§£å³æ¹æ¡è®²è§£ãè³äºä»ä¹æ¯NOSQLè§£å³æ¹æ¡ï¼è®²å°äºåè¯´å§ãä¸é¢å°±ä»SQLè§£å³æ¹æ¡è¯´èµ·ã\n\n\n# KF-4-1.SQL\n\nåå¿ä¸ä¸ä¹ååSSMPæ´åçæ¶åæ°æ®å±è§£å³æ¹æ¡æ¶åå°äºåªäºææ¯ï¼MySQLæ°æ®åºä¸MyBatisPlusæ¡æ¶ï¼åé¢åå­¦äºDruidæ°æ®æºçéç½®ï¼æä»¥ç°å¨æ°æ®å±è§£å³æ¹æ¡å¯ä»¥è¯´æ¯Mysql+Druid+MyBatisPlusãèä¸ä¸ªææ¯åå«å¯¹åºäºæ°æ®å±æä½çä¸ä¸ªå±é¢ï¼\n\n * æ°æ®æºææ¯ï¼Druid\n * æä¹åææ¯ï¼MyBatisPlus\n * æ°æ®åºææ¯ï¼MySQL\n\nä¸é¢çç ç©¶å°±åä¸ºä¸ä¸ªå±é¢è¿è¡ç ç©¶ï¼å¯¹åºä¸é¢ååºçä¸ä¸ªæ¹é¢ï¼å±ä»¬å°±ä»ç¬¬ä¸ä¸ªæ°æ®æºææ¯å¼å§è¯´èµ·ã\n\n# æ°æ®æºææ¯\n\nç®åæä»¬ä½¿ç¨çæ°æ®æºææ¯æ¯Druidï¼è¿è¡æ¶å¯ä»¥å¨æ¥å¿ä¸­çå°å¯¹åºçæ°æ®æºåå§åä¿¡æ¯ï¼å·ä½å¦ä¸ï¼\n\nINFO 28600 --- [           main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource\nINFO 28600 --- [           main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited\n\n\nå¦æä¸ä½¿ç¨Druidæ°æ®æºï¼ç¨åºè¿è¡åæ¯ä»ä¹æ ·å­å¢ï¼æ¯ç¬ç«çæ°æ®åºè¿æ¥å¯¹è±¡è¿æ¯æå¶ä»çè¿æ¥æ± ææ¯æ¯æå¢ï¼å°Druidææ¯å¯¹åºçstarterå»æåæ¬¡è¿è¡ç¨åºå¯ä»¥å¨æ¥å¿ä¸­æ¾å°å¦ä¸åå§åä¿¡æ¯ï¼\n\nINFO 31820 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\nINFO 31820 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n\n\n\n\nè½ç¶æ²¡æDruidDataSourceç¸å³çä¿¡æ¯äºï¼ä½æ¯æä»¬åç°æ¥å¿ä¸­æHikariDataSourceè¿ä¸ªä¿¡æ¯ï¼å°±ç®ä¸æè¿æ¯ä¸ªä»ä¹ææ¯ï¼çåå­ä¹è½çåºæ¥ï¼ä»¥DataSourceç»å°¾çåç§°ï¼è¿ä¸å®æ¯ä¸ä¸ªæ°æ®æºææ¯ãæä»¬åæ²¡ææå·¥æ·»å è¿ä¸ªææ¯ï¼è¿ä¸ªææ¯åªéæ¥çå¢ï¼è¿å°±æ¯è¿ä¸èè¦è®²çç¥è¯ï¼springbootååµæ°æ®æºã\n\næ°æ®å±ææ¯æ¯æ¯ä¸ä¸ªä¼ä¸çº§åºç¨ç¨åºé½ä¼ç¨å°çï¼èå¶ä¸­å¿å®ä¼è¿è¡æ°æ®åºè¿æ¥çç®¡çãspringbootæ ¹æ®å¼åèçä¹ æ¯åºåï¼å¼åèæä¾äºæ°æ®æºææ¯ï¼å°±ç¨ä½ æä¾çï¼å¼åèæ²¡ææä¾ï¼é£æ»ä¸è½æå·¥ç®¡çä¸ä¸ªä¸ä¸ªçæ°æ®åºè¿æ¥å¯¹è±¡åï¼æä¹åï¼æç»ä½ ä¸ä¸ªé»è®¤çå°±å¥½äºï¼è¿æ ·çå¿åçäºï¼å¤§å®¶é½æ¹ä¾¿ã\n\nspringbootæä¾äº3æ¬¾ååµæ°æ®æºææ¯ï¼åå«å¦ä¸ï¼\n\n * HikariCP\n * Tomcatæä¾DataSource\n * Commons DBCP\n\nç¬¬ä¸ç§ï¼HikartCPï¼è¿æ¯springbootå®æ¹æ¨èçæ°æ®æºææ¯ï¼ä½ä¸ºé»è®¤åç½®æ°æ®æºä½¿ç¨ãå¥ææï¼ä½ ä¸éç½®æ°æ®æºï¼é£å°±ç¨è¿ä¸ªã\n\nç¬¬äºç§ï¼Tomcatæä¾çDataSourceï¼å¦æä¸æ³ç¨HikartCPï¼å¹¶ä¸ä½¿ç¨tomcatä½ä¸ºwebæå¡å¨è¿è¡webç¨åºçå¼åï¼ä½¿ç¨è¿ä¸ªãä¸ºä»ä¹æ¯Tomcatï¼ä¸æ¯å¶ä»webæå¡å¨å¢ï¼å ä¸ºwebææ¯å¯¼å¥starteråï¼é»è®¤ä½¿ç¨ååµtomcatï¼æ¢ç¶é½æ¯é»è®¤ä½¿ç¨çææ¯äºï¼é£å°±ä¸ç¨å°åºï¼æ°æ®æºä¹ç¨å®çãæäººå°±æåºæä¹æè½ä¸ä½¿ç¨HikartCPç¨tomcatæä¾çé»è®¤æ°æ®æºå¯¹è±¡å¢ï¼æHikartCPææ¯çåæ æé¤æå°±OKäºã\n\nç¬¬ä¸ç§ï¼DBCPï¼è¿ä¸ªä½¿ç¨çæ¡ä»¶å°±æ´èå»äºï¼æ¢ä¸ä½¿ç¨HikartCPä¹ä¸ä½¿ç¨tomcatçDataSourceæ¶ï¼é»è®¤ç»ä½ ç¨è¿ä¸ªã\n\nspringbootè¿å¿æçï¼ä¹æ¯ç¨ç¢åï¼å°±æä½ èªå·±ç®¡ä¸å¥½è¿æ¥å¯¹è±¡ï¼ç»ä½ ä¸é¡¿æ¨èï¼çæ¯å¼åççæå¼ºè¾å©ãæ¢ç¶é½ç»ä½ å¥¶ä¸äºï¼é£å°±åç¨å§ï¼æä¹éç½®ä½¿ç¨è¿äºä¸è¥¿å¢ï¼ä¹åæä»¬éç½®druidæ¶ä½¿ç¨druidçstarterå¯¹åºçéç½®å¦ä¸ï¼\n\nspring:\n  datasource:\n    druid:\t\n   \t  url: jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC\n      driver-class-name: com.mysql.cj.jdbc.Driver\n      username: root\n      password: root\n\n\næ¢ææ¯é»è®¤çæ°æ®æºHikariCPåï¼ç´æ¥å§druidå æå°±è¡äºï¼å¦ä¸ï¼\n\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    username: root\n    password: root\n\n\nå½ç¶ï¼ä¹å¯ä»¥åä¸æ¯å¯¹hikariåçéç½®ï¼ä½æ¯urlå°åè¦åç¬éç½®ï¼ä¸è½æ¾å°hikariçéç½®é¡¹ä¸é¢ï¼å¦ä¸ï¼\n\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC\n    hikari:\n      driver-class-name: com.mysql.cj.jdbc.Driver\n      username: root\n      password: root\n\n\nè¿å°±æ¯éç½®hikariæ°æ®æºçæ¹å¼ãå¦ææ³å¯¹hikariåè¿ä¸æ­¥çéç½®ï¼å¯ä»¥ç»§ç»­éç½®å¶ç¬ç«çå±æ§ãä¾å¦ï¼\n\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC\n    hikari:\n      driver-class-name: com.mysql.cj.jdbc.Driver\n      username: root\n      password: root\n      maximum-pool-size: 50\n\n\nå¦æä¸æ³ä½¿ç¨hikariæ°æ®æºï¼ä½¿ç¨tomcatçæ°æ®æºæèDBCPéç½®æ ¼å¼ä¹æ¯ä¸æ ·çãå­¦ä¹ å°è¿éï¼ä»¥åæä»¬åæ°æ®å±æ¶ï¼æ°æ®æºå¯¹è±¡çéæ©å°±ä¸åæ¯åä¸çä½¿ç¨druidæ°æ®æºææ¯äºï¼å¯ä»¥æ ¹æ®éè¦èªè¡éæ©ã\n\n\n\næ»ç»\n\n 1. springbootææ¯æä¾äº3ç§åç½®çæ°æ®æºææ¯ï¼åå«æ¯Hikariãtomcatåç½®æ°æ®æºãDBCP\n\n# æä¹åææ¯\n\nè¯´å®æ°æ®æºè§£å³æ¹æ¡ï¼åæ¥è¯´ä¸ä¸æä¹åè§£å³æ¹æ¡ãspringbootåååæ¥å¶æå¼ºè¾å©çç¹å¾ï¼ç»å¼åèæä¾äºä¸å¥ç°æçæ°æ®å±ææ¯ï¼å«åJdbcTemplateãå¶å®è¿ä¸ªææ¯ä¸è½è¯´æ¯springbootæä¾çï¼å ä¸ºä¸ä½¿ç¨springbootææ¯ï¼ä¸æ ·è½ä½¿ç¨å®ï¼è°æä¾çå¢ï¼springææ¯æä¾çï¼æä»¥å¨springbootææ¯èç´ä¸­ï¼è¿ä¸ªææ¯ä¹æ¯å­å¨çï¼æ¯ç«springbootææ¯æ¯å éspringç¨åºå¼åèåå»ºçã\n\nè¿ä¸ªææ¯å¶å®å°±æ¯åå½å°jdbcæåå§çç¼ç¨å½¢å¼æ¥è¿è¡æ°æ®å±çå¼åï¼ä¸é¢ç´æ¥ä¸æä½æ­¥éª¤ï¼\n\næ­¥éª¤â ï¼å¯¼å¥jdbcå¯¹åºçåæ ï¼è®°å¾æ¯starter\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-jdbc</artifactId>\n</dependency\n\n\næ­¥éª¤â¡ï¼èªå¨è£éJdbcTemplateå¯¹è±¡\n\n@SpringBootTest\nclass Springboot15SqlApplicationTests {\n    @Test\n    void testJdbcTemplate(@Autowired JdbcTemplate jdbcTemplate){\n    }\n}\n\n\næ­¥éª¤â¢ï¼ä½¿ç¨JdbcTemplateå®ç°æ¥è¯¢æä½ï¼éå®ä½ç±»å°è£æ°æ®çæ¥è¯¢æä½ï¼\n\n@Test\nvoid testJdbcTemplate(@Autowired JdbcTemplate jdbcTemplate){\n    String sql = "select * from tbl_book";\n    List<Map<String, Object>> maps = jdbcTemplate.queryForList(sql);\n    System.out.println(maps);\n}\n\n\næ­¥éª¤â£ï¼ä½¿ç¨JdbcTemplateå®ç°æ¥è¯¢æä½ï¼å®ä½ç±»å°è£æ°æ®çæ¥è¯¢æä½ï¼è®°å¾å¤ä¹ ä¸ä¸queryæä½\n\n@Test\nvoid testJdbcTemplate(@Autowired JdbcTemplate jdbcTemplate){\n\n    String sql = "select * from tbl_book";\n    RowMapper<Book> rm = new RowMapper<Book>() {\n        @Override\n        public Book mapRow(ResultSet rs, int rowNum) throws SQLException {\n            Book temp = new Book();\n            temp.setId(rs.getInt("id"));\n            temp.setName(rs.getString("name"));\n            temp.setType(rs.getString("type"));\n            temp.setDescription(rs.getString("description"));\n            return temp;\n        }\n    };\n    List<Book> list = jdbcTemplate.query(sql, rm);\n    System.out.println(list);\n}\n\n\næ­¥éª¤â¤ï¼ä½¿ç¨JdbcTemplateå®ç°å¢å æ¹æä½\n\n@Test\nvoid testJdbcTemplateSave(@Autowired JdbcTemplate jdbcTemplate){\n    String sql = "insert into tbl_book values(3,\'springboot1\',\'springboot2\',\'springboot3\')";\n    jdbcTemplate.update(sql);\n}\n\n\nå¦ææ³å¯¹JdbcTemplateå¯¹è±¡è¿è¡ç¸å³éç½®ï¼å¯ä»¥å¨ymlæä»¶ä¸­è¿è¡è®¾å®ï¼å·ä½å¦ä¸ï¼\n\nspring:\n  jdbc:\n    template:\n      query-timeout: -1   # æ¥è¯¢è¶æ¶æ¶é´\n      max-rows: 500       # æå¤§è¡æ°\n      fetch-size: -1      # ç¼å­è¡æ°\n\n\næ»ç»\n\n 1. SpringBootåç½®JdbcTemplateæä¹åè§£å³æ¹æ¡\n\n 2. ä½¿ç¨JdbcTemplateéè¦å¯¼å¥spring-boot-starter-jdbcçåæ \n    \n    \n\n# æ°æ®åºææ¯\n\næªæ­¢å°ç®åï¼springbootç»å¼åèæä¾äºåç½®çæ°æ®æºè§£å³æ¹æ¡åæä¹åè§£å³æ¹æ¡ï¼å¨æ°æ®å±è§£å³æ¹æ¡ä¸ä»¶å¥ä¸­è¿å©ä¸ä¸ä¸ªæ°æ®åºï¼è«éspringbootä¹æä¾æåç½®çè§£å³æ¹æ¡ï¼è¿çæï¼è¿ä¸æ¯ä¸ä¸ªï¼ä¸ä¸ªï¼è¿ä¸èå°±æ¥è¯´è¯´åç½®çæ°æ®åºè§£å³æ¹æ¡ã\n\nspringbootæä¾äº3æ¬¾åç½®çæ°æ®åºï¼åå«æ¯\n\n * H2\n * HSQL\n * Derby\n\nä»¥ä¸ä¸æ¬¾æ°æ®åºé¤äºå¯ä»¥ç¬ç«å®è£ä¹å¤ï¼è¿å¯ä»¥åæ¯tomcatæå¡å¨ä¸æ ·ï¼éç¨ååµçå½¢å¼è¿è¡å¨spirngbootå®¹å¨ä¸­ãååµå¨å®¹å¨ä¸­è¿è¡ï¼é£å¿é¡»æ¯javaå¯¹è±¡åï¼å¯¹ï¼è¿ä¸æ¬¾æ°æ®åºåºå±é½æ¯ä½¿ç¨javaè¯­è¨å¼åçã\n\næä»¬ä¸ç´ä½¿ç¨MySQLæ°æ®åºå°±æºå¥½çï¼ä¸ºä»ä¹æéæ±ç¨è¿ä¸ªå¢ï¼åå å°±å¨äºè¿ä¸ä¸ªæ°æ®åºé½å¯ä»¥éç¨ååµå®¹å¨çå½¢å¼è¿è¡ï¼å¨åºç¨ç¨åºè¿è¡åï¼å¦ææä»¬è¿è¡æµè¯å·¥ä½ï¼æ­¤æ¶æµè¯çæ°æ®æ éå­å¨å¨ç£çä¸ï¼ä½æ¯åè¦æµè¯ä½¿ç¨ï¼ååµæ°æ®åºå°±æ¹ä¾¿äºï¼è¿è¡å¨åå­ä¸­ï¼è¯¥æµè¯æµè¯ï¼è¯¥è¿è¡è¿è¡ï¼ç­æå¡å¨å³é­åï¼ä¸åçæ¶äºæ£ï¼å¤å¥½ï¼çå¾ä½ ç»´æ¤å¤é¨æ°æ®åºäºãè¿ä¹æ¯ååµæ°æ®åºçæå¤§ä¼ç¹ï¼æ¹ä¾¿è¿è¡åè½æµè¯ã\n\nä¸é¢ä»¥H2æ°æ®åºä¸ºä¾è®²è§£å¦ä½ä½¿ç¨è¿äºååµæ°æ®åºï¼æä½æ­¥éª¤ä¹éå¸¸ç®åï¼ç®åæå¥½ç¨å\n\næ­¥éª¤â ï¼å¯¼å¥H2æ°æ®åºå¯¹åºçåæ ï¼ä¸å±2ä¸ª\n\n<dependency>\n    <groupId>com.h2database</groupId>\n    <artifactId>h2</artifactId>\n</dependency>\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-data-jpa</artifactId>\n</dependency>\n\n\næ­¥éª¤â¡ï¼å°å·¥ç¨è®¾ç½®ä¸ºwebå·¥ç¨ï¼å¯å¨å·¥ç¨æ¶å¯å¨H2æ°æ®åº\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-web</artifactId>\n</dependency>\n\n\næ­¥éª¤â¢ï¼éè¿éç½®å¼å¯H2æ°æ®åºæ§å¶å°è®¿é®ç¨åºï¼ä¹å¯ä»¥ä½¿ç¨å¶ä»çæ°æ®åºè¿æ¥è½¯ä»¶æä½\n\nspring:\n  h2:\n    console:\n      enabled: true\n      path: /h2\n\n\nwebç«¯è®¿é®è·¯å¾localhost/h2å°±å¯ä»¥è®¿é®è®¿é®æ°æ®åºï¼è®¿é®å¯ç 123456ï¼å¦æè®¿é®å¤±è´¥ï¼åéç½®ä¸åæ°æ®æºï¼å¯å¨ç¨åºè¿è¡ååæ¬¡è®¿é®localhost/h2è·¯å¾å°±å¯ä»¥æ­£å¸¸è®¿é®äº\n\ndatasource:\n  url: jdbc:h2:~/test\n  hikari:\n    driver-class-name: org.h2.Driver\n    username: sa\n    password: 123456\n\n\næ­¥éª¤â£ï¼ä½¿ç¨JdbcTemplateæMyBatisPlusææ¯æä½æ°æ®åºå³å¯\n\nï¼ç¥ï¼\n\nå¶å®æä»¬åªæ¯æ¢äºä¸ä¸ªæ°æ®åºèå·²ï¼å¶ä»çä¸è¥¿é½ä¸åå½±åãä¸ä¸ªéè¦æéï¼å«å¿äºï¼ä¸çº¿æ¶ï¼æåå­çº§æ°æ®åºå³é­ï¼éç¨MySQLæ°æ®åºä½ä¸ºæ°æ®æä¹åæ¹æ¡ï¼å³é­æ¹å¼å°±æ¯è®¾ç½®enabledå±æ§ä¸ºfalseå³å¯ã\n\næ»ç»\n\n 1. H2ååµå¼æ°æ®åºå¯å¨æ¹å¼ï¼æ·»å åæ ï¼æ·»å éç½®\n 2. H2æ°æ®åºçº¿ä¸è¿è¡æ¶è¯·å¡å¿å³é­\n\nå°è¿éSQLç¸å³çæ°æ®å±è§£å³æ¹æ¡å°±è®²å®äºï¼ç°å¨çå¯éææ¯å°±ä¸°å¯çå¤äºã\n\n * æ°æ®æºææ¯ï¼DruidãHikariãtomcat DataSourceãDBCP\n * æä¹åææ¯ï¼MyBatisPlusãMyBatisãJdbcTemplate\n * æ°æ®åºææ¯ï¼MySQLãH2ãHSQLãDerby\n\nç°å¨å¼åç¨åºæ¶å°±å¯ä»¥å¨ä»¥ä¸ææ¯ä¸­ä»»éä¸ç§ç»ç»æä¸å¥æ°æ®åºè§£å³æ¹æ¡äºã\n\n\n# KF-4-2.NoSQL\n\nSQLæ°æ®å±è§£å³æ¹æ¡è¯´å®äºï¼ä¸é¢æ¥è¯´æ¶NoSQLæ°æ®å±è§£å³æ¹æ¡ãè¿ä¸ªNoSQLæ¯ä»ä¹ææå¢ï¼ä»å­é¢æ¥çï¼Noè¡¨ç¤ºå¦å®ï¼NoSQLå°±æ¯éå³ç³»åæ°æ®åºè§£å³æ¹æ¡ï¼ææå°±æ¯æ°æ®è¯¥å­å­è¯¥ååï¼åªæ¯è¿äºæ°æ®ä¸æ¾å¨å³ç³»åæ°æ®åºä¸­äºï¼é£æ¾å¨åªéï¼èªç¶æ¯ä¸äºè½å¤å­å¨æ°æ®çå¶ä»ç¸å³ææ¯ä¸­äºï¼æ¯å¦Redisç­ãæ¬èè®²è§£çåå®¹å°±æ¯springbootå¦ä½æ´åè¿äºææ¯ï¼å¨springbootå®æ¹ææ¡£ä¸­æä¾äº10ç§ç¸å³ææ¯çæ´åæ¹æ¡ï¼æä»¬å°è®²è§£å½åå¸åºä¸ææµè¡çå æ¬¾NoSQLæ°æ®åºæ´åæ¹æ¡ï¼åå«æ¯RedisãMongoDBãESã\n\nå ä¸ºæ¯ä¸ªå°ä¼ä¼´å­¦ä¹ è¿é¨è¯¾ç¨çæ¶åèµ·ç¹ä¸åï¼ä¸ºäºä¾¿äºåä½å­¦ä¹ èæ´å¥½çå­¦ä¹ ï¼æ¯ç§ææ¯å¨è®²è§£æ´ååé½ä¼åè®²ä¸ä¸å®è£ååºæ¬ä½¿ç¨ï¼ç¶ååè®²æ´åãå¦æå¯¹æä¸ªææ¯æ¯è¾çæçå°ä¼ä¼´å¯ä»¥ç´æ¥è·³è¿å®è£çå­¦ä¹ è¿ç¨ï¼ç´æ¥çæ´åæ¹æ¡å³å¯ãæ­¤å¤ä¸è¿°è¿äºææ¯æä½³ä½¿ç¨æ¹æ¡é½æ¯å¨Linuxæå¡å¨ä¸é¨ç½²ï¼ä½æ¯èèå°åä½å°ä¼ä¼´çå­¦ä¹ èµ·ç¹å·®å¼è¿å¤§ï¼æä»¥ä¸é¢çè¯¾ç¨é½æ¯ä»¥Windowså¹³å°ä½ä¸ºå®è£åºç¡è®²è§£ï¼å¦ææ³çLinuxçè½¯ä»¶å®è£ï¼å¯ä»¥åæ¾å°å¯¹åºææ¯çå­¦ä¹ ææ¡£æ¥éå­¦ä¹ ã\n\n# SpringBootæ´åRedis\n\nRedisæ¯ä¸æ¬¾éç¨key-valueæ°æ®å­å¨æ ¼å¼çåå­çº§NoSQLæ°æ®åºï¼éç¹å³æ³¨æ°æ®å­å¨æ ¼å¼ï¼æ¯key-valueæ ¼å¼ï¼ä¹å°±æ¯é®å¼å¯¹çå­å¨å½¢å¼ãä¸MySQLæ°æ®åºä¸åï¼MySQLæ°æ®åºæè¡¨ãæå­æ®µãæè®°å½ï¼Redisæ²¡æè¿äºä¸è¥¿ï¼å°±æ¯ä¸ä¸ªåç§°å¯¹åºä¸ä¸ªå¼ï¼å¹¶ä¸æ°æ®ä»¥å­å¨å¨åå­ä¸­ä½¿ç¨ä¸ºä¸»ãä»ä¹å«ä»¥å­å¨å¨åå­ä¸­ä¸ºä¸»ï¼å¶å®Redisæå®çæ°æ®æä¹åæ¹æ¡ï¼åå«æ¯RDBåAOFï¼ä½æ¯Redisèªèº«å¹¶ä¸æ¯ä¸ºäºæ°æ®æä¹åèççï¼ä¸»è¦æ¯å¨åå­ä¸­ä¿å­æ°æ®ï¼å éæ°æ®è®¿é®çï¼æä»¥è¯´æ¯ä¸æ¬¾åå­çº§æ°æ®åºã\n\nRedisæ¯æå¤ç§æ°æ®å­å¨æ ¼å¼ï¼æ¯å¦å¯ä»¥ç´æ¥å­å­ç¬¦ä¸²ï¼ä¹å¯ä»¥å­ä¸ä¸ªmapéåï¼listéåï¼åé¢ä¼æ¶åå°ä¸äºä¸åæ ¼å¼çæ°æ®æä½ï¼è¿ä¸ªéè¦åå­¦ä¹ ä¸ä¸æè½è¿è¡æ´åï¼æä»¥å¨åºæ¬æä½ä¸­ä¼ä»ç»ä¸äºç¸å³æä½ãä¸é¢å°±åå®è£ï¼åæä½ï¼æåè¯´æ´å\n\n# å®è£\n\nwindowsçå®è£åä¸è½½å°åï¼https://github.com/tporadowski/redis/releases\n\nä¸è½½çå®è£åæä¸¤ç§å½¢å¼ï¼ä¸ç§æ¯ä¸é®å®è£çmsiæä»¶ï¼è¿æä¸ç§æ¯è§£åç¼©å°±è½ä½¿ç¨çzipæä»¶ï¼åªç§å½¢å¼é½è¡ï¼è¿éå°±ä¸ä»ç»å®è£è¿ç¨äºï¼æ¬è¯¾ç¨éç¨çæ¯msiä¸é®å®è£çmsiæä»¶è¿è¡å®è£çã\n\nå¥æ¯msiï¼å¶å®å°±æ¯ä¸ä¸ªæä»¶å®è£åï¼ä¸ä»å®è£è½¯ä»¶ï¼è¿å¸®ä½ æå®è£è½¯ä»¶æ¶éè¦çåè½å³èå¨ä¸èµ·ï¼æåæä½ãæ¯å¦å¦å®è£åºåãåå»ºåè®¾ç½®å®è£è·¯å¾ãè®¾ç½®ç³»ç»ä¾èµé¡¹ãé»è®¤è®¾å®å®è£éé¡¹åæ§å¶å®è£è¿ç¨çå±æ§ãè¯´ç®åç¹å°±æ¯ä¸ç«å¼æå¡ï¼å®è£è¿ç¨ä¸æ¡é¾æä½ä¸æ°åµæï¼å°±æ¯ä¸ºå°ç½ç¨æ·æä¾çè½¯ä»¶å®è£ç¨åºã\n\nå®è£å®æ¯åä¼å¾å°å¦ä¸æä»¶ï¼å¶ä¸­æä¸¤ä¸ªæä»¶å¯¹åºä¸¤ä¸ªå½ä»¤ï¼æ¯å¯å¨Redisçæ ¸å¿å½ä»¤ï¼éè¦åCMDå½ä»¤è¡æ¨¡å¼æ§è¡ã\n\nå¯å¨æå¡å¨\n\nredis-server.exe redis.windows.conf\n\n\nåå­¦èæ éè°æ´æå¡å¨å¯¹å¤æå¡ç«¯å£ï¼é»è®¤6379ã\n\nå¯å¨å®¢æ·ç«¯\n\nredis-cli.exe\n\n\nå¦æå¯å¨redisæå¡å¨å¤±è´¥ï¼å¯ä»¥åå¯å¨å®¢æ·ç«¯ï¼ç¶åæ§è¡shutdownæä½åéåºï¼æ­¤æ¶redisæå¡å¨å°±å¯ä»¥æ­£å¸¸æ§è¡äºã\n\n# åºæ¬æä½\n\næå¡å¨å¯å¨åï¼ä½¿ç¨å®¢æ·ç«¯å°±å¯ä»¥è¿æ¥æå¡å¨ï¼ç±»ä¼¼äºå¯å¨å®MySQLæ°æ®åºï¼ç¶åå¯å¨SQLå½ä»¤è¡æä½æ°æ®åºã\n\næ¾ç½®ä¸ä¸ªå­ç¬¦ä¸²æ°æ®å°redisä¸­ï¼åä¸ºæ°æ®å®ä¹ä¸ä¸ªåç§°ï¼æ¯å¦name,ageç­ï¼ç¶åä½¿ç¨å½ä»¤setè®¾ç½®æ°æ®å°redisæå¡å¨ä¸­å³å¯\n\nset name itheima\nset age 12\n\n\nä»redisä¸­ååºå·²ç»æ¾å¥çæ°æ®ï¼æ ¹æ®åç§°åï¼å°±å¯ä»¥å¾å°å¯¹åºæ°æ®ãå¦ææ²¡æå¯¹åºæ°æ®å°±ä¼å¾å°(nil)\n\nget name\nget age\n\n\nä»¥ä¸ä½¿ç¨çæ°æ®å­å¨æ¯ä¸ä¸ªåç§°å¯¹åºä¸ä¸ªå¼ï¼å¦æè¦ç»´æ¤çæ°æ®è¿å¤ï¼å¯ä»¥ä½¿ç¨å«çæ°æ®å­å¨ç»æãä¾å¦hashï¼å®æ¯ä¸ç§ä¸ä¸ªåç§°ä¸å¯ä»¥å­å¨å¤ä¸ªæ°æ®çå­å¨æ¨¡åï¼å¹¶ä¸æ¯ä¸ªæ°æ®ä¹å¯ä»¥æèªå·±çäºçº§å­å¨åç§°ãåhashç»æä¸­å­å¨æ°æ®æ ¼å¼å¦ä¸ï¼\n\nhset a a1 aa1\t\t#å¯¹å¤keyåç§°æ¯aï¼å¨åç§°ä¸ºaçå­å¨æ¨¡åä¸­ï¼a1è¿ä¸ªkeyä¸­ä¿å­äºæ°æ®aa1\nhset a a2 aa2\n\n\nè·åhashç»æä¸­çæ°æ®å½ä»¤å¦ä¸\n\nhget a a1\t\t\t#å¾å°aa1\nhget a a2\t\t\t#å¾å°aa2\n\n\næå³redisçåºç¡æä½å°±æ®åå°è¿éï¼éè¦å¨é¢ææ¡redisææ¯ï¼è¯·åçç¸å³æç¨å­¦ä¹ ã\n\n# æ´å\n\nå¨è¿è¡æ´åä¹ååæ¢³çä¸ä¸æ´åçææ³ï¼springbootæ´åä»»ä½ææ¯å¶å®å°±æ¯å¨springbootä¸­ä½¿ç¨å¯¹åºææ¯çAPIãå¦æä¸¤ä¸ªææ¯æ²¡æäº¤éï¼å°±ä¸å­å¨æ´åçæ¦å¿µäºãæè°æ´åå¶å®å°±æ¯ä½¿ç¨springbootææ¯å»ç®¡çå¶ä»ææ¯ï¼å ä¸ªé®é¢æ¯èº²ä¸æçã\n\nç¬¬ä¸ï¼éè¦åå¯¼å¥å¯¹åºææ¯çåæ ï¼èæ´åä¹åï¼è¿äºåæ é½æäºä¸äºåå\n\nç¬¬äºï¼ä»»ä½ææ¯éå¸¸é½ä¼æä¸äºç¸å³çè®¾ç½®ä¿¡æ¯ï¼æ´åä¹åï¼è¿äºä¿¡æ¯å¦ä½åï¼åå¨åªæ¯ä¸ä¸ªé®é¢\n\nç¬¬ä¸ï¼æ²¡ææ´åä¹åæä½å¦ææ¯æ¨¡å¼Açè¯ï¼æ´åä¹åå¦ææ²¡æç»å¼åèå¸¦æ¥ä¸äºä¾¿æ·æä½ï¼é£æ´åå°æ¯«æ æä¹ï¼æä»¥æ´ååæä½è¯å®è¦ç®åä¸äºï¼é£å¯¹åºçæä½æ¹å¼èªç¶ä¹ææä¸å\n\næç§ä¸é¢çä¸ä¸ªé®é¢å»æèspringbootæ´åææææ¯æ¯ä¸ç§éç¨ææ³ï¼å¨æ´åçè¿ç¨ä¸­ä¼éæ­¥æ¸ç´¢åºæ´åçå¥è·¯ï¼èä¸éç¨æ§éå¸¸å¼ºï¼ç»è¿è¥å¹²ç§ææ¯çæ´åååºæ¬ä¸å¯ä»¥æ»ç»åºä¸å¥åºå®æç»´ã\n\nä¸é¢å°±å¼å§springbootæ´åredisï¼æä½æ­¥éª¤å¦ä¸ï¼\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åredisçstarteråæ \n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-data-redis</artifactId>\n</dependency>\n\n\nä¸è¿°åæ å¯ä»¥å¨åå»ºæ¨¡åçæ¶åéè¿å¾éçå½¢å¼è¿è¡éæ©ï¼å½å±NoSQLåç±»ä¸­\n\næ­¥éª¤â¡ï¼è¿è¡åºç¡éç½®\n\nspring:\n  redis:\n    host: localhost\n    port: 6379\n\n\næä½redisï¼æåºæ¬çä¿¡æ¯å°±æ¯æä½åªä¸å°redisæå¡å¨ï¼æä»¥æå¡å¨å°åå±äºåºç¡éç½®ä¿¡æ¯ï¼ä¸å¯ç¼ºå°ãä½æ¯å³ä¾¿ä½ ä¸éç½®ï¼ç®åä¹æ¯å¯ä»¥ç¨çãå ä¸ºä»¥ä¸ä¸¤ç»ä¿¡æ¯é½æé»è®¤éç½®ï¼åå¥½å°±æ¯ä¸è¿°éç½®å¼ã\n\næ­¥éª¤â¢ï¼ä½¿ç¨springbootæ´åredisçä¸ç¨å®¢æ·ç«¯æ¥å£æä½ï¼æ­¤å¤ä½¿ç¨çæ¯RedisTemplate\n\n@SpringBootTest\nclass Springboot16RedisApplicationTests {\n    @Autowired\n    private RedisTemplate redisTemplate;\n    // ä»¥ä¸ä¸ºæ®éçkey-valueæä½\n    @Test\n    void set() {\n        ValueOperations ops = redisTemplate.opsForValue();\n        ops.set("age",41);\n    }\n    @Test\n    void get() {\n        ValueOperations ops = redisTemplate.opsForValue();\n        Object age = ops.get("name");\n        System.out.println(age);\n    }\n    \n    // ä»¥ä¸ä¸ºhashæä½\n    @Test\n    void hset() {\n        HashOperations ops = redisTemplate.opsForHash();\n        ops.put("info","b","bb");\n    }\n    @Test\n    void hget() {\n        HashOperations ops = redisTemplate.opsForHash();\n        Object val = ops.get("info", "b");\n        System.out.println(val);\n    }\n}\n\n\n\nå¨æä½redisæ¶ï¼éè¦åç¡®è®¤æä½ä½ç§æ°æ®ï¼æ ¹æ®æ°æ®ç§ç±»å¾å°æä½æ¥å£ãä¾å¦ä½¿ç¨opsForValue()è·åstringç±»åçæ°æ®æä½æ¥å£ï¼ä½¿ç¨opsForHash()è·åhashç±»åçæ°æ®æä½æ¥å£ï¼å©ä¸çå°±æ¯è°ç¨å¯¹åºapiæä½äºãåç§ç±»åçæ°æ®æä½æ¥å£å¦ä¸ï¼\n\næ»ç»\n\n 1. springbootæ´åredisæ­¥éª¤\n    1. å¯¼å¥springbootæ´åredisçstarteråæ \n    2. è¿è¡åºç¡éç½®\n    3. ä½¿ç¨springbootæ´åredisçä¸ç¨å®¢æ·ç«¯æ¥å£RedisTemplateæä½\n\nStringRedisTemplate\n\nç±äº**redisåé¨ä¸æä¾javaå¯¹è±¡çå­å¨æ ¼å¼ï¼å æ­¤å½æä½çæ°æ®ä»¥å¯¹è±¡ï¼æ³åï¼çå½¢å¼å­å¨æ¶ï¼ä¼è¿è¡è½¬ç ï¼è½¬æ¢æå­ç¬¦ä¸²æ ¼å¼åè¿è¡æä½ã**ä¸ºäºæ¹ä¾¿å¼åèä½¿ç¨åºäºå­ç¬¦ä¸²ä¸ºæ°æ®çæä½ï¼springbootæ´åredisæ¶æä¾äºä¸ç¨çAPIæ¥å£StringRedisTemplateï¼ä½ å¯ä»¥çè§£ä¸ºè¿æ¯RedisTemplateçä¸ç§æå®æ°æ®æ³åçæä½APIã\n\n@SpringBootTest\npublic class StringRedisTemplateTest {\n    @Autowired\n    private StringRedisTemplate stringRedisTemplate;\n    @Test\n    void get(){\n        ValueOperations<String, String> ops = stringRedisTemplate.opsForValue();\n        String name = ops.get("name");\n        System.out.println(name);\n    }\n}\n\n\nrediså®¢æ·ç«¯éæ©\n\n\tspringbootæ´åredisææ¯æä¾äºå¤ç§å®¢æ·ç«¯å¼å®¹æ¨¡å¼ï¼é»è®¤æä¾çæ¯lettucså®¢æ·ç«¯ææ¯ï¼ä¹å¯ä»¥æ ¹æ®éè¦åæ¢ææå®å®¢æ·ç«¯ææ¯ï¼ä¾å¦jediså®¢æ·ç«¯ææ¯ï¼åæ¢æjediså®¢æ·ç«¯ææ¯æä½æ­¥éª¤å¦ä¸ï¼\n\n\næ­¥éª¤â ï¼å¯¼å¥jedisåæ \n\n<dependency>\n    <groupId>redis.clients</groupId>\n    <artifactId>jedis</artifactId>\n</dependency>\n\n\njedisåæ åspringbootç®¡çï¼æ éæä¾çæ¬å·\n\næ­¥éª¤â¡ï¼éç½®å®¢æ·ç«¯ææ¯ç±»åï¼è®¾ç½®ä¸ºjedis\n\nspring:\n  redis:\n    host: localhost\n    port: 6379\n    client-type: jedis\n\n\næ­¥éª¤â¢ï¼æ ¹æ®éè¦è®¾ç½®å¯¹åºçéç½®\n\nspring:\n  redis:\n    host: localhost\n    port: 6379\n    client-type: jedis\n    lettuce:\n      pool:\n        max-active: 16\n    jedis:\n      pool:\n        max-active: 16\n\n\nlettcusä¸jedisåºå«\n\n * jedisè¿æ¥Redisæå¡å¨æ¯ç´è¿æ¨¡å¼ï¼å½å¤çº¿ç¨æ¨¡å¼ä¸ä½¿ç¨jedisä¼å­å¨çº¿ç¨å®å¨é®é¢ï¼è§£å³æ¹æ¡å¯ä»¥éè¿éç½®è¿æ¥æ± ä½¿æ¯ä¸ªè¿æ¥ä¸ç¨ï¼è¿æ ·æ´ä½æ§è½å°±å¤§åå½±å\n * lettcusåºäºNettyæ¡æ¶è¿è¡ä¸Redisæå¡å¨è¿æ¥ï¼åºå±è®¾è®¡ä¸­éç¨StatefulRedisConnectionã StatefulRedisConnectionèªèº«æ¯çº¿ç¨å®å¨çï¼å¯ä»¥ä¿éå¹¶åè®¿é®å®å¨é®é¢ï¼æä»¥ä¸ä¸ªè¿æ¥å¯ä»¥è¢«å¤çº¿ç¨å¤ç¨ãå½ç¶lettcusä¹æ¯æå¤è¿æ¥å®ä¾ä¸èµ·å·¥ä½\n\næ»ç»\n\n 1. springbootæ´åredisæä¾äºStringRedisTemplateå¯¹è±¡ï¼ä»¥å­ç¬¦ä¸²çæ°æ®æ ¼å¼æä½redis\n 2. å¦æéè¦åæ¢rediså®¢æ·ç«¯å®ç°ææ¯ï¼å¯ä»¥éè¿éç½®çå½¢å¼è¿è¡\n\n# SpringBootæ´åMongoDB\n\nä½¿ç¨Redisææ¯å¯ä»¥ææçæé«æ°æ®è®¿é®éåº¦ï¼ä½æ¯ç±äºRedisçæ°æ®æ ¼å¼åä¸æ§ï¼æ æ³æä½ç»æåæ°æ®ï¼å½æä½å¯¹è±¡åçæ°æ®æ¶ï¼Rediså°±æ¾å¾æè¥è§èãå¨ä¿éè®¿é®éåº¦çæåµä¸ï¼å¦ææ³æä½ç»æåæ°æ®ï¼çæ¥Redisæ æ³æ»¡è¶³è¦æ±äºï¼æ­¤æ¶éè¦ä½¿ç¨å¨æ°çæ°æ®å­å¨ç»ææ¥è§£å³æ­¤é®é¢ï¼æ¬èè®²è§£springbootå¦ä½æ´åMongoDBææ¯ã\n\nMongoDBæ¯ä¸ä¸ªå¼æºãé«æ§è½ãæ æ¨¡å¼çææ¡£åæ°æ®åºï¼ä»çææ¡£æ ¼å¼åJSONå¾åï¼ä½åä¸å®å¨ç¸åï¼æä»¥ææ¡£åç§°ä¸ºBSONï¼ï¼å®æ¯NoSQLæ°æ®åºäº§åä¸­çä¸ç§ï¼æ¯æåå³ç³»åæ°æ®åºçéå³ç³»åæ°æ®åºã\n\nä¸è¿°æè¿°ä¸­å ä¸ªè¯ï¼å¶ä¸­å¯¹äºæä»¬æéççè¯æ¯æ æ¨¡å¼çãä»ä¹å«æ æ¨¡å¼å¢ï¼ç®åè¯´å°±æ¯ä½ä¸ºä¸æ¬¾æ°æ®åºï¼æ²¡æåºå®çæ°æ®å­å¨ç»æï¼ç¬¬ä¸æ¡æ°æ®å¯è½æAãBãCä¸å±3ä¸ªå­æ®µï¼ç¬¬äºæ¡æ°æ®å¯è½æDãEãFä¹æ¯3ä¸ªå­æ®µï¼ç¬¬ä¸æ¡æ°æ®å¯è½æ¯AãCãE3ä¸ªå­æ®µï¼ä¹å°±æ¯è¯´æ°æ®çç»æä¸åºå®ï¼è¿å°±æ¯æ æ¨¡å¼ãæäººä¼è¯´è¿æä»ä¹ç¨åï¼çµæ´»ï¼éæ¶åæ´ï¼ä¸åçº¦æãåºäºä¸è¿°ç¹ç¹ï¼MongoDBçåºç¨é¢ä¹ä¼äº§çä¸äºååãä»¥ä¸ååºäºä¸äºå¯ä»¥ä½¿ç¨MongoDBä½ä¸ºæ°æ®å­å¨çåºæ¯ï¼ä½æ¯å¹¶ä¸æ¯å¿é¡»ä½¿ç¨MongoDBçåºæ¯ï¼\n\n * æ·å®ç¨æ·æ°æ®ï¼ä¸æ¦è®¾ç½®ä¹åå¾å°ååï¼\n   * å­å¨ä½ç½®ï¼æ°æ®åº\n   * ç¹å¾ï¼æ°¸ä¹æ§å­å¨ï¼ä¿®æ¹é¢åº¦æä½\n * æ¸¸æè£å¤æ°æ®ãæ¸¸æéå·æ°æ®\n   * å­å¨ä½ç½®ï¼æ°æ®åºãMongodb\n   * ç¹å¾ï¼æ°¸ä¹æ§å­å¨ä¸ä¸´æ¶å­å¨ç¸ç»åãä¿®æ¹é¢åº¦è¾é«\n * ç´æ­æ°æ®ãæèµæ°æ®ãç²ä¸æ°æ®\n   * å­å¨ä½ç½®ï¼æ°æ®åºãMongodb\n   * ç¹å¾ï¼æ°¸ä¹æ§å­å¨ä¸ä¸´æ¶å­å¨ç¸ç»åï¼ä¿®æ¹é¢åº¦æé«\n * ç©èç½æ°æ®\n   * å­å¨ä½ç½®ï¼Mongodb\n   * ç¹å¾ï¼ä¸´æ¶å­å¨ï¼ä¿®æ¹é¢åº¦é£é\n\nå¿«éäºè§£ä¸ä¸MongoDBï¼ä¸é¢ç´æ¥å¼å§æä»¬çå­¦ä¹ ï¼èè§ç©ï¼åå®è£ï¼åæä½ï¼æåè¯´æ´å\n\n# å®è£\n\nwindowsçå®è£åä¸è½½å°åï¼https://www.mongodb.com/try/download\n\nä¸è½½çå®è£åä¹æä¸¤ç§å½¢å¼ï¼ä¸ç§æ¯ä¸é®å®è£çmsiæä»¶ï¼è¿æä¸ç§æ¯è§£åç¼©å°±è½ä½¿ç¨çzipæä»¶ï¼åªç§å½¢å¼é½è¡ï¼æ¬è¯¾ç¨éç¨è§£åç¼©zipæä»¶è¿è¡å®è£ã\n\nè§£åç¼©å®æ¯åä¼å¾å°å¦ä¸æä»¶ï¼å¶ä¸­binç®å½åå«äºææmongodbçå¯æ§è¡å½ä»¤\n\n\n\nmongodbå¨è¿è¡æ¶éè¦æå®ä¸ä¸ªæ°æ®å­å¨çç®å½ï¼æä»¥åå»ºä¸ä¸ªæ°æ®å­å¨ç®å½ï¼éå¸¸æ¾ç½®å¨å®è£ç®å½ä¸­ï¼æ­¤å¤åå»ºdataçç®å½ç¨æ¥å­å¨æ°æ®ï¼å·ä½å¦ä¸\n\n\n\nå¦æå¨å®è£çè¿ç¨ä¸­åºç°äºå¦ä¸è­¦åä¿¡æ¯ï¼å°±æ¯åè¯ä½ ï¼ä½ å½åçæä½ç³»ç»ç¼ºå°äºä¸äºç³»ç»æä»¶ï¼è¿ä¸ªä¸ç¨æå¿ã\n\næ ¹æ®ä¸åæ¹æ¡å³å¯è§£å³ï¼å¨æµè§å¨ä¸­æç´¢æç¤ºç¼ºå°çåç§°å¯¹åºçæä»¶ï¼å¹¶ä¸è½½ï¼å°ä¸è½½çæä»¶æ·è´å°windowså®è£ç®å½çsystem32ç®å½ä¸ï¼ç¶åå¨å½ä»¤è¡ä¸­æ§è¡regsvr32å½ä»¤æ³¨åæ­¤æä»¶ãæ ¹æ®ä¸è½½çæä»¶åä¸åï¼æ§è¡å½ä»¤åæ´æ¹å¯¹åºåç§°ã\n\nregsvr32 vcruntime140_1.dll\n\n\nå¯å¨æå¡å¨\n\nmongod --dbpath=..\\data\\db\n\n\nå¯å¨æå¡å¨æ¶éè¦æå®æ°æ®å­å¨ä½ç½®ï¼éè¿åæ°--dbpathè¿è¡è®¾ç½®ï¼å¯ä»¥æ ¹æ®éè¦èªè¡è®¾ç½®æ°æ®å­å¨è·¯å¾ãé»è®¤æå¡ç«¯å£27017ã\n\nå¯å¨å®¢æ·ç«¯\n\nmongo --host=127.0.0.1 --port=27017\n\n\n# åºæ¬æä½\n\nMongoDBè½ç¶æ¯ä¸æ¬¾æ°æ®åºï¼ä½æ¯å®çæä½å¹¶ä¸æ¯ä½¿ç¨SQLè¯­å¥è¿è¡çï¼å æ­¤æä½æ¹å¼åä½å°ä¼ä¼´å¯è½æ¯è¾éçï¼å¥½å¨æä¸äºç±»ä¼¼äºNavicatçæ°æ®åºå®¢æ·ç«¯è½¯ä»¶ï¼è½å¤ä¾¿æ·çæä½MongoDBï¼åå®è£ä¸ä¸ªå®¢æ·ç«¯ï¼åæ¥æä½MongoDBã\n\nåç±»åçè½¯ä»¶è¾å¤ï¼æ¬æ¬¡å®è£çè½¯ä»¶æ¶Robo3tï¼Robot3tæ¯ä¸æ¬¾ç»¿è²è½¯ä»¶ï¼æ éå®è£ï¼è§£åç¼©å³å¯ãè§£åç¼©å®æ¯åè¿å¥å®è£ç®å½åå»robot3t.exeå³å¯ä½¿ç¨ï¼MongoDBåRobot3tçæ¬ä¸å¹éå¯è½å®è£å¤±è´¥ï¼ã\n\næå¼è½¯ä»¶é¦åè¦è¿æ¥MongoDBæå¡å¨ï¼éæ©ãFileãèåï¼éæ©ãConnect...ã\n\n\n\nè¿å¥è¿æ¥ç®¡ççé¢åï¼éæ©å·¦ä¸è§çãCreateãé¾æ¥ï¼åå»ºæ°çè¿æ¥è®¾ç½®\n\nå¦æè¾å¥è®¾ç½®å¼å³å¯è¿æ¥ï¼é»è®¤ä¸ä¿®æ¹å³å¯è¿æ¥æ¬æº27017ç«¯å£ï¼\n\n\n\nè¿æ¥æååå¨å½ä»¤è¾å¥åºåè¾å¥å½ä»¤å³å¯æä½MongoDBã\n\nåå»ºæ°æ®åºï¼å¨å·¦ä¾§èåä¸­ä½¿ç¨å³é®åå»ºï¼è¾å¥æ°æ®åºåç§°å³å¯\n\nåå»ºéåï¼å¨Collectionsä¸ä½¿ç¨å³é®åå»ºï¼è¾å¥éååç§°å³å¯ï¼è¿éçéåå¶å®å°±æ¯MySqlçè¡¨ï¼ï¼éåç­åäºæ°æ®åºä¸­çè¡¨çä½ç¨\n\næ°å¢ææ¡£ï¼ï¼ææ¡£æ¯ä¸ç§ç±»ä¼¼jsonæ ¼å¼çæ°æ®ï¼åå­¦èå¯ä»¥åææ°æ®çè§£ä¸ºå°±æ¯jsonæ°æ®ï¼\n\ndb.éååç§°.insert/save/insertOne(ææ¡£)\n\n\nå é¤ææ¡£ï¼\n\ndb.éååç§°.remove(æ¡ä»¶)\n\n\nä¿®æ¹ææ¡£ï¼\n\ndb.éååç§°.update(æ¡ä»¶ï¼{æä½ç§ç±»:{ææ¡£}})\n\n\næ¥è¯¢ææ¡£ï¼\n\nåºç¡æ¥è¯¢\næ¥è¯¢å¨é¨ï¼\t\t   db.éå.find();\næ¥ç¬¬ä¸æ¡ï¼\t\t   db.éå.findOne()\næ¥è¯¢æå®æ°éææ¡£ï¼\tdb.éå.find().limit(10)\t\t\t\t\t//æ¥10æ¡ææ¡£\nè·³è¿æå®æ°éææ¡£ï¼\tdb.éå.find().skip(20)\t\t\t\t\t//è·³è¿20æ¡ææ¡£\nç»è®¡ï¼\t\t\t  \tdb.éå.count()\næåºï¼\t\t\t\tdb.éå.sort({age:1})\t\t\t\t\t\t//æageååºæåº\næå½±ï¼\t\t\t\tdb.éååç§°.find(æ¡ä»¶,{name:1,age:1})\t\t //ä»ä¿çnameä¸ageå\n\næ¡ä»¶æ¥è¯¢\nåºæ¬æ ¼å¼ï¼\t\t\tdb.éå.find({æ¡ä»¶})\næ¨¡ç³æ¥è¯¢ï¼\t\t\tdb.éå.find({åå:/æ­£åè¡¨è¾¾å¼/})\t\t  //ç­åSQLä¸­çlikeï¼æ¯likeå¼ºå¤§ï¼å¯ä»¥æ§è¡æ­£åææè§å\næ¡ä»¶æ¯è¾è¿ç®ï¼\t\t   db.éå.find({åå:{$gt:å¼}})\t\t\t\t//ç­åSQLä¸­çæ°å¼æ¯è¾æä½ï¼ä¾å¦ï¼name>18\nåå«æ¥è¯¢ï¼\t\t\tdb.éå.find({åå:{$in:[å¼1ï¼å¼2]}})\t\t//ç­åäºSQLä¸­çin\næ¡ä»¶è¿æ¥æ¥è¯¢ï¼\t\t   db.éå.find({$and:[{æ¡ä»¶1},{æ¡ä»¶2}]})\t   //ç­åäºSQLä¸­çandãor\n\n\næå³MongoDBçåºç¡æä½å°±æ®åå°è¿éï¼éè¦å¨é¢ææ¡MongoDBææ¯ï¼è¯·åçç¸å³æç¨å­¦ä¹ ã\n\n# æ´å\n\nä½¿ç¨springbootæ´åMongDBè¯¥å¦ä½è¿è¡å¢ï¼å¶å®springbootä¸ºä»ä¹ä½¿ç¨çå¼åèè¿ä¹å¤ï¼å°±æ¯å ä¸ºä»çå¥è·¯å ä¹å®å¨ä¸æ ·ãå¯¼å¥åæ ï¼åéç½®ï¼ä½¿ç¨APIæ¥å£æä½ãæ´åRediså¦æ­¤ï¼æ´åMongoDBåæ ·å¦æ­¤ã\n\nç¬¬ä¸ï¼åå¯¼å¥å¯¹åºææ¯çæ´åstarteråæ \n\nç¬¬äºï¼éç½®å¿è¦ä¿¡æ¯\n\nç¬¬ä¸ï¼ä½¿ç¨æä¾çAPIæä½å³å¯\n\nä¸é¢å°±å¼å§springbootæ´åMongoDBï¼æä½æ­¥éª¤å¦ä¸ï¼\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åMongoDBçstarteråæ \n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-data-mongodb</artifactId>\n</dependency>\n\n\nä¸è¿°åæ ä¹å¯ä»¥å¨åå»ºæ¨¡åçæ¶åéè¿å¾éçå½¢å¼è¿è¡éæ©ï¼åæ ·å½å±NoSQLåç±»ä¸­\n\næ­¥éª¤â¡ï¼è¿è¡åºç¡éç½®\n\nspring:\n  data:\n    mongodb:\n      uri: mongodb://localhost/itheima\n\n\næä½MongoDBéè¦çéç½®ä¸æä½redisä¸æ ·ï¼æåºæ¬çä¿¡æ¯é½æ¯æä½åªä¸å°æå¡å¨ï¼åºå«å°±æ¯è¿æ¥çæå¡å¨IPå°ååç«¯å£ä¸åï¼ä¹¦åæ ¼å¼ä¸åèå·²ã\n\næ­¥éª¤â¢ï¼ä½¿ç¨springbootæ´åMongoDBçä¸ç¨å®¢æ·ç«¯æ¥å£MongoTemplateæ¥è¿è¡æä½\n\n@SpringBootTest\nclass Springboot17MongodbApplicationTests {\n    @Autowired\n    private MongoTemplate mongoTemplate;\n    @Test\n    void contextLoads() {\n        Book book = new Book();\n        book.setId(2);\n        book.setName("springboot2");\n        book.setType("springboot2");\n        book.setDescription("springboot2");\n        mongoTemplate.save(book);\n    }\n    @Test\n    void find(){\n        List<Book> all = mongoTemplate.findAll(Book.class);\n        System.out.println(all);\n    }\n}\n\n\næ´åå·¥ä½å°è¿éå°±åå®äºï¼æè§æ¢çæä¹éçãçæçæ¯è¿ä¸ªå¥è·¯ï¼ä¸æ¿æ§ï¼å°±è¿ä¸æï¼å¯¼åæ åéç½®ç¨APIæä½ï¼éççæ¯è¿ä¸ªææ¯ï¼éé¢å·ä½çæä½APIå¯è½ä¼ä¸çæï¼æå³springbootæ´åMongoDBæä»¬å°±è®²å°è¿éãæå´è¶£å¯ä»¥ç»§ç»­å­¦ä¹ MongoDBçæä½ï¼ç¶ååæ¥è¿ééè¿ç¼ç¨çå½¢å¼æä½MongoDBã\n\næ»ç»\n\n 1. springbootæ´åMongoDBæ­¥éª¤\n    1. å¯¼å¥springbootæ´åMongoDBçstarteråæ \n    2. è¿è¡åºç¡éç½®\n    3. ä½¿ç¨springbootæ´åMongoDBçä¸ç¨å®¢æ·ç«¯æ¥å£MongoTemplateæä½\n\n# SpringBootæ´åES\n\nNoSQLè§£å³æ¹æ¡å·²ç»è®²å®äºä¸¤ç§ææ¯çæ´åäºï¼Rediså¯ä»¥ä½¿ç¨åå­å è½½æ°æ®å¹¶å®ç°æ°æ®å¿«éè®¿é®ï¼MongoDBå¯ä»¥å¨åå­ä¸­å­å¨ç±»ä¼¼å¯¹è±¡çæ°æ®å¹¶å®ç°æ°æ®çå¿«éè®¿é®ï¼å¨ä¼ä¸çº§å¼åä¸­å¯¹äºéåº¦çè¿½æ±æ¯æ°¸æ æ­¢å¢çãä¸é¢è¦è®²çåå®¹ä¹æ¯ä¸æ¬¾NoSQLè§£å³æ¹æ¡ï¼åªä¸è¿ä»çä½ç¨ä¸æ¯ä¸ºäºç´æ¥å éæ°æ®çè¯»åï¼èæ¯å éæ°æ®çæ¥è¯¢çï¼å«åESææ¯ã\n\nESï¼Elasticsearchï¼æ¯ä¸ä¸ªåå¸å¼å¨ææç´¢å¼æï¼éç¹æ¯å¨ææç´¢ã\n\né£ä»ä¹æ¯å¨ææç´¢å¢ï¼æ¯å¦ç¨æ·è¦ä¹°ä¸æ¬ä¹¦ï¼ä»¥Javaä¸ºå³é®å­è¿è¡æç´¢ï¼ä¸ç®¡æ¯ä¹¦åä¸­è¿æ¯ä¹¦çä»ç»ä¸­ï¼çè³æ¯ä¹¦çä½èåå­ï¼åªè¦åå«javaå°±ä½ä¸ºæ¥è¯¢ç»æè¿åç»ç¨æ·æ¥çï¼ä¸è¿°è¿ç¨å°±ä½¿ç¨äºå¨ææç´¢ææ¯ãæç´¢çæ¡ä»¶ä¸åæ¯ä»ç¨äºå¯¹æä¸ä¸ªå­æ®µè¿è¡æ¯å¯¹ï¼èæ¯å¨ä¸æ¡æ°æ®ä¸­ä½¿ç¨æç´¢æ¡ä»¶å»æ¯å¯¹æ´å¤çå­æ®µï¼åªè¦è½å¹éä¸å°±åå¥æ¥è¯¢ç»æï¼è¿å°±æ¯å¨ææç´¢çç®çãèESææ¯å°±æ¯ä¸ç§å¯ä»¥å®ç°ä¸è¿°ææçææ¯ã\n\nè¦å®ç°å¨ææç´¢çææï¼ä¸å¯è½ä½¿ç¨æ°æ®åºä¸­likeæä½å»è¿è¡æ¯å¯¹ï¼è¿ç§æçå¤ªä½äºãESè®¾è®¡äºä¸ç§å¨æ°çææ³ï¼æ¥å®ç°å¨ææç´¢ãå·ä½æä½è¿ç¨å¦ä¸ï¼\n\n 1. å°è¢«æ¥è¯¢çå­æ®µçæ°æ®å¨é¨ææ¬ä¿¡æ¯è¿è¡æ¥åï¼åæè¥å¹²ä¸ªè¯\n    \n    * ä¾å¦âä¸­åäººæ°å±åå½âå°±ä¼è¢«æåæä¸ä¸ªè¯ï¼åå«æ¯âä¸­åâãâäººæ°âãâå±åå½âï¼æ­¤è¿ç¨æä¸ä¸æ¯è¯­å«ååè¯ãåè¯çç­ç¥ä¸åï¼ååºçææä¸ä¸æ ·ï¼ä¸åçåè¯ç­ç¥ç§°ä¸ºåè¯å¨ã\n\n 2. å°åè¯å¾å°çç»æå­å¨èµ·æ¥ï¼å¯¹åºæ¯æ¡æ°æ®çid\n    \n    * ä¾å¦idä¸º1çæ°æ®ä¸­åç§°è¿ä¸é¡¹çå¼æ¯âä¸­åäººæ°å±åå½âï¼é£ä¹åè¯ç»æåï¼å°±ä¼åºç°âä¸­åâå¯¹åºidä¸º1ï¼âäººæ°âå¯¹åºidä¸º1ï¼âå±åå½âå¯¹åºidä¸º1\n    \n    * ä¾å¦idä¸º2çæ°æ®ä¸­åç§°è¿ä¸é¡¹çå¼æ¯âäººæ°ä»£è¡¨å¤§ä¼âï¼é£ä¹åè¯ç»æåï¼å°±ä¼åºç°âäººæ°âå¯¹åºidä¸º2ï¼âä»£è¡¨âå¯¹åºidä¸º2ï¼âå¤§ä¼âå¯¹åºidä¸º2\n    \n    * æ­¤æ¶å°±ä¼åºç°å¦ä¸å¯¹åºç»æï¼æç§ä¸è¿°å½¢å¼å¯ä»¥å¯¹ææææ¡£è¿è¡åè¯ãéè¦æ³¨æåè¯çè¿ç¨ä¸æ¯ä»å¯¹ä¸ä¸ªå­æ®µè¿è¡ï¼èæ¯å¯¹æ¯ä¸ä¸ªåä¸æ¥è¯¢çå­æ®µé½æ§è¡ï¼æç»ç»ææ±æ»å°ä¸ä¸ªè¡¨æ ¼ä¸­\n      \n      åè¯ç»æå³é®å­   å¯¹åºID\n      ä¸­å        1\n      äººæ°        1,2\n      å±åå½       1\n      ä»£è¡¨        2\n      å¤§ä¼        2\n\n 3. å½è¿è¡æ¥è¯¢æ¶ï¼å¦æè¾å¥âäººæ°âä½ä¸ºæ¥è¯¢æ¡ä»¶ï¼å¯ä»¥éè¿ä¸è¿°è¡¨æ ¼æ°æ®è¿è¡æ¯å¯¹ï¼å¾å°idå¼1,2ï¼ç¶åæ ¹æ®idå¼å°±å¯ä»¥å¾å°æ¥è¯¢çç»ææ°æ®äºã\n\nä¸è¿°è¿ç¨ä¸­åè¯ç»æå³é®å­åå®¹æ¯ä¸ä¸ªé½ä¸ç¸åï¼ä½ç¨æç¹ç±»ä¼¼äºæ°æ®åºä¸­çç´¢å¼ï¼æ¯ç¨æ¥å éæ°æ®æ¥è¯¢çãä½æ¯æ°æ®åºä¸­çç´¢å¼æ¯å¯¹æä¸ä¸ªå­æ®µè¿è¡æ·»å ç´¢å¼ï¼èè¿éçåè¯ç»æå³é®å­ä¸æ¯ä¸ä¸ªå®æ´çå­æ®µå¼ï¼åªæ¯ä¸ä¸ªå­æ®µä¸­çå¶ä¸­çä¸é¨ååå®¹ãå¹¶ä¸ç´¢å¼ä½¿ç¨æ¶æ¯æ ¹æ®ç´¢å¼åå®¹æ¥æ¾æ´æ¡æ°æ®ï¼å¨ææç´¢ä¸­çåè¯ç»æå³é®å­æ¥è¯¢åå¾å°çå¹¶ä¸æ¯æ´æ¡çæ°æ®ï¼èæ¯æ°æ®çidï¼è¦æ³è·å¾å·ä½æ°æ®è¿è¦åæ¬¡æ¥è¯¢ï¼å æ­¤è¿éä¸ºè¿ç§åè¯ç»æå³é®å­èµ·äºä¸ä¸ªå¨æ°çåç§°ï¼å«ååæç´¢å¼ï¼æ­£åæåºæ¯æ ¹æ®æ¥è¯¢åå®¹éåæ¯ä¸ä¸ªæä»¶ï¼ç¶åå¨æä»¶ä¸­è¿è¡å¹éï¼åæç´¢å¼æ¯å°æå»ºå³é®è¯åæä»¶çæ å°ï¼æ ¹æ®å³é®è¯æ¥æ¾æä»¶ãï¼ã\n\néè¿ä¸è¿°åå®¹çå­¦ä¹ ï¼åç°ä½¿ç¨ESå¶å®åå¤å·¥ä½è¿æ¯æºå¤çï¼å¿é¡»åå»ºç«ææ¡£çåæç´¢å¼ï¼ç¶åæè½ç»§ç»­ä½¿ç¨ãå¿«éäºè§£ä¸ä¸ESçå·¥ä½åçï¼ä¸é¢ç´æ¥å¼å§æä»¬çå­¦ä¹ ï¼èè§ç©ï¼åå®è£ï¼åæä½ï¼æåè¯´æ´åã\n\n# å®è£\n\nwindowsçå®è£åä¸è½½å°åï¼https://www.elastic.co/cn/downloads/elasticsearch\n\nä¸è½½çå®è£åæ¯è§£åç¼©å°±è½ä½¿ç¨çzipæä»¶ï¼è§£åç¼©å®æ¯åä¼å¾å°å¦ä¸æä»¶\n\n\n\n * binç®å½ï¼åå«ææçå¯æ§è¡å½ä»¤\n * configç®å½ï¼åå«ESæå¡å¨ä½¿ç¨çéç½®æä»¶\n * jdkç®å½ï¼æ­¤ç®å½ä¸­åå«äºä¸ä¸ªå®æ´çjdkå·¥å·åï¼çæ¬17ï¼å½ESåçº§æ¶ï¼ä½¿ç¨ææ°çæ¬çjdkç¡®ä¿ä¸ä¼åºç°çæ¬æ¯ææ§ä¸è¶³çé®é¢\n * libç®å½ï¼åå«ESè¿è¡çä¾èµjaræä»¶\n * logsç®å½ï¼åå«ESè¿è¡åäº§ççæææ¥å¿æä»¶\n * modulesç®å½ï¼åå«ESè½¯ä»¶ä¸­ææçåè½æ¨¡åï¼ä¹æ¯ä¸ä¸ªä¸ä¸ªçjaråãåjarç®å½ä¸åï¼jarç®å½æ¯ESè¿è¡æé´ä¾èµçjaråï¼modulesæ¯ESè½¯ä»¶èªå·±çåè½jarå\n * pluginsç®å½ï¼åå«ESè½¯ä»¶å®è£çæä»¶ï¼é»è®¤ä¸ºç©º\n\nå¯å¨æå¡å¨\n\nelasticsearch.bat\n\n\nåå»elasticsearch.batæä»¶å³å¯å¯å¨ESæå¡å¨ï¼é»è®¤æå¡ç«¯å£9200ãéè¿æµè§å¨è®¿é®http://localhost:9200çå°å¦ä¸ä¿¡æ¯è§ä¸ºESæå¡å¨æ­£å¸¸å¯å¨\n\n{\n  "name" : "CZBK-**********",\n  "cluster_name" : "elasticsearch",\n  "cluster_uuid" : "j137DSswTPG8U4Yb-0T1Mg",\n  "version" : {\n    "number" : "7.16.2",\n    "build_flavor" : "default",\n    "build_type" : "zip",\n    "build_hash" : "2b937c44140b6559905130a8650c64dbd0879cfb",\n    "build_date" : "2021-12-18T19:42:46.604893745Z",\n    "build_snapshot" : false,\n    "lucene_version" : "8.10.1",\n    "minimum_wire_compatibility_version" : "6.8.0",\n    "minimum_index_compatibility_version" : "6.0.0-beta1"\n  },\n  "tagline" : "You Know, for Search"\n}\n\n\n# åºæ¬æä½\n\nESä¸­ä¿å­ææä»¬è¦æ¥è¯¢çæ°æ®ï¼åªä¸è¿æ ¼å¼åæ°æ®åºå­å¨æ°æ®æ ¼å¼ä¸åèå·²ãå¨ESä¸­æä»¬è¦ååå»ºåæç´¢å¼ï¼è¿ä¸ªç´¢å¼çåè½åç¹ç±»ä¼¼äºæ°æ®åºçè¡¨ï¼ç¶åå°æ°æ®æ·»å å°åæç´¢å¼ä¸­ï¼æ·»å çæ°æ®ç§°ä¸ºææ¡£ãæä»¥è¦è¿è¡ESçæä½è¦ååå»ºç´¢å¼ï¼åæ·»å ææ¡£ï¼è¿æ ·æè½è¿è¡åç»­çæ¥è¯¢æä½ã\n\nè¦æä½ESå¯ä»¥éè¿Resté£æ ¼çè¯·æ±æ¥è¿è¡ï¼ä¹å°±æ¯è¯´åéä¸ä¸ªè¯·æ±å°±å¯ä»¥æ§è¡ä¸ä¸ªæä½ãæ¯å¦æ°å»ºç´¢å¼ï¼å é¤ç´¢å¼è¿äºæä½é½å¯ä»¥ä½¿ç¨åéè¯·æ±çå½¢å¼æ¥è¿è¡ã\n\n * åå»ºç´¢å¼ï¼booksæ¯ç´¢å¼åç§°ï¼ä¸å\n   \n   PUTè¯·æ±\t\thttp://localhost:9200/books\n   \n   \n   åéè¯·æ±åï¼çå°å¦ä¸ä¿¡æ¯å³ç´¢å¼åå»ºæå\n   \n   {\n       "acknowledged": true,\n       "shards_acknowledged": true,\n       "index": "books"\n   }\n   \n   \n   éå¤åå»ºå·²ç»å­å¨çç´¢å¼ä¼åºç°éè¯¯ä¿¡æ¯ï¼reasonå±æ§ä¸­æè¿°éè¯¯åå \n   \n   {\n       "error": {\n           "root_cause": [\n               {\n                   "type": "resource_already_exists_exception",\n                   "reason": "index [books/VgC_XMVAQmedaiBNSgO2-w] already exists",\n                   "index_uuid": "VgC_XMVAQmedaiBNSgO2-w",\n                   "index": "books"\n               }\n           ],\n           "type": "resource_already_exists_exception",\n           "reason": "index [books/VgC_XMVAQmedaiBNSgO2-w] already exists",\t# booksç´¢å¼å·²ç»å­å¨\n           "index_uuid": "VgC_XMVAQmedaiBNSgO2-w",\n           "index": "book"\n       },\n       "status": 400\n   }\n   \n\n * æ¥è¯¢ç´¢å¼\n   \n   GETè¯·æ±\thttp://localhost:9200/books\n   \n   \n   æ¥è¯¢ç´¢å¼å¾å°ç´¢å¼ç¸å³ä¿¡æ¯ï¼å¦ä¸\n   \n   {\n       "book": {\n           "aliases": {},\n           "mappings": {},\n           "settings": {\n               "index": {\n                   "routing": {\n                       "allocation": {\n                           "include": {\n                               "_tier_preference": "data_content"\n                           }\n                       }\n                   },\n                   "number_of_shards": "1",\n                   "provided_name": "books",\n                   "creation_date": "1645768584849",\n                   "number_of_replicas": "1",\n                   "uuid": "VgC_XMVAQmedaiBNSgO2-w",\n                   "version": {\n                       "created": "7160299"\n                   }\n               }\n           }\n       }\n   }\n   \n   \n   å¦ææ¥è¯¢äºä¸å­å¨çç´¢å¼ï¼ä¼è¿åéè¯¯ä¿¡æ¯ï¼ä¾å¦æ¥è¯¢åç§°ä¸ºbookçç´¢å¼åä¿¡æ¯å¦ä¸\n   \n   {\n       "error": {\n           "root_cause": [\n               {\n                   "type": "index_not_found_exception",\n                   "reason": "no such index [book]",\n                   "resource.type": "index_or_alias",\n                   "resource.id": "book",\n                   "index_uuid": "_na_",\n                   "index": "book"\n               }\n           ],\n           "type": "index_not_found_exception",\n           "reason": "no such index [book]",\t\t# æ²¡æbookç´¢å¼\n           "resource.type": "index_or_alias",\n           "resource.id": "book",\n           "index_uuid": "_na_",\n           "index": "book"\n       },\n       "status": 404\n   }\n   \n\n * å é¤ç´¢å¼\n   \n   DELETEè¯·æ±\thttp://localhost:9200/books\n   \n   \n   å é¤ææåï¼ç»åºå é¤ç»æ\n   \n   {\n       "acknowledged": true\n   }\n   \n   \n   å¦æéå¤å é¤ï¼ä¼ç»åºéè¯¯ä¿¡æ¯ï¼åæ ·å¨reasonå±æ§ä¸­æè¿°å·ä½çéè¯¯åå \n   \n   {\n       "error": {\n           "root_cause": [\n               {\n                   "type": "index_not_found_exception",\n                   "reason": "no such index [books]",\n                   "resource.type": "index_or_alias",\n                   "resource.id": "book",\n                   "index_uuid": "_na_",\n                   "index": "book"\n               }\n           ],\n           "type": "index_not_found_exception",\n           "reason": "no such index [books]",\t\t# æ²¡æbooksç´¢å¼\n           "resource.type": "index_or_alias",\n           "resource.id": "book",\n           "index_uuid": "_na_",\n           "index": "book"\n       },\n       "status": 404\n   }\n   \n\n * åå»ºç´¢å¼å¹¶æå®åè¯å¨\n   \n   åé¢åå»ºçç´¢å¼æ¯æªæå®åè¯å¨çï¼å¯ä»¥å¨åå»ºç´¢å¼æ¶æ·»å è¯·æ±åæ°ï¼è®¾ç½®åè¯å¨ãç®åå½åè¾ä¸ºæµè¡çåè¯å¨æ¯IKåè¯å¨ï¼ä½¿ç¨ååå¨ä¸å¯¹åºçåè¯å¨ï¼ç¶åä½¿ç¨ãIKåè¯å¨ä¸è½½å°åï¼https://github.com/medcl/elasticsearch-analysis-ik/releases\n   \n   åè¯å¨ä¸è½½åè§£åå°ESå®è£ç®å½çpluginsç®å½ä¸­å³å¯ï¼å®è£åè¯å¨åéè¦éæ°å¯å¨ESæå¡å¨ãä½¿ç¨IKåè¯å¨åå»ºç´¢å¼æ ¼å¼ï¼\n   \n   \n   \n   PUTè¯·æ±\t\thttp://localhost:9200/books\n   \n   è¯·æ±åæ°å¦ä¸ï¼æ³¨ææ¯jsonæ ¼å¼çåæ°ï¼\n   {\n       "mappings":{\t\t\t\t\t\t\t#å®ä¹mappingså±æ§ï¼æ¿æ¢åå»ºç´¢å¼æ¶å¯¹åºçmappingså±æ§\t\t\n           "properties":{\t\t\t\t\t\t#å®ä¹ç´¢å¼ä¸­åå«çå±æ§è®¾ç½®\n               "id":{\t\t\t\t\t\t\t#è®¾ç½®ç´¢å¼ä¸­åå«idå±æ§\n                   "type":"keyword"\t\t\t#å½åå±æ§å¯ä»¥è¢«ç´æ¥æç´¢\n               },\n               "name":{\t\t\t\t\t\t#è®¾ç½®ç´¢å¼ä¸­åå«nameå±æ§\n                   "type":"text",              #å½åå±æ§æ¯ææ¬ä¿¡æ¯,æ¯å­ç¬¦åï¼åä¸åè¯  \n                   "analyzer":"ik_max_word",   #ä½¿ç¨IKåè¯å¨è¿è¡åè¯             \n                   "copy_to":"all"\t\t\t\t#åè¯ç»ææ·è´å°allå±æ§ä¸­\n               },\n               "type":{\n                   "type":"keyword"\n               },\n               "description":{\n                   "type":"text",\t                \n                   "analyzer":"ik_max_word",                \n                   "copy_to":"all"\n               },\n               "all":{\t\t\t\t\t\t\t#å®ä¹å±æ§ï¼ç¨æ¥æè¿°å¤ä¸ªå­æ®µçåè¯ç»æéåï¼å½åå±æ§å¯ä»¥åä¸æ¥è¯¢\n                   "type":"text",\t            # è¿ä¸ªå±æ§å°name ådescriptionä¸­çæ·è´å°allä¸­    \n                   "analyzer":"ik_max_word"\n               }\n           }\n       }\n   }\n   \n   \n   åå»ºå®æ¯åè¿åç»æåä¸ä½¿ç¨åè¯å¨åå»ºç´¢å¼çç»ææ¯ä¸æ ·çï¼æ­¤æ¶å¯ä»¥éè¿æ¥çç´¢å¼ä¿¡æ¯è§å¯å°æ·»å çè¯·æ±åæ°mappingså·²ç»è¿å¥å°äºç´¢å¼å±æ§ä¸­ï¼å·ä½å±æ§é¡ºåºæç§åé¨è®¾å®è¿è¡æåº\n   \n   {\n       "books": {\n           "aliases": {},\n           "mappings": {\t\t\t\t\t\t#mappingså±æ§å·²ç»è¢«æ¿æ¢\n               "properties": {\n                   "all": {\n                       "type": "text",\n                       "analyzer": "ik_max_word"\n                   },\n                   "description": {\n                       "type": "text",\n                       "copy_to": [\n                           "all"\n                       ],\n                       "analyzer": "ik_max_word"\n                   },\n                   "id": {\n                       "type": "keyword"\n                   },\n                   "name": {\n                       "type": "text",\n                       "copy_to": [\n                           "all"\n                       ],\n                       "analyzer": "ik_max_word"\n                   },\n                   "type": {\n                       "type": "keyword"\n                   }\n               }\n           },\n           "settings": {\n               "index": {\n                   "routing": {\n                       "allocation": {\n                           "include": {\n                               "_tier_preference": "data_content"\n                           }\n                       }\n                   },\n                   "number_of_shards": "1",\n                   "provided_name": "books",\n                   "creation_date": "1645769809521",\n                   "number_of_replicas": "1",\n                   "uuid": "DohYKvr_SZO4KRGmbZYmTQ",\n                   "version": {\n                       "created": "7160299"\n                   }\n               }\n           }\n       }\n   }\n   \n\nç®åæä»¬å·²ç»æäºç´¢å¼äºï¼ä½æ¯ç´¢å¼ä¸­è¿æ²¡ææ°æ®ï¼æä»¥è¦åæ·»å æ°æ®ï¼ESä¸­ç§°æ°æ®ä¸ºææ¡£ï¼ä¸é¢è¿è¡ææ¡£æä½ã\n\n * æ·»å ææ¡£ï¼æä¸ç§æ¹å¼\n   \n   POSTè¯·æ±\thttp://localhost:9200/books/_doc\t\t#ä½¿ç¨ç³»ç»çæid\n   POSTè¯·æ±\thttp://localhost:9200/books/_create/1\t#ä½¿ç¨æå®id\n   POSTè¯·æ±\thttp://localhost:9200/books/_doc/1\t\t#ä½¿ç¨æå®idï¼ä¸å­å¨åå»ºï¼å­å¨æ´æ°ï¼çæ¬éå¢ï¼\n   \n   ææ¡£éè¿è¯·æ±åæ°ä¼ éï¼æ°æ®æ ¼å¼json\n   {\n       "name":"springboot",\n       "type":"springboot",\n       "description":"springboot"\n   }  \n   \n\n * æ¥è¯¢ææ¡£\n   \n   GETè¯·æ±\thttp://localhost:9200/books/_doc/1\t\t #æ¥è¯¢åä¸ªææ¡£ \t\t\n   GETè¯·æ±\thttp://localhost:9200/books/_search\t\t #æ¥è¯¢å¨é¨ææ¡£\n   \n\n * æ¡ä»¶æ¥è¯¢\n   \n   GETè¯·æ±\thttp://localhost:9200/books/_search?q=name:springboot\t# q=æ¥è¯¢å±æ§å:æ¥è¯¢å±æ§å¼\n   \n\n * å é¤ææ¡£\n   \n   DELETEè¯·æ±\thttp://localhost:9200/books/_doc/1\n   \n\n * ä¿®æ¹ææ¡£ï¼å¨éæ´æ°ï¼\n   \n   PUTè¯·æ±\thttp://localhost:9200/books/_doc/1\n   \n   ææ¡£éè¿è¯·æ±åæ°ä¼ éï¼æ°æ®æ ¼å¼json\n   {\n       "name":"springboot",\n       "type":"springboot",\n       "description":"springboot"\n   }\n   \n\n * ä¿®æ¹ææ¡£ï¼é¨åæ´æ°ï¼\n   \n   POSTè¯·æ±\thttp://localhost:9200/books/_update/1\n   \n   ææ¡£éè¿è¯·æ±åæ°ä¼ éï¼æ°æ®æ ¼å¼json\n   {\t\t\t\n       "doc":{\t\t\t\t\t\t#é¨åæ´æ°å¹¶ä¸æ¯å¯¹åå§ææ¡£è¿è¡æ´æ°ï¼èæ¯å¯¹åå§ææ¡£å¯¹è±¡ä¸­çdocå±æ§ä¸­çæå®å±æ§æ´æ°\n           "name":"springboot"\t\t#ä»æ´æ°æä¾çå±æ§å¼ï¼æªæä¾çå±æ§å¼ä¸åä¸æ´æ°æä½\n       }\n   }\n   \n\n# æ´å\n\nä½¿ç¨springbootæ´åESè¯¥å¦ä½è¿è¡å¢ï¼èè§ç©ï¼å¯¼å¥åæ ï¼åéç½®ï¼ä½¿ç¨APIæ¥å£æä½ãæ´åRediså¦æ­¤ï¼æ´åMongoDBå¦æ­¤ï¼æ´åESä¾ç¶å¦æ­¤ãå¤ªæ²¡ææ°æäºï¼å¶å®ä¸æ¯æ²¡ææ°æï¼è¿å°±æ¯springbootçå¼ºå¤§ä¹å¤ï¼ææä¸è¥¿é½åæç¸åè§åï¼å¯¹å¼åèæ¥è¯´éå¸¸åå¥½ã\n\nä¸é¢å°±å¼å§springbootæ´åESï¼æä½æ­¥éª¤å¦ä¸ï¼\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åESçstarteråæ \n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-data-elasticsearch</artifactId>\n</dependency>\n\n\næ­¥éª¤â¡ï¼è¿è¡åºç¡éç½®\n\nspring:\n  elasticsearch:\n    rest:\n      uris: http://localhost:9200\n\n\néç½®ESæå¡å¨å°åï¼ç«¯å£9200\n\næ­¥éª¤â¢ï¼ä½¿ç¨springbootæ´åESçä¸ç¨å®¢æ·ç«¯æ¥å£ElasticsearchRestTemplateæ¥è¿è¡æä½\n\n@SpringBootTest\nclass Springboot18EsApplicationTests {\n    @Autowired\n    private ElasticsearchRestTemplate template;\n}\n\n\nä¸è¿°æä½å½¢å¼æ¯ESæ©æçæä½æ¹å¼ï¼ä½¿ç¨çå®¢æ·ç«¯è¢«ç§°ä¸ºLow Level Clientï¼è¿ç§å®¢æ·ç«¯æä½æ¹å¼æ§è½æ¹é¢ç¥æ¾ä¸è¶³ï¼äºæ¯ESå¼åäºå¨æ°çå®¢æ·ç«¯æä½æ¹å¼ï¼ç§°ä¸ºHigh Level Clientãé«çº§å«å®¢æ·ç«¯ä¸ESçæ¬åæ­¥æ´æ°ï¼ä½æ¯springbootæåæ´åESçæ¶åä½¿ç¨çæ¯ä½çº§å«å®¢æ·ç«¯ï¼æä»¥ä¼ä¸å¼åéè¦æ´æ¢æé«çº§å«çå®¢æ·ç«¯æ¨¡å¼ã\n\nä¸é¢ä½¿ç¨é«çº§å«å®¢æ·ç«¯æ¹å¼è¿è¡springbootæ´åESï¼æä½æ­¥éª¤å¦ä¸ï¼\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åESé«çº§å«å®¢æ·ç«¯çåæ ï¼æ­¤ç§å½¢å¼ç®åæ²¡æå¯¹åºçstarter\n\n<dependency>\n    <groupId>org.elasticsearch.client</groupId>\n    <artifactId>elasticsearch-rest-high-level-client</artifactId>\n</dependency>\n\n\næ­¥éª¤â¡ï¼ä½¿ç¨ç¼ç¨çå½¢å¼è®¾ç½®è¿æ¥çESæå¡å¨ï¼å¹¶è·åå®¢æ·ç«¯å¯¹è±¡\n\n@SpringBootTest\nclass Springboot18EsApplicationTests {\n    private RestHighLevelClient client;\n      @Test\n      void testCreateClient() throws IOException {\n          HttpHost host = HttpHost.create("http://localhost:9200");\n          RestClientBuilder builder = RestClient.builder(host);\n          client = new RestHighLevelClient(builder);\n  \n          client.close();\n      }\n}\n\n\néç½®ESæå¡å¨å°åä¸ç«¯å£9200ï¼è®°å¾å®¢æ·ç«¯ä½¿ç¨å®æ¯éè¦æå·¥å³é­ãç±äºå½åå®¢æ·ç«¯æ¯æå·¥ç»´æ¤çï¼å æ­¤ä¸è½éè¿èªå¨è£éçå½¢å¼å è½½å¯¹è±¡ã\n\næ­¥éª¤â¢ï¼ä½¿ç¨å®¢æ·ç«¯å¯¹è±¡æä½ESï¼ä¾å¦åå»ºç´¢å¼\n\n@SpringBootTest\nclass Springboot18EsApplicationTests {\n    private RestHighLevelClient client;\n      @Test\n      void testCreateIndex() throws IOException {\n          HttpHost host = HttpHost.create("http://localhost:9200");\n          RestClientBuilder builder = RestClient.builder(host);\n          client = new RestHighLevelClient(builder);\n          // å®¢æ·ç«¯æä½\n          CreateIndexRequest request = new CreateIndexRequest("books");\n          // è·åæä½ç´¢å¼çå®¢æ·ç«¯å¯¹è±¡ï¼è°ç¨åå»ºç´¢å¼æä½\n          client.indices().create(request, RequestOptions.DEFAULT); \n          // å³é­å®¢æ·ç«¯\n          client.close();\n      }\n}\n\n\né«çº§å«å®¢æ·ç«¯æä½æ¯éè¿åéè¯·æ±çæ¹å¼å®ææææä½çï¼ESéå¯¹åç§ä¸åçæä½ï¼è®¾å®äºåå¼åæ ·çè¯·æ±å¯¹è±¡ï¼ä¸ä¾ä¸­åå»ºç´¢å¼çå¯¹è±¡æ¯CreateIndexRequestï¼å¶ä»æä½ä¹ä¼æèªå·±ä¸ç¨çRequestå¯¹è±¡ã\n\nå½åæä½æä»¬åç°ï¼æ è®ºè¿è¡ESä½ç§æä½ï¼ç¬¬ä¸æ­¥æ°¸è¿æ¯è·åRestHighLevelClientå¯¹è±¡ï¼æåä¸æ­¥æ°¸è¿æ¯å³é­è¯¥å¯¹è±¡çè¿æ¥ãå¨æµè¯ä¸­å¯ä»¥ä½¿ç¨æµè¯ç±»çç¹æ§å»å¸®å©å¼åèä¸æ¬¡æ§çå®æä¸è¿°æä½ï¼ä½æ¯å¨ä¸å¡ä¹¦åæ¶ï¼è¿éè¦èªè¡ç®¡çãå°ä¸è¿°ä»£ç æ ¼å¼è½¬æ¢æä½¿ç¨æµè¯ç±»çåå§åæ¹æ³åéæ¯æ¹æ³è¿è¡å®¢æ·ç«¯å¯¹è±¡çç»´æ¤ã\n\n@SpringBootTest\nclass Springboot18EsApplicationTests {\n    @BeforeEach\t\t//å¨æµè¯ç±»ä¸­æ¯ä¸ªæä½è¿è¡åè¿è¡çæ¹æ³\n    void setUp() {\n        HttpHost host = HttpHost.create("http://localhost:9200");\n        RestClientBuilder builder = RestClient.builder(host);\n        client = new RestHighLevelClient(builder);\n    }\n\n    @AfterEach\t\t//å¨æµè¯ç±»ä¸­æ¯ä¸ªæä½è¿è¡åè¿è¡çæ¹æ³\n    void tearDown() throws IOException {\n        client.close();ï¼\n    }\n\n    private RestHighLevelClient client;\n\n    @Test\n    void testCreateIndex() throws IOException {\n        CreateIndexRequest request = new CreateIndexRequest("books");\n        client.indices().create(request, RequestOptions.DEFAULT);\n    }\n}\n\n\nç°å¨çä¹¦åç®åäºå¾å¤ï¼ä¹æ´åçãä¸é¢ä½¿ç¨ä¸è¿°æ¨¡å¼å°ææçESæä½æ§è¡ä¸éï¼æµè¯ç»æ\n\nåå»ºç´¢å¼ï¼IKåè¯å¨ï¼ï¼\n\n@Test\nvoid testCreateIndexByIK() throws IOException {\n    CreateIndexRequest request = new CreateIndexRequest("books");\n    String json = "{\\n" +\n            "    \\"mappings\\":{\\n" +\n            "        \\"properties\\":{\\n" +\n            "            \\"id\\":{\\n" +\n            "                \\"type\\":\\"keyword\\"\\n" +\n            "            },\\n" +\n            "            \\"name\\":{\\n" +\n            "                \\"type\\":\\"text\\",\\n" +\n            "                \\"analyzer\\":\\"ik_max_word\\",\\n" +\n            "                \\"copy_to\\":\\"all\\"\\n" +\n            "            },\\n" +\n            "            \\"type\\":{\\n" +\n            "                \\"type\\":\\"keyword\\"\\n" +\n            "            },\\n" +\n            "            \\"description\\":{\\n" +\n            "                \\"type\\":\\"text\\",\\n" +\n            "                \\"analyzer\\":\\"ik_max_word\\",\\n" +\n            "                \\"copy_to\\":\\"all\\"\\n" +\n            "            },\\n" +\n            "            \\"all\\":{\\n" +\n            "                \\"type\\":\\"text\\",\\n" +\n            "                \\"analyzer\\":\\"ik_max_word\\"\\n" +\n            "            }\\n" +\n            "        }\\n" +\n            "    }\\n" +\n            "}";\n    //è®¾ç½®è¯·æ±ä¸­çåæ°\n    request.source(json, XContentType.JSON);\n    client.indices().create(request, RequestOptions.DEFAULT);\n}\n\n\nIKåè¯å¨æ¯éè¿è¯·æ±åæ°çå½¢å¼è¿è¡è®¾ç½®çï¼è®¾ç½®è¯·æ±åæ°ä½¿ç¨requestå¯¹è±¡ä¸­çsourceæ¹æ³è¿è¡è®¾ç½®ï¼è³äºåæ°æ¯ä»ä¹ï¼åå³äºä½ çæä½ç§ç±»ãå½è¯·æ±ä¸­éè¦åæ°æ¶ï¼åå¯ä½¿ç¨å½åå½¢å¼è¿è¡åæ°è®¾ç½®ã\n\næ·»å ææ¡£ï¼\n\n@Test\n//æ·»å Idä¸º1çæ°æ®ï¼ææ¡£ï¼\nvoid testCreateDoc() throws IOException {\n    Book book = bookDao.selectById(1);\n    IndexRequest request = new IndexRequest("books").id(book.getId().toString());\n    String json = JSON.toJSONString(book);\n    request.source(json,XContentType.JSON);\n    client.index(request,RequestOptions.DEFAULT);\n}\n\n\næ·»å ææ¡£ä½¿ç¨çè¯·æ±å¯¹è±¡æ¯IndexRequestï¼ä¸åå»ºç´¢å¼ä½¿ç¨çè¯·æ±å¯¹è±¡ä¸åã\n\næ¹éæ·»å ææ¡£ï¼\n\n@Test\n//æ¹éæ·»å ææ¡£\nvoid testCreateDocAll() throws IOException {\n    List<Book> bookList = bookDao.selectList(null);\n    BulkRequest bulk = new BulkRequest();\n    for (Book book : bookList) {\n        IndexRequest request = new IndexRequest("books").id(book.getId().toString());\n        String json = JSON.toJSONString(book);\n        request.source(json,XContentType.JSON);\n        bulk.add(request);\n    }\n    client.bulk(bulk,RequestOptions.DEFAULT);\n}\n\n\næ¹éåæ¶ï¼ååå»ºä¸ä¸ªBulkRequestçå¯¹è±¡ï¼å¯ä»¥å°è¯¥å¯¹è±¡çè§£ä¸ºæ¯ä¸ä¸ªä¿å­requestå¯¹è±¡çå®¹å¨ï¼å°ææçè¯·æ±é½åå§åå¥½åï¼æ·»å å°BulkRequestå¯¹è±¡ä¸­ï¼åä½¿ç¨BulkRequestå¯¹è±¡çbulkæ¹æ³ï¼ä¸æ¬¡æ§æ§è¡å®æ¯ã\n\næidæ¥è¯¢ææ¡£ï¼\n\n@Test\n//æidæ¥è¯¢\nvoid testGet() throws IOException {\n    GetRequest request = new GetRequest("books","1");\n    GetResponse response = client.get(request, RequestOptions.DEFAULT);\n    String json = response.getSourceAsString();\n    System.out.println(json);\n}\n\n\næ ¹æ®idæ¥è¯¢ææ¡£ä½¿ç¨çè¯·æ±å¯¹è±¡æ¯GetRequestã\n\nææ¡ä»¶æ¥è¯¢ææ¡£ï¼\n\n@Test\n//ææ¡ä»¶æ¥è¯¢\nvoid testSearch() throws IOException {\n    SearchRequest request = new SearchRequest("books");\n\n    SearchSourceBuilder builder = new SearchSourceBuilder();\n    builder.query(QueryBuilders.termQuery("all","spring"));    // æ¥è¯¢å¯¹è±¡\n    request.source(builder);  // ä½¿è®¾ç½®æ¡ä»¶ \n\n    SearchResponse response = client.search(request, RequestOptions.DEFAULT);\n    SearchHits hits = response.getHits();\n    for (SearchHit hit : hits) {\n        String source = hit.getSourceAsString();\n        //System.out.println(source);\n        Book book = JSON.parseObject(source, Book.class);\n        System.out.println(book);\n    }\n}\n\n\nææ¡ä»¶æ¥è¯¢ææ¡£ä½¿ç¨çè¯·æ±å¯¹è±¡æ¯SearchRequestï¼æ¥è¯¢æ¶è°ç¨SearchRequestå¯¹è±¡çtermQueryæ¹æ³ï¼éè¦ç»åºæ¥è¯¢å±æ§åï¼æ­¤å¤æ¯æä½¿ç¨åå¹¶å­æ®µï¼ä¹å°±æ¯åé¢å®ä¹ç´¢å¼å±æ§æ¶æ·»å çallå±æ§ã\n\nspringbootæ´åESçæä½å°è¿éå°±è¯´å®äºï¼ä¸åæè¿è¡springbootæ´åredisåmongodbçå·®å«è¿æ¯è®å¤§çï¼ä¸»è¦åå§å°±æ¯æä»¬æ²¡æä½¿ç¨springbootæ´åESçå®¢æ·ç«¯å¯¹è±¡ãè³äºæä½ï¼ç±äºESæä½ç§ç±»è¿å¤ï¼æä»¥æ¾å¾æä½ç¥å¾®æç¹å¤æãæå³springbootæ´åESå°±åå­¦ä¹ å°è¿éå§ã\n\næ»ç»\n\n 1. springbootæ´åESæ­¥éª¤\n    1. å¯¼å¥springbootæ´åESçHigh Level Clientåæ \n    2. æå·¥ç®¡çå®¢æ·ç«¯å¯¹è±¡ï¼åæ¬åå§ååå³é­æä½\n    3. ä½¿ç¨High Level Clientæ ¹æ®æä½çç§ç±»ä¸åï¼éæ©ä¸åçRequestå¯¹è±¡å®æå¯¹åºæä½\n\n\n# KF-5.æ´åç¬¬ä¸æ¹ææ¯\n\néè¿ç¬¬åç« çå­¦ä¹ ï¼æä»¬é¢ç¥å°äºspringbootå¨æ´åç¬¬ä¸æ¹ææ¯æ¶å¼ºå¤§çä¸è´æ§ï¼å¨ç¬¬äºç« ä¸­æä»¬è¦ä½¿ç¨springbootç»§ç»­æ´ååç§åæ ·çç¬¬ä¸æ¹ææ¯ï¼éè¿æ¬ç« çå­¦ä¹ ï¼å¯ä»¥å°ä¹åå­¦ä¹ çspringbootæ´åç¬¬ä¸æ¹ææ¯çææ³è´¯å½»å°åºï¼è¿æ¯é£ä¸æ¿æ§ãå¯¼åæ ãåéç½®ãè°APIã\n\nspringbootè½å¤æ´åçææ¯å®å¨æ¯å¤ªå¤äºï¼å¯ä»¥è¯´æ¯ä¸ç©çå¯æ´ãæ¬ç« å°ä»ä¼ä¸çº§å¼åä¸­å¸¸ç¨çä¸äºææ¯ä½ä¸ºåºåç¹ï¼å¯¹åç§åæ ·çææ¯è¿è¡æ´åã\n\n\n# KF-5-1.ç¼å­\n\nä¼ä¸çº§åºç¨ä¸»è¦ä½ç¨æ¯ä¿¡æ¯å¤çï¼å½éè¦è¯»åæ°æ®æ¶ï¼ç±äºåéäºæ°æ®åºçè®¿é®æçï¼å¯¼è´æ´ä½ç³»ç»æ§è½åä½ã\n\nåºç¨ç¨åºç´æ¥ä¸æ°æ®åºæäº¤éï¼è®¿é®æçä½\n\nä¸ºäºæ¹åä¸è¿°ç°è±¡ï¼å¼åèéå¸¸ä¼å¨åºç¨ç¨åºä¸æ°æ®åºä¹é´å»ºç«ä¸ç§ä¸´æ¶çæ°æ®å­å¨æºå¶ï¼è¯¥åºåä¸­çæ°æ®å¨åå­ä¸­ä¿å­ï¼è¯»åéåº¦è¾å¿«ï¼å¯ä»¥ææè§£å³æ°æ®åºè®¿é®æçä½ä¸çé®é¢ãè¿ä¸åä¸´æ¶å­å¨æ°æ®çåºåå°±æ¯ç¼å­ã\n\n\t\t\t\t\t\t\t\t\t\tä½¿ç¨ç¼å­åï¼åºç¨ç¨åºä¸ç¼å­æäº¤éï¼ç¼å­ä¸æ°æ®åºæäº¤éï¼æ°æ®è®¿é®æçæé«\n\n\n\n\nå¤çº§ç¼å­\n\nç¼å­æ¯ä»ä¹ï¼ç¼å­æ¯ä¸ç§ä»äºæ°æ®æ°¸ä¹å­å¨ä»è´¨ä¸åºç¨ç¨åºä¹é´çæ°æ®ä¸´æ¶å­å¨ä»è´¨ï¼ä½¿ç¨ç¼å­å¯ä»¥ææçåå°ä½éæ°æ®è¯»åè¿ç¨çæ¬¡æ°ï¼ä¾å¦ç£çIOï¼ï¼æé«ç³»ç»æ§è½ãæ­¤å¤ç¼å­ä¸ä»å¯ä»¥ç¨äºæé«æ°¸ä¹æ§å­å¨ä»è´¨çæ°æ®è¯»åæçï¼è¿å¯ä»¥æä¾ä¸´æ¶çæ°æ®å­å¨ç©ºé´ãèspringbootæä¾äºå¯¹å¸é¢ä¸å ä¹ææçç¼å­ææ¯è¿è¡æ´åçæ¹æ¡ï¼ä¸é¢å°±ä¸èµ·å¼å¯springbootæ´åç¼å­ä¹æã\n\n# SpringBootåç½®ç¼å­è§£å³æ¹æ¡\n\nspringbootææ¯æä¾æåç½®çç¼å­è§£å³æ¹æ¡ï¼å¯ä»¥å¸®å©å¼åèå¿«éå¼å¯ç¼å­ææ¯ï¼å¹¶ä½¿ç¨ç¼å­ææ¯è¿è¡æ°æ®çå¿«éæä½ï¼ä¾å¦è¯»åç¼å­æ°æ®ååå¥æ°æ®å°ç¼å­ã\n\næ­¥éª¤â ï¼å¯¼å¥springbootæä¾çç¼å­ææ¯å¯¹åºçstarter\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-cache</artifactId>\n</dependency>\n\n\næ­¥éª¤â¡ï¼å¯ç¨ç¼å­ï¼å¨å¼å¯¼ç±»ä¸æ¹æ æ³¨æ³¨è§£@EnableCachingéç½®springbootç¨åºä¸­å¯ä»¥ä½¿ç¨ç¼å­\n\n@SpringBootApplication\n//å¼å¯ç¼å­åè½\n@EnableCaching\npublic class Springboot19CacheApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(Springboot19CacheApplication.class, args);\n    }\n}\n\n\næ­¥éª¤â¢ï¼è®¾ç½®æä½çæ°æ®æ¯å¦ä½¿ç¨ç¼å­\n\n@Service\npublic class BookServiceImpl implements BookService {\n    @Autowired\n    private BookDao bookDao;\n\n    @Cacheable(value="cacheSpace",key="#id")\n    public Book getById(Integer id) {\n        return bookDao.selectById(id);\n    }\n}\n\n\nå¨ä¸å¡æ¹æ³ä¸é¢ä½¿ç¨æ³¨è§£@Cacheableå£°æå½åæ¹æ³çè¿åå¼æ¾å¥ç¼å­ä¸­ï¼å¶ä¸­è¦æå®ç¼å­çå­å¨ä½ç½®ï¼ä»¥åç¼å­ä¸­ä¿å­å½åæ¹æ³è¿åå¼å¯¹åºçåç§°ãä¸ä¾ä¸­valueå±æ§æè¿°ç¼å­çå­å¨ä½ç½®ï¼å¯ä»¥çè§£ä¸ºæ¯ä¸ä¸ªå­å¨ç©ºé´åï¼keyå±æ§æè¿°äºç¼å­ä¸­ä¿å­æ°æ®çåç§°ï¼ä½¿ç¨#idè¯»åå½¢åä¸­çidå¼ä½ä¸ºç¼å­åç§°ã\n\nä½¿ç¨@Cacheableæ³¨è§£åï¼æ§è¡å½åæä½ï¼å¦æåç°å¯¹åºåç§°å¨ç¼å­ä¸­æ²¡ææ°æ®ï¼å°±æ­£å¸¸è¯»åæ°æ®ï¼ç¶åæ¾å¥ç¼å­ï¼å¦æå¯¹åºåç§°å¨ç¼å­ä¸­ææ°æ®ï¼å°±ç»æ­¢å½åä¸å¡æ¹æ³æ§è¡ï¼ç´æ¥è¿åç¼å­ä¸­çæ°æ®ã\n\n# ææºéªè¯ç æ¡ä¾\n\nä¸ºäºä¾¿äºä¸é¢æ¼ç¤ºåç§åæ ·çç¼å­ææ¯ï¼æä»¬åå»ºä¸ä¸ªææºéªè¯ç çæ¡ä¾ç¯å¢ï¼æ¨¡æä½¿ç¨ç¼å­ä¿å­ææºéªè¯ç çè¿ç¨ã\n\nææºéªè¯ç æ¡ä¾éæ±å¦ä¸ï¼\n\n * è¾å¥ææºå·è·åéªè¯ç ï¼ç»ç»ææ¡£ä»¥ç­ä¿¡å½¢å¼åéç»ç¨æ·ï¼é¡µé¢æ¨¡æï¼\n * è¾å¥ææºå·åéªè¯ç éªè¯ç»æ\n\nä¸ºäºæè¿°ä¸è¿°æä½ï¼æä»¬å¶ä½ä¸¤ä¸ªè¡¨ç°å±æ¥å£ï¼ä¸ä¸ªç¨æ¥æ¨¡æåéç­ä¿¡çè¿ç¨ï¼å¶å®å°±æ¯æ ¹æ®ç¨æ·æä¾çææºå·çæä¸ä¸ªéªè¯ç ï¼ç¶åæ¾å¥ç¼å­ï¼å¦ä¸ä¸ªç¨æ¥æ¨¡æéªè¯ç æ ¡éªçè¿ç¨ï¼å¶å®å°±æ¯ä½¿ç¨ä¼ å¥çææºå·åéªè¯ç è¿è¡å¹éï¼å¹¶è¿åæç»å¹éç»æãä¸é¢ç´æ¥å¶ä½æ¬æ¡ä¾çæ¨¡æä»£ç ï¼åä»¥ä¸ä¾ä¸­springbootæä¾çåç½®ç¼å­ææ¯æ¥å®æå½åæ¡ä¾çå¶ä½ã\n\næ­¥éª¤â ï¼å¯¼å¥springbootæä¾çç¼å­ææ¯å¯¹åºçstarter\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-cache</artifactId>\n</dependency>\n\n\næ­¥éª¤â¡ï¼å¯ç¨ç¼å­ï¼å¨å¼å¯¼ç±»ä¸æ¹æ æ³¨æ³¨è§£@EnableCachingéç½®springbootç¨åºä¸­å¯ä»¥ä½¿ç¨ç¼å­\n\n@SpringBootApplication\n//å¼å¯ç¼å­åè½\n@EnableCaching\npublic class Springboot19CacheApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(Springboot19CacheApplication.class, args);\n    }\n}\n\n\næ­¥éª¤â¢ï¼å®ä¹éªè¯ç å¯¹åºçå®ä½ç±»ï¼å°è£ææºå·ä¸éªè¯ç ä¸¤ä¸ªå±æ§\n\n@Data\npublic class SMSCode {\n    private String tele;\n    private String code;\n}\n\n\næ­¥éª¤â£ï¼å®ä¹éªè¯ç åè½çä¸å¡å±æ¥å£ä¸å®ç°ç±»\n\npublic interface SMSCodeService {\n    public String sendCodeToSMS(String tele);\n    public boolean checkCode(SMSCode smsCode);\n}\n\n@Service\npublic class SMSCodeServiceImpl implements SMSCodeService {\n    @Autowired\n    private CodeUtils codeUtils;\n\n    @CachePut(value = "smsCode", key = "#tele")\n    public String sendCodeToSMS(String tele) {\n        String code = codeUtils.generator(tele);\n        return code;\n    }\n\n    public boolean checkCode(SMSCode smsCode) {\n        //ååºåå­ä¸­çéªè¯ç ä¸ä¼ éè¿æ¥çéªè¯ç æ¯å¯¹ï¼å¦æç¸åï¼è¿åtrue\n        String code = smsCode.getCode();\n        String cacheCode = codeUtils.get(smsCode.getTele());  // ç¼å­ä¸­ååºå¯¹åºçéªè¯ç \n        return code.equals(cacheCode);\n    }\n}\n\n\nè·åéªè¯ç åï¼å½éªè¯ç å¤±ææ¶å¿é¡»éæ°è·åéªè¯ç ï¼å æ­¤å¨è·åéªè¯ç çåè½ä¸ä¸è½ä½¿ç¨@Cacheableæ³¨è§£ï¼@Cacheableæ³¨è§£æ¯ç¼å­ä¸­æ²¡æå¼åæ¾å¥å¼ï¼ç¼å­ä¸­æå¼ååå¼ï¼å¨è¿éå°±ä¸è½æ ¹æ®ææºå·éæ°çæéªè¯ç äºãæ­¤å¤çåè½ä»ä»æ¯çæéªè¯ç å¹¶æ¾å¥ç¼å­ï¼å¹¶ä¸å·æä»ç¼å­ä¸­åå¼çåè½ï¼å æ­¤ä¸è½ä½¿ç¨@Cacheableæ³¨è§£ï¼åºè¯¥ä½¿ç¨ä»å·æåç¼å­ä¸­ä¿å­æ°æ®çåè½ï¼ä½¿ç¨@CachePutæ³¨è§£å³å¯ã\n\nå¯¹äºæ ¡éªéªè¯ç çåè½å»ºè®®æ¾å¥å·¥å·ç±»ä¸­è¿è¡ã\n\næ­¥éª¤â¤ï¼å®ä¹éªè¯ç ççæç­ç¥ä¸æ ¹æ®ææºå·è¯»åéªè¯ç çåè½\n\n@Component\npublic class CodeUtils {\n    private String [] patch = {"000000","00000","0000","000","00","0",""};\n\n    public String generator(String tele){\n        int hash = tele.hashCode();\n        int encryption = 20206666;\n        long result = hash ^ encryption;\n        long nowTime = System.currentTimeMillis();\n        result = result ^ nowTime;\n        long code = result % 1000000;\n        code = code < 0 ? -code : code;\n        String codeStr = code +   // è½¬æå­ç¬¦ä¸²\n        int len = codeStr.length();\n        return patch[len] + codeStr;\n    }\n\n    @Cacheable(value = "smsCode",key="#tele")\n    public String get(String tele){\n        return null;\n    }\n}\n\n\næ­¥éª¤â¥ï¼å®ä¹éªè¯ç åè½çwebå±æ¥å£ï¼ä¸ä¸ªæ¹æ³ç¨äºæä¾ææºå·è·åéªè¯ç ï¼ä¸ä¸ªæ¹æ³ç¨äºæä¾ææºå·åéªè¯ç è¿è¡æ ¡éª\n\n@RestController\n@RequestMapping("/sms")\npublic class SMSCodeController {\n    @Autowired\n    private SMSCodeService smsCodeService;\n    \n    @GetMapping\n    public String getCode(String tele){\n        String code = smsCodeService.sendCodeToSMS(tele);\n        return code;\n    }\n    \n    @PostMapping\n    public boolean checkCode(SMSCode smsCode){\n        return smsCodeService.checkCode(smsCode);\n    }\n}\n\n\n# SpringBootå¸¸ç¨ç¼å­ææ¯\n\næ çº¢çæ¯æä¸ºå¸¸ç¨ç\n\n\n\n# SpringBootæ´åEhcacheç¼å­\n\nææºéªè¯ç çæ¡ä¾å·²ç»å®æäºï¼ä¸é¢å°±å¼å§springbootæ´ååç§åæ ·çç¼å­ææ¯ï¼ç¬¬ä¸ä¸ªæ´åEhcacheææ¯ãEhcacheæ¯ä¸ç§ç¼å­ææ¯ï¼ä½¿ç¨springbootæ´åEhcacheå¶å®å°±æ¯åæ´ä¸ä¸ç¼å­ææ¯çå®ç°æ¹å¼ï¼è¯ä¸å¤è¯´ï¼ç´æ¥å¼æ´\n\næ­¥éª¤â ï¼å¯¼å¥Ehcacheçåæ \n\n<dependency>\n    <groupId>net.sf.ehcache</groupId>\n    <artifactId>ehcache</artifactId>\n</dependency>\n\n\næ­¤å¤ä¸ºä»ä¹ä¸æ¯å¯¼å¥Ehcacheçstarterï¼èæ¯å¯¼å¥ææ¯åæ å¢ï¼å¶å®springbootæ´åç¼å­ææ¯åçæ¯éç¨æ ¼å¼ï¼ä¸ç®¡ä½ æ´ååªç§ç¼å­ææ¯ï¼åªæ¯å®ç°ååäºï¼æä½æ¹å¼ä¸æ ·ãè¿ä¹ä½ç°åºspringbootææ¯çä¼ç¹ï¼ç»ä¸åç±»ææ¯çæ´åæ¹å¼ã\n\næ­¥éª¤â¡ï¼éç½®ç¼å­ææ¯å®ç°ä½¿ç¨Ehcache\n\nspring:\n  cache:\n    type: ehcache\n    ehcache:\n      config: ehcache.xml\n\n\néç½®ç¼å­çç±»åtypeä¸ºehcacheï¼æ­¤å¤éè¦è¯´æä¸ä¸ï¼å½åspringbootå¯ä»¥æ´åçç¼å­ææ¯ä¸­åå«æehcachï¼æä»¥å¯ä»¥è¿æ ·ä¹¦åãå¶å®è¿ä¸ªtypeä¸å¯ä»¥éä¾¿åçï¼ä¸æ¯éä¾¿åä¸ä¸ªåç§°å°±å¯ä»¥æ´åçã\n\nç±äºehcacheçéç½®æç¬ç«çéç½®æä»¶æ ¼å¼ï¼å æ­¤è¿éè¦æå®ehcacheçéç½®æä»¶ï¼ä»¥ä¾¿äºè¯»åç¸åºéç½®\n\n<?xml version="1.0" encoding="UTF-8"?>\n<ehcache xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:noNamespaceSchemaLocation="http://ehcache.org/ehcache.xsd"\n         updateCheck="false">\n    <diskStore path="D:\\ehcache" />\n\n    \x3c!--é»è®¤ç¼å­ç­ç¥ --\x3e\n    \x3c!-- externalï¼æ¯å¦æ°¸ä¹å­å¨ï¼è®¾ç½®ä¸ºtrueåä¸ä¼è¢«æ¸é¤ï¼æ­¤æ¶ä¸timeoutå²çªï¼éå¸¸è®¾ç½®ä¸ºfalse--\x3e\n    \x3c!-- diskPersistentï¼æ¯å¦å¯ç¨ç£çæä¹å--\x3e\n    \x3c!-- maxElementsInMemoryï¼æå¤§ç¼å­æ°é--\x3e\n    \x3c!-- overflowToDiskï¼è¶è¿æå¤§ç¼å­æ°éæ¯å¦æä¹åå°ç£ç--\x3e\n    \x3c!-- timeToIdleSecondsï¼æå¤§ä¸æ´»å¨é´éï¼è®¾ç½®è¿é¿ç¼å­å®¹ææº¢åºï¼è®¾ç½®è¿ç­æ ææï¼å¯ç¨äºè®°å½æ¶ææ§æ°æ®ï¼ä¾å¦éªè¯ç --\x3e\n    \x3c!-- timeToLiveSecondsï¼æå¤§å­æ´»æ¶é´--\x3e\n    \x3c!-- memoryStoreEvictionPolicyï¼ç¼å­æ¸é¤ç­ç¥--\x3e\n    <defaultCache\n        eternal="false"\n        diskPersistent="false"\n        maxElementsInMemory="1000"\n        overflowToDisk="false"\n        timeToIdleSeconds="60"\n        timeToLiveSeconds="60"\n        memoryStoreEvictionPolicy="LRU" />\n    \x3c!--èªå®ä¹çç¼å­nameè¦åCacheableæèCachePutä¸­çnameä¸è´ï¼å ä¸ºCacheableæèCachePutä¼æ ¹æ®valueå¯»æ¾å¯¹åºçcacheéç½®ï¼å¦åæ¥é--\x3e\n    <cache\n        name="smsCode"\n        eternal="false"\n        diskPersistent="false"\n        maxElementsInMemory="1000"\n        overflowToDisk="false"\n        timeToIdleSeconds="10"\n        timeToLiveSeconds="10"\n        memoryStoreEvictionPolicy="LRU" />\n</ehcache>\n\n\næ³¨æåé¢çæ¡ä¾ä¸­ï¼è®¾ç½®äºæ°æ®ä¿å­çä½ç½®æ¯smsCode\n\n@CachePut(value = "smsCode", key = "#tele")\npublic String sendCodeToSMS(String tele) {\n    String code = codeUtils.generator(tele);\n    return code;\n}\t\n\n\nè¿ä¸ªè®¾å®éè¦ä¿éehcacheä¸­æä¸ä¸ªç¼å­ç©ºé´åç§°å«åsmsCodeçéç½®ï¼ååè¦ç»ä¸ãå¨ä¼ä¸å¼åè¿ç¨ä¸­ï¼éè¿è®¾ç½®ä¸ååç§°çcacheæ¥è®¾å®ä¸åçç¼å­ç­ç¥ï¼åºç¨äºä¸åçç¼å­æ°æ®ã\n\nå°è¿éspringbootæ´åEhcacheå°±åå®äºï¼å¯ä»¥åç°ä¸ç¹ï¼åå§ä»£ç æ²¡æä»»ä½ä¿®æ¹ï¼ä»ä»æ¯å äºä¸ç»éç½®å°±å¯ä»¥åæ´ç¼å­ä¾åºåäºï¼è¿ä¹æ¯springbootæä¾äºç»ä¸çç¼å­æä½æ¥å£çä¼å¿ï¼åæ´å®ç°å¹¶ä¸å½±ååå§ä»£ç çä¹¦åã\n\næ»ç»\n\n 1. springbootä½¿ç¨Ehcacheä½ä¸ºç¼å­å®ç°éè¦å¯¼å¥Ehcacheçåæ \n 2. ä¿®æ¹è®¾ç½®ï¼éç½®ç¼å­ä¾åºåä¸ºehcacheï¼å¹¶æä¾å¯¹åºçç¼å­éç½®æä»¶\n\n\n\n# SpringBootæ´åRedisç¼å­\n\nä¸èä½¿ç¨Ehcacheæ¿æ¢äºspringbootåç½®çç¼å­ææ¯ï¼å¶å®springbootæ¯æçç¼å­ææ¯è¿å¾å¤ï¼ä¸é¢ä½¿ç¨redisææ¯ä½ä¸ºç¼å­è§£å³æ¹æ¡æ¥å®ç°ææºéªè¯ç æ¡ä¾ã\n\næ¯å¯¹ä½¿ç¨Ehcacheçè¿ç¨ï¼å åæ ï¼æ¹ç¼å­å®ç°ç±»åä¸ºehcacheï¼åEhcacheçéç½®ãå¦æè¿æredisåç¼å­å¢ï¼ä¸æ¨¡ä¸æ ·ï¼å åæ ï¼æ¹ç¼å­å®ç°ç±»åä¸ºredisï¼åredisçéç½®ãå·®å«ä¹å¤åªæä¸ç¹ï¼redisçéç½®å¯ä»¥å¨ymlæä»¶ä¸­ç´æ¥è¿è¡éç½®ï¼æ éå¶ä½ç¬ç«çéç½®æä»¶ã\n\næ­¥éª¤â ï¼å¯¼å¥redisçåæ \n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-data-redis</artifactId>\n</dependency>\n\n\næ­¥éª¤â¡ï¼éç½®ç¼å­ææ¯å®ç°ä½¿ç¨redis\n\nspring:\n  redis:\n    host: localhost\n    port: 6379\n  cache:\n    type: redis\n\n\nå¦æéè¦å¯¹redisä½ä¸ºç¼å­è¿è¡éç½®ï¼æ³¨æä¸æ¯å¯¹åå§çredisè¿è¡éç½®ï¼èæ¯éç½®redisä½ä¸ºç¼å­ä½¿ç¨ç¸å³çéç½®ï¼é¶å±äºspring.cache.redisèç¹ä¸ï¼æ³¨æä¸è¦åéä½ç½®äºã\n\nspring:\n  redis:\n    host: localhost\n    port: 6379\n  cache:\n    type: redis\n    redis:\n      use-key-prefix: false  # æ¯å¦æåç¼ï¼é»è®¤æ¯TRUE\n      key-prefix: sms_  # ä¸é¢å¦æä¸ºfalseï¼è¿ä¸ªéç½®éé¡¹å°ä¼å¤±æ\n      cache-null-values: false   # æ¯å¦ç¼å­ç©ºå¼\n      time-to-live: 10s  # ç¼å­å¨æ\n\n\næ»ç»\n\n 1. springbootä½¿ç¨redisä½ä¸ºç¼å­å®ç°éè¦å¯¼å¥redisçåæ \n 2. ä¿®æ¹è®¾ç½®ï¼éç½®ç¼å­ä¾åºåä¸ºredisï¼å¹¶æä¾å¯¹åºçç¼å­éç½®\n\n# SpringBootæ´åMemcachedç¼å­\n\nç®åæä»¬å·²ç»ææ¡äº3ç§ç¼å­è§£å³æ¹æ¡çéç½®å½¢å¼ï¼åå«æ¯springbootåç½®ç¼å­ï¼ehcacheåredisï¼æ¬èç ç©¶ä¸ä¸å½åæ¯è¾æµè¡çä¸æ¬¾ç¼å­memcachedã\n\næç§ä¹åçå¥è·¯ï¼å¶å®åæ´ç¼å­å¹¶ä¸ç¹çï¼ä½æ¯springbootå¹¶æ²¡ææ¯æä½¿ç¨memcachedä½ä¸ºå¶ç¼å­è§£å³æ¹æ¡ï¼ä¹å°±æ¯è¯´å¨typeå±æ§ä¸­æ²¡æmemcachedçéç½®éé¡¹ï¼è¿éå°±éè¦æ´åä¸ä¸å¤çæ¹å¼äºãå¨æ´åä¹ååå®è£memcachedã\n\nå®è£\n\nwindowsçå®è£åä¸è½½å°åï¼https://www.runoob.com/memcached/window-install-memcached.html\n\nä¸è½½çå®è£åæ¯è§£åç¼©å°±è½ä½¿ç¨çzipæä»¶ï¼è§£åç¼©å®æ¯åä¼å¾å°å¦ä¸æä»¶\n\n\n\nå¯æ§è¡æä»¶åªæä¸ä¸ªmemcached.exeï¼ä½¿ç¨è¯¥æä»¶å¯ä»¥å°memcachedä½ä¸ºç³»ç»æå¡å¯å¨ï¼æ§è¡æ­¤æä»¶æ¶ä¼åºç°æ¥éä¿¡æ¯ï¼å¦ä¸ï¼\n\næ­¤å¤åºç°é®é¢çåå æ¯æ³¨åç³»ç»æå¡æ¶éè¦ä½¿ç¨ç®¡çåæéï¼å½åè´¦å·æéä¸è¶³å¯¼è´å®è£æå¡å¤±è´¥ï¼åæ¢ç®¡çåè´¦å·æéå¯å¨å½ä»¤è¡\n\nç¶ååæ¬¡æ§è¡å®è£æå¡çå½ä»¤å³å¯ï¼å¦ä¸ï¼\n\nmemcached.exe -d install\n\n\næå¡å®è£å®æ¯åå¯ä»¥ä½¿ç¨å½ä»¤å¯å¨ååæ­¢æå¡ï¼å¦ä¸ï¼\n\nmemcached.exe -d start\t\t# å¯å¨æå¡\nmemcached.exe -d stop\t\t# åæ­¢æå¡\n\n\nä¹å¯ä»¥å¨ä»»å¡ç®¡çå¨ä¸­è¿è¡æå¡ç¶æçåæ¢\n\nåæ´ç¼å­ä¸ºMemcached\n\nç±äºmemcachedæªè¢«springbootæ¶å½ä¸ºç¼å­è§£å³æ¹æ¡ï¼å æ­¤ä½¿ç¨memcachedéè¦éè¿æå·¥ç¡¬ç¼ç çæ¹å¼æ¥ä½¿ç¨ï¼äºæ¯åé¢çå¥è·¯é½ä¸éç¨äºï¼éè¦èªå·±åäºã\n\nmemcachedç®åæä¾æä¸ç§å®¢æ·ç«¯ææ¯ï¼åå«æ¯Memcached Client for JavaãSpyMemcachedåXmemcachedï¼å¶ä¸­æ§è½ææ åæ¹é¢æå¥½çå®¢æ·ç«¯æ¯Xmemcachedï¼æ¬æ¬¡æ´åå°±ä½¿ç¨è¿ä¸ªä½ä¸ºå®¢æ·ç«¯å®ç°ææ¯äºãä¸é¢å¼å§ä½¿ç¨Xmemcached\n\næ­¥éª¤â ï¼å¯¼å¥xmemcachedçåæ \n\n<dependency>\n    <groupId>com.googlecode.xmemcached</groupId>\n    <artifactId>xmemcached</artifactId>\n    <version>2.4.7</version>\n</dependency>\n\n\næ­¥éª¤â¡ï¼éç½®memcachedï¼å¶ä½memcachedçéç½®ç±»\n\n@Configuration\npublic class XMemcachedConfig {\n    @Bean\n    public MemcachedClient getMemcachedClient() throws IOException {\n        MemcachedClientBuilder memcachedClientBuilder = new XMemcachedClientBuilder("localhost:11211");\n        MemcachedClient memcachedClient = memcachedClientBuilder.build();\n        return memcachedClient;\n    }\n}\n\n\nmemcachedé»è®¤å¯¹å¤æå¡ç«¯å£11211ã\n\næ­¥éª¤â¢ï¼ä½¿ç¨xmemcachedå®¢æ·ç«¯æä½ç¼å­ï¼æ³¨å¥MemcachedClientå¯¹è±¡\n\n@Service\npublic class SMSCodeServiceImpl implements SMSCodeService {\n    @Autowired\n    private CodeUtils codeUtils;\n    @Autowired\n    private MemcachedClient memcachedClient;\n    // çæå¹¶åééªè¯ç \n    public String sendCodeToSMS(String tele) {\n        String code = codeUtils.generator(tele);\n        try {\n            // 10ç§æ´æ°ä¸æ¬¡\n            memcachedClient.set(tele,10,code);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return code;\n    }\n    // æ¯å¯¹éªè¯ç æ¯å¦ç¸å\n    public boolean checkCode(SMSCode smsCode) {\n        String code = null;\n        try {\n            // memcachedClient.get(smsCode.getTele())å¾å°æ¯ä¸ä¸ªObjectç±»åçå¼ï¼å æ­¤éè¦å°è¿é¨ååå®¹è½¬æä¸ä¸ªå­ç¬¦ä¸²\n            code = memcachedClient.get(smsCode.getTele()).toString();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return smsCode.getCode().equals(code);\n    }\n}\n\n\nè®¾ç½®å¼å°ç¼å­ä¸­ä½¿ç¨setæä½ï¼åå¼ä½¿ç¨getæä½ï¼å¶å®æ´ç¬¦åæä»¬å¼åèçä¹ æ¯ã\n\nä¸è¿°ä»£ç ä¸­å¯¹äºæå¡å¨çéç½®ä½¿ç¨ç¡¬ç¼ç åæ­»å°äºä»£ç ä¸­ï¼å°æ­¤æ°æ®æååºæ¥ï¼åæç¬ç«çéç½®å±æ§ã\n\nå®ä¹éç½®å±æ§\n\nä»¥ä¸è¿ç¨éç¨åæå­¦ä¹ çå±æ§éç½®æ¹å¼è¿è¡ï¼å½åæä½æå©äºçè§£åçç¯ä¸­çå¾å¤ç¥è¯ã\n\n * å®ä¹éç½®ç±»ï¼å è½½å¿è¦çéç½®å±æ§ï¼è¯»åéç½®æä»¶ä¸­memcachedèç¹ä¿¡æ¯\n   \n   @Component\n   @ConfigurationProperties(prefix = "memcached")\n   @Data\n   public class XMemcachedProperties {\n       private String servers;\n       private int poolSize;\n       private long opTimeout;\n   }\n   \n\n * å®ä¹memcachedèç¹ä¿¡æ¯\n   \n   memcached:\n     servers: localhost:11211\n     poolSize: 10\n     opTimeout: 3000\n   \n\n * å¨memcachedéç½®ç±»ä¸­å è½½ä¿¡æ¯\n\n@Configuration\npublic class XMemcachedConfig {\n    @Autowired\n    private XMemcachedProperties props;\n    @Bean\n    public MemcachedClient getMemcachedClient() throws IOException {\n        MemcachedClientBuilder memcachedClientBuilder = new XMemcachedClientBuilder(props.getServers());\n        memcachedClientBuilder.setConnectionPoolSize(props.getPoolSize());\n        memcachedClientBuilder.setOpTimeout(props.getOpTimeout());\n        MemcachedClient memcachedClient = memcachedClientBuilder.build();\n        return memcachedClient;\n    }\n}\n\n\næ»ç»\n\n 1. memcachedå®è£åéè¦å¯å¨å¯¹åºæå¡æå¯ä»¥å¯¹å¤æä¾ç¼å­åè½ï¼å®è£memcachedæå¡éè¦åºäºwindowsç³»ç»ç®¡çåæé\n 2. ç±äºspringbootæ²¡ææä¾å¯¹memcachedçç¼å­æ´åæ¹æ¡ï¼éè¦éç¨æå·¥ç¼ç çå½¢å¼åå»ºxmemcachedå®¢æ·ç«¯æä½ç¼å­\n 3. å¯¼å¥xmemcachedåæ åï¼åå»ºmemcachedéç½®ç±»ï¼æ³¨åMemcachedClientå¯¹åºçbeanï¼ç¨äºæä½ç¼å­\n 4. åå§åMemcachedClientå¯¹è±¡æéè¦ä½¿ç¨çå±æ§å¯ä»¥éè¿èªå®ä¹éç½®å±æ§ç±»çå½¢å¼å è½½\n\næè\n\nå°è¿éå·²ç»å®æäºä¸ç§ç¼å­çæ´åï¼å¶ä¸­redisåmongodbéè¦å®è£ç¬ç«çæå¡å¨ï¼è¿æ¥æ¶éè¦è¾å¥å¯¹åºçæå¡å¨å°åï¼è¿ç§æ¯è¿ç¨ç¼å­ï¼Ehcacheæ¯ä¸ä¸ªå¸åçåå­çº§ç¼å­ï¼å ä¸ºå®ä»ä¹ä¹ä¸ç¨å®è£ï¼å¯å¨åå¯¼å¥jaråå°±æç¼å­åè½äºãè¿ä¸ªæ¶åå°±è¦é®äºï¼è½ä¸è½è¿ä¸¤ç§ç¼å­ä¸èµ·ç¨å¢ï¼å±ä»¬ä¸èåè¯´ã\n\n# SpringBootæ´åjetcacheç¼å­\n\nç®åæä»¬ä½¿ç¨çç¼å­é½æ¯è¦ä¹Aè¦ä¹Bï¼è½ä¸è½ABä¸èµ·ç¨å¢ï¼è¿ä¸èå°±è§£å³è¿ä¸ªé®é¢ãspringbootéå¯¹ç¼å­çæ´åä»ä»åçå¨ç¨ç¼å­ä¸é¢ï¼å¦æç¼å­èªèº«ä¸æ¯æåæ¶æ¯æABä¸èµ·ç¨ï¼springbootä¹æ²¡åæ³ï¼æä»¥è¦æ³è§£å³ABç¼å­ä¸èµ·ç¨çé®é¢ï¼å°±å¿é¡»æ¾ä¸æ¬¾ç¼å­è½å¤æ¯æABä¸¤ç§ç¼å­ä¸èµ·ç¨ï¼æè¿ç§ç¼å­åï¼è¿çæï¼é¿éåºåï¼jetcacheã\n\njetcacheä¸¥æ ¼æä¹ä¸æ¥è¯´ï¼å¹¶ä¸æ¯ä¸ä¸ªç¼å­è§£å³æ¹æ¡ï¼åªè½è¯´ä»ç®æ¯ä¸ä¸ªç¼å­æ¡æ¶ï¼ç¶åæå«çç¼å­æ¾å°jetcacheä¸­ç®¡çï¼è¿æ ·å°±å¯ä»¥æ¯æABç¼å­ä¸èµ·ç¨äºãå¹¶ä¸jetcacheåèäºspringbootæ´åç¼å­çææ³ï¼æ´ä½ææ¯ä½¿ç¨æ¹å¼åspringbootçç¼å­è§£å³æ¹æ¡ææ³éå¸¸ç±»ä¼¼ãä¸é¢å±ä»¬å°±åæjetcacheç¨èµ·æ¥ï¼ç¶ååè¯´å®éé¢çä¸äºå°çåè½ã\n\næ¬å°ç¼å­åè¿ç¨ç¼å­çåºå«æ¯ä»ä¹ï¼åé¢äºè§£ä¸ä¸ãè¿ç¨æ¯è¦å»è¿ç¨ä¸»æºä¸å»å\n\nåä¹åè¦åæç¡®ä¸ä¸ï¼jetcacheå¹¶ä¸æ¯éä¾¿æ¿ä¸¤ä¸ªç¼å­é½è½æ¼å°ä¸èµ·å»çãç®åjetcacheæ¯æçç¼å­æ¹æ¡æ¬å°ç¼å­æ¯æä¸¤ç§ï¼è¿ç¨ç¼å­æ¯æä¸¤ç§ï¼åå«å¦ä¸ï¼\n\n * æ¬å°ç¼å­ï¼Localï¼\n   * LinkedHashMap\n   * Caffeine\n * è¿ç¨ç¼å­ï¼Remoteï¼\n   * Redis\n   * Tair\n\nå¶å®ä¹æäººé®æï¼ä¸ºä»ä¹jetcacheåªæ¯æ2+2è¿ä¹4æ¬¾ç¼å­å¢ï¼é¿éç åè¿ä¸ªææ¯å¶å®ä¸»è¦æ¯ä¸ºäºæ»¡è¶³èªèº«çä½¿ç¨éè¦ãæåè¯å®åªæ1+1ç§ï¼éæ­¥ååæ2+2ç§ãä¸é¢å°±ä»¥LinkedHashMap+Redisçæ¹æ¡å®ç°æ¬å°ä¸è¿ç¨ç¼å­æ¹æ¡åæ¶ä½¿ç¨ã\n\n# çº¯è¿ç¨æ¹æ¡\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åjetcacheå¯¹åºçåæ starterï¼å½ååæ é»è®¤ä½¿ç¨çè¿ç¨æ¹æ¡æ¯redis\n\n<dependency>\n    <groupId>com.alicp.jetcache</groupId>\n    <artifactId>jetcache-starter-redis</artifactId>\n    <version>2.6.2</version>\n</dependency>\n\n\næ­¥éª¤â¡ï¼è¿ç¨æ¹æ¡åºæ¬éç½®\n\njetcache:\n  remote:\n    default:  # é»è®¤æ¹æ¡ï¼å¶ä»æ¹æ¡ç¨åå­å½å\n      type: redis\n      host: localhost\n      port: 6379\n      poolConfig:\n        maxTotal: 50\n\n\nå¶ä¸­poolConfigæ¯å¿éé¡¹ï¼å¦åä¼æ¥é\n\næ­¥éª¤â¢ï¼å¯ç¨ç¼å­ï¼å¨å¼å¯¼ç±»ä¸æ¹æ æ³¨æ³¨è§£@EnableCreateCacheAnnotationéç½®springbootç¨åºä¸­å¯ä»¥ä½¿ç¨æ³¨è§£çå½¢å¼åå»ºç¼å­\n\n@SpringBootApplication\n//jetcacheå¯ç¨ç¼å­çä¸»å¼å³\n@EnableCreateCacheAnnotation\npublic class Springboot20JetCacheApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(Springboot20JetCacheApplication.class, args);\n    }\n}\n\n\næ­¥éª¤â£ï¼åå»ºç¼å­å¯¹è±¡Cacheï¼å¹¶ä½¿ç¨æ³¨è§£@CreateCacheæ è®°å½åç¼å­çä¿¡æ¯ï¼ç¶åä½¿ç¨Cacheå¯¹è±¡çAPIæä½ç¼å­ï¼putåç¼å­ï¼getè¯»ç¼å­ã\n\n@Service\npublic class SMSCodeServiceImpl implements SMSCodeService {\n    @Autowired\n    private CodeUtils codeUtils;\n    \n    @CreateCache(name="jetCache_",expire = 10,timeUnit = TimeUnit.SECONDS)  //ä¸è®¾ç½®timeUnité»è®¤åä½æ¯ç§\n    private Cache<String ,String> jetCache;\n\n    public String sendCodeToSMS(String tele) {\n        String code = codeUtils.generator(tele);\n        jetCache.put(tele,code);\n        return code;\n    }\n\n    public boolean checkCode(SMSCode smsCode) {\n        String code = jetCache.get(smsCode.getTele());\n        return smsCode.getCode().equals(code);\n    }\n}\n\n\néè¿ä¸è¿°jetcacheä½¿ç¨è¿ç¨æ¹æ¡è¿æ¥rediså¯ä»¥çåºï¼jetcacheæä½ç¼å­æ¶çæ¥å£æä½æ´ç¬¦åå¼åèä¹ æ¯ï¼ä½¿ç¨ç¼å­å°±åè·åç¼å­å¯¹è±¡Cacheï¼æ¾æ°æ®è¿å»å°±æ¯putï¼åæ°æ®åºæ¥å°±æ¯getï¼æ´å ç®åææãå¹¶ä¸jetcacheæä½ç¼å­æ¶ï¼å¯ä»¥ä¸ºæä¸ªç¼å­å¯¹è±¡è®¾ç½®è¿ææ¶é´ï¼å°åç±»åçæ°æ®æ¾å¥ç¼å­ä¸­ï¼æ¹ä¾¿ææå¨æçç®¡çã\n\nä¸è¿°æ¹æ¡ä¸­ä½¿ç¨çæ¯éç½®ä¸­å®ä¹çdefaultç¼å­ï¼å¶å®è¿ä¸ªdefaultæ¯ä¸ªåå­ï¼å¯ä»¥éä¾¿åï¼ä¹å¯ä»¥éä¾¿å ãä¾å¦åæ·»å ä¸ç§ç¼å­è§£å³æ¹æ¡ï¼åç§å¦ä¸éç½®è¿è¡ï¼\n\njetcache:\n  remote:\n    default:\n      type: redis\n      host: localhost\n      port: 6379\n      poolConfig:\n        maxTotal: 50\n    sms:\n      type: redis\n      host: localhost\n      port: 6379\n      poolConfig:\n        maxTotal: 50\n\n\nå¦ææ³ä½¿ç¨åç§°æ¯smsçç¼å­ï¼éè¦ååå»ºç¼å­æ¶æå®åæ°areaï¼å£°æä½¿ç¨å¯¹åºç¼å­å³å¯\n\n@Service\npublic class SMSCodeServiceImpl implements SMSCodeService {\n    @Autowired\n    private CodeUtils codeUtils;\n    \n    @CreateCache(area="sms",name="jetCache_",expire = 10,timeUnit = TimeUnit.SECONDS)\n    private Cache<String ,String> jetCache;\n\n    public String sendCodeToSMS(String tele) {\n        String code = codeUtils.generator(tele);\n        jetCache.put(tele,code); // æ¾å¥\n        return code;\n    }\n\n    public boolean checkCode(SMSCode smsCode) {\n        String code = jetCache.get(smsCode.getTele());  // è·å\n        return smsCode.getCode().equals(code);  \n    }\n}\n\n\n# çº¯æ¬å°æ¹æ¡\n\nè¿ç¨æ¹æ¡ä¸­ï¼éç½®ä¸­ä½¿ç¨remoteè¡¨ç¤ºè¿ç¨ï¼æ¢ælocalå°±æ¯æ¬å°ï¼åªä¸è¿ç±»åä¸ä¸æ ·èå·²ã\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åjetcacheå¯¹åºçåæ starter\n\n<dependency>\n    <groupId>com.alicp.jetcache</groupId>\n    <artifactId>jetcache-starter-redis</artifactId>\n    <version>2.6.2</version>\n</dependency>\n\n\næ­¥éª¤â¡ï¼æ¬å°ç¼å­åºæ¬éç½®\n\njetcache:\n  local:\n    default:\n      type: linkedhashmap\n      keyConvertor: fastjson\n\n\nä¸ºäºå éæ°æ®è·åæ¶keyçå¹ééåº¦ï¼jetcacheè¦æ±æå®keyçç±»åè½¬æ¢å¨ãç®åè¯´å°±æ¯ï¼å¦æä½ ç»äºä¸ä¸ªObjectä½ä¸ºkeyçè¯ï¼æåç¨keyçç±»åè½¬æ¢å¨ç»è½¬æ¢æå­ç¬¦ä¸²ï¼ç¶ååä¿å­ãç­å°è·åæ°æ®æ¶ï¼ä»ç¶æ¯åä½¿ç¨ç»å®çObjectè½¬æ¢æå­ç¬¦ä¸²ï¼ç¶åæ ¹æ®å­ç¬¦ä¸²å¹éãç±äºjetcacheæ¯é¿éçææ¯ï¼è¿éæ¨èkeyçç±»åè½¬æ¢å¨ä½¿ç¨é¿éçfastjsonã\n\næ­¥éª¤â¢ï¼å¯ç¨ç¼å­\n\n@SpringBootApplication\n//jetcacheå¯ç¨ç¼å­çä¸»å¼å³\n@EnableCreateCacheAnnotation\npublic class Springboot20JetCacheApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(Springboot20JetCacheApplication.class, args);\n    }\n}\n\n\næ­¥éª¤â£ï¼åå»ºç¼å­å¯¹è±¡Cacheæ¶ï¼æ æ³¨å½åä½¿ç¨æ¬å°ç¼å­\n\n@Service\npublic class SMSCodeServiceImpl implements SMSCodeService {\n    @CreateCache(name="jetCache_",expire = 1000,timeUnit = TimeUnit.SECONDS,cacheType = CacheType.LOCAL)\n    private Cache<String ,String> jetCache;\n\n    public String sendCodeToSMS(String tele) {\n        String code = codeUtils.generator(tele);\n        jetCache.put(tele,code);\n        return code;\n    }\n    \n    public boolean checkCode(SMSCode smsCode) {\n        String code = jetCache.get(smsCode.getTele());\n        return smsCode.getCode().equals(code);\n    }\n}\n\n\ncacheTypeæ§å¶å½åç¼å­ä½¿ç¨æ¬å°ç¼å­è¿æ¯è¿ç¨ç¼å­ï¼éç½®cacheType=CacheType.LOCALå³ä½¿ç¨æ¬å°ç¼å­ï¼é»è®¤éç¨è¿ç¨æ¹æ¡ã\n\n# æ¬å°+è¿ç¨æ¹æ¡\n\næ¬å°åè¿ç¨æ¹æ³é½æäºï¼ä¸¤ç§æ¹æ¡ä¸èµ·ä½¿ç¨å¦ä½éç½®å¢ï¼å¶å®å°±æ¯å°ä¸¤ç§éç½®åå¹¶å°ä¸ èµ·å°±å¯ä»¥äºã\n\njetcache:\n  local:\n    default:\n      type: linkedhashmap\n      keyConvertor: fastjson\n  remote:\n    default:\n      type: redis\n      host: localhost\n      port: 6379\n      poolConfig:\n        maxTotal: 50\n    sms:\n      type: redis\n      host: localhost\n      port: 6379\n      poolConfig:\n        maxTotal: 50\n\n\nå¨åå»ºç¼å­çæ¶åï¼éç½®cacheTypeä¸ºBOTHå³åæ¬å°ç¼å­ä¸è¿ç¨ç¼å­åæ¶ä½¿ç¨ã\n\n@Service\npublic class SMSCodeServiceImpl implements SMSCodeService {\n    @CreateCache(name="jetCache_",expire = 1000,timeUnit = TimeUnit.SECONDS,cacheType = CacheType.BOTH)\n    private Cache<String ,String> jetCache;\n}\n\n\ncacheTypeå¦æä¸è¿è¡éç½®ï¼é»è®¤å¼æ¯REMOTEï¼å³ä»ä½¿ç¨è¿ç¨ç¼å­æ¹æ¡ãå³äºjetcacheçéç½®ï¼åèä»¥ä¸ä¿¡æ¯\n\nå±æ§                                                         é»è®¤å¼    è¯´æ\njetcache.statIntervalMinutes                               0      ç»è®¡é´éï¼0è¡¨ç¤ºä¸ç»è®¡\njetcache.hiddenPackages                                    æ       èªå¨çænameæ¶ï¼éèæå®çåååç¼\njetcache.[local|remote].${area}.type                       æ       ç¼å­ç±»åï¼æ¬å°æ¯ælinkedhashmapãcaffeineï¼è¿ç¨æ¯æredisãtair\njetcache.[local|remote].${area}.keyConvertor               æ       keyè½¬æ¢å¨ï¼å½åä»æ¯æfastjson\njetcache.[local|remote].${area}.valueEncoder               java   ä»remoteç±»åçç¼å­éè¦æå®ï¼å¯éjavaåkryo\njetcache.[local|remote].${area}.valueDecoder               java   ä»remoteç±»åçç¼å­éè¦æå®ï¼å¯éjavaåkryo\njetcache.[local|remote].${area}.limit                      100    ä»localç±»åçç¼å­éè¦æå®ï¼ç¼å­å®ä¾æå¤§åç´ æ°\njetcache.[local|remote].${area}.expireAfterWriteInMillis   æ ç©·å¤§    é»è®¤è¿ææ¶é´ï¼æ¯«ç§åä½\njetcache.local.${area}.expireAfterAccessInMillis           0      ä»localç±»åçç¼å­ææï¼æ¯«ç§åä½ï¼æå¤§ä¸æ´»å¨é´é\n\nä»¥ä¸æ¹æ¡ä»æ¯ææå·¥æ§å¶ç¼å­ï¼ä½æ¯springcacheæ¹æ¡ä¸­çæ¹æ³ç¼å­ç¹å«å¥½ç¨ï¼ç»ä¸ä¸ªæ¹æ³æ·»å ä¸ä¸ªæ³¨è§£ï¼æ¹æ³å°±ä¼èªå¨ä½¿ç¨ç¼å­ãjetcacheä¹æä¾äºå¯¹åºçåè½ï¼å³æ¹æ³ç¼å­ã\n\næ¹æ³ç¼å­\n\njetcacheæä¾äºæ¹æ³ç¼å­æ¹æ¡ï¼åªä¸è¿åç§°åæ´äºèå·²ãå¨å¯¹åºçæä½æ¥å£ä¸æ¹ä½¿ç¨æ³¨è§£@Cachedå³å¯\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åjetcacheå¯¹åºçåæ starter\n\n<dependency>\n    <groupId>com.alicp.jetcache</groupId>\n    <artifactId>jetcache-starter-redis</artifactId>\n    <version>2.6.2</version>\n</dependency>\n\n\næ­¥éª¤â¡ï¼éç½®ç¼å­\n\njetcache:\n  local:\n    default:\n      type: linkedhashmap\n      keyConvertor: fastjson\n  remote:\n    default:\n      type: redis\n      host: localhost\n      port: 6379\n      keyConvertor: fastjson\n      valueEncode: java\n      valueDecode: java\n      poolConfig:\n        maxTotal: 50\n    sms:\n      type: redis\n      host: localhost\n      port: 6379\n      poolConfig:\n        maxTotal: 50\n\n\nç±äºredisç¼å­ä¸­ä¸æ¯æä¿å­å¯¹è±¡ï¼å æ­¤éè¦å¯¹redisè®¾ç½®å½Objectç±»åæ°æ®è¿å¥å°redisä¸­æ¶å¦ä½è¿è¡ç±»åè½¬æ¢ãéè¦éç½®keyConvertorè¡¨ç¤ºkeyçç±»åè½¬æ¢æ¹å¼ï¼åæ¶æ æ³¨valueçè½¬æ¢ç±»åæ¹å¼ï¼å¼è¿å¥redisæ¶æ¯javaç±»åï¼æ æ³¨valueEncodeä¸ºjavaï¼å¼ä»redisä¸­è¯»åæ¶è½¬æ¢æjavaï¼æ æ³¨valueDecodeä¸ºjavaã\n\næ³¨æï¼ä¸ºäºå®ç°Objectç±»åçå¼è¿åºredisï¼éè¦ä¿éè¿åºredisçObjectç±»åçæ°æ®å¿é¡»å®ç°åºååæ¥å£ã\n\n@Data\npublic class Book implements Serializable {\n    private Integer id;\n    private String type;\n    private String name;\n    private String description;\n}\n\n\næ­¥éª¤â¢ï¼å¯ç¨ç¼å­æ¶å¼å¯æ¹æ³ç¼å­åè½ï¼å¹¶éç½®basePackagesï¼è¯´æå¨åªäºåä¸­å¼å¯æ¹æ³ç¼å­\n\n@SpringBootApplication\n//jetcacheå¯ç¨ç¼å­çä¸»å¼å³\n@EnableCreateCacheAnnotation \n//å¼å¯æ¹æ³æ³¨è§£ç¼å­\n@EnableMethodCache(basePackages = "com.itheima")\npublic class Springboot20JetCacheApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(Springboot20JetCacheApplication.class, args);\n    }\n}\n\n\næ­¥éª¤â£ï¼ä½¿ç¨æ³¨è§£@Cachedæ æ³¨å½åæ¹æ³ä½¿ç¨ç¼å­\n\n@Service\npublic class BookServiceImpl implements BookService {\n    @Autowired\n    private BookDao bookDao;\n    \n    @Override\n    @Cached(name="book_",key="#id",expire = 3600,cacheType = CacheType.REMOTE)\n    public Book getById(Integer id) {\n        return bookDao.selectById(id);\n    }\n}\n\n\n# è¿ç¨æ¹æ¡çæ°æ®åæ­¥\n\nç±äºè¿ç¨æ¹æ¡ä¸­redisä¿å­çæ°æ®å¯ä»¥è¢«å¤ä¸ªå®¢æ·ç«¯å±äº«ï¼è¿å°±å­å¨äºæ°æ®åæ­¥é®é¢ãjetcacheæä¾äº3ä¸ªæ³¨è§£è§£å³æ­¤é®é¢ï¼åå«å¨æ´æ°ãå é¤æä½æ¶åæ­¥ç¼å­æ°æ®ï¼åè¯»åç¼å­æ¶å®æ¶å·æ°æ°æ®\n\næ´æ°ç¼å­\n\n@CacheUpdate(name="book_",key="#book.id",value="#book")\npublic boolean update(Book book) {\n    return bookDao.updateById(book) > 0;\n}\n\n\nå é¤ç¼å­\n\n@CacheInvalidate(name="book_",key = "#id")\npublic boolean delete(Integer id) {\n    return bookDao.deleteById(id) > 0;\n}\n\n\nå®æ¶å·æ°ç¼å­\n\n@Cached(name="book_",key="#id",expire = 3600,cacheType = CacheType.REMOTE)\n@CacheRefresh(refresh = 5)\npublic Book getById(Integer id) {\n    return bookDao.selectById(id);\n}\n\n\n# æ°æ®æ¥è¡¨\n\njetcacheè¿æä¾æç®åçæ°æ®æ¥è¡¨åè½ï¼å¸®å©å¼åèå¿«éæ¥çç¼å­å½ä¸­ä¿¡æ¯ï¼åªéè¦æ·»å ä¸ä¸ªéç½®å³å¯\n\njetcache:\n  statIntervalMinutes: 1\n\n\nè®¾ç½®åï¼æ¯1åéå¨æ§å¶å°è¾åºç¼å­æ°æ®å½ä¸­ä¿¡æ¯\n\n[DefaultExecutor] c.alicp.jetcache.support.StatInfoLogger  : jetcache stat from 2022-02-28 09:32:15,892 to 2022-02-28 09:33:00,003\ncache    |    qps|   rate|   get|    hit|   fail|   expire|   avgLoadTime|   maxLoadTime\n---------+-------+-------+------+-------+-------+---------+--------------+--------------\nbook_    |   0.66| 75.86%|    29|     22|      0|        0|          28.0|           188\n---------+-------+-------+------+-------+-------+---------+--------------+--------------\n\n\næ»ç»\n\n 1. jetcacheæ¯ä¸ä¸ªç±»ä¼¼äºspringcacheçç¼å­è§£å³æ¹æ¡ï¼èªèº«ä¸å·æç¼å­åè½ï¼å®æä¾ææ¬å°ç¼å­ä¸è¿ç¨ç¼å­å¤çº§å±åä½¿ç¨çç¼å­è§£å³æ¹æ¡\n 2. jetcacheæä¾çç¼å­è§£å³æ¹æ¡åéäºç®åæ¯æçæ¹æ¡ï¼æ¬å°ç¼å­æ¯æä¸¤ç§ï¼è¿ç¨ç¼å­æ¯æä¸¤ç§\n 3. æ³¨ææ°æ®è¿å¥è¿ç¨ç¼å­æ¶çç±»åè½¬æ¢é®é¢\n 4. jetcacheæä¾æ¹æ³ç¼å­ï¼å¹¶æä¾äºå¯¹åºçç¼å­æ´æ°ä¸å·æ°åè½\n 5. jetcacheæä¾æç®åçç¼å­ä¿¡æ¯å½ä¸­æ¥è¡¨æ¹ä¾¿å¼åèå³æ¶çæ§ç¼å­æ°æ®å½ä¸­æåµ\n\næè\n\njetcacheè§£å³äºåæä½¿ç¨ç¼å­æ¹æ¡åä¸çé®é¢ï¼ä½æ¯ä»ç¶ä¸è½çµæ´»çéæ©ç¼å­è¿è¡æ­éä½¿ç¨ï¼æ¯å¦å­å¨ä¸ç§ææ¯å¯ä»¥çµæ´»çæ­éåç§åæ ·çç¼å­ä½¿ç¨å¢ï¼æï¼å±ä»¬ä¸ä¸èåè®²ã\n\n# SpringBootæ´åj2cacheç¼å­\n\njetcacheå¯ä»¥å¨éå®èå´åæå»ºå¤çº§ç¼å­ï¼ä½æ¯çµæ´»æ§ä¸è¶³ï¼ä¸è½éææ­éç¼å­ï¼æ¬èä»ç»ä¸ç§å¯ä»¥éææ­éç¼å­è§£å³æ¹æ¡çç¼å­æ´åæ¡æ¶ï¼j2cacheãä¸é¢å°±æ¥è®²è§£å¦ä½ä½¿ç¨è¿ç§ç¼å­æ¡æ¶ï¼ä»¥Ehcacheä¸redisæ´åä¸ºä¾ï¼\n\næ­¥éª¤â ï¼å¯¼å¥j2cacheãredisãehcacheåæ \n\n<dependency>\n    <groupId>net.oschina.j2cache</groupId>\n    <artifactId>j2cache-core</artifactId>\n    <version>2.8.4-release</version>\n</dependency>\n<dependency>\n    <groupId>net.oschina.j2cache</groupId>\n    <artifactId>j2cache-spring-boot2-starter</artifactId>\n    <version>2.8.0-release</version>\n</dependency>\n<dependency>\n    <groupId>net.sf.ehcache</groupId>\n    <artifactId>ehcache</artifactId>\n</dependency>\n\n\nj2cacheçstarterä¸­é»è®¤åå«äºredisåæ ï¼å®æ¹æ¨èä½¿ç¨redisä½ä¸ºäºçº§ç¼å­ï¼å æ­¤æ­¤å¤æ éå¯¼å¥redisåæ \n\næ­¥éª¤â¡ï¼éç½®ä¸çº§ä¸äºçº§ç¼å­ï¼å¹¶éç½®ä¸äºçº§ç¼å­é´æ°æ®ä¼ éæ¹å¼ï¼éç½®ä¹¦åå¨åç§°ä¸ºj2cache.propertiesçæä»¶ä¸­ãå¦æä½¿ç¨ehcacheè¿éè¦åç¬æ·»å ehcacheçéç½®æä»¶\n\n# è¿æ¯æåºç¡çéç½®æ¹æ³\n# 1çº§ç¼å­\nj2cache.L1.provider_class = ehcache\nehcache.configXml = ehcache.xml\n\n# 2çº§ç¼å­\nj2cache.L2.provider_class = net.oschina.j2cache.cache.support.redis.SpringRedisProvider\nj2cache.L2.config_section = redis\nredis.hosts = localhost :6379\n\n# 1çº§ç¼å­ä¸­çæ°æ®å¦ä½å°è¾¾äºçº§ç¼å­\nj2cache.broadcast = net.oschina.j2cache.cache.support.redis.SpringRedisPubSubPolicy\n\n\næ­¤å¤éç½®ä¸è½ä¹±éç½®ï¼éè¦åç§å®æ¹ç»åºçéç½®è¯´æè¿è¡ãä¾å¦1çº§ä¾åºåéæ©ehcacheï¼ä¾åºååç§°ä»ä»æ¯ä¸ä¸ªehcacheï¼ä½æ¯2çº§ä¾åºåéæ©redisæ¶è¦åä¸ç¨çSpringæ´åRedisçä¾åºåç±»åSpringRedisProviderï¼èä¸è¿ä¸ªåç§°å¹¶ä¸æ¯ææçredisåä¸­è½æä¾çï¼ä¹ä¸æ¯springåä¸­æä¾çãå æ­¤éç½®j2cacheå¿é¡»åç§å®æ¹ææ¡£éç½®ï¼èä¸è¿è¦å»æ¾ä¸ç¨çæ´ååï¼å¯¼å¥å¯¹åºåæ æå¯ä»¥ä½¿ç¨ã\n\nä¸çº§ä¸äºçº§ç¼å­æéè¦çä¸ä¸ªéç½®å°±æ¯ä¸¤èä¹é´çæ°æ®æ²éæ¹å¼ï¼æ­¤ç±»éç½®ä¹ä¸æ¯éæéç½®çï¼å¹¶ä¸ä¸åçç¼å­è§£å³æ¹æ¡æä¾çæ°æ®æ²éæ¹å¼å·®å¼åå¾å¤§ï¼éè¦æ¥è¯¢å®æ¹ææ¡£è¿è¡è®¾ç½®ã\n\næ­¥éª¤â¢ï¼ä½¿ç¨ç¼å­\n\n@Service\npublic class SMSCodeServiceImpl implements SMSCodeService {\n    @Autowired\n    private CodeUtils codeUtils;\n\n    @Autowired\n    private CacheChannel cacheChannel;\n\n    public String sendCodeToSMS(String tele) {\n        String code = codeUtils.generator(tele);\n        cacheChannel.set("sms",tele,code);\n        return code;\n    }\n\n    public boolean checkCode(SMSCode smsCode) {\n        String code = cacheChannel.get("sms",smsCode.getTele()).asString();\n        return smsCode.getCode().equals(code);\n    }\n}\n\n\nj2cacheçä½¿ç¨åjetcacheæ¯è¾ç±»ä¼¼ï¼ä½æ¯æ éå¼å¯ä½¿ç¨çå¼å³ï¼ç´æ¥å®ä¹ç¼å­å¯¹è±¡å³å¯ä½¿ç¨ï¼ç¼å­å¯¹è±¡åCacheChannelã\n\nj2cacheçä½¿ç¨ä¸å¤æï¼éç½®æ¯j2cacheçæ ¸å¿ï¼æ¯ç«æ¯ä¸ä¸ªæ´ååçç¼å­æ¡æ¶ãç¼å­ç¸å³çéç½®è¿å¤ï¼å¯ä»¥æ¥éj2cache-coreæ ¸å¿åä¸­çj2cache.propertiesæä»¶ä¸­çè¯´æãå¦ä¸ï¼\n\n#J2Cache configuration\n#########################################\n# Cache Broadcast Method\n# values:\n# jgroups -> use jgroups\'s multicast\n# redis -> use redis publish/subscribe mechanism (using jedis)\n# lettuce -> use redis publish/subscribe mechanism (using lettuce, Recommend)\n# rabbitmq -> use RabbitMQ publisher/consumer mechanism\n# rocketmq -> use RocketMQ publisher/consumer mechanism\n# none -> don\'t notify the other nodes in cluster\n# xx.xxxx.xxxx.Xxxxx your own cache broadcast policy classname that implement net.oschina.j2cache.cluster.ClusterPolicy\n#########################################\nj2cache.broadcast = redis\n\n# jgroups properties\njgroups.channel.name = j2cache\njgroups.configXml = /network.xml\n\n# RabbitMQ properties\nrabbitmq.exchange = j2cache\nrabbitmq.host = localhost\nrabbitmq.port = 5672\nrabbitmq.username = guest\nrabbitmq.password = guest\n\n# RocketMQ properties\nrocketmq.name = j2cache\nrocketmq.topic = j2cache\n# use ; to split multi hosts\nrocketmq.hosts = 127.0.0.1:9876\n\n#########################################\n# Level 1&2 provider\n# values:\n# none -> disable this level cache\n# ehcache -> use ehcache2 as level 1 cache\n# ehcache3 -> use ehcache3 as level 1 cache\n# caffeine -> use caffeine as level 1 cache(only in memory)\n# redis -> use redis as level 2 cache (using jedis)\n# lettuce -> use redis as level 2 cache (using lettuce)\n# readonly-redis -> use redis as level 2 cache ,but never write data to it. if use this provider, you must uncomment `j2cache.L2.config_section` to make the redis configurations available.\n# memcached -> use memcached as level 2 cache (xmemcached),\n# [classname] -> use custom provider\n#########################################\n\nj2cache.L1.provider_class = caffeine\nj2cache.L2.provider_class = redis\n\n# When L2 provider isn\'t `redis`, using `L2.config_section = redis` to read redis configurations\n# j2cache.L2.config_section = redis\n\n# Enable/Disable ttl in redis cache data (if disabled, the object in redis will never expire, default:true)\n# NOTICE: redis hash mode (redis.storage = hash) do not support this feature)\nj2cache.sync_ttl_to_redis = true\n\n\n\n# æ¯å¦å¯ç¨äºçº§ç¼å­\nj2cache.l2-cache-open = false\n# Whether to cache null objects by default (default false)\nj2cache.default_cache_null_object = true\n\n#########################################\n# Cache Serialization Provider\n# values:\n# fst -> using fast-serialization (recommend)\n# kryo -> using kryo serialization\n# json -> using fst\'s json serialization (testing)\n# fastjson -> using fastjson serialization (embed non-static class not support)\n# java -> java standard\n# fse -> using fse serialization\n# [classname implements Serializer]\n#########################################\n\nj2cache.serialization = json\n#json.map.person = net.oschina.j2cache.demo.Person\n\n#########################################\n# Ehcache configuration\n#########################################\n\n# ehcache.configXml = /ehcache.xml\n\n# ehcache3.configXml = /ehcache3.xml\n# ehcache3.defaultHeapSize = 1000\n\n#########################################\n# Caffeine configuration\n# caffeine.region.[name] = size, xxxx[s|m|h|d]\n#\n#########################################\ncaffeine.properties = /caffeine.properties\n\n#########################################\n# Redis connection configuration\n#########################################\n\n#########################################\n# Redis Cluster Mode\n#\n# single -> single redis server  # åæºçredisæå¡å¨\n# sentinel -> master-slaves servers    # ä¸»ä»æ¨¡å¼æå¡å¨\n# cluster -> cluster servers (æ°æ®åºéç½®æ æï¼ä½¿ç¨ database = 0ï¼\n# sharded -> sharded servers  (å¯ç ãæ°æ®åºå¿é¡»å¨ hosts ä¸­æå®ï¼ä¸è¿æ¥æ± éç½®æ æ ; redis://user:password@127.0.0.1:6379/0ï¼\n#\n#########################################\n# è¿ä¸ªéé¡¹æ²¡æå¨æä»¶éç½®ä¼æwarningè­¦å\nredis.mode = single  \n\n#redis storage mode (generic|hash)\nredis.storage = generic\n\n## redis pub/sub channel name\nredis.channel = j2cache\n## redis pub/sub server (using redis.hosts when empty)\nredis.channel.host =\n\n#cluster name just for sharded\nredis.cluster_name = j2cache\n\n## redis cache namespace optional, default[empty] \n## è¿ä¸ªå±æ§å¯ä»¥å¨Keyåé¢å ä¸ä¸ä¸ªåç¼ï¼é»è®¤æ¯ç©º\nredis.namespace =\n\n\n## redis command scan parameter count, default[1000]\n#redis.scanCount = 1000\n\n## connection\n# Separate multiple redis nodes with commas, such as 192.168.0.10:6379,192.168.0.11:6379,192.168.0.12:6379\n\nredis.hosts = 127.0.0.1:6379\nredis.timeout = 2000\nredis.password =\nredis.database = 0\nredis.ssl = false\n\n## redis pool properties\nredis.maxTotal = 100\nredis.maxIdle = 10\nredis.maxWaitMillis = 5000\nredis.minEvictableIdleTimeMillis = 60000\nredis.minIdle = 1\nredis.numTestsPerEvictionRun = 10\nredis.lifo = false\nredis.softMinEvictableIdleTimeMillis = 10\nredis.testOnBorrow = true\nredis.testOnReturn = false\nredis.testWhileIdle = true\nredis.timeBetweenEvictionRunsMillis = 300000\nredis.blockWhenExhausted = false\nredis.jmxEnabled = false\n\n#########################################\n# Lettuce scheme\n#\n# redis -> single redis server\n# rediss -> single redis server with ssl\n# redis-sentinel -> redis sentinel\n# redis-cluster -> cluster servers\n#\n#########################################\n\n#########################################\n# Lettuce Mode\n#\n# single -> single redis server\n# sentinel -> master-slaves servers\n# cluster -> cluster servers (æ°æ®åºéç½®æ æï¼ä½¿ç¨ database = 0ï¼\n# sharded -> sharded servers  (å¯ç ãæ°æ®åºå¿é¡»å¨ hosts ä¸­æå®ï¼ä¸è¿æ¥æ± éç½®æ æ ; redis://user:password@127.0.0.1:6379/0ï¼\n#\n#########################################\n\n## redis command scan parameter count, default[1000]\n#lettuce.scanCount = 1000\nlettuce.mode = single\nlettuce.namespace =\nlettuce.storage = hash\nlettuce.channel = j2cache\nlettuce.scheme = redis\nlettuce.hosts = 127.0.0.1:6379\nlettuce.password =\nlettuce.database = 0\nlettuce.sentinelMasterId =\nlettuce.maxTotal = 100\nlettuce.maxIdle = 10\nlettuce.minIdle = 10\n# timeout in milliseconds\nlettuce.timeout = 10000\n# redis cluster topology refresh interval in milliseconds\nlettuce.clusterTopologyRefresh = 3000\n\n#########################################\n# memcached server configurations\n# refer to https://gitee.com/mirrors/XMemcached\n#########################################\n\nmemcached.servers = 127.0.0.1:11211\nmemcached.username =\nmemcached.password =\nmemcached.connectionPoolSize = 10\nmemcached.connectTimeout = 1000\nmemcached.failureMode = false\nmemcached.healSessionInterval = 1000\nmemcached.maxQueuedNoReplyOperations = 100\nmemcached.opTimeout = 100\nmemcached.sanitizeKeys = false\n\n\næ»ç»\n\n 1. j2cacheæ¯ä¸ä¸ªç¼å­æ¡æ¶ï¼èªèº«ä¸å·æç¼å­åè½ï¼å®æä¾å¤ç§ç¼å­æ´åå¨ä¸èµ·ä½¿ç¨çæ¹æ¡\n 2. j2cacheéè¦éè¿å¤æçéç½®è®¾ç½®åçº§ç¼å­ï¼ä»¥åç¼å­ä¹é´æ°æ®äº¤æ¢çæ¹å¼\n 3. j2cacheæä½æ¥å£éè¿CacheChannelå®ç°\n\n\n# KF-5-2.ä»»å¡\n\nspringbootæ´åç¬¬ä¸æ¹ææ¯ç¬¬äºé¨åæä»¬æ¥è¯´è¯´ä»»å¡ç³»ç»ï¼å¶å®è¿éè¯´çä»»å¡ç³»ç»æçæ¯å®æ¶ä»»å¡ãå®æ¶ä»»å¡æ¯ä¼ä¸çº§å¼åä¸­å¿ä¸å¯å°çç»æé¨åï¼è¯¸å¦é¿å¨æä¸å¡æ°æ®çè®¡ç®ï¼ä¾å¦å¹´åº¦æ¥è¡¨ï¼è¯¸å¦ç³»ç»èæ°æ®çå¤çï¼åæ¯å¦ç³»ç»æ§è½çæ§æ¥åï¼è¿ææ¢è´­ç±»æ´»å¨çååä¸æ¶ï¼è¿äºé½ç¦»ä¸å¼å®æ¶ä»»å¡ãæ¬èå°ä»ç»ä¸¤ç§ä¸åçå®æ¶ä»»å¡ææ¯ã\n\næç®åçæ¯Timerå®æ¶ä»»å¡\n\n\n\n# Quartz\n\nQuartzææ¯æ¯ä¸ä¸ªæ¯è¾æççå®æ¶ä»»å¡æ¡æ¶ï¼æä¹è¯´å¢ï¼æç¹ç¹çï¼ç¨è¿çé½ç¥éï¼éç½®ç¥å¾®å¤æãspringbootå¯¹å¶è¿è¡æ´ååï¼ç®åäºä¸ç³»åçéç½®ï¼å°å¾å¤éç½®éç¨é»è®¤è®¾ç½®ï¼è¿æ ·å¼åé¶æ®µå°±ç®åäºå¾å¤ãåå­¦ä¹ springbootæ´åQuartzååæ®åå ä¸ªQuartzçæ¦å¿µã\n\n * å·¥ä½ï¼Jobï¼ï¼ç¨äºå®ä¹å·ä½æ§è¡çå·¥ä½\n * å·¥ä½æç»ï¼JobDetailï¼ï¼ç¨äºæè¿°å®æ¶å·¥ä½ç¸å³çä¿¡æ¯\n * è§¦åå¨ï¼Triggerï¼ï¼æè¿°äºå·¥ä½æç»ä¸è°åº¦å¨çå¯¹åºå³ç³»\n * è°åº¦å¨ï¼Schedulerï¼ï¼ç¨äºæè¿°è§¦åå·¥ä½çæ§è¡è§åï¼éå¸¸ä½¿ç¨cronè¡¨è¾¾å¼å®ä¹è§å\n\nç®åè¯´å°±æ¯ä½ å®æ¶å¹²ä»ä¹äºæï¼è¿å°±æ¯å·¥ä½ï¼å·¥ä½ä¸å¯è½å°±æ¯ä¸ä¸ªç®åçæ¹æ³ï¼è¿è¦è®¾ç½®ä¸äºæç»ä¿¡æ¯ãå·¥ä½å¥æ¶åæ§è¡ï¼è®¾ç½®ä¸ä¸ªè°åº¦å¨ï¼å¯ä»¥ç®åçè§£æè®¾ç½®ä¸ä¸ªå·¥ä½æ§è¡çæ¶é´ãå·¥ä½åè°åº¦é½æ¯ç¬ç«å®ä¹çï¼å®ä»¬ä¸¤ä¸ªæä¹éåå°ä¸èµ·å¢ï¼ç¨è§¦åå¨ãå®äºï¼å°±è¿ä¹å¤ãä¸é¢å¼å§springbootæ´åQuartzã\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åQuartzçstarter\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-quartz</artifactId>\n</dependency>\n\n\næ­¥éª¤â¡ï¼å®ä¹ä»»å¡Beanï¼æç§Quartzçå¼åè§èå¶ä½ï¼ç»§æ¿QuartzJobBean\n\npublic class MyQuartz extends QuartzJobBean {\n    @Override\n    protected void executeInternal(JobExecutionContext context) throws JobExecutionException {\n        System.out.println("quartz task run...");\n    }\n}\n\n\næ­¥éª¤â¢ï¼åå»ºQuartzéç½®ç±»ï¼å®ä¹å·¥ä½æç»ï¼JobDetailï¼ä¸è§¦åå¨çï¼Triggerï¼bean\n\n@Configuration\npublic class QuartzConfig {\n    @Bean\n    public JobDetail printJobDetail(){\n        //ç»å®å·ä½çå·¥ä½\n        // STOREDURABLYç¨æ¥æå®æä¹å\n        return JobBuilder.newJob(MyQuartz.class).storeDurably().build();\n    }\n    @Bean\n    public Trigger printJobTrigger(){\n        ScheduleBuilder schedBuilder = CronScheduleBuilder.cronSchedule("0/5 * * * * ?");\n        //ç»å®å¯¹åºçå·¥ä½æç»\n        return TriggerBuilder.newTrigger().forJob(printJobDetail()).withSchedule(schedBuilder).build();\n    }\n}\n\n\nå·¥ä½æç»ä¸­è¦è®¾ç½®å¯¹åºçå·ä½å·¥ä½ï¼ä½¿ç¨newJob()æä½ä¼ å¥å¯¹åºçå·¥ä½ä»»å¡ç±»åå³å¯ã\n\nè§¦åå¨éè¦ç»å®ä»»å¡ï¼ä½¿ç¨forJob()æä½ä¼ å¥ç»å®çå·¥ä½æç»å¯¹è±¡ãæ­¤å¤å¯ä»¥ä¸ºå·¥ä½æç»è®¾ç½®åç§°ç¶åä½¿ç¨åç§°ç»å®ï¼ä¹å¯ä»¥ç´æ¥è°ç¨å¯¹åºæ¹æ³ç»å®ãè§¦åå¨ä¸­ææ ¸å¿çè§åæ¯æ§è¡æ¶é´ï¼æ­¤å¤ä½¿ç¨è°åº¦å¨å®ä¹æ§è¡æ¶é´ï¼æ§è¡æ¶é´æè¿°æ¹å¼ä½¿ç¨çæ¯cronè¡¨è¾¾å¼ï¼è¿æ¯ä»ä¹ï¼æ¥éä¸ä¸ï¼ãæå³cronè¡¨è¾¾å¼çè§åï¼åä½å°ä¼ä¼´å¯ä»¥å»åçç¸å³è¯¾ç¨å­¦ä¹ ï¼ç¥å¾®å¤æï¼èä¸æ ¼å¼ä¸è½ä¹±è®¾ç½®ï¼ä¸æ¯åä¸ªæ ¼å¼å°±è½ç¨çï¼åä¸å¥½å°±ä¼åºç°å²çªé®é¢ã\n\næ»ç»\n\n 1. springbootæ´åQuartzå°±æ¯å°Quartzå¯¹åºçæ ¸å¿å¯¹è±¡äº¤ç»springå®¹å¨ç®¡çï¼åå«ä¸¤ä¸ªå¯¹è±¡ï¼JobDetailåTriggerå¯¹è±¡\n 2. JobDetailå¯¹è±¡æè¿°çæ¯å·¥ä½çæ§è¡ä¿¡æ¯ï¼éè¦ç»å®ä¸ä¸ªQuartzJobBeanç±»åçå¯¹è±¡\n 3. Triggerå¯¹è±¡å®ä¹äºä¸ä¸ªè§¦åå¨ï¼éè¦ä¸ºå¶æå®ç»å®çJobDetailæ¯åªä¸ªï¼åæ¶è¦è®¾ç½®æ§è¡å¨æè°åº¦å¨\n\næè\n\nä¸é¢çæä½çä¸å»ä¸å¤ï¼ä½æ¯Quartzå°å¶ä¸­çå¯¹è±¡ååç²åº¦è¿ç»ï¼å¯¼è´å¼åçæ¶åæç¹ç¹çï¼springéå¯¹ä¸è¿°è§åè¿è¡äºç®åï¼å¼åäºèªå·±çä»»å¡ç®¡çç»ä»¶ââTaskï¼å¦ä½ç¨å¢ï¼å±ä»¬ä¸èåè¯´ã\n\n# Task\n\nspringæ ¹æ®å®æ¶ä»»å¡çç¹å¾ï¼å°å®æ¶ä»»å¡çå¼åç®åå°äºæè´ãæä¹è¯´å¢ï¼è¦åå®æ¶ä»»å¡æ»è¦åè¯å®¹å¨æè¿åè½å§ï¼ç¶åå®æ¶æ§è¡ä»ä¹ä»»å¡ç´æ¥åè¯å¯¹åºçbeanä»ä¹æ¶é´æ§è¡å°±è¡äºï¼å°±è¿ä¹ç®åï¼ä¸èµ·æ¥çæä¹å\n\næ­¥éª¤â ï¼å¼å¯å®æ¶ä»»å¡åè½ï¼å¨å¼å¯¼ç±»ä¸å¼å¯å®æ¶ä»»å¡åè½çå¼å³ï¼ä½¿ç¨æ³¨è§£@EnableScheduling\n\n@SpringBootApplication\n//å¼å¯å®æ¶ä»»å¡åè½\n@EnableScheduling\npublic class Springboot22TaskApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(Springboot22TaskApplication.class, args);\n    }\n}\n\n\næ­¥éª¤â¡ï¼å®ä¹Beanï¼å¨å¯¹åºè¦å®æ¶æ§è¡çæä½ä¸æ¹ï¼ä½¿ç¨æ³¨è§£@Scheduledå®ä¹æ§è¡çæ¶é´ï¼æ§è¡æ¶é´çæè¿°æ¹å¼è¿æ¯cronè¡¨è¾¾å¼\n\n@Component\npublic class MyBean {\n    @Scheduled(cron = "0/1 * * * * ?")\n    public void print(){\n        System.out.println(Thread.currentThread().getName()+" :spring task run...");\n    }\n}\n\n\nå®äºï¼è¿å°±å®æäºå®æ¶ä»»å¡çéç½®ãæ»ä½æè§å¶å®ä»ä¹ä¸è¥¿é½æ²¡å°ï¼åªä¸è¿æ²¡æå°ææçä¿¡æ¯é½æ½åæbeanï¼èæ¯ç´æ¥ä½¿ç¨æ³¨è§£ç»å®å®æ¶æ§è¡ä»»å¡çäºæèå·²ã\n\nå¦ä½æ³å¯¹å®æ¶ä»»å¡è¿è¡ç¸å³éç½®ï¼å¯ä»¥éè¿éç½®æä»¶è¿è¡\n\nspring:\n  task:\n   \tscheduling:\n      pool:\n       \tsize: 1\t\t\t\t\t\t\t# ä»»å¡è°åº¦çº¿ç¨æ± å¤§å° é»è®¤ 1\n      thread-name-prefix: ssm_      \t# è°åº¦çº¿ç¨åç§°åç¼ é»è®¤ scheduling-      \n        shutdown:\n          await-termination: false\t\t# çº¿ç¨æ± å³é­æ¶ç­å¾ææä»»å¡å®æ\n          await-termination-period: 10s\t# è°åº¦çº¿ç¨å³é­åæå¤§ç­å¾æ¶é´ï¼ç¡®ä¿æåä¸å®å³é­\n\n\næ»ç»\n\n 1. spring taskéè¦ä½¿ç¨æ³¨è§£@EnableSchedulingå¼å¯å®æ¶ä»»å¡åè½\n\n 2. ä¸ºå®æ¶æ§è¡ççä»»å¡è®¾ç½®æ§è¡å¨æï¼æè¿°æ¹å¼cronè¡¨è¾¾å¼\n\n\n# KF-5-3.é®ä»¶\n\nspringbootæ´åç¬¬ä¸æ¹ææ¯ç¬¬ä¸é¨åæä»¬æ¥è¯´è¯´é®ä»¶ç³»ç»ï¼åé®ä»¶æ¯javaç¨åºçåºæ¬æä½ï¼springbootæ´åjavamailå¶å®å°±æ¯ç®åå¼åãä¸çæé®ä»¶çå°ä¼ä¼´å¯ä»¥åå­¦ä¹ å®javamailçåºç¡æä½ï¼åæ¥çè¿ä¸é¨ååå®¹æè½æè§¦å°springbootæ´åjavamailç©¶ç«ç®åäºåªäºæä½ãç®åçå¤ç ï¼å¶å®ä¸å¤ï¼å·®å«ä¸å¤§ï¼åªæ¯è¿ä¸ªæ ¼å¼èå·²ã\n\nå­¦ä¹ é®ä»¶åéä¹ååäºè§£3ä¸ªæ¦å¿µï¼è¿äºæ¦å¿µè§èäºé®ä»¶æä½è¿ç¨ä¸­çæ åã\n\n * SMTPï¼Simple Mail Transfer Protocolï¼ï¼ç®åé®ä»¶ä¼ è¾åè®®ï¼ç¨äºåéçµå­é®ä»¶çä¼ è¾åè®®ï¼æå³æ³¨çåè®®ï¼\n * POP3ï¼Post Office Protocol - Version 3ï¼ï¼ç¨äºæ¥æ¶çµå­é®ä»¶çæ ååè®®\n * IMAPï¼Internet Mail Access Protocolï¼ï¼äºèç½æ¶æ¯åè®®ï¼æ¯POP3çæ¿ä»£åè®®\n\nç®åè¯´å°±æ¯SMPTæ¯åé®ä»¶çæ åï¼POP3æ¯æ¶é®ä»¶çæ åï¼IMAPæ¯å¯¹POP3çåçº§ãæä»¬å¶ä½ç¨åºä¸­æä½é®ä»¶ï¼éå¸¸æ¯åé®ä»¶ï¼æä»¥SMTPæ¯ä½¿ç¨çéç¹ï¼æ¶é®ä»¶å¤§é¨åé½æ¯éè¿é®ä»¶å®¢æ·ç«¯å®æï¼æä»¥å¼åæ¶é®ä»¶çä»£ç æå°ãé¤éä½ è¦è¯»åé®ä»¶åå®¹ï¼ç¶åè§£æï¼åé®ä»¶åè½çç»ä¸å¤çãä¾å¦HRçé®ç®±æ¶å°æ±èèçç®åï¼å¯ä»¥è¯»ååç»ä¸å¤çãä½æ¯ä¸ºä»ä¹ä¸å¶ä½ç¬ç«çæéç®åçç³»ç»å¢ï¼æä»¥è¯´ï¼å¥½å¥æªçéæ±ï¼å ä¸ºè¦æ³æ¶é®ä»¶å°±è¦è§èåé®ä»¶çäººçä¹¦åæ ¼å¼ï¼è¿ä¸ªæªåæç¹å¼ºäººæé¾ï¼å¹¶ä¸æææ¶å°å¤é¨æ»å»ï¼ä½ ä¸å¯è½ä½¿ç¨ç½ååæ¥æ¶é®ä»¶ãå¦æè½ä½¿ç¨ç½ååæ¥æ¶é®ä»¶ç¶åè§£æé®ä»¶ï¼è¿ä¸å¦å¼åä¸ªç³»ç»ç»ç½ååä¸­çäººä¸ç¨å¢ï¼æ´å®å¨ï¼æ»ä¹å°±æ¯é¸¡èäºãä¸é¢å°±å¼å§å­¦ä¹ springbootå¦ä½æ´åjavamailåéé®ä»¶ã\n\n# åéç®åé®ä»¶\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åjavamailçstarter\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-mail</artifactId>\n</dependency>\n\n\næ­¥éª¤â¡ï¼éç½®é®ç®±çç»å½ä¿¡æ¯\n\nspring:\n  mail:\n    host: smtp.126.com\n    username: test@126.com\n    password: test\n\n\njavaç¨åºä»ç¨äºåéé®ä»¶ï¼é®ä»¶çåè½è¿æ¯é®ä»¶ä¾åºåæä¾çï¼æä»¥è¿éæ¯ç¨å«äººçé®ä»¶æå¡ï¼è¦éç½®å¯¹åºä¿¡æ¯ã\n\nhostéç½®çæ¯æä¾é®ä»¶æå¡çä¸»æºåè®®ï¼æä¾é®ä»¶çæå¡åï¼ï¼å½åç¨åºä»ç¨äºåéé®ä»¶ï¼å æ­¤éç½®çæ¯smtpçåè®®ã\n\npasswordå¹¶ä¸æ¯é®ç®±è´¦å·çç»å½å¯ç ï¼æ¯é®ä»¶ä¾åºåæä¾çä¸ä¸ªå å¯åçå¯ç ï¼ä¹æ¯ä¸ºäºä¿éç³»ç»å®å¨æ§ãä¸ç¶å¤é¨äººåéè¿å°åè®¿é®ä¸è½½äºéç½®æä»¶ï¼ç´æ¥è·åå°äºé®ä»¶å¯ç å°±ä¼ææå¤§çå®å¨éæ£ãæå³è¯¥å¯ç çè·åæ¯ä¸ªé®ä»¶ä¾åºåæä¾çæ¹å¼é½ä¸ä¸æ ·ï¼æ­¤å¤ç¥è¿ãå¯ä»¥å°é®ä»¶ä¾åºåçè®¾ç½®é¡µé¢æ¾POP3æIMAPè¿äºå³é®è¯æ¾å°å¯¹åºçè·åä½ç½®ãä¸ä¾ä»ä¾åèï¼\n\n\n\næ­¥éª¤â¢ï¼ä½¿ç¨JavaMailSenderæ¥å£åéé®ä»¶\n\n@Service\npublic class SendMailServiceImpl implements SendMailService {\n    @Autowired\n    private JavaMailSender javaMailSender;\n\n    //åéäºº\n    private String from = "test@qq.com";\n    //æ¥æ¶äºº\n    private String to = "test@126.com";\n    //æ é¢\n    private String subject = "æµè¯é®ä»¶";\n    //æ­£æ\n    private String context = "æµè¯é®ä»¶æ­£æåå®¹";\n\n    @Override\n    public void sendMail() {\n        SimpleMailMessage message = new SimpleMailMessage();\n        message.setFrom(from+"(å°çç)");\n        message.setTo(to);\n        message.setSubject(subject);\n        message.setText(context);\n        javaMailSender.send(message);\n    }\n}\n\n\nå°åéé®ä»¶çå¿è¦ä¿¡æ¯ï¼åä»¶äººãæ¶ä»¶äººãæ é¢ãæ­£æï¼å°è£å°SimpleMailMessageå¯¹è±¡ä¸­ï¼å¯ä»¥æ ¹æ®è§åè®¾ç½®åéäººæµç§°ç­ã\n\n# åéå¤ç»ä»¶é®ä»¶ï¼éä»¶ãå¤ææ­£æï¼\n\nåéç®åé®ä»¶ä»éè¦æä¾å¯¹åºç4ä¸ªåºæ¬ä¿¡æ¯å°±å¯ä»¥äºï¼å¦ææ³åéå¤æçé®ä»¶ï¼éè¦æ´æ¢é®ä»¶å¯¹è±¡ãä½¿ç¨MimeMessageå¯ä»¥åéç¹æ®çé®ä»¶ã\n\nåéç½é¡µæ­£æé®ä»¶\n\n@Service\npublic class SendMailServiceImpl2 implements SendMailService {\n    @Autowired\n    private JavaMailSender javaMailSender;\n\n    //åéäºº\n    private String from = "test@qq.com";\n    //æ¥æ¶äºº\n    private String to = "test@126.com";\n    //æ é¢\n    private String subject = "æµè¯é®ä»¶";\n    //æ­£æ\n    private String context = "<img src=\'ABC.JPG\'/><a href=\'https://www.itcast.cn\'>ç¹å¼ææå</a>";\n\n    public void sendMail() {\n        try {\n            // ä»¥ä¸ä¸ºåºå®æä½\n            MimeMessage message = javaMailSender.createMimeMessage();\n            MimeMessageHelper helper = new MimeMessageHelper(message);\n            helper.setFrom(to+"(å°çç)");\n            helper.setTo(from);\n            helper.setSubject(subject);\n            helper.setText(context,true);\t\t//æ­¤å¤è®¾ç½®æ­£ææ¯æhtmlè§£æ\n\n            javaMailSender.send(message);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\nåéå¸¦æéä»¶çé®ä»¶\n\n@Service\npublic class SendMailServiceImpl2 implements SendMailService {\n    @Autowired\n    private JavaMailSender javaMailSender;\n\n    //åéäºº\n    private String from = "test@qq.com";\n    //æ¥æ¶äºº\n    private String to = "test@126.com";\n    //æ é¢\n    private String subject = "æµè¯é®ä»¶";\n    //æ­£æ\n    private String context = "æµè¯é®ä»¶æ­£æ";\n\n    public void sendMail() {\n        try {\n            MimeMessage message = javaMailSender.createMimeMessage();\n            MimeMessageHelper helper = new MimeMessageHelper(message,true);\t\t//æ­¤å¤è®¾ç½®æ¯æéä»¶\n            helper.setFrom(from+"(å°çç)");\n            helper.setTo(to);\n            helper.setSubject(subject);\n            helper.setText(context);\n\n            //æ·»å éä»¶\n            File f1 = new File("springboot_23_mail-0.0.1-SNAPSHOT.jar");\n            File f2 = new File("resources\\\\logo.png");\n\n            helper.addAttachment(f1.getName(),f1);\n            helper.addAttachment("æé è°±çå¹è®­ç»æ.png",f2);\n\n            javaMailSender.send(message);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\næ»ç»\n\n 1. springbootæ´åjavamailå¶å®å°±æ¯ç®åäºåéé®ä»¶çå®¢æ·ç«¯å¯¹è±¡JavaMailSenderçåå§åè¿ç¨ï¼éè¿éç½®çå½¢å¼å è½½ä¿¡æ¯ç®åå¼åè¿ç¨\n\n\n# KF-5-4.æ¶æ¯\n\nspringbootæ´åç¬¬ä¸æ¹ææ¯æåä¸é¨åæä»¬æ¥è¯´è¯´æ¶æ¯ä¸­é´ä»¶ï¼é¦ååä»ç»ä¸ä¸æ¶æ¯çåºç¨ã\n\n# æ¶æ¯çæ¦å¿µ\n\nä»å¹¿ä¹è§åº¦æ¥è¯´ï¼æ¶æ¯å¶å®å°±æ¯ä¿¡æ¯ï¼ä½æ¯åä¿¡æ¯åææä¸åãä¿¡æ¯éå¸¸è¢«å®ä¹ä¸ºä¸ç»æ°æ®ï¼èæ¶æ¯é¤äºå·ææ°æ®çç¹å¾ä¹å¤ï¼è¿ææ¶æ¯çæ¥æºä¸æ¥æ¶çæ¦å¿µãéå¸¸åéæ¶æ¯çä¸æ¹ç§°ä¸ºæ¶æ¯ççäº§èï¼æ¥æ¶æ¶æ¯çä¸æ¹ç§°ä¸ºæ¶æ¯çæ¶è´¹èãè¿æ ·æ¯è¾åï¼åç°å¶å®æ¶æ¯åä¿¡æ¯å·®å«è¿æ¯å¾å¤§çã\n\nä¸ºä»ä¹è¦è®¾ç½®çäº§èåæ¶è´¹èå¢ï¼è¿å°±æ¯è¦è¯´å°æ¶æ¯çæä¹äºãä¿¡æ¯éå¸¸å°±æ¯ä¸ç»æ°æ®ï¼ä½æ¯æ¶æ¯ç±äºæäºçäº§èåæ¶è´¹èï¼å°±åºç°äºæ¶æ¯ä¸­æåå«çä¿¡æ¯å¯ä»¥è¢«äºæ¬¡è§£è¯»ï¼çäº§èåéæ¶æ¯ï¼å¯ä»¥çè§£ä¸ºçäº§èåéäºä¸ä¸ªä¿¡æ¯ï¼ä¹å¯ä»¥çè§£ä¸ºçäº§èåéäºä¸ä¸ªå½ä»¤ï¼æ¶è´¹èæ¥æ¶æ¶æ¯ï¼å¯ä»¥çè§£ä¸ºæ¶è´¹èå¾å°äºä¸ä¸ªä¿¡æ¯ï¼ä¹å¯ä»¥çè§£ä¸ºæ¶è´¹èå¾å°äºä¸ä¸ªå½ä»¤ãå¯¹æ¯ä¸ä¸æä»¬ä¼åç°ä¿¡æ¯æ¯ä¸ä¸ªåºæ¬æ°æ®ï¼èå½ä»¤åå¯ä»¥å³èä¸ä¸ä¸ªè¡ä¸ºå¨ä½ï¼è¿æ ·å°±å¯ä»¥çè§£ä¸ºåºäºæ¥æ¶çæ¶æ¯ç¸å½äºå¾å°äºä¸ä¸ªè¡ä¸ºå¨ä½ï¼ä½¿ç¨è¿äºè¡ä¸ºå¨ä½å°±å¯ä»¥ç»ç»æä¸ä¸ªä¸å¡é»è¾ï¼è¿è¡è¿ä¸æ­¥çæä½ãæ»çæ¥è¯´ï¼æ¶æ¯å¶å®ä¹æ¯ä¸ç»ä¿¡æ¯ï¼åªæ¯ä¸ºå¶èµäºäºå¨æ°çå«ä¹ï¼å ä¸ºæäºæ¶æ¯çæµå¨ï¼å¹¶ä¸æ¯ææ¹åæ§çæµå¨ï¼å¸¦æ¥äºåºäºæµå¨çè¡ä¸ºäº§ççå¨æ°è§£è¯»ãå¼åèå°±å¯ä»¥åºäºæ¶æ¯çè¿ç§ç¹æ®è§£ï¼å°å¶æ¢æä»£ç ä¸­çæä»¤ã\n\nå¯¹äºæ¶æ¯ççè§£ï¼åå­¦èæ»è®¤ä¸ºæ¶æ¯åé¨çæ°æ®éå¸¸å¤æï¼è¿æ¯ä¸ä¸ªè¯¯åºãæ¯å¦æåéäºä¸ä¸ªæ¶æ¯ï¼è¦æ±æ¥åèç¿»è¯åéè¿å»çåå®¹ãåå­¦èä¼è®¤ä¸ºæ¶æ¯ä¸­ä¼åå«è¢«ç¿»è¯çæå­ï¼å·²ç»æ¬æ¬¡æä½è¦æ§è¡ç¿»è¯æä½èä¸æ¯æå°æä½ãå¶å®è¿ç§ç°è±¡æç¹è¿åº¦è§£è¯»äºï¼åéçæ¶æ¯ä¸­ä»ä»åå«è¢«ç¿»è¯çæå­ï¼ä½æ¯å¯ä»¥éè¿æ§å¶ä¸åçäººæ¥æ¶æ­¤æ¶æ¯æ¥ç¡®è®¤è¦åçäºæãä¾å¦åéè¢«ç¿»è¯çæå­ä»å°Aç¨åºï¼èAç¨åºåªè½è¿è¡ç¿»è¯æä½ï¼è¿æ ·å°±å¯ä»¥åéç®åçä¿¡æ¯å®æå¤æçä¸å¡äºï¼æ¯éè¿æ¥æ¶æ¶æ¯çä¸»ä½ä¸åï¼è¿èæ§è¡ä¸åçæä½ï¼èä¸ä¼å¨æ¶æ¯åé¨å®ä¹æ°æ®çæä½è¡ä¸ºï¼å½ç¶å¦æå¼åèå¸ææ¶æ¯ä¸­åå«æä½ç§ç±»ä¿¡æ¯ä¹æ¯å¯ä»¥çï¼åªæ¯æåºæ¶æ¯çåå®¹å¯ä»¥æ´ç®åï¼æ´åä¸ã\n\nå¯¹äºæ¶æ¯ççäº§èä¸æ¶è´¹èçå·¥ä½æ¨¡å¼ï¼è¿å¯ä»¥å°æ¶æ¯ååæä¸¤ç§æ¨¡å¼ï¼åæ­¥æ¶è´¹ä¸å¼æ­¥æ¶æ¯ã\n\næè°åæ­¥æ¶æ¯å°±æ¯çäº§èåéå®æ¶æ¯ï¼ç­å¾æ¶è´¹èå¤çï¼æ¶è´¹èå¤çå®å°ç»æåç¥çäº§èï¼ç¶åçäº§èç»§ç»­åä¸æ§è¡ä¸å¡ãè¿ç§æ¨¡å¼è¿äºå¡çäº§èçä¸å¡æ§è¡è¿ç»­æ§ï¼å¨ç°å¨çä¼ä¸çº§å¼åä¸­ï¼ä¸è¿°è¿ç§ä¸å¡åºæ¯éå¸¸ä¸ä¼éç¨æ¶æ¯çå½¢å¼è¿è¡å¤çã\n\næè°**å¼æ­¥æ¶æ¯å°±æ¯çäº§èåéå®æ¶æ¯ï¼æ éç­å¾æ¶è´¹èå¤çå®æ¯ï¼çäº§èç»§ç»­åä¸æ§è¡å¶ä»å¨ä½ã**æ¯å¦çäº§èåéäºä¸ä¸ªæ¥å¿ä¿¡æ¯ç»æ¥å¿ç³»ç»ï¼åéè¿å»ä»¥åçäº§èå°±åä¸åå¶ä»äºæäºï¼æ éå³æ³¨æ¥å¿ç³»ç»çæ§è¡ç»æãæ¥å¿ç³»ç»æ ¹æ®æ¥æ¶å°çæ¥å¿ä¿¡æ¯ç»§ç»­è¿è¡ä¸å¡æ§è¡ï¼æ¯åçº¯çè®°å½æ¥å¿ï¼è¿æ¯è®°å½æ¥å¿å¹¶æ¥è­¦ï¼è¿äºåçäº§èæ å³ï¼è¿æ ·çäº§èçä¸å¡æ§è¡æçå°±ä¼å¤§å¹åº¦æåãå¹¶ä¸å¯ä»¥éè¿æ·»å å¤ä¸ªæ¶è´¹èæ¥å¤çåä¸ä¸ªçäº§èåéçæ¶æ¯æ¥æé«ç³»ç»çé«å¹¶åæ§ï¼æ¹åç³»ç»å·¥ä½æçï¼æé«ç¨æ·ä½éªãä¸æ¦æä¸ä¸ªæ¶è´¹èç±äºåç§é®é¢å®æºäºï¼ä¹ä¸ä¼å¯¹ä¸å¡äº§çå½±åï¼æé«äºç³»ç»çé«å¯ç¨æ§ã\n\nä»¥ä¸ç®åçä»ç»äºä¸ä¸æ¶æ¯è¿ç§å·¥ä½æ¨¡å¼å­å¨çæä¹ï¼å¸æå¯¹åä½å­¦ä¹ èææå¸®å©ã\n\n# Javaå¤çæ¶æ¯çæ åè§è(ä¹å°±æ¯å¨å¤çæ¶æ¯éå)\n\nç®åä¼ä¸çº§å¼åä¸­å¹¿æ³ä½¿ç¨çæ¶æ¯å¤çææ¯å±ä¸å¤§ç±»ï¼å·ä½å¦ä¸ï¼\n\n * JMS\n * AMQP\n * MQTT\n\nä¸ºä»ä¹æ¯ä¸å¤§ç±»ï¼èä¸æ¯ä¸ä¸ªææ¯å¢ï¼å ä¸ºè¿äºé½æ¯è§èï¼å°±æ³JDBCææ¯ï¼æ¯ä¸ªè§èï¼å¼åéå¯¹è§èå¼åï¼è¿è¡è¿è¦é å®ç°ç±»ï¼ä¾å¦MySQLæä¾äºJDBCçå®ç°ï¼æç»è¿è¡é çè¿æ¯å®ç°ãå¹¶ä¸è¿ä¸ç±»è§èé½æ¯éå¯¹å¼æ­¥æ¶æ¯è¿è¡å¤ççï¼ä¹ç¬¦åæ¶æ¯çè®¾è®¡æ¬è´¨ï¼å¤çå¼æ­¥çä¸å¡ãå¯¹ä»¥ä¸ä¸ç§æ¶æ¯è§èåä¸ä¸æ®å\n\n# JMS\n\nJMSï¼Java Message Serviceï¼,è¿æ¯ä¸ä¸ªè§èï¼ä½ç¨ç­åäºJDBCè§èï¼æä¾äºä¸æ¶æ¯æå¡ç¸å³çAPIæ¥å£ã\n\nJMSæ¶æ¯æ¨¡å\n\nJMSè§èä¸­è§èäºæ¶æ¯æä¸¤ç§æ¨¡åãåå«æ¯ç¹å¯¹ç¹æ¨¡åååå¸è®¢éæ¨¡åã\n\nç¹å¯¹ç¹æ¨¡åï¼peer-2-peerï¼çäº§èä¼å°æ¶æ¯åéå°ä¸ä¸ªä¿å­æ¶æ¯çå®¹å¨ä¸­ï¼éå¸¸ä½¿ç¨éåæ¨¡åï¼ä½¿ç¨éåä¿å­æ¶æ¯ãä¸ä¸ªéåçæ¶æ¯åªè½è¢«ä¸ä¸ªæ¶è´¹èæ¶è´¹ï¼ææªè¢«åæ¶æ¶è´¹å¯¼è´è¶æ¶ãè¿ç§æ¨¡åä¸ï¼çäº§èåæ¶è´¹èæ¯ä¸å¯¹ä¸ç»å®çã\n\nåå¸è®¢éæ¨¡åï¼publish-subscribeï¼çäº§èå°æ¶æ¯åéå°ä¸ä¸ªä¿å­æ¶æ¯çå®¹å¨ä¸­ï¼ä¹æ¯ä½¿ç¨éåæ¨¡åæ¥ä¿å­ãä½æ¯æ¶æ¯å¯ä»¥è¢«å¤ä¸ªæ¶è´¹èæ¶è´¹ï¼çäº§èåæ¶è´¹èå®å¨ç¬ç«ï¼ç¸äºä¸éè¦æç¥å¯¹æ¹çå­å¨ã\n\nä»¥ä¸è¿ç§åç±»æ¯ä»æ¶æ¯ççäº§åæ¶è´¹è¿ç¨æ¥è¿è¡åºåï¼éå¯¹æ¶æ¯æåå«çä¿¡æ¯ä¸åï¼è¿å¯ä»¥è¿è¡ä¸åç±»å«çååã\n\nJMSæ¶æ¯ç§ç±»\n\næ ¹æ®æ¶æ¯ä¸­åå«çæ°æ®ç§ç±»ååï¼å¯ä»¥å°æ¶æ¯ååæ6ç§æ¶æ¯ã\n\n * TextMessage\n * MapMessage\n * BytesMessage\n * StreamMessage\n * ObjectMessage\n * Message ï¼åªææ¶æ¯å¤´åå±æ§ï¼\n\nJMSä¸»å¼ ä¸åç§ç±»çæ¶æ¯ï¼æ¶è´¹æ¹å¼ä¸åï¼å¯ä»¥æ ¹æ®ä½¿ç¨éè¦éæ©ä¸åç§ç±»çæ¶æ¯ãä½æ¯è¿ä¸ç¹ä¹æä¸ºå¶è¯çä¹å¤ï¼åé¢åè¯´ãæ´ä½ä¸æ¥è¯´ï¼JMSå°±æ¯å¸åçä¿å®æ´¾ï¼ä»ä¹é½æç§J2EEçè§èæ¥ï¼åä¸å¥è§èï¼å®ä¹è¥å¹²ä¸ªæ åï¼æ¯ä¸ªæ åä¸åæä¾ä¸å¤§æ¹APIãç®åå¯¹JMSè§èå®ç°çæ¶æ¯ä¸­é´ä»¶ææ¯è¿æ¯æºå¤çï¼æ¯ç«æ¯çå®¶å¾¡ç¨ï¼è¯å®æäººèï¼ä¾å¦ActiveMQãRedisãHornetMQãä½æ¯ä¹æä¸äºä¸å¤ªè§èçå®ç°ï¼åèJMSçæ åè®¾è®¡ï¼ä½æ¯åä¸å®å¨æ»¡è¶³å¶è§èï¼ä¾å¦ï¼RabbitMQãRocketMQã\n\n# AMQP\n\nJMSçé®ä¸ä¸ºæ¶æ¯ä¸­é´ä»¶æä¾äºå¾å¼ºå¤§çè§èæ§æ¯æï¼ä½æ¯ä½¿ç¨çè¿ç¨ä¸­å°±å¼å§è¢«äººè¯çï¼æ¯å¦JMSè®¾ç½®çæå¶å¤æçå¤ç§ç±»æ¶æ¯å¤çæºå¶ãæ¬æ¥åé¨å«ç±»å¤çæºå¥½çï¼ä¸ºä»ä¹ä¼è¢«è¯çå¢ï¼åå å°±å¨äºJMSçè®¾è®¡æ¯J2EEè§èï¼ç«å¨Javaå¼åçè§åº¦æèé®é¢ãä½æ¯ç°å®å¾å¾æ¯å¤æåº¦å¾é«çãæ¯å¦ææä¸ä¸ª.NETå¼åçç³»ç»Aï¼æä¸ä¸ªJavaå¼åçç³»ç»Bï¼ç°å¨è¦ä»Aç³»ç»ç»Bç³»ç»åä¸å¡æ¶æ¯ï¼ç»æä¸¤è¾¹æ°æ®æ ¼å¼ä¸ç»ä¸ï¼æ²¡æ³æä½ãJMSä¸æ¯å¯ä»¥ç»ä¸æ°æ®æ ¼å¼åï¼æä¾äº6ç§æ°æ®ç§ç±»ï¼æ»æä¸æ¬¾éåä½ åãNOï¼ä¸ä¸ªé½ä¸è½ç¨ãå ä¸ºAç³»ç»çåºå±è¯­è¨ä¸æ¯Javaè¯­è¨å¼åçï¼æ ¹æ¬ä¸æ¯æé£äºå¯¹è±¡ãè¿å°±æå³çå¦ææ³ä½¿ç¨ç°æçä¸å¡ç³»ç»Aç»§ç»­å¼åå·²ç»ä¸å¯è½äºï¼å¿é¡»æ¨ç¿»éæ°åä½¿ç¨Javaè¯­è¨å¼åçAç³»ç»ã\n\nè¿æ¶åæäººå°±æåºè¯´ï¼ä½ æé£ä¹å¤æï¼æ´é£ä¹å¤ç§ç±»å¹²ä»ä¹ï¼æ¾ä¸ç§å¤§å®¶é½æ¯æçæ¶æ¯æ°æ®ç±»åä¸å°±è§£å³è¿ä¸ªè·¨å¹³å°çé®é¢äºåï¼å¤§å®¶ä¸æ³ï¼å¯¹åï¼äºæ¯AMQPå­è²èçã\n\nåä»ä¸é¢çè¯´æä¸­å¶å®å¯ä»¥æç¡®æç¥å°ï¼AMQPçåºç°è§£å³çæ¯æ¶æ¯ä¼ éæ¶ä½¿ç¨çæ¶æ¯ç§ç±»çé®é¢ï¼åç¹ä¸ºç®ï¼ä½æ¯å¶å¹¶æ²¡æå®å¨æ¨ç¿»JMSçæä½APIï¼æä»¥è¯´AMQPä»ä»æ¯ä¸ç§åè®®ï¼è§èäºæ°æ®ä¼ è¾çæ ¼å¼èå·²ã\n\nAMQPï¼advanced message queuing protocolï¼ï¼ä¸ç§åè®®ï¼é«çº§æ¶æ¯éååè®®ï¼ä¹æ¯æ¶æ¯ä»£çè§èï¼ä¸æ¯åJMSä¸æ ·çè§èï¼ï¼è§èäºç½ç»äº¤æ¢çæ°æ®æ ¼å¼ï¼å¼å®¹JMSæä½ã ä¼ç¹\n\nå·æè·¨å¹³å°æ§ï¼æå¡å¨ä¾åºåï¼çäº§èï¼æ¶è´¹èå¯ä»¥ä½¿ç¨ä¸åçè¯­è¨æ¥å®ç°\n\nJMSæ¶æ¯ç§ç±»\n\nAMQPæ¶æ¯ç§ç±»ï¼byte[]\n\nAMQPå¨JMSçæ¶æ¯æ¨¡ååºç¡ä¸åè¿è¡äºè¿ä¸æ­¥çæ©å±ï¼é¤äºç¹å¯¹ç¹ååå¸è®¢éçæ¨¡åï¼å¼åäºå ç§å¨æ°çæ¶æ¯æ¨¡åï¼éåºåç§åæ ·çæ¶æ¯åéã\n\nAMQPæ¶æ¯æ¨¡å\n\n * direct exchange\n * fanout exchange\n * topic exchange\n * headers exchange\n * system exchange\n\nç®åå®ç°äºAMQPåè®®çæ¶æ¯ä¸­é´ä»¶ææ¯ä¹å¾å¤ï¼èä¸é½æ¯è¾ä¸ºæµè¡çææ¯ï¼ä¾å¦ï¼RabbitMQãStormMQãRocketMQ\n\nAMQPç¨æ¥è§èæ¶æ¯ä¼ éçæ ¼å¼ï¼çèåæï¼ï¼JMSç¨æ¥è§èæ¶æ¯å¼åçAPIï¼çèå¨ä½ï¼\n\n# MQTT\n\nMQTTï¼Message Queueing Telemetry Transportï¼æ¶æ¯éåé¥æµä¼ è¾ï¼ä¸ä¸ºå°è®¾å¤è®¾è®¡ï¼æ¯ç©èç½ï¼IOTï¼çæç³»ç»ä¸­ä¸»è¦æåä¹ä¸ãç±äºä¸JavaEEä¼ä¸çº§å¼åæ²¡æäº¤éï¼æ­¤å¤ä¸ä½è¿å¤çè¯´æã\n\né¤äºä¸è¿°3ç§J2EEä¼ä¸çº§åºç¨ä¸­å¹¿æ³ä½¿ç¨çä¸ç§å¼æ­¥æ¶æ¯ä¼ éææ¯ï¼è¿æä¸ç§ææ¯ä¹ä¸è½å¿½ç¥ï¼Kafkaã\n\n# KafKa\n\n**Kafkaï¼ä¸ç§é«ååéçåå¸å¼åå¸è®¢éæ¶æ¯ç³»ç»ï¼æä¾å®æ¶æ¶æ¯åè½ã**Kafkaææ¯å¹¶ä¸æ¯ä½ä¸ºæ¶æ¯ä¸­é´ä»¶ä¸ºä¸»è¦åè½çäº§åï¼ä½æ¯å¶æ¥æåå¸è®¢éçå·¥ä½æ¨¡å¼ï¼ä¹å¯ä»¥åå½æ¶æ¯ä¸­é´ä»¶æ¥ä½¿ç¨ï¼èä¸ç®åä¼ä¸çº§å¼åä¸­å¶èº«å½±ä¹ä¸å°è§ã\n\næ¬èåå®¹è®²å´ç»çä¸è¿°åå®¹ä¸­çå ç§å®ç°æ¹æ¡è®²è§£springbootæ´ååç§åæ ·çæ¶æ¯ä¸­é´ä»¶ãç±äºåç§æ¶æ¯ä¸­é´ä»¶å¿é¡»åå®è£åä½¿ç¨ï¼ä¸é¢çåå®¹éç¨Windowsç³»ç»å®è£ï¼éä½åä½å­¦ä¹ èçå­¦ä¹ é¾åº¦ï¼åºæ¬å¥è·¯åä¹åå­¦ä¹ NoSQLè§£å³æ¹æ¡ä¸æ ·ï¼åå®è£åæ´åã\n\n# è´­ç©è®¢ååéææºç­ä¿¡æ¡ä¾\n\nä¸ºäºä¾¿äºä¸é¢æ¼ç¤ºåç§åæ ·çæ¶æ¯ä¸­é´ä»¶ææ¯ï¼æä»¬åå»ºä¸ä¸ªè´­ç©è¿ç¨çæè®¢åæ¶ä¸ºç¨æ·åéç­ä¿¡çæ¡ä¾ç¯å¢ï¼æ¨¡æä½¿ç¨æ¶æ¯ä¸­é´ä»¶å®ç°åéææºç­ä¿¡çè¿ç¨ã\n\nææºéªè¯ç æ¡ä¾éæ±å¦ä¸ï¼\n\n * æ§è¡ä¸åä¸å¡æ¶ï¼æ¨¡ææ­¤è¿ç¨ï¼ï¼è°ç¨æ¶æ¯æå¡ï¼å°è¦åéç­ä¿¡çè®¢åidä¼ éç»æ¶æ¯ä¸­é´ä»¶\n\n * æ¶æ¯å¤çæå¡æ¥æ¶å°è¦åéçè®¢åidåè¾åºè®¢åidï¼æ¨¡æåç­ä¿¡ï¼\n   \n   ç±äºä¸æ¶åæ°æ®è¯»åï¼ä»å¼åä¸å¡å±ä¸è¡¨ç°å±ï¼å¶ä¸­ç­ä¿¡å¤ççä¸å¡ä»£ç ç¬ç«å¼åï¼ä»£ç å¦ä¸ï¼\n\nè®¢åä¸å¡\n\nä¸å¡å±æ¥å£\n\npublic interface OrderService {\n    void order(String id);\n}\n\n\næ¨¡æä¼ å¥è®¢åidï¼æ§è¡ä¸è®¢åä¸å¡ï¼åæ°ä¸ºèæè®¾å®ï¼å®éåºä¸ºè®¢åå¯¹åºçå®ä½ç±»\n\nä¸å¡å±å®ç°\n\n@Service\npublic class OrderServiceImpl implements OrderService {\n    @Autowired\n    private MessageService messageService;\n    \n    @Override\n    public void order(String id) {\n        //ä¸ç³»åæä½ï¼åå«åç§æå¡è°ç¨ï¼å¤çåç§ä¸å¡\n        System.out.println("è®¢åå¤çå¼å§");\n        //ç­ä¿¡æ¶æ¯å¤ç\n        messageService.sendMessage(id);\n        System.out.println("è®¢åå¤çç»æ");\n        System.out.println();\n    }\n}\n\n\nä¸å¡å±è½¬è°ç­ä¿¡å¤ççæå¡MessageService\n\nè¡¨ç°å±æå¡\n\n@RestController\n@RequestMapping("/orders")\npublic class OrderController {\n\n    @Autowired\n    private OrderService orderService;\n\n    @PostMapping("{id}")\n    public void order(@PathVariable String id){\n        orderService.order(id);\n    }\n}\n\n\nè¡¨ç°å±å¯¹å¤å¼åæ¥å£ï¼ä¼ å¥è®¢åidå³å¯ï¼æ¨¡æï¼\n\nç­ä¿¡å¤çä¸å¡\n\nä¸å¡å±æ¥å£\n\npublic interface MessageService {\n    void sendMessage(String id);\n    String doMessage();\n}\n\n\nç­ä¿¡å¤çä¸å¡å±æ¥å£æä¾ä¸¤ä¸ªæä½ï¼åéè¦å¤ççè®¢åidå°æ¶æ¯ä¸­é´ä»¶ï¼å¦ä¸ä¸ªæä½ç®åæä¸è®¾è®¡æå¤çæ¶æ¯ï¼å®éæ¶æ¯çå¤çè¿ç¨ä¸åºè¯¥æ¯æå¨æ§è¡ï¼åºè¯¥æ¯èªå¨æ§è¡ï¼å°å·ä½å®ç°æ¶åè¿è¡è®¾è®¡\n\nä¸å¡å±å®ç°\n\n@Service\npublic class MessageServiceImpl implements MessageService {\n    private ArrayList<String> msgList = new ArrayList<String>();\n\n    @Override\n    public void sendMessage(String id) {\n        System.out.println("å¾åéç­ä¿¡çè®¢åå·²çº³å¥å¤çéåï¼idï¼"+id);\n        msgList.add(id);\n    }\n\n    @Override\n    public String doMessage() {\n        String id = msgList.remove(0);\n        System.out.println("å·²å®æç­ä¿¡åéä¸å¡ï¼idï¼"+id);\n        return id;\n    }\n}\n\n\nç­ä¿¡å¤çä¸å¡å±å®ç°ä¸­ä½¿ç¨éååæ¨¡ææ¶æ¯éåï¼è§å¯ææ\n\nè¡¨ç°å±æå¡\n\n@RestController\n@RequestMapping("/msgs")\npublic class MessageController {\n\n    @Autowired\n    private MessageService messageService;\n\n    @GetMapping\n    public String doMessage(){\n        String id = messageService.doMessage();\n        return id;\n    }\n}\n\n\nç­ä¿¡å¤çè¡¨ç°å±æ¥å£æä¸å¼ååºä¸ä¸ªå¤çæ¶æ¯çå¥å£ï¼ä½æ¯æ­¤ä¸å¡æ¯å¯¹åºä¸å¡å±ä¸­è®¾è®¡çæ¨¡ææ¥å£ï¼å®éä¸å¡ä¸éè¦è®¾è®¡æ­¤æ¥å£ã\n\nä¸é¢å¼å¯springbootæ´ååç§åæ ·çæ¶æ¯ä¸­é´ä»¶ï¼ä»ä¸¥æ ¼æ»¡è¶³JMSè§èçActiveMQå¼å§\n\n# SpringBootæ´åActiveMQ\n\nActiveMQæ¯MQäº§åä¸­çåèçº§äº§åï¼æ©ææ åMQäº§åä¹ä¸ï¼å¨AMQPåè®®æ²¡æåºç°ä¹åï¼å æ®äºæ¶æ¯ä¸­é´ä»¶å¸åºçç»å¤§é¨åä»½é¢ï¼åæå ä¸ºAMQPç³»åäº§åçåºç°ï¼è¿éèµ°å¼±ï¼ç®åä»å¨ä¸äºçº¿ä¸è¿è¡çäº§åä¸­åºç°ï¼æ°äº§åå¼åè¾å°éç¨ã\n\n# å®è£\n\nwindowsçå®è£åä¸è½½å°åï¼https://activemq.apache.org/components/classic/download/\n\nä¸è½½çå®è£åæ¯è§£åç¼©å°±è½ä½¿ç¨çzipæä»¶ï¼è§£åç¼©å®æ¯åä¼å¾å°å¦ä¸æä»¶\n\n\n\nå¯å¨æå¡å¨\n\nactivemq.bat\n\n\nè¿è¡binç®å½ä¸çwin32æwin64ç®å½ä¸çactivemq.batå½ä»¤å³å¯ï¼æ ¹æ®èªå·±çæä½ç³»ç»éæ©å³å¯ï¼é»è®¤å¯¹å¤æå¡ç«¯å£61616ã\n\nè®¿é®webç®¡çæå¡\n\nActiveMQå¯å¨åä¼å¯å¨ä¸ä¸ªWebæ§å¶å°æå¡ï¼å¯ä»¥éè¿è¯¥æå¡ç®¡çActiveMQã\n\nhttp://127.0.0.1:8161/\n\n\nwebç®¡çæå¡é»è®¤ç«¯å£8161ï¼è®¿é®åå¯ä»¥æå¼ActiveMQçç®¡ççé¢ï¼å¦ä¸ï¼\n\né¦åè¾å¥è®¿é®ç¨æ·ååå¯ç ï¼åå§åç¨æ·ååå¯ç ç¸åï¼åä¸ºï¼adminï¼æåç»å½åè¿å¥ç®¡çåå°çé¢ï¼å¦ä¸ï¼\n\n\n\nçå°ä¸è¿°çé¢è§ä¸ºå¯å¨ActiveMQæå¡æåã\n\nå¯å¨å¤±è´¥\n\nå¨ActiveMQå¯å¨æ¶è¦å ç¨å¤ä¸ªç«¯å£ï¼ä»¥ä¸ä¸ºæ­£å¸¸å¯å¨ä¿¡æ¯ï¼\n\nwrapper  | --\x3e Wrapper Started as Console\nwrapper  | Launching a JVM...\njvm 1    | Wrapper (Version 3.2.3) http://wrapper.tanukisoftware.org\njvm 1    |   Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.\njvm 1    |\njvm 1    | Java Runtime: Oracle Corporation 1.8.0_172 D:\\soft\\jdk1.8.0_172\\jre\njvm 1    |   Heap sizes: current=249344k  free=235037k  max=932352k\njvm 1    |     JVM args: -Dactivemq.home=../.. -Dactivemq.base=../.. -Djavax.net.ssl.keyStorePassword=password -Djavax.net.ssl.trustStorePassword=password -Djavax.net.ssl.keyStore=../../conf/broker.ks -Djavax.net.ssl.trustStore=../../conf/broker.ts -Dcom.sun.management.jmxremote -Dorg.apache.activemq.UseDedicatedTaskRunner=true -Djava.util.logging.config.file=logging.properties -Dactivemq.conf=../../conf -Dactivemq.data=../../data -Djava.security.auth.login.config=../../conf/login.config -Xmx1024m -Djava.library.path=../../bin/win64 -Dwrapper.key=7ySrCD75XhLCpLjd -Dwrapper.port=32000 -Dwrapper.jvm.port.min=31000 -Dwrapper.jvm.port.max=31999 -Dwrapper.pid=9364 -Dwrapper.version=3.2.3 -Dwrapper.native_library=wrapper -Dwrapper.cpu.timeout=10 -Dwrapper.jvmid=1\njvm 1    | Extensions classpath:\njvm 1    |   [..\\..\\lib,..\\..\\lib\\camel,..\\..\\lib\\optional,..\\..\\lib\\web,..\\..\\lib\\extra]\njvm 1    | ACTIVEMQ_HOME: ..\\..\njvm 1    | ACTIVEMQ_BASE: ..\\..\njvm 1    | ACTIVEMQ_CONF: ..\\..\\conf\njvm 1    | ACTIVEMQ_DATA: ..\\..\\data\njvm 1    | Loading message broker from: xbean:activemq.xml\njvm 1    |  INFO | Refreshing org.apache.activemq.xbean.XBeanBrokerFactory$1@5f3ebfe0: startup date [Mon Feb 28 16:07:48 CST 2022]; root of context hierarchy\njvm 1    |  INFO | Using Persistence Adapter: KahaDBPersistenceAdapter[D:\\soft\\activemq\\bin\\win64\\..\\..\\data\\kahadb]\njvm 1    |  INFO | KahaDB is version 7\njvm 1    |  INFO | PListStore:[D:\\soft\\activemq\\bin\\win64\\..\\..\\data\\localhost\\tmp_storage] started\njvm 1    |  INFO | Apache ActiveMQ 5.16.3 (localhost, ID:CZBK-20210302VL-10434-1646035669595-0:1) is starting\njvm 1    |  INFO | Listening for connections at: tcp://CZBK-20210302VL:61616?maximumConnections=1000&wireFormat.maxFrameSize=104857600\njvm 1    |  INFO | Connector openwire started\njvm 1    |  INFO | Listening for connections at: amqp://CZBK-20210302VL:5672?maximumConnections=1000&wireFormat.maxFrameSize=104857600\njvm 1    |  INFO | Connector amqp started\njvm 1    |  INFO | Listening for connections at: stomp://CZBK-20210302VL:61613?maximumConnections=1000&wireFormat.maxFrameSize=104857600\njvm 1    |  INFO | Connector stomp started\njvm 1    |  INFO | Listening for connections at: mqtt://CZBK-20210302VL:1883?maximumConnections=1000&wireFormat.maxFrameSize=104857600\njvm 1    |  INFO | Connector mqtt started\njvm 1    |  INFO | Starting Jetty server\njvm 1    |  INFO | Creating Jetty connector\njvm 1    |  WARN | ServletContext@o.e.j.s.ServletContextHandler@7350746f{/,null,STARTING} has uncovered http methods for path: /\njvm 1    |  INFO | Listening for connections at ws://CZBK-20210302VL:61614?maximumConnections=1000&wireFormat.maxFrameSize=104857600\njvm 1    |  INFO | Connector ws started\njvm 1    |  INFO | Apache ActiveMQ 5.16.3 (localhost, ID:CZBK-20210302VL-10434-1646035669595-0:1) started\njvm 1    |  INFO | For help or more information please see: http://activemq.apache.org\njvm 1    |  WARN | Store limit is 102400 mb (current store usage is 0 mb). The data directory: D:\\soft\\activemq\\bin\\win64\\..\\..\\data\\kahadb only has 68936 mb of usable space. - resetting to maximum available disk space: 68936 mb\njvm 1    |  INFO | ActiveMQ WebConsole available at http://127.0.0.1:8161/\njvm 1    |  INFO | ActiveMQ Jolokia REST API available at http://127.0.0.1:8161/api/jolokia/\n\n\nå¶ä¸­å ç¨çç«¯å£æï¼61616ã5672ã61613ã1883ã61614ï¼å¦æå¯å¨å¤±è´¥ï¼è¯·åç®¡çå¯¹åºç«¯å£å³å¯ãä»¥ä¸å°±æ¯æä¸ªç«¯å£å ç¨çæ¥éä¿¡æ¯ï¼å¯ä»¥ä»æåºå¼å¸¸çä½ç½®çåºï¼å¯å¨5672ç«¯å£æ¶ç«¯å£è¢«å ç¨ï¼æ¾ç¤ºjava.net.BindException: Address already in use: JVM_BindãWindowsç³»ç»ä¸­ç»æ­¢ç«¯å£è¿è¡çæä½åçãå½ä»¤è¡å¯å¨å¸¸è§é®é¢åè§£å³æ¹æ¡ã\n\nwrapper  | --\x3e Wrapper Started as Console\nwrapper  | Launching a JVM...\njvm 1    | Wrapper (Version 3.2.3) http://wrapper.tanukisoftware.org\njvm 1    |   Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.\njvm 1    |\njvm 1    | Java Runtime: Oracle Corporation 1.8.0_172 D:\\soft\\jdk1.8.0_172\\jre\njvm 1    |   Heap sizes: current=249344k  free=235038k  max=932352k\njvm 1    |     JVM args: -Dactivemq.home=../.. -Dactivemq.base=../.. -Djavax.net.ssl.keyStorePassword=password -Djavax.net.ssl.trustStorePassword=password -Djavax.net.ssl.keyStore=../../conf/broker.ks -Djavax.net.ssl.trustStore=../../conf/broker.ts -Dcom.sun.management.jmxremote -Dorg.apache.activemq.UseDedicatedTaskRunner=true -Djava.util.logging.config.file=logging.properties -Dactivemq.conf=../../conf -Dactivemq.data=../../data -Djava.security.auth.login.config=../../conf/login.config -Xmx1024m -Djava.library.path=../../bin/win64 -Dwrapper.key=QPJoy9ZoXeWmmwTS -Dwrapper.port=32000 -Dwrapper.jvm.port.min=31000 -Dwrapper.jvm.port.max=31999 -Dwrapper.pid=14836 -Dwrapper.version=3.2.3 -Dwrapper.native_library=wrapper -Dwrapper.cpu.timeout=10 -Dwrapper.jvmid=1\njvm 1    | Extensions classpath:\njvm 1    |   [..\\..\\lib,..\\..\\lib\\camel,..\\..\\lib\\optional,..\\..\\lib\\web,..\\..\\lib\\extra]\njvm 1    | ACTIVEMQ_HOME: ..\\..\njvm 1    | ACTIVEMQ_BASE: ..\\..\njvm 1    | ACTIVEMQ_CONF: ..\\..\\conf\njvm 1    | ACTIVEMQ_DATA: ..\\..\\data\njvm 1    | Loading message broker from: xbean:activemq.xml\njvm 1    |  INFO | Refreshing org.apache.activemq.xbean.XBeanBrokerFactory$1@2c9392f5: startup date [Mon Feb 28 16:06:16 CST 2022]; root of context hierarchy\njvm 1    |  INFO | Using Persistence Adapter: KahaDBPersistenceAdapter[D:\\soft\\activemq\\bin\\win64\\..\\..\\data\\kahadb]\njvm 1    |  INFO | KahaDB is version 7\njvm 1    |  INFO | PListStore:[D:\\soft\\activemq\\bin\\win64\\..\\..\\data\\localhost\\tmp_storage] started\njvm 1    |  INFO | Apache ActiveMQ 5.16.3 (localhost, ID:CZBK-20210302VL-10257-1646035577620-0:1) is starting\njvm 1    |  INFO | Listening for connections at: tcp://CZBK-20210302VL:61616?maximumConnections=1000&wireFormat.maxFrameSize=104857600\njvm 1    |  INFO | Connector openwire started\njvm 1    | ERROR | Failed to start Apache ActiveMQ (localhost, ID:CZBK-20210302VL-10257-1646035577620-0:1)\njvm 1    | java.io.IOException: Transport Connector could not be registered in JMX: java.io.IOException: Failed to bind to server socket: amqp://0.0.0.0:5672?maximumConnections=1000&wireFormat.maxFrameSize=104857600 due to: java.net.BindException: Address already in use: JVM_Bind\njvm 1    |      at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:28)\njvm 1    |      at org.apache.activemq.broker.BrokerService.registerConnectorMBean(BrokerService.java:2288)\njvm 1    |      at org.apache.activemq.broker.BrokerService.startTransportConnector(BrokerService.java:2769)\njvm 1    |      at org.apache.activemq.broker.BrokerService.startAllConnectors(BrokerService.java:2665)\njvm 1    |      at org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:780)\njvm 1    |      at org.apache.activemq.broker.BrokerService.startBroker(BrokerService.java:742)\njvm 1    |      at org.apache.activemq.broker.BrokerService.start(BrokerService.java:645)\njvm 1    |      at org.apache.activemq.xbean.XBeanBrokerService.afterPropertiesSet(XBeanBrokerService.java:73)\njvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njvm 1    |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njvm 1    |      at java.lang.reflect.Method.invoke(Method.java:498)\njvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1748)\njvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1685)\njvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1615)\njvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\njvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\njvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\njvm 1    |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\njvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\njvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\njvm 1    |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:756)\njvm 1    |      at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\njvm 1    |      at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\njvm 1    |      at org.apache.xbean.spring.context.ResourceXmlApplicationContext.<init>(ResourceXmlApplicationContext.java:64)\njvm 1    |      at org.apache.xbean.spring.context.ResourceXmlApplicationContext.<init>(ResourceXmlApplicationContext.java:52)\njvm 1    |      at org.apache.activemq.xbean.XBeanBrokerFactory$1.<init>(XBeanBrokerFactory.java:104)\njvm 1    |      at org.apache.activemq.xbean.XBeanBrokerFactory.createApplicationContext(XBeanBrokerFactory.java:104)\njvm 1    |      at org.apache.activemq.xbean.XBeanBrokerFactory.createBroker(XBeanBrokerFactory.java:67)\njvm 1    |      at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:71)\njvm 1    |      at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)\njvm 1    |      at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:87)\njvm 1    |      at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:63)\njvm 1    |      at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:154)\njvm 1    |      at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:63)\njvm 1    |      at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:104)\njvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njvm 1    |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njvm 1    |      at java.lang.reflect.Method.invoke(Method.java:498)\njvm 1    |      at org.apache.activemq.console.Main.runTaskClass(Main.java:262)\njvm 1    |      at org.apache.activemq.console.Main.main(Main.java:115)\njvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njvm 1    |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njvm 1    |      at java.lang.reflect.Method.invoke(Method.java:498)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240)\njvm 1    |      at java.lang.Thread.run(Thread.java:748)\njvm 1    | Caused by: java.io.IOException: Failed to bind to server socket: amqp://0.0.0.0:5672?maximumConnections=1000&wireFormat.maxFrameSize=104857600 due to: java.net.BindException: Address already in use: JVM_Bind\njvm 1    |      at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:34)\njvm 1    |      at org.apache.activemq.transport.tcp.TcpTransportServer.bind(TcpTransportServer.java:146)\njvm 1    |      at org.apache.activemq.transport.tcp.TcpTransportFactory.doBind(TcpTransportFactory.java:62)\njvm 1    |      at org.apache.activemq.transport.TransportFactorySupport.bind(TransportFactorySupport.java:40)\njvm 1    |      at org.apache.activemq.broker.TransportConnector.createTransportServer(TransportConnector.java:335)\njvm 1    |      at org.apache.activemq.broker.TransportConnector.getServer(TransportConnector.java:145)\njvm 1    |      at org.apache.activemq.broker.TransportConnector.asManagedConnector(TransportConnector.java:110)\njvm 1    |      at org.apache.activemq.broker.BrokerService.registerConnectorMBean(BrokerService.java:2283)\njvm 1    |      ... 46 more\njvm 1    | Caused by: java.net.BindException: Address already in use: JVM_Bind\njvm 1    |      at java.net.DualStackPlainSocketImpl.bind0(Native Method)\njvm 1    |      at java.net.DualStackPlainSocketImpl.socketBind(DualStackPlainSocketImpl.java:106)\njvm 1    |      at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:387)\njvm 1    |      at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:190)\njvm 1    |      at java.net.ServerSocket.bind(ServerSocket.java:375)\njvm 1    |      at java.net.ServerSocket.<init>(ServerSocket.java:237)\njvm 1    |      at javax.net.DefaultServerSocketFactory.createServerSocket(ServerSocketFactory.java:231)\njvm 1    |      at org.apache.activemq.transport.tcp.TcpTransportServer.bind(TcpTransportServer.java:143)\njvm 1    |      ... 52 more\njvm 1    |  INFO | Apache ActiveMQ 5.16.3 (localhost, ID:CZBK-20210302VL-10257-1646035577620-0:1) is shutting down\njvm 1    |  INFO | socketQueue interrupted - stopping\njvm 1    |  INFO | Connector openwire stopped\njvm 1    |  INFO | Could not accept connection during shutdown  : null (null)\njvm 1    |  INFO | Connector amqp stopped\njvm 1    |  INFO | Connector stomp stopped\njvm 1    |  INFO | Connector mqtt stopped\njvm 1    |  INFO | Connector ws stopped\njvm 1    |  INFO | PListStore:[D:\\soft\\activemq\\bin\\win64\\..\\..\\data\\localhost\\tmp_storage] stopped\njvm 1    |  INFO | Stopping async queue tasks\njvm 1    |  INFO | Stopping async topic tasks\njvm 1    |  INFO | Stopped KahaDB\njvm 1    |  INFO | Apache ActiveMQ 5.16.3 (localhost, ID:CZBK-20210302VL-10257-1646035577620-0:1) uptime 0.426 seconds\njvm 1    |  INFO | Apache ActiveMQ 5.16.3 (localhost, ID:CZBK-20210302VL-10257-1646035577620-0:1) is shutdown\njvm 1    |  INFO | Closing org.apache.activemq.xbean.XBeanBrokerFactory$1@2c9392f5: startup date [Mon Feb 28 16:06:16 CST 2022]; root of context hierarchy\njvm 1    |  WARN | Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name \'org.apache.activemq.xbean.XBeanBrokerService#0\' defined in class path resource [activemq.xml]: Invocation of init method failed; nested exception is java.io.IOException: Transport Connector could not be registered in JMX: java.io.IOException: Failed to bind to server socket: amqp://0.0.0.0:5672?maximumConnections=1000&wireFormat.maxFrameSize=104857600 due to: java.net.BindException: Address already in use: JVM_Bind\njvm 1    | ERROR: java.lang.RuntimeException: Failed to execute start task. Reason: java.lang.IllegalStateException: BeanFactory not initialized or already closed - call \'refresh\' before accessing beans via the ApplicationContext\njvm 1    | java.lang.RuntimeException: Failed to execute start task. Reason: java.lang.IllegalStateException: BeanFactory not initialized or already closed - call \'refresh\' before accessing beans via the ApplicationContext\njvm 1    |      at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:91)\njvm 1    |      at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:63)\njvm 1    |      at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:154)\njvm 1    |      at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:63)\njvm 1    |      at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:104)\njvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njvm 1    |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njvm 1    |      at java.lang.reflect.Method.invoke(Method.java:498)\njvm 1    |      at org.apache.activemq.console.Main.runTaskClass(Main.java:262)\njvm 1    |      at org.apache.activemq.console.Main.main(Main.java:115)\njvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njvm 1    |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njvm 1    |      at java.lang.reflect.Method.invoke(Method.java:498)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240)\njvm 1    |      at java.lang.Thread.run(Thread.java:748)\njvm 1    | Caused by: java.lang.IllegalStateException: BeanFactory not initialized or already closed - call \'refresh\' before accessing beans via the ApplicationContext\njvm 1    |      at org.springframework.context.support.AbstractRefreshableApplicationContext.getBeanFactory(AbstractRefreshableApplicationContext.java:164)\njvm 1    |      at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1034)\njvm 1    |      at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:555)\njvm 1    |      at org.apache.xbean.spring.context.ResourceXmlApplicationContext.<init>(ResourceXmlApplicationContext.java:64)\njvm 1    |      at org.apache.xbean.spring.context.ResourceXmlApplicationContext.<init>(ResourceXmlApplicationContext.java:52)\njvm 1    |      at org.apache.activemq.xbean.XBeanBrokerFactory$1.<init>(XBeanBrokerFactory.java:104)\njvm 1    |      at org.apache.activemq.xbean.XBeanBrokerFactory.createApplicationContext(XBeanBrokerFactory.java:104)\njvm 1    |      at org.apache.activemq.xbean.XBeanBrokerFactory.createBroker(XBeanBrokerFactory.java:67)\njvm 1    |      at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:71)\njvm 1    |      at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)\njvm 1    |      at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:87)\njvm 1    |      ... 16 more\njvm 1    | ERROR: java.lang.IllegalStateException: BeanFactory not initialized or already closed - call \'refresh\' before accessing beans via the ApplicationContext\njvm 1    | java.lang.IllegalStateException: BeanFactory not initialized or already closed - call \'refresh\' before accessing beans via the ApplicationContext\njvm 1    |      at org.springframework.context.support.AbstractRefreshableApplicationContext.getBeanFactory(AbstractRefreshableApplicationContext.java:164)\njvm 1    |      at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1034)\njvm 1    |      at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:555)\njvm 1    |      at org.apache.xbean.spring.context.ResourceXmlApplicationContext.<init>(ResourceXmlApplicationContext.java:64)\njvm 1    |      at org.apache.xbean.spring.context.ResourceXmlApplicationContext.<init>(ResourceXmlApplicationContext.java:52)\njvm 1    |      at org.apache.activemq.xbean.XBeanBrokerFactory$1.<init>(XBeanBrokerFactory.java:104)\njvm 1    |      at org.apache.activemq.xbean.XBeanBrokerFactory.createApplicationContext(XBeanBrokerFactory.java:104)\njvm 1    |      at org.apache.activemq.xbean.XBeanBrokerFactory.createBroker(XBeanBrokerFactory.java:67)\njvm 1    |      at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:71)\njvm 1    |      at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)\njvm 1    |      at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:87)\njvm 1    |      at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:63)\njvm 1    |      at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:154)\njvm 1    |      at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:63)\njvm 1    |      at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:104)\njvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njvm 1    |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njvm 1    |      at java.lang.reflect.Method.invoke(Method.java:498)\njvm 1    |      at org.apache.activemq.console.Main.runTaskClass(Main.java:262)\njvm 1    |      at org.apache.activemq.console.Main.main(Main.java:115)\njvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njvm 1    |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njvm 1    |      at java.lang.reflect.Method.invoke(Method.java:498)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240)\njvm 1    |      at java.lang.Thread.run(Thread.java:748)\nwrapper  | <-- Wrapper Stopped\nè¯·æä»»æé®ç»§ç»­. . .\n\n\n# æ´å\n\nåäºè¿ä¹å¤springbootæ´åç¬¬ä¸æ¹ææ¯ï¼å·²ç»æ¸å°é¨è·¯äºï¼å åæ ï¼åéç½®ï¼è°æ¥å£ï¼ç´æ¥å¼å·¥\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åActiveMQçstarter\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-activemq</artifactId>\n</dependency>\n\n\næ­¥éª¤â¡ï¼éç½®ActiveMQçæå¡å¨å°åï¼å¸¦poolçéé¡¹ç¨æ¥éç½®è¿æ¥æ± çç¸å³è®¾ç½®ï¼\n\nspring:\n  activemq:\n    broker-url: tcp://localhost:61616\n  jms:\n  \ttemplate:\n  \t\tdefault-destination: itheima  # è¿ä¸ªéé¡¹éç½®æ¶æ¯çä¿å­ä½ç½®ï¼converAndSendä¸­çåæ°ä¹å¯ä»¥æå®æ¶æ¯å¯¹åºçä¿å­ä½ç½®\n\n\næ­¥éª¤â¢ï¼ä½¿ç¨JmsMessagingTemplateæä½ActiveMQ\n\n@Service\npublic class MessageServiceActivemqImpl implements MessageService {\n    @Autowired\n    private JmsMessagingTemplate messagingTemplate;\n\n    @Override\n    public void sendMessage(String id) {\n        System.out.println("å¾åéç­ä¿¡çè®¢åå·²çº³å¥å¤çéåï¼idï¼"+id);\n        messagingTemplate.convertAndSend("order.queue.id",id);\n    }\n\n    @Override\n    public String doMessage() {\n        String id = messagingTemplate.receiveAndConvert("order.queue.id",String.class);\n        System.out.println("å·²å®æç­ä¿¡åéä¸å¡ï¼idï¼"+id);\n        return id;\n    }\n}\n\n\nåéæ¶æ¯éè¦åå°æ¶æ¯çç±»åè½¬æ¢æå­ç¬¦ä¸²ï¼ç¶åååéï¼æä»¥æ¯convertAndSendï¼å®ä¹æ¶æ¯åéçä½ç½®ï¼åå·ä½çæ¶æ¯åå®¹ï¼æ­¤å¤ä½¿ç¨idä½ä¸ºæ¶æ¯åå®¹ã\n\næ¥æ¶æ¶æ¯éè¦åå°æ¶æ¯æ¥æ¶å°ï¼ç¶ååè½¬æ¢ææå®çæ°æ®ç±»åï¼æä»¥æ¯receiveAndConvertï¼æ¥æ¶æ¶æ¯é¤äºæä¾è¯»åçä½ç½®ï¼è¿è¦ç»åºè½¬æ¢åçæ°æ®çå·ä½ç±»åã\n\næ­¥éª¤â£ï¼ä½¿ç¨æ¶æ¯çå¬å¨å¨æå¡å¨å¯å¨åï¼çå¬æå®ä½ç½®ï¼å½æ¶æ¯åºç°åï¼ç«å³æ¶è´¹æ¶æ¯\n\n@Component\npublic class MessageListener {\n    @JmsListener(destination = "order.queue.id")\n    @SendTo("order.other.queue.id")  // å°è¿åå¼ä¼ å°order.other.queue.idéåä¸­\n    public String receive(String id){\n        System.out.println("å·²å®æç­ä¿¡åéä¸å¡ï¼idï¼"+id);\n        return "new:"+id;\n    }\n}\n\n\nä½¿ç¨æ³¨è§£@JmsListenerå®ä¹å½åæ¹æ³çå¬ActiveMQä¸­æå®åç§°çæ¶æ¯éåã\n\nå¦æå½åæ¶æ¯éåå¤çå®çç»æè¿éè¦ç»§ç»­åä¸ä¼ éå½åæ¶æ¯å°å¦ä¸ä¸ªéåä¸­ä½¿ç¨æ³¨è§£@SendToå³å¯ï¼è¿æ ·å³å¯æé è¿ç»­æ§è¡çé¡ºåºæ¶æ¯éåã\n\næ­¥éª¤â¤ï¼åæ¢æ¶æ¯æ¨¡åç±ç¹å¯¹ç¹æ¨¡åå°åå¸è®¢éæ¨¡åï¼ä¿®æ¹jmséç½®å³å¯\n\nspring:\n  activemq:\n    broker-url: tcp://localhost:61616\n  jms:\n    pub-sub-domain: true\n\n\npub-sub-domainé»è®¤å¼ä¸ºfalseï¼å³ç¹å¯¹ç¹æ¨¡åï¼ä¿®æ¹ä¸ºtrueåå°±æ¯åå¸è®¢éæ¨¡åã\n\næ»ç»\n\n 1. springbootæ´åActiveMQæä¾äºJmsMessagingTemplateå¯¹è±¡ä½ä¸ºå®¢æ·ç«¯æä½æ¶æ¯éå\n 2. æä½ActiveMQéè¦éç½®ActiveMQæå¡å¨å°åï¼é»è®¤ç«¯å£61616\n 3. ä¼ä¸å¼åæ¶éå¸¸ä½¿ç¨çå¬å¨æ¥å¤çæ¶æ¯éåä¸­çæ¶æ¯ï¼è®¾ç½®çå¬å¨ä½¿ç¨æ³¨è§£@JmsListener\n 4. éç½®jmsçpub-sub-domainå±æ§å¯ä»¥å¨ç¹å¯¹ç¹æ¨¡åååå¸è®¢éæ¨¡åé´åæ¢æ¶æ¯æ¨¡å\n\n# SpringBootæ´åRabbitMQ\n\nRabbitMQæ¯MQäº§åä¸­çç®åè¾ä¸ºæµè¡çäº§åä¹ä¸ï¼å®éµä»AMQPåè®®ãRabbitMQçåºå±å®ç°è¯­è¨ä½¿ç¨çæ¯Erlangï¼æä»¥å®è£RabbitMQéè¦åå®è£Erlangã\n\nErlangå®è£\n\nwindowsçå®è£åä¸è½½å°åï¼httpsð/www.erlang.org/downloads\n\nä¸è½½å®æ¯åå¾å°exeå®è£æä»¶ï¼ä¸é®å»çå¼å®è£ï¼å®è£å®æ¯éè¦éå¯ï¼éè¦éå¯ï¼éè¦éå¯ã\n\nå®è£çè¿ç¨ä¸­å¯è½ä¼åºç°ä¾èµWindowsç»ä»¶çæç¤ºï¼æ ¹æ®æç¤ºä¸è½½å®è£å³å¯ï¼é½æ¯èªå¨æ§è¡çï¼å¦ä¸ï¼\n\n\n\nErlangå®è£åéè¦éç½®ç¯å¢åéï¼å¦åRabbitMQå°æ æ³æ¾å°å®è£çErlangãéè¦éç½®é¡¹å¦ä¸ï¼ä½ç¨ç­åJDKéç½®ç¯å¢åéçä½ç¨ã\n\n * ERLANG_HOME\n * PATH\n\n# å®è£\n\nwindowsçå®è£åä¸è½½å°åï¼https://rabbitmq.com/install-windows.html\n\nä¸è½½å®æ¯åå¾å°exeå®è£æä»¶ï¼ä¸é®å»çå¼å®è£ï¼å®è£å®æ¯åä¼å¾å°å¦ä¸æä»¶\n\nå¯å¨æå¡å¨\n\nrabbitmq-service.bat start\t\t# å¯å¨æå¡\nrabbitmq-service.bat stop\t\t# åæ­¢æå¡\nrabbitmqctl status\t\t\t\t# æ¥çæå¡ç¶æ\n\n\nè¿è¡sbinç®å½ä¸çrabbitmq-service.batå½ä»¤å³å¯ï¼startåæ°è¡¨ç¤ºå¯å¨ï¼stopåæ°è¡¨ç¤ºéåºï¼é»è®¤å¯¹å¤æå¡ç«¯å£5672ã\n\næ³¨æï¼å¯å¨rabbitmqçè¿ç¨å®éä¸æ¯å¼å¯rabbitmqå¯¹åºçç³»ç»æå¡ï¼éè¦ç®¡çåæéæ¹å¯æ§è¡ã\n\nè¯´æï¼ææ²¡ææè§5672çæå¡ç«¯å£å¾çæï¼activemqä¸rabbitmqæä¸ä¸ªç«¯å£å²çªé®é¢ï¼å­¦ä¹ é¶æ®µæ è®ºæä½åªä¸ä¸ªï¼è¯·ç¡®ä¿å¦ä¸ä¸ªå¤äºå³é­ç¶æã\n\nè¯´æï¼ä¸åæ¬¢å½ä»¤è¡çå°ä¼ä¼´å¯ä»¥ä½¿ç¨ä»»å¡ç®¡çå¨ä¸­çæå¡é¡µï¼æ¾å°RabbitMQæå¡ï¼ä½¿ç¨é¼ æ å³é®èåæ§å¶æå¡çå¯åã\n\nè®¿é®webç®¡çæå¡\n\nRabbitMQä¹æä¾æwebæ§å¶å°æå¡ï¼ä½æ¯æ­¤åè½æ¯ä¸ä¸ªæä»¶ï¼éè¦åå¯ç¨æå¯ä»¥ä½¿ç¨ã\n\nrabbitmq-plugins.bat list\t\t\t\t\t\t\t# æ¥çå½åæææä»¶çè¿è¡ç¶æ\nrabbitmq-plugins.bat enable rabbitmq_management\t\t# å¯å¨rabbitmq_managementæä»¶\n\n\nå¯å¨æä»¶åå¯ä»¥å¨æä»¶è¿è¡ç¶æä¸­æ¥çæ¯å¦è¿è¡ï¼è¿è¡åéè¿æµè§å¨å³å¯æå¼æå¡åå°ç®¡ççé¢\n\nhttp://localhost:15672\n\n\nwebç®¡çæå¡é»è®¤ç«¯å£15672ï¼è®¿é®åå¯ä»¥æå¼RabbitMQçç®¡ççé¢ï¼å¦ä¸ï¼\n\n\n\né¦åè¾å¥è®¿é®ç¨æ·ååå¯ç ï¼åå§åç¨æ·ååå¯ç ç¸åï¼åä¸ºï¼guestï¼æåç»å½åè¿å¥ç®¡çåå°çé¢ï¼å¦ä¸ï¼\n\n\n\n# æ´å(directæ¨¡å)\n\nRabbitMQæ»¡è¶³AMQPåè®®ï¼å æ­¤ä¸åçæ¶æ¯æ¨¡åå¯¹åºçå¶ä½ä¸åï¼åä½¿ç¨æç®åçdirectæ¨¡åå¼åã\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åamqpçstarterï¼amqpåè®®é»è®¤å®ç°ä¸ºrabbitmqæ¹æ¡\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-amqp</artifactId>\n</dependency>\n\n\næ­¥éª¤â¡ï¼éç½®RabbitMQçæå¡å¨å°å\n\nspring:\n  rabbitmq:\n    host: localhost\n    port: 5672\n\n\næ­¥éª¤â¢ï¼åå§åç´è¿æ¨¡å¼ç³»ç»è®¾ç½®\n\nç±äºRabbitMQä¸åæ¨¡åè¦ä½¿ç¨ä¸åçäº¤æ¢æºï¼å æ­¤éè¦ååå§åRabbitMQç¸å³çå¯¹è±¡ï¼ä¾å¦éåï¼äº¤æ¢æºç­\n\n@Configuration\npublic class RabbitConfigDirect {\n    \n    // æ¶æ¯éå1\n    @Bean\n    public Queue directQueue(){\n        return new Queue("direct_queue");\n    }\n    // æ¶æ¯éå2\n    @Bean\n    public Queue directQueue2(){\n        return new Queue("direct_queue2");\n    }\n    \n    // äº¤æ¢æº\n    @Bean\n    public DirectExchange directExchange(){\n        return new DirectExchange("directExchange");\n    }\n    \n    // ç»å®äº¤æ¢æºåæ¶æ¯éå1\n    @Bean\n    public Binding bindingDirect(){\n        return BindingBuilder.bind(directQueue()).to(directExchange()).with("direct");\n    }\n    // ç»å®äº¤æ¢æºåæ¶æ¯éå2\n    @Bean\n    public Binding bindingDirect2(){\n        return BindingBuilder.bind(directQueue2()).to(directExchange()).with("direct2");\n    }\n}\n\n\néåQueueä¸ç´è¿äº¤æ¢æºDirectExchangeåå»ºåï¼è¿éè¦ç»å®ä»ä»¬ä¹é´çå³ç³»Bindingï¼è¿æ ·å°±å¯ä»¥éè¿äº¤æ¢æºæä½å¯¹åºéåã\n\næ­¥éª¤â£ï¼ä½¿ç¨AmqpTemplateæä½RabbitMQ\n\n@Service\npublic class MessageServiceRabbitmqDirectImpl implements MessageService {\n    @Autowired\n    private AmqpTemplate amqpTemplate;\n\n    @Override\n    public void sendMessage(String id) {\n        System.out.println("å¾åéç­ä¿¡çè®¢åå·²çº³å¥å¤çéåï¼rabbitmq directï¼ï¼idï¼"+id);\n        amqpTemplate.convertAndSend("directExchange","direct",id);  // ç¬¬ä¸ä¸ªåæ°ä¸ºäº¤æ¢æºåç§°ï¼ç¬¬äºä¸ªåæ°ä¸ºäº¤æ¢æºåæ¶æ¯éåç»å®çåç§°ï¼ ç¬¬ä¸ä¸ªåæ°ä¸ºå·ä½çæ¶æ¯\n    }\n}\n\n\namqpåè®®ä¸­çæä½APIæ¥å£åç§°çä¸å»åjmsè§èçæä½APIæ¥å£å¾ç¸ä¼¼ï¼ä½æ¯ä¼ éåæ°å·®å¼å¾å¤§ã\n\næ­¥éª¤â¤ï¼ä½¿ç¨æ¶æ¯çå¬å¨å¨æå¡å¨å¯å¨åï¼çå¬æå®ä½ç½®ï¼å½æ¶æ¯åºç°åï¼ç«å³æ¶è´¹æ¶æ¯\n\n@Component\npublic class MessageListener {\n    @RabbitListener(queues = "direct_queue")\n    public void receive(String id){\n        System.out.println("å·²å®æç­ä¿¡åéä¸å¡(rabbitmq direct)ï¼idï¼"+id);\n    }\n}\n\n\nä½¿ç¨æ³¨è§£@RabbitListenerå®ä¹å½åæ¹æ³çå¬RabbitMQä¸­æå®åç§°çæ¶æ¯éåã\n\n# æ´å(topicæ¨¡å)\n\næ­¥éª¤â ï¼åä¸\n\næ­¥éª¤â¡ï¼åä¸\n\næ­¥éª¤â¢ï¼åå§åä¸»é¢æ¨¡å¼ç³»ç»è®¾ç½®\n\n@Configuration\npublic class RabbitConfigTopic {\n    @Bean\n    public Queue topicQueue(){\n        return new Queue("topic_queue");\n    }\n    @Bean\n    public Queue topicQueue2(){\n        return new Queue("topic_queue2");\n    }\n    @Bean\n    public TopicExchange topicExchange(){\n        return new TopicExchange("topicExchange");\n    }\n    @Bean\n    public Binding bindingTopic(){\n        return BindingBuilder.bind(topicQueue()).to(topicExchange()).with("topic.*.id");\n    }\n    @Bean\n    public Binding bindingTopic2(){\n        return BindingBuilder.bind(topicQueue2()).to(topicExchange()).with("topic.orders.*");\n    }\n}\n\n\n*ä¸»é¢æ¨¡å¼æ¯æroutingKeyå¹éæ¨¡å¼ï¼è¡¨ç¤ºå¹éä¸ä¸ªåè¯ï¼#è¡¨ç¤ºå¹éä»»æåå®¹ï¼è¿æ ·å°±å¯ä»¥éè¿ä¸»é¢äº¤æ¢æºå°æ¶æ¯ååå°ä¸åçéåä¸­ï¼è¯¦ç»åå®¹è¯·åçRabbitMQç³»åè¯¾ç¨ã\n\nå¹éé®                 TOPIC.*.*   TOPIC.#\ntopic.order.id      true        true\norder.topic.id      false       false\ntopic.sm.order.id   false       true\ntopic.sm.id         false       true\ntopic.id.order      true        true\ntopic.id            false       true\ntopic.order         false       true\n\ntopic.sm.idåtopic.id.orderä¸­å¨topic.*.*çå¹éä¸­æ¯æåºå«çåï¼è®°å¾çä¸ä¸å¯¹åºçå¹éè§å\n\næ­¥éª¤â£ï¼ä½¿ç¨AmqpTemplateæä½RabbitMQ\n\n@Service\npublic class MessageServiceRabbitmqTopicImpl implements MessageService {\n    @Autowired\n    private AmqpTemplate amqpTemplate;\n\n    @Override\n    public void sendMessage(String id) {\n        System.out.println("å¾åéç­ä¿¡çè®¢åå·²çº³å¥å¤çéåï¼rabbitmq topicï¼ï¼idï¼"+id);\n        amqpTemplate.convertAndSend("topicExchange","topic.orders.id",id);\n    }\n}\n\n\nåéæ¶æ¯åï¼æ ¹æ®å½åæä¾çroutingKeyä¸ç»å®äº¤æ¢æºæ¶è®¾å®çroutingKeyè¿è¡å¹éï¼è§åå¹éæåæ¶æ¯æä¼è¿å¥å°å¯¹åºçéåä¸­ãå¦ææ¶æ¯å¹éå°å¤ä¸ªéåï¼ä»ä¼åæ¶è¿å¥å¤ä¸ªéå\n\næ­¥éª¤â¤ï¼ä½¿ç¨æ¶æ¯çå¬å¨å¨æå¡å¨å¯å¨åï¼çå¬æå®éå\n\n@Component\npublic class MessageListener {\n    @RabbitListener(queues = "topic_queue")\n    public void receive(String id){\n        System.out.println("å·²å®æç­ä¿¡åéä¸å¡(rabbitmq topic 1)ï¼idï¼"+id);\n    }\n    @RabbitListener(queues = "topic_queue2")\n    public void receive2(String id){\n        System.out.println("å·²å®æç­ä¿¡åéä¸å¡(rabbitmq topic 22222222)ï¼idï¼"+id);\n     \n}\n\n\nä½¿ç¨æ³¨è§£@RabbitListenerå®ä¹å½åæ¹æ³çå¬RabbitMQä¸­æå®åç§°çæ¶æ¯éåã\n\næ»ç»\n\n 1. springbootæ´åRabbitMQæä¾äºAmqpTemplateå¯¹è±¡ä½ä¸ºå®¢æ·ç«¯æä½æ¶æ¯éå\n 2. æä½ActiveMQéè¦éç½®ActiveMQæå¡å¨å°åï¼é»è®¤ç«¯å£5672\n 3. ä¼ä¸å¼åæ¶éå¸¸ä½¿ç¨çå¬å¨æ¥å¤çæ¶æ¯éåä¸­çæ¶æ¯ï¼è®¾ç½®çå¬å¨ä½¿ç¨æ³¨è§£@RabbitListener\n 4. RabbitMQæ5ç§æ¶æ¯æ¨¡åï¼ä½¿ç¨çéåç¸åï¼ä½æ¯äº¤æ¢æºä¸åãäº¤æ¢æºä¸åï¼å¯¹åºçæ¶æ¯è¿å¥çç­ç¥ä¹ä¸å\n\n# SpringBootæ´åRocketMQ\n\nRocketMQç±é¿éç åï¼åæèµ ç»apacheåºéä¼ï¼ç®åæ¯apacheåºéä¼é¡¶çº§é¡¹ç®ä¹ä¸ï¼ä¹æ¯ç®åå¸é¢ä¸çMQäº§åä¸­è¾ä¸ºæµè¡çäº§åä¹ä¸ï¼å®éµä»AMQPåè®®ã\n\n# å®è£\n\nwindowsçå®è£åä¸è½½å°åï¼https://rocketmq.apache.org/\n\nä¸è½½å®æ¯åå¾å°zipåç¼©æä»¶ï¼è§£åç¼©å³å¯ä½¿ç¨ï¼è§£ååå¾å°å¦ä¸æä»¶\n\n\n\nRocketMQå®è£åéè¦éç½®ç¯å¢åéï¼å·ä½å¦ä¸ï¼\n\n * ROCKETMQ_HOME\n * PATH\n * NAMESRV_ADDR ï¼å»ºè®®ï¼ï¼ 127.0.0.1:9876\n\nå³äºNAMESRV_ADDRå¯¹äºåå­¦èæ¥è¯´å»ºè®®éç½®æ­¤é¡¹ï¼ä¹å¯ä»¥éè¿å½ä»¤è®¾ç½®å¯¹åºå¼ï¼æä½ç¥æ¾ç¹çï¼å»ºè®®éç½®ãç³»ç»å­¦ä¹ RocketMQç¥è¯åå³å¯çµæ´»æ§å¶è¯¥é¡¹ã\n\nRocketMQå·¥ä½æ¨¡å¼\n\nå¨RocketMQä¸­ï¼å¤çä¸å¡çæå¡å¨ç§°ä¸ºbrokerï¼çäº§èä¸æ¶è´¹èä¸æ¯ç´æ¥ä¸brokerèç³»çï¼èæ¯éè¿å½åæå¡å¨è¿è¡éä¿¡ãbrokerå¯å¨åä¼éç¥å½åæå¡å¨èªå·±å·²ç»ä¸çº¿ï¼è¿æ ·å½åæå¡å¨ä¸­å°±ä¿å­æææçbrokerä¿¡æ¯ãå½çäº§èä¸æ¶è´¹èéè¦è¿æ¥brokeræ¶ï¼éè¿å½åæå¡å¨æ¾å°å¯¹åºçå¤çä¸å¡çbrokerï¼å æ­¤å½åæå¡å¨å¨æ´å¥ç»æä¸­èµ·å°ä¸ä¸ªä¿¡æ¯ä¸­å¿çä½ç¨ãå¹¶ä¸brokerå¯å¨åå¿é¡»ä¿éå½åæå¡å¨åå¯å¨ã\n\nå¯å¨æå¡å¨\n\nmqnamesrv\t\t# å¯å¨å½åæå¡å¨\nmqbroker\t\t# å¯å¨broker\n\n\nè¿è¡binç®å½ä¸çmqnamesrvå½ä»¤å³å¯å¯å¨å½åæå¡å¨ï¼é»è®¤å¯¹å¤æå¡ç«¯å£9876ã\n\nè¿è¡binç®å½ä¸çmqbrokerå½ä»¤å³å¯å¯å¨brokeræå¡å¨ï¼å¦æç¯å¢åéä¸­æ²¡æè®¾ç½®NAMESRV_ADDRåéè¦å¨è¿è¡mqbrokeræä»¤åéè¿setæä»¤è®¾ç½®NAMESRV_ADDRçå¼ï¼å¹¶ä¸æ¯æ¬¡å¼å¯åéè¦è®¾ç½®æ­¤é¡¹ã\n\næµè¯æå¡å¨å¯å¨ç¶æ\n\nRocketMQæä¾æä¸å¥æµè¯æå¡å¨åè½çæµè¯ç¨åºï¼è¿è¡binç®å½ä¸çtoolså½ä»¤å³å¯ä½¿ç¨ãProduceræ­£ç¡®æ§è¡å¦ä¸å¾æç¤º\n\ntools org.apache.rocketmq.example.quickstart.Producer\t\t# çäº§æ¶æ¯\ntools org.apache.rocketmq.example.quickstart.Consumer\t\t# æ¶è´¹æ¶æ¯\n\n\n\n\n\n\n# æ´åï¼å¼æ­¥æ¶æ¯ï¼\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åRocketMQçstarterï¼æ­¤åæ ä¸ç±springbootç»´æ¤çæ¬\n\n<dependency>\n    <groupId>org.apache.rocketmq</groupId>\n    <artifactId>rocketmq-spring-boot-starter</artifactId>\n    <version>2.2.1</version>\n</dependency>\n\n\næ­¥éª¤â¡ï¼éç½®RocketMQçæå¡å¨å°å\n\nrocketmq:\n  name-server: localhost:9876\n  producer:\n    group: group_rocketmq   # è®¾ç½®é»è®¤ççäº§èæ¶è´¹èæå±ç»group\n\n\n\n\næ­¥éª¤â¢ï¼ä½¿ç¨RocketMQTemplateæä½RocketMQ\n\n@Service\npublic class MessageServiceRocketmqImpl implements MessageService {\n    @Autowired\n    private RocketMQTemplate rocketMQTemplate;\n\n    @Override\n    public void sendMessage(String id) {\n        System.out.println("å¾åéç­ä¿¡çè®¢åå·²çº³å¥å¤çéåï¼rocketmqï¼ï¼idï¼"+id);\n        SendCallback callback = new SendCallback() {\n            @Override\n            public void onSuccess(SendResult sendResult) {\n                System.out.println("æ¶æ¯åéæå");\n            }\n            @Override\n            public void onException(Throwable e) {\n                System.out.println("æ¶æ¯åéå¤±è´¥ï¼ï¼ï¼ï¼ï¼");\n            }\n        };\n        rocketMQTemplate.asyncSend("order_id",id,callback);\n    }\n}\n\n\n\nä½¿ç¨asyncSendæ¹æ³åéå¼æ­¥æ¶æ¯ã\n\næ­¥éª¤â£ï¼ä½¿ç¨æ¶æ¯çå¬å¨å¨æå¡å¨å¯å¨åï¼çå¬æå®ä½ç½®ï¼å½æ¶æ¯åºç°åï¼ç«å³æ¶è´¹æ¶æ¯\n\n@Component\n@RocketMQMessageListener(topic = "order_id",consumerGroup = "group_rocketmq")  // è³å°ç»å®å·¦è¾¹çä¸¤ä¸ªåæ°\npublic class MessageListener implements RocketMQListener<String> {\n    @Override\n    public void onMessage(String id) {\n        System.out.println("å·²å®æç­ä¿¡åéä¸å¡(rocketmq)ï¼idï¼"+id);\n    }\n}\n\n\nRocketMQççå¬å¨å¿é¡»æç§æ åæ ¼å¼å¼åï¼å®ç°RocketMQListeneræ¥å£ï¼æ³åä¸ºæ¶æ¯ç±»åã\n\nä½¿ç¨æ³¨è§£@RocketMQMessageListenerå®ä¹å½åç±»çå¬RabbitMQä¸­æå®åç§°çæ¶æ¯éååæå®ç»ã\n\næ»ç»\n\n 1. springbootæ´åRocketMQä½¿ç¨RocketMQTemplateå¯¹è±¡ä½ä¸ºå®¢æ·ç«¯æä½æ¶æ¯éå\n 2. æä½RocketMQéè¦éç½®RocketMQæå¡å¨å°åï¼é»è®¤ç«¯å£9876\n 3. ä¼ä¸å¼åæ¶éå¸¸ä½¿ç¨çå¬å¨æ¥å¤çæ¶æ¯éåä¸­çæ¶æ¯ï¼è®¾ç½®çå¬å¨ä½¿ç¨æ³¨è§£@RocketMQMessageListener\n\n# SpringBootæ´åKafka\n\n# å®è£\n\nwindowsçå®è£åä¸è½½å°åï¼https://kafka.apache.org/downloads\n\nä¸è½½å®æ¯åå¾å°tgzåç¼©æä»¶ï¼ä½¿ç¨è§£åç¼©è½¯ä»¶è§£åç¼©å³å¯ä½¿ç¨ï¼è§£ååå¾å°å¦ä¸æä»¶\n\n\n\nå»ºè®®ä½¿ç¨windowsç2.8.1çæ¬ãï¼3.x.xçæ¬å¨windowsä¸æäºå°é®é¢ï¼ä½æ¯å¨linuxä¸æ²¡é®é¢ï¼\n\nå¯å¨æå¡å¨\n\nkafkaæå¡å¨çåè½ç¸å½äºRocketMQä¸­çbrokerï¼kafkaè¿è¡è¿éè¦ä¸ä¸ªç±»ä¼¼äºå½åæå¡å¨çæå¡ãå¨kafkaå®è£ç®å½ä¸­èªå¸¦ä¸ä¸ªç±»ä¼¼äºå½åæå¡å¨çå·¥å·ï¼å«åzookeeperï¼å®çä½ç¨æ¯æ³¨åä¸­å¿ï¼ç¸å³ç¥è¯è¯·å°å¯¹åºè¯¾ç¨ä¸­å­¦ä¹ ã\n\nzookeeper-server-start.bat ..\\..\\config\\zookeeper.properties\t\t# å¯å¨zookeeper\nkafka-server-start.bat ..\\..\\config\\server.properties\t\t\t\t# å¯å¨kafka\n\n\nè¿è¡binç®å½ä¸çwindowsç®å½ä¸çzookeeper-server-startå½ä»¤å³å¯å¯å¨æ³¨åä¸­å¿ï¼é»è®¤å¯¹å¤æå¡ç«¯å£2181ã\n\nè¿è¡binç®å½ä¸çwindowsç®å½ä¸çkafka-server-startå½ä»¤å³å¯å¯å¨kafkaæå¡å¨ï¼é»è®¤å¯¹å¤æå¡ç«¯å£9092ã\n\nåå»ºä¸»é¢\n\nåä¹åæä½å¶ä»MQäº§åç¸ä¼¼ï¼kakfaä¹æ¯åºäºä¸»é¢æä½ï¼æä½ä¹åéè¦ååå§åtopicã\n\n# åå»ºtopic\nkafka-topics.bat --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic itheima\n# æ¥è¯¢topic\nkafka-topics.bat --zookeeper 127.0.0.1:2181 --list\t\t\t\t\t\n# å é¤topic\nkafka-topics.bat --delete --zookeeper localhost:2181 --topic itheima\n\n\næµè¯æå¡å¨å¯å¨ç¶æ\n\nKafkaæä¾æä¸å¥æµè¯æå¡å¨åè½çæµè¯ç¨åºï¼è¿è¡binç®å½ä¸çwindowsç®å½ä¸çå½ä»¤å³å¯ä½¿ç¨ã\n\nçäº§èå¯å¨ä¹ååå¯å¨æ¶è´¹è\n\nkafka-console-producer.bat --broker-list localhost:9092 --topic itheima\t\t\t\t\t\t\t# æµè¯çäº§æ¶æ¯\nkafka-console-consumer.bat --bootstrap-server localhost:9092 --topic itheima --from-beginning\t# æµè¯æ¶æ¯æ¶è´¹\n\n\n# æ´å\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åKafkaçstarterï¼æ­¤åæ ç±springbootç»´æ¤çæ¬\n\n<dependency>\n    <groupId>org.springframework.kafka</groupId>\n    <artifactId>spring-kafka</artifactId>\n</dependency>\n\n\næ­¥éª¤â¡ï¼éç½®Kafkaçæå¡å¨å°å\n\nspring:\n  kafka:\n    bootstrap-servers: localhost:9092\n    consumer:\n      group-id: order\n\n\nè®¾ç½®é»è®¤ççäº§èæ¶è´¹èæå±ç»idã\n\næ­¥éª¤â¢ï¼ä½¿ç¨KafkaTemplateæä½Kafka\n\n@Service\npublic class MessageServiceKafkaImpl implements MessageService {\n    @Autowired\n    private KafkaTemplate<String,String> kafkaTemplate;\n\n    @Override\n    public void sendMessage(String id) {\n        System.out.println("å¾åéç­ä¿¡çè®¢åå·²çº³å¥å¤çéåï¼kafkaï¼ï¼idï¼"+id);\n        kafkaTemplate.send("itheima2022",id);\n    }\n}\n\n\nä½¿ç¨sendæ¹æ³åéæ¶æ¯ï¼éè¦ä¼ å¥topicåç§°ã\n\næ­¥éª¤â£ï¼ä½¿ç¨æ¶æ¯çå¬å¨å¨æå¡å¨å¯å¨åï¼çå¬æå®ä½ç½®ï¼å½æ¶æ¯åºç°åï¼ç«å³æ¶è´¹æ¶æ¯\n\n@Component\npublic class MessageListener {\n    @KafkaListener(topics = "itheima2022")\n    public void onMessage(ConsumerRecord<String,String> record){\n        System.out.println("å·²å®æç­ä¿¡åéä¸å¡(kafka)ï¼idï¼"+record.value());\n    }\n}\n\n\nä½¿ç¨æ³¨è§£@KafkaListenerå®ä¹å½åæ¹æ³çå¬Kafkaä¸­æå®topicçæ¶æ¯ï¼æ¥æ¶å°çæ¶æ¯å°è£å¨å¯¹è±¡ConsumerRecordä¸­ï¼è·åæ°æ®ä»ConsumerRecordå¯¹è±¡ä¸­è·åå³å¯ã\n\næ»ç»\n\n 1. springbootæ´åKafkaä½¿ç¨KafkaTemplateå¯¹è±¡ä½ä¸ºå®¢æ·ç«¯æä½æ¶æ¯éå\n\n 2. æä½Kafkaéè¦éç½®Kafkaæå¡å¨å°åï¼é»è®¤ç«¯å£9092\n\n 3. ä¼ä¸å¼åæ¶éå¸¸ä½¿ç¨çå¬å¨æ¥å¤çæ¶æ¯éåä¸­çæ¶æ¯ï¼è®¾ç½®çå¬å¨ä½¿ç¨æ³¨è§£@KafkaListenerãæ¥æ¶æ¶æ¯ä¿å­å¨å½¢åConsumerRecordå¯¹è±¡ä¸­\n\n\n# KF-6.çæ§\n\nå¨è¯´çæ§ä¹åï¼éè¦åé¡¾ä¸ä¸è½¯ä»¶ä¸çåå±å²ãææ©çè½¯ä»¶å®æä¸äºéå¸¸ç®åçåè½ï¼ä»£ç ä¸å¤ï¼éè¯¯ä¹å°ãéçè½¯ä»¶åè½çéæ­¥å®åï¼è½¯ä»¶çåè½åå¾è¶æ¥è¶å¤æï¼åè½ä¸è½å¾å°ææçä¿éï¼è¿ä¸ªé¶æ®µåºç°äºéå¯¹è½¯ä»¶åè½çæ£æµï¼ä¹å°±æ¯è½¯ä»¶æµè¯ãä¼´éçè®¡ç®æºæä½ç³»ç»çéæ­¥åçº§ï¼è½¯ä»¶çè¿è¡ç¶æä¹åå¾å¼å§è®©äººææ¸ä¸éï¼åºç°äºä¸ç¨³å®çç¶åµãä¼´éçè®¡ç®æºç½ç»çåå±ï¼ç¨åºä¹ä»åæºç¶æåæ¢æåºäºè®¡ç®æºç½ç»çç¨åºï¼åºç¨äºç½ç»çç¨åºå¼å§åºç°ï¼ç±äºç½ç»çä¸ç¨³å®æ§ï¼ç¨åºçè¿è¡ç¶æè®©ä½¿ç¨èæ´å å ªå¿§ãäºèç½çåºç°å½»åºæç ´äºè½¯ä»¶çæç»´æ¨¡å¼ï¼éä¹èæ¥çäºèç½è½¯ä»¶å°±æ´å å¸æ¾åºåºå¯¹åç§åæ ·å¤æçç½ç»æåµä¹ä¸çå¼±å°ãè®¡ç®æºè½¯ä»¶çè¿è¡ç¶åµå·²ç»æä¸ºäºè½¯ä»¶è¿è¡çä¸ä¸ªå¤§è¯é¢ï¼éå¯¹è½¯ä»¶çè¿è¡ç¶åµå°±åºç°äºå¨æ°çæç»´ï¼å»ºç«èµ·äºåä»£çè½¯ä»¶è¿è¡ç¶æçæ§ã\n\nä»ä¹æ¯çæ§ï¼å°±æ¯éè¿è½¯ä»¶çæ¹å¼å±ç¤ºå¦ä¸ä¸ªè½¯ä»¶çè¿è¡æåµï¼è¿è¡çæåµåéè¿åç§åæ ·çææ æ°æ®åé¦ç»çæ§äººåãä¾å¦ç½ç»æ¯å¦é¡ºçãæå¡å¨æ¯å¦å¨è¿è¡ãç¨åºçåè½æ¯å¦è½å¤æ´ç¾åç¾è¿è¡æåï¼åå­æ¯å¦å¤ç¨ï¼ç­ç­ç­ç­ã\n\næ¬ç« è¦è®²è§£ççæ§å°±æ¯å¯¹è½¯ä»¶çè¿è¡æåµè¿è¡çç£ï¼ä½æ¯springbootç¨åºä¸éspringbootç¨åºçå·®å¼è¿æ¯å¾å¤§çï¼ä¸ºäºæ¹ä¾¿çæ§è½¯ä»¶çå¼åï¼springbootæä¾äºä¸å¥åè½æ¥å£ï¼ä¸ºå¼åèå éå¼åè¿ç¨ã\n\n\n# KF-6-1.çæ§çæä¹\n\nå¯¹äºç°ä»£çäºèç½ç¨åºæ¥è¯´ï¼è§æ¨¡è¶æ¥è¶å¤§ï¼åè½è¶æ¥è¶å¤æï¼è¿è¦è¿½æ±æ´å¥½çå®¢æ·ä½éªï¼å æ­¤è¦çæ§çä¿¡æ¯éä¹å°±æ¯è¾å¤§äºãç±äºç°å¨çäºèç½ç¨åºå¤§é¨åé½æ¯åºäºå¾®æå¡çç¨åºï¼ä¸ä¸ªç¨åºçè¿è¡éè¦è¥å¹²ä¸ªæå¡æ¥ä¿éï¼å æ­¤ç¬¬ä¸ä¸ªè¦çæ§çææ å°±æ¯æå¡æ¯å¦æ­£å¸¸è¿è¡ï¼ä¹å°±æ¯çæ§æå¡ç¶ææ¯å¦å¤çå®æºç¶æãä¸æ¦åç°æä¸ªæå¡å®æºäºï¼å¿é¡»é©¬ä¸ç»åºå¯¹åºçè§£å³æ¹æ¡ï¼é¿åæ´ä½åºç¨åè½åå½±åãå¶æ¬¡ï¼ç±äºäºèç½ç¨åºæå¡çå®¢æ·éæ¯å·¨å¤§çï¼å½å®¢æ·çè¯·æ±å¨ç­æ¶é´åéä¸­è¾¾å°æå¡å¨åï¼å°±ä¼åºç°åç§ç¨åºè¿è¡ææ çæ³¢å¨ãæ¯å¦åå­å ç¨ä¸¥éï¼è¯·æ±æ æ³åæ¶ååºå¤çç­ï¼è¿å°±æ¯ç¬¬äºä¸ªè¦çæ§çéè¦ææ ï¼çæ§æå¡è¿è¡ææ ãè½ç¶è½¯ä»¶æ¯å¯¹å¤æä¾ç¨æ·çè®¿é®éæ±ï¼å®æå¯¹åºåè½çï¼ä½æ¯åå°çè¿è¡æ¯å¦å¹³ç¨³ï¼æ¯å¦åºç°äºä¸å½±åå®¢æ·ä½¿ç¨çåè½éæ£ï¼è¿äºä¹æ¯è¦å¯åçæ§çï¼æ­¤æ¶å°±éè¦å¨ä¸åæºçæåµä¸ï¼çæ§ç³»ç»è¿è¡æåµï¼æ¥å¿æ¯ä¸ä¸ªä¸éçææ®µãå¦æå¨ä¼å¤æ¥å¿ä¸­æ¾å°å¼åèæè¿ç»´äººåæå³æ³¨çæ¥å¿ä¿¡æ¯ï¼ç®åå¿«éææçè¿æ»¤åºè¦ççæ¥å¿ä¹æ¯çæ§ç³»ç»éè¦èèçé®é¢ï¼è¿å°±æ¯ç¬¬ä¸ä¸ªè¦çæ§çææ ï¼çæ§ç¨åºè¿è¡æ¥å¿ãè½ç¶æä»¬ææç¨åºä¸ç´å¹³ç¨³è¿è¡ï¼ä½æ¯ç±äºçªåæåµçåºç°ï¼ä¾å¦æå¡å¨è¢«æ»å»ãæå¡å¨åå­æº¢åºç­æåµé æäºæå¡å¨å®æºï¼æ­¤æ¶å½åæå¡ä¸è½æ»¡è¶³ä½¿ç¨éè¦ï¼å°±è¦å°å¶éå¯çè³å³é­ï¼å¦æå¿«éæ§å¶æå¡å¨çå¯åä¹æ¯ç¨åºè¿è¡è¿ç¨ä¸­ä¸å¯åé¿çé®é¢ï¼è¿å°±æ¯ç¬¬åä¸ªçæ§é¡¹ï¼ç®¡çæå¡ç¶æãä»¥ä¸è¿äºä»ä»æ¯ä»å¤§çæ¹é¢æ¥æèçæ§è¿ä¸ªé®é¢ï¼è¿æå¾å¤çç»èç¹ï¼ä¾å¦ä¸çº¿äºä¸ä¸ªæ°åè½ï¼å®æ¶æéç¨æ·ç»­è´¹ï¼è¿ç§åè½ä¸æ¯ä¸çº¿åé©¬ä¸å°±è¿è¡çï¼ä½æ¯å½ååè½æ¯å¦ççå¯å¨ï¼å¦æå¿«éçæ¥è¯¢å°è¿ä¸ªåè½å·²ç»å¼å¯ï¼è¿ä¹æ¯çæ§ä¸­è¦è§£å³çé®é¢ï¼ç­ç­ãçæ¥çæ§ççæ¯ä¸é¡¹éå¸¸éè¦çå·¥ä½ã\n\néè¿ä¸è¿°æè¿°ï¼å¯ä»¥çåºçæ§å¾éè¦ãé£å·ä½ççæ§è¦å¦ä½å¼å±å¢ï¼è¿è¦ä»å®éçç¨åºè¿è¡è§åº¦åºåãæ¯å¦ç°å¨æ3ä¸ªæå¡æ¯æçä¸ä¸ªç¨åºçè¿è¡ï¼æ¯ä¸ªæå¡é½æèªå·±çè¿è¡ç¶æã\n\næ­¤æ¶è¢«çæ§çä¿¡æ¯å°±è¦å¨ä¸ä¸ªä¸åçç¨åºä¸­å»æ¥è¯¢å¹¶å±ç¤ºï¼ä½æ¯ä¸ä¸ªæå¡æ¯æå¡äºä¸ä¸ªç¨åºçè¿è¡çï¼å¦æä¸è½åå¹¶å°ä¸ä¸ªå¹³å°ä¸å±ç¤ºï¼çæ§å·¥ä½éå·¨å¤§ï¼èä¸ä¿¡æ¯å¯¹ç§°æ§å·®ï¼è¦ä¸åçå¨ä¸ä¸ªçæ§ç«¯æ¥çæ°æ®ãå¦æå°ä¸å¡æ¾å¤§æ30ä¸ªï¼300ä¸ªï¼3000ä¸ªå¢ï¼çæ¥å¿é¡»æä¸ä¸ªåç¬çå¹³å°ï¼å°å¤ä¸ªè¢«çæ§çæå¡å¯¹åºççæ§ææ ä¿¡æ¯æ±æ»å¨ä¸èµ·ï¼è¿æ ·æ´å©äºçæ§å·¥ä½çå¼å±ã\n\næ°çç¨åºä¸é¨ç¨æ¥çæ§ï¼æ°çé®é¢å°±åºç°äºï¼æ¯è¢«çæ§ç¨åºä¸»å¨ä¸æ¥ä¿¡æ¯è¿æ¯çæ§ç¨åºä¸»å¨è·åä¿¡æ¯ï¼å¦æçæ§ç¨åºä¸è½ä¸»å¨è·åä¿¡æ¯ï¼è¿å°±æå³ççæ§ç¨åºæå¯è½çå°çæ¯å¾ä¹ä¹åè¢«çæ§ç¨åºä¸æ¥çä¿¡æ¯ï¼ä¸ä¸è¢«çæ§ç¨åºå®æºäºï¼çæ§ç¨åºå°±æ æ³åºåç©¶ç«æ¯å¥½ä¹æ²¡æ³ä¿¡æ¯äºï¼è¿æ¯å·²ç»ä¸çº¿äºãæä»¥çæ§ç¨åºå¿é¡»å·æä¸»å¨åèµ·è¯·æ±è·åè¢«çæ§æå¡ä¿¡æ¯çè½åã\n\nå¦æçæ§ç¨åºè¦çæ§æå¡æ¶ï¼ä¸»å¨è·åå¯¹æ¹çä¿¡æ¯ãé£çæ§ç¨åºå¦ä½ç¥éåªäºç¨åºè¢«èªå·±çæ§å¢ï¼ä¸å¯è½å¨çæ§ç¨åºä¸­è®¾ç½®æçæ§è°ï¼è¿æ ·äºèç½ä¸çææç¨åºå²ä¸æ¯é½å¯ä»¥è¢«çæ§å°ï¼è¿æ ·çè¯ä¿¡æ¯å®å¨å°æ æ³å¾å°ä¿éãåççåæ³åªè½æ¯å¨è¢«çæ§ç¨åºå¯å¨æ¶ä¸æ¥çæ§ç¨åºï¼åè¯çæ§ç¨åºä½ å¯ä»¥çæ§æäºãçæ¥éè¦å¨è¢«çæ§ç¨åºç«¯åä¸»å¨ä¸æ¥çæä½ï¼è¿å°±è¦æ±è¢«çæ§ç¨åºä¸­éç½®å¯¹åºççæ§ç¨åºæ¯è°ã\n\nè¢«çæ§ç¨åºå¯ä»¥æä¾åç§åæ ·çææ æ°æ®ç»çæ§ç¨åºçï¼ä½æ¯æ¯ä¸ä¸ªææ é½ä»£è¡¨çå¬å¸çæºå¯ä¿¡æ¯ï¼å¹¶ä¸æ¯ææçææ é½å¯ä»¥ç»ä»»ä½äººççï¼ä¹è³è¿ç»´äººåï¼æä»¥å¯¹è¢«çæ§ææ çæ¯å¦å¼æ¾åºæ¥ç»çæ§ç³»ç»çï¼ä¹éè¦åè¯¦ç»çè®¾å®ã\n\nä»¥ä¸æè¿°çæ´ä¸ªè¿ç¨å°±æ¯ä¸ä¸ªçæ§ç³»ç»çåºæ¬æµç¨ã\n\næ»ç»\n\n 1. çæ§æ¯ä¸ä¸ªéå¸¸éè¦çå·¥ä½ï¼æ¯ä¿éç¨åºæ­£å¸¸è¿è¡çåºç¡ææ®µ\n 2. çæ§çè¿ç¨éè¿ä¸ä¸ªçæ§ç¨åºè¿è¡ï¼å®æ±æ»ææè¢«çæ§çç¨åºçä¿¡æ¯éä¸­ç»ä¸å±ç¤º\n 3. è¢«çæ§ç¨åºéè¦ä¸»å¨ä¸æ¥èªå·±è¢«çæ§ï¼åæ¶è¦è®¾ç½®åªäºææ è¢«çæ§\n\næè\n\nä¸é¢å°±è¦å¼å§åçæ§äºï¼æ°çé®é¢å°±æ¥äºï¼çæ§ç¨åºæä¹åå¢ï¼é¾éè¦èªå·±ååï¼è¯å®æ¯ä¸ç°å®çï¼å¦ä½è¿è¡çæ§ï¼å±ä»¬ä¸èåè®²ã\n\n\n# KF-6-2.å¯è§åçæ§å¹³å°\n\nspringbootæ½åäºå¤§é¨åçæ§ç³»ç»çå¸¸ç¨ææ ï¼æåºäºçæ§çæ»ææ³ãç¶åå°±æå¥½å¿çåå¿æ ¹æ®çæ§çæ»ææ³ï¼å¶ä½äºä¸ä¸ªéç¨æ§å¾å¼ºççæ§ç³»ç»ï¼å ä¸ºæ¯åºäºspringbootçæ§çæ ¸å¿ææ³å¶ä½çï¼æä»¥è¿ä¸ªç¨åºè¢«å½åä¸ºSpring Boot Adminãjavaèªå¸¦ççæ§å¹³å°ä¸ºJconsole\n\nSpring Boot Adminï¼è¿æ¯ä¸ä¸ªå¼æºç¤¾åºé¡¹ç®ï¼ç¨äºç®¡çåçæ§SpringBootåºç¨ç¨åºãè¿ä¸ªé¡¹ç®ä¸­åå«æå®¢æ·ç«¯åæå¡ç«¯ä¸¤é¨åï¼èçæ§å¹³å°æçå°±æ¯æå¡ç«¯ãæä»¬åçç¨åºå¦æéè¦è¢«çæ§ï¼å°æä»¬åçç¨åºå¶ä½æå®¢æ·ç«¯ï¼ç¶åéç½®æå¡ç«¯å°ååï¼æå¡ç«¯å°±å¯ä»¥éè¿HTTPè¯·æ±çæ¹å¼ä»å®¢æ·ç«¯è·åå¯¹åºçä¿¡æ¯ï¼å¹¶éè¿UIçé¢å±ç¤ºå¯¹åºä¿¡æ¯ã\n\nä¸é¢å°±æ¥å¼åè¿å¥çæ§ç¨åºï¼åå¶ä½æå¡ç«¯ï¼å¶å®æå¡ç«¯å¯ä»¥çè§£ä¸ºæ¯ä¸ä¸ªwebç¨åºï¼æ¶å°ä¸äºä¿¡æ¯åå±ç¤ºè¿äºä¿¡æ¯ã\n\næå¡ç«¯å¼å\n\næ­¥éª¤â ï¼å¯¼å¥springboot adminå¯¹åºçstarterï¼çæ¬ä¸å½åä½¿ç¨çspringbootçæ¬ä¿æä¸è´ï¼å¹¶å°å¶éç½®æwebå·¥ç¨\n\n<dependency>\n    <groupId>de.codecentric</groupId>\n    <artifactId>spring-boot-admin-starter-server</artifactId>\n    <version>2.5.4</version>\n</dependency>\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-web</artifactId>\n</dependency>\n\n\nä¸è¿°è¿ç¨å¯ä»¥éè¿åå»ºé¡¹ç®æ¶ä½¿ç¨å¾éçå½¢å¼å®æã\n\næ­¥éª¤â¡ï¼å¨å¼å¯¼ç±»ä¸æ·»å æ³¨è§£@EnableAdminServerï¼å£°æå½ååºç¨å¯å¨åä½ä¸ºSpringBootAdminçæå¡å¨ä½¿ç¨\n\n@SpringBootApplication\n@EnableAdminServer\npublic class Springboot25AdminServerApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(Springboot25AdminServerApplication.class, args);\n    }\n}\n\n\nåå°è¿éï¼è¿ä¸ªæå¡å¨å°±å¼åå¥½äºï¼å¯å¨åå°±å¯ä»¥è®¿é®å½åç¨åºäºï¼çé¢å¦ä¸ã\n\nç±äºç®åæ²¡æå¯å¨ä»»ä½è¢«çæ§çç¨åºï¼æä»¥éé¢ä»ä¹ä¿¡æ¯é½æ²¡æãä¸é¢å¶ä½ä¸ä¸ªè¢«çæ§çå®¢æ·ç«¯ç¨åºã\n\nå®¢æ·ç«¯å¼å\n\nå®¢æ·ç«¯ç¨åºå¼åå¶å®åæå¡ç«¯å¼åæè·¯åºæ¬ç¸ä¼¼ï¼å¤äºä¸äºéç½®èå·²ã\n\n\n\næ­¥éª¤â ï¼å¯¼å¥springboot adminå¯¹åºçstarterï¼çæ¬ä¸å½åä½¿ç¨çspringbootçæ¬ä¿æä¸è´ï¼å¹¶å°å¶éç½®æwebå·¥ç¨\n\n<dependency>\n    <groupId>de.codecentric</groupId>\n    <artifactId>spring-boot-admin-starter-client</artifactId>\n    <version>2.5.4</version>\n</dependency>\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-web</artifactId>\n</dependency>\n\n\nä¸è¿°è¿ç¨ä¹å¯ä»¥éè¿åå»ºé¡¹ç®æ¶ä½¿ç¨å¾éçå½¢å¼å®æï¼ä¸è¿ä¸å®è¦å°å¿ï¼ç«¯å£éç½®æä¸ä¸æ ·çï¼å¦åä¼å²çªã\n\næ­¥éª¤â¡ï¼è®¾ç½®å½åå®¢æ·ç«¯å°ä¿¡æ¯ä¸ä¼ å°åªä¸ªæå¡å¨ä¸ï¼éè¿ymlæä»¶éç½®\n\nspring:\n  boot:\n    admin:\n      client:\n        url: http://localhost:8080\n\n\nåå°è¿éï¼è¿ä¸ªå®¢æ·ç«¯å°±å¯ä»¥å¯å¨äºãå¯å¨ååæ¬¡è®¿é®æå¡ç«¯ç¨åºï¼çé¢å¦ä¸ã\n\nå¯ä»¥çå°ï¼å½åçæ§äº1ä¸ªç¨åºï¼ç¹å»è¿å»æ¥çè¯¦ç»ä¿¡æ¯ã\n\nç±äºå½åæ²¡æè®¾ç½®å¼æ¾åªäºä¿¡æ¯ç»çæ§æå¡å¨ï¼æä»¥ç®åçä¸å°ä»ä¹ææçä¿¡æ¯ãä¸é¢éè¦åä¸¤ç»éç½®å°±å¯ä»¥çå°ä¿¡æ¯äºã\n\n 1. å¼æ¾æå®ä¿¡æ¯ç»æå¡å¨ç\n\n 2. åè®¸æå¡å¨ä»¥HTTPè¯·æ±çæ¹å¼è·åå¯¹åºçä¿¡æ¯\n    \n    éç½®å¦ä¸ï¼\n\nserver:\n  port: 80\nspring:\n  boot:\n    admin:\n      client:\n        url: http://localhost:8080\nmanagement:\n  endpoint:\n    health:\n      show-details: always\n  endpoints:\n    web:\n      exposure:\n        include: "*"\n\n\nä¸è¿°éç½®å¯¹äºåå­¦èæ¥è¯´æ¯è¾å®¹ææ··æ·ãç®åè§£éä¸ä¸ï¼å°ä¸ä¸èååå·ä½çè®²è§£ãspringbootadminçå®¢æ·ç«¯é»è®¤å¼æ¾äº13ç»ä¿¡æ¯ç»æå¡å¨ï¼ä½æ¯è¿äºä¿¡æ¯é¤äºä¸ä¸ªä¹å¤ï¼å¶ä»çä¿¡æ¯é½ä¸è®©éè¿HTTPè¯·æ±æ¥çãæä»¥ä½ çå°çä¿¡æ¯åºæ¬ä¸å°±æ²¡ä»ä¹åå®¹äºï¼åªè½çå°ä¸ä¸ªåå®¹ï¼å°±æ¯ä¸é¢çå¥åº·ä¿¡æ¯ã\n\nä½æ¯å³ä¾¿å¦æ­¤æä»¬çå°å¥åº·ä¿¡æ¯ä¸­ä¹æ²¡ä»ä¹åå®¹ï¼åå å¨äºå¥åº·ä¿¡æ¯ä¸­æä¸äºä¿¡æ¯æè¿°äºä½ å½ååºç¨ä½¿ç¨äºä»ä¹ææ¯ç­ä¿¡æ¯ï¼å¦ææ èçå¯¹å¤æ´é²åè½ä¼æå®å¨éæ£ãéè¿éç½®å°±å¯ä»¥å¼æ¾ææçå¥åº·ä¿¡æ¯æç»æ¥çäºã\n\nmanagement:\n  endpoint:\n    health:\n      show-details: always\n\n\nå¥åº·æç»ä¿¡æ¯å¦ä¸ï¼\n\nç®åé¤äºå¥åº·ä¿¡æ¯ï¼å¶ä»ä¿¡æ¯é½æ¥éä¸äºãåå å¨äºå¶ä»12ç§ä¿¡æ¯æ¯é»è®¤ä¸æä¾ç»æå¡å¨éè¿HTTPè¯·æ±æ¥éçï¼æä»¥éè¦å¼å¯æ¥éçåå®¹é¡¹ï¼ä½¿ç¨*è¡¨ç¤ºæ¥éå¨é¨ãè®°å¾å¸¦å¼å·ã\n\nendpoints:\n  web:\n    exposure:\n      include: "*"\n\n\néç½®ååå·æ°æå¡å¨é¡µé¢ï¼å°±å¯ä»¥çå°ææçä¿¡æ¯äºã\n\nä»¥ä¸çé¢ä¸­å±ç¤ºçä¿¡æ¯éå°±éå¸¸å¤§äºï¼åå«äº13ç»ä¿¡æ¯ï¼ææ§è½ææ çæ§ï¼å è½½çbeanåè¡¨ï¼å è½½çç³»ç»å±æ§ï¼æ¥å¿çæ¾ç¤ºæ§å¶ç­ç­ã\n\néç½®å¤ä¸ªå®¢æ·ç«¯\n\nå¯ä»¥éè¿éç½®å®¢æ·ç«¯çæ¹å¼å¨å¶ä»çspringbootç¨åºä¸­æ·»å å®¢æ·ç«¯åæ ï¼è¿æ ·å½åæå¡å¨å°±å¯ä»¥çæ§å¤ä¸ªå®¢æ·ç«¯ç¨åºäºãæ¯ä¸ªå®¢æ·ç«¯å±ç¤ºä¸åççæ§ä¿¡æ¯ã\n\nè¿å¥çæ§é¢æ¿ï¼å¦æä½ å è½½çåºç¨å·æåè½ï¼å¨çæ§é¢æ¿ä¸­å¯ä»¥çå°3ç»ä¿¡æ¯å±ç¤ºçä¸ä¹åå è½½çç©ºå·¥ç¨ä¸ä¸æ ·ã\n\n * ç±»å è½½é¢æ¿ä¸­å¯ä»¥æ¥éå°å¼åèèªå®ä¹çç±»ï¼å¦å·¦å¾\n\n\n\n * æ å°ä¸­å¯ä»¥æ¥éå°å½ååºç¨éç½®çææè¯·æ±\n\n\n\n * æ§è½ææ ä¸­å¯ä»¥æ¥éå½ååºç¨ç¬æçè¯·æ±è·¯å¾ç»è®¡æ°æ®\n\n\n\næ»ç»\n\n 1. å¼åçæ§æå¡ç«¯éè¦å¯¼å¥åæ ï¼ç¶åå¨å¼å¯¼ç±»ä¸æ·»å æ³¨è§£@EnableAdminServerï¼å¹¶å°å¶éç½®æwebç¨åºå³å¯\n 2. å¼åè¢«çæ§çå®¢æ·ç«¯éè¦å¯¼å¥åæ ï¼ç¶åéç½®æå¡ç«¯æå¡å¨å°åï¼å¹¶åå¼æ¾ææ çè®¾å®å³å¯\n 3. å¨çæ§å¹³å°ä¸­å¯ä»¥æ¥éå°åç§åæ ·è¢«çæ§çææ ï¼åææ¯å®¢æ·ç«¯å¼æ¾äºè¢«çæ§çææ \n\næè\n\nä¹åè¯´è¿ï¼æå¡ç«¯è¦æ³çæ§å®¢æ·ç«¯ï¼éè¦ä¸»å¨çè·åå°å¯¹åºä¿¡æ¯å¹¶å±ç¤ºåºæ¥ãä½æ¯ç®åæä»¬å¹¶æ²¡æå¨å®¢æ·ç«¯å¼åä»»ä½æ°çåè½ï¼ä½æ¯æå¡ç«¯ç¡®å¯ä»¥è·åçæ§ä¿¡æ¯ï¼è°å¸®æä»¬åçè¿äºåè½å¢ï¼å±ä»¬ä¸ä¸èåè®²ã\n\n\n# KF-6-3.çæ§åç\n\néè¿æ¥éçæ§ä¸­çæ å°ææ ï¼å¯ä»¥çå°å½åç³»ç»ä¸­å¯ä»¥è¿è¡çææè¯·æ±è·¯å¾ï¼å¶ä¸­å¤§é¨åè·¯å¾ä»¥/actuatorå¼å¤´\n\né¦åè¿äºè¯·æ±è·¯å¾ä¸æ¯å¼åèèªå·±ç¼åçï¼å¶æ¬¡è¿ä¸ªè·¯å¾ä»£è¡¨ä»ä¹å«ä¹å¢ï¼æ¢ç¶è¿ä¸ªè·¯å¾å¯ä»¥è®¿é®ï¼å°±å¯ä»¥éè¿æµè§å¨åéè¯¥è¯·æ±ççç©¶ç«å¯ä»¥å¾å°ä»ä¹ä¿¡æ¯ã\n\n\n\néè¿åéè¯·æ±ï¼å¯ä»¥å¾å°ä¸ç»jsonä¿¡æ¯ï¼å¦ä¸\n\n{\n    "_links": {\n        "self": {\n            "href": "http://localhost:81/actuator",\n            "templated": false\n        },\n        "beans": {\n            "href": "http://localhost:81/actuator/beans",\n            "templated": false\n        },\n        "caches-cache": {\n            "href": "http://localhost:81/actuator/caches/{cache}",\n            "templated": true\n        },\n        "caches": {\n            "href": "http://localhost:81/actuator/caches",\n            "templated": false\n        },\n        "health": {\n            "href": "http://localhost:81/actuator/health",\n            "templated": false\n        },\n        "health-path": {\n            "href": "http://localhost:81/actuator/health/{*path}",\n            "templated": true\n        },\n        "info": {\n            "href": "http://localhost:81/actuator/info",\n            "templated": false\n        },\n        "conditions": {\n            "href": "http://localhost:81/actuator/conditions",\n            "templated": false\n        },\n        "shutdown": {\n            "href": "http://localhost:81/actuator/shutdown",\n            "templated": false\n        },\n        "configprops": {\n            "href": "http://localhost:81/actuator/configprops",\n            "templated": false\n        },\n        "configprops-prefix": {\n            "href": "http://localhost:81/actuator/configprops/{prefix}",\n            "templated": true\n        },\n        "env": {\n            "href": "http://localhost:81/actuator/env",\n            "templated": false\n        },\n        "env-toMatch": {\n            "href": "http://localhost:81/actuator/env/{toMatch}",\n            "templated": true\n        },\n        "loggers": {\n            "href": "http://localhost:81/actuator/loggers",\n            "templated": false\n        },\n        "loggers-name": {\n            "href": "http://localhost:81/actuator/loggers/{name}",\n            "templated": true\n        },\n        "heapdump": {\n            "href": "http://localhost:81/actuator/heapdump",\n            "templated": false\n        },\n        "threaddump": {\n            "href": "http://localhost:81/actuator/threaddump",\n            "templated": false\n        },\n        "metrics-requiredMetricName": {\n            "href": "http://localhost:81/actuator/metrics/{requiredMetricName}",\n            "templated": true\n        },\n        "metrics": {\n            "href": "http://localhost:81/actuator/metrics",\n            "templated": false\n        },\n        "scheduledtasks": {\n            "href": "http://localhost:81/actuator/scheduledtasks",\n            "templated": false\n        },\n        "mappings": {\n            "href": "http://localhost:81/actuator/mappings",\n            "templated": false\n        }\n    }\n}\n\n\nå¶ä¸­æ¯ä¸ç»æ°æ®é½æä¸ä¸ªè¯·æ±è·¯å¾ï¼èå¨è¿éè¯·æ±è·¯å¾ä¸­æä¹åçå°è¿çhealthï¼åéæ­¤è¯·æ±åå¾å°äºä¸ç»ä¿¡æ¯\n\n{\n    "status": "UP",\n    "components": {\n        "diskSpace": {\n            "status": "UP",\n            "details": {\n                "total": 297042808832,\n                "free": 72284409856,\n                "threshold": 10485760,\n                "exists": true\n            }\n        },\n        "ping": {\n            "status": "UP"\n        }\n    }\n}\n\n\nå½åä¿¡æ¯ä¸çæ§é¢æ¿ä¸­çæ°æ®å­å¨çå¯¹åºå³ç³»\n\n** åæ¥çæ§ä¸­æ¾ç¤ºçä¿¡æ¯å®éä¸æ¯éè¿åéå°åè¯·æ±åå¾å°jsonæ°æ®ï¼ç¶åå±ç¤ºåºæ¥ãæç§ä¸è¿°æä½ï¼å¯ä»¥åéæ´å¤çä»¥/actuatorå¼å¤´çé¾æ¥å°åï¼è·åæ´å¤çæ°æ®ï¼è¿äºæ°æ®æ±æ»å°ä¸èµ·ç»æäºçæ§å¹³å°æ¾ç¤ºçæææ°æ®ã**\n\nå°è¿éæä»¬å¾å°äºä¸ä¸ªæ ¸å¿ä¿¡æ¯ï¼çæ§å¹³å°ä¸­æ¾ç¤ºçä¿¡æ¯å®éä¸æ¯éè¿å¯¹è¢«çæ§çåºç¨åéè¯·æ±å¾å°çãé£è¿äºè¯·æ±è°å¼åçå¢ï¼æå¼è¢«çæ§åºç¨çpomæä»¶ï¼å¶ä¸­å¯¼å¥äºspringboot adminçå¯¹åºçclientï¼å¨è¿ä¸ªèµæºä¸­å¯¼å¥äºä¸ä¸ªåç§°å«åactuatorçåãè¢«çæ§çåºç¨ä¹æä»¥å¯ä»¥å¯¹å¤æä¾ä¸è¿°è¯·æ±è·¯å¾ï¼å°±æ¯å ä¸ºæ·»å äºè¿ä¸ªåã\n\n\n\nè¿ä¸ªactuatoræ¯ä»ä¹å¢ï¼è¿å°±æ¯æ¬èè¦è®²çæ ¸å¿åå®¹ï¼çæ§çç«¯ç¹ã\n\nActuatorï¼å¯ä»¥ç§°ä¸ºç«¯ç¹ï¼æè¿°äºä¸ç»çæ§ä¿¡æ¯ï¼SpringBootAdminæä¾äºå¤ä¸ªåç½®ç«¯ç¹ï¼éè¿è®¿é®ç«¯ç¹å°±å¯ä»¥è·åå¯¹åºççæ§ä¿¡æ¯ï¼ä¹å¯ä»¥æ ¹æ®éè¦èªå®ä¹ç«¯ç¹ä¿¡æ¯ãéè¿åéè¯·æ±è·¯å²**/actuatorå¯ä»¥è®¿é®åºç¨ææç«¯ç¹ä¿¡æ¯ï¼å¦æç«¯ç¹ä¸­è¿ææç»ä¿¡æ¯å¯ä»¥åéè¯·æ±/actuator/ç«¯ç¹åç§°**æ¥è·åè¯¦ç»ä¿¡æ¯ãä»¥ä¸ååºäºææç«¯ç¹ä¿¡æ¯è¯´æï¼ï¼å ç²çæ¯æä»¬ç»å¸¸å³æ³¨çä¿¡æ¯ï¼\n\nID                 æè¿°                                                             é»è®¤å¯ç¨\nauditevents        æ´é²å½ååºç¨ç¨åºçå®¡è®¡äºä»¶ä¿¡æ¯ã                                               æ¯\nbeans              æ¾ç¤ºåºç¨ç¨åºä¸­ææ Spring bean çå®æ´åè¡¨ã                                   æ¯\ncaches             æ´é²å¯ç¨çç¼å­ã                                                       æ¯\nconditions         æ¾ç¤ºå¨éç½®åèªå¨éç½®ç±»ä¸è¯ä¼°çæ¡ä»¶ä»¥åå®ä»¬å¹éæä¸å¹éçåå ã                                æ¯\nconfigprops        æ¾ç¤ºææ @ConfigurationProperties çæ ¡å¯¹æ¸åã                           æ¯\nenv                æ´é² Spring ConfigurableEnvironment ä¸­çå±æ§ã                        æ¯\nflyway             æ¾ç¤ºå·²åºç¨ç Flyway æ°æ®åºè¿ç§»ã                                           æ¯\nhealth             æ¾ç¤ºåºç¨ç¨åºå¥åº·ä¿¡æ¯                                                     æ¯\nhttptrace          æ¾ç¤º HTTP è¿½è¸ªä¿¡æ¯ï¼é»è®¤æåµä¸ï¼æå 100 ä¸ª HTTP è¯·æ±/ååºäº¤æ¢ï¼ã                     æ¯\ninfo               æ¾ç¤ºåºç¨ç¨åºä¿¡æ¯ã                                                      æ¯\nintegrationgraph   æ¾ç¤º Spring Integration å¾ã                                       æ¯\nloggers            æ¾ç¤ºåä¿®æ¹åºç¨ç¨åºä¸­æ¥å¿è®°å½å¨çéç½®ã                                            æ¯\nliquibase          æ¾ç¤ºå·²åºç¨ç Liquibase æ°æ®åºè¿ç§»ã                                        æ¯\nmetrics            æ¾ç¤ºå½ååºç¨ç¨åºçææ åº¦éä¿¡æ¯ã                                               æ¯\nmappings           æ¾ç¤ºææ @RequestMapping è·¯å¾çæ´çæ¸åã                                  æ¯\nscheduledtasks     æ¾ç¤ºåºç¨ç¨åºä¸­çè°åº¦ä»»å¡ã                                                  æ¯\nsessions           åè®¸ä» Spring Session æ¯æçä¼è¯å­å¨ä¸­æ£ç´¢åå é¤ç¨æ·ä¼è¯ãå½ä½¿ç¨ Spring Session çååºå¼   æ¯\n                   Web åºç¨ç¨åºæ¯ææ¶ä¸å¯ç¨ã\nshutdown           æ­£å¸¸å³é­åºç¨ç¨åºã                                                      å¦\nthreaddump         æ§è¡çº¿ç¨ dumpã                                                     æ¯\nheapdump           è¿åä¸ä¸ª hprof å  dump æä»¶ã                                          æ¯\njolokia            éè¿ HTTP æ´é² JMX beanï¼å½ Jolokia å¨ classpath ä¸æ¶ï¼ä¸éç¨äº WebFluxï¼ã    æ¯\nlogfile            è¿åæ¥å¿æä»¶çåå®¹ï¼å¦æå·²è®¾ç½® logging.file æ logging.path å±æ§ï¼ãæ¯æä½¿ç¨ HTTP      æ¯\n                   Range å¤´æ¥æ£ç´¢é¨åæ¥å¿æä»¶çåå®¹ã\nprometheus         ä»¥å¯ä»¥ç± Prometheus æå¡å¨æåçæ ¼å¼æ´é²ææ ã                                  æ¯\n\nä¸è¿°ç«¯ç¹æ¯ä¸é¡¹ä»£è¡¨è¢«çæ§çææ ï¼å¦æå¯¹å¤å¼æ¾åçæ§å¹³å°å¯ä»¥æ¥è¯¢å°å¯¹åºçç«¯ç¹ä¿¡æ¯ï¼å¦ææªå¼æ¾åæ æ³æ¥è¯¢å¯¹åºçç«¯ç¹ä¿¡æ¯ãéè¿éç½®å¯ä»¥è®¾ç½®ç«¯ç¹æ¯å¦å¯¹å¤å¼æ¾åè½ãä½¿ç¨enableå±æ§æ§å¶ç«¯ç¹æ¯å¦å¯¹å¤å¼æ¾ãå¶ä¸­healthç«¯ç¹ä¸ºé»è®¤ç«¯ç¹ï¼ä¸è½å³é­ã\n\næ³¨ï¼è¿éå¦æä¸å¼æ¾ç«¯ç¹æ¥å£ï¼å³ä½¿webç«¯include â*âä¹ä¸è½æ¥è¯¢ä¿¡æ¯.\n\næ³¨ï¼ç«¯ç¹çå¼æ¾åä¸ºåç«¯ç«¯ç¹åWEBç«¯ç¹ä¸¤ç§ï¼é½è¦åå«éç½®\n\nmanagement:\n  endpoint:\n    health:\t\t\t\t\t\t# ç«¯ç¹åç§°\n      show-details: always\n    info:\t\t\t\t\t\t# ç«¯ç¹åç§°\n      enabled: true\t\t\t\t# æ¯å¦å¼æ¾\n\n\nä¸ºäºæ¹ä¾¿å¼åèå¿«ééç½®ç«¯ç¹ï¼springboot adminè®¾ç½®äº13ä¸ªè¾ä¸ºå¸¸ç¨çç«¯ç¹ä½ä¸ºé»è®¤å¼æ¾çç«¯ç¹ï¼å¦æéè¦æ§å¶é»è®¤å¼æ¾çç«¯ç¹çå¼æ¾ç¶æï¼å¯ä»¥éè¿éç½®è®¾ç½®ï¼å¦ä¸ï¼\n\nmanagement:\n  endpoints:\n    enabled-by-default: true\t# æ¯å¦å¼å¯é»è®¤ç«¯ç¹ï¼é»è®¤å¼true\n\n\nä¸è¿°ç«¯ç¹å¼å¯åï¼å°±å¯ä»¥éè¿ç«¯ç¹å¯¹åºçè·¯å¾æ¥çå¯¹åºçä¿¡æ¯äºãä½æ¯æ­¤æ¶è¿ä¸è½éè¿HTTPè¯·æ±æ¥è¯¢æ­¤ä¿¡æ¯ï¼è¿éè¦å¼å¯éè¿HTTPè¯·æ±æ¥è¯¢çç«¯ç¹åç§°ï¼ä½¿ç¨â*âå¯ä»¥ç®åéç½®æå¼æ¾ææç«¯ç¹çWEBç«¯HTTPè¯·æ±æéã\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: "*"  # å¼æ¾ææç«¯ç¹\n        # include: health, info  # å¼æ¾healthåinfoä¸¤ä¸ªç«¯ç¹ï¼è¿ééç½®çæ¯åªè½å¨WEBçå°çä¿¡æ¯\n\n\næ´ä½ä¸æ¥è¯´ï¼å¯¹äºç«¯ç¹çéç½®æä¸¤ç»ä¿¡æ¯ï¼ä¸ç»æ¯endpointså¼å¤´çï¼å¯¹ææç«¯ç¹è¿è¡éç½®ï¼ä¸ç»æ¯endpointå¼å¤´çï¼å¯¹å·ä½ç«¯ç¹è¿è¡éç½®ã\n\nmanagement:\n  endpoint:\t\t# å·ä½ç«¯ç¹çéç½®\n    health:\n      show-details: always\n    info:\n      enabled: true\n  endpoints:\t# å¨é¨ç«¯ç¹çéç½®\n    web:\n      exposure:\n        include: "*"\n    enabled-by-default: true\n\n\n\n\n\n\n\n\næ»ç»\n\n 1. è¢«çæ§å®¢æ·ç«¯éè¿æ·»å actuatorçåæ å¯ä»¥å¯¹å¤æä¾è¢«è®¿é®çç«¯ç¹åè½\n\n 2. ç«¯ç¹åè½çå¼æ¾ä¸å³é­å¯ä»¥éè¿éç½®è¿è¡æ§å¶\n\n 3. webç«¯é»è®¤æ æ³è·åææç«¯ç¹ä¿¡æ¯ï¼éè¿éç½®å¼æ¾ç«¯ç¹åè½\n\n\n# KF-6-4.èªå®ä¹çæ§ææ \n\nç«¯ç¹æè¿°äºè¢«çæ§çä¿¡æ¯ï¼é¤äºç³»ç»é»è®¤çææ ï¼è¿å¯ä»¥èªè¡æ·»å æ¾ç¤ºçææ ï¼ä¸é¢å°±éè¿3ç§ä¸åçç«¯ç¹çææ èªå®ä¹æ¹å¼æ¥å­¦ä¹ ç«¯ç¹ä¿¡æ¯çäºæ¬¡å¼åã\n\nINFOç«¯ç¹\n\ninfoç«¯ç¹æè¿°äºå½ååºç¨çåºæ¬ä¿¡æ¯ï¼å¯ä»¥éè¿ä¸¤ç§å½¢å¼å¿«ééç½®infoç«¯ç¹çä¿¡æ¯\n\n * éç½®å½¢å¼\n   \n   å¨ymlæä»¶ä¸­éè¿è®¾ç½®infoèç¹çä¿¡æ¯å°±å¯ä»¥å¿«ééç½®ç«¯ç¹ä¿¡æ¯\n   \n   info:\n     appName: @project.artifactId@\n     version: @project.version@\n     company: ä¼ æºæè²\n     author: itheima\n   \n   \n   éç½®å®æ¯åï¼å¯¹åºä¿¡æ¯æ¾ç¤ºå¨çæ§å¹³å°ä¸\n   \n   ä¹å¯ä»¥éè¿è¯·æ±ç«¯ç¹ä¿¡æ¯è·¯å¾è·åå¯¹åºjsonä¿¡æ¯\n\n * ç¼ç¨å½¢å¼\n   \n   éè¿éç½®çå½¢å¼åªè½æ·»å åºå®çæ°æ®ï¼å¦æéè¦å¨ææ°æ®è¿å¯ä»¥éè¿éç½®beançæ¹å¼ä¸ºinfoç«¯ç¹æ·»å ä¿¡æ¯ï¼æ­¤ä¿¡æ¯ä¸éç½®ä¿¡æ¯å±å­\n   \n   @Component\n   public class InfoConfig implements InfoContributor {\n       @Override\n       public void contribute(Info.Builder builder) {  // Builderå°±æ¯éé¢å åç§ä¿¡æ¯\n           builder.withDetail("runTime",System.currentTimeMillis());\t\t//æ·»å åä¸ªä¿¡æ¯\n           Map infoMap = new HashMap();\t\t\n           infoMap.put("buildTime","2006");\n           builder.withDetails(infoMap);\t\t\t\t\t\t\t\t\t//æ·»å ä¸ç»ä¿¡æ¯\n       }\n   }\n   \n\nHealthç«¯ç¹\n\nhealthç«¯ç¹æè¿°å½ååºç¨çè¿è¡å¥åº·ææ ï¼å³åºç¨çè¿è¡æ¯å¦æåãéè¿ç¼ç¨çå½¢å¼å¯ä»¥æ©å±ææ ä¿¡æ¯ã\n\n@Component\npublic class HealthConfig extends AbstractHealthIndicator {\n    @Override\n    protected void doHealthCheck(Health.Builder builder) throws Exception {\n        boolean condition = true;\n        if(condition) {\n            builder.status(Status.UP);\t\t\t\t\t//è®¾ç½®è¿è¡ç¶æä¸ºå¯å¨ç¶æ\n            builder.withDetail("runTime", System.currentTimeMillis());\n            Map infoMap = new HashMap();\n            infoMap.put("buildTime", "2006");\n            builder.withDetails(infoMap);\n        }else{\n            builder.status(Status.OUT_OF_SERVICE);\t\t//è®¾ç½®è¿è¡ç¶æä¸ºä¸å¨æå¡ç¶æ\n            builder.withDetail("ä¸çº¿äºåï¼","ä½ åæ¢¦");\n        }\n    }\n}\n\n\nå½ä»»æä¸ä¸ªç»ä»¶ç¶æä¸ä¸ºUPæ¶ï¼æ´ä½åºç¨å¯¹å¤æå¡ç¶æä¸ºéUPç¶æã\n\nMetricsç«¯ç¹\n\nmetricsç«¯ç¹æè¿°äºæ§è½ææ ï¼é¤äºç³»ç»èªå¸¦ççæ§æ§è½ææ ï¼è¿å¯ä»¥èªå®ä¹æ§è½ææ ã\n\n@Service\npublic class BookServiceImpl extends ServiceImpl<BookDao, Book> implements IBookService {\n    @Autowired\n    private BookDao bookDao;\n\n    private Counter counter;\n\n    public BookServiceImpl(MeterRegistry meterRegistry){\n        counter = meterRegistry.counter("ç¨æ·ä»è´¹æä½æ¬¡æ°ï¼");\n    }\n\n    @Override\n    public boolean delete(Integer id) {\n        //æ¯æ¬¡æ§è¡å é¤ä¸å¡ç­åäºæ§è¡äºä»è´¹ä¸å¡\n        counter.increment();\n        return bookDao.deleteById(id) > 0;\n    }\n}\n\n\nå¨æ§è½ææ ä¸­å°±åºç°äºèªå®ä¹çæ§è½ææ çæ§é¡¹\n\nèªå®ä¹ç«¯ç¹\n\nå¯ä»¥æ ¹æ®ä¸å¡éè¦èªå®ä¹ç«¯ç¹ï¼æ¹ä¾¿ä¸å¡çæ§\n\n@Component\n@Endpoint(id="pay",enableByDefault = true)\npublic class PayEndpoint {\n    @ReadOperation\n    public Object getPay(){\n        Map payMap = new HashMap();\n        payMap.put("level 1","300");\n        payMap.put("level 2","291");\n        payMap.put("level 3","666");\n        return payMap;\n    }\n}\n\n\nç±äºæ­¤ç«¯ç¹æ°æ®spirng boot adminæ æ³é¢ç¥è¯¥å¦ä½å±ç¤ºï¼æä»¥éè¿çé¢æ æ³çå°æ­¤æ°æ®ï¼éè¿HTTPè¯·æ±è·¯å¾å¯ä»¥è·åå°å½åç«¯ç¹çä¿¡æ¯ï¼ä½æ¯éè¦åå¼å¯å½åç«¯ç¹å¯¹å¤åè½ï¼æèè®¾ç½®å½åç«¯ç¹ä¸ºé»è®¤å¼åçç«¯ç¹ã\n\næ»ç»\n\n 1. ç«¯ç¹çææ å¯ä»¥èªå®ä¹ï¼ä½æ¯æ¯ç§ä¸åçææ æ ¹æ®å¶åè½ä¸åï¼èªå®ä¹æ¹å¼ä¸å\n 2. infoç«¯ç¹éè¿éç½®åç¼ç¨çæ¹å¼é½å¯ä»¥æ·»å ç«¯ç¹ææ \n 3. healthç«¯ç¹éè¿ç¼ç¨çæ¹å¼æ·»å ç«¯ç¹ææ ï¼éè¦æ³¨æè¦ä¸ºå¯¹åºææ æ·»å å¯å¨ç¶æçé»è¾è®¾å®\n 4. metricsææ éè¿å¨ä¸å¡ä¸­æ·»å çæ§æä½è®¾ç½®ææ \n 5. å¯ä»¥èªå®ä¹ç«¯ç¹æ·»å æ´å¤çææ \n\n\n# å¼åå®ç¨ç¯å®ç»\n\nå¼åå®ç¨ç¯å°è¿éå°±ææ¶å®ç»äºï¼å¨å¼åå®ç¨ç¯ä¸­æä»¬è®²è§£äºå¤§éçç¬¬ä¸æ¹ææ¯çæ´åæ¹æ¡ï¼éæ©çæ¹æ¡é½æ¯å¸é¢ä¸æ¯è¾æµè¡çå¸¸ç¨æ¹æ¡ï¼è¿æä¸äºå½åæµè¡åº¦è¾ä½çæ¹æ¡ç®åè¿æ²¡è®²ï¼çå°çªå¤ç¯ä¸­æ¢æ¢è®²å§ã\n\næ´ä½å¼åå®ç¨ç¯ä¸­è®²è§£çåå®¹å¯ä»¥åä¸ºä¸¤å¤§ç±»ç¥è¯ï¼å®ç¨æ§ç¥è¯ä¸ç»éªæ§ç¥è¯ã\n\nå®ç¨æ§ç¥è¯å°±æ¯æ°ç¥è¯äºï¼springbootæ´ååç§ææ¯ï¼æ¯ç§ææ¯æ´åä¸­é½æä¸äºç¹æ®æä½ï¼æ´ä½æ¥è¯´å¶å®å°±æ¯ä¸å¥è¯ãå åæ åéç½®è°æ¥å£ãç»éªæ§ç¥è¯æ¯å¯¹åé¢ä¸¤ç¯ä¸­åºç°çä¸äºç¥è¯çè¡¥åï¼å¨å­¦ä¹ åºç¡ç¯æ¶å¦æå°ç²¾åæ¾å¨è¿äºä¸è¥¿ä¸å°±æç¹å­¦åäºï¼å®¹æé»çè§å°ï¼æ¾å°å®ç¨å¼åç¯ä¸­ç»åå®éå¼åè¯´ä¸äºä¸å¸¸è§çä½æ¯å¯¹ç³»ç»åè½åå±å®³çæä½è§£å³æ¹æ¡ï¼æåçè§£ã\n\nå¼åå®ç¨ç¯åå°è¿éå°±åä¸æ®µè½ï¼ä¸é¢å°±è¦çæåå¤åçç¯äºãå¸é¢ä¸å¾å¤è¯¾ç¨åçç¯è®²çè¿äºé«æ·±è«æµï¼å¨æ°æè¿æ²¡æç½123çæ¶åå°±å¼å§è®²å¾®ç§¯åäºï¼çå®è®©äººçäºçæ¥ãè³äºåçç¯æè®²æä»ä¹æ ·å­ï¼ä¸èµ·æå¾å§ã',normalizedContent:'# springbootå¼åå®ç¨ç¯\n\næçå¿å¿çå¿æï¼å¼å§äºå¼åå®ç¨ç¯ææ¡£çç¼åãä¸ºä»ä¹å¿å¿ï¼ç¹åµçåºæ¬ çå¤ªå¤ï¼ä¸ç¥éä»ä½åèµ·ãåï¼ä¸ç½æäºï¼å¼å·¥ã\n\nè¿ç»´å®ç¨ç¯å®ç»ä»¥åï¼å¼åå®ç¨ç¯éç¨æ¥æ´æ°çå½¢å¼åå¸ç»åä½å°ä¼ä¼´ï¼åºæ¬ä¸æ¯æ¯å¤©ä¸éï¼ç®åå·²ç»åå¸å®æ¯ãçè¯è®ºåºï¼å¥½å¤å°ä¼ä¼´å¨æ±ææ¡£ï¼æä»¥èµ¶ç´§æ¥è¡¥ææ¡£ï¼å ç­å ç¹æå¼åå®ç¨ç¯çææ¡£å¨åºæ¥ã\n\nå¼åå®ç¨ç¯ä¸­å ä¸ºçµæ¯å°springbootæ´ååç§åæ ·çææ¯ï¼ç±äºä¸æ¯æ¯ä¸ªå°ä¼ä¼´å¯¹åç§ææ¯é½ææææ¡ï¼æä»¥å¨æ´åæ¯ä¸ä¸ªææ¯ä¹åï¼é½ä¼åä¸ä¸ªå¿«éçæ®åï¼è¿æ ·çè¯åå®¹æ´ä¸ªå¼åå®ç¨ç¯æåå«çåå®¹å°±ä¼æ¯è¾å¤ãåä½å°ä¼ä¼´å¨å­¦ä¹ çæ¶åï¼å¦æå¯¹æä¸ä¸ªææ¯ä¸æ¯å¾æ¸æ¥ï¼å¯ä»¥åè·³è¿å¯¹åºç« èï¼æèåè¡¥åä¸ä¸ææ¯ç¥è¯ï¼ç¶ååæ¥çå¯¹åºçè¯¾ç¨ãå¼åå®ç¨ç¯å·ä½åå«çåå®¹å¦ä¸ï¼\n\n * ç­é¨ç½²\n * éç½®é«çº§\n * æµè¯\n * æ°æ®å±è§£å³æ¹æ¡\n * æ´åç¬¬ä¸æ¹ææ¯\n * çæ§\n\nçç®å½æè§åå®¹éå¹¶ä¸æ¯å¾å¤§ï¼ä½æ¯å¨æ°æ®å±è§£å³æ¹æ¡åæ´åç¬¬ä¸æ¹ææ¯ä¸­åå«äºå¤§éçç¥è¯ï¼ä¸ç¹ä¸ç¹æ¢æ¢å­¦å§ãä¸é¢å¼å¯ç¬¬ä¸é¨åç­é¨ç½²ç¸å³ç¥è¯çå­¦ä¹ \n\n\n# kf-1.ç­é¨ç½²\n\nä»ä¹æ¯ç­é¨ç½²ï¼ç®åè¯´å°±æ¯ä½ ç¨åºæ¹äºï¼ç°å¨è¦éæ°å¯å¨æå¡å¨ï¼å«éº»ç¦ï¼ä¸ç¨éå¯ï¼æå¡å¨ä¼èªå·±ææçææ´æ°åçç¨åºç»éæ°å è½½ä¸éï¼è¿å°±æ¯ç­é¨ç½²ã\n\nç­é¨ç½²çåè½æ¯å¦ä½å®ç°çå¢ï¼è¿å°±è¦åä¸¤ç§æåµæ¥è¯´äºï¼éspringbootå·¥ç¨åspringbootå·¥ç¨çç­é¨ç½²å®ç°æ¹å¼å®å¨ä¸ä¸æ ·ãåè¯´ä¸ä¸åå§çéspringbooté¡¹ç®æ¯å¦ä½å®ç°ç­é¨ç½²çã\n\néspringbooté¡¹ç®ç­é¨ç½²å®ç°åç\n\nå¼åéspringbooté¡¹ç®æ¶ï¼æä»¬è¦å¶ä½ä¸ä¸ªwebå·¥ç¨å¹¶éè¿tomcatå¯å¨ï¼éå¸¸éè¦åå®è£tomcatæå¡å¨å°ç£çä¸­ï¼å¼åçç¨åºéç½®åå¸å°å®è£çtomcatæå¡å¨ä¸ãå¦ææ³å®ç°ç­é¨ç½²çææï¼è¿ç§æåµå¶å®æä¸¤ç§åæ³ï¼ä¸ç§æ¯å¨tomcatæå¡å¨çéç½®æä»¶ä¸­è¿è¡éç½®ï¼è¿ç§åæ³ä¸ä½ ä½¿ç¨ä»ä¹ideå·¥å·æ å³ï¼ä¸ç®¡ä½ ä½¿ç¨eclipseè¿æ¯ideaé½è¡ãè¿æä¸ç§åæ³æ¯éè¿ideå·¥å·è¿è¡éç½®ï¼æ¯å¦å¨ideaå·¥å·ä¸­è¿è¡è®¾ç½®ï¼è¿ç§å½¢å¼éè¦ä¾èµideå·¥å·ï¼æ¯æ¬¾ideå·¥å·ä¸åï¼å¯¹åºçéç½®ä¹ä¸å¤ªä¸æ ·ãä½æ¯æ ¸å¿ææ³æ¯ä¸æ ·çï¼å°±æ¯ä½¿ç¨æå¡å¨å»çæ§å¶ä¸­å è½½çåºç¨ï¼åç°äº§çäºååå°±éæ°å è½½ä¸æ¬¡ã\n\nä¸é¢æè¯´çéspringbooté¡¹ç®å®ç°ç­é¨ç½²çä¸å»æ¯ä¸ä¸ªéå¸¸ç®åçè¿ç¨ï¼å ä¹æ¯ä¸ªå°ä¼ä¼´é½è½èªå·±ååºæ¥ãå¦æä½ ä¸ä¼åï¼æç»ä½ ä¸ªæç®åçæè·¯ï¼ä½æ¯å®éè®¾è®¡è¦æ¯è¿å¤æä¸äºãä¾å¦å¯å¨ä¸ä¸ªå®æ¶ä»»å¡ï¼ä»»å¡å¯å¨æ¶è®°å½æ¯ä¸ªæä»¶çå¤§å°ï¼ä»¥åæ¯5ç§æ¯å¯¹ä¸ä¸æ¯ä¸ªæä»¶çå¤§å°æ¯å¦ææ¹åï¼æèæ¯å¦ææ°æä»¶ãå¦ææ²¡ææ¹åï¼æ¾è¡ï¼å¦æææ¹åï¼å·æ°å½åè®°å½çæä»¶ä¿¡æ¯ï¼ç¶åéæ°å¯å¨æå¡å¨ï¼è¿å°±å¯ä»¥å®ç°ç­é¨ç½²äºãå½ç¶ï¼è¿ä¸ªè¿ç¨è¯å®ä¸è½è¿ä¹åï¼æ¯å¦ææä¸ä¸ªæå°è¾åºçå­ç¬¦ä¸²"abc"æ¹æ"cba"ï¼æ¯å¯¹å¤§å°æ¯æ²¡æååçï¼ä½æ¯åå®¹ç¼ºå®åäºï¼æä»¥è¿ä¹åè¯å®ä¸è¡ï¼åªæ¯ç»å¤§å®¶æä¸ªæ¯æ¹ï¼èä¸éå¯æå¡å¨è¿å°±æ¯å·å¯å¨äºï¼ä¸è½ç®ç­é¨ç½²ï¼é¢ä¼ç²¾ç¥å§ã\n\nçä¸å»è¿ä¸ªè¿ç¨ä¹æ²¡å¤å¤æï¼å¨springbooté¡¹ç®ä¸­é¾éè¿æå¶ä»çå¼¯å¼¯ç»åï¼è¿çæã\n\nspringbooté¡¹ç®ç­é¨ç½²å®ç°åç\n\nåºäºspringbootå¼åçwebå·¥ç¨å¶å®æä¸ä¸ªæ¾èçç¹å¾ï¼å°±æ¯tomcatæå¡å¨åç½®äºï¼è¿è®°å¾ååµæå¡å¨åï¼æå¡å¨æ¯ä»¥ä¸ä¸ªå¯¹è±¡çå½¢å¼å¨springå®¹å¨ä¸­è¿è¡çãæ¬æ¥æä»¬ææäºtomcatæå¡å¨å è½½ç¨åºåç±tomcatæå¡å¨ç¯çç¨åºï¼ä½ åååæå°±éæ°å¯å¨éæ°å è½½ï¼ä½æ¯ç°å¨tomcatåæä»¬çç¨åºæ¯å¹³çº§çäºï¼é½æ¯springå®¹å¨ä¸­çç»ä»¶ï¼è¿ä¸å°±éº»ç¦äºï¼ç¼ºä¹äºä¸ä¸ªç´æ¥çç®¡çæï¼é£è¯¥æä¹åå¢ï¼ç®åï¼åæä¸ä¸ªç¨åºxå¨springå®¹å¨ä¸­ç¯çä½ åå§å¼åçç¨åºaä¸å°±è¡äºåï¼ç¡®å®ï¼æä¸ä¸ªç¯çç¨åºaçç¨åºxå°±è¡äºï¼å¦æä½ èªå·±å¼åçç¨åºaååäºï¼é£ä¹ç¨åºxå°±å½ä»¤tomcatå®¹å¨éæ°å è½½ç¨åºaå°±okäºãå¹¶ä¸è¿æ ·åæä¸ä¸ªå¥½å¤ï¼springå®¹å¨ä¸­ä¸è¥¿ä¸ç¨å¨é¨éæ°å è½½ä¸éï¼åªéè¦éæ°å è½½ä½ å¼åçç¨åºé£ä¸é¨åå°±å¯ä»¥äºï¼è¿ä¸æçåé«äºï¼æºå¥½ã\n\nä¸é¢å°±è¯´è¯´ï¼æä¹æåºæ¥è¿ä¹ä¸ä¸ªç¨åºxï¼è¯å®ä¸æ¯æä»¬èªå·±æåäºï¼springbootæ©å°±åå¥½äºï¼æä¸ä¸ªåæ å¯¼å¥è¿å»å°±è¡äºã\n\n\n# kf-1-1.æå¨å¯å¨ç­é¨ç½²\n\næ­¥éª¤â ï¼å¯¼å¥å¼åèå·¥å·å¯¹åºçåæ \n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-devtools</artifactid>\n    <optional>true</optional>\n</dependency>\n\n\næ­¥éª¤â¡ï¼æå»ºé¡¹ç®ï¼å¯ä»¥ä½¿ç¨å¿«æ·é®æ¿æ´»æ­¤åè½\n\n\n\nå¯¹åºçå¿«æ·é®ä¸å®è¦è®°å¾\n\n<ctrl>+<f9>\n\n\nä»¥ä¸è¿ç¨å°±å®ç°äºspringbootå·¥ç¨çç­é¨ç½²ï¼æ¯ä¸æ¯æºç®åçãä¸è¿è¿ééè¦æåºå±çå·¥ä½å·¥ç¨ç»æ®åä¸ä¸ã\n\néå¯ä¸éè½½\n\nä¸ä¸ªspringbooté¡¹ç®å¨è¿è¡æ¶å®éä¸æ¯åä¸¤ä¸ªè¿ç¨è¿è¡çï¼æ ¹æ®å è½½çä¸è¥¿ä¸åï¼ååæbaseç±»å è½½å¨ä¸restartç±»å è½½å¨ã\n\n * baseç±»å è½½å¨ï¼ç¨æ¥å è½½jaråä¸­çç±»ï¼jaråä¸­çç±»åéç½®æä»¶ç±äºä¸ä¼åçååï¼å æ­¤ä¸ç®¡å è½½å¤å°æ¬¡ï¼å è½½çåå®¹ä¸ä¼åçåå\n * restartç±»å è½½å¨ï¼ç¨æ¥å è½½å¼åèèªå·±å¼åçç±»ãéç½®æä»¶ãé¡µé¢ç­ä¿¡æ¯ï¼è¿ä¸ç±»æä»¶åå¼åèå½±å\n\nå½springbooté¡¹ç®å¯å¨æ¶ï¼baseç±»å è½½å¨æ§è¡ï¼å è½½jaråä¸­çä¿¡æ¯åï¼restartç±»å è½½å¨æ§è¡ï¼å è½½å¼åèå¶ä½çåå®¹ãå½æ§è¡æå»ºé¡¹ç®åï¼ç±äºjarä¸­çä¿¡æ¯ä¸ä¼ååï¼å æ­¤baseç±»å è½½å¨æ éåæ¬¡æ§è¡ï¼æä»¥ä»ä»è¿è¡restartç±»å è½½å³å¯ï¼ä¹å°±æ¯å°å¼åèèªå·±å¶ä½çåå®¹éæ°å è½½å°±è¡äºï¼è¿å°±å®æäºä¸æ¬¡ç­é¨ç½²çè¿ç¨ï¼ä¹å¯ä»¥è¯´ç­é¨ç½²çè¿ç¨å®éä¸æ¯éæ°å è½½restartç±»å è½½å¨ä¸­çä¿¡æ¯ã\n\næ»ç»\n\n 1. ä½¿ç¨å¼åèå·¥å·å¯ä»¥ä¸ºå½åé¡¹ç®å¼å¯ç­é¨ç½²åè½\n 2. ä½¿ç¨æå»ºé¡¹ç®æä½å¯¹å·¥ç¨è¿è¡ç­é¨ç½²\n\næè\n\nä¸è¿°è¿ç¨æ¯æ¬¡è¿è¡ç­é¨ç½²é½éè¦å¼åèæå·¥æä½ï¼ä¸ç®¡æ¯ç¹å»æé®è¿æ¯å¿«æ·é®é½éè¦å¼åèæå·¥æ§è¡ãè¿ç§æä½çåºç¨åºæ¯ä¸»è¦æ¯å¨å¼åè°è¯æï¼å¹¶ä¸è°è¯çä»£ç å¤äºä¸åçæä»¶ä¸­ï¼æ¯å¦æå¡å¨å¯å¨äºï¼æéè¦æ¹4ä¸ªæä»¶ä¸­çåå®¹ï¼ç¶åéå¯ï¼ç­4ä¸ªæä»¶é½æ¹å®äºåæ§è¡ç­é¨ç½²ï¼ä½¿ç¨ä¸ä¸ªå¿«æ·é®å°±okäºãä½æ¯å¦æç°å¨å¼åèè¦ä¿®æ¹çåå®¹å°±åªæä¸ä¸ªæä»¶ä¸­çå°éä»£ç ï¼è¿ä¸ªæ¶åä»£ç ä¿®æ¹å®æ¯å¦æè½å¤è®©ç¨åºèªå·±æ§è¡ç­é¨ç½²åè½ï¼å°±å¯ä»¥åå°å¼åèçæä½ï¼ä¹å°±æ¯èªå¨è¿è¡ç­é¨ç½²ï¼è½è¿ä¹ååï¼æ¯å¯ä»¥çãå±ä»¬ä¸ä¸èåè¯´ã\n\n\n\n\n# kf-1-2.èªå¨å¯å¨ç­é¨ç½²\n\nèªå¨ç­é¨ç½²å¶å®å°±æ¯è®¾è®¡ä¸ä¸ªå¼å³ï¼æå¼è¿ä¸ªå¼å³åï¼ideå·¥å·å°±å¯ä»¥èªå¨ç­é¨ç½²ãå æ­¤è¿ä¸ªæä½åideå·¥å·æå³ï¼ä»¥ä¸ä»¥ideaä¸ºä¾è®¾ç½®ideaä¸­å¯å¨ç­é¨ç½²\n\næ­¥éª¤â ï¼è®¾ç½®èªå¨æå»ºé¡¹ç®\n\næå¼ãfileãï¼éæ©ãsettings...ã,å¨é¢æ¿å·¦ä¾§çèåä¸­æ¾å°ãcompileãéé¡¹ï¼ç¶åå¾éãbuild project automaticallyãï¼æææ¯èªå¨æå»ºé¡¹ç®\n\n\n\nèªå¨æå»ºé¡¹ç®éé¡¹å¾éå\n\næ­¥éª¤â¡ï¼åè®¸å¨ç¨åºè¿è¡æ¶è¿è¡èªå¨æå»º\n\nä½¿ç¨å¿«æ·é®ãctrlã+ãaltã+ãshitã+ã/ãæå¼ç»´æ¤é¢æ¿ï¼éæ©ç¬¬1é¡¹ãregistry...ã\n\n\n\nå¨éé¡¹ä¸­æç´¢compleï¼ç¶åå¾éå¯¹åºé¡¹å³å¯\n\nè¿æ ·ç¨åºå¨è¿è¡çæ¶åå°±å¯ä»¥è¿è¡èªå¨æå»ºäºï¼å®ç°äºç­é¨ç½²çææã\n\nå³æ³¨ï¼å¦æä½ æ¯æ²ä¸ä¸ªå­æ¯ï¼æå¡å¨å°±éæ°æå»ºä¸æ¬¡ï¼è¿æªåæç¹å¤ªé¢ç¹äºï¼æä»¥ideaè®¾ç½®å½ideaå·¥å·å¤±å»ç¦ç¹(é¼ æ ç¦»å¼)5ç§åè¿è¡ç­é¨ç½²ãå¶å®å°±æ¯ä½ ä»ideaå·¥å·ä¸­åæ¢å°å¶ä»å·¥å·æ¶è¿è¡ç­é¨ç½²ï¼æ¯å¦æ¹å®ç¨åºéè¦å°æµè§å¨ä¸å»è°è¯ï¼è¿ä¸ªæ¶åideaå°±èªå¨è¿è¡ç­é¨ç½²æä½ã\n\næ»ç»\n\n 1. èªå¨ç­é¨ç½²è¦å¼å¯èªå¨æå»ºé¡¹ç®\n 2. èªå¨ç­é¨ç½²è¦å¼å¯å¨ç¨åºè¿è¡æ¶èªå¨æå»ºé¡¹ç®\n\næè\n\nç°å¨å·²ç»å®ç°äºç­é¨ç½²äºï¼ä½æ¯å°ä¼ä¸å¼åçæ¶åä½ ä¼åç°ï¼ä¸ºäºä¾¿äºç®¡çï¼å¨ä½ çç¨åºç®å½ä¸­é¤äºæä»£ç ï¼è¿æå¯è½æææ¡£ï¼å¦æä½ ä¿®æ¹äºä¸ä¸ææ¡£ï¼è¿ä¸ªæ¶åä¼è¿è¡ç­é¨ç½²åï¼ä¸ç®¡æ¯å¦è¿è¡ç­é¨ç½²ï¼è¿ä¸ªè¿ç¨æä»¬éè¦èªå·±æ§å¶ææ¯è¾åçï¼é£è¿ä¸ªä¸è¥¿è½æ§å¶åï¼å±ä»¬ä¸ä¸èåè¯´ã\n\n\n# kf-1-3.åä¸ç­é¨ç½²çæ§çæä»¶èå´éç½®\n\néè¿ä¿®æ¹é¡¹ç®ä¸­çæä»¶ï¼ä½ å¯ä»¥åç°å¶å®å¹¶ä¸æ¯ææçæä»¶ä¿®æ¹é½ä¼æ¿æ´»ç­é¨ç½²çï¼åå å¨äºå¨å¼åèå·¥å·ä¸­æä¸ç»éç½®ï¼å½æ»¡è¶³äºéç½®ä¸­çæ¡ä»¶åï¼æä¼å¯å¨ç­é¨ç½²ï¼éç½®ä¸­é»è®¤ä¸åä¸ç­é¨ç½²çç®å½ä¿¡æ¯å¦ä¸\n\n * /meta-inf/maven\n * /meta-inf/resources\n * /resources\n * /static\n * /public\n * /templates\n\nä»¥ä¸ç®å½ä¸­çæä»¶å¦æåçååï¼æ¯ä¸åä¸ç­é¨ç½²çãå¦ææ³ä¿®æ¹éç½®ï¼å¯ä»¥éè¿application.ymlæä»¶è¿è¡è®¾å®åªäºæä»¶ä¸åä¸ç­é¨ç½²æä½\n\nspring:\n  devtools:\n    restart:\n      # è®¾ç½®ä¸åä¸ç­é¨ç½²çæä»¶ææä»¶å¤¹\n      exclude: static/**,public/**,config/application.yml\n\n\næ»ç»\n\n 1. éè¿éç½®å¯ä»¥ä¿®æ¹ä¸åä¸ç­é¨ç½²çæä»¶æç®å½\n\næè\n\nç­é¨ç½²åè½æ¯ä¸ä¸ªå¸åçå¼åé¶æ®µä½¿ç¨çåè½ï¼å°äºçº¿ä¸ç¯å¢è¿è¡ç¨åºæ¶ï¼è¿ä¸ªåè½å°±æ²¡ææä¹äºãè½å¦å³é­ç­é¨ç½²åè½å¢ï¼å±ä»¬ä¸ä¸èåè¯´ã\n\n\n# kf-1-4.å³é­ç­é¨ç½²\n\nçº¿ä¸ç¯å¢è¿è¡æ¶æ¯ä¸å¯è½ä½¿ç¨ç­é¨ç½²åè½çï¼æä»¥éè¦å¼ºå¶å³é­æ­¤åè½ï¼éè¿éç½®å¯ä»¥å³é­æ­¤åè½ã\n\nspring:\n  devtools:\n    restart:\n      enabled: false\n\n\nå¦æå½å¿éç½®æä»¶å±çº§è¿å¤å¯¼è´ç¸ç¬¦è¦çæç»å¼èµ·éç½®å¤±æï¼å¯ä»¥æé«éç½®çå±çº§ï¼å¨æ´é«å±çº§ä¸­éç½®å³é­ç­é¨ç½²ãä¾å¦å¨å¯å¨å®¹å¨åéè¿ç³»ç»å±æ§è®¾ç½®å³é­ç­é¨ç½²åè½ã\n\n@springbootapplication\npublic class ssmpapplication {\n    public static void main(string[] args) {\n        system.setproperty("spring.devtools.restart.enabled","false");\n        springapplication.run(ssmpapplication.class);\n    }\n}\n\n\nå¶å®ä¸è¿°æå¿ç¥å¾®æç¹å¤ä½ï¼å ä¸ºçº¿ä¸ç¯å¢çç»´æ¤æ¯ä¸å¯è½åºç°ä¿®æ¹ä»£ç çæä½çï¼è¿ä¹åå¯ä¸çä½ç¨æ¯éä½èµæºæ¶èï¼æ¯ç«é£åç¯çä½ é¡¹ç®æ¯ä¸æ¯äº§çååçç¼çåªè¦é­ä¸äºï¼å°±ä¸å·æç­é¨ç½²åè½äºï¼è¿ä¸ªå¼å³çä½ç¨å°±æ¯ç¦ç¨å¯¹åºåè½ã\n\næ»ç»\n\n 1. éè¿éç½®å¯ä»¥å³é­ç­é¨ç½²åè½éä½çº¿ä¸ç¨åºçèµæºæ¶è\n\n\n# kf-2.éç½®é«çº§\n\nè¿å¥å¼åå®ç¨ç¯ç¬¬äºç« åå®¹ï¼éç½®é«çº§ï¼å¶å®éç½®å¨åºç¡ç¯è®²äºä¸é¨åï¼å¨è¿ç»´å®ç¨ç¯è®²äºä¸é¨åï¼è¿éè¿è¦è®²ï¼è®²çä¸è¥¿æä»ä¹åºå«å¢ï¼è·ç¦»å¼åè¿ç¨è¶æ¥è¶æ¥è¿ï¼è§£å³çé®é¢ä¹è¶æ¥è¶é è¿çº¿ä¸ç¯å¢ï¼ä¸é¢å°±å¼å¯æ¬ç« çå­¦ä¹ ã\n\n\n# kf-2-1.@configurationproperties\n\nå¨åºç¡ç¯å­¦ä¹ äº@configurationpropertiesæ³¨è§£ï¼æ­¤æ³¨è§£çä½ç¨æ¯ç¨æ¥ä¸ºbeanç»å®å±æ§çãå¼åèå¯ä»¥å¨ymléç½®æä»¶ä¸­ä»¥å¯¹è±¡çæ ¼å¼æ·»å è¥å¹²å±æ§\n\nservers:\n  ip-address: 192.168.0.1 \n  port: 2345\n  timeout: -1\n\n\nç¶ååå¼åä¸ä¸ªç¨æ¥å°è£æ°æ®çå®ä½ç±»ï¼æ³¨æè¦æä¾å±æ§å¯¹åºçsetteræ¹æ³\n\n@component\n@data\npublic class serverconfig {\n    private string ipaddress;\n    private int port;\n    private long timeout;\n}\n\n\nä½¿ç¨@configurationpropertiesæ³¨è§£å°±å¯ä»¥å°éç½®ä¸­çå±æ§å¼å³èå°å¼åçæ¨¡åç±»ä¸\n\n@component\n@data\n@configurationproperties(prefix = "servers")\npublic class serverconfig {\n    private string ipaddress;\n    private int port;\n    private long timeout;\n}\n\n\nè¿æ ·å è½½å¯¹åºbeançæ¶åå°±å¯ä»¥ç´æ¥å è½½éç½®å±æ§å¼äºãä½æ¯ç®åæä»¬å­¦çé½æ¯ç»èªå®ä¹çbeanä½¿ç¨è¿ç§å½¢å¼å è½½å±æ§å¼ï¼å¦ææ¯ç¬¬ä¸æ¹çbeanå¢ï¼è½ä¸è½ç¨è¿ç§å½¢å¼å è½½å±æ§å¼å¢ï¼ä¸ºä»ä¹ä¼æåºè¿ä¸ªçé®ï¼åå å°±å¨äºå½å@configurationpropertiesæ³¨è§£æ¯åå¨ç±»å®ä¹çä¸æ¹ï¼èç¬¬ä¸æ¹å¼åçbeanæºä»£ç ä¸æ¯ä½ èªå·±ä¹¦åçï¼ä½ ä¹ä¸å¯è½å°æºä»£ç ä¸­å»æ·»å @configurationpropertiesæ³¨è§£ï¼è¿ç§é®é¢è¯¥æä¹è§£å³å¢ï¼ä¸é¢å°±æ¥è¯´è¯´è¿ä¸ªé®é¢ã\n\nä½¿ç¨@configurationpropertiesæ³¨è§£å¶å®å¯ä»¥ä¸ºç¬¬ä¸æ¹beanå è½½å±æ§ï¼æ ¼å¼ç¹æ®ä¸ç¹èå·²ã\n\næ­¥éª¤â ï¼ä½¿ç¨@beanæ³¨è§£å®ä¹ç¬¬ä¸æ¹bean\n\n@bean\npublic druiddatasource datasource(){\n    druiddatasource ds = new druiddatasource();\n    return ds;\n}\n\n\næ­¥éª¤â¡ï¼å¨ymlä¸­å®ä¹è¦ç»å®çå±æ§ï¼æ³¨ædatasourceæ­¤æ¶å¨å°å\n\ndriverclassnameç¨äºæå®driverclassnameå±æ§\n\ndatasource:\n  driverclassname: com.mysql.jdbc.driver\n\n\næ­¥éª¤â¢ï¼ä½¿ç¨@configurationpropertiesæ³¨è§£ä¸ºç¬¬ä¸æ¹beanè¿è¡å±æ§ç»å®ï¼æ³¨æåç¼æ¯å¨å°åçdatasource\n\n@bean\n@configurationproperties(prefix = "datasource")\npublic druiddatasource datasource(){\n    druiddatasource ds = new druiddatasource();\n    return ds;\n}\n\n\næä½æ¹å¼å®å¨ä¸æ ·ï¼åªä¸è¿@configurationpropertiesæ³¨è§£ä¸ä»è½æ·»å å°ç±»ä¸ï¼è¿å¯ä»¥æ·»å å°æ¹æ³ä¸ï¼æ·»å å°ç±»ä¸æ¯ä¸ºspringå®¹å¨ç®¡ççå½åç±»çå¯¹è±¡ç»å®å±æ§ï¼æ·»å å°æ¹æ³ä¸æ¯ä¸ºspringå®¹å¨ç®¡ççå½åæ¹æ³çè¿åå¼å¯¹è±¡ç»å®å±æ§ï¼å¶å®æ¬è´¨ä¸é½ä¸æ ·ã\n\nåå°è¿å¶å®å°±åºç°äºä¸ä¸ªæ°çé®é¢ï¼ç®åæä»¬å®ä¹beanä¸æ¯éè¿ç±»æ³¨è§£å®ä¹å°±æ¯éè¿@beanå®ä¹ï¼ä½¿ç¨@configurationpropertiesæ³¨è§£å¯ä»¥ä¸ºbeanè¿è¡å±æ§ç»å®ï¼é£å¨ä¸ä¸ªä¸å¡ç³»ç»ä¸­ï¼åªäºbeanéè¿æ³¨è§£@configurationpropertieså»ç»å®å±æ§äºå¢ï¼å ä¸ºè¿ä¸ªæ³¨è§£ä¸ä»å¯ä»¥åå¨ç±»ä¸ï¼è¿å¯ä»¥åå¨æ¹æ³ä¸ï¼æä»¥æ¾èµ·æ¥å°±æ¯è¾éº»ç¦äºãä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼springç»æä»¬æä¾äºä¸ä¸ªå¨æ°çæ³¨è§£ï¼ä¸é¨æ æ³¨ä½¿ç¨@configurationpropertiesæ³¨è§£ç»å®å±æ§çbeanæ¯åªäºãè¿ä¸ªæ³¨è§£å«å@enableconfigurationpropertiesãå·ä½å¦ä½ä½¿ç¨å¢ï¼\n\næ­¥éª¤â ï¼å¨éç½®ç±»ä¸å¼å¯@enableconfigurationpropertiesæ³¨è§£ï¼å¹¶æ æ³¨è¦ä½¿ç¨@configurationpropertiesæ³¨è§£ç»å®å±æ§çç±»\n\n@springbootapplication\n@enableconfigurationproperties(serverconfig.class)\npublic class springboot13configurationapplication {\n}\n\n\næ­¥éª¤â¡ï¼å¨å¯¹åºçç±»ä¸ç´æ¥ä½¿ç¨@configurationpropertiesè¿è¡å±æ§ç»å®\n\n@data\n@configurationproperties(prefix = "servers")\npublic class serverconfig {\n    private string ipaddress;\n    private int port;\n    private long timeout;\n}\n\n\næäººæè§è¿æ²¡åºå«åï¼æ³¨æè§å¯ï¼ç°å¨ç»å®å±æ§çserverconfigç±»å¹¶æ²¡æå£°æ@componentæ³¨è§£ãå½ä½¿ç¨@enableconfigurationpropertiesæ³¨è§£æ¶ï¼springä¼é»è®¤å°å¶æ æ³¨çç±»å®ä¹ä¸ºbeanï¼å æ­¤æ éåæ¬¡å£°æ@componentæ³¨è§£äºã\n\næååè¯´ä¸ä¸ªå°æå·§ï¼ä½¿ç¨@configurationpropertiesæ³¨è§£æ¶ï¼ä¼åºç°ä¸ä¸ªæç¤ºä¿¡æ¯\n\n\n\nåºç°è¿ä¸ªæç¤ºååªéè¦æ·»å ä¸ä¸ªåæ æ­¤æéå°±æ¶å¤±äº\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-configuration-processor</artifactid>\n</dependency>\n\n\næ»ç»\n\n 1. ä½¿ç¨@configurationpropertieså¯ä»¥ä¸ºä½¿ç¨@beanå£°æçç¬¬ä¸æ¹beanç»å®å±æ§\n 2. å½ä½¿ç¨@enableconfigurationpropertieså£°æè¿è¡å±æ§ç»å®çbeanåï¼æ éä½¿ç¨@componentæ³¨è§£åæ¬¡è¿è¡beanå£°æ\n\n\n# kf-2-2.å®½æ¾ç»å®/æ¾æ£ç»å®\n\nå¨è¿è¡å±æ§ç»å®æ¶ï¼å¯è½ä¼éå°å¦ä¸æåµï¼ä¸ºäºè¿è¡æ åå½åï¼å¼åèä¼å°å±æ§åä¸¥æ ¼æç§é©¼å³°å½åæ³ä¹¦åï¼å¨ymléç½®æä»¶ä¸­å°datasourceä¿®æ¹ä¸ºdatasourceï¼å¦ä¸ï¼\n\ndatasource:\n  driverclassname: com.mysql.jdbc.driver\n\n\næ­¤æ¶ç¨åºå¯ä»¥æ­£å¸¸è¿è¡ï¼ç¶ååå°ä»£ç ä¸­çåç¼datasourceä¿®æ¹ä¸ºdatasourceï¼å¦ä¸ï¼\n\n@bean\n@configurationproperties(prefix = "datasource")\npublic druiddatasource datasource(){\n    druiddatasource ds = new druiddatasource();\n    return ds;\n}\n\n\næ­¤æ¶å°±åçäºç¼è¯éè¯¯ï¼èä¸å¹¶ä¸æ¯ideaå·¥å·å¯¼è´çï¼è¿è¡åä¾ç¶ä¼åºç°é®é¢ï¼éç½®å±æ§ådatasourceæ¯æ æç\n\nconfiguration property name \'datasource\' is not valid:\n\n    invalid characters: \'s\'\n    bean: datasource\n    reason: canonical names should be kebab-case (\'-\' separated), lowercase alpha-numeric characters and must start with a letter\n\naction:\nmodify \'datasource\' so that it conforms to the canonical names requirements.\n\n\nä¸ºä»ä¹ä¼åºç°è¿ç§é®é¢ï¼è¿å°±è¦æ¥è¯´ä¸è¯´springbootè¿è¡å±æ§ç»å®æ¶çä¸ä¸ªéè¦ç¥è¯ç¹äºï¼æå³å±æ§åç§°çå®½æ¾ç»å®ï¼ä¹å¯ä»¥ç§°ä¸ºå®½æ¾ç»å®ã\n\nä»ä¹æ¯å®½æ¾ç»å®ï¼å®éä¸æ¯springbootè¿è¡ç¼ç¨æ¶äººæ§åè®¾è®¡çä¸ç§ä½ç°ï¼å³éç½®æä»¶ä¸­çå½åæ ¼å¼ä¸åéåçå½åæ ¼å¼å¯ä»¥è¿è¡æ ¼å¼ä¸çæå¤§åå¼å®¹ãå¼å®¹å°ä»ä¹ç¨åº¦å¢ï¼å ä¹ä¸»æµçå½åæ ¼å¼é½æ¯æï¼ä¾å¦ï¼\n\nå¨serverconfigä¸­çipaddresså±æ§å\n\n@component\n@data\n@configurationproperties(prefix = "servers")\npublic class serverconfig {\n    private string ipaddress;\n}\n\n\nå¯ä»¥ä¸ä¸é¢çéç½®å±æ§åè§åå¨å¼å®¹\n\nservers:\n  ipaddress: 192.168.0.2       # é©¼å³°æ¨¡å¼\n  ip_address: 192.168.0.2      # ä¸åçº¿æ¨¡å¼\n  ip-address: 192.168.0.2      # ç¤èä¸²æ¨¡å¼\n  ip_address: 192.168.0.2      # å¸¸éæ¨¡å¼\n\n\nä¹å¯ä»¥è¯´ï¼ä»¥ä¸4ç§æ¨¡å¼æç»é½å¯ä»¥å¹éå°ipaddressè¿ä¸ªå±æ§åãä¸ºä»ä¹è¿æ ·å¢ï¼åå å°±æ¯å¨è¿è¡å¹éæ¶ï¼éç½®ä¸­çåç§°è¦å»æä¸­åçº¿åä¸åçº¿åï¼å¿½ç¥å¤§å°åçæåµä¸å»ä¸javaä»£ç ä¸­çå±æ§åè¿è¡å¿½ç¥å¤§å°åçç­å¼å¹éï¼ä»¥ä¸4ç§å½åå»æä¸åçº¿ä¸­åçº¿å¿½ç¥å¤§å°ååé½æ¯ä¸ä¸ªè¯ipaddressï¼javaä»£ç ä¸­çå±æ§åå¿½ç¥å¤§å°ååä¹æ¯ipaddressï¼è¿æ ·å°±å¯ä»¥è¿è¡ç­å¼å¹éäºï¼è¿å°±æ¯ä¸ºä»ä¹è¿4ç§æ ¼å¼é½è½å¹éæåçåå ãä¸è¿springbootå®æ¹æ¨èä½¿ç¨ç¤èä¸²æ¨¡å¼ï¼ä¹å°±æ¯ä¸­åçº¿æ¨¡å¼ã\n\nå°è¿éæä»¬ææ¡äºä¸ä¸ªç¥è¯ç¹ï¼å°±æ¯å½åçè§èé®é¢ãåæ¥çå¼å§åºç°çç¼ç¨éè¯¯ä¿¡æ¯\n\nconfiguration property name \'datasource\' is not valid:\n\n    invalid characters: \'s\'\n    bean: datasource\n    reason: canonical names should be kebab-case (\'-\' separated), lowercase alpha-numeric characters and must start with a letter\n\naction:\nmodify \'datasource\' so that it conforms to the canonical names requirements.\n\n\nå¶ä¸­reasonæè¿°äºæ¥éçåå ï¼è§èçåç§°åºè¯¥æ¯ç¤èä¸²(kebab)æ¨¡å¼(case)ï¼å³ä½¿ç¨-åéï¼ä½¿ç¨å°åå­æ¯æ°å­ä½ä¸ºæ åå­ç¬¦ï¼ä¸å¿é¡»ä»¥å­æ¯å¼å¤´ï¼ç»å®åç¼åå½åè§èï¼ä»è½ä½¿ç¨çº¯å°åå­å¹ãæ°å­ãä¸åçº¿ä½ä¸ºåæ³å­ç¬¦ï¼åå±æ§åç»å®ä¸ä¸æ ·ï¼è¿æ¯ä¸ºäºé¿åéè¯¯å¹²èå¨é¨å°åå§ï¼ãç¶ååçæä»¬åçåç§°datasourceï¼å°±ä¸æ»¡è¶³ä¸è¿°è¦æ±ãé¹äºåå¤©ï¼å¨ä¹¦ååç¼æ¶ï¼è¿ä¸ªè¯ä¸æ¯éææ¯æçï¼å¿é¡»ä½¿ç¨ä¸è¿°æ åãç¼ç¨åäºè¿ä¹ä¹ï¼åºæ¬ä¸ç¼ç¨ä¹ æ¯é½å»æäºï¼å°è¿éåè¢«springbootæè²äºï¼æ²¡è¾ï¼è°è®©äººå®¶ä¸è¥¿å¥½ç¨å¢ï¼æç§äººå®¶çè¦æ±åå§ã\n\næåè¯´ä¸å¥ï¼ä»¥ä¸è§åä»éå¯¹springbootä¸­@configurationpropertiesæ³¨è§£è¿è¡å±æ§ç»å®æ¶ææï¼å¯¹@valueæ³¨è§£è¿è¡å±æ§æ å°æ æ ãæäººå°±è¯´ï¼é£æä¸ç¨ä½ ä¸å°±è¡äºï¼ä¸ç¨ï¼ä½ å°çspringbootçæ¨å¹¿è½åäºï¼å°åçç¯æä»¬çæºç æ¶ï¼ä½ ä¼åç°åé¨å¨æ¯è¿ç©æå¿ï¼ç®äºï¼æ¿äººæç­åäººå´ç­ï¼è®¤æå§ã\n\næ»ç»\n\n 1. @configurationpropertiesç»å®å±æ§æ¶æ¯æå±æ§åå®½æ¾ç»å®ï¼è¿ä¸ªå®½æ¾ä½ç°å¨å±æ§åçå½åè§åä¸\n 2. @valueæ³¨è§£ä¸æ¯ææ¾æ£ç»å®è§å\n 3. ç»å®åç¼åæ¨èéç¨ç¤èä¸²å½åè§åï¼å³ä½¿ç¨ä¸­åçº¿ååéç¬¦\n\n\n# kf-2-3.å¸¸ç¨è®¡éåä½ç»å®\n\nå¨åé¢çéç½®ä¸­ï¼æä»¬ä¹¦åäºå¦ä¸éç½®å¼ï¼å¶ä¸­ç¬¬ä¸é¡¹è¶æ¶æ¶é´timeoutæè¿°äºæå¡å¨æä½è¶æ¶æ¶é´ï¼å½åå¼æ¯-1è¡¨ç¤ºæ°¸ä¸è¶æ¶ã\n\nservers:\n  ip-address: 192.168.0.1 \n  port: 2345\n  timeout: -1\n\n\nä½æ¯æ¯ä¸ªäººé½è¿ä¸ªå¼ççè§£ä¼äº§çä¸åï¼æ¯å¦çº¿ä¸æå¡å¨å®æä¸æ¬¡ä¸»ä»å¤ä»½ï¼éç½®è¶æ¶æ¶é´240ï¼è¿ä¸ª240å¦æåä½æ¯ç§å°±æ¯è¶æ¶æ¶é´4åéï¼å¦æåä½æ¯åéå°±æ¯è¶æ¶æ¶é´4å°æ¶ãé¢å¯¹ä¸æ¬¡çº¿ä¸æå¡å¨çä¸»ä»å¤ä»½ï¼è®¾ç½®4åéï¼ç®ç´æ¯å¼ç©ç¬ï¼å«è¯´æ·è´è¿ç¨ï¼å¤ä»½ä¹åçåç¼©è¿ç¨4åéä¹æä¸å®ï¼è¿ä¸ªæ¶åé®é¢å°±æ¥äºï¼æä¹è§£å³è¿ä¸ªè¯¯ä¼ï¼\n\né¤äºå å¼ºçº¦å®ä¹å¤ï¼springbootååå©ç¨äºjdk8ä¸­æä¾çå¨æ°çç¨æ¥è¡¨ç¤ºè®¡éåä½çæ°æ°æ®ç±»åï¼ä»æ ¹æ¬ä¸è§£å³è¿ä¸ªé®é¢ãä»¥ä¸æ¨¡åç±»ä¸­æ·»å äºä¸¤ä¸ªjdk8ä¸­æ°å¢çç±»ï¼åå«æ¯durationådatasize\n\n@component\n@data\n@configurationproperties(prefix = "servers")\npublic class serverconfig {\n    @durationunit(chronounit.hours)\n    private duration servertimeout;\n    @datasizeunit(dataunit.megabytes)\n    private datasize datasize;\n}\n\n\n\ndurationï¼è¡¨ç¤ºæ¶é´é´éï¼å¯ä»¥éè¿**@durationunit**æ³¨è§£æè¿°æ¶é´åä½ï¼ä¾å¦ä¸ä¾ä¸­æè¿°çåä½ä¸ºå°æ¶ï¼chronounit.hoursï¼\n\ndatasizeï¼è¡¨ç¤ºå­å¨ç©ºé´ï¼å¯ä»¥éè¿**@datasizeunit**æ³¨è§£æè¿°å­å¨ç©ºé´åä½ï¼ä¾å¦ä¸ä¾ä¸­æè¿°çåä½ä¸ºmbï¼dataunit.megabytesï¼\n\nä½¿ç¨ä¸è¿°ä¸¤ä¸ªåä½å°±å¯ä»¥ææé¿åå æ²éä¸åæ­¥æææ¡£ä¸å¥å¨å¯¼è´çä¿¡æ¯ä¸å¯¹ç§°é®é¢ï¼ä»æ ¹æ¬ä¸è§£å³äºé®é¢ï¼é¿åäº§çè¯¯è¯»ã\n\ndruationå¸¸ç¨åä½å¦ä¸ï¼\n\ndatasizeå¸¸ç¨åä½å¦ä¸ï¼\n\n\n# kf-2-4.æ ¡éª\n\nç®åæä»¬å¨è¿è¡å±æ§ç»å®æ¶å¯ä»¥éè¿æ¾æ£ç»å®è§åå¨ä¹¦åæ¶æ¾é£èªæäºï¼ä½æ¯å¨ä¹¦åæ¶ç±äºæ æ³æç¥æ¨¡åç±»ä¸­çæ°æ®ç±»åï¼å°±ä¼åºç°ç±»åä¸å¹éçé®é¢ï¼æ¯å¦ä»£ç ä¸­éè¦intç±»åï¼éç½®ä¸­ç»äºéæ³çæ°å¼ï¼ä¾å¦åä¸ä¸ªâa"ï¼è¿ç§æ°æ®è¯å®æ æ³ææçç»å®ï¼è¿ä¼å¼åéè¯¯ã springbootç»åºäºå¼ºå¤§çæ°æ®æ ¡éªåè½ï¼å¯ä»¥ææçé¿åæ­¤ç±»é®é¢çåçãå¨javaeeçjsr303è§èä¸­ç»åºäºå·ä½çæ°æ®æ ¡éªæ åï¼å¼åèå¯ä»¥æ ¹æ®èªå·±çéè¦éæ©å¯¹åºçæ ¡éªæ¡æ¶ï¼æ­¤å¤ä½¿ç¨hibernateæä¾çæ ¡éªæ¡æ¶æ¥ä½ä¸ºå®ç°è¿è¡æ°æ®æ ¡éªãä¹¦ååºç¨æ ¼å¼éå¸¸åºå®ï¼è¯ä¸å¤è¯´ï¼ç´æ¥ä¸æ­¥éª¤\n\næ­¥éª¤â ï¼å¼å¯æ ¡éªæ¡æ¶\n\n\x3c!--1.å¯¼å¥jsr303è§èï¼è¿ä¸ªæ¯æ¥å£è§è--\x3e\n<dependency>\n    <groupid>javax.validation</groupid>\n    <artifactid>validation-api</artifactid>\n</dependency>\n\x3c!--ä½¿ç¨hibernateæ¡æ¶æä¾çæ ¡éªå¨åå®ç°ï¼è¿ä¸é¨åå®ç°ä¸é¢çæ¥å£--\x3e\n<dependency>\n    <groupid>org.hibernate.validator</groupid>\n    <artifactid>hibernate-validator</artifactid>\n</dependency>\n\n\næ­¥éª¤â¡ï¼å¨éè¦å¼å¯æ ¡éªåè½çç±»ä¸ä½¿ç¨æ³¨è§£@validatedå¼å¯æ ¡éªåè½\n\n@component\n@data\n@configurationproperties(prefix = "servers")\n//å¼å¯å¯¹å½åbeançå±æ§æ³¨å¥æ ¡éª\n@validated\npublic class serverconfig {\n}\n\n\næ­¥éª¤â¢ï¼å¯¹å·ä½çå­æ®µè®¾ç½®æ ¡éªè§å\n\n@component\n@data\n@configurationproperties(prefix = "servers")\n@validated  //å¼å¯å¯¹å½åbeançå±æ§æ³¨å¥æ ¡éª\npublic class serverconfig {\n    //è®¾ç½®å·ä½çè§å\n    @max(value = 8888,message = "æå¤§å¼ä¸è½è¶è¿8888")\n    @min(value = 202,message = "æå°å¼ä¸è½ä½äº202")\n    private int port;\n}\n\n\néè¿è®¾ç½®æ°æ®æ ¼å¼æ ¡éªï¼å°±å¯ä»¥ææé¿åéæ³æ°æ®å è½½ï¼å¶å®ä½¿ç¨èµ·æ¥è¿æ¯æºè½»æ¾çï¼åºæ¬ä¸å°±æ¯ä¸ä¸ªæ ¼å¼ã\n\næ»ç»\n\n 1. å¼å¯beanå±æ§æ ¡éªåè½ä¸å±3æ­¥ï¼å¯¼å¥jsr303ä¸hibernateæ ¡éªæ¡æ¶åæ ãä½¿ç¨@validatedæ³¨è§£å¯ç¨æ ¡éªåè½ãä½¿ç¨å·ä½æ ¡éªè§åè§èæ°æ®æ ¡éªæ ¼å¼\n\n\n# kf-2-5.æ°æ®ç±»åè½¬æ¢\n\næå³springå±æ§æ³¨å¥çé®é¢å°è¿éåºæ¬ä¸å°±è®²å®äºï¼ä½æ¯æè¿ä¸åå¼åèåæå¨è¯¢äºä¸ä¸ªé®é¢ï¼æè§å¾éè¦ç»åä½å­¦ä¹ èåäº«ä¸ä¸ãå¨å­¦ä¹ é¶æ®µå¶å®æä»¬éå°çé®é¢å¾å¾å¤æåº¦æ¯è¾ä½ï¼åä¸æ§æ¯è¾å¼ºï¼ä½æ¯å°äºçº¿ä¸å¼åæ¶ï¼é½æ¯ç»¼åæ§çé®é¢ï¼èè¿ä¸ªå¼åèéå°çé®é¢å°±æ¯ç±äºbeançå±æ§æ³¨å¥å¼åçç¾é¾ã\n\nåæé®é¢æè¿°ä¸ä¸ï¼è¿ä½å¼åèè¿æ¥æ°æ®åºæ­£å¸¸æä½ï¼ä½æ¯è¿è¡ç¨åºåæ¾ç¤ºçä¿¡æ¯æ¯å¯ç éè¯¯ã\n\njava.sql.sqlexception: access denied for user \'root\'@\'localhost\' (using password: yes)\n\n\nå¶å®çå°è¿ä¸ªæ¥éï¼å ä¹ææçå­¦ä¹ èé½è½åè¾¨åºæ¥ï¼è¿æ¯ç¨æ·ååå¯ç ä¸å¹éï¼å°±å°±æ¯å¯ç è¾å¥éäºï¼ä½æ¯é®é¢å°±å¨äºå¯ç å¹¶æ²¡æè¾å¥éè¯¯ï¼è¿å°±æ¯è¾è®¨åäºãç»çæ¥éä¿¡æ¯æ æ³å¸®å©ä½ ææçåæé®é¢ï¼çè³ä¼ç»ä½ å¸¦å°æ²éãå¦ææ¯åå­¦èï¼ä¼°è®¡è¿ä¼å¿æå°±å´©äºï¼æå¯ç æ²¡éåï¼ä½ æä¹è½è¯´ææéè¯¯å¢ï¼æ¥ççç¨æ·åå¯ç çéç½®æ¯å¦ä½åçï¼\n\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.driver\n    url: jdbc:mysql://localhost:3306/ssm_db?servertimezone=utc\n    username: root\n    password: 0127\n\n\nè¿åå¼åèççæ¥æ¯1æ27æ¥ï¼æä»¥å¯ç å°±ä½¿ç¨äº0127ï¼å¶å®é®é¢å°±åºå¨è¿éäºã\n\nä¹åå¨åºç¡ç¯è®²å±æ§æ³¨å¥æ¶ï¼æå°è¿ç±»åç¸å³çç¥è¯ï¼å¨æ´æ°ç¸å³ç¥è¯ä¸­æè¿ä¹ä¸å¥è¯ï¼æ¯æäºè¿å¶ï¼å«è¿å¶ï¼åå­è¿å¶\n\nè¿ä¸ªé®é¢å°±å¤å¨è¿éäºï¼å ä¸º0127å¨å¼åèç¼ä¸­æ¯ä¸ä¸ªå­ç¬¦ä¸²â0127âï¼ä½æ¯å¨springbootçæ¥ï¼è¿å°±æ¯ä¸ä¸ªæ°å­ï¼èä¸æ¯ä¸ä¸ªå«è¿å¶çæ°å­ãå½åå°ä½¿ç¨stringç±»åæ¥æ¶æ°æ®æ¶ï¼å¦æéç½®æä»¶ä¸­éç½®äºä¸ä¸ªæ´æ°å¼ï¼ä»æ¯åå®è£æ´æ°è¿è¡å¤çï¼è¯»åååè½¬æ¢æå­ç¬¦ä¸²ãå·§äºï¼0127æä¸äºå«è¿å¶çæ ¼å¼ï¼æä»¥æç»ä»¥åè¿å¶æ°å­87çç»æå­å¨äºã\n\nè¿éæä¸¤ä¸ªæ³¨æç¹ï¼ç¬¬ä¸ï¼å­ç¬¦ä¸²æ åä¹¦åå ä¸å¼å·åè£¹ï¼å»æä¹ æ¯ï¼ç¬¬äºï¼éå°0å¼å¤´çæ°æ®å¤æ³¨æå§ã\n\næ»ç»\n\n 1. yamlæä»¶ä¸­å¯¹äºæ°å­çå®ä¹æ¯æè¿å¶ä¹¦åæ ¼å¼ï¼å¦éä½¿ç¨å­ç¬¦ä¸²è¯·ä½¿ç¨å¼å·æç¡®æ æ³¨\n\n\n# kf-3.æµè¯\n\nè¯´å®beanéç½®ç¸å³çåå®¹ï¼ä¸é¢è¦å¯¹åé¢è®²è¿çä¸ä¸ªç¥è¯åå å¼ºäºï¼æµè¯ãæµè¯æ¯ä¿éç¨åºæ­£ç¡®æ§çå¯ä¸å±éï¼å¨ä¼ä¸çº§å¼åä¸­æ´æ¯ä¸å¯ç¼ºå°ï¼ä½æ¯ç±äºæµè¯ä»£ç å¾å¾ä¸äº§çå®éæçï¼æä»¥ä¸äºå°åå¬å¸å¹¶ä¸æ¯å¾å³æ³¨ï¼å¯¼è´ä¸äºå¼åèä»å°åå¬å¸è¿å¥ä¸­å¤§åå¬å¸åï¼å¾å¾è¿ä¸åæ¯è¾ç­æ¿ï¼æä»¥è¿æ¯è¦æ¿åºæ¥æè¿ä¸åç¥è¯å¥½å¥½è¯´è¯´ï¼åä¸åä¸ä¸çå¼åäººåã\n\n\n# kf-3-1.å è½½æµè¯ä¸ç¨å±æ§\n\næµè¯è¿ç¨æ¬èº«å¹¶ä¸æ¯ä¸ä¸ªå¤æçè¿ç¨ï¼ä½æ¯å¾å¤æåµä¸æµè¯æ¶éè¦æ¨¡æä¸äºçº¿ä¸æåµï¼æèæ¨¡æä¸äºç¹æ®æåµãå¦æå½åç¯å¢æç§çº¿ä¸ç¯å¢å·²ç»è®¾å®å¥½äºï¼ä¾å¦æ¯ä¸é¢çéç½®\n\nenv:\n  maxmemory: 32gb\n  minmemory: 16gb\n\n\nä½æ¯ä½ ç°å¨æ³æµè¯å¯¹åºçå¼å®¹æ§ï¼éè¦æµè¯å¦ä¸éç½®\n\nenv:\n  maxmemory: 16gb\n  minmemory: 8gb\n\n\nè¿ä¸ªæ¶åæä»¬è½ä¸è½æ¯æ¬¡æµè¯çæ¶åé½å»ä¿®æ¹æºç application.ymlä¸­çéç½®è¿è¡æµè¯å¢ï¼æ¾ç¶æ¯ä¸è¡çãæ¯æ¬¡æµè¯åæ¹è¿æ¥ï¼æ¯æ¬¡æµè¯åæ¹åå»ï¼è¿å¤ªéº»ç¦äºãäºæ¯æä»¬å°±æ³ï¼éè¦å¨æµè¯ç¯å¢ä¸­åå»ºä¸ç»ä¸´æ¶å±æ§ï¼å»è¦çæä»¬æºç ä¸­è®¾å®çå±æ§ï¼è¿æ ·æµè¯ç¨ä¾å°±ç¸å½äºæ¯ä¸ä¸ªç¬ç«çç¯å¢ï¼è½å¤ç¬ç«æµè¯ï¼è¿æ ·å°±æ¹ä¾¿å¤äºã\n\nä¸´æ¶å±æ§\n\nspringbootå·²ç»ä¸ºæä»¬å¼åèæ©å°±æ³å¥½äºè¿ç§é®é¢è¯¥å¦ä½è§£å³ï¼å¹¶ä¸æä¾äºå¯¹åºçåè½å¥å£ãå¨æµè¯ç¨ä¾ç¨åºä¸­ï¼å¯ä»¥éè¿å¯¹æ³¨è§£@springboottestæ·»å å±æ§æ¥æ¨¡æä¸´æ¶å±æ§ï¼å·ä½å¦ä¸ï¼\n\n//propertieså±æ§å¯ä»¥ä¸ºå½åæµè¯ç¨ä¾æ·»å ä¸´æ¶çå±æ§éç½®\n@springboottest(properties = {"test.prop=testvalue1"})\npublic class propertiesandargstest {\n\n    @value("${test.prop}")\n    private string msg;\n    \n    @test\n    void testproperties(){\n        system.out.println(msg);\n    }\n}\n\n\nä½¿ç¨æ³¨è§£@springboottestçpropertieså±æ§å°±å¯ä»¥ä¸ºå½åæµè¯ç¨ä¾æ·»å ä¸´æ¶çå±æ§ï¼è¦çæºç éç½®æä»¶ä¸­å¯¹åºçå±æ§å¼è¿è¡æµè¯ã\n\nä¸´æ¶åæ°\n\né¤äºä¸è¿°è¿ç§æåµï¼å¨åé¢è®²è§£ä½¿ç¨å½ä»¤è¡å¯å¨springbootç¨åºæ¶è®²è¿ï¼éè¿å½ä»¤è¡åæ°ä¹å¯ä»¥è®¾ç½®å±æ§å¼ãèä¸çº¿ä¸å¯å¨ç¨åºæ¶ï¼éå¸¸é½ä¼æ·»å ä¸äºä¸ç¨çéç½®ä¿¡æ¯ãä½ä¸ºè¿ç»´äººåä»ä»¬æä¸æjavaï¼æ´ä¸æè¿äºéç½®çä¿¡æ¯å·ä½æ ¼å¼è¯¥æä¹åï¼é£å¦ææä»¬ä½ä¸ºå¼åèæä¾äºå¯¹åºçä¹¦ååå®¹åï¼è½å¦æåæµè¯ä¸ä¸è¿äºéç½®ä¿¡æ¯æ¯å¦ææå¢ï¼å½æ¶æ¯å¯ä»¥çï¼è¿æ¯éè¿æ³¨è§£@springboottestçå¦ä¸ä¸ªå±æ§æ¥è¿è¡è®¾å®ã\n\n//argså±æ§å¯ä»¥ä¸ºå½åæµè¯ç¨ä¾æ·»å ä¸´æ¶çå½ä»¤è¡åæ°\n@springboottest(args={"--test.prop=testvalue2"})\npublic class propertiesandargstest {\n    \n    @value("${test.prop}")\n    private string msg;\n    \n    @test\n    void testproperties(){\n        system.out.println(msg);\n    }\n}\n\n\nä½¿ç¨æ³¨è§£@springboottestçargså±æ§å°±å¯ä»¥ä¸ºå½åæµè¯ç¨ä¾æ¨¡æå½ä»¤è¡åæ°å¹¶è¿è¡æµè¯ã\n\nè¯´å°è¿éï¼å¥½å¥å®å®ä»¬è¯å®å°±ææ°é®é¢äºï¼å¦æä¸¤èå±å­å¢ï¼å¶å®å¦ææèä¸ä¸éç½®å±æ§ä¸å½ä»¤è¡åæ°çå è½½ä¼åçº§ï¼è¿ä¸ªç»æå°±ä¸è¨èå»äºãå¨å±æ§å è½½çä¼åçº§è®¾å®ä¸­ï¼ææç¡®çä¼åçº§è®¾å®é¡ºåºï¼è¿è®°å¾ä¸é¢è¿ä¸ªé¡ºåºåï¼\n\nå¨è¿ä¸ªå±æ§å è½½ä¼åçº§çé¡ºåºä¸­ï¼æç¡®è§å®äºå½ä»¤è¡åæ°çä¼åçº§æåºæ¯11ï¼èéç½®å±æ§çä¼åçº§æ¯3ï¼ç»æä¸è¨èå»äºï¼argså±æ§éç½®ä¼åäºpropertieså±æ§éç½®å è½½ã\n\nå°è¿éæä»¬å°±ææ¡äºå¦æå¨æµè¯ç¨ä¾ä¸­å»æ¨¡æä¸´æ¶å±æ§çè®¾å®ã\n\næ»ç»\n\n 1. å è½½æµè¯ä¸´æ¶å±æ§å¯ä»¥éè¿æ³¨è§£@springboottestçpropertiesåargså±æ§è¿è¡è®¾å®ï¼æ­¤è®¾å®åºç¨èå´ä»éç¨äºå½åæµè¯ç¨ä¾\n\næè\n\nåºç¨äºæµè¯ç¯å¢çä¸´æ¶å±æ§è§£å³äºï¼å¦ææ³å¨æµè¯çæ¶åä¸´æ¶å è½½ä¸äºbeanè½ä¸åå¢ï¼ä¹å°±æ¯è¯´ææµè¯æ¶ï¼æ³æä¸äºç¬ç«çbeanåºæ¥ï¼ä¸é¨åºç¨äºæµè¯ç¯å¢ï¼è½å¦å®ç°å¢ï¼å±ä»¬ä¸ä¸èåè®²ã\n\n\n# kf-3-2.å è½½æµè¯ä¸ç¨éç½®\n\nä¸ä¸èæåºäºä¸´æ¶éç½®ä¸äºä¸ç¨äºæµè¯ç¯å¢çbeançéæ±ï¼è¿ä¸èæä»¬å°±æ¥è§£å³è¿ä¸ªé®é¢ã\n\nå­¦ä¹ è¿springçç¥è¯ï¼æä»¬é½ç¥éï¼å¶å®ä¸ä¸ªspringç¯å¢ä¸­å¯ä»¥è®¾ç½®è¥å¹²ä¸ªéç½®æä»¶æéç½®ç±»ï¼è¥å¹²ä¸ªéç½®ä¿¡æ¯å¯ä»¥åæ¶çæãç°å¨æä»¬çéæ±å°±æ¯å¨æµè¯ç¯å¢ä¸­åæ·»å ä¸ä¸ªéç½®ç±»ï¼ç¶åå¯å¨æµè¯ç¯å¢æ¶ï¼çææ­¤éç½®å°±è¡äºãå¶å®åæ³åspringç¯å¢ä¸­å è½½å¤ä¸ªéç½®ä¿¡æ¯çæ¹å¼å®å¨ä¸æ ·ãå·ä½æä½æ­¥éª¤å¦ä¸ï¼\n\næ­¥éª¤â ï¼å¨æµè¯åtestä¸­åå»ºä¸ç¨çæµè¯ç¯å¢éç½®ç±»\n\n@configuration\npublic class msgconfig {\n    @bean\n    public string msg(){\n        return "bean msg";\n    }\n}\n\n\nä¸è¿°éç½®ä»ç¨äºæ¼ç¤ºå½åå®éªææï¼å®éå¼åå¯ä¸è½è¿ä¹æ³¨å¥stringç±»åçæ°æ®\n\næ­¥éª¤â¡ï¼å¨å¯å¨æµè¯ç¯å¢æ¶ï¼å¯¼å¥æµè¯ç¯å¢ä¸ç¨çéç½®ç±»ï¼ä½¿ç¨@importæ³¨è§£å³å¯å®ç°\n\n@springboottest\n@import({msgconfig.class})\npublic class configurationtest {\n\n    @autowired\n    private string msg;\n\n    @test\n    void testconfiguration(){\n        system.out.println(msg);\n    }\n}\n\n\nå°è¿éå°±éè¿@importå±æ§å®ç°äºåºäºå¼åç¯å¢çéç½®åºç¡ä¸ï¼å¯¹éç½®è¿è¡æµè¯ç¯å¢çè¿½å æä½ï¼å®ç°äº1+1çéç½®ç¯å¢ææãè¿æ ·æä»¬å°±å¯ä»¥å®ç°æ¯ä¸ä¸ªä¸åçæµè¯ç¨ä¾å è½½ä¸åçbeançææï¼ä¸°å¯æµè¯ç¨ä¾çç¼åï¼åæ¶ä¸å½±åå¼åç¯å¢çéç½®ã\n\næ»ç»\n\n 1. å®ä¹æµè¯ç¯å¢ä¸ç¨çéç½®ç±»ï¼ç¶åéè¿@importæ³¨è§£å¨å·ä½çæµè¯ä¸­å¯¼å¥ä¸´æ¶çéç½®ï¼ä¾å¦æµè¯ç¨ä¾ï¼æ¹ä¾¿æµè¯è¿ç¨ï¼ä¸ä¸è¿°éç½®ä¸å½±åå¶ä»çæµè¯ç±»ç¯å¢\n\næè\n\nå½åæä»¬å·²ç»å¯ä»¥å®ç°ä¸å¡å±åæ°æ®å±çæµè¯ï¼å¹¶ä¸éè¿ä¸´æ¶éç½®ï¼æ§å¶æ¯ä¸ªæµè¯ç¨ä¾å è½½ä¸åçæµè¯æ°æ®ãä½æ¯å®éä¼ä¸å¼åä¸ä»è¦ä¿éä¸å¡å±ä¸æ°æ®å±çåè½å®å¨ææï¼ä¹è¦ä¿éè¡¨ç°å±çåè½æ­£å¸¸ãä½æ¯æä»¬ç®çå¯¹è¡¨ç°å±çæµè¯é½æ¯éè¿postmanæå·¥æµè¯çï¼å¹¶æ²¡æå¨æåè¿ç¨ä¸­ä½ç°è¡¨ç°å±åè½è¢«æµè¯éè¿ãè½å¦å¨æµè¯ç¨ä¾ä¸­å¯¹è¡¨ç°å±è¿è¡åè½æµè¯å¢ï¼è¿çå¯ä»¥ï¼å±ä»¬ä¸ä¸èåè®²ã\n\n\n# kf-3-3.webç¯å¢æ¨¡ææµè¯\n\nå¨æµè¯ä¸­å¯¹è¡¨ç°å±åè½è¿è¡æµè¯éè¦ä¸ä¸ªåºç¡åä¸ä¸ªåè½ãæè°çä¸ä¸ªåºç¡æ¯è¿è¡æµè¯ç¨åºæ¶ï¼å¿é¡»å¯å¨webç¯å¢ï¼ä¸ç¶æ²¡æ³æµè¯webåè½ãä¸ä¸ªåè½æ¯å¿é¡»å¨æµè¯ç¨åºä¸­å·å¤åéwebè¯·æ±çè½åï¼ä¸ç¶æ æ³å®ç°webåè½çæµè¯ãæä»¥å¨æµè¯ç¨ä¾ä¸­æµè¯è¡¨ç°å±æ¥å£è¿é¡¹å·¥ä½å°±è½¬æ¢æäºä¸¤ä»¶äºï¼ä¸ï¼å¦ä½å¨æµè¯ç±»ä¸­å¯å¨webæµè¯ï¼äºï¼å¦ä½å¨æµè¯ç±»ä¸­åéwebè¯·æ±ãä¸é¢ä¸ä»¶äºä¸ä»¶äºè¿è¡ï¼åè¯´ç¬¬ä¸ä¸ª\n\næµè¯ç±»ä¸­å¯å¨webç¯å¢\n\næ¯ä¸ä¸ªspringbootçæµè¯ç±»ä¸æ¹é½ä¼æ å@springboottestæ³¨è§£ï¼èæ³¨è§£å¸¦æä¸ä¸ªå±æ§ï¼å«åwebenvironmentãéè¿è¯¥å±æ§å°±å¯ä»¥è®¾ç½®å¨æµè¯ç¨ä¾ä¸­å¯å¨webç¯å¢ï¼å·ä½å¦ä¸ï¼\n\n@springboottest(webenvironment = springboottest.webenvironment.random_port)\npublic class webtest {\t\n}\n\n\næµè¯ç±»ä¸­å¯å¨webç¯å¢æ¶ï¼å¯ä»¥æå®å¯å¨çwebç¯å¢å¯¹åºçç«¯å£ï¼springbootæä¾äº4ç§è®¾ç½®å¼ï¼åå«å¦ä¸ï¼\n\n * mockï¼æ ¹æ®å½åè®¾ç½®ç¡®è®¤æ¯å¦å¯å¨webç¯å¢ï¼ä¾å¦ä½¿ç¨äºservletçapiå°±å¯å¨webç¯å¢ï¼å±äºééæ§çéç½®\n * defined_portï¼ä½¿ç¨èªå®ä¹çç«¯å£ä½ä¸ºwebæå¡å¨ç«¯å£\n * random_portï¼ä½¿ç¨éæºç«¯å£ä½ä¸ºwebæå¡å¨ç«¯å£\n * noneï¼ä¸å¯å¨webç¯å¢\n\néè¿ä¸è¿°éç½®ï¼ç°å¨å¯å¨æµè¯ç¨åºæ¶å°±å¯ä»¥æ­£å¸¸å¯ç¨webç¯å¢äºï¼å»ºè®®å¤§å®¶æµè¯æ¶ä½¿ç¨random_portï¼é¿åä»£ç ä¸­å ä¸ºåæ­»è®¾å®å¼åçº¿ä¸åè½æåæµè¯æ¶ç±äºç«¯å£å²çªå¯¼è´æå¤ç°è±¡çåºç°ãå°±æ¯è¯´ä½ ç¨åºä¸­åäºç¨8080ç«¯å£ï¼ç»æçº¿ä¸ç¯å¢8080ç«¯å£è¢«å ç¨äºï¼ç»æä½ ä»£ç ä¸­ææåçä¸è¥¿é½è¦æ¹ï¼è¿å°±æ¯åæ­»ä»£ç çä»£ä»·ãç°å¨ä½ ç¨éæºç«¯å£å°±å¯ä»¥æµè¯åºæ¥ä½ ææ²¡æè¿ç§é®é¢çéæ£äºã\n\næµè¯ç¯å¢ä¸­çwebç¯å¢å·²ç»æ­å»ºå¥½äºï¼ä¸é¢å°±å¯ä»¥æ¥è§£å³ç¬¬äºä¸ªé®é¢äºï¼å¦ä½å¨ç¨åºä»£ç ä¸­åéwebè¯·æ±ã\n\næµè¯ç±»ä¸­åéè¯·æ±\n\nå¯¹äºæµè¯ç±»ä¸­åéè¯·æ±ï¼å¶å®javaçapiå°±æä¾å¯¹åºçåè½ï¼åªä¸è¿å¹³æ¶åä½å°ä¼ä¼´æ¥è§¦çæ¯è¾å°ï¼æä»¥è¾ä¸ºéçãspringbootä¸ºäºä¾¿äºå¼åèè¿è¡å¯¹åºçåè½å¼åï¼å¯¹å¶åè¿è¡äºåè£ï¼ç®åäºå¼åæ­¥éª¤ï¼å·ä½æä½å¦ä¸ï¼\n\næ­¥éª¤â ï¼å¨æµè¯ç±»ä¸­å¼å¯webèæè°ç¨åè½ï¼éè¿æ³¨è§£@autoconfiguremockmvcå®ç°æ­¤åè½çå¼å¯\n\n@springboottest(webenvironment = springboottest.webenvironment.random_port)\n//å¼å¯èæmvcè°ç¨\n@autoconfiguremockmvc\npublic class webtest {\n}\n\n\næ­¥éª¤â¡ï¼å®ä¹åèµ·èæè°ç¨çå¯¹è±¡mockmvcï¼éè¿èªå¨è£éçå½¢å¼åå§åå¯¹è±¡\n\n@springboottest(webenvironment = springboottest.webenvironment.random_port)\n//å¼å¯èæmvcè°ç¨\n@autoconfiguremockmvc\npublic class webtest {\n\n    @test\n    void testweb(@autowired mockmvc mvc) {\n    }\n}\n\n\næ­¥éª¤â¢ï¼åå»ºä¸ä¸ªèæè¯·æ±å¯¹è±¡ï¼å°è£è¯·æ±çè·¯å¾ï¼å¹¶ä½¿ç¨mockmvcå¯¹è±¡åéå¯¹åºè¯·æ±\n\n@springboottest(webenvironment = springboottest.webenvironment.random_port)\n//å¼å¯èæmvcè°ç¨\n@autoconfiguremockmvc\npublic class webtest {\n\n    @test\n    void testweb(@autowired mockmvc mvc) throws exception {\n        //http://localhost:8080/books\n        //æ¨¡æåå»ºèæè¯·æ±ï¼å½åè®¿é®/books\n        mockhttpservletrequestbuilder builder = mockmvcrequestbuilders.get("/books");\n        //æ§è¡å¯¹åºçè¯·æ±\n        mvc.perform(builder);\n    }\n}\n\n\næ§è¡æµè¯ç¨åºï¼ç°å¨å°±å¯ä»¥æ­£å¸¸çåé/bookså¯¹åºçè¯·æ±äºï¼æ³¨æè®¿é®è·¯å¾ä¸è¦åhttp://localhost:8080/booksï¼å ä¸ºåé¢çæå¡å¨ipå°ååç«¯å£ä½¿ç¨çæ¯å½åèæçwebç¯å¢ï¼æ éæå®ï¼ä»æå®è¯·æ±çå·ä½è·¯å¾å³å¯ã\n\næ»ç»\n\n 1. å¨æµè¯ç±»ä¸­æµè¯webå±æ¥å£è¦ä¿éæµè¯ç±»å¯å¨æ¶å¯å¨webå®¹å¨ï¼ä½¿ç¨@springboottestæ³¨è§£çwebenvironmentå±æ§å¯ä»¥èæwebç¯å¢ç¨äºæµè¯\n 2. ä¸ºæµè¯æ¹æ³æ³¨å¥mockmvcå¯¹è±¡ï¼éè¿mockmvcå¯¹è±¡å¯ä»¥åéèæè¯·æ±ï¼æ¨¡æwebè¯·æ±è°ç¨è¿ç¨\n\næè\n\nç®åå·²ç»æåçåéäºè¯·æ±ï¼ä½æ¯è¿æ²¡æèµ·å°æµè¯çææï¼æµè¯è¿ç¨å¿é¡»åºç°é¢è®¡å¼ä¸çå®å¼çæ¯å¯¹ç»ææè½ç¡®è®¤æµè¯ç»ææ¯å¦éè¿ï¼èæè¯·æ±ä¸­è½å¯¹åªäºè¯·æ±ç»æè¿è¡æ¯å¯¹å¢ï¼å±ä»¬ä¸ä¸èåè®²ã\n\nwebç¯å¢è¯·æ±ç»ææ¯å¯¹\n\nä¸ä¸èå·²ç»å¨æµè¯ç¨ä¾ä¸­æåçæ¨¡æåºäºwebç¯å¢ï¼å¹¶æåçåéäºwebè¯·æ±ï¼æ¬èå°±æ¥è§£å³åéè¯·æ±åå¦ä½æ¯å¯¹åéç»æçé®é¢ãå¶å®åå®è¯·æ±å¾å°çä¿¡æ¯åªæä¸ç§ï¼å°±æ¯ååºå¯¹è±¡ãè³äºååºå¯¹è±¡ä¸­åå«ä»ä¹ï¼å°±å¯ä»¥æ¯å¯¹ä»ä¹ãå¸¸è§çæ¯å¯¹åå®¹å¦ä¸ï¼\n\n * ååºç¶æå¹é\n   \n   @test\n   void teststatus(@autowired mockmvc mvc) throws exception {\n       mockhttpservletrequestbuilder builder = mockmvcrequestbuilders.get("/books");\n       resultactions action = mvc.perform(builder);\n       //è®¾å®é¢æå¼ ä¸çå®å¼è¿è¡æ¯è¾ï¼æåæµè¯éè¿ï¼å¤±è´¥æµè¯å¤±è´¥\n       //å®ä¹æ¬æ¬¡è°ç¨çé¢æå¼\n       statusresultmatchers status = mockmvcresultmatchers.status();\n       //é¢è®¡æ¬æ¬¡è°ç¨æ¶æåçï¼ç¶æ200\n       resultmatcher ok = status.isok();\n       //æ·»å é¢è®¡å¼å°æ¬æ¬¡è°ç¨è¿ç¨ä¸­è¿è¡å¹é\n       action.andexpect(ok);\n   }\n   \n\n * ååºä½å¹éï¼éjsonæ°æ®æ ¼å¼ï¼\n   \n   @test\n   void testbody(@autowired mockmvc mvc) throws exception {\n       mockhttpservletrequestbuilder builder = mockmvcrequestbuilders.get("/books");\n       resultactions action = mvc.perform(builder);\n       //è®¾å®é¢æå¼ ä¸çå®å¼è¿è¡æ¯è¾ï¼æåæµè¯éè¿ï¼å¤±è´¥æµè¯å¤±è´¥\n       //å®ä¹æ¬æ¬¡è°ç¨çé¢æå¼\n       contentresultmatchers content = mockmvcresultmatchers.content\n       // ååºçç¶æå¼åä¸ºå­ç¬¦ä¸²\n       resultmatcher result = content.string("springboot2");\n       //æ·»å é¢è®¡å¼å°æ¬æ¬¡è°ç¨è¿ç¨ä¸­è¿è¡å¹é\n       action.andexpect(result);\n   }\n   \n\n * ååºä½å¹éï¼jsonæ°æ®æ ¼å¼ï¼å¼åä¸­çä¸»æµä½¿ç¨æ¹å¼ï¼\n   \n   @test\n   void testjson(@autowired mockmvc mvc) throws exception {\n       mockhttpservletrequestbuilder builder = mockmvcrequestbuilders.get("/books");\n       resultactions action = mvc.perform(builder);\n       //è®¾å®é¢æå¼ ä¸çå®å¼è¿è¡æ¯è¾ï¼æåæµè¯éè¿ï¼å¤±è´¥æµè¯å¤±è´¥\n       //å®ä¹æ¬æ¬¡è°ç¨çé¢æå¼\n       contentresultmatchers content = mockmvcresultmatchers.content();\n       resultmatcher result = content.json("{\\"id\\":1,\\"name\\":\\"springboot2\\",\\"type\\":\\"springboot\\"}");\n       //æ·»å é¢è®¡å¼å°æ¬æ¬¡è°ç¨è¿ç¨ä¸­è¿è¡å¹é\n       action.andexpect(result);\n   }\n   \n\n * ååºå¤´ä¿¡æ¯å¹é\n   \n   @test\n   void testcontenttype(@autowired mockmvc mvc) throws exception {\n       mockhttpservletrequestbuilder builder = mockmvcrequestbuilders.get("/books");\n       resultactions action = mvc.perform(builder);\n       //è®¾å®é¢æå¼ ä¸çå®å¼è¿è¡æ¯è¾ï¼æåæµè¯éè¿ï¼å¤±è´¥æµè¯å¤±è´¥\n       //å®ä¹æ¬æ¬¡è°ç¨çé¢æå¼\n       headerresultmatchers header = mockmvcresultmatchers.header();\n       resultmatcher contenttype = header.string("content-type", "application/json");\n       //æ·»å é¢è®¡å¼å°æ¬æ¬¡è°ç¨è¿ç¨ä¸­è¿è¡å¹é\n       action.andexpect(contenttype);\n   }\n   \n\nåºæ¬ä¸é½äºï¼å¤´ä¿¡æ¯ï¼æ­£æä¿¡æ¯ï¼ç¶æä¿¡æ¯é½æäºï¼å°±å¯ä»¥ç»ååºä¸ä¸ªå®ç¾çååºç»ææ¯å¯¹ç»æäºãä»¥ä¸èä¾å°±æ¯ä¸ç§ä¿¡æ¯åæ¶è¿è¡å¹éæ ¡éªï¼ä¹æ¯ä¸ä¸ªå®æ´çä¿¡æ¯å¹éè¿ç¨ã\n\n@test\nvoid testgetbyid(@autowired mockmvc mvc) throws exception {\n    mockhttpservletrequestbuilder builder = mockmvcrequestbuilders.get("/books");\n    resultactions action = mvc.perform(builder);\n\n    statusresultmatchers status = mockmvcresultmatchers.status();\n    resultmatcher ok = status.isok();\n    action.andexpect(ok);\n\n    headerresultmatchers header = mockmvcresultmatchers.header();\n    resultmatcher contenttype = header.string("content-type", "application/json");\n    action.andexpect(contenttype);\n\n    contentresultmatchers content = mockmvcresultmatchers.content();\n    resultmatcher result = content.json("{\\"id\\":1,\\"name\\":\\"springboot\\",\\"type\\":\\"springboot\\"}");\n    action.andexpect(result);\n}\n\n\næ»ç»\n\n 1. webèæè°ç¨å¯ä»¥å¯¹æ¬å°èæè¯·æ±çè¿åååºä¿¡æ¯è¿è¡æ¯å¯¹ï¼åä¸ºååºå¤´ä¿¡æ¯æ¯å¯¹ãååºä½ä¿¡æ¯æ¯å¯¹ãååºç¶æä¿¡æ¯æ¯å¯¹\n\n\n# kf-3-4.æ°æ®å±æµè¯åæ»\n\nå½åæä»¬çæµè¯ç¨åºå¯ä»¥å®ç¾çè¿è¡è¡¨ç°å±ãä¸å¡å±ãæ°æ®å±æ¥å£å¯¹åºçåè½æµè¯äºï¼ä½æ¯æµè¯ç¨ä¾å¼åå®æåï¼å¨æåçé¶æ®µç±äºtestçå½å¨æå±äºå¿é¡»è¢«è¿è¡ççå½å¨æï¼å¦æè·³è¿ä¼ç»ç³»ç»å¸¦æ¥æé«çå®å¨éæ£ï¼æä»¥æµè¯ç¨ä¾å¿é¡»æ§è¡ãä½æ¯æ°çé®é¢å°±åç°äºï¼æµè¯ç¨ä¾å¦ææµè¯æ¶äº§çäºäºå¡æäº¤å°±ä¼å¨æµè¯è¿ç¨ä¸­å¯¹æ°æ®åºæ°æ®äº§çå½±åï¼è¿èäº§çåå¾æ°æ®ãè¿ä¸ªè¿ç¨ä¸æ¯æä»¬å¸æåççï¼ä½ä¸ºå¼åèæµè¯ç¨ä¾è¯¥è¿è¡è¿è¡ï¼ä½æ¯è¿ç¨ä¸­äº§ççæ°æ®ä¸è¦å¨æçç³»ç»ä¸­ççï¼è¿æ ·è¯¥å¦ä½å¤çå¢ï¼\n\nspringbootæ©å°±ä¸ºå¼åèæ³å°äºè¿ä¸ªé®é¢ï¼å¹¶ä¸éå¯¹æ­¤é®é¢ç»åºäºæç®è§£å³æ¹æ¡ï¼å¨åå§æµè¯ç¨ä¾ä¸­æ·»å æ³¨è§£@transactionalå³å¯å®ç°å½åæµè¯ç¨ä¾çäºå¡ä¸æäº¤ãå½ç¨åºè¿è¡åï¼åªè¦æ³¨è§£@transactionalåºç°çä½ç½®å­å¨æ³¨è§£@springboottestï¼springbootå°±ä¼è®¤ä¸ºè¿æ¯ä¸ä¸ªæµè¯ç¨åºï¼æ éæäº¤äºå¡ï¼æä»¥ä¹å°±å¯ä»¥é¿åäºå¡çæäº¤ã\n\n@springboottest\n@transactional\n@rollback(true)\npublic class daotest {\n    @autowired\n    private bookservice bookservice;\n\n    @test\n    void testsave(){\n        book book = new book();\n        book.setname("springboot3");\n        book.settype("springboot3");\n        book.setdescription("springboot3");\n\n        bookservice.save(book);\n    }\n}\n\n\nå¦æå¼åèæ³æäº¤äºå¡ï¼ä¹å¯ä»¥ï¼åæ·»å ä¸ä¸ª@rollbackçæ³¨è§£ï¼è®¾ç½®åæ»ç¶æä¸ºfalseå³å¯æ­£å¸¸æäº¤äºå¡ï¼falseè¡¨ç¤ºä¸è½åæ»ï¼ï¼æ¯ä¸æ¯å¾æ¹ä¾¿ï¼springbootå¨è¾å©å¼åèæ¥å¸¸å·¥ä½è¿ä¸åå±ç°åºäºæäººçè½åï¼å®å¨å¤ªè´´å¿äºã\n\næ»ç»\n\n 1. å¨springbootçæµè¯ç±»ä¸­éè¿æ·»å æ³¨è§£@transactionalæ¥é»æ­¢æµè¯ç¨ä¾æäº¤äºå¡\n 2. éè¿æ³¨è§£@rollbackæ§å¶springbootæµè¯ç±»æ§è¡ç»ææ¯å¦æäº¤äºå¡ï¼éè¦éåæ³¨è§£@transactionalä½¿ç¨\n\næè\n\nå½åæµè¯ç¨åºå·²ç»è¿ä¹å®ç¾äºï¼ä½æ¯ç±äºæµè¯ç¨ä¾ä¸­ä¹¦åçæµè¯æ°æ®å±äºåºå®æ°æ®ï¼å¾å¾å¤±å»äºæµè¯çæä¹ï¼å¼åèå¯ä»¥éå¯¹æµè¯ç¨ä¾è¿è¡éå¯¹æ§å¼åï¼è¿æ ·å°±æå¯è½åºç°æµè¯ç¨ä¾ä¸è½å®ç¾åç°ä¸å¡é»è¾ä»£ç æ¯å¦çå®ææçè¾¾æä¸å¡ç®æ çç°è±¡ï¼è§£å³æ¹æ¡å¶å®å¾å®¹ææ³ï¼æµè¯ç¨ä¾çæ°æ®åªè¦éæºäº§çå°±å¯ä»¥äºï¼è½å®ç°åï¼å±ä»¬ä¸ä¸èåè®²ã\n\n\n# kf-3-5.æµè¯ç¨ä¾æ°æ®è®¾å®\n\nå¯¹äºæµè¯ç¨ä¾çæ°æ®åºå®ä¹¦åè¯å®æ¯ä¸åççï¼springbootæä¾äºå¨éç½®ä¸­ä½¿ç¨éæºå¼çæºå¶ï¼ç¡®ä¿æ¯æ¬¡è¿è¡ç¨åºå è½½çæ°æ®é½æ¯éæºçãå·ä½å¦ä¸ï¼\n\ntestcase:\n  book:\n    id: ${random.int}\n    id2: ${random.int(10)}\n    type: ${random.int!5,10!}\n    name: ${random.value}\n    uuid: ${random.uuid}\n    publishtime: ${random.long}\n\n\nå½åéç½®å°±å¯ä»¥å¨æ¯æ¬¡è¿è¡ç¨åºæ¶åå»ºä¸ç»éæºæ°æ®ï¼é¿åæ¯æ¬¡è¿è¡æ¶æ°æ®é½æ¯åºå®å¼çå°´å°¬ç°è±¡åçï¼æå©äºæµè¯åè½çè¿è¡ãæ°æ®çå è½½æç§ä¹åå è½½æ°æ®çå½¢å¼ï¼ä½¿ç¨@configurationpropertiesæ³¨è§£å³å¯\n\n@component\n@data\n@configurationproperties(prefix = "testcase.book")\npublic class bookcase {\n    private int id;\n    private int id2;\n    private int type;\n    private string name;\n    private string uuid;\n    private long publishtime;\n}\n\n\nå¯¹äºéæºå¼çäº§çï¼è¿æä¸äºå°çéå®è§åï¼æ¯å¦äº§ççæ°å¼æ§æ°æ®å¯ä»¥è®¾ç½®èå´ç­ï¼å·ä½å¦ä¸ï¼\n\n * ${random.int}è¡¨ç¤ºéæºæ´æ°\n * ${random.int(10)}è¡¨ç¤º10ä»¥åçéæºæ°\n * ${random.int(10,20)}è¡¨ç¤º10å°20çéæºæ°\n * å¶ä¸­()å¯ä»¥æ¯ä»»æå­ç¬¦ï¼ä¾å¦[]ï¼!!åå¯ï¼ä¹å°±æ¯random.int!5,10!ç­ä»·äºrandom.int(5,10)ç­ä»·äºrandom.int[5,10]\n\næ»ç»\n\n 1. ä½¿ç¨éæºæ°æ®å¯ä»¥æ¿æ¢æµè¯ç¨ä¾ä¸­ä¹¦åçåºå®æ°æ®ï¼æé«æµè¯ç¨ä¾ä¸­çæµè¯æ°æ®æææ§\n\n\n# kf-4.æ°æ®å±è§£å³æ¹æ¡\n\nå¼åå®ç¨ç¯åä¸ç« åºæ¬ä¸æ¯å¼èèï¼ä»ç¬¬åç« å¼å§ï¼å¼åå®ç¨ç¯è¿å¥å°äºå©æ¢¦é¾åº¦äºï¼ä»è¿éå¼å§ï¼ä¸åæ¯åçº¯çå¨springbootåé¨æäºæäºï¼è¦æ¶åå°å¾å¤ç¸å³ç¥è¯ãæ¬ç« èä¸»è¦åå®¹é½æ¯åæ°æ®å­å¨ä¸è¯»åç¸å³ï¼åæå­¦ä¹ çç¥è¯ä¸æ°æ®å±æå³çææ¯åºæ¬ä¸é½å´ç»å¨æ°æ®åºè¿ä¸ªå±é¢ä¸ï¼æä»¥æ¬ç« è¦è®²çç¬¬ä¸ä¸ªå¤§çåæ¯å°±æ¯sqlè§£å³æ¹æ¡ç¸å³çåå®¹ï¼é¤æ­¤ä¹å¤ï¼æ°æ®çæ¥æºè¿å¯ä»¥æ¯ésqlææ¯ç¸å³çæ°æ®æä½ï¼å æ­¤ç¬¬äºé¨åå´ç»çnosqlè§£å³æ¹æ¡è®²è§£ãè³äºä»ä¹æ¯nosqlè§£å³æ¹æ¡ï¼è®²å°äºåè¯´å§ãä¸é¢å°±ä»sqlè§£å³æ¹æ¡è¯´èµ·ã\n\n\n# kf-4-1.sql\n\nåå¿ä¸ä¸ä¹ååssmpæ´åçæ¶åæ°æ®å±è§£å³æ¹æ¡æ¶åå°äºåªäºææ¯ï¼mysqlæ°æ®åºä¸mybatisplusæ¡æ¶ï¼åé¢åå­¦äºdruidæ°æ®æºçéç½®ï¼æä»¥ç°å¨æ°æ®å±è§£å³æ¹æ¡å¯ä»¥è¯´æ¯mysql+druid+mybatisplusãèä¸ä¸ªææ¯åå«å¯¹åºäºæ°æ®å±æä½çä¸ä¸ªå±é¢ï¼\n\n * æ°æ®æºææ¯ï¼druid\n * æä¹åææ¯ï¼mybatisplus\n * æ°æ®åºææ¯ï¼mysql\n\nä¸é¢çç ç©¶å°±åä¸ºä¸ä¸ªå±é¢è¿è¡ç ç©¶ï¼å¯¹åºä¸é¢ååºçä¸ä¸ªæ¹é¢ï¼å±ä»¬å°±ä»ç¬¬ä¸ä¸ªæ°æ®æºææ¯å¼å§è¯´èµ·ã\n\n# æ°æ®æºææ¯\n\nç®åæä»¬ä½¿ç¨çæ°æ®æºææ¯æ¯druidï¼è¿è¡æ¶å¯ä»¥å¨æ¥å¿ä¸­çå°å¯¹åºçæ°æ®æºåå§åä¿¡æ¯ï¼å·ä½å¦ä¸ï¼\n\ninfo 28600 --- [           main] c.a.d.s.b.a.druiddatasourceautoconfigure : init druiddatasource\ninfo 28600 --- [           main] com.alibaba.druid.pool.druiddatasource   : {datasource-1} inited\n\n\nå¦æä¸ä½¿ç¨druidæ°æ®æºï¼ç¨åºè¿è¡åæ¯ä»ä¹æ ·å­å¢ï¼æ¯ç¬ç«çæ°æ®åºè¿æ¥å¯¹è±¡è¿æ¯æå¶ä»çè¿æ¥æ± ææ¯æ¯æå¢ï¼å°druidææ¯å¯¹åºçstarterå»æåæ¬¡è¿è¡ç¨åºå¯ä»¥å¨æ¥å¿ä¸­æ¾å°å¦ä¸åå§åä¿¡æ¯ï¼\n\ninfo 31820 --- [           main] com.zaxxer.hikari.hikaridatasource       : hikaripool-1 - starting...\ninfo 31820 --- [           main] com.zaxxer.hikari.hikaridatasource       : hikaripool-1 - start completed.\n\n\n\n\nè½ç¶æ²¡ædruiddatasourceç¸å³çä¿¡æ¯äºï¼ä½æ¯æä»¬åç°æ¥å¿ä¸­æhikaridatasourceè¿ä¸ªä¿¡æ¯ï¼å°±ç®ä¸æè¿æ¯ä¸ªä»ä¹ææ¯ï¼çåå­ä¹è½çåºæ¥ï¼ä»¥datasourceç»å°¾çåç§°ï¼è¿ä¸å®æ¯ä¸ä¸ªæ°æ®æºææ¯ãæä»¬åæ²¡ææå·¥æ·»å è¿ä¸ªææ¯ï¼è¿ä¸ªææ¯åªéæ¥çå¢ï¼è¿å°±æ¯è¿ä¸èè¦è®²çç¥è¯ï¼springbootååµæ°æ®æºã\n\næ°æ®å±ææ¯æ¯æ¯ä¸ä¸ªä¼ä¸çº§åºç¨ç¨åºé½ä¼ç¨å°çï¼èå¶ä¸­å¿å®ä¼è¿è¡æ°æ®åºè¿æ¥çç®¡çãspringbootæ ¹æ®å¼åèçä¹ æ¯åºåï¼å¼åèæä¾äºæ°æ®æºææ¯ï¼å°±ç¨ä½ æä¾çï¼å¼åèæ²¡ææä¾ï¼é£æ»ä¸è½æå·¥ç®¡çä¸ä¸ªä¸ä¸ªçæ°æ®åºè¿æ¥å¯¹è±¡åï¼æä¹åï¼æç»ä½ ä¸ä¸ªé»è®¤çå°±å¥½äºï¼è¿æ ·çå¿åçäºï¼å¤§å®¶é½æ¹ä¾¿ã\n\nspringbootæä¾äº3æ¬¾ååµæ°æ®æºææ¯ï¼åå«å¦ä¸ï¼\n\n * hikaricp\n * tomcatæä¾datasource\n * commons dbcp\n\nç¬¬ä¸ç§ï¼hikartcpï¼è¿æ¯springbootå®æ¹æ¨èçæ°æ®æºææ¯ï¼ä½ä¸ºé»è®¤åç½®æ°æ®æºä½¿ç¨ãå¥ææï¼ä½ ä¸éç½®æ°æ®æºï¼é£å°±ç¨è¿ä¸ªã\n\nç¬¬äºç§ï¼tomcatæä¾çdatasourceï¼å¦æä¸æ³ç¨hikartcpï¼å¹¶ä¸ä½¿ç¨tomcatä½ä¸ºwebæå¡å¨è¿è¡webç¨åºçå¼åï¼ä½¿ç¨è¿ä¸ªãä¸ºä»ä¹æ¯tomcatï¼ä¸æ¯å¶ä»webæå¡å¨å¢ï¼å ä¸ºwebææ¯å¯¼å¥starteråï¼é»è®¤ä½¿ç¨ååµtomcatï¼æ¢ç¶é½æ¯é»è®¤ä½¿ç¨çææ¯äºï¼é£å°±ä¸ç¨å°åºï¼æ°æ®æºä¹ç¨å®çãæäººå°±æåºæä¹æè½ä¸ä½¿ç¨hikartcpç¨tomcatæä¾çé»è®¤æ°æ®æºå¯¹è±¡å¢ï¼æhikartcpææ¯çåæ æé¤æå°±okäºã\n\nç¬¬ä¸ç§ï¼dbcpï¼è¿ä¸ªä½¿ç¨çæ¡ä»¶å°±æ´èå»äºï¼æ¢ä¸ä½¿ç¨hikartcpä¹ä¸ä½¿ç¨tomcatçdatasourceæ¶ï¼é»è®¤ç»ä½ ç¨è¿ä¸ªã\n\nspringbootè¿å¿æçï¼ä¹æ¯ç¨ç¢åï¼å°±æä½ èªå·±ç®¡ä¸å¥½è¿æ¥å¯¹è±¡ï¼ç»ä½ ä¸é¡¿æ¨èï¼çæ¯å¼åççæå¼ºè¾å©ãæ¢ç¶é½ç»ä½ å¥¶ä¸äºï¼é£å°±åç¨å§ï¼æä¹éç½®ä½¿ç¨è¿äºä¸è¥¿å¢ï¼ä¹åæä»¬éç½®druidæ¶ä½¿ç¨druidçstarterå¯¹åºçéç½®å¦ä¸ï¼\n\nspring:\n  datasource:\n    druid:\t\n   \t  url: jdbc:mysql://localhost:3306/ssm_db?servertimezone=utc\n      driver-class-name: com.mysql.cj.jdbc.driver\n      username: root\n      password: root\n\n\næ¢ææ¯é»è®¤çæ°æ®æºhikaricpåï¼ç´æ¥å§druidå æå°±è¡äºï¼å¦ä¸ï¼\n\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/ssm_db?servertimezone=utc\n    driver-class-name: com.mysql.cj.jdbc.driver\n    username: root\n    password: root\n\n\nå½ç¶ï¼ä¹å¯ä»¥åä¸æ¯å¯¹hikariåçéç½®ï¼ä½æ¯urlå°åè¦åç¬éç½®ï¼ä¸è½æ¾å°hikariçéç½®é¡¹ä¸é¢ï¼å¦ä¸ï¼\n\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/ssm_db?servertimezone=utc\n    hikari:\n      driver-class-name: com.mysql.cj.jdbc.driver\n      username: root\n      password: root\n\n\nè¿å°±æ¯éç½®hikariæ°æ®æºçæ¹å¼ãå¦ææ³å¯¹hikariåè¿ä¸æ­¥çéç½®ï¼å¯ä»¥ç»§ç»­éç½®å¶ç¬ç«çå±æ§ãä¾å¦ï¼\n\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/ssm_db?servertimezone=utc\n    hikari:\n      driver-class-name: com.mysql.cj.jdbc.driver\n      username: root\n      password: root\n      maximum-pool-size: 50\n\n\nå¦æä¸æ³ä½¿ç¨hikariæ°æ®æºï¼ä½¿ç¨tomcatçæ°æ®æºæèdbcpéç½®æ ¼å¼ä¹æ¯ä¸æ ·çãå­¦ä¹ å°è¿éï¼ä»¥åæä»¬åæ°æ®å±æ¶ï¼æ°æ®æºå¯¹è±¡çéæ©å°±ä¸åæ¯åä¸çä½¿ç¨druidæ°æ®æºææ¯äºï¼å¯ä»¥æ ¹æ®éè¦èªè¡éæ©ã\n\n\n\næ»ç»\n\n 1. springbootææ¯æä¾äº3ç§åç½®çæ°æ®æºææ¯ï¼åå«æ¯hikariãtomcatåç½®æ°æ®æºãdbcp\n\n# æä¹åææ¯\n\nè¯´å®æ°æ®æºè§£å³æ¹æ¡ï¼åæ¥è¯´ä¸ä¸æä¹åè§£å³æ¹æ¡ãspringbootåååæ¥å¶æå¼ºè¾å©çç¹å¾ï¼ç»å¼åèæä¾äºä¸å¥ç°æçæ°æ®å±ææ¯ï¼å«åjdbctemplateãå¶å®è¿ä¸ªææ¯ä¸è½è¯´æ¯springbootæä¾çï¼å ä¸ºä¸ä½¿ç¨springbootææ¯ï¼ä¸æ ·è½ä½¿ç¨å®ï¼è°æä¾çå¢ï¼springææ¯æä¾çï¼æä»¥å¨springbootææ¯èç´ä¸­ï¼è¿ä¸ªææ¯ä¹æ¯å­å¨çï¼æ¯ç«springbootææ¯æ¯å éspringç¨åºå¼åèåå»ºçã\n\nè¿ä¸ªææ¯å¶å®å°±æ¯åå½å°jdbcæåå§çç¼ç¨å½¢å¼æ¥è¿è¡æ°æ®å±çå¼åï¼ä¸é¢ç´æ¥ä¸æä½æ­¥éª¤ï¼\n\næ­¥éª¤â ï¼å¯¼å¥jdbcå¯¹åºçåæ ï¼è®°å¾æ¯starter\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-jdbc</artifactid>\n</dependency\n\n\næ­¥éª¤â¡ï¼èªå¨è£éjdbctemplateå¯¹è±¡\n\n@springboottest\nclass springboot15sqlapplicationtests {\n    @test\n    void testjdbctemplate(@autowired jdbctemplate jdbctemplate){\n    }\n}\n\n\næ­¥éª¤â¢ï¼ä½¿ç¨jdbctemplateå®ç°æ¥è¯¢æä½ï¼éå®ä½ç±»å°è£æ°æ®çæ¥è¯¢æä½ï¼\n\n@test\nvoid testjdbctemplate(@autowired jdbctemplate jdbctemplate){\n    string sql = "select * from tbl_book";\n    list<map<string, object>> maps = jdbctemplate.queryforlist(sql);\n    system.out.println(maps);\n}\n\n\næ­¥éª¤â£ï¼ä½¿ç¨jdbctemplateå®ç°æ¥è¯¢æä½ï¼å®ä½ç±»å°è£æ°æ®çæ¥è¯¢æä½ï¼è®°å¾å¤ä¹ ä¸ä¸queryæä½\n\n@test\nvoid testjdbctemplate(@autowired jdbctemplate jdbctemplate){\n\n    string sql = "select * from tbl_book";\n    rowmapper<book> rm = new rowmapper<book>() {\n        @override\n        public book maprow(resultset rs, int rownum) throws sqlexception {\n            book temp = new book();\n            temp.setid(rs.getint("id"));\n            temp.setname(rs.getstring("name"));\n            temp.settype(rs.getstring("type"));\n            temp.setdescription(rs.getstring("description"));\n            return temp;\n        }\n    };\n    list<book> list = jdbctemplate.query(sql, rm);\n    system.out.println(list);\n}\n\n\næ­¥éª¤â¤ï¼ä½¿ç¨jdbctemplateå®ç°å¢å æ¹æä½\n\n@test\nvoid testjdbctemplatesave(@autowired jdbctemplate jdbctemplate){\n    string sql = "insert into tbl_book values(3,\'springboot1\',\'springboot2\',\'springboot3\')";\n    jdbctemplate.update(sql);\n}\n\n\nå¦ææ³å¯¹jdbctemplateå¯¹è±¡è¿è¡ç¸å³éç½®ï¼å¯ä»¥å¨ymlæä»¶ä¸­è¿è¡è®¾å®ï¼å·ä½å¦ä¸ï¼\n\nspring:\n  jdbc:\n    template:\n      query-timeout: -1   # æ¥è¯¢è¶æ¶æ¶é´\n      max-rows: 500       # æå¤§è¡æ°\n      fetch-size: -1      # ç¼å­è¡æ°\n\n\næ»ç»\n\n 1. springbootåç½®jdbctemplateæä¹åè§£å³æ¹æ¡\n\n 2. ä½¿ç¨jdbctemplateéè¦å¯¼å¥spring-boot-starter-jdbcçåæ \n    \n    \n\n# æ°æ®åºææ¯\n\næªæ­¢å°ç®åï¼springbootç»å¼åèæä¾äºåç½®çæ°æ®æºè§£å³æ¹æ¡åæä¹åè§£å³æ¹æ¡ï¼å¨æ°æ®å±è§£å³æ¹æ¡ä¸ä»¶å¥ä¸­è¿å©ä¸ä¸ä¸ªæ°æ®åºï¼è«éspringbootä¹æä¾æåç½®çè§£å³æ¹æ¡ï¼è¿çæï¼è¿ä¸æ¯ä¸ä¸ªï¼ä¸ä¸ªï¼è¿ä¸èå°±æ¥è¯´è¯´åç½®çæ°æ®åºè§£å³æ¹æ¡ã\n\nspringbootæä¾äº3æ¬¾åç½®çæ°æ®åºï¼åå«æ¯\n\n * h2\n * hsql\n * derby\n\nä»¥ä¸ä¸æ¬¾æ°æ®åºé¤äºå¯ä»¥ç¬ç«å®è£ä¹å¤ï¼è¿å¯ä»¥åæ¯tomcatæå¡å¨ä¸æ ·ï¼éç¨ååµçå½¢å¼è¿è¡å¨spirngbootå®¹å¨ä¸­ãååµå¨å®¹å¨ä¸­è¿è¡ï¼é£å¿é¡»æ¯javaå¯¹è±¡åï¼å¯¹ï¼è¿ä¸æ¬¾æ°æ®åºåºå±é½æ¯ä½¿ç¨javaè¯­è¨å¼åçã\n\næä»¬ä¸ç´ä½¿ç¨mysqlæ°æ®åºå°±æºå¥½çï¼ä¸ºä»ä¹æéæ±ç¨è¿ä¸ªå¢ï¼åå å°±å¨äºè¿ä¸ä¸ªæ°æ®åºé½å¯ä»¥éç¨ååµå®¹å¨çå½¢å¼è¿è¡ï¼å¨åºç¨ç¨åºè¿è¡åï¼å¦ææä»¬è¿è¡æµè¯å·¥ä½ï¼æ­¤æ¶æµè¯çæ°æ®æ éå­å¨å¨ç£çä¸ï¼ä½æ¯åè¦æµè¯ä½¿ç¨ï¼ååµæ°æ®åºå°±æ¹ä¾¿äºï¼è¿è¡å¨åå­ä¸­ï¼è¯¥æµè¯æµè¯ï¼è¯¥è¿è¡è¿è¡ï¼ç­æå¡å¨å³é­åï¼ä¸åçæ¶äºæ£ï¼å¤å¥½ï¼çå¾ä½ ç»´æ¤å¤é¨æ°æ®åºäºãè¿ä¹æ¯ååµæ°æ®åºçæå¤§ä¼ç¹ï¼æ¹ä¾¿è¿è¡åè½æµè¯ã\n\nä¸é¢ä»¥h2æ°æ®åºä¸ºä¾è®²è§£å¦ä½ä½¿ç¨è¿äºååµæ°æ®åºï¼æä½æ­¥éª¤ä¹éå¸¸ç®åï¼ç®åæå¥½ç¨å\n\næ­¥éª¤â ï¼å¯¼å¥h2æ°æ®åºå¯¹åºçåæ ï¼ä¸å±2ä¸ª\n\n<dependency>\n    <groupid>com.h2database</groupid>\n    <artifactid>h2</artifactid>\n</dependency>\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-data-jpa</artifactid>\n</dependency>\n\n\næ­¥éª¤â¡ï¼å°å·¥ç¨è®¾ç½®ä¸ºwebå·¥ç¨ï¼å¯å¨å·¥ç¨æ¶å¯å¨h2æ°æ®åº\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-web</artifactid>\n</dependency>\n\n\næ­¥éª¤â¢ï¼éè¿éç½®å¼å¯h2æ°æ®åºæ§å¶å°è®¿é®ç¨åºï¼ä¹å¯ä»¥ä½¿ç¨å¶ä»çæ°æ®åºè¿æ¥è½¯ä»¶æä½\n\nspring:\n  h2:\n    console:\n      enabled: true\n      path: /h2\n\n\nwebç«¯è®¿é®è·¯å¾localhost/h2å°±å¯ä»¥è®¿é®è®¿é®æ°æ®åºï¼è®¿é®å¯ç 123456ï¼å¦æè®¿é®å¤±è´¥ï¼åéç½®ä¸åæ°æ®æºï¼å¯å¨ç¨åºè¿è¡ååæ¬¡è®¿é®localhost/h2è·¯å¾å°±å¯ä»¥æ­£å¸¸è®¿é®äº\n\ndatasource:\n  url: jdbc:h2:~/test\n  hikari:\n    driver-class-name: org.h2.driver\n    username: sa\n    password: 123456\n\n\næ­¥éª¤â£ï¼ä½¿ç¨jdbctemplateæmybatisplusææ¯æä½æ°æ®åºå³å¯\n\nï¼ç¥ï¼\n\nå¶å®æä»¬åªæ¯æ¢äºä¸ä¸ªæ°æ®åºèå·²ï¼å¶ä»çä¸è¥¿é½ä¸åå½±åãä¸ä¸ªéè¦æéï¼å«å¿äºï¼ä¸çº¿æ¶ï¼æåå­çº§æ°æ®åºå³é­ï¼éç¨mysqlæ°æ®åºä½ä¸ºæ°æ®æä¹åæ¹æ¡ï¼å³é­æ¹å¼å°±æ¯è®¾ç½®enabledå±æ§ä¸ºfalseå³å¯ã\n\næ»ç»\n\n 1. h2ååµå¼æ°æ®åºå¯å¨æ¹å¼ï¼æ·»å åæ ï¼æ·»å éç½®\n 2. h2æ°æ®åºçº¿ä¸è¿è¡æ¶è¯·å¡å¿å³é­\n\nå°è¿ésqlç¸å³çæ°æ®å±è§£å³æ¹æ¡å°±è®²å®äºï¼ç°å¨çå¯éææ¯å°±ä¸°å¯çå¤äºã\n\n * æ°æ®æºææ¯ï¼druidãhikariãtomcat datasourceãdbcp\n * æä¹åææ¯ï¼mybatisplusãmybatisãjdbctemplate\n * æ°æ®åºææ¯ï¼mysqlãh2ãhsqlãderby\n\nç°å¨å¼åç¨åºæ¶å°±å¯ä»¥å¨ä»¥ä¸ææ¯ä¸­ä»»éä¸ç§ç»ç»æä¸å¥æ°æ®åºè§£å³æ¹æ¡äºã\n\n\n# kf-4-2.nosql\n\nsqlæ°æ®å±è§£å³æ¹æ¡è¯´å®äºï¼ä¸é¢æ¥è¯´æ¶nosqlæ°æ®å±è§£å³æ¹æ¡ãè¿ä¸ªnosqlæ¯ä»ä¹ææå¢ï¼ä»å­é¢æ¥çï¼noè¡¨ç¤ºå¦å®ï¼nosqlå°±æ¯éå³ç³»åæ°æ®åºè§£å³æ¹æ¡ï¼ææå°±æ¯æ°æ®è¯¥å­å­è¯¥ååï¼åªæ¯è¿äºæ°æ®ä¸æ¾å¨å³ç³»åæ°æ®åºä¸­äºï¼é£æ¾å¨åªéï¼èªç¶æ¯ä¸äºè½å¤å­å¨æ°æ®çå¶ä»ç¸å³ææ¯ä¸­äºï¼æ¯å¦redisç­ãæ¬èè®²è§£çåå®¹å°±æ¯springbootå¦ä½æ´åè¿äºææ¯ï¼å¨springbootå®æ¹ææ¡£ä¸­æä¾äº10ç§ç¸å³ææ¯çæ´åæ¹æ¡ï¼æä»¬å°è®²è§£å½åå¸åºä¸ææµè¡çå æ¬¾nosqlæ°æ®åºæ´åæ¹æ¡ï¼åå«æ¯redisãmongodbãesã\n\nå ä¸ºæ¯ä¸ªå°ä¼ä¼´å­¦ä¹ è¿é¨è¯¾ç¨çæ¶åèµ·ç¹ä¸åï¼ä¸ºäºä¾¿äºåä½å­¦ä¹ èæ´å¥½çå­¦ä¹ ï¼æ¯ç§ææ¯å¨è®²è§£æ´ååé½ä¼åè®²ä¸ä¸å®è£ååºæ¬ä½¿ç¨ï¼ç¶ååè®²æ´åãå¦æå¯¹æä¸ªææ¯æ¯è¾çæçå°ä¼ä¼´å¯ä»¥ç´æ¥è·³è¿å®è£çå­¦ä¹ è¿ç¨ï¼ç´æ¥çæ´åæ¹æ¡å³å¯ãæ­¤å¤ä¸è¿°è¿äºææ¯æä½³ä½¿ç¨æ¹æ¡é½æ¯å¨linuxæå¡å¨ä¸é¨ç½²ï¼ä½æ¯èèå°åä½å°ä¼ä¼´çå­¦ä¹ èµ·ç¹å·®å¼è¿å¤§ï¼æä»¥ä¸é¢çè¯¾ç¨é½æ¯ä»¥windowså¹³å°ä½ä¸ºå®è£åºç¡è®²è§£ï¼å¦ææ³çlinuxçè½¯ä»¶å®è£ï¼å¯ä»¥åæ¾å°å¯¹åºææ¯çå­¦ä¹ ææ¡£æ¥éå­¦ä¹ ã\n\n# springbootæ´åredis\n\nredisæ¯ä¸æ¬¾éç¨key-valueæ°æ®å­å¨æ ¼å¼çåå­çº§nosqlæ°æ®åºï¼éç¹å³æ³¨æ°æ®å­å¨æ ¼å¼ï¼æ¯key-valueæ ¼å¼ï¼ä¹å°±æ¯é®å¼å¯¹çå­å¨å½¢å¼ãä¸mysqlæ°æ®åºä¸åï¼mysqlæ°æ®åºæè¡¨ãæå­æ®µãæè®°å½ï¼redisæ²¡æè¿äºä¸è¥¿ï¼å°±æ¯ä¸ä¸ªåç§°å¯¹åºä¸ä¸ªå¼ï¼å¹¶ä¸æ°æ®ä»¥å­å¨å¨åå­ä¸­ä½¿ç¨ä¸ºä¸»ãä»ä¹å«ä»¥å­å¨å¨åå­ä¸­ä¸ºä¸»ï¼å¶å®redisæå®çæ°æ®æä¹åæ¹æ¡ï¼åå«æ¯rdbåaofï¼ä½æ¯redisèªèº«å¹¶ä¸æ¯ä¸ºäºæ°æ®æä¹åèççï¼ä¸»è¦æ¯å¨åå­ä¸­ä¿å­æ°æ®ï¼å éæ°æ®è®¿é®çï¼æä»¥è¯´æ¯ä¸æ¬¾åå­çº§æ°æ®åºã\n\nredisæ¯æå¤ç§æ°æ®å­å¨æ ¼å¼ï¼æ¯å¦å¯ä»¥ç´æ¥å­å­ç¬¦ä¸²ï¼ä¹å¯ä»¥å­ä¸ä¸ªmapéåï¼listéåï¼åé¢ä¼æ¶åå°ä¸äºä¸åæ ¼å¼çæ°æ®æä½ï¼è¿ä¸ªéè¦åå­¦ä¹ ä¸ä¸æè½è¿è¡æ´åï¼æä»¥å¨åºæ¬æä½ä¸­ä¼ä»ç»ä¸äºç¸å³æä½ãä¸é¢å°±åå®è£ï¼åæä½ï¼æåè¯´æ´å\n\n# å®è£\n\nwindowsçå®è£åä¸è½½å°åï¼https://github.com/tporadowski/redis/releases\n\nä¸è½½çå®è£åæä¸¤ç§å½¢å¼ï¼ä¸ç§æ¯ä¸é®å®è£çmsiæä»¶ï¼è¿æä¸ç§æ¯è§£åç¼©å°±è½ä½¿ç¨çzipæä»¶ï¼åªç§å½¢å¼é½è¡ï¼è¿éå°±ä¸ä»ç»å®è£è¿ç¨äºï¼æ¬è¯¾ç¨éç¨çæ¯msiä¸é®å®è£çmsiæä»¶è¿è¡å®è£çã\n\nå¥æ¯msiï¼å¶å®å°±æ¯ä¸ä¸ªæä»¶å®è£åï¼ä¸ä»å®è£è½¯ä»¶ï¼è¿å¸®ä½ æå®è£è½¯ä»¶æ¶éè¦çåè½å³èå¨ä¸èµ·ï¼æåæä½ãæ¯å¦å¦å®è£åºåãåå»ºåè®¾ç½®å®è£è·¯å¾ãè®¾ç½®ç³»ç»ä¾èµé¡¹ãé»è®¤è®¾å®å®è£éé¡¹åæ§å¶å®è£è¿ç¨çå±æ§ãè¯´ç®åç¹å°±æ¯ä¸ç«å¼æå¡ï¼å®è£è¿ç¨ä¸æ¡é¾æä½ä¸æ°åµæï¼å°±æ¯ä¸ºå°ç½ç¨æ·æä¾çè½¯ä»¶å®è£ç¨åºã\n\nå®è£å®æ¯åä¼å¾å°å¦ä¸æä»¶ï¼å¶ä¸­æä¸¤ä¸ªæä»¶å¯¹åºä¸¤ä¸ªå½ä»¤ï¼æ¯å¯å¨redisçæ ¸å¿å½ä»¤ï¼éè¦åcmdå½ä»¤è¡æ¨¡å¼æ§è¡ã\n\nå¯å¨æå¡å¨\n\nredis-server.exe redis.windows.conf\n\n\nåå­¦èæ éè°æ´æå¡å¨å¯¹å¤æå¡ç«¯å£ï¼é»è®¤6379ã\n\nå¯å¨å®¢æ·ç«¯\n\nredis-cli.exe\n\n\nå¦æå¯å¨redisæå¡å¨å¤±è´¥ï¼å¯ä»¥åå¯å¨å®¢æ·ç«¯ï¼ç¶åæ§è¡shutdownæä½åéåºï¼æ­¤æ¶redisæå¡å¨å°±å¯ä»¥æ­£å¸¸æ§è¡äºã\n\n# åºæ¬æä½\n\næå¡å¨å¯å¨åï¼ä½¿ç¨å®¢æ·ç«¯å°±å¯ä»¥è¿æ¥æå¡å¨ï¼ç±»ä¼¼äºå¯å¨å®mysqlæ°æ®åºï¼ç¶åå¯å¨sqlå½ä»¤è¡æä½æ°æ®åºã\n\næ¾ç½®ä¸ä¸ªå­ç¬¦ä¸²æ°æ®å°redisä¸­ï¼åä¸ºæ°æ®å®ä¹ä¸ä¸ªåç§°ï¼æ¯å¦name,ageç­ï¼ç¶åä½¿ç¨å½ä»¤setè®¾ç½®æ°æ®å°redisæå¡å¨ä¸­å³å¯\n\nset name itheima\nset age 12\n\n\nä»redisä¸­ååºå·²ç»æ¾å¥çæ°æ®ï¼æ ¹æ®åç§°åï¼å°±å¯ä»¥å¾å°å¯¹åºæ°æ®ãå¦ææ²¡æå¯¹åºæ°æ®å°±ä¼å¾å°(nil)\n\nget name\nget age\n\n\nä»¥ä¸ä½¿ç¨çæ°æ®å­å¨æ¯ä¸ä¸ªåç§°å¯¹åºä¸ä¸ªå¼ï¼å¦æè¦ç»´æ¤çæ°æ®è¿å¤ï¼å¯ä»¥ä½¿ç¨å«çæ°æ®å­å¨ç»æãä¾å¦hashï¼å®æ¯ä¸ç§ä¸ä¸ªåç§°ä¸å¯ä»¥å­å¨å¤ä¸ªæ°æ®çå­å¨æ¨¡åï¼å¹¶ä¸æ¯ä¸ªæ°æ®ä¹å¯ä»¥æèªå·±çäºçº§å­å¨åç§°ãåhashç»æä¸­å­å¨æ°æ®æ ¼å¼å¦ä¸ï¼\n\nhset a a1 aa1\t\t#å¯¹å¤keyåç§°æ¯aï¼å¨åç§°ä¸ºaçå­å¨æ¨¡åä¸­ï¼a1è¿ä¸ªkeyä¸­ä¿å­äºæ°æ®aa1\nhset a a2 aa2\n\n\nè·åhashç»æä¸­çæ°æ®å½ä»¤å¦ä¸\n\nhget a a1\t\t\t#å¾å°aa1\nhget a a2\t\t\t#å¾å°aa2\n\n\næå³redisçåºç¡æä½å°±æ®åå°è¿éï¼éè¦å¨é¢ææ¡redisææ¯ï¼è¯·åçç¸å³æç¨å­¦ä¹ ã\n\n# æ´å\n\nå¨è¿è¡æ´åä¹ååæ¢³çä¸ä¸æ´åçææ³ï¼springbootæ´åä»»ä½ææ¯å¶å®å°±æ¯å¨springbootä¸­ä½¿ç¨å¯¹åºææ¯çapiãå¦æä¸¤ä¸ªææ¯æ²¡æäº¤éï¼å°±ä¸å­å¨æ´åçæ¦å¿µäºãæè°æ´åå¶å®å°±æ¯ä½¿ç¨springbootææ¯å»ç®¡çå¶ä»ææ¯ï¼å ä¸ªé®é¢æ¯èº²ä¸æçã\n\nç¬¬ä¸ï¼éè¦åå¯¼å¥å¯¹åºææ¯çåæ ï¼èæ´åä¹åï¼è¿äºåæ é½æäºä¸äºåå\n\nç¬¬äºï¼ä»»ä½ææ¯éå¸¸é½ä¼æä¸äºç¸å³çè®¾ç½®ä¿¡æ¯ï¼æ´åä¹åï¼è¿äºä¿¡æ¯å¦ä½åï¼åå¨åªæ¯ä¸ä¸ªé®é¢\n\nç¬¬ä¸ï¼æ²¡ææ´åä¹åæä½å¦ææ¯æ¨¡å¼açè¯ï¼æ´åä¹åå¦ææ²¡æç»å¼åèå¸¦æ¥ä¸äºä¾¿æ·æä½ï¼é£æ´åå°æ¯«æ æä¹ï¼æä»¥æ´ååæä½è¯å®è¦ç®åä¸äºï¼é£å¯¹åºçæä½æ¹å¼èªç¶ä¹ææä¸å\n\næç§ä¸é¢çä¸ä¸ªé®é¢å»æèspringbootæ´åææææ¯æ¯ä¸ç§éç¨ææ³ï¼å¨æ´åçè¿ç¨ä¸­ä¼éæ­¥æ¸ç´¢åºæ´åçå¥è·¯ï¼èä¸éç¨æ§éå¸¸å¼ºï¼ç»è¿è¥å¹²ç§ææ¯çæ´åååºæ¬ä¸å¯ä»¥æ»ç»åºä¸å¥åºå®æç»´ã\n\nä¸é¢å°±å¼å§springbootæ´åredisï¼æä½æ­¥éª¤å¦ä¸ï¼\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åredisçstarteråæ \n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-data-redis</artifactid>\n</dependency>\n\n\nä¸è¿°åæ å¯ä»¥å¨åå»ºæ¨¡åçæ¶åéè¿å¾éçå½¢å¼è¿è¡éæ©ï¼å½å±nosqlåç±»ä¸­\n\næ­¥éª¤â¡ï¼è¿è¡åºç¡éç½®\n\nspring:\n  redis:\n    host: localhost\n    port: 6379\n\n\næä½redisï¼æåºæ¬çä¿¡æ¯å°±æ¯æä½åªä¸å°redisæå¡å¨ï¼æä»¥æå¡å¨å°åå±äºåºç¡éç½®ä¿¡æ¯ï¼ä¸å¯ç¼ºå°ãä½æ¯å³ä¾¿ä½ ä¸éç½®ï¼ç®åä¹æ¯å¯ä»¥ç¨çãå ä¸ºä»¥ä¸ä¸¤ç»ä¿¡æ¯é½æé»è®¤éç½®ï¼åå¥½å°±æ¯ä¸è¿°éç½®å¼ã\n\næ­¥éª¤â¢ï¼ä½¿ç¨springbootæ´åredisçä¸ç¨å®¢æ·ç«¯æ¥å£æä½ï¼æ­¤å¤ä½¿ç¨çæ¯redistemplate\n\n@springboottest\nclass springboot16redisapplicationtests {\n    @autowired\n    private redistemplate redistemplate;\n    // ä»¥ä¸ä¸ºæ®éçkey-valueæä½\n    @test\n    void set() {\n        valueoperations ops = redistemplate.opsforvalue();\n        ops.set("age",41);\n    }\n    @test\n    void get() {\n        valueoperations ops = redistemplate.opsforvalue();\n        object age = ops.get("name");\n        system.out.println(age);\n    }\n    \n    // ä»¥ä¸ä¸ºhashæä½\n    @test\n    void hset() {\n        hashoperations ops = redistemplate.opsforhash();\n        ops.put("info","b","bb");\n    }\n    @test\n    void hget() {\n        hashoperations ops = redistemplate.opsforhash();\n        object val = ops.get("info", "b");\n        system.out.println(val);\n    }\n}\n\n\n\nå¨æä½redisæ¶ï¼éè¦åç¡®è®¤æä½ä½ç§æ°æ®ï¼æ ¹æ®æ°æ®ç§ç±»å¾å°æä½æ¥å£ãä¾å¦ä½¿ç¨opsforvalue()è·åstringç±»åçæ°æ®æä½æ¥å£ï¼ä½¿ç¨opsforhash()è·åhashç±»åçæ°æ®æä½æ¥å£ï¼å©ä¸çå°±æ¯è°ç¨å¯¹åºapiæä½äºãåç§ç±»åçæ°æ®æä½æ¥å£å¦ä¸ï¼\n\næ»ç»\n\n 1. springbootæ´åredisæ­¥éª¤\n    1. å¯¼å¥springbootæ´åredisçstarteråæ \n    2. è¿è¡åºç¡éç½®\n    3. ä½¿ç¨springbootæ´åredisçä¸ç¨å®¢æ·ç«¯æ¥å£redistemplateæä½\n\nstringredistemplate\n\nç±äº**redisåé¨ä¸æä¾javaå¯¹è±¡çå­å¨æ ¼å¼ï¼å æ­¤å½æä½çæ°æ®ä»¥å¯¹è±¡ï¼æ³åï¼çå½¢å¼å­å¨æ¶ï¼ä¼è¿è¡è½¬ç ï¼è½¬æ¢æå­ç¬¦ä¸²æ ¼å¼åè¿è¡æä½ã**ä¸ºäºæ¹ä¾¿å¼åèä½¿ç¨åºäºå­ç¬¦ä¸²ä¸ºæ°æ®çæä½ï¼springbootæ´åredisæ¶æä¾äºä¸ç¨çapiæ¥å£stringredistemplateï¼ä½ å¯ä»¥çè§£ä¸ºè¿æ¯redistemplateçä¸ç§æå®æ°æ®æ³åçæä½apiã\n\n@springboottest\npublic class stringredistemplatetest {\n    @autowired\n    private stringredistemplate stringredistemplate;\n    @test\n    void get(){\n        valueoperations<string, string> ops = stringredistemplate.opsforvalue();\n        string name = ops.get("name");\n        system.out.println(name);\n    }\n}\n\n\nrediså®¢æ·ç«¯éæ©\n\n\tspringbootæ´åredisææ¯æä¾äºå¤ç§å®¢æ·ç«¯å¼å®¹æ¨¡å¼ï¼é»è®¤æä¾çæ¯lettucså®¢æ·ç«¯ææ¯ï¼ä¹å¯ä»¥æ ¹æ®éè¦åæ¢ææå®å®¢æ·ç«¯ææ¯ï¼ä¾å¦jediså®¢æ·ç«¯ææ¯ï¼åæ¢æjediså®¢æ·ç«¯ææ¯æä½æ­¥éª¤å¦ä¸ï¼\n\n\næ­¥éª¤â ï¼å¯¼å¥jedisåæ \n\n<dependency>\n    <groupid>redis.clients</groupid>\n    <artifactid>jedis</artifactid>\n</dependency>\n\n\njedisåæ åspringbootç®¡çï¼æ éæä¾çæ¬å·\n\næ­¥éª¤â¡ï¼éç½®å®¢æ·ç«¯ææ¯ç±»åï¼è®¾ç½®ä¸ºjedis\n\nspring:\n  redis:\n    host: localhost\n    port: 6379\n    client-type: jedis\n\n\næ­¥éª¤â¢ï¼æ ¹æ®éè¦è®¾ç½®å¯¹åºçéç½®\n\nspring:\n  redis:\n    host: localhost\n    port: 6379\n    client-type: jedis\n    lettuce:\n      pool:\n        max-active: 16\n    jedis:\n      pool:\n        max-active: 16\n\n\nlettcusä¸jedisåºå«\n\n * jedisè¿æ¥redisæå¡å¨æ¯ç´è¿æ¨¡å¼ï¼å½å¤çº¿ç¨æ¨¡å¼ä¸ä½¿ç¨jedisä¼å­å¨çº¿ç¨å®å¨é®é¢ï¼è§£å³æ¹æ¡å¯ä»¥éè¿éç½®è¿æ¥æ± ä½¿æ¯ä¸ªè¿æ¥ä¸ç¨ï¼è¿æ ·æ´ä½æ§è½å°±å¤§åå½±å\n * lettcusåºäºnettyæ¡æ¶è¿è¡ä¸redisæå¡å¨è¿æ¥ï¼åºå±è®¾è®¡ä¸­éç¨statefulredisconnectionã statefulredisconnectionèªèº«æ¯çº¿ç¨å®å¨çï¼å¯ä»¥ä¿éå¹¶åè®¿é®å®å¨é®é¢ï¼æä»¥ä¸ä¸ªè¿æ¥å¯ä»¥è¢«å¤çº¿ç¨å¤ç¨ãå½ç¶lettcusä¹æ¯æå¤è¿æ¥å®ä¾ä¸èµ·å·¥ä½\n\næ»ç»\n\n 1. springbootæ´åredisæä¾äºstringredistemplateå¯¹è±¡ï¼ä»¥å­ç¬¦ä¸²çæ°æ®æ ¼å¼æä½redis\n 2. å¦æéè¦åæ¢rediså®¢æ·ç«¯å®ç°ææ¯ï¼å¯ä»¥éè¿éç½®çå½¢å¼è¿è¡\n\n# springbootæ´åmongodb\n\nä½¿ç¨redisææ¯å¯ä»¥ææçæé«æ°æ®è®¿é®éåº¦ï¼ä½æ¯ç±äºredisçæ°æ®æ ¼å¼åä¸æ§ï¼æ æ³æä½ç»æåæ°æ®ï¼å½æä½å¯¹è±¡åçæ°æ®æ¶ï¼rediså°±æ¾å¾æè¥è§èãå¨ä¿éè®¿é®éåº¦çæåµä¸ï¼å¦ææ³æä½ç»æåæ°æ®ï¼çæ¥redisæ æ³æ»¡è¶³è¦æ±äºï¼æ­¤æ¶éè¦ä½¿ç¨å¨æ°çæ°æ®å­å¨ç»ææ¥è§£å³æ­¤é®é¢ï¼æ¬èè®²è§£springbootå¦ä½æ´åmongodbææ¯ã\n\nmongodbæ¯ä¸ä¸ªå¼æºãé«æ§è½ãæ æ¨¡å¼çææ¡£åæ°æ®åºï¼ä»çææ¡£æ ¼å¼åjsonå¾åï¼ä½åä¸å®å¨ç¸åï¼æä»¥ææ¡£åç§°ä¸ºbsonï¼ï¼å®æ¯nosqlæ°æ®åºäº§åä¸­çä¸ç§ï¼æ¯æåå³ç³»åæ°æ®åºçéå³ç³»åæ°æ®åºã\n\nä¸è¿°æè¿°ä¸­å ä¸ªè¯ï¼å¶ä¸­å¯¹äºæä»¬æéççè¯æ¯æ æ¨¡å¼çãä»ä¹å«æ æ¨¡å¼å¢ï¼ç®åè¯´å°±æ¯ä½ä¸ºä¸æ¬¾æ°æ®åºï¼æ²¡æåºå®çæ°æ®å­å¨ç»æï¼ç¬¬ä¸æ¡æ°æ®å¯è½æaãbãcä¸å±3ä¸ªå­æ®µï¼ç¬¬äºæ¡æ°æ®å¯è½ædãeãfä¹æ¯3ä¸ªå­æ®µï¼ç¬¬ä¸æ¡æ°æ®å¯è½æ¯aãcãe3ä¸ªå­æ®µï¼ä¹å°±æ¯è¯´æ°æ®çç»æä¸åºå®ï¼è¿å°±æ¯æ æ¨¡å¼ãæäººä¼è¯´è¿æä»ä¹ç¨åï¼çµæ´»ï¼éæ¶åæ´ï¼ä¸åçº¦æãåºäºä¸è¿°ç¹ç¹ï¼mongodbçåºç¨é¢ä¹ä¼äº§çä¸äºååãä»¥ä¸ååºäºä¸äºå¯ä»¥ä½¿ç¨mongodbä½ä¸ºæ°æ®å­å¨çåºæ¯ï¼ä½æ¯å¹¶ä¸æ¯å¿é¡»ä½¿ç¨mongodbçåºæ¯ï¼\n\n * æ·å®ç¨æ·æ°æ®ï¼ä¸æ¦è®¾ç½®ä¹åå¾å°ååï¼\n   * å­å¨ä½ç½®ï¼æ°æ®åº\n   * ç¹å¾ï¼æ°¸ä¹æ§å­å¨ï¼ä¿®æ¹é¢åº¦æä½\n * æ¸¸æè£å¤æ°æ®ãæ¸¸æéå·æ°æ®\n   * å­å¨ä½ç½®ï¼æ°æ®åºãmongodb\n   * ç¹å¾ï¼æ°¸ä¹æ§å­å¨ä¸ä¸´æ¶å­å¨ç¸ç»åãä¿®æ¹é¢åº¦è¾é«\n * ç´æ­æ°æ®ãæèµæ°æ®ãç²ä¸æ°æ®\n   * å­å¨ä½ç½®ï¼æ°æ®åºãmongodb\n   * ç¹å¾ï¼æ°¸ä¹æ§å­å¨ä¸ä¸´æ¶å­å¨ç¸ç»åï¼ä¿®æ¹é¢åº¦æé«\n * ç©èç½æ°æ®\n   * å­å¨ä½ç½®ï¼mongodb\n   * ç¹å¾ï¼ä¸´æ¶å­å¨ï¼ä¿®æ¹é¢åº¦é£é\n\nå¿«éäºè§£ä¸ä¸mongodbï¼ä¸é¢ç´æ¥å¼å§æä»¬çå­¦ä¹ ï¼èè§ç©ï¼åå®è£ï¼åæä½ï¼æåè¯´æ´å\n\n# å®è£\n\nwindowsçå®è£åä¸è½½å°åï¼https://www.mongodb.com/try/download\n\nä¸è½½çå®è£åä¹æä¸¤ç§å½¢å¼ï¼ä¸ç§æ¯ä¸é®å®è£çmsiæä»¶ï¼è¿æä¸ç§æ¯è§£åç¼©å°±è½ä½¿ç¨çzipæä»¶ï¼åªç§å½¢å¼é½è¡ï¼æ¬è¯¾ç¨éç¨è§£åç¼©zipæä»¶è¿è¡å®è£ã\n\nè§£åç¼©å®æ¯åä¼å¾å°å¦ä¸æä»¶ï¼å¶ä¸­binç®å½åå«äºææmongodbçå¯æ§è¡å½ä»¤\n\n\n\nmongodbå¨è¿è¡æ¶éè¦æå®ä¸ä¸ªæ°æ®å­å¨çç®å½ï¼æä»¥åå»ºä¸ä¸ªæ°æ®å­å¨ç®å½ï¼éå¸¸æ¾ç½®å¨å®è£ç®å½ä¸­ï¼æ­¤å¤åå»ºdataçç®å½ç¨æ¥å­å¨æ°æ®ï¼å·ä½å¦ä¸\n\n\n\nå¦æå¨å®è£çè¿ç¨ä¸­åºç°äºå¦ä¸è­¦åä¿¡æ¯ï¼å°±æ¯åè¯ä½ ï¼ä½ å½åçæä½ç³»ç»ç¼ºå°äºä¸äºç³»ç»æä»¶ï¼è¿ä¸ªä¸ç¨æå¿ã\n\næ ¹æ®ä¸åæ¹æ¡å³å¯è§£å³ï¼å¨æµè§å¨ä¸­æç´¢æç¤ºç¼ºå°çåç§°å¯¹åºçæä»¶ï¼å¹¶ä¸è½½ï¼å°ä¸è½½çæä»¶æ·è´å°windowså®è£ç®å½çsystem32ç®å½ä¸ï¼ç¶åå¨å½ä»¤è¡ä¸­æ§è¡regsvr32å½ä»¤æ³¨åæ­¤æä»¶ãæ ¹æ®ä¸è½½çæä»¶åä¸åï¼æ§è¡å½ä»¤åæ´æ¹å¯¹åºåç§°ã\n\nregsvr32 vcruntime140_1.dll\n\n\nå¯å¨æå¡å¨\n\nmongod --dbpath=..\\data\\db\n\n\nå¯å¨æå¡å¨æ¶éè¦æå®æ°æ®å­å¨ä½ç½®ï¼éè¿åæ°--dbpathè¿è¡è®¾ç½®ï¼å¯ä»¥æ ¹æ®éè¦èªè¡è®¾ç½®æ°æ®å­å¨è·¯å¾ãé»è®¤æå¡ç«¯å£27017ã\n\nå¯å¨å®¢æ·ç«¯\n\nmongo --host=127.0.0.1 --port=27017\n\n\n# åºæ¬æä½\n\nmongodbè½ç¶æ¯ä¸æ¬¾æ°æ®åºï¼ä½æ¯å®çæä½å¹¶ä¸æ¯ä½¿ç¨sqlè¯­å¥è¿è¡çï¼å æ­¤æä½æ¹å¼åä½å°ä¼ä¼´å¯è½æ¯è¾éçï¼å¥½å¨æä¸äºç±»ä¼¼äºnavicatçæ°æ®åºå®¢æ·ç«¯è½¯ä»¶ï¼è½å¤ä¾¿æ·çæä½mongodbï¼åå®è£ä¸ä¸ªå®¢æ·ç«¯ï¼åæ¥æä½mongodbã\n\nåç±»åçè½¯ä»¶è¾å¤ï¼æ¬æ¬¡å®è£çè½¯ä»¶æ¶robo3tï¼robot3tæ¯ä¸æ¬¾ç»¿è²è½¯ä»¶ï¼æ éå®è£ï¼è§£åç¼©å³å¯ãè§£åç¼©å®æ¯åè¿å¥å®è£ç®å½åå»robot3t.exeå³å¯ä½¿ç¨ï¼mongodbårobot3tçæ¬ä¸å¹éå¯è½å®è£å¤±è´¥ï¼ã\n\næå¼è½¯ä»¶é¦åè¦è¿æ¥mongodbæå¡å¨ï¼éæ©ãfileãèåï¼éæ©ãconnect...ã\n\n\n\nè¿å¥è¿æ¥ç®¡ççé¢åï¼éæ©å·¦ä¸è§çãcreateãé¾æ¥ï¼åå»ºæ°çè¿æ¥è®¾ç½®\n\nå¦æè¾å¥è®¾ç½®å¼å³å¯è¿æ¥ï¼é»è®¤ä¸ä¿®æ¹å³å¯è¿æ¥æ¬æº27017ç«¯å£ï¼\n\n\n\nè¿æ¥æååå¨å½ä»¤è¾å¥åºåè¾å¥å½ä»¤å³å¯æä½mongodbã\n\nåå»ºæ°æ®åºï¼å¨å·¦ä¾§èåä¸­ä½¿ç¨å³é®åå»ºï¼è¾å¥æ°æ®åºåç§°å³å¯\n\nåå»ºéåï¼å¨collectionsä¸ä½¿ç¨å³é®åå»ºï¼è¾å¥éååç§°å³å¯ï¼è¿éçéåå¶å®å°±æ¯mysqlçè¡¨ï¼ï¼éåç­åäºæ°æ®åºä¸­çè¡¨çä½ç¨\n\næ°å¢ææ¡£ï¼ï¼ææ¡£æ¯ä¸ç§ç±»ä¼¼jsonæ ¼å¼çæ°æ®ï¼åå­¦èå¯ä»¥åææ°æ®çè§£ä¸ºå°±æ¯jsonæ°æ®ï¼\n\ndb.éååç§°.insert/save/insertone(ææ¡£)\n\n\nå é¤ææ¡£ï¼\n\ndb.éååç§°.remove(æ¡ä»¶)\n\n\nä¿®æ¹ææ¡£ï¼\n\ndb.éååç§°.update(æ¡ä»¶ï¼{æä½ç§ç±»:{ææ¡£}})\n\n\næ¥è¯¢ææ¡£ï¼\n\nåºç¡æ¥è¯¢\næ¥è¯¢å¨é¨ï¼\t\t   db.éå.find();\næ¥ç¬¬ä¸æ¡ï¼\t\t   db.éå.findone()\næ¥è¯¢æå®æ°éææ¡£ï¼\tdb.éå.find().limit(10)\t\t\t\t\t//æ¥10æ¡ææ¡£\nè·³è¿æå®æ°éææ¡£ï¼\tdb.éå.find().skip(20)\t\t\t\t\t//è·³è¿20æ¡ææ¡£\nç»è®¡ï¼\t\t\t  \tdb.éå.count()\næåºï¼\t\t\t\tdb.éå.sort({age:1})\t\t\t\t\t\t//æageååºæåº\næå½±ï¼\t\t\t\tdb.éååç§°.find(æ¡ä»¶,{name:1,age:1})\t\t //ä»ä¿çnameä¸ageå\n\næ¡ä»¶æ¥è¯¢\nåºæ¬æ ¼å¼ï¼\t\t\tdb.éå.find({æ¡ä»¶})\næ¨¡ç³æ¥è¯¢ï¼\t\t\tdb.éå.find({åå:/æ­£åè¡¨è¾¾å¼/})\t\t  //ç­åsqlä¸­çlikeï¼æ¯likeå¼ºå¤§ï¼å¯ä»¥æ§è¡æ­£åææè§å\næ¡ä»¶æ¯è¾è¿ç®ï¼\t\t   db.éå.find({åå:{$gt:å¼}})\t\t\t\t//ç­åsqlä¸­çæ°å¼æ¯è¾æä½ï¼ä¾å¦ï¼name>18\nåå«æ¥è¯¢ï¼\t\t\tdb.éå.find({åå:{$in:[å¼1ï¼å¼2]}})\t\t//ç­åäºsqlä¸­çin\næ¡ä»¶è¿æ¥æ¥è¯¢ï¼\t\t   db.éå.find({$and:[{æ¡ä»¶1},{æ¡ä»¶2}]})\t   //ç­åäºsqlä¸­çandãor\n\n\næå³mongodbçåºç¡æä½å°±æ®åå°è¿éï¼éè¦å¨é¢ææ¡mongodbææ¯ï¼è¯·åçç¸å³æç¨å­¦ä¹ ã\n\n# æ´å\n\nä½¿ç¨springbootæ´åmongdbè¯¥å¦ä½è¿è¡å¢ï¼å¶å®springbootä¸ºä»ä¹ä½¿ç¨çå¼åèè¿ä¹å¤ï¼å°±æ¯å ä¸ºä»çå¥è·¯å ä¹å®å¨ä¸æ ·ãå¯¼å¥åæ ï¼åéç½®ï¼ä½¿ç¨apiæ¥å£æä½ãæ´årediså¦æ­¤ï¼æ´åmongodbåæ ·å¦æ­¤ã\n\nç¬¬ä¸ï¼åå¯¼å¥å¯¹åºææ¯çæ´åstarteråæ \n\nç¬¬äºï¼éç½®å¿è¦ä¿¡æ¯\n\nç¬¬ä¸ï¼ä½¿ç¨æä¾çapiæä½å³å¯\n\nä¸é¢å°±å¼å§springbootæ´åmongodbï¼æä½æ­¥éª¤å¦ä¸ï¼\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åmongodbçstarteråæ \n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-data-mongodb</artifactid>\n</dependency>\n\n\nä¸è¿°åæ ä¹å¯ä»¥å¨åå»ºæ¨¡åçæ¶åéè¿å¾éçå½¢å¼è¿è¡éæ©ï¼åæ ·å½å±nosqlåç±»ä¸­\n\næ­¥éª¤â¡ï¼è¿è¡åºç¡éç½®\n\nspring:\n  data:\n    mongodb:\n      uri: mongodb://localhost/itheima\n\n\næä½mongodbéè¦çéç½®ä¸æä½redisä¸æ ·ï¼æåºæ¬çä¿¡æ¯é½æ¯æä½åªä¸å°æå¡å¨ï¼åºå«å°±æ¯è¿æ¥çæå¡å¨ipå°ååç«¯å£ä¸åï¼ä¹¦åæ ¼å¼ä¸åèå·²ã\n\næ­¥éª¤â¢ï¼ä½¿ç¨springbootæ´åmongodbçä¸ç¨å®¢æ·ç«¯æ¥å£mongotemplateæ¥è¿è¡æä½\n\n@springboottest\nclass springboot17mongodbapplicationtests {\n    @autowired\n    private mongotemplate mongotemplate;\n    @test\n    void contextloads() {\n        book book = new book();\n        book.setid(2);\n        book.setname("springboot2");\n        book.settype("springboot2");\n        book.setdescription("springboot2");\n        mongotemplate.save(book);\n    }\n    @test\n    void find(){\n        list<book> all = mongotemplate.findall(book.class);\n        system.out.println(all);\n    }\n}\n\n\næ´åå·¥ä½å°è¿éå°±åå®äºï¼æè§æ¢çæä¹éçãçæçæ¯è¿ä¸ªå¥è·¯ï¼ä¸æ¿æ§ï¼å°±è¿ä¸æï¼å¯¼åæ åéç½®ç¨apiæä½ï¼éççæ¯è¿ä¸ªææ¯ï¼éé¢å·ä½çæä½apiå¯è½ä¼ä¸çæï¼æå³springbootæ´åmongodbæä»¬å°±è®²å°è¿éãæå´è¶£å¯ä»¥ç»§ç»­å­¦ä¹ mongodbçæä½ï¼ç¶ååæ¥è¿ééè¿ç¼ç¨çå½¢å¼æä½mongodbã\n\næ»ç»\n\n 1. springbootæ´åmongodbæ­¥éª¤\n    1. å¯¼å¥springbootæ´åmongodbçstarteråæ \n    2. è¿è¡åºç¡éç½®\n    3. ä½¿ç¨springbootæ´åmongodbçä¸ç¨å®¢æ·ç«¯æ¥å£mongotemplateæä½\n\n# springbootæ´åes\n\nnosqlè§£å³æ¹æ¡å·²ç»è®²å®äºä¸¤ç§ææ¯çæ´åäºï¼rediså¯ä»¥ä½¿ç¨åå­å è½½æ°æ®å¹¶å®ç°æ°æ®å¿«éè®¿é®ï¼mongodbå¯ä»¥å¨åå­ä¸­å­å¨ç±»ä¼¼å¯¹è±¡çæ°æ®å¹¶å®ç°æ°æ®çå¿«éè®¿é®ï¼å¨ä¼ä¸çº§å¼åä¸­å¯¹äºéåº¦çè¿½æ±æ¯æ°¸æ æ­¢å¢çãä¸é¢è¦è®²çåå®¹ä¹æ¯ä¸æ¬¾nosqlè§£å³æ¹æ¡ï¼åªä¸è¿ä»çä½ç¨ä¸æ¯ä¸ºäºç´æ¥å éæ°æ®çè¯»åï¼èæ¯å éæ°æ®çæ¥è¯¢çï¼å«åesææ¯ã\n\nesï¼elasticsearchï¼æ¯ä¸ä¸ªåå¸å¼å¨ææç´¢å¼æï¼éç¹æ¯å¨ææç´¢ã\n\né£ä»ä¹æ¯å¨ææç´¢å¢ï¼æ¯å¦ç¨æ·è¦ä¹°ä¸æ¬ä¹¦ï¼ä»¥javaä¸ºå³é®å­è¿è¡æç´¢ï¼ä¸ç®¡æ¯ä¹¦åä¸­è¿æ¯ä¹¦çä»ç»ä¸­ï¼çè³æ¯ä¹¦çä½èåå­ï¼åªè¦åå«javaå°±ä½ä¸ºæ¥è¯¢ç»æè¿åç»ç¨æ·æ¥çï¼ä¸è¿°è¿ç¨å°±ä½¿ç¨äºå¨ææç´¢ææ¯ãæç´¢çæ¡ä»¶ä¸åæ¯ä»ç¨äºå¯¹æä¸ä¸ªå­æ®µè¿è¡æ¯å¯¹ï¼èæ¯å¨ä¸æ¡æ°æ®ä¸­ä½¿ç¨æç´¢æ¡ä»¶å»æ¯å¯¹æ´å¤çå­æ®µï¼åªè¦è½å¹éä¸å°±åå¥æ¥è¯¢ç»æï¼è¿å°±æ¯å¨ææç´¢çç®çãèesææ¯å°±æ¯ä¸ç§å¯ä»¥å®ç°ä¸è¿°ææçææ¯ã\n\nè¦å®ç°å¨ææç´¢çææï¼ä¸å¯è½ä½¿ç¨æ°æ®åºä¸­likeæä½å»è¿è¡æ¯å¯¹ï¼è¿ç§æçå¤ªä½äºãesè®¾è®¡äºä¸ç§å¨æ°çææ³ï¼æ¥å®ç°å¨ææç´¢ãå·ä½æä½è¿ç¨å¦ä¸ï¼\n\n 1. å°è¢«æ¥è¯¢çå­æ®µçæ°æ®å¨é¨ææ¬ä¿¡æ¯è¿è¡æ¥åï¼åæè¥å¹²ä¸ªè¯\n    \n    * ä¾å¦âä¸­åäººæ°å±åå½âå°±ä¼è¢«æåæä¸ä¸ªè¯ï¼åå«æ¯âä¸­åâãâäººæ°âãâå±åå½âï¼æ­¤è¿ç¨æä¸ä¸æ¯è¯­å«ååè¯ãåè¯çç­ç¥ä¸åï¼ååºçææä¸ä¸æ ·ï¼ä¸åçåè¯ç­ç¥ç§°ä¸ºåè¯å¨ã\n\n 2. å°åè¯å¾å°çç»æå­å¨èµ·æ¥ï¼å¯¹åºæ¯æ¡æ°æ®çid\n    \n    * ä¾å¦idä¸º1çæ°æ®ä¸­åç§°è¿ä¸é¡¹çå¼æ¯âä¸­åäººæ°å±åå½âï¼é£ä¹åè¯ç»æåï¼å°±ä¼åºç°âä¸­åâå¯¹åºidä¸º1ï¼âäººæ°âå¯¹åºidä¸º1ï¼âå±åå½âå¯¹åºidä¸º1\n    \n    * ä¾å¦idä¸º2çæ°æ®ä¸­åç§°è¿ä¸é¡¹çå¼æ¯âäººæ°ä»£è¡¨å¤§ä¼âï¼é£ä¹åè¯ç»æåï¼å°±ä¼åºç°âäººæ°âå¯¹åºidä¸º2ï¼âä»£è¡¨âå¯¹åºidä¸º2ï¼âå¤§ä¼âå¯¹åºidä¸º2\n    \n    * æ­¤æ¶å°±ä¼åºç°å¦ä¸å¯¹åºç»æï¼æç§ä¸è¿°å½¢å¼å¯ä»¥å¯¹ææææ¡£è¿è¡åè¯ãéè¦æ³¨æåè¯çè¿ç¨ä¸æ¯ä»å¯¹ä¸ä¸ªå­æ®µè¿è¡ï¼èæ¯å¯¹æ¯ä¸ä¸ªåä¸æ¥è¯¢çå­æ®µé½æ§è¡ï¼æç»ç»ææ±æ»å°ä¸ä¸ªè¡¨æ ¼ä¸­\n      \n      åè¯ç»æå³é®å­   å¯¹åºid\n      ä¸­å        1\n      äººæ°        1,2\n      å±åå½       1\n      ä»£è¡¨        2\n      å¤§ä¼        2\n\n 3. å½è¿è¡æ¥è¯¢æ¶ï¼å¦æè¾å¥âäººæ°âä½ä¸ºæ¥è¯¢æ¡ä»¶ï¼å¯ä»¥éè¿ä¸è¿°è¡¨æ ¼æ°æ®è¿è¡æ¯å¯¹ï¼å¾å°idå¼1,2ï¼ç¶åæ ¹æ®idå¼å°±å¯ä»¥å¾å°æ¥è¯¢çç»ææ°æ®äºã\n\nä¸è¿°è¿ç¨ä¸­åè¯ç»æå³é®å­åå®¹æ¯ä¸ä¸ªé½ä¸ç¸åï¼ä½ç¨æç¹ç±»ä¼¼äºæ°æ®åºä¸­çç´¢å¼ï¼æ¯ç¨æ¥å éæ°æ®æ¥è¯¢çãä½æ¯æ°æ®åºä¸­çç´¢å¼æ¯å¯¹æä¸ä¸ªå­æ®µè¿è¡æ·»å ç´¢å¼ï¼èè¿éçåè¯ç»æå³é®å­ä¸æ¯ä¸ä¸ªå®æ´çå­æ®µå¼ï¼åªæ¯ä¸ä¸ªå­æ®µä¸­çå¶ä¸­çä¸é¨ååå®¹ãå¹¶ä¸ç´¢å¼ä½¿ç¨æ¶æ¯æ ¹æ®ç´¢å¼åå®¹æ¥æ¾æ´æ¡æ°æ®ï¼å¨ææç´¢ä¸­çåè¯ç»æå³é®å­æ¥è¯¢åå¾å°çå¹¶ä¸æ¯æ´æ¡çæ°æ®ï¼èæ¯æ°æ®çidï¼è¦æ³è·å¾å·ä½æ°æ®è¿è¦åæ¬¡æ¥è¯¢ï¼å æ­¤è¿éä¸ºè¿ç§åè¯ç»æå³é®å­èµ·äºä¸ä¸ªå¨æ°çåç§°ï¼å«ååæç´¢å¼ï¼æ­£åæåºæ¯æ ¹æ®æ¥è¯¢åå®¹éåæ¯ä¸ä¸ªæä»¶ï¼ç¶åå¨æä»¶ä¸­è¿è¡å¹éï¼åæç´¢å¼æ¯å°æå»ºå³é®è¯åæä»¶çæ å°ï¼æ ¹æ®å³é®è¯æ¥æ¾æä»¶ãï¼ã\n\néè¿ä¸è¿°åå®¹çå­¦ä¹ ï¼åç°ä½¿ç¨eså¶å®åå¤å·¥ä½è¿æ¯æºå¤çï¼å¿é¡»åå»ºç«ææ¡£çåæç´¢å¼ï¼ç¶åæè½ç»§ç»­ä½¿ç¨ãå¿«éäºè§£ä¸ä¸esçå·¥ä½åçï¼ä¸é¢ç´æ¥å¼å§æä»¬çå­¦ä¹ ï¼èè§ç©ï¼åå®è£ï¼åæä½ï¼æåè¯´æ´åã\n\n# å®è£\n\nwindowsçå®è£åä¸è½½å°åï¼https://www.elastic.co/cn/downloads/elasticsearch\n\nä¸è½½çå®è£åæ¯è§£åç¼©å°±è½ä½¿ç¨çzipæä»¶ï¼è§£åç¼©å®æ¯åä¼å¾å°å¦ä¸æä»¶\n\n\n\n * binç®å½ï¼åå«ææçå¯æ§è¡å½ä»¤\n * configç®å½ï¼åå«esæå¡å¨ä½¿ç¨çéç½®æä»¶\n * jdkç®å½ï¼æ­¤ç®å½ä¸­åå«äºä¸ä¸ªå®æ´çjdkå·¥å·åï¼çæ¬17ï¼å½esåçº§æ¶ï¼ä½¿ç¨ææ°çæ¬çjdkç¡®ä¿ä¸ä¼åºç°çæ¬æ¯ææ§ä¸è¶³çé®é¢\n * libç®å½ï¼åå«esè¿è¡çä¾èµjaræä»¶\n * logsç®å½ï¼åå«esè¿è¡åäº§ççæææ¥å¿æä»¶\n * modulesç®å½ï¼åå«esè½¯ä»¶ä¸­ææçåè½æ¨¡åï¼ä¹æ¯ä¸ä¸ªä¸ä¸ªçjaråãåjarç®å½ä¸åï¼jarç®å½æ¯esè¿è¡æé´ä¾èµçjaråï¼modulesæ¯esè½¯ä»¶èªå·±çåè½jarå\n * pluginsç®å½ï¼åå«esè½¯ä»¶å®è£çæä»¶ï¼é»è®¤ä¸ºç©º\n\nå¯å¨æå¡å¨\n\nelasticsearch.bat\n\n\nåå»elasticsearch.batæä»¶å³å¯å¯å¨esæå¡å¨ï¼é»è®¤æå¡ç«¯å£9200ãéè¿æµè§å¨è®¿é®http://localhost:9200çå°å¦ä¸ä¿¡æ¯è§ä¸ºesæå¡å¨æ­£å¸¸å¯å¨\n\n{\n  "name" : "czbk-**********",\n  "cluster_name" : "elasticsearch",\n  "cluster_uuid" : "j137dsswtpg8u4yb-0t1mg",\n  "version" : {\n    "number" : "7.16.2",\n    "build_flavor" : "default",\n    "build_type" : "zip",\n    "build_hash" : "2b937c44140b6559905130a8650c64dbd0879cfb",\n    "build_date" : "2021-12-18t19:42:46.604893745z",\n    "build_snapshot" : false,\n    "lucene_version" : "8.10.1",\n    "minimum_wire_compatibility_version" : "6.8.0",\n    "minimum_index_compatibility_version" : "6.0.0-beta1"\n  },\n  "tagline" : "you know, for search"\n}\n\n\n# åºæ¬æä½\n\nesä¸­ä¿å­ææä»¬è¦æ¥è¯¢çæ°æ®ï¼åªä¸è¿æ ¼å¼åæ°æ®åºå­å¨æ°æ®æ ¼å¼ä¸åèå·²ãå¨esä¸­æä»¬è¦ååå»ºåæç´¢å¼ï¼è¿ä¸ªç´¢å¼çåè½åç¹ç±»ä¼¼äºæ°æ®åºçè¡¨ï¼ç¶åå°æ°æ®æ·»å å°åæç´¢å¼ä¸­ï¼æ·»å çæ°æ®ç§°ä¸ºææ¡£ãæä»¥è¦è¿è¡esçæä½è¦ååå»ºç´¢å¼ï¼åæ·»å ææ¡£ï¼è¿æ ·æè½è¿è¡åç»­çæ¥è¯¢æä½ã\n\nè¦æä½eså¯ä»¥éè¿resté£æ ¼çè¯·æ±æ¥è¿è¡ï¼ä¹å°±æ¯è¯´åéä¸ä¸ªè¯·æ±å°±å¯ä»¥æ§è¡ä¸ä¸ªæä½ãæ¯å¦æ°å»ºç´¢å¼ï¼å é¤ç´¢å¼è¿äºæä½é½å¯ä»¥ä½¿ç¨åéè¯·æ±çå½¢å¼æ¥è¿è¡ã\n\n * åå»ºç´¢å¼ï¼booksæ¯ç´¢å¼åç§°ï¼ä¸å\n   \n   putè¯·æ±\t\thttp://localhost:9200/books\n   \n   \n   åéè¯·æ±åï¼çå°å¦ä¸ä¿¡æ¯å³ç´¢å¼åå»ºæå\n   \n   {\n       "acknowledged": true,\n       "shards_acknowledged": true,\n       "index": "books"\n   }\n   \n   \n   éå¤åå»ºå·²ç»å­å¨çç´¢å¼ä¼åºç°éè¯¯ä¿¡æ¯ï¼reasonå±æ§ä¸­æè¿°éè¯¯åå \n   \n   {\n       "error": {\n           "root_cause": [\n               {\n                   "type": "resource_already_exists_exception",\n                   "reason": "index [books/vgc_xmvaqmedaibnsgo2-w] already exists",\n                   "index_uuid": "vgc_xmvaqmedaibnsgo2-w",\n                   "index": "books"\n               }\n           ],\n           "type": "resource_already_exists_exception",\n           "reason": "index [books/vgc_xmvaqmedaibnsgo2-w] already exists",\t# booksç´¢å¼å·²ç»å­å¨\n           "index_uuid": "vgc_xmvaqmedaibnsgo2-w",\n           "index": "book"\n       },\n       "status": 400\n   }\n   \n\n * æ¥è¯¢ç´¢å¼\n   \n   getè¯·æ±\thttp://localhost:9200/books\n   \n   \n   æ¥è¯¢ç´¢å¼å¾å°ç´¢å¼ç¸å³ä¿¡æ¯ï¼å¦ä¸\n   \n   {\n       "book": {\n           "aliases": {},\n           "mappings": {},\n           "settings": {\n               "index": {\n                   "routing": {\n                       "allocation": {\n                           "include": {\n                               "_tier_preference": "data_content"\n                           }\n                       }\n                   },\n                   "number_of_shards": "1",\n                   "provided_name": "books",\n                   "creation_date": "1645768584849",\n                   "number_of_replicas": "1",\n                   "uuid": "vgc_xmvaqmedaibnsgo2-w",\n                   "version": {\n                       "created": "7160299"\n                   }\n               }\n           }\n       }\n   }\n   \n   \n   å¦ææ¥è¯¢äºä¸å­å¨çç´¢å¼ï¼ä¼è¿åéè¯¯ä¿¡æ¯ï¼ä¾å¦æ¥è¯¢åç§°ä¸ºbookçç´¢å¼åä¿¡æ¯å¦ä¸\n   \n   {\n       "error": {\n           "root_cause": [\n               {\n                   "type": "index_not_found_exception",\n                   "reason": "no such index [book]",\n                   "resource.type": "index_or_alias",\n                   "resource.id": "book",\n                   "index_uuid": "_na_",\n                   "index": "book"\n               }\n           ],\n           "type": "index_not_found_exception",\n           "reason": "no such index [book]",\t\t# æ²¡æbookç´¢å¼\n           "resource.type": "index_or_alias",\n           "resource.id": "book",\n           "index_uuid": "_na_",\n           "index": "book"\n       },\n       "status": 404\n   }\n   \n\n * å é¤ç´¢å¼\n   \n   deleteè¯·æ±\thttp://localhost:9200/books\n   \n   \n   å é¤ææåï¼ç»åºå é¤ç»æ\n   \n   {\n       "acknowledged": true\n   }\n   \n   \n   å¦æéå¤å é¤ï¼ä¼ç»åºéè¯¯ä¿¡æ¯ï¼åæ ·å¨reasonå±æ§ä¸­æè¿°å·ä½çéè¯¯åå \n   \n   {\n       "error": {\n           "root_cause": [\n               {\n                   "type": "index_not_found_exception",\n                   "reason": "no such index [books]",\n                   "resource.type": "index_or_alias",\n                   "resource.id": "book",\n                   "index_uuid": "_na_",\n                   "index": "book"\n               }\n           ],\n           "type": "index_not_found_exception",\n           "reason": "no such index [books]",\t\t# æ²¡æbooksç´¢å¼\n           "resource.type": "index_or_alias",\n           "resource.id": "book",\n           "index_uuid": "_na_",\n           "index": "book"\n       },\n       "status": 404\n   }\n   \n\n * åå»ºç´¢å¼å¹¶æå®åè¯å¨\n   \n   åé¢åå»ºçç´¢å¼æ¯æªæå®åè¯å¨çï¼å¯ä»¥å¨åå»ºç´¢å¼æ¶æ·»å è¯·æ±åæ°ï¼è®¾ç½®åè¯å¨ãç®åå½åè¾ä¸ºæµè¡çåè¯å¨æ¯ikåè¯å¨ï¼ä½¿ç¨ååå¨ä¸å¯¹åºçåè¯å¨ï¼ç¶åä½¿ç¨ãikåè¯å¨ä¸è½½å°åï¼https://github.com/medcl/elasticsearch-analysis-ik/releases\n   \n   åè¯å¨ä¸è½½åè§£åå°eså®è£ç®å½çpluginsç®å½ä¸­å³å¯ï¼å®è£åè¯å¨åéè¦éæ°å¯å¨esæå¡å¨ãä½¿ç¨ikåè¯å¨åå»ºç´¢å¼æ ¼å¼ï¼\n   \n   \n   \n   putè¯·æ±\t\thttp://localhost:9200/books\n   \n   è¯·æ±åæ°å¦ä¸ï¼æ³¨ææ¯jsonæ ¼å¼çåæ°ï¼\n   {\n       "mappings":{\t\t\t\t\t\t\t#å®ä¹mappingså±æ§ï¼æ¿æ¢åå»ºç´¢å¼æ¶å¯¹åºçmappingså±æ§\t\t\n           "properties":{\t\t\t\t\t\t#å®ä¹ç´¢å¼ä¸­åå«çå±æ§è®¾ç½®\n               "id":{\t\t\t\t\t\t\t#è®¾ç½®ç´¢å¼ä¸­åå«idå±æ§\n                   "type":"keyword"\t\t\t#å½åå±æ§å¯ä»¥è¢«ç´æ¥æç´¢\n               },\n               "name":{\t\t\t\t\t\t#è®¾ç½®ç´¢å¼ä¸­åå«nameå±æ§\n                   "type":"text",              #å½åå±æ§æ¯ææ¬ä¿¡æ¯,æ¯å­ç¬¦åï¼åä¸åè¯  \n                   "analyzer":"ik_max_word",   #ä½¿ç¨ikåè¯å¨è¿è¡åè¯             \n                   "copy_to":"all"\t\t\t\t#åè¯ç»ææ·è´å°allå±æ§ä¸­\n               },\n               "type":{\n                   "type":"keyword"\n               },\n               "description":{\n                   "type":"text",\t                \n                   "analyzer":"ik_max_word",                \n                   "copy_to":"all"\n               },\n               "all":{\t\t\t\t\t\t\t#å®ä¹å±æ§ï¼ç¨æ¥æè¿°å¤ä¸ªå­æ®µçåè¯ç»æéåï¼å½åå±æ§å¯ä»¥åä¸æ¥è¯¢\n                   "type":"text",\t            # è¿ä¸ªå±æ§å°name ådescriptionä¸­çæ·è´å°allä¸­    \n                   "analyzer":"ik_max_word"\n               }\n           }\n       }\n   }\n   \n   \n   åå»ºå®æ¯åè¿åç»æåä¸ä½¿ç¨åè¯å¨åå»ºç´¢å¼çç»ææ¯ä¸æ ·çï¼æ­¤æ¶å¯ä»¥éè¿æ¥çç´¢å¼ä¿¡æ¯è§å¯å°æ·»å çè¯·æ±åæ°mappingså·²ç»è¿å¥å°äºç´¢å¼å±æ§ä¸­ï¼å·ä½å±æ§é¡ºåºæç§åé¨è®¾å®è¿è¡æåº\n   \n   {\n       "books": {\n           "aliases": {},\n           "mappings": {\t\t\t\t\t\t#mappingså±æ§å·²ç»è¢«æ¿æ¢\n               "properties": {\n                   "all": {\n                       "type": "text",\n                       "analyzer": "ik_max_word"\n                   },\n                   "description": {\n                       "type": "text",\n                       "copy_to": [\n                           "all"\n                       ],\n                       "analyzer": "ik_max_word"\n                   },\n                   "id": {\n                       "type": "keyword"\n                   },\n                   "name": {\n                       "type": "text",\n                       "copy_to": [\n                           "all"\n                       ],\n                       "analyzer": "ik_max_word"\n                   },\n                   "type": {\n                       "type": "keyword"\n                   }\n               }\n           },\n           "settings": {\n               "index": {\n                   "routing": {\n                       "allocation": {\n                           "include": {\n                               "_tier_preference": "data_content"\n                           }\n                       }\n                   },\n                   "number_of_shards": "1",\n                   "provided_name": "books",\n                   "creation_date": "1645769809521",\n                   "number_of_replicas": "1",\n                   "uuid": "dohykvr_szo4krgmbzymtq",\n                   "version": {\n                       "created": "7160299"\n                   }\n               }\n           }\n       }\n   }\n   \n\nç®åæä»¬å·²ç»æäºç´¢å¼äºï¼ä½æ¯ç´¢å¼ä¸­è¿æ²¡ææ°æ®ï¼æä»¥è¦åæ·»å æ°æ®ï¼esä¸­ç§°æ°æ®ä¸ºææ¡£ï¼ä¸é¢è¿è¡ææ¡£æä½ã\n\n * æ·»å ææ¡£ï¼æä¸ç§æ¹å¼\n   \n   postè¯·æ±\thttp://localhost:9200/books/_doc\t\t#ä½¿ç¨ç³»ç»çæid\n   postè¯·æ±\thttp://localhost:9200/books/_create/1\t#ä½¿ç¨æå®id\n   postè¯·æ±\thttp://localhost:9200/books/_doc/1\t\t#ä½¿ç¨æå®idï¼ä¸å­å¨åå»ºï¼å­å¨æ´æ°ï¼çæ¬éå¢ï¼\n   \n   ææ¡£éè¿è¯·æ±åæ°ä¼ éï¼æ°æ®æ ¼å¼json\n   {\n       "name":"springboot",\n       "type":"springboot",\n       "description":"springboot"\n   }  \n   \n\n * æ¥è¯¢ææ¡£\n   \n   getè¯·æ±\thttp://localhost:9200/books/_doc/1\t\t #æ¥è¯¢åä¸ªææ¡£ \t\t\n   getè¯·æ±\thttp://localhost:9200/books/_search\t\t #æ¥è¯¢å¨é¨ææ¡£\n   \n\n * æ¡ä»¶æ¥è¯¢\n   \n   getè¯·æ±\thttp://localhost:9200/books/_search?q=name:springboot\t# q=æ¥è¯¢å±æ§å:æ¥è¯¢å±æ§å¼\n   \n\n * å é¤ææ¡£\n   \n   deleteè¯·æ±\thttp://localhost:9200/books/_doc/1\n   \n\n * ä¿®æ¹ææ¡£ï¼å¨éæ´æ°ï¼\n   \n   putè¯·æ±\thttp://localhost:9200/books/_doc/1\n   \n   ææ¡£éè¿è¯·æ±åæ°ä¼ éï¼æ°æ®æ ¼å¼json\n   {\n       "name":"springboot",\n       "type":"springboot",\n       "description":"springboot"\n   }\n   \n\n * ä¿®æ¹ææ¡£ï¼é¨åæ´æ°ï¼\n   \n   postè¯·æ±\thttp://localhost:9200/books/_update/1\n   \n   ææ¡£éè¿è¯·æ±åæ°ä¼ éï¼æ°æ®æ ¼å¼json\n   {\t\t\t\n       "doc":{\t\t\t\t\t\t#é¨åæ´æ°å¹¶ä¸æ¯å¯¹åå§ææ¡£è¿è¡æ´æ°ï¼èæ¯å¯¹åå§ææ¡£å¯¹è±¡ä¸­çdocå±æ§ä¸­çæå®å±æ§æ´æ°\n           "name":"springboot"\t\t#ä»æ´æ°æä¾çå±æ§å¼ï¼æªæä¾çå±æ§å¼ä¸åä¸æ´æ°æä½\n       }\n   }\n   \n\n# æ´å\n\nä½¿ç¨springbootæ´åesè¯¥å¦ä½è¿è¡å¢ï¼èè§ç©ï¼å¯¼å¥åæ ï¼åéç½®ï¼ä½¿ç¨apiæ¥å£æä½ãæ´årediså¦æ­¤ï¼æ´åmongodbå¦æ­¤ï¼æ´åesä¾ç¶å¦æ­¤ãå¤ªæ²¡ææ°æäºï¼å¶å®ä¸æ¯æ²¡ææ°æï¼è¿å°±æ¯springbootçå¼ºå¤§ä¹å¤ï¼ææä¸è¥¿é½åæç¸åè§åï¼å¯¹å¼åèæ¥è¯´éå¸¸åå¥½ã\n\nä¸é¢å°±å¼å§springbootæ´åesï¼æä½æ­¥éª¤å¦ä¸ï¼\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åesçstarteråæ \n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-data-elasticsearch</artifactid>\n</dependency>\n\n\næ­¥éª¤â¡ï¼è¿è¡åºç¡éç½®\n\nspring:\n  elasticsearch:\n    rest:\n      uris: http://localhost:9200\n\n\néç½®esæå¡å¨å°åï¼ç«¯å£9200\n\næ­¥éª¤â¢ï¼ä½¿ç¨springbootæ´åesçä¸ç¨å®¢æ·ç«¯æ¥å£elasticsearchresttemplateæ¥è¿è¡æä½\n\n@springboottest\nclass springboot18esapplicationtests {\n    @autowired\n    private elasticsearchresttemplate template;\n}\n\n\nä¸è¿°æä½å½¢å¼æ¯esæ©æçæä½æ¹å¼ï¼ä½¿ç¨çå®¢æ·ç«¯è¢«ç§°ä¸ºlow level clientï¼è¿ç§å®¢æ·ç«¯æä½æ¹å¼æ§è½æ¹é¢ç¥æ¾ä¸è¶³ï¼äºæ¯eså¼åäºå¨æ°çå®¢æ·ç«¯æä½æ¹å¼ï¼ç§°ä¸ºhigh level clientãé«çº§å«å®¢æ·ç«¯ä¸esçæ¬åæ­¥æ´æ°ï¼ä½æ¯springbootæåæ´åesçæ¶åä½¿ç¨çæ¯ä½çº§å«å®¢æ·ç«¯ï¼æä»¥ä¼ä¸å¼åéè¦æ´æ¢æé«çº§å«çå®¢æ·ç«¯æ¨¡å¼ã\n\nä¸é¢ä½¿ç¨é«çº§å«å®¢æ·ç«¯æ¹å¼è¿è¡springbootæ´åesï¼æä½æ­¥éª¤å¦ä¸ï¼\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åesé«çº§å«å®¢æ·ç«¯çåæ ï¼æ­¤ç§å½¢å¼ç®åæ²¡æå¯¹åºçstarter\n\n<dependency>\n    <groupid>org.elasticsearch.client</groupid>\n    <artifactid>elasticsearch-rest-high-level-client</artifactid>\n</dependency>\n\n\næ­¥éª¤â¡ï¼ä½¿ç¨ç¼ç¨çå½¢å¼è®¾ç½®è¿æ¥çesæå¡å¨ï¼å¹¶è·åå®¢æ·ç«¯å¯¹è±¡\n\n@springboottest\nclass springboot18esapplicationtests {\n    private resthighlevelclient client;\n      @test\n      void testcreateclient() throws ioexception {\n          httphost host = httphost.create("http://localhost:9200");\n          restclientbuilder builder = restclient.builder(host);\n          client = new resthighlevelclient(builder);\n  \n          client.close();\n      }\n}\n\n\néç½®esæå¡å¨å°åä¸ç«¯å£9200ï¼è®°å¾å®¢æ·ç«¯ä½¿ç¨å®æ¯éè¦æå·¥å³é­ãç±äºå½åå®¢æ·ç«¯æ¯æå·¥ç»´æ¤çï¼å æ­¤ä¸è½éè¿èªå¨è£éçå½¢å¼å è½½å¯¹è±¡ã\n\næ­¥éª¤â¢ï¼ä½¿ç¨å®¢æ·ç«¯å¯¹è±¡æä½esï¼ä¾å¦åå»ºç´¢å¼\n\n@springboottest\nclass springboot18esapplicationtests {\n    private resthighlevelclient client;\n      @test\n      void testcreateindex() throws ioexception {\n          httphost host = httphost.create("http://localhost:9200");\n          restclientbuilder builder = restclient.builder(host);\n          client = new resthighlevelclient(builder);\n          // å®¢æ·ç«¯æä½\n          createindexrequest request = new createindexrequest("books");\n          // è·åæä½ç´¢å¼çå®¢æ·ç«¯å¯¹è±¡ï¼è°ç¨åå»ºç´¢å¼æä½\n          client.indices().create(request, requestoptions.default); \n          // å³é­å®¢æ·ç«¯\n          client.close();\n      }\n}\n\n\né«çº§å«å®¢æ·ç«¯æä½æ¯éè¿åéè¯·æ±çæ¹å¼å®ææææä½çï¼eséå¯¹åç§ä¸åçæä½ï¼è®¾å®äºåå¼åæ ·çè¯·æ±å¯¹è±¡ï¼ä¸ä¾ä¸­åå»ºç´¢å¼çå¯¹è±¡æ¯createindexrequestï¼å¶ä»æä½ä¹ä¼æèªå·±ä¸ç¨çrequestå¯¹è±¡ã\n\nå½åæä½æä»¬åç°ï¼æ è®ºè¿è¡esä½ç§æä½ï¼ç¬¬ä¸æ­¥æ°¸è¿æ¯è·åresthighlevelclientå¯¹è±¡ï¼æåä¸æ­¥æ°¸è¿æ¯å³é­è¯¥å¯¹è±¡çè¿æ¥ãå¨æµè¯ä¸­å¯ä»¥ä½¿ç¨æµè¯ç±»çç¹æ§å»å¸®å©å¼åèä¸æ¬¡æ§çå®æä¸è¿°æä½ï¼ä½æ¯å¨ä¸å¡ä¹¦åæ¶ï¼è¿éè¦èªè¡ç®¡çãå°ä¸è¿°ä»£ç æ ¼å¼è½¬æ¢æä½¿ç¨æµè¯ç±»çåå§åæ¹æ³åéæ¯æ¹æ³è¿è¡å®¢æ·ç«¯å¯¹è±¡çç»´æ¤ã\n\n@springboottest\nclass springboot18esapplicationtests {\n    @beforeeach\t\t//å¨æµè¯ç±»ä¸­æ¯ä¸ªæä½è¿è¡åè¿è¡çæ¹æ³\n    void setup() {\n        httphost host = httphost.create("http://localhost:9200");\n        restclientbuilder builder = restclient.builder(host);\n        client = new resthighlevelclient(builder);\n    }\n\n    @aftereach\t\t//å¨æµè¯ç±»ä¸­æ¯ä¸ªæä½è¿è¡åè¿è¡çæ¹æ³\n    void teardown() throws ioexception {\n        client.close();ï¼\n    }\n\n    private resthighlevelclient client;\n\n    @test\n    void testcreateindex() throws ioexception {\n        createindexrequest request = new createindexrequest("books");\n        client.indices().create(request, requestoptions.default);\n    }\n}\n\n\nç°å¨çä¹¦åç®åäºå¾å¤ï¼ä¹æ´åçãä¸é¢ä½¿ç¨ä¸è¿°æ¨¡å¼å°ææçesæä½æ§è¡ä¸éï¼æµè¯ç»æ\n\nåå»ºç´¢å¼ï¼ikåè¯å¨ï¼ï¼\n\n@test\nvoid testcreateindexbyik() throws ioexception {\n    createindexrequest request = new createindexrequest("books");\n    string json = "{\\n" +\n            "    \\"mappings\\":{\\n" +\n            "        \\"properties\\":{\\n" +\n            "            \\"id\\":{\\n" +\n            "                \\"type\\":\\"keyword\\"\\n" +\n            "            },\\n" +\n            "            \\"name\\":{\\n" +\n            "                \\"type\\":\\"text\\",\\n" +\n            "                \\"analyzer\\":\\"ik_max_word\\",\\n" +\n            "                \\"copy_to\\":\\"all\\"\\n" +\n            "            },\\n" +\n            "            \\"type\\":{\\n" +\n            "                \\"type\\":\\"keyword\\"\\n" +\n            "            },\\n" +\n            "            \\"description\\":{\\n" +\n            "                \\"type\\":\\"text\\",\\n" +\n            "                \\"analyzer\\":\\"ik_max_word\\",\\n" +\n            "                \\"copy_to\\":\\"all\\"\\n" +\n            "            },\\n" +\n            "            \\"all\\":{\\n" +\n            "                \\"type\\":\\"text\\",\\n" +\n            "                \\"analyzer\\":\\"ik_max_word\\"\\n" +\n            "            }\\n" +\n            "        }\\n" +\n            "    }\\n" +\n            "}";\n    //è®¾ç½®è¯·æ±ä¸­çåæ°\n    request.source(json, xcontenttype.json);\n    client.indices().create(request, requestoptions.default);\n}\n\n\nikåè¯å¨æ¯éè¿è¯·æ±åæ°çå½¢å¼è¿è¡è®¾ç½®çï¼è®¾ç½®è¯·æ±åæ°ä½¿ç¨requestå¯¹è±¡ä¸­çsourceæ¹æ³è¿è¡è®¾ç½®ï¼è³äºåæ°æ¯ä»ä¹ï¼åå³äºä½ çæä½ç§ç±»ãå½è¯·æ±ä¸­éè¦åæ°æ¶ï¼åå¯ä½¿ç¨å½åå½¢å¼è¿è¡åæ°è®¾ç½®ã\n\næ·»å ææ¡£ï¼\n\n@test\n//æ·»å idä¸º1çæ°æ®ï¼ææ¡£ï¼\nvoid testcreatedoc() throws ioexception {\n    book book = bookdao.selectbyid(1);\n    indexrequest request = new indexrequest("books").id(book.getid().tostring());\n    string json = json.tojsonstring(book);\n    request.source(json,xcontenttype.json);\n    client.index(request,requestoptions.default);\n}\n\n\næ·»å ææ¡£ä½¿ç¨çè¯·æ±å¯¹è±¡æ¯indexrequestï¼ä¸åå»ºç´¢å¼ä½¿ç¨çè¯·æ±å¯¹è±¡ä¸åã\n\næ¹éæ·»å ææ¡£ï¼\n\n@test\n//æ¹éæ·»å ææ¡£\nvoid testcreatedocall() throws ioexception {\n    list<book> booklist = bookdao.selectlist(null);\n    bulkrequest bulk = new bulkrequest();\n    for (book book : booklist) {\n        indexrequest request = new indexrequest("books").id(book.getid().tostring());\n        string json = json.tojsonstring(book);\n        request.source(json,xcontenttype.json);\n        bulk.add(request);\n    }\n    client.bulk(bulk,requestoptions.default);\n}\n\n\næ¹éåæ¶ï¼ååå»ºä¸ä¸ªbulkrequestçå¯¹è±¡ï¼å¯ä»¥å°è¯¥å¯¹è±¡çè§£ä¸ºæ¯ä¸ä¸ªä¿å­requestå¯¹è±¡çå®¹å¨ï¼å°ææçè¯·æ±é½åå§åå¥½åï¼æ·»å å°bulkrequestå¯¹è±¡ä¸­ï¼åä½¿ç¨bulkrequestå¯¹è±¡çbulkæ¹æ³ï¼ä¸æ¬¡æ§æ§è¡å®æ¯ã\n\næidæ¥è¯¢ææ¡£ï¼\n\n@test\n//æidæ¥è¯¢\nvoid testget() throws ioexception {\n    getrequest request = new getrequest("books","1");\n    getresponse response = client.get(request, requestoptions.default);\n    string json = response.getsourceasstring();\n    system.out.println(json);\n}\n\n\næ ¹æ®idæ¥è¯¢ææ¡£ä½¿ç¨çè¯·æ±å¯¹è±¡æ¯getrequestã\n\nææ¡ä»¶æ¥è¯¢ææ¡£ï¼\n\n@test\n//ææ¡ä»¶æ¥è¯¢\nvoid testsearch() throws ioexception {\n    searchrequest request = new searchrequest("books");\n\n    searchsourcebuilder builder = new searchsourcebuilder();\n    builder.query(querybuilders.termquery("all","spring"));    // æ¥è¯¢å¯¹è±¡\n    request.source(builder);  // ä½¿è®¾ç½®æ¡ä»¶ \n\n    searchresponse response = client.search(request, requestoptions.default);\n    searchhits hits = response.gethits();\n    for (searchhit hit : hits) {\n        string source = hit.getsourceasstring();\n        //system.out.println(source);\n        book book = json.parseobject(source, book.class);\n        system.out.println(book);\n    }\n}\n\n\nææ¡ä»¶æ¥è¯¢ææ¡£ä½¿ç¨çè¯·æ±å¯¹è±¡æ¯searchrequestï¼æ¥è¯¢æ¶è°ç¨searchrequestå¯¹è±¡çtermqueryæ¹æ³ï¼éè¦ç»åºæ¥è¯¢å±æ§åï¼æ­¤å¤æ¯æä½¿ç¨åå¹¶å­æ®µï¼ä¹å°±æ¯åé¢å®ä¹ç´¢å¼å±æ§æ¶æ·»å çallå±æ§ã\n\nspringbootæ´åesçæä½å°è¿éå°±è¯´å®äºï¼ä¸åæè¿è¡springbootæ´åredisåmongodbçå·®å«è¿æ¯è®å¤§çï¼ä¸»è¦åå§å°±æ¯æä»¬æ²¡æä½¿ç¨springbootæ´åesçå®¢æ·ç«¯å¯¹è±¡ãè³äºæä½ï¼ç±äºesæä½ç§ç±»è¿å¤ï¼æä»¥æ¾å¾æä½ç¥å¾®æç¹å¤æãæå³springbootæ´åeså°±åå­¦ä¹ å°è¿éå§ã\n\næ»ç»\n\n 1. springbootæ´åesæ­¥éª¤\n    1. å¯¼å¥springbootæ´åesçhigh level clientåæ \n    2. æå·¥ç®¡çå®¢æ·ç«¯å¯¹è±¡ï¼åæ¬åå§ååå³é­æä½\n    3. ä½¿ç¨high level clientæ ¹æ®æä½çç§ç±»ä¸åï¼éæ©ä¸åçrequestå¯¹è±¡å®æå¯¹åºæä½\n\n\n# kf-5.æ´åç¬¬ä¸æ¹ææ¯\n\néè¿ç¬¬åç« çå­¦ä¹ ï¼æä»¬é¢ç¥å°äºspringbootå¨æ´åç¬¬ä¸æ¹ææ¯æ¶å¼ºå¤§çä¸è´æ§ï¼å¨ç¬¬äºç« ä¸­æä»¬è¦ä½¿ç¨springbootç»§ç»­æ´ååç§åæ ·çç¬¬ä¸æ¹ææ¯ï¼éè¿æ¬ç« çå­¦ä¹ ï¼å¯ä»¥å°ä¹åå­¦ä¹ çspringbootæ´åç¬¬ä¸æ¹ææ¯çææ³è´¯å½»å°åºï¼è¿æ¯é£ä¸æ¿æ§ãå¯¼åæ ãåéç½®ãè°apiã\n\nspringbootè½å¤æ´åçææ¯å®å¨æ¯å¤ªå¤äºï¼å¯ä»¥è¯´æ¯ä¸ç©çå¯æ´ãæ¬ç« å°ä»ä¼ä¸çº§å¼åä¸­å¸¸ç¨çä¸äºææ¯ä½ä¸ºåºåç¹ï¼å¯¹åç§åæ ·çææ¯è¿è¡æ´åã\n\n\n# kf-5-1.ç¼å­\n\nä¼ä¸çº§åºç¨ä¸»è¦ä½ç¨æ¯ä¿¡æ¯å¤çï¼å½éè¦è¯»åæ°æ®æ¶ï¼ç±äºåéäºæ°æ®åºçè®¿é®æçï¼å¯¼è´æ´ä½ç³»ç»æ§è½åä½ã\n\nåºç¨ç¨åºç´æ¥ä¸æ°æ®åºæäº¤éï¼è®¿é®æçä½\n\nä¸ºäºæ¹åä¸è¿°ç°è±¡ï¼å¼åèéå¸¸ä¼å¨åºç¨ç¨åºä¸æ°æ®åºä¹é´å»ºç«ä¸ç§ä¸´æ¶çæ°æ®å­å¨æºå¶ï¼è¯¥åºåä¸­çæ°æ®å¨åå­ä¸­ä¿å­ï¼è¯»åéåº¦è¾å¿«ï¼å¯ä»¥ææè§£å³æ°æ®åºè®¿é®æçä½ä¸çé®é¢ãè¿ä¸åä¸´æ¶å­å¨æ°æ®çåºåå°±æ¯ç¼å­ã\n\n\t\t\t\t\t\t\t\t\t\tä½¿ç¨ç¼å­åï¼åºç¨ç¨åºä¸ç¼å­æäº¤éï¼ç¼å­ä¸æ°æ®åºæäº¤éï¼æ°æ®è®¿é®æçæé«\n\n\n\n\nå¤çº§ç¼å­\n\nç¼å­æ¯ä»ä¹ï¼ç¼å­æ¯ä¸ç§ä»äºæ°æ®æ°¸ä¹å­å¨ä»è´¨ä¸åºç¨ç¨åºä¹é´çæ°æ®ä¸´æ¶å­å¨ä»è´¨ï¼ä½¿ç¨ç¼å­å¯ä»¥ææçåå°ä½éæ°æ®è¯»åè¿ç¨çæ¬¡æ°ï¼ä¾å¦ç£çioï¼ï¼æé«ç³»ç»æ§è½ãæ­¤å¤ç¼å­ä¸ä»å¯ä»¥ç¨äºæé«æ°¸ä¹æ§å­å¨ä»è´¨çæ°æ®è¯»åæçï¼è¿å¯ä»¥æä¾ä¸´æ¶çæ°æ®å­å¨ç©ºé´ãèspringbootæä¾äºå¯¹å¸é¢ä¸å ä¹ææçç¼å­ææ¯è¿è¡æ´åçæ¹æ¡ï¼ä¸é¢å°±ä¸èµ·å¼å¯springbootæ´åç¼å­ä¹æã\n\n# springbootåç½®ç¼å­è§£å³æ¹æ¡\n\nspringbootææ¯æä¾æåç½®çç¼å­è§£å³æ¹æ¡ï¼å¯ä»¥å¸®å©å¼åèå¿«éå¼å¯ç¼å­ææ¯ï¼å¹¶ä½¿ç¨ç¼å­ææ¯è¿è¡æ°æ®çå¿«éæä½ï¼ä¾å¦è¯»åç¼å­æ°æ®ååå¥æ°æ®å°ç¼å­ã\n\næ­¥éª¤â ï¼å¯¼å¥springbootæä¾çç¼å­ææ¯å¯¹åºçstarter\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-cache</artifactid>\n</dependency>\n\n\næ­¥éª¤â¡ï¼å¯ç¨ç¼å­ï¼å¨å¼å¯¼ç±»ä¸æ¹æ æ³¨æ³¨è§£@enablecachingéç½®springbootç¨åºä¸­å¯ä»¥ä½¿ç¨ç¼å­\n\n@springbootapplication\n//å¼å¯ç¼å­åè½\n@enablecaching\npublic class springboot19cacheapplication {\n    public static void main(string[] args) {\n        springapplication.run(springboot19cacheapplication.class, args);\n    }\n}\n\n\næ­¥éª¤â¢ï¼è®¾ç½®æä½çæ°æ®æ¯å¦ä½¿ç¨ç¼å­\n\n@service\npublic class bookserviceimpl implements bookservice {\n    @autowired\n    private bookdao bookdao;\n\n    @cacheable(value="cachespace",key="#id")\n    public book getbyid(integer id) {\n        return bookdao.selectbyid(id);\n    }\n}\n\n\nå¨ä¸å¡æ¹æ³ä¸é¢ä½¿ç¨æ³¨è§£@cacheableå£°æå½åæ¹æ³çè¿åå¼æ¾å¥ç¼å­ä¸­ï¼å¶ä¸­è¦æå®ç¼å­çå­å¨ä½ç½®ï¼ä»¥åç¼å­ä¸­ä¿å­å½åæ¹æ³è¿åå¼å¯¹åºçåç§°ãä¸ä¾ä¸­valueå±æ§æè¿°ç¼å­çå­å¨ä½ç½®ï¼å¯ä»¥çè§£ä¸ºæ¯ä¸ä¸ªå­å¨ç©ºé´åï¼keyå±æ§æè¿°äºç¼å­ä¸­ä¿å­æ°æ®çåç§°ï¼ä½¿ç¨#idè¯»åå½¢åä¸­çidå¼ä½ä¸ºç¼å­åç§°ã\n\nä½¿ç¨@cacheableæ³¨è§£åï¼æ§è¡å½åæä½ï¼å¦æåç°å¯¹åºåç§°å¨ç¼å­ä¸­æ²¡ææ°æ®ï¼å°±æ­£å¸¸è¯»åæ°æ®ï¼ç¶åæ¾å¥ç¼å­ï¼å¦æå¯¹åºåç§°å¨ç¼å­ä¸­ææ°æ®ï¼å°±ç»æ­¢å½åä¸å¡æ¹æ³æ§è¡ï¼ç´æ¥è¿åç¼å­ä¸­çæ°æ®ã\n\n# ææºéªè¯ç æ¡ä¾\n\nä¸ºäºä¾¿äºä¸é¢æ¼ç¤ºåç§åæ ·çç¼å­ææ¯ï¼æä»¬åå»ºä¸ä¸ªææºéªè¯ç çæ¡ä¾ç¯å¢ï¼æ¨¡æä½¿ç¨ç¼å­ä¿å­ææºéªè¯ç çè¿ç¨ã\n\nææºéªè¯ç æ¡ä¾éæ±å¦ä¸ï¼\n\n * è¾å¥ææºå·è·åéªè¯ç ï¼ç»ç»ææ¡£ä»¥ç­ä¿¡å½¢å¼åéç»ç¨æ·ï¼é¡µé¢æ¨¡æï¼\n * è¾å¥ææºå·åéªè¯ç éªè¯ç»æ\n\nä¸ºäºæè¿°ä¸è¿°æä½ï¼æä»¬å¶ä½ä¸¤ä¸ªè¡¨ç°å±æ¥å£ï¼ä¸ä¸ªç¨æ¥æ¨¡æåéç­ä¿¡çè¿ç¨ï¼å¶å®å°±æ¯æ ¹æ®ç¨æ·æä¾çææºå·çæä¸ä¸ªéªè¯ç ï¼ç¶åæ¾å¥ç¼å­ï¼å¦ä¸ä¸ªç¨æ¥æ¨¡æéªè¯ç æ ¡éªçè¿ç¨ï¼å¶å®å°±æ¯ä½¿ç¨ä¼ å¥çææºå·åéªè¯ç è¿è¡å¹éï¼å¹¶è¿åæç»å¹éç»æãä¸é¢ç´æ¥å¶ä½æ¬æ¡ä¾çæ¨¡æä»£ç ï¼åä»¥ä¸ä¾ä¸­springbootæä¾çåç½®ç¼å­ææ¯æ¥å®æå½åæ¡ä¾çå¶ä½ã\n\næ­¥éª¤â ï¼å¯¼å¥springbootæä¾çç¼å­ææ¯å¯¹åºçstarter\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-cache</artifactid>\n</dependency>\n\n\næ­¥éª¤â¡ï¼å¯ç¨ç¼å­ï¼å¨å¼å¯¼ç±»ä¸æ¹æ æ³¨æ³¨è§£@enablecachingéç½®springbootç¨åºä¸­å¯ä»¥ä½¿ç¨ç¼å­\n\n@springbootapplication\n//å¼å¯ç¼å­åè½\n@enablecaching\npublic class springboot19cacheapplication {\n    public static void main(string[] args) {\n        springapplication.run(springboot19cacheapplication.class, args);\n    }\n}\n\n\næ­¥éª¤â¢ï¼å®ä¹éªè¯ç å¯¹åºçå®ä½ç±»ï¼å°è£ææºå·ä¸éªè¯ç ä¸¤ä¸ªå±æ§\n\n@data\npublic class smscode {\n    private string tele;\n    private string code;\n}\n\n\næ­¥éª¤â£ï¼å®ä¹éªè¯ç åè½çä¸å¡å±æ¥å£ä¸å®ç°ç±»\n\npublic interface smscodeservice {\n    public string sendcodetosms(string tele);\n    public boolean checkcode(smscode smscode);\n}\n\n@service\npublic class smscodeserviceimpl implements smscodeservice {\n    @autowired\n    private codeutils codeutils;\n\n    @cacheput(value = "smscode", key = "#tele")\n    public string sendcodetosms(string tele) {\n        string code = codeutils.generator(tele);\n        return code;\n    }\n\n    public boolean checkcode(smscode smscode) {\n        //ååºåå­ä¸­çéªè¯ç ä¸ä¼ éè¿æ¥çéªè¯ç æ¯å¯¹ï¼å¦æç¸åï¼è¿åtrue\n        string code = smscode.getcode();\n        string cachecode = codeutils.get(smscode.gettele());  // ç¼å­ä¸­ååºå¯¹åºçéªè¯ç \n        return code.equals(cachecode);\n    }\n}\n\n\nè·åéªè¯ç åï¼å½éªè¯ç å¤±ææ¶å¿é¡»éæ°è·åéªè¯ç ï¼å æ­¤å¨è·åéªè¯ç çåè½ä¸ä¸è½ä½¿ç¨@cacheableæ³¨è§£ï¼@cacheableæ³¨è§£æ¯ç¼å­ä¸­æ²¡æå¼åæ¾å¥å¼ï¼ç¼å­ä¸­æå¼ååå¼ï¼å¨è¿éå°±ä¸è½æ ¹æ®ææºå·éæ°çæéªè¯ç äºãæ­¤å¤çåè½ä»ä»æ¯çæéªè¯ç å¹¶æ¾å¥ç¼å­ï¼å¹¶ä¸å·æä»ç¼å­ä¸­åå¼çåè½ï¼å æ­¤ä¸è½ä½¿ç¨@cacheableæ³¨è§£ï¼åºè¯¥ä½¿ç¨ä»å·æåç¼å­ä¸­ä¿å­æ°æ®çåè½ï¼ä½¿ç¨@cacheputæ³¨è§£å³å¯ã\n\nå¯¹äºæ ¡éªéªè¯ç çåè½å»ºè®®æ¾å¥å·¥å·ç±»ä¸­è¿è¡ã\n\næ­¥éª¤â¤ï¼å®ä¹éªè¯ç ççæç­ç¥ä¸æ ¹æ®ææºå·è¯»åéªè¯ç çåè½\n\n@component\npublic class codeutils {\n    private string [] patch = {"000000","00000","0000","000","00","0",""};\n\n    public string generator(string tele){\n        int hash = tele.hashcode();\n        int encryption = 20206666;\n        long result = hash ^ encryption;\n        long nowtime = system.currenttimemillis();\n        result = result ^ nowtime;\n        long code = result % 1000000;\n        code = code < 0 ? -code : code;\n        string codestr = code +   // è½¬æå­ç¬¦ä¸²\n        int len = codestr.length();\n        return patch[len] + codestr;\n    }\n\n    @cacheable(value = "smscode",key="#tele")\n    public string get(string tele){\n        return null;\n    }\n}\n\n\næ­¥éª¤â¥ï¼å®ä¹éªè¯ç åè½çwebå±æ¥å£ï¼ä¸ä¸ªæ¹æ³ç¨äºæä¾ææºå·è·åéªè¯ç ï¼ä¸ä¸ªæ¹æ³ç¨äºæä¾ææºå·åéªè¯ç è¿è¡æ ¡éª\n\n@restcontroller\n@requestmapping("/sms")\npublic class smscodecontroller {\n    @autowired\n    private smscodeservice smscodeservice;\n    \n    @getmapping\n    public string getcode(string tele){\n        string code = smscodeservice.sendcodetosms(tele);\n        return code;\n    }\n    \n    @postmapping\n    public boolean checkcode(smscode smscode){\n        return smscodeservice.checkcode(smscode);\n    }\n}\n\n\n# springbootå¸¸ç¨ç¼å­ææ¯\n\næ çº¢çæ¯æä¸ºå¸¸ç¨ç\n\n\n\n# springbootæ´åehcacheç¼å­\n\nææºéªè¯ç çæ¡ä¾å·²ç»å®æäºï¼ä¸é¢å°±å¼å§springbootæ´ååç§åæ ·çç¼å­ææ¯ï¼ç¬¬ä¸ä¸ªæ´åehcacheææ¯ãehcacheæ¯ä¸ç§ç¼å­ææ¯ï¼ä½¿ç¨springbootæ´åehcacheå¶å®å°±æ¯åæ´ä¸ä¸ç¼å­ææ¯çå®ç°æ¹å¼ï¼è¯ä¸å¤è¯´ï¼ç´æ¥å¼æ´\n\næ­¥éª¤â ï¼å¯¼å¥ehcacheçåæ \n\n<dependency>\n    <groupid>net.sf.ehcache</groupid>\n    <artifactid>ehcache</artifactid>\n</dependency>\n\n\næ­¤å¤ä¸ºä»ä¹ä¸æ¯å¯¼å¥ehcacheçstarterï¼èæ¯å¯¼å¥ææ¯åæ å¢ï¼å¶å®springbootæ´åç¼å­ææ¯åçæ¯éç¨æ ¼å¼ï¼ä¸ç®¡ä½ æ´ååªç§ç¼å­ææ¯ï¼åªæ¯å®ç°ååäºï¼æä½æ¹å¼ä¸æ ·ãè¿ä¹ä½ç°åºspringbootææ¯çä¼ç¹ï¼ç»ä¸åç±»ææ¯çæ´åæ¹å¼ã\n\næ­¥éª¤â¡ï¼éç½®ç¼å­ææ¯å®ç°ä½¿ç¨ehcache\n\nspring:\n  cache:\n    type: ehcache\n    ehcache:\n      config: ehcache.xml\n\n\néç½®ç¼å­çç±»åtypeä¸ºehcacheï¼æ­¤å¤éè¦è¯´æä¸ä¸ï¼å½åspringbootå¯ä»¥æ´åçç¼å­ææ¯ä¸­åå«æehcachï¼æä»¥å¯ä»¥è¿æ ·ä¹¦åãå¶å®è¿ä¸ªtypeä¸å¯ä»¥éä¾¿åçï¼ä¸æ¯éä¾¿åä¸ä¸ªåç§°å°±å¯ä»¥æ´åçã\n\nç±äºehcacheçéç½®æç¬ç«çéç½®æä»¶æ ¼å¼ï¼å æ­¤è¿éè¦æå®ehcacheçéç½®æä»¶ï¼ä»¥ä¾¿äºè¯»åç¸åºéç½®\n\n<?xml version="1.0" encoding="utf-8"?>\n<ehcache xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n         xsi:nonamespaceschemalocation="http://ehcache.org/ehcache.xsd"\n         updatecheck="false">\n    <diskstore path="d:\\ehcache" />\n\n    \x3c!--é»è®¤ç¼å­ç­ç¥ --\x3e\n    \x3c!-- externalï¼æ¯å¦æ°¸ä¹å­å¨ï¼è®¾ç½®ä¸ºtrueåä¸ä¼è¢«æ¸é¤ï¼æ­¤æ¶ä¸timeoutå²çªï¼éå¸¸è®¾ç½®ä¸ºfalse--\x3e\n    \x3c!-- diskpersistentï¼æ¯å¦å¯ç¨ç£çæä¹å--\x3e\n    \x3c!-- maxelementsinmemoryï¼æå¤§ç¼å­æ°é--\x3e\n    \x3c!-- overflowtodiskï¼è¶è¿æå¤§ç¼å­æ°éæ¯å¦æä¹åå°ç£ç--\x3e\n    \x3c!-- timetoidlesecondsï¼æå¤§ä¸æ´»å¨é´éï¼è®¾ç½®è¿é¿ç¼å­å®¹ææº¢åºï¼è®¾ç½®è¿ç­æ ææï¼å¯ç¨äºè®°å½æ¶ææ§æ°æ®ï¼ä¾å¦éªè¯ç --\x3e\n    \x3c!-- timetolivesecondsï¼æå¤§å­æ´»æ¶é´--\x3e\n    \x3c!-- memorystoreevictionpolicyï¼ç¼å­æ¸é¤ç­ç¥--\x3e\n    <defaultcache\n        eternal="false"\n        diskpersistent="false"\n        maxelementsinmemory="1000"\n        overflowtodisk="false"\n        timetoidleseconds="60"\n        timetoliveseconds="60"\n        memorystoreevictionpolicy="lru" />\n    \x3c!--èªå®ä¹çç¼å­nameè¦åcacheableæècacheputä¸­çnameä¸è´ï¼å ä¸ºcacheableæècacheputä¼æ ¹æ®valueå¯»æ¾å¯¹åºçcacheéç½®ï¼å¦åæ¥é--\x3e\n    <cache\n        name="smscode"\n        eternal="false"\n        diskpersistent="false"\n        maxelementsinmemory="1000"\n        overflowtodisk="false"\n        timetoidleseconds="10"\n        timetoliveseconds="10"\n        memorystoreevictionpolicy="lru" />\n</ehcache>\n\n\næ³¨æåé¢çæ¡ä¾ä¸­ï¼è®¾ç½®äºæ°æ®ä¿å­çä½ç½®æ¯smscode\n\n@cacheput(value = "smscode", key = "#tele")\npublic string sendcodetosms(string tele) {\n    string code = codeutils.generator(tele);\n    return code;\n}\t\n\n\nè¿ä¸ªè®¾å®éè¦ä¿éehcacheä¸­æä¸ä¸ªç¼å­ç©ºé´åç§°å«åsmscodeçéç½®ï¼ååè¦ç»ä¸ãå¨ä¼ä¸å¼åè¿ç¨ä¸­ï¼éè¿è®¾ç½®ä¸ååç§°çcacheæ¥è®¾å®ä¸åçç¼å­ç­ç¥ï¼åºç¨äºä¸åçç¼å­æ°æ®ã\n\nå°è¿éspringbootæ´åehcacheå°±åå®äºï¼å¯ä»¥åç°ä¸ç¹ï¼åå§ä»£ç æ²¡æä»»ä½ä¿®æ¹ï¼ä»ä»æ¯å äºä¸ç»éç½®å°±å¯ä»¥åæ´ç¼å­ä¾åºåäºï¼è¿ä¹æ¯springbootæä¾äºç»ä¸çç¼å­æä½æ¥å£çä¼å¿ï¼åæ´å®ç°å¹¶ä¸å½±ååå§ä»£ç çä¹¦åã\n\næ»ç»\n\n 1. springbootä½¿ç¨ehcacheä½ä¸ºç¼å­å®ç°éè¦å¯¼å¥ehcacheçåæ \n 2. ä¿®æ¹è®¾ç½®ï¼éç½®ç¼å­ä¾åºåä¸ºehcacheï¼å¹¶æä¾å¯¹åºçç¼å­éç½®æä»¶\n\n\n\n# springbootæ´åredisç¼å­\n\nä¸èä½¿ç¨ehcacheæ¿æ¢äºspringbootåç½®çç¼å­ææ¯ï¼å¶å®springbootæ¯æçç¼å­ææ¯è¿å¾å¤ï¼ä¸é¢ä½¿ç¨redisææ¯ä½ä¸ºç¼å­è§£å³æ¹æ¡æ¥å®ç°ææºéªè¯ç æ¡ä¾ã\n\næ¯å¯¹ä½¿ç¨ehcacheçè¿ç¨ï¼å åæ ï¼æ¹ç¼å­å®ç°ç±»åä¸ºehcacheï¼åehcacheçéç½®ãå¦æè¿æredisåç¼å­å¢ï¼ä¸æ¨¡ä¸æ ·ï¼å åæ ï¼æ¹ç¼å­å®ç°ç±»åä¸ºredisï¼åredisçéç½®ãå·®å«ä¹å¤åªæä¸ç¹ï¼redisçéç½®å¯ä»¥å¨ymlæä»¶ä¸­ç´æ¥è¿è¡éç½®ï¼æ éå¶ä½ç¬ç«çéç½®æä»¶ã\n\næ­¥éª¤â ï¼å¯¼å¥redisçåæ \n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-data-redis</artifactid>\n</dependency>\n\n\næ­¥éª¤â¡ï¼éç½®ç¼å­ææ¯å®ç°ä½¿ç¨redis\n\nspring:\n  redis:\n    host: localhost\n    port: 6379\n  cache:\n    type: redis\n\n\nå¦æéè¦å¯¹redisä½ä¸ºç¼å­è¿è¡éç½®ï¼æ³¨æä¸æ¯å¯¹åå§çredisè¿è¡éç½®ï¼èæ¯éç½®redisä½ä¸ºç¼å­ä½¿ç¨ç¸å³çéç½®ï¼é¶å±äºspring.cache.redisèç¹ä¸ï¼æ³¨æä¸è¦åéä½ç½®äºã\n\nspring:\n  redis:\n    host: localhost\n    port: 6379\n  cache:\n    type: redis\n    redis:\n      use-key-prefix: false  # æ¯å¦æåç¼ï¼é»è®¤æ¯true\n      key-prefix: sms_  # ä¸é¢å¦æä¸ºfalseï¼è¿ä¸ªéç½®éé¡¹å°ä¼å¤±æ\n      cache-null-values: false   # æ¯å¦ç¼å­ç©ºå¼\n      time-to-live: 10s  # ç¼å­å¨æ\n\n\næ»ç»\n\n 1. springbootä½¿ç¨redisä½ä¸ºç¼å­å®ç°éè¦å¯¼å¥redisçåæ \n 2. ä¿®æ¹è®¾ç½®ï¼éç½®ç¼å­ä¾åºåä¸ºredisï¼å¹¶æä¾å¯¹åºçç¼å­éç½®\n\n# springbootæ´åmemcachedç¼å­\n\nç®åæä»¬å·²ç»ææ¡äº3ç§ç¼å­è§£å³æ¹æ¡çéç½®å½¢å¼ï¼åå«æ¯springbootåç½®ç¼å­ï¼ehcacheåredisï¼æ¬èç ç©¶ä¸ä¸å½åæ¯è¾æµè¡çä¸æ¬¾ç¼å­memcachedã\n\næç§ä¹åçå¥è·¯ï¼å¶å®åæ´ç¼å­å¹¶ä¸ç¹çï¼ä½æ¯springbootå¹¶æ²¡ææ¯æä½¿ç¨memcachedä½ä¸ºå¶ç¼å­è§£å³æ¹æ¡ï¼ä¹å°±æ¯è¯´å¨typeå±æ§ä¸­æ²¡æmemcachedçéç½®éé¡¹ï¼è¿éå°±éè¦æ´åä¸ä¸å¤çæ¹å¼äºãå¨æ´åä¹ååå®è£memcachedã\n\nå®è£\n\nwindowsçå®è£åä¸è½½å°åï¼https://www.runoob.com/memcached/window-install-memcached.html\n\nä¸è½½çå®è£åæ¯è§£åç¼©å°±è½ä½¿ç¨çzipæä»¶ï¼è§£åç¼©å®æ¯åä¼å¾å°å¦ä¸æä»¶\n\n\n\nå¯æ§è¡æä»¶åªæä¸ä¸ªmemcached.exeï¼ä½¿ç¨è¯¥æä»¶å¯ä»¥å°memcachedä½ä¸ºç³»ç»æå¡å¯å¨ï¼æ§è¡æ­¤æä»¶æ¶ä¼åºç°æ¥éä¿¡æ¯ï¼å¦ä¸ï¼\n\næ­¤å¤åºç°é®é¢çåå æ¯æ³¨åç³»ç»æå¡æ¶éè¦ä½¿ç¨ç®¡çåæéï¼å½åè´¦å·æéä¸è¶³å¯¼è´å®è£æå¡å¤±è´¥ï¼åæ¢ç®¡çåè´¦å·æéå¯å¨å½ä»¤è¡\n\nç¶ååæ¬¡æ§è¡å®è£æå¡çå½ä»¤å³å¯ï¼å¦ä¸ï¼\n\nmemcached.exe -d install\n\n\næå¡å®è£å®æ¯åå¯ä»¥ä½¿ç¨å½ä»¤å¯å¨ååæ­¢æå¡ï¼å¦ä¸ï¼\n\nmemcached.exe -d start\t\t# å¯å¨æå¡\nmemcached.exe -d stop\t\t# åæ­¢æå¡\n\n\nä¹å¯ä»¥å¨ä»»å¡ç®¡çå¨ä¸­è¿è¡æå¡ç¶æçåæ¢\n\nåæ´ç¼å­ä¸ºmemcached\n\nç±äºmemcachedæªè¢«springbootæ¶å½ä¸ºç¼å­è§£å³æ¹æ¡ï¼å æ­¤ä½¿ç¨memcachedéè¦éè¿æå·¥ç¡¬ç¼ç çæ¹å¼æ¥ä½¿ç¨ï¼äºæ¯åé¢çå¥è·¯é½ä¸éç¨äºï¼éè¦èªå·±åäºã\n\nmemcachedç®åæä¾æä¸ç§å®¢æ·ç«¯ææ¯ï¼åå«æ¯memcached client for javaãspymemcachedåxmemcachedï¼å¶ä¸­æ§è½ææ åæ¹é¢æå¥½çå®¢æ·ç«¯æ¯xmemcachedï¼æ¬æ¬¡æ´åå°±ä½¿ç¨è¿ä¸ªä½ä¸ºå®¢æ·ç«¯å®ç°ææ¯äºãä¸é¢å¼å§ä½¿ç¨xmemcached\n\næ­¥éª¤â ï¼å¯¼å¥xmemcachedçåæ \n\n<dependency>\n    <groupid>com.googlecode.xmemcached</groupid>\n    <artifactid>xmemcached</artifactid>\n    <version>2.4.7</version>\n</dependency>\n\n\næ­¥éª¤â¡ï¼éç½®memcachedï¼å¶ä½memcachedçéç½®ç±»\n\n@configuration\npublic class xmemcachedconfig {\n    @bean\n    public memcachedclient getmemcachedclient() throws ioexception {\n        memcachedclientbuilder memcachedclientbuilder = new xmemcachedclientbuilder("localhost:11211");\n        memcachedclient memcachedclient = memcachedclientbuilder.build();\n        return memcachedclient;\n    }\n}\n\n\nmemcachedé»è®¤å¯¹å¤æå¡ç«¯å£11211ã\n\næ­¥éª¤â¢ï¼ä½¿ç¨xmemcachedå®¢æ·ç«¯æä½ç¼å­ï¼æ³¨å¥memcachedclientå¯¹è±¡\n\n@service\npublic class smscodeserviceimpl implements smscodeservice {\n    @autowired\n    private codeutils codeutils;\n    @autowired\n    private memcachedclient memcachedclient;\n    // çæå¹¶åééªè¯ç \n    public string sendcodetosms(string tele) {\n        string code = codeutils.generator(tele);\n        try {\n            // 10ç§æ´æ°ä¸æ¬¡\n            memcachedclient.set(tele,10,code);\n        } catch (exception e) {\n            e.printstacktrace();\n        }\n        return code;\n    }\n    // æ¯å¯¹éªè¯ç æ¯å¦ç¸å\n    public boolean checkcode(smscode smscode) {\n        string code = null;\n        try {\n            // memcachedclient.get(smscode.gettele())å¾å°æ¯ä¸ä¸ªobjectç±»åçå¼ï¼å æ­¤éè¦å°è¿é¨ååå®¹è½¬æä¸ä¸ªå­ç¬¦ä¸²\n            code = memcachedclient.get(smscode.gettele()).tostring();\n        } catch (exception e) {\n            e.printstacktrace();\n        }\n        return smscode.getcode().equals(code);\n    }\n}\n\n\nè®¾ç½®å¼å°ç¼å­ä¸­ä½¿ç¨setæä½ï¼åå¼ä½¿ç¨getæä½ï¼å¶å®æ´ç¬¦åæä»¬å¼åèçä¹ æ¯ã\n\nä¸è¿°ä»£ç ä¸­å¯¹äºæå¡å¨çéç½®ä½¿ç¨ç¡¬ç¼ç åæ­»å°äºä»£ç ä¸­ï¼å°æ­¤æ°æ®æååºæ¥ï¼åæç¬ç«çéç½®å±æ§ã\n\nå®ä¹éç½®å±æ§\n\nä»¥ä¸è¿ç¨éç¨åæå­¦ä¹ çå±æ§éç½®æ¹å¼è¿è¡ï¼å½åæä½æå©äºçè§£åçç¯ä¸­çå¾å¤ç¥è¯ã\n\n * å®ä¹éç½®ç±»ï¼å è½½å¿è¦çéç½®å±æ§ï¼è¯»åéç½®æä»¶ä¸­memcachedèç¹ä¿¡æ¯\n   \n   @component\n   @configurationproperties(prefix = "memcached")\n   @data\n   public class xmemcachedproperties {\n       private string servers;\n       private int poolsize;\n       private long optimeout;\n   }\n   \n\n * å®ä¹memcachedèç¹ä¿¡æ¯\n   \n   memcached:\n     servers: localhost:11211\n     poolsize: 10\n     optimeout: 3000\n   \n\n * å¨memcachedéç½®ç±»ä¸­å è½½ä¿¡æ¯\n\n@configuration\npublic class xmemcachedconfig {\n    @autowired\n    private xmemcachedproperties props;\n    @bean\n    public memcachedclient getmemcachedclient() throws ioexception {\n        memcachedclientbuilder memcachedclientbuilder = new xmemcachedclientbuilder(props.getservers());\n        memcachedclientbuilder.setconnectionpoolsize(props.getpoolsize());\n        memcachedclientbuilder.setoptimeout(props.getoptimeout());\n        memcachedclient memcachedclient = memcachedclientbuilder.build();\n        return memcachedclient;\n    }\n}\n\n\næ»ç»\n\n 1. memcachedå®è£åéè¦å¯å¨å¯¹åºæå¡æå¯ä»¥å¯¹å¤æä¾ç¼å­åè½ï¼å®è£memcachedæå¡éè¦åºäºwindowsç³»ç»ç®¡çåæé\n 2. ç±äºspringbootæ²¡ææä¾å¯¹memcachedçç¼å­æ´åæ¹æ¡ï¼éè¦éç¨æå·¥ç¼ç çå½¢å¼åå»ºxmemcachedå®¢æ·ç«¯æä½ç¼å­\n 3. å¯¼å¥xmemcachedåæ åï¼åå»ºmemcachedéç½®ç±»ï¼æ³¨åmemcachedclientå¯¹åºçbeanï¼ç¨äºæä½ç¼å­\n 4. åå§åmemcachedclientå¯¹è±¡æéè¦ä½¿ç¨çå±æ§å¯ä»¥éè¿èªå®ä¹éç½®å±æ§ç±»çå½¢å¼å è½½\n\næè\n\nå°è¿éå·²ç»å®æäºä¸ç§ç¼å­çæ´åï¼å¶ä¸­redisåmongodbéè¦å®è£ç¬ç«çæå¡å¨ï¼è¿æ¥æ¶éè¦è¾å¥å¯¹åºçæå¡å¨å°åï¼è¿ç§æ¯è¿ç¨ç¼å­ï¼ehcacheæ¯ä¸ä¸ªå¸åçåå­çº§ç¼å­ï¼å ä¸ºå®ä»ä¹ä¹ä¸ç¨å®è£ï¼å¯å¨åå¯¼å¥jaråå°±æç¼å­åè½äºãè¿ä¸ªæ¶åå°±è¦é®äºï¼è½ä¸è½è¿ä¸¤ç§ç¼å­ä¸èµ·ç¨å¢ï¼å±ä»¬ä¸èåè¯´ã\n\n# springbootæ´åjetcacheç¼å­\n\nç®åæä»¬ä½¿ç¨çç¼å­é½æ¯è¦ä¹aè¦ä¹bï¼è½ä¸è½abä¸èµ·ç¨å¢ï¼è¿ä¸èå°±è§£å³è¿ä¸ªé®é¢ãspringbootéå¯¹ç¼å­çæ´åä»ä»åçå¨ç¨ç¼å­ä¸é¢ï¼å¦æç¼å­èªèº«ä¸æ¯æåæ¶æ¯æabä¸èµ·ç¨ï¼springbootä¹æ²¡åæ³ï¼æä»¥è¦æ³è§£å³abç¼å­ä¸èµ·ç¨çé®é¢ï¼å°±å¿é¡»æ¾ä¸æ¬¾ç¼å­è½å¤æ¯æabä¸¤ç§ç¼å­ä¸èµ·ç¨ï¼æè¿ç§ç¼å­åï¼è¿çæï¼é¿éåºåï¼jetcacheã\n\njetcacheä¸¥æ ¼æä¹ä¸æ¥è¯´ï¼å¹¶ä¸æ¯ä¸ä¸ªç¼å­è§£å³æ¹æ¡ï¼åªè½è¯´ä»ç®æ¯ä¸ä¸ªç¼å­æ¡æ¶ï¼ç¶åæå«çç¼å­æ¾å°jetcacheä¸­ç®¡çï¼è¿æ ·å°±å¯ä»¥æ¯æabç¼å­ä¸èµ·ç¨äºãå¹¶ä¸jetcacheåèäºspringbootæ´åç¼å­çææ³ï¼æ´ä½ææ¯ä½¿ç¨æ¹å¼åspringbootçç¼å­è§£å³æ¹æ¡ææ³éå¸¸ç±»ä¼¼ãä¸é¢å±ä»¬å°±åæjetcacheç¨èµ·æ¥ï¼ç¶ååè¯´å®éé¢çä¸äºå°çåè½ã\n\næ¬å°ç¼å­åè¿ç¨ç¼å­çåºå«æ¯ä»ä¹ï¼åé¢äºè§£ä¸ä¸ãè¿ç¨æ¯è¦å»è¿ç¨ä¸»æºä¸å»å\n\nåä¹åè¦åæç¡®ä¸ä¸ï¼jetcacheå¹¶ä¸æ¯éä¾¿æ¿ä¸¤ä¸ªç¼å­é½è½æ¼å°ä¸èµ·å»çãç®åjetcacheæ¯æçç¼å­æ¹æ¡æ¬å°ç¼å­æ¯æä¸¤ç§ï¼è¿ç¨ç¼å­æ¯æä¸¤ç§ï¼åå«å¦ä¸ï¼\n\n * æ¬å°ç¼å­ï¼localï¼\n   * linkedhashmap\n   * caffeine\n * è¿ç¨ç¼å­ï¼remoteï¼\n   * redis\n   * tair\n\nå¶å®ä¹æäººé®æï¼ä¸ºä»ä¹jetcacheåªæ¯æ2+2è¿ä¹4æ¬¾ç¼å­å¢ï¼é¿éç åè¿ä¸ªææ¯å¶å®ä¸»è¦æ¯ä¸ºäºæ»¡è¶³èªèº«çä½¿ç¨éè¦ãæåè¯å®åªæ1+1ç§ï¼éæ­¥ååæ2+2ç§ãä¸é¢å°±ä»¥linkedhashmap+redisçæ¹æ¡å®ç°æ¬å°ä¸è¿ç¨ç¼å­æ¹æ¡åæ¶ä½¿ç¨ã\n\n# çº¯è¿ç¨æ¹æ¡\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åjetcacheå¯¹åºçåæ starterï¼å½ååæ é»è®¤ä½¿ç¨çè¿ç¨æ¹æ¡æ¯redis\n\n<dependency>\n    <groupid>com.alicp.jetcache</groupid>\n    <artifactid>jetcache-starter-redis</artifactid>\n    <version>2.6.2</version>\n</dependency>\n\n\næ­¥éª¤â¡ï¼è¿ç¨æ¹æ¡åºæ¬éç½®\n\njetcache:\n  remote:\n    default:  # é»è®¤æ¹æ¡ï¼å¶ä»æ¹æ¡ç¨åå­å½å\n      type: redis\n      host: localhost\n      port: 6379\n      poolconfig:\n        maxtotal: 50\n\n\nå¶ä¸­poolconfigæ¯å¿éé¡¹ï¼å¦åä¼æ¥é\n\næ­¥éª¤â¢ï¼å¯ç¨ç¼å­ï¼å¨å¼å¯¼ç±»ä¸æ¹æ æ³¨æ³¨è§£@enablecreatecacheannotationéç½®springbootç¨åºä¸­å¯ä»¥ä½¿ç¨æ³¨è§£çå½¢å¼åå»ºç¼å­\n\n@springbootapplication\n//jetcacheå¯ç¨ç¼å­çä¸»å¼å³\n@enablecreatecacheannotation\npublic class springboot20jetcacheapplication {\n    public static void main(string[] args) {\n        springapplication.run(springboot20jetcacheapplication.class, args);\n    }\n}\n\n\næ­¥éª¤â£ï¼åå»ºç¼å­å¯¹è±¡cacheï¼å¹¶ä½¿ç¨æ³¨è§£@createcacheæ è®°å½åç¼å­çä¿¡æ¯ï¼ç¶åä½¿ç¨cacheå¯¹è±¡çapiæä½ç¼å­ï¼putåç¼å­ï¼getè¯»ç¼å­ã\n\n@service\npublic class smscodeserviceimpl implements smscodeservice {\n    @autowired\n    private codeutils codeutils;\n    \n    @createcache(name="jetcache_",expire = 10,timeunit = timeunit.seconds)  //ä¸è®¾ç½®timeunité»è®¤åä½æ¯ç§\n    private cache<string ,string> jetcache;\n\n    public string sendcodetosms(string tele) {\n        string code = codeutils.generator(tele);\n        jetcache.put(tele,code);\n        return code;\n    }\n\n    public boolean checkcode(smscode smscode) {\n        string code = jetcache.get(smscode.gettele());\n        return smscode.getcode().equals(code);\n    }\n}\n\n\néè¿ä¸è¿°jetcacheä½¿ç¨è¿ç¨æ¹æ¡è¿æ¥rediså¯ä»¥çåºï¼jetcacheæä½ç¼å­æ¶çæ¥å£æä½æ´ç¬¦åå¼åèä¹ æ¯ï¼ä½¿ç¨ç¼å­å°±åè·åç¼å­å¯¹è±¡cacheï¼æ¾æ°æ®è¿å»å°±æ¯putï¼åæ°æ®åºæ¥å°±æ¯getï¼æ´å ç®åææãå¹¶ä¸jetcacheæä½ç¼å­æ¶ï¼å¯ä»¥ä¸ºæä¸ªç¼å­å¯¹è±¡è®¾ç½®è¿ææ¶é´ï¼å°åç±»åçæ°æ®æ¾å¥ç¼å­ä¸­ï¼æ¹ä¾¿ææå¨æçç®¡çã\n\nä¸è¿°æ¹æ¡ä¸­ä½¿ç¨çæ¯éç½®ä¸­å®ä¹çdefaultç¼å­ï¼å¶å®è¿ä¸ªdefaultæ¯ä¸ªåå­ï¼å¯ä»¥éä¾¿åï¼ä¹å¯ä»¥éä¾¿å ãä¾å¦åæ·»å ä¸ç§ç¼å­è§£å³æ¹æ¡ï¼åç§å¦ä¸éç½®è¿è¡ï¼\n\njetcache:\n  remote:\n    default:\n      type: redis\n      host: localhost\n      port: 6379\n      poolconfig:\n        maxtotal: 50\n    sms:\n      type: redis\n      host: localhost\n      port: 6379\n      poolconfig:\n        maxtotal: 50\n\n\nå¦ææ³ä½¿ç¨åç§°æ¯smsçç¼å­ï¼éè¦ååå»ºç¼å­æ¶æå®åæ°areaï¼å£°æä½¿ç¨å¯¹åºç¼å­å³å¯\n\n@service\npublic class smscodeserviceimpl implements smscodeservice {\n    @autowired\n    private codeutils codeutils;\n    \n    @createcache(area="sms",name="jetcache_",expire = 10,timeunit = timeunit.seconds)\n    private cache<string ,string> jetcache;\n\n    public string sendcodetosms(string tele) {\n        string code = codeutils.generator(tele);\n        jetcache.put(tele,code); // æ¾å¥\n        return code;\n    }\n\n    public boolean checkcode(smscode smscode) {\n        string code = jetcache.get(smscode.gettele());  // è·å\n        return smscode.getcode().equals(code);  \n    }\n}\n\n\n# çº¯æ¬å°æ¹æ¡\n\nè¿ç¨æ¹æ¡ä¸­ï¼éç½®ä¸­ä½¿ç¨remoteè¡¨ç¤ºè¿ç¨ï¼æ¢ælocalå°±æ¯æ¬å°ï¼åªä¸è¿ç±»åä¸ä¸æ ·èå·²ã\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åjetcacheå¯¹åºçåæ starter\n\n<dependency>\n    <groupid>com.alicp.jetcache</groupid>\n    <artifactid>jetcache-starter-redis</artifactid>\n    <version>2.6.2</version>\n</dependency>\n\n\næ­¥éª¤â¡ï¼æ¬å°ç¼å­åºæ¬éç½®\n\njetcache:\n  local:\n    default:\n      type: linkedhashmap\n      keyconvertor: fastjson\n\n\nä¸ºäºå éæ°æ®è·åæ¶keyçå¹ééåº¦ï¼jetcacheè¦æ±æå®keyçç±»åè½¬æ¢å¨ãç®åè¯´å°±æ¯ï¼å¦æä½ ç»äºä¸ä¸ªobjectä½ä¸ºkeyçè¯ï¼æåç¨keyçç±»åè½¬æ¢å¨ç»è½¬æ¢æå­ç¬¦ä¸²ï¼ç¶ååä¿å­ãç­å°è·åæ°æ®æ¶ï¼ä»ç¶æ¯åä½¿ç¨ç»å®çobjectè½¬æ¢æå­ç¬¦ä¸²ï¼ç¶åæ ¹æ®å­ç¬¦ä¸²å¹éãç±äºjetcacheæ¯é¿éçææ¯ï¼è¿éæ¨èkeyçç±»åè½¬æ¢å¨ä½¿ç¨é¿éçfastjsonã\n\næ­¥éª¤â¢ï¼å¯ç¨ç¼å­\n\n@springbootapplication\n//jetcacheå¯ç¨ç¼å­çä¸»å¼å³\n@enablecreatecacheannotation\npublic class springboot20jetcacheapplication {\n    public static void main(string[] args) {\n        springapplication.run(springboot20jetcacheapplication.class, args);\n    }\n}\n\n\næ­¥éª¤â£ï¼åå»ºç¼å­å¯¹è±¡cacheæ¶ï¼æ æ³¨å½åä½¿ç¨æ¬å°ç¼å­\n\n@service\npublic class smscodeserviceimpl implements smscodeservice {\n    @createcache(name="jetcache_",expire = 1000,timeunit = timeunit.seconds,cachetype = cachetype.local)\n    private cache<string ,string> jetcache;\n\n    public string sendcodetosms(string tele) {\n        string code = codeutils.generator(tele);\n        jetcache.put(tele,code);\n        return code;\n    }\n    \n    public boolean checkcode(smscode smscode) {\n        string code = jetcache.get(smscode.gettele());\n        return smscode.getcode().equals(code);\n    }\n}\n\n\ncachetypeæ§å¶å½åç¼å­ä½¿ç¨æ¬å°ç¼å­è¿æ¯è¿ç¨ç¼å­ï¼éç½®cachetype=cachetype.localå³ä½¿ç¨æ¬å°ç¼å­ï¼é»è®¤éç¨è¿ç¨æ¹æ¡ã\n\n# æ¬å°+è¿ç¨æ¹æ¡\n\næ¬å°åè¿ç¨æ¹æ³é½æäºï¼ä¸¤ç§æ¹æ¡ä¸èµ·ä½¿ç¨å¦ä½éç½®å¢ï¼å¶å®å°±æ¯å°ä¸¤ç§éç½®åå¹¶å°ä¸ èµ·å°±å¯ä»¥äºã\n\njetcache:\n  local:\n    default:\n      type: linkedhashmap\n      keyconvertor: fastjson\n  remote:\n    default:\n      type: redis\n      host: localhost\n      port: 6379\n      poolconfig:\n        maxtotal: 50\n    sms:\n      type: redis\n      host: localhost\n      port: 6379\n      poolconfig:\n        maxtotal: 50\n\n\nå¨åå»ºç¼å­çæ¶åï¼éç½®cachetypeä¸ºbothå³åæ¬å°ç¼å­ä¸è¿ç¨ç¼å­åæ¶ä½¿ç¨ã\n\n@service\npublic class smscodeserviceimpl implements smscodeservice {\n    @createcache(name="jetcache_",expire = 1000,timeunit = timeunit.seconds,cachetype = cachetype.both)\n    private cache<string ,string> jetcache;\n}\n\n\ncachetypeå¦æä¸è¿è¡éç½®ï¼é»è®¤å¼æ¯remoteï¼å³ä»ä½¿ç¨è¿ç¨ç¼å­æ¹æ¡ãå³äºjetcacheçéç½®ï¼åèä»¥ä¸ä¿¡æ¯\n\nå±æ§                                                         é»è®¤å¼    è¯´æ\njetcache.statintervalminutes                               0      ç»è®¡é´éï¼0è¡¨ç¤ºä¸ç»è®¡\njetcache.hiddenpackages                                    æ       èªå¨çænameæ¶ï¼éèæå®çåååç¼\njetcache.[local|remote].${area}.type                       æ       ç¼å­ç±»åï¼æ¬å°æ¯ælinkedhashmapãcaffeineï¼è¿ç¨æ¯æredisãtair\njetcache.[local|remote].${area}.keyconvertor               æ       keyè½¬æ¢å¨ï¼å½åä»æ¯æfastjson\njetcache.[local|remote].${area}.valueencoder               java   ä»remoteç±»åçç¼å­éè¦æå®ï¼å¯éjavaåkryo\njetcache.[local|remote].${area}.valuedecoder               java   ä»remoteç±»åçç¼å­éè¦æå®ï¼å¯éjavaåkryo\njetcache.[local|remote].${area}.limit                      100    ä»localç±»åçç¼å­éè¦æå®ï¼ç¼å­å®ä¾æå¤§åç´ æ°\njetcache.[local|remote].${area}.expireafterwriteinmillis   æ ç©·å¤§    é»è®¤è¿ææ¶é´ï¼æ¯«ç§åä½\njetcache.local.${area}.expireafteraccessinmillis           0      ä»localç±»åçç¼å­ææï¼æ¯«ç§åä½ï¼æå¤§ä¸æ´»å¨é´é\n\nä»¥ä¸æ¹æ¡ä»æ¯ææå·¥æ§å¶ç¼å­ï¼ä½æ¯springcacheæ¹æ¡ä¸­çæ¹æ³ç¼å­ç¹å«å¥½ç¨ï¼ç»ä¸ä¸ªæ¹æ³æ·»å ä¸ä¸ªæ³¨è§£ï¼æ¹æ³å°±ä¼èªå¨ä½¿ç¨ç¼å­ãjetcacheä¹æä¾äºå¯¹åºçåè½ï¼å³æ¹æ³ç¼å­ã\n\næ¹æ³ç¼å­\n\njetcacheæä¾äºæ¹æ³ç¼å­æ¹æ¡ï¼åªä¸è¿åç§°åæ´äºèå·²ãå¨å¯¹åºçæä½æ¥å£ä¸æ¹ä½¿ç¨æ³¨è§£@cachedå³å¯\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åjetcacheå¯¹åºçåæ starter\n\n<dependency>\n    <groupid>com.alicp.jetcache</groupid>\n    <artifactid>jetcache-starter-redis</artifactid>\n    <version>2.6.2</version>\n</dependency>\n\n\næ­¥éª¤â¡ï¼éç½®ç¼å­\n\njetcache:\n  local:\n    default:\n      type: linkedhashmap\n      keyconvertor: fastjson\n  remote:\n    default:\n      type: redis\n      host: localhost\n      port: 6379\n      keyconvertor: fastjson\n      valueencode: java\n      valuedecode: java\n      poolconfig:\n        maxtotal: 50\n    sms:\n      type: redis\n      host: localhost\n      port: 6379\n      poolconfig:\n        maxtotal: 50\n\n\nç±äºredisç¼å­ä¸­ä¸æ¯æä¿å­å¯¹è±¡ï¼å æ­¤éè¦å¯¹redisè®¾ç½®å½objectç±»åæ°æ®è¿å¥å°redisä¸­æ¶å¦ä½è¿è¡ç±»åè½¬æ¢ãéè¦éç½®keyconvertorè¡¨ç¤ºkeyçç±»åè½¬æ¢æ¹å¼ï¼åæ¶æ æ³¨valueçè½¬æ¢ç±»åæ¹å¼ï¼å¼è¿å¥redisæ¶æ¯javaç±»åï¼æ æ³¨valueencodeä¸ºjavaï¼å¼ä»redisä¸­è¯»åæ¶è½¬æ¢æjavaï¼æ æ³¨valuedecodeä¸ºjavaã\n\næ³¨æï¼ä¸ºäºå®ç°objectç±»åçå¼è¿åºredisï¼éè¦ä¿éè¿åºredisçobjectç±»åçæ°æ®å¿é¡»å®ç°åºååæ¥å£ã\n\n@data\npublic class book implements serializable {\n    private integer id;\n    private string type;\n    private string name;\n    private string description;\n}\n\n\næ­¥éª¤â¢ï¼å¯ç¨ç¼å­æ¶å¼å¯æ¹æ³ç¼å­åè½ï¼å¹¶éç½®basepackagesï¼è¯´æå¨åªäºåä¸­å¼å¯æ¹æ³ç¼å­\n\n@springbootapplication\n//jetcacheå¯ç¨ç¼å­çä¸»å¼å³\n@enablecreatecacheannotation \n//å¼å¯æ¹æ³æ³¨è§£ç¼å­\n@enablemethodcache(basepackages = "com.itheima")\npublic class springboot20jetcacheapplication {\n    public static void main(string[] args) {\n        springapplication.run(springboot20jetcacheapplication.class, args);\n    }\n}\n\n\næ­¥éª¤â£ï¼ä½¿ç¨æ³¨è§£@cachedæ æ³¨å½åæ¹æ³ä½¿ç¨ç¼å­\n\n@service\npublic class bookserviceimpl implements bookservice {\n    @autowired\n    private bookdao bookdao;\n    \n    @override\n    @cached(name="book_",key="#id",expire = 3600,cachetype = cachetype.remote)\n    public book getbyid(integer id) {\n        return bookdao.selectbyid(id);\n    }\n}\n\n\n# è¿ç¨æ¹æ¡çæ°æ®åæ­¥\n\nç±äºè¿ç¨æ¹æ¡ä¸­redisä¿å­çæ°æ®å¯ä»¥è¢«å¤ä¸ªå®¢æ·ç«¯å±äº«ï¼è¿å°±å­å¨äºæ°æ®åæ­¥é®é¢ãjetcacheæä¾äº3ä¸ªæ³¨è§£è§£å³æ­¤é®é¢ï¼åå«å¨æ´æ°ãå é¤æä½æ¶åæ­¥ç¼å­æ°æ®ï¼åè¯»åç¼å­æ¶å®æ¶å·æ°æ°æ®\n\næ´æ°ç¼å­\n\n@cacheupdate(name="book_",key="#book.id",value="#book")\npublic boolean update(book book) {\n    return bookdao.updatebyid(book) > 0;\n}\n\n\nå é¤ç¼å­\n\n@cacheinvalidate(name="book_",key = "#id")\npublic boolean delete(integer id) {\n    return bookdao.deletebyid(id) > 0;\n}\n\n\nå®æ¶å·æ°ç¼å­\n\n@cached(name="book_",key="#id",expire = 3600,cachetype = cachetype.remote)\n@cacherefresh(refresh = 5)\npublic book getbyid(integer id) {\n    return bookdao.selectbyid(id);\n}\n\n\n# æ°æ®æ¥è¡¨\n\njetcacheè¿æä¾æç®åçæ°æ®æ¥è¡¨åè½ï¼å¸®å©å¼åèå¿«éæ¥çç¼å­å½ä¸­ä¿¡æ¯ï¼åªéè¦æ·»å ä¸ä¸ªéç½®å³å¯\n\njetcache:\n  statintervalminutes: 1\n\n\nè®¾ç½®åï¼æ¯1åéå¨æ§å¶å°è¾åºç¼å­æ°æ®å½ä¸­ä¿¡æ¯\n\n[defaultexecutor] c.alicp.jetcache.support.statinfologger  : jetcache stat from 2022-02-28 09:32:15,892 to 2022-02-28 09:33:00,003\ncache    |    qps|   rate|   get|    hit|   fail|   expire|   avgloadtime|   maxloadtime\n---------+-------+-------+------+-------+-------+---------+--------------+--------------\nbook_    |   0.66| 75.86%|    29|     22|      0|        0|          28.0|           188\n---------+-------+-------+------+-------+-------+---------+--------------+--------------\n\n\næ»ç»\n\n 1. jetcacheæ¯ä¸ä¸ªç±»ä¼¼äºspringcacheçç¼å­è§£å³æ¹æ¡ï¼èªèº«ä¸å·æç¼å­åè½ï¼å®æä¾ææ¬å°ç¼å­ä¸è¿ç¨ç¼å­å¤çº§å±åä½¿ç¨çç¼å­è§£å³æ¹æ¡\n 2. jetcacheæä¾çç¼å­è§£å³æ¹æ¡åéäºç®åæ¯æçæ¹æ¡ï¼æ¬å°ç¼å­æ¯æä¸¤ç§ï¼è¿ç¨ç¼å­æ¯æä¸¤ç§\n 3. æ³¨ææ°æ®è¿å¥è¿ç¨ç¼å­æ¶çç±»åè½¬æ¢é®é¢\n 4. jetcacheæä¾æ¹æ³ç¼å­ï¼å¹¶æä¾äºå¯¹åºçç¼å­æ´æ°ä¸å·æ°åè½\n 5. jetcacheæä¾æç®åçç¼å­ä¿¡æ¯å½ä¸­æ¥è¡¨æ¹ä¾¿å¼åèå³æ¶çæ§ç¼å­æ°æ®å½ä¸­æåµ\n\næè\n\njetcacheè§£å³äºåæä½¿ç¨ç¼å­æ¹æ¡åä¸çé®é¢ï¼ä½æ¯ä»ç¶ä¸è½çµæ´»çéæ©ç¼å­è¿è¡æ­éä½¿ç¨ï¼æ¯å¦å­å¨ä¸ç§ææ¯å¯ä»¥çµæ´»çæ­éåç§åæ ·çç¼å­ä½¿ç¨å¢ï¼æï¼å±ä»¬ä¸ä¸èåè®²ã\n\n# springbootæ´åj2cacheç¼å­\n\njetcacheå¯ä»¥å¨éå®èå´åæå»ºå¤çº§ç¼å­ï¼ä½æ¯çµæ´»æ§ä¸è¶³ï¼ä¸è½éææ­éç¼å­ï¼æ¬èä»ç»ä¸ç§å¯ä»¥éææ­éç¼å­è§£å³æ¹æ¡çç¼å­æ´åæ¡æ¶ï¼j2cacheãä¸é¢å°±æ¥è®²è§£å¦ä½ä½¿ç¨è¿ç§ç¼å­æ¡æ¶ï¼ä»¥ehcacheä¸redisæ´åä¸ºä¾ï¼\n\næ­¥éª¤â ï¼å¯¼å¥j2cacheãredisãehcacheåæ \n\n<dependency>\n    <groupid>net.oschina.j2cache</groupid>\n    <artifactid>j2cache-core</artifactid>\n    <version>2.8.4-release</version>\n</dependency>\n<dependency>\n    <groupid>net.oschina.j2cache</groupid>\n    <artifactid>j2cache-spring-boot2-starter</artifactid>\n    <version>2.8.0-release</version>\n</dependency>\n<dependency>\n    <groupid>net.sf.ehcache</groupid>\n    <artifactid>ehcache</artifactid>\n</dependency>\n\n\nj2cacheçstarterä¸­é»è®¤åå«äºredisåæ ï¼å®æ¹æ¨èä½¿ç¨redisä½ä¸ºäºçº§ç¼å­ï¼å æ­¤æ­¤å¤æ éå¯¼å¥redisåæ \n\næ­¥éª¤â¡ï¼éç½®ä¸çº§ä¸äºçº§ç¼å­ï¼å¹¶éç½®ä¸äºçº§ç¼å­é´æ°æ®ä¼ éæ¹å¼ï¼éç½®ä¹¦åå¨åç§°ä¸ºj2cache.propertiesçæä»¶ä¸­ãå¦æä½¿ç¨ehcacheè¿éè¦åç¬æ·»å ehcacheçéç½®æä»¶\n\n# è¿æ¯æåºç¡çéç½®æ¹æ³\n# 1çº§ç¼å­\nj2cache.l1.provider_class = ehcache\nehcache.configxml = ehcache.xml\n\n# 2çº§ç¼å­\nj2cache.l2.provider_class = net.oschina.j2cache.cache.support.redis.springredisprovider\nj2cache.l2.config_section = redis\nredis.hosts = localhost :6379\n\n# 1çº§ç¼å­ä¸­çæ°æ®å¦ä½å°è¾¾äºçº§ç¼å­\nj2cache.broadcast = net.oschina.j2cache.cache.support.redis.springredispubsubpolicy\n\n\næ­¤å¤éç½®ä¸è½ä¹±éç½®ï¼éè¦åç§å®æ¹ç»åºçéç½®è¯´æè¿è¡ãä¾å¦1çº§ä¾åºåéæ©ehcacheï¼ä¾åºååç§°ä»ä»æ¯ä¸ä¸ªehcacheï¼ä½æ¯2çº§ä¾åºåéæ©redisæ¶è¦åä¸ç¨çspringæ´åredisçä¾åºåç±»åspringredisproviderï¼èä¸è¿ä¸ªåç§°å¹¶ä¸æ¯ææçredisåä¸­è½æä¾çï¼ä¹ä¸æ¯springåä¸­æä¾çãå æ­¤éç½®j2cacheå¿é¡»åç§å®æ¹ææ¡£éç½®ï¼èä¸è¿è¦å»æ¾ä¸ç¨çæ´ååï¼å¯¼å¥å¯¹åºåæ æå¯ä»¥ä½¿ç¨ã\n\nä¸çº§ä¸äºçº§ç¼å­æéè¦çä¸ä¸ªéç½®å°±æ¯ä¸¤èä¹é´çæ°æ®æ²éæ¹å¼ï¼æ­¤ç±»éç½®ä¹ä¸æ¯éæéç½®çï¼å¹¶ä¸ä¸åçç¼å­è§£å³æ¹æ¡æä¾çæ°æ®æ²éæ¹å¼å·®å¼åå¾å¤§ï¼éè¦æ¥è¯¢å®æ¹ææ¡£è¿è¡è®¾ç½®ã\n\næ­¥éª¤â¢ï¼ä½¿ç¨ç¼å­\n\n@service\npublic class smscodeserviceimpl implements smscodeservice {\n    @autowired\n    private codeutils codeutils;\n\n    @autowired\n    private cachechannel cachechannel;\n\n    public string sendcodetosms(string tele) {\n        string code = codeutils.generator(tele);\n        cachechannel.set("sms",tele,code);\n        return code;\n    }\n\n    public boolean checkcode(smscode smscode) {\n        string code = cachechannel.get("sms",smscode.gettele()).asstring();\n        return smscode.getcode().equals(code);\n    }\n}\n\n\nj2cacheçä½¿ç¨åjetcacheæ¯è¾ç±»ä¼¼ï¼ä½æ¯æ éå¼å¯ä½¿ç¨çå¼å³ï¼ç´æ¥å®ä¹ç¼å­å¯¹è±¡å³å¯ä½¿ç¨ï¼ç¼å­å¯¹è±¡åcachechannelã\n\nj2cacheçä½¿ç¨ä¸å¤æï¼éç½®æ¯j2cacheçæ ¸å¿ï¼æ¯ç«æ¯ä¸ä¸ªæ´ååçç¼å­æ¡æ¶ãç¼å­ç¸å³çéç½®è¿å¤ï¼å¯ä»¥æ¥éj2cache-coreæ ¸å¿åä¸­çj2cache.propertiesæä»¶ä¸­çè¯´æãå¦ä¸ï¼\n\n#j2cache configuration\n#########################################\n# cache broadcast method\n# values:\n# jgroups -> use jgroups\'s multicast\n# redis -> use redis publish/subscribe mechanism (using jedis)\n# lettuce -> use redis publish/subscribe mechanism (using lettuce, recommend)\n# rabbitmq -> use rabbitmq publisher/consumer mechanism\n# rocketmq -> use rocketmq publisher/consumer mechanism\n# none -> don\'t notify the other nodes in cluster\n# xx.xxxx.xxxx.xxxxx your own cache broadcast policy classname that implement net.oschina.j2cache.cluster.clusterpolicy\n#########################################\nj2cache.broadcast = redis\n\n# jgroups properties\njgroups.channel.name = j2cache\njgroups.configxml = /network.xml\n\n# rabbitmq properties\nrabbitmq.exchange = j2cache\nrabbitmq.host = localhost\nrabbitmq.port = 5672\nrabbitmq.username = guest\nrabbitmq.password = guest\n\n# rocketmq properties\nrocketmq.name = j2cache\nrocketmq.topic = j2cache\n# use ; to split multi hosts\nrocketmq.hosts = 127.0.0.1:9876\n\n#########################################\n# level 1&2 provider\n# values:\n# none -> disable this level cache\n# ehcache -> use ehcache2 as level 1 cache\n# ehcache3 -> use ehcache3 as level 1 cache\n# caffeine -> use caffeine as level 1 cache(only in memory)\n# redis -> use redis as level 2 cache (using jedis)\n# lettuce -> use redis as level 2 cache (using lettuce)\n# readonly-redis -> use redis as level 2 cache ,but never write data to it. if use this provider, you must uncomment `j2cache.l2.config_section` to make the redis configurations available.\n# memcached -> use memcached as level 2 cache (xmemcached),\n# [classname] -> use custom provider\n#########################################\n\nj2cache.l1.provider_class = caffeine\nj2cache.l2.provider_class = redis\n\n# when l2 provider isn\'t `redis`, using `l2.config_section = redis` to read redis configurations\n# j2cache.l2.config_section = redis\n\n# enable/disable ttl in redis cache data (if disabled, the object in redis will never expire, default:true)\n# notice: redis hash mode (redis.storage = hash) do not support this feature)\nj2cache.sync_ttl_to_redis = true\n\n\n\n# æ¯å¦å¯ç¨äºçº§ç¼å­\nj2cache.l2-cache-open = false\n# whether to cache null objects by default (default false)\nj2cache.default_cache_null_object = true\n\n#########################################\n# cache serialization provider\n# values:\n# fst -> using fast-serialization (recommend)\n# kryo -> using kryo serialization\n# json -> using fst\'s json serialization (testing)\n# fastjson -> using fastjson serialization (embed non-static class not support)\n# java -> java standard\n# fse -> using fse serialization\n# [classname implements serializer]\n#########################################\n\nj2cache.serialization = json\n#json.map.person = net.oschina.j2cache.demo.person\n\n#########################################\n# ehcache configuration\n#########################################\n\n# ehcache.configxml = /ehcache.xml\n\n# ehcache3.configxml = /ehcache3.xml\n# ehcache3.defaultheapsize = 1000\n\n#########################################\n# caffeine configuration\n# caffeine.region.[name] = size, xxxx[s|m|h|d]\n#\n#########################################\ncaffeine.properties = /caffeine.properties\n\n#########################################\n# redis connection configuration\n#########################################\n\n#########################################\n# redis cluster mode\n#\n# single -> single redis server  # åæºçredisæå¡å¨\n# sentinel -> master-slaves servers    # ä¸»ä»æ¨¡å¼æå¡å¨\n# cluster -> cluster servers (æ°æ®åºéç½®æ æï¼ä½¿ç¨ database = 0ï¼\n# sharded -> sharded servers  (å¯ç ãæ°æ®åºå¿é¡»å¨ hosts ä¸­æå®ï¼ä¸è¿æ¥æ± éç½®æ æ ; redis://user:password@127.0.0.1:6379/0ï¼\n#\n#########################################\n# è¿ä¸ªéé¡¹æ²¡æå¨æä»¶éç½®ä¼æwarningè­¦å\nredis.mode = single  \n\n#redis storage mode (generic|hash)\nredis.storage = generic\n\n## redis pub/sub channel name\nredis.channel = j2cache\n## redis pub/sub server (using redis.hosts when empty)\nredis.channel.host =\n\n#cluster name just for sharded\nredis.cluster_name = j2cache\n\n## redis cache namespace optional, default[empty] \n## è¿ä¸ªå±æ§å¯ä»¥å¨keyåé¢å ä¸ä¸ä¸ªåç¼ï¼é»è®¤æ¯ç©º\nredis.namespace =\n\n\n## redis command scan parameter count, default[1000]\n#redis.scancount = 1000\n\n## connection\n# separate multiple redis nodes with commas, such as 192.168.0.10:6379,192.168.0.11:6379,192.168.0.12:6379\n\nredis.hosts = 127.0.0.1:6379\nredis.timeout = 2000\nredis.password =\nredis.database = 0\nredis.ssl = false\n\n## redis pool properties\nredis.maxtotal = 100\nredis.maxidle = 10\nredis.maxwaitmillis = 5000\nredis.minevictableidletimemillis = 60000\nredis.minidle = 1\nredis.numtestsperevictionrun = 10\nredis.lifo = false\nredis.softminevictableidletimemillis = 10\nredis.testonborrow = true\nredis.testonreturn = false\nredis.testwhileidle = true\nredis.timebetweenevictionrunsmillis = 300000\nredis.blockwhenexhausted = false\nredis.jmxenabled = false\n\n#########################################\n# lettuce scheme\n#\n# redis -> single redis server\n# rediss -> single redis server with ssl\n# redis-sentinel -> redis sentinel\n# redis-cluster -> cluster servers\n#\n#########################################\n\n#########################################\n# lettuce mode\n#\n# single -> single redis server\n# sentinel -> master-slaves servers\n# cluster -> cluster servers (æ°æ®åºéç½®æ æï¼ä½¿ç¨ database = 0ï¼\n# sharded -> sharded servers  (å¯ç ãæ°æ®åºå¿é¡»å¨ hosts ä¸­æå®ï¼ä¸è¿æ¥æ± éç½®æ æ ; redis://user:password@127.0.0.1:6379/0ï¼\n#\n#########################################\n\n## redis command scan parameter count, default[1000]\n#lettuce.scancount = 1000\nlettuce.mode = single\nlettuce.namespace =\nlettuce.storage = hash\nlettuce.channel = j2cache\nlettuce.scheme = redis\nlettuce.hosts = 127.0.0.1:6379\nlettuce.password =\nlettuce.database = 0\nlettuce.sentinelmasterid =\nlettuce.maxtotal = 100\nlettuce.maxidle = 10\nlettuce.minidle = 10\n# timeout in milliseconds\nlettuce.timeout = 10000\n# redis cluster topology refresh interval in milliseconds\nlettuce.clustertopologyrefresh = 3000\n\n#########################################\n# memcached server configurations\n# refer to https://gitee.com/mirrors/xmemcached\n#########################################\n\nmemcached.servers = 127.0.0.1:11211\nmemcached.username =\nmemcached.password =\nmemcached.connectionpoolsize = 10\nmemcached.connecttimeout = 1000\nmemcached.failuremode = false\nmemcached.healsessioninterval = 1000\nmemcached.maxqueuednoreplyoperations = 100\nmemcached.optimeout = 100\nmemcached.sanitizekeys = false\n\n\næ»ç»\n\n 1. j2cacheæ¯ä¸ä¸ªç¼å­æ¡æ¶ï¼èªèº«ä¸å·æç¼å­åè½ï¼å®æä¾å¤ç§ç¼å­æ´åå¨ä¸èµ·ä½¿ç¨çæ¹æ¡\n 2. j2cacheéè¦éè¿å¤æçéç½®è®¾ç½®åçº§ç¼å­ï¼ä»¥åç¼å­ä¹é´æ°æ®äº¤æ¢çæ¹å¼\n 3. j2cacheæä½æ¥å£éè¿cachechannelå®ç°\n\n\n# kf-5-2.ä»»å¡\n\nspringbootæ´åç¬¬ä¸æ¹ææ¯ç¬¬äºé¨åæä»¬æ¥è¯´è¯´ä»»å¡ç³»ç»ï¼å¶å®è¿éè¯´çä»»å¡ç³»ç»æçæ¯å®æ¶ä»»å¡ãå®æ¶ä»»å¡æ¯ä¼ä¸çº§å¼åä¸­å¿ä¸å¯å°çç»æé¨åï¼è¯¸å¦é¿å¨æä¸å¡æ°æ®çè®¡ç®ï¼ä¾å¦å¹´åº¦æ¥è¡¨ï¼è¯¸å¦ç³»ç»èæ°æ®çå¤çï¼åæ¯å¦ç³»ç»æ§è½çæ§æ¥åï¼è¿ææ¢è´­ç±»æ´»å¨çååä¸æ¶ï¼è¿äºé½ç¦»ä¸å¼å®æ¶ä»»å¡ãæ¬èå°ä»ç»ä¸¤ç§ä¸åçå®æ¶ä»»å¡ææ¯ã\n\næç®åçæ¯timerå®æ¶ä»»å¡\n\n\n\n# quartz\n\nquartzææ¯æ¯ä¸ä¸ªæ¯è¾æççå®æ¶ä»»å¡æ¡æ¶ï¼æä¹è¯´å¢ï¼æç¹ç¹çï¼ç¨è¿çé½ç¥éï¼éç½®ç¥å¾®å¤æãspringbootå¯¹å¶è¿è¡æ´ååï¼ç®åäºä¸ç³»åçéç½®ï¼å°å¾å¤éç½®éç¨é»è®¤è®¾ç½®ï¼è¿æ ·å¼åé¶æ®µå°±ç®åäºå¾å¤ãåå­¦ä¹ springbootæ´åquartzååæ®åå ä¸ªquartzçæ¦å¿µã\n\n * å·¥ä½ï¼jobï¼ï¼ç¨äºå®ä¹å·ä½æ§è¡çå·¥ä½\n * å·¥ä½æç»ï¼jobdetailï¼ï¼ç¨äºæè¿°å®æ¶å·¥ä½ç¸å³çä¿¡æ¯\n * è§¦åå¨ï¼triggerï¼ï¼æè¿°äºå·¥ä½æç»ä¸è°åº¦å¨çå¯¹åºå³ç³»\n * è°åº¦å¨ï¼schedulerï¼ï¼ç¨äºæè¿°è§¦åå·¥ä½çæ§è¡è§åï¼éå¸¸ä½¿ç¨cronè¡¨è¾¾å¼å®ä¹è§å\n\nç®åè¯´å°±æ¯ä½ å®æ¶å¹²ä»ä¹äºæï¼è¿å°±æ¯å·¥ä½ï¼å·¥ä½ä¸å¯è½å°±æ¯ä¸ä¸ªç®åçæ¹æ³ï¼è¿è¦è®¾ç½®ä¸äºæç»ä¿¡æ¯ãå·¥ä½å¥æ¶åæ§è¡ï¼è®¾ç½®ä¸ä¸ªè°åº¦å¨ï¼å¯ä»¥ç®åçè§£æè®¾ç½®ä¸ä¸ªå·¥ä½æ§è¡çæ¶é´ãå·¥ä½åè°åº¦é½æ¯ç¬ç«å®ä¹çï¼å®ä»¬ä¸¤ä¸ªæä¹éåå°ä¸èµ·å¢ï¼ç¨è§¦åå¨ãå®äºï¼å°±è¿ä¹å¤ãä¸é¢å¼å§springbootæ´åquartzã\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åquartzçstarter\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-quartz</artifactid>\n</dependency>\n\n\næ­¥éª¤â¡ï¼å®ä¹ä»»å¡beanï¼æç§quartzçå¼åè§èå¶ä½ï¼ç»§æ¿quartzjobbean\n\npublic class myquartz extends quartzjobbean {\n    @override\n    protected void executeinternal(jobexecutioncontext context) throws jobexecutionexception {\n        system.out.println("quartz task run...");\n    }\n}\n\n\næ­¥éª¤â¢ï¼åå»ºquartzéç½®ç±»ï¼å®ä¹å·¥ä½æç»ï¼jobdetailï¼ä¸è§¦åå¨çï¼triggerï¼bean\n\n@configuration\npublic class quartzconfig {\n    @bean\n    public jobdetail printjobdetail(){\n        //ç»å®å·ä½çå·¥ä½\n        // storedurablyç¨æ¥æå®æä¹å\n        return jobbuilder.newjob(myquartz.class).storedurably().build();\n    }\n    @bean\n    public trigger printjobtrigger(){\n        schedulebuilder schedbuilder = cronschedulebuilder.cronschedule("0/5 * * * * ?");\n        //ç»å®å¯¹åºçå·¥ä½æç»\n        return triggerbuilder.newtrigger().forjob(printjobdetail()).withschedule(schedbuilder).build();\n    }\n}\n\n\nå·¥ä½æç»ä¸­è¦è®¾ç½®å¯¹åºçå·ä½å·¥ä½ï¼ä½¿ç¨newjob()æä½ä¼ å¥å¯¹åºçå·¥ä½ä»»å¡ç±»åå³å¯ã\n\nè§¦åå¨éè¦ç»å®ä»»å¡ï¼ä½¿ç¨forjob()æä½ä¼ å¥ç»å®çå·¥ä½æç»å¯¹è±¡ãæ­¤å¤å¯ä»¥ä¸ºå·¥ä½æç»è®¾ç½®åç§°ç¶åä½¿ç¨åç§°ç»å®ï¼ä¹å¯ä»¥ç´æ¥è°ç¨å¯¹åºæ¹æ³ç»å®ãè§¦åå¨ä¸­ææ ¸å¿çè§åæ¯æ§è¡æ¶é´ï¼æ­¤å¤ä½¿ç¨è°åº¦å¨å®ä¹æ§è¡æ¶é´ï¼æ§è¡æ¶é´æè¿°æ¹å¼ä½¿ç¨çæ¯cronè¡¨è¾¾å¼ï¼è¿æ¯ä»ä¹ï¼æ¥éä¸ä¸ï¼ãæå³cronè¡¨è¾¾å¼çè§åï¼åä½å°ä¼ä¼´å¯ä»¥å»åçç¸å³è¯¾ç¨å­¦ä¹ ï¼ç¥å¾®å¤æï¼èä¸æ ¼å¼ä¸è½ä¹±è®¾ç½®ï¼ä¸æ¯åä¸ªæ ¼å¼å°±è½ç¨çï¼åä¸å¥½å°±ä¼åºç°å²çªé®é¢ã\n\næ»ç»\n\n 1. springbootæ´åquartzå°±æ¯å°quartzå¯¹åºçæ ¸å¿å¯¹è±¡äº¤ç»springå®¹å¨ç®¡çï¼åå«ä¸¤ä¸ªå¯¹è±¡ï¼jobdetailåtriggerå¯¹è±¡\n 2. jobdetailå¯¹è±¡æè¿°çæ¯å·¥ä½çæ§è¡ä¿¡æ¯ï¼éè¦ç»å®ä¸ä¸ªquartzjobbeanç±»åçå¯¹è±¡\n 3. triggerå¯¹è±¡å®ä¹äºä¸ä¸ªè§¦åå¨ï¼éè¦ä¸ºå¶æå®ç»å®çjobdetailæ¯åªä¸ªï¼åæ¶è¦è®¾ç½®æ§è¡å¨æè°åº¦å¨\n\næè\n\nä¸é¢çæä½çä¸å»ä¸å¤ï¼ä½æ¯quartzå°å¶ä¸­çå¯¹è±¡ååç²åº¦è¿ç»ï¼å¯¼è´å¼åçæ¶åæç¹ç¹çï¼springéå¯¹ä¸è¿°è§åè¿è¡äºç®åï¼å¼åäºèªå·±çä»»å¡ç®¡çç»ä»¶ââtaskï¼å¦ä½ç¨å¢ï¼å±ä»¬ä¸èåè¯´ã\n\n# task\n\nspringæ ¹æ®å®æ¶ä»»å¡çç¹å¾ï¼å°å®æ¶ä»»å¡çå¼åç®åå°äºæè´ãæä¹è¯´å¢ï¼è¦åå®æ¶ä»»å¡æ»è¦åè¯å®¹å¨æè¿åè½å§ï¼ç¶åå®æ¶æ§è¡ä»ä¹ä»»å¡ç´æ¥åè¯å¯¹åºçbeanä»ä¹æ¶é´æ§è¡å°±è¡äºï¼å°±è¿ä¹ç®åï¼ä¸èµ·æ¥çæä¹å\n\næ­¥éª¤â ï¼å¼å¯å®æ¶ä»»å¡åè½ï¼å¨å¼å¯¼ç±»ä¸å¼å¯å®æ¶ä»»å¡åè½çå¼å³ï¼ä½¿ç¨æ³¨è§£@enablescheduling\n\n@springbootapplication\n//å¼å¯å®æ¶ä»»å¡åè½\n@enablescheduling\npublic class springboot22taskapplication {\n    public static void main(string[] args) {\n        springapplication.run(springboot22taskapplication.class, args);\n    }\n}\n\n\næ­¥éª¤â¡ï¼å®ä¹beanï¼å¨å¯¹åºè¦å®æ¶æ§è¡çæä½ä¸æ¹ï¼ä½¿ç¨æ³¨è§£@scheduledå®ä¹æ§è¡çæ¶é´ï¼æ§è¡æ¶é´çæè¿°æ¹å¼è¿æ¯cronè¡¨è¾¾å¼\n\n@component\npublic class mybean {\n    @scheduled(cron = "0/1 * * * * ?")\n    public void print(){\n        system.out.println(thread.currentthread().getname()+" :spring task run...");\n    }\n}\n\n\nå®äºï¼è¿å°±å®æäºå®æ¶ä»»å¡çéç½®ãæ»ä½æè§å¶å®ä»ä¹ä¸è¥¿é½æ²¡å°ï¼åªä¸è¿æ²¡æå°ææçä¿¡æ¯é½æ½åæbeanï¼èæ¯ç´æ¥ä½¿ç¨æ³¨è§£ç»å®å®æ¶æ§è¡ä»»å¡çäºæèå·²ã\n\nå¦ä½æ³å¯¹å®æ¶ä»»å¡è¿è¡ç¸å³éç½®ï¼å¯ä»¥éè¿éç½®æä»¶è¿è¡\n\nspring:\n  task:\n   \tscheduling:\n      pool:\n       \tsize: 1\t\t\t\t\t\t\t# ä»»å¡è°åº¦çº¿ç¨æ± å¤§å° é»è®¤ 1\n      thread-name-prefix: ssm_      \t# è°åº¦çº¿ç¨åç§°åç¼ é»è®¤ scheduling-      \n        shutdown:\n          await-termination: false\t\t# çº¿ç¨æ± å³é­æ¶ç­å¾ææä»»å¡å®æ\n          await-termination-period: 10s\t# è°åº¦çº¿ç¨å³é­åæå¤§ç­å¾æ¶é´ï¼ç¡®ä¿æåä¸å®å³é­\n\n\næ»ç»\n\n 1. spring taskéè¦ä½¿ç¨æ³¨è§£@enableschedulingå¼å¯å®æ¶ä»»å¡åè½\n\n 2. ä¸ºå®æ¶æ§è¡ççä»»å¡è®¾ç½®æ§è¡å¨æï¼æè¿°æ¹å¼cronè¡¨è¾¾å¼\n\n\n# kf-5-3.é®ä»¶\n\nspringbootæ´åç¬¬ä¸æ¹ææ¯ç¬¬ä¸é¨åæä»¬æ¥è¯´è¯´é®ä»¶ç³»ç»ï¼åé®ä»¶æ¯javaç¨åºçåºæ¬æä½ï¼springbootæ´åjavamailå¶å®å°±æ¯ç®åå¼åãä¸çæé®ä»¶çå°ä¼ä¼´å¯ä»¥åå­¦ä¹ å®javamailçåºç¡æä½ï¼åæ¥çè¿ä¸é¨ååå®¹æè½æè§¦å°springbootæ´åjavamailç©¶ç«ç®åäºåªäºæä½ãç®åçå¤ç ï¼å¶å®ä¸å¤ï¼å·®å«ä¸å¤§ï¼åªæ¯è¿ä¸ªæ ¼å¼èå·²ã\n\nå­¦ä¹ é®ä»¶åéä¹ååäºè§£3ä¸ªæ¦å¿µï¼è¿äºæ¦å¿µè§èäºé®ä»¶æä½è¿ç¨ä¸­çæ åã\n\n * smtpï¼simple mail transfer protocolï¼ï¼ç®åé®ä»¶ä¼ è¾åè®®ï¼ç¨äºåéçµå­é®ä»¶çä¼ è¾åè®®ï¼æå³æ³¨çåè®®ï¼\n * pop3ï¼post office protocol - version 3ï¼ï¼ç¨äºæ¥æ¶çµå­é®ä»¶çæ ååè®®\n * imapï¼internet mail access protocolï¼ï¼äºèç½æ¶æ¯åè®®ï¼æ¯pop3çæ¿ä»£åè®®\n\nç®åè¯´å°±æ¯smptæ¯åé®ä»¶çæ åï¼pop3æ¯æ¶é®ä»¶çæ åï¼imapæ¯å¯¹pop3çåçº§ãæä»¬å¶ä½ç¨åºä¸­æä½é®ä»¶ï¼éå¸¸æ¯åé®ä»¶ï¼æä»¥smtpæ¯ä½¿ç¨çéç¹ï¼æ¶é®ä»¶å¤§é¨åé½æ¯éè¿é®ä»¶å®¢æ·ç«¯å®æï¼æä»¥å¼åæ¶é®ä»¶çä»£ç æå°ãé¤éä½ è¦è¯»åé®ä»¶åå®¹ï¼ç¶åè§£æï¼åé®ä»¶åè½çç»ä¸å¤çãä¾å¦hrçé®ç®±æ¶å°æ±èèçç®åï¼å¯ä»¥è¯»ååç»ä¸å¤çãä½æ¯ä¸ºä»ä¹ä¸å¶ä½ç¬ç«çæéç®åçç³»ç»å¢ï¼æä»¥è¯´ï¼å¥½å¥æªçéæ±ï¼å ä¸ºè¦æ³æ¶é®ä»¶å°±è¦è§èåé®ä»¶çäººçä¹¦åæ ¼å¼ï¼è¿ä¸ªæªåæç¹å¼ºäººæé¾ï¼å¹¶ä¸æææ¶å°å¤é¨æ»å»ï¼ä½ ä¸å¯è½ä½¿ç¨ç½ååæ¥æ¶é®ä»¶ãå¦æè½ä½¿ç¨ç½ååæ¥æ¶é®ä»¶ç¶åè§£æé®ä»¶ï¼è¿ä¸å¦å¼åä¸ªç³»ç»ç»ç½ååä¸­çäººä¸ç¨å¢ï¼æ´å®å¨ï¼æ»ä¹å°±æ¯é¸¡èäºãä¸é¢å°±å¼å§å­¦ä¹ springbootå¦ä½æ´åjavamailåéé®ä»¶ã\n\n# åéç®åé®ä»¶\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åjavamailçstarter\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-mail</artifactid>\n</dependency>\n\n\næ­¥éª¤â¡ï¼éç½®é®ç®±çç»å½ä¿¡æ¯\n\nspring:\n  mail:\n    host: smtp.126.com\n    username: test@126.com\n    password: test\n\n\njavaç¨åºä»ç¨äºåéé®ä»¶ï¼é®ä»¶çåè½è¿æ¯é®ä»¶ä¾åºåæä¾çï¼æä»¥è¿éæ¯ç¨å«äººçé®ä»¶æå¡ï¼è¦éç½®å¯¹åºä¿¡æ¯ã\n\nhostéç½®çæ¯æä¾é®ä»¶æå¡çä¸»æºåè®®ï¼æä¾é®ä»¶çæå¡åï¼ï¼å½åç¨åºä»ç¨äºåéé®ä»¶ï¼å æ­¤éç½®çæ¯smtpçåè®®ã\n\npasswordå¹¶ä¸æ¯é®ç®±è´¦å·çç»å½å¯ç ï¼æ¯é®ä»¶ä¾åºåæä¾çä¸ä¸ªå å¯åçå¯ç ï¼ä¹æ¯ä¸ºäºä¿éç³»ç»å®å¨æ§ãä¸ç¶å¤é¨äººåéè¿å°åè®¿é®ä¸è½½äºéç½®æä»¶ï¼ç´æ¥è·åå°äºé®ä»¶å¯ç å°±ä¼ææå¤§çå®å¨éæ£ãæå³è¯¥å¯ç çè·åæ¯ä¸ªé®ä»¶ä¾åºåæä¾çæ¹å¼é½ä¸ä¸æ ·ï¼æ­¤å¤ç¥è¿ãå¯ä»¥å°é®ä»¶ä¾åºåçè®¾ç½®é¡µé¢æ¾pop3æimapè¿äºå³é®è¯æ¾å°å¯¹åºçè·åä½ç½®ãä¸ä¾ä»ä¾åèï¼\n\n\n\næ­¥éª¤â¢ï¼ä½¿ç¨javamailsenderæ¥å£åéé®ä»¶\n\n@service\npublic class sendmailserviceimpl implements sendmailservice {\n    @autowired\n    private javamailsender javamailsender;\n\n    //åéäºº\n    private string from = "test@qq.com";\n    //æ¥æ¶äºº\n    private string to = "test@126.com";\n    //æ é¢\n    private string subject = "æµè¯é®ä»¶";\n    //æ­£æ\n    private string context = "æµè¯é®ä»¶æ­£æåå®¹";\n\n    @override\n    public void sendmail() {\n        simplemailmessage message = new simplemailmessage();\n        message.setfrom(from+"(å°çç)");\n        message.setto(to);\n        message.setsubject(subject);\n        message.settext(context);\n        javamailsender.send(message);\n    }\n}\n\n\nå°åéé®ä»¶çå¿è¦ä¿¡æ¯ï¼åä»¶äººãæ¶ä»¶äººãæ é¢ãæ­£æï¼å°è£å°simplemailmessageå¯¹è±¡ä¸­ï¼å¯ä»¥æ ¹æ®è§åè®¾ç½®åéäººæµç§°ç­ã\n\n# åéå¤ç»ä»¶é®ä»¶ï¼éä»¶ãå¤ææ­£æï¼\n\nåéç®åé®ä»¶ä»éè¦æä¾å¯¹åºç4ä¸ªåºæ¬ä¿¡æ¯å°±å¯ä»¥äºï¼å¦ææ³åéå¤æçé®ä»¶ï¼éè¦æ´æ¢é®ä»¶å¯¹è±¡ãä½¿ç¨mimemessageå¯ä»¥åéç¹æ®çé®ä»¶ã\n\nåéç½é¡µæ­£æé®ä»¶\n\n@service\npublic class sendmailserviceimpl2 implements sendmailservice {\n    @autowired\n    private javamailsender javamailsender;\n\n    //åéäºº\n    private string from = "test@qq.com";\n    //æ¥æ¶äºº\n    private string to = "test@126.com";\n    //æ é¢\n    private string subject = "æµè¯é®ä»¶";\n    //æ­£æ\n    private string context = "<img src=\'abc.jpg\'/><a href=\'https://www.itcast.cn\'>ç¹å¼ææå</a>";\n\n    public void sendmail() {\n        try {\n            // ä»¥ä¸ä¸ºåºå®æä½\n            mimemessage message = javamailsender.createmimemessage();\n            mimemessagehelper helper = new mimemessagehelper(message);\n            helper.setfrom(to+"(å°çç)");\n            helper.setto(from);\n            helper.setsubject(subject);\n            helper.settext(context,true);\t\t//æ­¤å¤è®¾ç½®æ­£ææ¯æhtmlè§£æ\n\n            javamailsender.send(message);\n        } catch (exception e) {\n            e.printstacktrace();\n        }\n    }\n}\n\n\nåéå¸¦æéä»¶çé®ä»¶\n\n@service\npublic class sendmailserviceimpl2 implements sendmailservice {\n    @autowired\n    private javamailsender javamailsender;\n\n    //åéäºº\n    private string from = "test@qq.com";\n    //æ¥æ¶äºº\n    private string to = "test@126.com";\n    //æ é¢\n    private string subject = "æµè¯é®ä»¶";\n    //æ­£æ\n    private string context = "æµè¯é®ä»¶æ­£æ";\n\n    public void sendmail() {\n        try {\n            mimemessage message = javamailsender.createmimemessage();\n            mimemessagehelper helper = new mimemessagehelper(message,true);\t\t//æ­¤å¤è®¾ç½®æ¯æéä»¶\n            helper.setfrom(from+"(å°çç)");\n            helper.setto(to);\n            helper.setsubject(subject);\n            helper.settext(context);\n\n            //æ·»å éä»¶\n            file f1 = new file("springboot_23_mail-0.0.1-snapshot.jar");\n            file f2 = new file("resources\\\\logo.png");\n\n            helper.addattachment(f1.getname(),f1);\n            helper.addattachment("æé è°±çå¹è®­ç»æ.png",f2);\n\n            javamailsender.send(message);\n        } catch (exception e) {\n            e.printstacktrace();\n        }\n    }\n}\n\n\næ»ç»\n\n 1. springbootæ´åjavamailå¶å®å°±æ¯ç®åäºåéé®ä»¶çå®¢æ·ç«¯å¯¹è±¡javamailsenderçåå§åè¿ç¨ï¼éè¿éç½®çå½¢å¼å è½½ä¿¡æ¯ç®åå¼åè¿ç¨\n\n\n# kf-5-4.æ¶æ¯\n\nspringbootæ´åç¬¬ä¸æ¹ææ¯æåä¸é¨åæä»¬æ¥è¯´è¯´æ¶æ¯ä¸­é´ä»¶ï¼é¦ååä»ç»ä¸ä¸æ¶æ¯çåºç¨ã\n\n# æ¶æ¯çæ¦å¿µ\n\nä»å¹¿ä¹è§åº¦æ¥è¯´ï¼æ¶æ¯å¶å®å°±æ¯ä¿¡æ¯ï¼ä½æ¯åä¿¡æ¯åææä¸åãä¿¡æ¯éå¸¸è¢«å®ä¹ä¸ºä¸ç»æ°æ®ï¼èæ¶æ¯é¤äºå·ææ°æ®çç¹å¾ä¹å¤ï¼è¿ææ¶æ¯çæ¥æºä¸æ¥æ¶çæ¦å¿µãéå¸¸åéæ¶æ¯çä¸æ¹ç§°ä¸ºæ¶æ¯ççäº§èï¼æ¥æ¶æ¶æ¯çä¸æ¹ç§°ä¸ºæ¶æ¯çæ¶è´¹èãè¿æ ·æ¯è¾åï¼åç°å¶å®æ¶æ¯åä¿¡æ¯å·®å«è¿æ¯å¾å¤§çã\n\nä¸ºä»ä¹è¦è®¾ç½®çäº§èåæ¶è´¹èå¢ï¼è¿å°±æ¯è¦è¯´å°æ¶æ¯çæä¹äºãä¿¡æ¯éå¸¸å°±æ¯ä¸ç»æ°æ®ï¼ä½æ¯æ¶æ¯ç±äºæäºçäº§èåæ¶è´¹èï¼å°±åºç°äºæ¶æ¯ä¸­æåå«çä¿¡æ¯å¯ä»¥è¢«äºæ¬¡è§£è¯»ï¼çäº§èåéæ¶æ¯ï¼å¯ä»¥çè§£ä¸ºçäº§èåéäºä¸ä¸ªä¿¡æ¯ï¼ä¹å¯ä»¥çè§£ä¸ºçäº§èåéäºä¸ä¸ªå½ä»¤ï¼æ¶è´¹èæ¥æ¶æ¶æ¯ï¼å¯ä»¥çè§£ä¸ºæ¶è´¹èå¾å°äºä¸ä¸ªä¿¡æ¯ï¼ä¹å¯ä»¥çè§£ä¸ºæ¶è´¹èå¾å°äºä¸ä¸ªå½ä»¤ãå¯¹æ¯ä¸ä¸æä»¬ä¼åç°ä¿¡æ¯æ¯ä¸ä¸ªåºæ¬æ°æ®ï¼èå½ä»¤åå¯ä»¥å³èä¸ä¸ä¸ªè¡ä¸ºå¨ä½ï¼è¿æ ·å°±å¯ä»¥çè§£ä¸ºåºäºæ¥æ¶çæ¶æ¯ç¸å½äºå¾å°äºä¸ä¸ªè¡ä¸ºå¨ä½ï¼ä½¿ç¨è¿äºè¡ä¸ºå¨ä½å°±å¯ä»¥ç»ç»æä¸ä¸ªä¸å¡é»è¾ï¼è¿è¡è¿ä¸æ­¥çæä½ãæ»çæ¥è¯´ï¼æ¶æ¯å¶å®ä¹æ¯ä¸ç»ä¿¡æ¯ï¼åªæ¯ä¸ºå¶èµäºäºå¨æ°çå«ä¹ï¼å ä¸ºæäºæ¶æ¯çæµå¨ï¼å¹¶ä¸æ¯ææ¹åæ§çæµå¨ï¼å¸¦æ¥äºåºäºæµå¨çè¡ä¸ºäº§ççå¨æ°è§£è¯»ãå¼åèå°±å¯ä»¥åºäºæ¶æ¯çè¿ç§ç¹æ®è§£ï¼å°å¶æ¢æä»£ç ä¸­çæä»¤ã\n\nå¯¹äºæ¶æ¯ççè§£ï¼åå­¦èæ»è®¤ä¸ºæ¶æ¯åé¨çæ°æ®éå¸¸å¤æï¼è¿æ¯ä¸ä¸ªè¯¯åºãæ¯å¦æåéäºä¸ä¸ªæ¶æ¯ï¼è¦æ±æ¥åèç¿»è¯åéè¿å»çåå®¹ãåå­¦èä¼è®¤ä¸ºæ¶æ¯ä¸­ä¼åå«è¢«ç¿»è¯çæå­ï¼å·²ç»æ¬æ¬¡æä½è¦æ§è¡ç¿»è¯æä½èä¸æ¯æå°æä½ãå¶å®è¿ç§ç°è±¡æç¹è¿åº¦è§£è¯»äºï¼åéçæ¶æ¯ä¸­ä»ä»åå«è¢«ç¿»è¯çæå­ï¼ä½æ¯å¯ä»¥éè¿æ§å¶ä¸åçäººæ¥æ¶æ­¤æ¶æ¯æ¥ç¡®è®¤è¦åçäºæãä¾å¦åéè¢«ç¿»è¯çæå­ä»å°aç¨åºï¼èaç¨åºåªè½è¿è¡ç¿»è¯æä½ï¼è¿æ ·å°±å¯ä»¥åéç®åçä¿¡æ¯å®æå¤æçä¸å¡äºï¼æ¯éè¿æ¥æ¶æ¶æ¯çä¸»ä½ä¸åï¼è¿èæ§è¡ä¸åçæä½ï¼èä¸ä¼å¨æ¶æ¯åé¨å®ä¹æ°æ®çæä½è¡ä¸ºï¼å½ç¶å¦æå¼åèå¸ææ¶æ¯ä¸­åå«æä½ç§ç±»ä¿¡æ¯ä¹æ¯å¯ä»¥çï¼åªæ¯æåºæ¶æ¯çåå®¹å¯ä»¥æ´ç®åï¼æ´åä¸ã\n\nå¯¹äºæ¶æ¯ççäº§èä¸æ¶è´¹èçå·¥ä½æ¨¡å¼ï¼è¿å¯ä»¥å°æ¶æ¯ååæä¸¤ç§æ¨¡å¼ï¼åæ­¥æ¶è´¹ä¸å¼æ­¥æ¶æ¯ã\n\næè°åæ­¥æ¶æ¯å°±æ¯çäº§èåéå®æ¶æ¯ï¼ç­å¾æ¶è´¹èå¤çï¼æ¶è´¹èå¤çå®å°ç»æåç¥çäº§èï¼ç¶åçäº§èç»§ç»­åä¸æ§è¡ä¸å¡ãè¿ç§æ¨¡å¼è¿äºå¡çäº§èçä¸å¡æ§è¡è¿ç»­æ§ï¼å¨ç°å¨çä¼ä¸çº§å¼åä¸­ï¼ä¸è¿°è¿ç§ä¸å¡åºæ¯éå¸¸ä¸ä¼éç¨æ¶æ¯çå½¢å¼è¿è¡å¤çã\n\næè°**å¼æ­¥æ¶æ¯å°±æ¯çäº§èåéå®æ¶æ¯ï¼æ éç­å¾æ¶è´¹èå¤çå®æ¯ï¼çäº§èç»§ç»­åä¸æ§è¡å¶ä»å¨ä½ã**æ¯å¦çäº§èåéäºä¸ä¸ªæ¥å¿ä¿¡æ¯ç»æ¥å¿ç³»ç»ï¼åéè¿å»ä»¥åçäº§èå°±åä¸åå¶ä»äºæäºï¼æ éå³æ³¨æ¥å¿ç³»ç»çæ§è¡ç»æãæ¥å¿ç³»ç»æ ¹æ®æ¥æ¶å°çæ¥å¿ä¿¡æ¯ç»§ç»­è¿è¡ä¸å¡æ§è¡ï¼æ¯åçº¯çè®°å½æ¥å¿ï¼è¿æ¯è®°å½æ¥å¿å¹¶æ¥è­¦ï¼è¿äºåçäº§èæ å³ï¼è¿æ ·çäº§èçä¸å¡æ§è¡æçå°±ä¼å¤§å¹åº¦æåãå¹¶ä¸å¯ä»¥éè¿æ·»å å¤ä¸ªæ¶è´¹èæ¥å¤çåä¸ä¸ªçäº§èåéçæ¶æ¯æ¥æé«ç³»ç»çé«å¹¶åæ§ï¼æ¹åç³»ç»å·¥ä½æçï¼æé«ç¨æ·ä½éªãä¸æ¦æä¸ä¸ªæ¶è´¹èç±äºåç§é®é¢å®æºäºï¼ä¹ä¸ä¼å¯¹ä¸å¡äº§çå½±åï¼æé«äºç³»ç»çé«å¯ç¨æ§ã\n\nä»¥ä¸ç®åçä»ç»äºä¸ä¸æ¶æ¯è¿ç§å·¥ä½æ¨¡å¼å­å¨çæä¹ï¼å¸æå¯¹åä½å­¦ä¹ èææå¸®å©ã\n\n# javaå¤çæ¶æ¯çæ åè§è(ä¹å°±æ¯å¨å¤çæ¶æ¯éå)\n\nç®åä¼ä¸çº§å¼åä¸­å¹¿æ³ä½¿ç¨çæ¶æ¯å¤çææ¯å±ä¸å¤§ç±»ï¼å·ä½å¦ä¸ï¼\n\n * jms\n * amqp\n * mqtt\n\nä¸ºä»ä¹æ¯ä¸å¤§ç±»ï¼èä¸æ¯ä¸ä¸ªææ¯å¢ï¼å ä¸ºè¿äºé½æ¯è§èï¼å°±æ³jdbcææ¯ï¼æ¯ä¸ªè§èï¼å¼åéå¯¹è§èå¼åï¼è¿è¡è¿è¦é å®ç°ç±»ï¼ä¾å¦mysqlæä¾äºjdbcçå®ç°ï¼æç»è¿è¡é çè¿æ¯å®ç°ãå¹¶ä¸è¿ä¸ç±»è§èé½æ¯éå¯¹å¼æ­¥æ¶æ¯è¿è¡å¤ççï¼ä¹ç¬¦åæ¶æ¯çè®¾è®¡æ¬è´¨ï¼å¤çå¼æ­¥çä¸å¡ãå¯¹ä»¥ä¸ä¸ç§æ¶æ¯è§èåä¸ä¸æ®å\n\n# jms\n\njmsï¼java message serviceï¼,è¿æ¯ä¸ä¸ªè§èï¼ä½ç¨ç­åäºjdbcè§èï¼æä¾äºä¸æ¶æ¯æå¡ç¸å³çapiæ¥å£ã\n\njmsæ¶æ¯æ¨¡å\n\njmsè§èä¸­è§èäºæ¶æ¯æä¸¤ç§æ¨¡åãåå«æ¯ç¹å¯¹ç¹æ¨¡åååå¸è®¢éæ¨¡åã\n\nç¹å¯¹ç¹æ¨¡åï¼peer-2-peerï¼çäº§èä¼å°æ¶æ¯åéå°ä¸ä¸ªä¿å­æ¶æ¯çå®¹å¨ä¸­ï¼éå¸¸ä½¿ç¨éåæ¨¡åï¼ä½¿ç¨éåä¿å­æ¶æ¯ãä¸ä¸ªéåçæ¶æ¯åªè½è¢«ä¸ä¸ªæ¶è´¹èæ¶è´¹ï¼ææªè¢«åæ¶æ¶è´¹å¯¼è´è¶æ¶ãè¿ç§æ¨¡åä¸ï¼çäº§èåæ¶è´¹èæ¯ä¸å¯¹ä¸ç»å®çã\n\nåå¸è®¢éæ¨¡åï¼publish-subscribeï¼çäº§èå°æ¶æ¯åéå°ä¸ä¸ªä¿å­æ¶æ¯çå®¹å¨ä¸­ï¼ä¹æ¯ä½¿ç¨éåæ¨¡åæ¥ä¿å­ãä½æ¯æ¶æ¯å¯ä»¥è¢«å¤ä¸ªæ¶è´¹èæ¶è´¹ï¼çäº§èåæ¶è´¹èå®å¨ç¬ç«ï¼ç¸äºä¸éè¦æç¥å¯¹æ¹çå­å¨ã\n\nä»¥ä¸è¿ç§åç±»æ¯ä»æ¶æ¯ççäº§åæ¶è´¹è¿ç¨æ¥è¿è¡åºåï¼éå¯¹æ¶æ¯æåå«çä¿¡æ¯ä¸åï¼è¿å¯ä»¥è¿è¡ä¸åç±»å«çååã\n\njmsæ¶æ¯ç§ç±»\n\næ ¹æ®æ¶æ¯ä¸­åå«çæ°æ®ç§ç±»ååï¼å¯ä»¥å°æ¶æ¯ååæ6ç§æ¶æ¯ã\n\n * textmessage\n * mapmessage\n * bytesmessage\n * streammessage\n * objectmessage\n * message ï¼åªææ¶æ¯å¤´åå±æ§ï¼\n\njmsä¸»å¼ ä¸åç§ç±»çæ¶æ¯ï¼æ¶è´¹æ¹å¼ä¸åï¼å¯ä»¥æ ¹æ®ä½¿ç¨éè¦éæ©ä¸åç§ç±»çæ¶æ¯ãä½æ¯è¿ä¸ç¹ä¹æä¸ºå¶è¯çä¹å¤ï¼åé¢åè¯´ãæ´ä½ä¸æ¥è¯´ï¼jmså°±æ¯å¸åçä¿å®æ´¾ï¼ä»ä¹é½æç§j2eeçè§èæ¥ï¼åä¸å¥è§èï¼å®ä¹è¥å¹²ä¸ªæ åï¼æ¯ä¸ªæ åä¸åæä¾ä¸å¤§æ¹apiãç®åå¯¹jmsè§èå®ç°çæ¶æ¯ä¸­é´ä»¶ææ¯è¿æ¯æºå¤çï¼æ¯ç«æ¯çå®¶å¾¡ç¨ï¼è¯å®æäººèï¼ä¾å¦activemqãredisãhornetmqãä½æ¯ä¹æä¸äºä¸å¤ªè§èçå®ç°ï¼åèjmsçæ åè®¾è®¡ï¼ä½æ¯åä¸å®å¨æ»¡è¶³å¶è§èï¼ä¾å¦ï¼rabbitmqãrocketmqã\n\n# amqp\n\njmsçé®ä¸ä¸ºæ¶æ¯ä¸­é´ä»¶æä¾äºå¾å¼ºå¤§çè§èæ§æ¯æï¼ä½æ¯ä½¿ç¨çè¿ç¨ä¸­å°±å¼å§è¢«äººè¯çï¼æ¯å¦jmsè®¾ç½®çæå¶å¤æçå¤ç§ç±»æ¶æ¯å¤çæºå¶ãæ¬æ¥åé¨å«ç±»å¤çæºå¥½çï¼ä¸ºä»ä¹ä¼è¢«è¯çå¢ï¼åå å°±å¨äºjmsçè®¾è®¡æ¯j2eeè§èï¼ç«å¨javaå¼åçè§åº¦æèé®é¢ãä½æ¯ç°å®å¾å¾æ¯å¤æåº¦å¾é«çãæ¯å¦ææä¸ä¸ª.netå¼åçç³»ç»aï¼æä¸ä¸ªjavaå¼åçç³»ç»bï¼ç°å¨è¦ä»aç³»ç»ç»bç³»ç»åä¸å¡æ¶æ¯ï¼ç»æä¸¤è¾¹æ°æ®æ ¼å¼ä¸ç»ä¸ï¼æ²¡æ³æä½ãjmsä¸æ¯å¯ä»¥ç»ä¸æ°æ®æ ¼å¼åï¼æä¾äº6ç§æ°æ®ç§ç±»ï¼æ»æä¸æ¬¾éåä½ åãnoï¼ä¸ä¸ªé½ä¸è½ç¨ãå ä¸ºaç³»ç»çåºå±è¯­è¨ä¸æ¯javaè¯­è¨å¼åçï¼æ ¹æ¬ä¸æ¯æé£äºå¯¹è±¡ãè¿å°±æå³çå¦ææ³ä½¿ç¨ç°æçä¸å¡ç³»ç»aç»§ç»­å¼åå·²ç»ä¸å¯è½äºï¼å¿é¡»æ¨ç¿»éæ°åä½¿ç¨javaè¯­è¨å¼åçaç³»ç»ã\n\nè¿æ¶åæäººå°±æåºè¯´ï¼ä½ æé£ä¹å¤æï¼æ´é£ä¹å¤ç§ç±»å¹²ä»ä¹ï¼æ¾ä¸ç§å¤§å®¶é½æ¯æçæ¶æ¯æ°æ®ç±»åä¸å°±è§£å³è¿ä¸ªè·¨å¹³å°çé®é¢äºåï¼å¤§å®¶ä¸æ³ï¼å¯¹åï¼äºæ¯amqpå­è²èçã\n\nåä»ä¸é¢çè¯´æä¸­å¶å®å¯ä»¥æç¡®æç¥å°ï¼amqpçåºç°è§£å³çæ¯æ¶æ¯ä¼ éæ¶ä½¿ç¨çæ¶æ¯ç§ç±»çé®é¢ï¼åç¹ä¸ºç®ï¼ä½æ¯å¶å¹¶æ²¡æå®å¨æ¨ç¿»jmsçæä½apiï¼æä»¥è¯´amqpä»ä»æ¯ä¸ç§åè®®ï¼è§èäºæ°æ®ä¼ è¾çæ ¼å¼èå·²ã\n\namqpï¼advanced message queuing protocolï¼ï¼ä¸ç§åè®®ï¼é«çº§æ¶æ¯éååè®®ï¼ä¹æ¯æ¶æ¯ä»£çè§èï¼ä¸æ¯åjmsä¸æ ·çè§èï¼ï¼è§èäºç½ç»äº¤æ¢çæ°æ®æ ¼å¼ï¼å¼å®¹jmsæä½ã ä¼ç¹\n\nå·æè·¨å¹³å°æ§ï¼æå¡å¨ä¾åºåï¼çäº§èï¼æ¶è´¹èå¯ä»¥ä½¿ç¨ä¸åçè¯­è¨æ¥å®ç°\n\njmsæ¶æ¯ç§ç±»\n\namqpæ¶æ¯ç§ç±»ï¼byte[]\n\namqpå¨jmsçæ¶æ¯æ¨¡ååºç¡ä¸åè¿è¡äºè¿ä¸æ­¥çæ©å±ï¼é¤äºç¹å¯¹ç¹ååå¸è®¢éçæ¨¡åï¼å¼åäºå ç§å¨æ°çæ¶æ¯æ¨¡åï¼éåºåç§åæ ·çæ¶æ¯åéã\n\namqpæ¶æ¯æ¨¡å\n\n * direct exchange\n * fanout exchange\n * topic exchange\n * headers exchange\n * system exchange\n\nç®åå®ç°äºamqpåè®®çæ¶æ¯ä¸­é´ä»¶ææ¯ä¹å¾å¤ï¼èä¸é½æ¯è¾ä¸ºæµè¡çææ¯ï¼ä¾å¦ï¼rabbitmqãstormmqãrocketmq\n\namqpç¨æ¥è§èæ¶æ¯ä¼ éçæ ¼å¼ï¼çèåæï¼ï¼jmsç¨æ¥è§èæ¶æ¯å¼åçapiï¼çèå¨ä½ï¼\n\n# mqtt\n\nmqttï¼message queueing telemetry transportï¼æ¶æ¯éåé¥æµä¼ è¾ï¼ä¸ä¸ºå°è®¾å¤è®¾è®¡ï¼æ¯ç©èç½ï¼iotï¼çæç³»ç»ä¸­ä¸»è¦æåä¹ä¸ãç±äºä¸javaeeä¼ä¸çº§å¼åæ²¡æäº¤éï¼æ­¤å¤ä¸ä½è¿å¤çè¯´æã\n\né¤äºä¸è¿°3ç§j2eeä¼ä¸çº§åºç¨ä¸­å¹¿æ³ä½¿ç¨çä¸ç§å¼æ­¥æ¶æ¯ä¼ éææ¯ï¼è¿æä¸ç§ææ¯ä¹ä¸è½å¿½ç¥ï¼kafkaã\n\n# kafka\n\n**kafkaï¼ä¸ç§é«ååéçåå¸å¼åå¸è®¢éæ¶æ¯ç³»ç»ï¼æä¾å®æ¶æ¶æ¯åè½ã**kafkaææ¯å¹¶ä¸æ¯ä½ä¸ºæ¶æ¯ä¸­é´ä»¶ä¸ºä¸»è¦åè½çäº§åï¼ä½æ¯å¶æ¥æåå¸è®¢éçå·¥ä½æ¨¡å¼ï¼ä¹å¯ä»¥åå½æ¶æ¯ä¸­é´ä»¶æ¥ä½¿ç¨ï¼èä¸ç®åä¼ä¸çº§å¼åä¸­å¶èº«å½±ä¹ä¸å°è§ã\n\næ¬èåå®¹è®²å´ç»çä¸è¿°åå®¹ä¸­çå ç§å®ç°æ¹æ¡è®²è§£springbootæ´ååç§åæ ·çæ¶æ¯ä¸­é´ä»¶ãç±äºåç§æ¶æ¯ä¸­é´ä»¶å¿é¡»åå®è£åä½¿ç¨ï¼ä¸é¢çåå®¹éç¨windowsç³»ç»å®è£ï¼éä½åä½å­¦ä¹ èçå­¦ä¹ é¾åº¦ï¼åºæ¬å¥è·¯åä¹åå­¦ä¹ nosqlè§£å³æ¹æ¡ä¸æ ·ï¼åå®è£åæ´åã\n\n# è´­ç©è®¢ååéææºç­ä¿¡æ¡ä¾\n\nä¸ºäºä¾¿äºä¸é¢æ¼ç¤ºåç§åæ ·çæ¶æ¯ä¸­é´ä»¶ææ¯ï¼æä»¬åå»ºä¸ä¸ªè´­ç©è¿ç¨çæè®¢åæ¶ä¸ºç¨æ·åéç­ä¿¡çæ¡ä¾ç¯å¢ï¼æ¨¡æä½¿ç¨æ¶æ¯ä¸­é´ä»¶å®ç°åéææºç­ä¿¡çè¿ç¨ã\n\nææºéªè¯ç æ¡ä¾éæ±å¦ä¸ï¼\n\n * æ§è¡ä¸åä¸å¡æ¶ï¼æ¨¡ææ­¤è¿ç¨ï¼ï¼è°ç¨æ¶æ¯æå¡ï¼å°è¦åéç­ä¿¡çè®¢åidä¼ éç»æ¶æ¯ä¸­é´ä»¶\n\n * æ¶æ¯å¤çæå¡æ¥æ¶å°è¦åéçè®¢åidåè¾åºè®¢åidï¼æ¨¡æåç­ä¿¡ï¼\n   \n   ç±äºä¸æ¶åæ°æ®è¯»åï¼ä»å¼åä¸å¡å±ä¸è¡¨ç°å±ï¼å¶ä¸­ç­ä¿¡å¤ççä¸å¡ä»£ç ç¬ç«å¼åï¼ä»£ç å¦ä¸ï¼\n\nè®¢åä¸å¡\n\nä¸å¡å±æ¥å£\n\npublic interface orderservice {\n    void order(string id);\n}\n\n\næ¨¡æä¼ å¥è®¢åidï¼æ§è¡ä¸è®¢åä¸å¡ï¼åæ°ä¸ºèæè®¾å®ï¼å®éåºä¸ºè®¢åå¯¹åºçå®ä½ç±»\n\nä¸å¡å±å®ç°\n\n@service\npublic class orderserviceimpl implements orderservice {\n    @autowired\n    private messageservice messageservice;\n    \n    @override\n    public void order(string id) {\n        //ä¸ç³»åæä½ï¼åå«åç§æå¡è°ç¨ï¼å¤çåç§ä¸å¡\n        system.out.println("è®¢åå¤çå¼å§");\n        //ç­ä¿¡æ¶æ¯å¤ç\n        messageservice.sendmessage(id);\n        system.out.println("è®¢åå¤çç»æ");\n        system.out.println();\n    }\n}\n\n\nä¸å¡å±è½¬è°ç­ä¿¡å¤ççæå¡messageservice\n\nè¡¨ç°å±æå¡\n\n@restcontroller\n@requestmapping("/orders")\npublic class ordercontroller {\n\n    @autowired\n    private orderservice orderservice;\n\n    @postmapping("{id}")\n    public void order(@pathvariable string id){\n        orderservice.order(id);\n    }\n}\n\n\nè¡¨ç°å±å¯¹å¤å¼åæ¥å£ï¼ä¼ å¥è®¢åidå³å¯ï¼æ¨¡æï¼\n\nç­ä¿¡å¤çä¸å¡\n\nä¸å¡å±æ¥å£\n\npublic interface messageservice {\n    void sendmessage(string id);\n    string domessage();\n}\n\n\nç­ä¿¡å¤çä¸å¡å±æ¥å£æä¾ä¸¤ä¸ªæä½ï¼åéè¦å¤ççè®¢åidå°æ¶æ¯ä¸­é´ä»¶ï¼å¦ä¸ä¸ªæä½ç®åæä¸è®¾è®¡æå¤çæ¶æ¯ï¼å®éæ¶æ¯çå¤çè¿ç¨ä¸åºè¯¥æ¯æå¨æ§è¡ï¼åºè¯¥æ¯èªå¨æ§è¡ï¼å°å·ä½å®ç°æ¶åè¿è¡è®¾è®¡\n\nä¸å¡å±å®ç°\n\n@service\npublic class messageserviceimpl implements messageservice {\n    private arraylist<string> msglist = new arraylist<string>();\n\n    @override\n    public void sendmessage(string id) {\n        system.out.println("å¾åéç­ä¿¡çè®¢åå·²çº³å¥å¤çéåï¼idï¼"+id);\n        msglist.add(id);\n    }\n\n    @override\n    public string domessage() {\n        string id = msglist.remove(0);\n        system.out.println("å·²å®æç­ä¿¡åéä¸å¡ï¼idï¼"+id);\n        return id;\n    }\n}\n\n\nç­ä¿¡å¤çä¸å¡å±å®ç°ä¸­ä½¿ç¨éååæ¨¡ææ¶æ¯éåï¼è§å¯ææ\n\nè¡¨ç°å±æå¡\n\n@restcontroller\n@requestmapping("/msgs")\npublic class messagecontroller {\n\n    @autowired\n    private messageservice messageservice;\n\n    @getmapping\n    public string domessage(){\n        string id = messageservice.domessage();\n        return id;\n    }\n}\n\n\nç­ä¿¡å¤çè¡¨ç°å±æ¥å£æä¸å¼ååºä¸ä¸ªå¤çæ¶æ¯çå¥å£ï¼ä½æ¯æ­¤ä¸å¡æ¯å¯¹åºä¸å¡å±ä¸­è®¾è®¡çæ¨¡ææ¥å£ï¼å®éä¸å¡ä¸éè¦è®¾è®¡æ­¤æ¥å£ã\n\nä¸é¢å¼å¯springbootæ´ååç§åæ ·çæ¶æ¯ä¸­é´ä»¶ï¼ä»ä¸¥æ ¼æ»¡è¶³jmsè§èçactivemqå¼å§\n\n# springbootæ´åactivemq\n\nactivemqæ¯mqäº§åä¸­çåèçº§äº§åï¼æ©ææ åmqäº§åä¹ä¸ï¼å¨amqpåè®®æ²¡æåºç°ä¹åï¼å æ®äºæ¶æ¯ä¸­é´ä»¶å¸åºçç»å¤§é¨åä»½é¢ï¼åæå ä¸ºamqpç³»åäº§åçåºç°ï¼è¿éèµ°å¼±ï¼ç®åä»å¨ä¸äºçº¿ä¸è¿è¡çäº§åä¸­åºç°ï¼æ°äº§åå¼åè¾å°éç¨ã\n\n# å®è£\n\nwindowsçå®è£åä¸è½½å°åï¼https://activemq.apache.org/components/classic/download/\n\nä¸è½½çå®è£åæ¯è§£åç¼©å°±è½ä½¿ç¨çzipæä»¶ï¼è§£åç¼©å®æ¯åä¼å¾å°å¦ä¸æä»¶\n\n\n\nå¯å¨æå¡å¨\n\nactivemq.bat\n\n\nè¿è¡binç®å½ä¸çwin32æwin64ç®å½ä¸çactivemq.batå½ä»¤å³å¯ï¼æ ¹æ®èªå·±çæä½ç³»ç»éæ©å³å¯ï¼é»è®¤å¯¹å¤æå¡ç«¯å£61616ã\n\nè®¿é®webç®¡çæå¡\n\nactivemqå¯å¨åä¼å¯å¨ä¸ä¸ªwebæ§å¶å°æå¡ï¼å¯ä»¥éè¿è¯¥æå¡ç®¡çactivemqã\n\nhttp://127.0.0.1:8161/\n\n\nwebç®¡çæå¡é»è®¤ç«¯å£8161ï¼è®¿é®åå¯ä»¥æå¼activemqçç®¡ççé¢ï¼å¦ä¸ï¼\n\né¦åè¾å¥è®¿é®ç¨æ·ååå¯ç ï¼åå§åç¨æ·ååå¯ç ç¸åï¼åä¸ºï¼adminï¼æåç»å½åè¿å¥ç®¡çåå°çé¢ï¼å¦ä¸ï¼\n\n\n\nçå°ä¸è¿°çé¢è§ä¸ºå¯å¨activemqæå¡æåã\n\nå¯å¨å¤±è´¥\n\nå¨activemqå¯å¨æ¶è¦å ç¨å¤ä¸ªç«¯å£ï¼ä»¥ä¸ä¸ºæ­£å¸¸å¯å¨ä¿¡æ¯ï¼\n\nwrapper  | --\x3e wrapper started as console\nwrapper  | launching a jvm...\njvm 1    | wrapper (version 3.2.3) http://wrapper.tanukisoftware.org\njvm 1    |   copyright 1999-2006 tanuki software, inc.  all rights reserved.\njvm 1    |\njvm 1    | java runtime: oracle corporation 1.8.0_172 d:\\soft\\jdk1.8.0_172\\jre\njvm 1    |   heap sizes: current=249344k  free=235037k  max=932352k\njvm 1    |     jvm args: -dactivemq.home=../.. -dactivemq.base=../.. -djavax.net.ssl.keystorepassword=password -djavax.net.ssl.truststorepassword=password -djavax.net.ssl.keystore=../../conf/broker.ks -djavax.net.ssl.truststore=../../conf/broker.ts -dcom.sun.management.jmxremote -dorg.apache.activemq.usededicatedtaskrunner=true -djava.util.logging.config.file=logging.properties -dactivemq.conf=../../conf -dactivemq.data=../../data -djava.security.auth.login.config=../../conf/login.config -xmx1024m -djava.library.path=../../bin/win64 -dwrapper.key=7ysrcd75xhlcpljd -dwrapper.port=32000 -dwrapper.jvm.port.min=31000 -dwrapper.jvm.port.max=31999 -dwrapper.pid=9364 -dwrapper.version=3.2.3 -dwrapper.native_library=wrapper -dwrapper.cpu.timeout=10 -dwrapper.jvmid=1\njvm 1    | extensions classpath:\njvm 1    |   [..\\..\\lib,..\\..\\lib\\camel,..\\..\\lib\\optional,..\\..\\lib\\web,..\\..\\lib\\extra]\njvm 1    | activemq_home: ..\\..\njvm 1    | activemq_base: ..\\..\njvm 1    | activemq_conf: ..\\..\\conf\njvm 1    | activemq_data: ..\\..\\data\njvm 1    | loading message broker from: xbean:activemq.xml\njvm 1    |  info | refreshing org.apache.activemq.xbean.xbeanbrokerfactory$1@5f3ebfe0: startup date [mon feb 28 16:07:48 cst 2022]; root of context hierarchy\njvm 1    |  info | using persistence adapter: kahadbpersistenceadapter[d:\\soft\\activemq\\bin\\win64\\..\\..\\data\\kahadb]\njvm 1    |  info | kahadb is version 7\njvm 1    |  info | pliststore:[d:\\soft\\activemq\\bin\\win64\\..\\..\\data\\localhost\\tmp_storage] started\njvm 1    |  info | apache activemq 5.16.3 (localhost, id:czbk-20210302vl-10434-1646035669595-0:1) is starting\njvm 1    |  info | listening for connections at: tcp://czbk-20210302vl:61616?maximumconnections=1000&wireformat.maxframesize=104857600\njvm 1    |  info | connector openwire started\njvm 1    |  info | listening for connections at: amqp://czbk-20210302vl:5672?maximumconnections=1000&wireformat.maxframesize=104857600\njvm 1    |  info | connector amqp started\njvm 1    |  info | listening for connections at: stomp://czbk-20210302vl:61613?maximumconnections=1000&wireformat.maxframesize=104857600\njvm 1    |  info | connector stomp started\njvm 1    |  info | listening for connections at: mqtt://czbk-20210302vl:1883?maximumconnections=1000&wireformat.maxframesize=104857600\njvm 1    |  info | connector mqtt started\njvm 1    |  info | starting jetty server\njvm 1    |  info | creating jetty connector\njvm 1    |  warn | servletcontext@o.e.j.s.servletcontexthandler@7350746f{/,null,starting} has uncovered http methods for path: /\njvm 1    |  info | listening for connections at ws://czbk-20210302vl:61614?maximumconnections=1000&wireformat.maxframesize=104857600\njvm 1    |  info | connector ws started\njvm 1    |  info | apache activemq 5.16.3 (localhost, id:czbk-20210302vl-10434-1646035669595-0:1) started\njvm 1    |  info | for help or more information please see: http://activemq.apache.org\njvm 1    |  warn | store limit is 102400 mb (current store usage is 0 mb). the data directory: d:\\soft\\activemq\\bin\\win64\\..\\..\\data\\kahadb only has 68936 mb of usable space. - resetting to maximum available disk space: 68936 mb\njvm 1    |  info | activemq webconsole available at http://127.0.0.1:8161/\njvm 1    |  info | activemq jolokia rest api available at http://127.0.0.1:8161/api/jolokia/\n\n\nå¶ä¸­å ç¨çç«¯å£æï¼61616ã5672ã61613ã1883ã61614ï¼å¦æå¯å¨å¤±è´¥ï¼è¯·åç®¡çå¯¹åºç«¯å£å³å¯ãä»¥ä¸å°±æ¯æä¸ªç«¯å£å ç¨çæ¥éä¿¡æ¯ï¼å¯ä»¥ä»æåºå¼å¸¸çä½ç½®çåºï¼å¯å¨5672ç«¯å£æ¶ç«¯å£è¢«å ç¨ï¼æ¾ç¤ºjava.net.bindexception: address already in use: jvm_bindãwindowsç³»ç»ä¸­ç»æ­¢ç«¯å£è¿è¡çæä½åçãå½ä»¤è¡å¯å¨å¸¸è§é®é¢åè§£å³æ¹æ¡ã\n\nwrapper  | --\x3e wrapper started as console\nwrapper  | launching a jvm...\njvm 1    | wrapper (version 3.2.3) http://wrapper.tanukisoftware.org\njvm 1    |   copyright 1999-2006 tanuki software, inc.  all rights reserved.\njvm 1    |\njvm 1    | java runtime: oracle corporation 1.8.0_172 d:\\soft\\jdk1.8.0_172\\jre\njvm 1    |   heap sizes: current=249344k  free=235038k  max=932352k\njvm 1    |     jvm args: -dactivemq.home=../.. -dactivemq.base=../.. -djavax.net.ssl.keystorepassword=password -djavax.net.ssl.truststorepassword=password -djavax.net.ssl.keystore=../../conf/broker.ks -djavax.net.ssl.truststore=../../conf/broker.ts -dcom.sun.management.jmxremote -dorg.apache.activemq.usededicatedtaskrunner=true -djava.util.logging.config.file=logging.properties -dactivemq.conf=../../conf -dactivemq.data=../../data -djava.security.auth.login.config=../../conf/login.config -xmx1024m -djava.library.path=../../bin/win64 -dwrapper.key=qpjoy9zoxewmmwts -dwrapper.port=32000 -dwrapper.jvm.port.min=31000 -dwrapper.jvm.port.max=31999 -dwrapper.pid=14836 -dwrapper.version=3.2.3 -dwrapper.native_library=wrapper -dwrapper.cpu.timeout=10 -dwrapper.jvmid=1\njvm 1    | extensions classpath:\njvm 1    |   [..\\..\\lib,..\\..\\lib\\camel,..\\..\\lib\\optional,..\\..\\lib\\web,..\\..\\lib\\extra]\njvm 1    | activemq_home: ..\\..\njvm 1    | activemq_base: ..\\..\njvm 1    | activemq_conf: ..\\..\\conf\njvm 1    | activemq_data: ..\\..\\data\njvm 1    | loading message broker from: xbean:activemq.xml\njvm 1    |  info | refreshing org.apache.activemq.xbean.xbeanbrokerfactory$1@2c9392f5: startup date [mon feb 28 16:06:16 cst 2022]; root of context hierarchy\njvm 1    |  info | using persistence adapter: kahadbpersistenceadapter[d:\\soft\\activemq\\bin\\win64\\..\\..\\data\\kahadb]\njvm 1    |  info | kahadb is version 7\njvm 1    |  info | pliststore:[d:\\soft\\activemq\\bin\\win64\\..\\..\\data\\localhost\\tmp_storage] started\njvm 1    |  info | apache activemq 5.16.3 (localhost, id:czbk-20210302vl-10257-1646035577620-0:1) is starting\njvm 1    |  info | listening for connections at: tcp://czbk-20210302vl:61616?maximumconnections=1000&wireformat.maxframesize=104857600\njvm 1    |  info | connector openwire started\njvm 1    | error | failed to start apache activemq (localhost, id:czbk-20210302vl-10257-1646035577620-0:1)\njvm 1    | java.io.ioexception: transport connector could not be registered in jmx: java.io.ioexception: failed to bind to server socket: amqp://0.0.0.0:5672?maximumconnections=1000&wireformat.maxframesize=104857600 due to: java.net.bindexception: address already in use: jvm_bind\njvm 1    |      at org.apache.activemq.util.ioexceptionsupport.create(ioexceptionsupport.java:28)\njvm 1    |      at org.apache.activemq.broker.brokerservice.registerconnectormbean(brokerservice.java:2288)\njvm 1    |      at org.apache.activemq.broker.brokerservice.starttransportconnector(brokerservice.java:2769)\njvm 1    |      at org.apache.activemq.broker.brokerservice.startallconnectors(brokerservice.java:2665)\njvm 1    |      at org.apache.activemq.broker.brokerservice.dostartbroker(brokerservice.java:780)\njvm 1    |      at org.apache.activemq.broker.brokerservice.startbroker(brokerservice.java:742)\njvm 1    |      at org.apache.activemq.broker.brokerservice.start(brokerservice.java:645)\njvm 1    |      at org.apache.activemq.xbean.xbeanbrokerservice.afterpropertiesset(xbeanbrokerservice.java:73)\njvm 1    |      at sun.reflect.nativemethodaccessorimpl.invoke0(native method)\njvm 1    |      at sun.reflect.nativemethodaccessorimpl.invoke(nativemethodaccessorimpl.java:62)\njvm 1    |      at sun.reflect.delegatingmethodaccessorimpl.invoke(delegatingmethodaccessorimpl.java:43)\njvm 1    |      at java.lang.reflect.method.invoke(method.java:498)\njvm 1    |      at org.springframework.beans.factory.support.abstractautowirecapablebeanfactory.invokecustominitmethod(abstractautowirecapablebeanfactory.java:1748)\njvm 1    |      at org.springframework.beans.factory.support.abstractautowirecapablebeanfactory.invokeinitmethods(abstractautowirecapablebeanfactory.java:1685)\njvm 1    |      at org.springframework.beans.factory.support.abstractautowirecapablebeanfactory.initializebean(abstractautowirecapablebeanfactory.java:1615)\njvm 1    |      at org.springframework.beans.factory.support.abstractautowirecapablebeanfactory.docreatebean(abstractautowirecapablebeanfactory.java:553)\njvm 1    |      at org.springframework.beans.factory.support.abstractautowirecapablebeanfactory.createbean(abstractautowirecapablebeanfactory.java:481)\njvm 1    |      at org.springframework.beans.factory.support.abstractbeanfactory$1.getobject(abstractbeanfactory.java:312)\njvm 1    |      at org.springframework.beans.factory.support.defaultsingletonbeanregistry.getsingleton(defaultsingletonbeanregistry.java:230)\njvm 1    |      at org.springframework.beans.factory.support.abstractbeanfactory.dogetbean(abstractbeanfactory.java:308)\njvm 1    |      at org.springframework.beans.factory.support.abstractbeanfactory.getbean(abstractbeanfactory.java:197)\njvm 1    |      at org.springframework.beans.factory.support.defaultlistablebeanfactory.preinstantiatesingletons(defaultlistablebeanfactory.java:756)\njvm 1    |      at org.springframework.context.support.abstractapplicationcontext.finishbeanfactoryinitialization(abstractapplicationcontext.java:867)\njvm 1    |      at org.springframework.context.support.abstractapplicationcontext.refresh(abstractapplicationcontext.java:542)\njvm 1    |      at org.apache.xbean.spring.context.resourcexmlapplicationcontext.<init>(resourcexmlapplicationcontext.java:64)\njvm 1    |      at org.apache.xbean.spring.context.resourcexmlapplicationcontext.<init>(resourcexmlapplicationcontext.java:52)\njvm 1    |      at org.apache.activemq.xbean.xbeanbrokerfactory$1.<init>(xbeanbrokerfactory.java:104)\njvm 1    |      at org.apache.activemq.xbean.xbeanbrokerfactory.createapplicationcontext(xbeanbrokerfactory.java:104)\njvm 1    |      at org.apache.activemq.xbean.xbeanbrokerfactory.createbroker(xbeanbrokerfactory.java:67)\njvm 1    |      at org.apache.activemq.broker.brokerfactory.createbroker(brokerfactory.java:71)\njvm 1    |      at org.apache.activemq.broker.brokerfactory.createbroker(brokerfactory.java:54)\njvm 1    |      at org.apache.activemq.console.command.startcommand.runtask(startcommand.java:87)\njvm 1    |      at org.apache.activemq.console.command.abstractcommand.execute(abstractcommand.java:63)\njvm 1    |      at org.apache.activemq.console.command.shellcommand.runtask(shellcommand.java:154)\njvm 1    |      at org.apache.activemq.console.command.abstractcommand.execute(abstractcommand.java:63)\njvm 1    |      at org.apache.activemq.console.command.shellcommand.main(shellcommand.java:104)\njvm 1    |      at sun.reflect.nativemethodaccessorimpl.invoke0(native method)\njvm 1    |      at sun.reflect.nativemethodaccessorimpl.invoke(nativemethodaccessorimpl.java:62)\njvm 1    |      at sun.reflect.delegatingmethodaccessorimpl.invoke(delegatingmethodaccessorimpl.java:43)\njvm 1    |      at java.lang.reflect.method.invoke(method.java:498)\njvm 1    |      at org.apache.activemq.console.main.runtaskclass(main.java:262)\njvm 1    |      at org.apache.activemq.console.main.main(main.java:115)\njvm 1    |      at sun.reflect.nativemethodaccessorimpl.invoke0(native method)\njvm 1    |      at sun.reflect.nativemethodaccessorimpl.invoke(nativemethodaccessorimpl.java:62)\njvm 1    |      at sun.reflect.delegatingmethodaccessorimpl.invoke(delegatingmethodaccessorimpl.java:43)\njvm 1    |      at java.lang.reflect.method.invoke(method.java:498)\njvm 1    |      at org.tanukisoftware.wrapper.wrappersimpleapp.run(wrappersimpleapp.java:240)\njvm 1    |      at java.lang.thread.run(thread.java:748)\njvm 1    | caused by: java.io.ioexception: failed to bind to server socket: amqp://0.0.0.0:5672?maximumconnections=1000&wireformat.maxframesize=104857600 due to: java.net.bindexception: address already in use: jvm_bind\njvm 1    |      at org.apache.activemq.util.ioexceptionsupport.create(ioexceptionsupport.java:34)\njvm 1    |      at org.apache.activemq.transport.tcp.tcptransportserver.bind(tcptransportserver.java:146)\njvm 1    |      at org.apache.activemq.transport.tcp.tcptransportfactory.dobind(tcptransportfactory.java:62)\njvm 1    |      at org.apache.activemq.transport.transportfactorysupport.bind(transportfactorysupport.java:40)\njvm 1    |      at org.apache.activemq.broker.transportconnector.createtransportserver(transportconnector.java:335)\njvm 1    |      at org.apache.activemq.broker.transportconnector.getserver(transportconnector.java:145)\njvm 1    |      at org.apache.activemq.broker.transportconnector.asmanagedconnector(transportconnector.java:110)\njvm 1    |      at org.apache.activemq.broker.brokerservice.registerconnectormbean(brokerservice.java:2283)\njvm 1    |      ... 46 more\njvm 1    | caused by: java.net.bindexception: address already in use: jvm_bind\njvm 1    |      at java.net.dualstackplainsocketimpl.bind0(native method)\njvm 1    |      at java.net.dualstackplainsocketimpl.socketbind(dualstackplainsocketimpl.java:106)\njvm 1    |      at java.net.abstractplainsocketimpl.bind(abstractplainsocketimpl.java:387)\njvm 1    |      at java.net.plainsocketimpl.bind(plainsocketimpl.java:190)\njvm 1    |      at java.net.serversocket.bind(serversocket.java:375)\njvm 1    |      at java.net.serversocket.<init>(serversocket.java:237)\njvm 1    |      at javax.net.defaultserversocketfactory.createserversocket(serversocketfactory.java:231)\njvm 1    |      at org.apache.activemq.transport.tcp.tcptransportserver.bind(tcptransportserver.java:143)\njvm 1    |      ... 52 more\njvm 1    |  info | apache activemq 5.16.3 (localhost, id:czbk-20210302vl-10257-1646035577620-0:1) is shutting down\njvm 1    |  info | socketqueue interrupted - stopping\njvm 1    |  info | connector openwire stopped\njvm 1    |  info | could not accept connection during shutdown  : null (null)\njvm 1    |  info | connector amqp stopped\njvm 1    |  info | connector stomp stopped\njvm 1    |  info | connector mqtt stopped\njvm 1    |  info | connector ws stopped\njvm 1    |  info | pliststore:[d:\\soft\\activemq\\bin\\win64\\..\\..\\data\\localhost\\tmp_storage] stopped\njvm 1    |  info | stopping async queue tasks\njvm 1    |  info | stopping async topic tasks\njvm 1    |  info | stopped kahadb\njvm 1    |  info | apache activemq 5.16.3 (localhost, id:czbk-20210302vl-10257-1646035577620-0:1) uptime 0.426 seconds\njvm 1    |  info | apache activemq 5.16.3 (localhost, id:czbk-20210302vl-10257-1646035577620-0:1) is shutdown\njvm 1    |  info | closing org.apache.activemq.xbean.xbeanbrokerfactory$1@2c9392f5: startup date [mon feb 28 16:06:16 cst 2022]; root of context hierarchy\njvm 1    |  warn | exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.beancreationexception: error creating bean with name \'org.apache.activemq.xbean.xbeanbrokerservice#0\' defined in class path resource [activemq.xml]: invocation of init method failed; nested exception is java.io.ioexception: transport connector could not be registered in jmx: java.io.ioexception: failed to bind to server socket: amqp://0.0.0.0:5672?maximumconnections=1000&wireformat.maxframesize=104857600 due to: java.net.bindexception: address already in use: jvm_bind\njvm 1    | error: java.lang.runtimeexception: failed to execute start task. reason: java.lang.illegalstateexception: beanfactory not initialized or already closed - call \'refresh\' before accessing beans via the applicationcontext\njvm 1    | java.lang.runtimeexception: failed to execute start task. reason: java.lang.illegalstateexception: beanfactory not initialized or already closed - call \'refresh\' before accessing beans via the applicationcontext\njvm 1    |      at org.apache.activemq.console.command.startcommand.runtask(startcommand.java:91)\njvm 1    |      at org.apache.activemq.console.command.abstractcommand.execute(abstractcommand.java:63)\njvm 1    |      at org.apache.activemq.console.command.shellcommand.runtask(shellcommand.java:154)\njvm 1    |      at org.apache.activemq.console.command.abstractcommand.execute(abstractcommand.java:63)\njvm 1    |      at org.apache.activemq.console.command.shellcommand.main(shellcommand.java:104)\njvm 1    |      at sun.reflect.nativemethodaccessorimpl.invoke0(native method)\njvm 1    |      at sun.reflect.nativemethodaccessorimpl.invoke(nativemethodaccessorimpl.java:62)\njvm 1    |      at sun.reflect.delegatingmethodaccessorimpl.invoke(delegatingmethodaccessorimpl.java:43)\njvm 1    |      at java.lang.reflect.method.invoke(method.java:498)\njvm 1    |      at org.apache.activemq.console.main.runtaskclass(main.java:262)\njvm 1    |      at org.apache.activemq.console.main.main(main.java:115)\njvm 1    |      at sun.reflect.nativemethodaccessorimpl.invoke0(native method)\njvm 1    |      at sun.reflect.nativemethodaccessorimpl.invoke(nativemethodaccessorimpl.java:62)\njvm 1    |      at sun.reflect.delegatingmethodaccessorimpl.invoke(delegatingmethodaccessorimpl.java:43)\njvm 1    |      at java.lang.reflect.method.invoke(method.java:498)\njvm 1    |      at org.tanukisoftware.wrapper.wrappersimpleapp.run(wrappersimpleapp.java:240)\njvm 1    |      at java.lang.thread.run(thread.java:748)\njvm 1    | caused by: java.lang.illegalstateexception: beanfactory not initialized or already closed - call \'refresh\' before accessing beans via the applicationcontext\njvm 1    |      at org.springframework.context.support.abstractrefreshableapplicationcontext.getbeanfactory(abstractrefreshableapplicationcontext.java:164)\njvm 1    |      at org.springframework.context.support.abstractapplicationcontext.destroybeans(abstractapplicationcontext.java:1034)\njvm 1    |      at org.springframework.context.support.abstractapplicationcontext.refresh(abstractapplicationcontext.java:555)\njvm 1    |      at org.apache.xbean.spring.context.resourcexmlapplicationcontext.<init>(resourcexmlapplicationcontext.java:64)\njvm 1    |      at org.apache.xbean.spring.context.resourcexmlapplicationcontext.<init>(resourcexmlapplicationcontext.java:52)\njvm 1    |      at org.apache.activemq.xbean.xbeanbrokerfactory$1.<init>(xbeanbrokerfactory.java:104)\njvm 1    |      at org.apache.activemq.xbean.xbeanbrokerfactory.createapplicationcontext(xbeanbrokerfactory.java:104)\njvm 1    |      at org.apache.activemq.xbean.xbeanbrokerfactory.createbroker(xbeanbrokerfactory.java:67)\njvm 1    |      at org.apache.activemq.broker.brokerfactory.createbroker(brokerfactory.java:71)\njvm 1    |      at org.apache.activemq.broker.brokerfactory.createbroker(brokerfactory.java:54)\njvm 1    |      at org.apache.activemq.console.command.startcommand.runtask(startcommand.java:87)\njvm 1    |      ... 16 more\njvm 1    | error: java.lang.illegalstateexception: beanfactory not initialized or already closed - call \'refresh\' before accessing beans via the applicationcontext\njvm 1    | java.lang.illegalstateexception: beanfactory not initialized or already closed - call \'refresh\' before accessing beans via the applicationcontext\njvm 1    |      at org.springframework.context.support.abstractrefreshableapplicationcontext.getbeanfactory(abstractrefreshableapplicationcontext.java:164)\njvm 1    |      at org.springframework.context.support.abstractapplicationcontext.destroybeans(abstractapplicationcontext.java:1034)\njvm 1    |      at org.springframework.context.support.abstractapplicationcontext.refresh(abstractapplicationcontext.java:555)\njvm 1    |      at org.apache.xbean.spring.context.resourcexmlapplicationcontext.<init>(resourcexmlapplicationcontext.java:64)\njvm 1    |      at org.apache.xbean.spring.context.resourcexmlapplicationcontext.<init>(resourcexmlapplicationcontext.java:52)\njvm 1    |      at org.apache.activemq.xbean.xbeanbrokerfactory$1.<init>(xbeanbrokerfactory.java:104)\njvm 1    |      at org.apache.activemq.xbean.xbeanbrokerfactory.createapplicationcontext(xbeanbrokerfactory.java:104)\njvm 1    |      at org.apache.activemq.xbean.xbeanbrokerfactory.createbroker(xbeanbrokerfactory.java:67)\njvm 1    |      at org.apache.activemq.broker.brokerfactory.createbroker(brokerfactory.java:71)\njvm 1    |      at org.apache.activemq.broker.brokerfactory.createbroker(brokerfactory.java:54)\njvm 1    |      at org.apache.activemq.console.command.startcommand.runtask(startcommand.java:87)\njvm 1    |      at org.apache.activemq.console.command.abstractcommand.execute(abstractcommand.java:63)\njvm 1    |      at org.apache.activemq.console.command.shellcommand.runtask(shellcommand.java:154)\njvm 1    |      at org.apache.activemq.console.command.abstractcommand.execute(abstractcommand.java:63)\njvm 1    |      at org.apache.activemq.console.command.shellcommand.main(shellcommand.java:104)\njvm 1    |      at sun.reflect.nativemethodaccessorimpl.invoke0(native method)\njvm 1    |      at sun.reflect.nativemethodaccessorimpl.invoke(nativemethodaccessorimpl.java:62)\njvm 1    |      at sun.reflect.delegatingmethodaccessorimpl.invoke(delegatingmethodaccessorimpl.java:43)\njvm 1    |      at java.lang.reflect.method.invoke(method.java:498)\njvm 1    |      at org.apache.activemq.console.main.runtaskclass(main.java:262)\njvm 1    |      at org.apache.activemq.console.main.main(main.java:115)\njvm 1    |      at sun.reflect.nativemethodaccessorimpl.invoke0(native method)\njvm 1    |      at sun.reflect.nativemethodaccessorimpl.invoke(nativemethodaccessorimpl.java:62)\njvm 1    |      at sun.reflect.delegatingmethodaccessorimpl.invoke(delegatingmethodaccessorimpl.java:43)\njvm 1    |      at java.lang.reflect.method.invoke(method.java:498)\njvm 1    |      at org.tanukisoftware.wrapper.wrappersimpleapp.run(wrappersimpleapp.java:240)\njvm 1    |      at java.lang.thread.run(thread.java:748)\nwrapper  | <-- wrapper stopped\nè¯·æä»»æé®ç»§ç»­. . .\n\n\n# æ´å\n\nåäºè¿ä¹å¤springbootæ´åç¬¬ä¸æ¹ææ¯ï¼å·²ç»æ¸å°é¨è·¯äºï¼å åæ ï¼åéç½®ï¼è°æ¥å£ï¼ç´æ¥å¼å·¥\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åactivemqçstarter\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-activemq</artifactid>\n</dependency>\n\n\næ­¥éª¤â¡ï¼éç½®activemqçæå¡å¨å°åï¼å¸¦poolçéé¡¹ç¨æ¥éç½®è¿æ¥æ± çç¸å³è®¾ç½®ï¼\n\nspring:\n  activemq:\n    broker-url: tcp://localhost:61616\n  jms:\n  \ttemplate:\n  \t\tdefault-destination: itheima  # è¿ä¸ªéé¡¹éç½®æ¶æ¯çä¿å­ä½ç½®ï¼converandsendä¸­çåæ°ä¹å¯ä»¥æå®æ¶æ¯å¯¹åºçä¿å­ä½ç½®\n\n\næ­¥éª¤â¢ï¼ä½¿ç¨jmsmessagingtemplateæä½activemq\n\n@service\npublic class messageserviceactivemqimpl implements messageservice {\n    @autowired\n    private jmsmessagingtemplate messagingtemplate;\n\n    @override\n    public void sendmessage(string id) {\n        system.out.println("å¾åéç­ä¿¡çè®¢åå·²çº³å¥å¤çéåï¼idï¼"+id);\n        messagingtemplate.convertandsend("order.queue.id",id);\n    }\n\n    @override\n    public string domessage() {\n        string id = messagingtemplate.receiveandconvert("order.queue.id",string.class);\n        system.out.println("å·²å®æç­ä¿¡åéä¸å¡ï¼idï¼"+id);\n        return id;\n    }\n}\n\n\nåéæ¶æ¯éè¦åå°æ¶æ¯çç±»åè½¬æ¢æå­ç¬¦ä¸²ï¼ç¶åååéï¼æä»¥æ¯convertandsendï¼å®ä¹æ¶æ¯åéçä½ç½®ï¼åå·ä½çæ¶æ¯åå®¹ï¼æ­¤å¤ä½¿ç¨idä½ä¸ºæ¶æ¯åå®¹ã\n\næ¥æ¶æ¶æ¯éè¦åå°æ¶æ¯æ¥æ¶å°ï¼ç¶ååè½¬æ¢ææå®çæ°æ®ç±»åï¼æä»¥æ¯receiveandconvertï¼æ¥æ¶æ¶æ¯é¤äºæä¾è¯»åçä½ç½®ï¼è¿è¦ç»åºè½¬æ¢åçæ°æ®çå·ä½ç±»åã\n\næ­¥éª¤â£ï¼ä½¿ç¨æ¶æ¯çå¬å¨å¨æå¡å¨å¯å¨åï¼çå¬æå®ä½ç½®ï¼å½æ¶æ¯åºç°åï¼ç«å³æ¶è´¹æ¶æ¯\n\n@component\npublic class messagelistener {\n    @jmslistener(destination = "order.queue.id")\n    @sendto("order.other.queue.id")  // å°è¿åå¼ä¼ å°order.other.queue.idéåä¸­\n    public string receive(string id){\n        system.out.println("å·²å®æç­ä¿¡åéä¸å¡ï¼idï¼"+id);\n        return "new:"+id;\n    }\n}\n\n\nä½¿ç¨æ³¨è§£@jmslistenerå®ä¹å½åæ¹æ³çå¬activemqä¸­æå®åç§°çæ¶æ¯éåã\n\nå¦æå½åæ¶æ¯éåå¤çå®çç»æè¿éè¦ç»§ç»­åä¸ä¼ éå½åæ¶æ¯å°å¦ä¸ä¸ªéåä¸­ä½¿ç¨æ³¨è§£@sendtoå³å¯ï¼è¿æ ·å³å¯æé è¿ç»­æ§è¡çé¡ºåºæ¶æ¯éåã\n\næ­¥éª¤â¤ï¼åæ¢æ¶æ¯æ¨¡åç±ç¹å¯¹ç¹æ¨¡åå°åå¸è®¢éæ¨¡åï¼ä¿®æ¹jmséç½®å³å¯\n\nspring:\n  activemq:\n    broker-url: tcp://localhost:61616\n  jms:\n    pub-sub-domain: true\n\n\npub-sub-domainé»è®¤å¼ä¸ºfalseï¼å³ç¹å¯¹ç¹æ¨¡åï¼ä¿®æ¹ä¸ºtrueåå°±æ¯åå¸è®¢éæ¨¡åã\n\næ»ç»\n\n 1. springbootæ´åactivemqæä¾äºjmsmessagingtemplateå¯¹è±¡ä½ä¸ºå®¢æ·ç«¯æä½æ¶æ¯éå\n 2. æä½activemqéè¦éç½®activemqæå¡å¨å°åï¼é»è®¤ç«¯å£61616\n 3. ä¼ä¸å¼åæ¶éå¸¸ä½¿ç¨çå¬å¨æ¥å¤çæ¶æ¯éåä¸­çæ¶æ¯ï¼è®¾ç½®çå¬å¨ä½¿ç¨æ³¨è§£@jmslistener\n 4. éç½®jmsçpub-sub-domainå±æ§å¯ä»¥å¨ç¹å¯¹ç¹æ¨¡åååå¸è®¢éæ¨¡åé´åæ¢æ¶æ¯æ¨¡å\n\n# springbootæ´årabbitmq\n\nrabbitmqæ¯mqäº§åä¸­çç®åè¾ä¸ºæµè¡çäº§åä¹ä¸ï¼å®éµä»amqpåè®®ãrabbitmqçåºå±å®ç°è¯­è¨ä½¿ç¨çæ¯erlangï¼æä»¥å®è£rabbitmqéè¦åå®è£erlangã\n\nerlangå®è£\n\nwindowsçå®è£åä¸è½½å°åï¼httpsð/www.erlang.org/downloads\n\nä¸è½½å®æ¯åå¾å°exeå®è£æä»¶ï¼ä¸é®å»çå¼å®è£ï¼å®è£å®æ¯éè¦éå¯ï¼éè¦éå¯ï¼éè¦éå¯ã\n\nå®è£çè¿ç¨ä¸­å¯è½ä¼åºç°ä¾èµwindowsç»ä»¶çæç¤ºï¼æ ¹æ®æç¤ºä¸è½½å®è£å³å¯ï¼é½æ¯èªå¨æ§è¡çï¼å¦ä¸ï¼\n\n\n\nerlangå®è£åéè¦éç½®ç¯å¢åéï¼å¦årabbitmqå°æ æ³æ¾å°å®è£çerlangãéè¦éç½®é¡¹å¦ä¸ï¼ä½ç¨ç­åjdkéç½®ç¯å¢åéçä½ç¨ã\n\n * erlang_home\n * path\n\n# å®è£\n\nwindowsçå®è£åä¸è½½å°åï¼https://rabbitmq.com/install-windows.html\n\nä¸è½½å®æ¯åå¾å°exeå®è£æä»¶ï¼ä¸é®å»çå¼å®è£ï¼å®è£å®æ¯åä¼å¾å°å¦ä¸æä»¶\n\nå¯å¨æå¡å¨\n\nrabbitmq-service.bat start\t\t# å¯å¨æå¡\nrabbitmq-service.bat stop\t\t# åæ­¢æå¡\nrabbitmqctl status\t\t\t\t# æ¥çæå¡ç¶æ\n\n\nè¿è¡sbinç®å½ä¸çrabbitmq-service.batå½ä»¤å³å¯ï¼startåæ°è¡¨ç¤ºå¯å¨ï¼stopåæ°è¡¨ç¤ºéåºï¼é»è®¤å¯¹å¤æå¡ç«¯å£5672ã\n\næ³¨æï¼å¯å¨rabbitmqçè¿ç¨å®éä¸æ¯å¼å¯rabbitmqå¯¹åºçç³»ç»æå¡ï¼éè¦ç®¡çåæéæ¹å¯æ§è¡ã\n\nè¯´æï¼ææ²¡ææè§5672çæå¡ç«¯å£å¾çæï¼activemqä¸rabbitmqæä¸ä¸ªç«¯å£å²çªé®é¢ï¼å­¦ä¹ é¶æ®µæ è®ºæä½åªä¸ä¸ªï¼è¯·ç¡®ä¿å¦ä¸ä¸ªå¤äºå³é­ç¶æã\n\nè¯´æï¼ä¸åæ¬¢å½ä»¤è¡çå°ä¼ä¼´å¯ä»¥ä½¿ç¨ä»»å¡ç®¡çå¨ä¸­çæå¡é¡µï¼æ¾å°rabbitmqæå¡ï¼ä½¿ç¨é¼ æ å³é®èåæ§å¶æå¡çå¯åã\n\nè®¿é®webç®¡çæå¡\n\nrabbitmqä¹æä¾æwebæ§å¶å°æå¡ï¼ä½æ¯æ­¤åè½æ¯ä¸ä¸ªæä»¶ï¼éè¦åå¯ç¨æå¯ä»¥ä½¿ç¨ã\n\nrabbitmq-plugins.bat list\t\t\t\t\t\t\t# æ¥çå½åæææä»¶çè¿è¡ç¶æ\nrabbitmq-plugins.bat enable rabbitmq_management\t\t# å¯å¨rabbitmq_managementæä»¶\n\n\nå¯å¨æä»¶åå¯ä»¥å¨æä»¶è¿è¡ç¶æä¸­æ¥çæ¯å¦è¿è¡ï¼è¿è¡åéè¿æµè§å¨å³å¯æå¼æå¡åå°ç®¡ççé¢\n\nhttp://localhost:15672\n\n\nwebç®¡çæå¡é»è®¤ç«¯å£15672ï¼è®¿é®åå¯ä»¥æå¼rabbitmqçç®¡ççé¢ï¼å¦ä¸ï¼\n\n\n\né¦åè¾å¥è®¿é®ç¨æ·ååå¯ç ï¼åå§åç¨æ·ååå¯ç ç¸åï¼åä¸ºï¼guestï¼æåç»å½åè¿å¥ç®¡çåå°çé¢ï¼å¦ä¸ï¼\n\n\n\n# æ´å(directæ¨¡å)\n\nrabbitmqæ»¡è¶³amqpåè®®ï¼å æ­¤ä¸åçæ¶æ¯æ¨¡åå¯¹åºçå¶ä½ä¸åï¼åä½¿ç¨æç®åçdirectæ¨¡åå¼åã\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åamqpçstarterï¼amqpåè®®é»è®¤å®ç°ä¸ºrabbitmqæ¹æ¡\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-amqp</artifactid>\n</dependency>\n\n\næ­¥éª¤â¡ï¼éç½®rabbitmqçæå¡å¨å°å\n\nspring:\n  rabbitmq:\n    host: localhost\n    port: 5672\n\n\næ­¥éª¤â¢ï¼åå§åç´è¿æ¨¡å¼ç³»ç»è®¾ç½®\n\nç±äºrabbitmqä¸åæ¨¡åè¦ä½¿ç¨ä¸åçäº¤æ¢æºï¼å æ­¤éè¦ååå§årabbitmqç¸å³çå¯¹è±¡ï¼ä¾å¦éåï¼äº¤æ¢æºç­\n\n@configuration\npublic class rabbitconfigdirect {\n    \n    // æ¶æ¯éå1\n    @bean\n    public queue directqueue(){\n        return new queue("direct_queue");\n    }\n    // æ¶æ¯éå2\n    @bean\n    public queue directqueue2(){\n        return new queue("direct_queue2");\n    }\n    \n    // äº¤æ¢æº\n    @bean\n    public directexchange directexchange(){\n        return new directexchange("directexchange");\n    }\n    \n    // ç»å®äº¤æ¢æºåæ¶æ¯éå1\n    @bean\n    public binding bindingdirect(){\n        return bindingbuilder.bind(directqueue()).to(directexchange()).with("direct");\n    }\n    // ç»å®äº¤æ¢æºåæ¶æ¯éå2\n    @bean\n    public binding bindingdirect2(){\n        return bindingbuilder.bind(directqueue2()).to(directexchange()).with("direct2");\n    }\n}\n\n\néåqueueä¸ç´è¿äº¤æ¢æºdirectexchangeåå»ºåï¼è¿éè¦ç»å®ä»ä»¬ä¹é´çå³ç³»bindingï¼è¿æ ·å°±å¯ä»¥éè¿äº¤æ¢æºæä½å¯¹åºéåã\n\næ­¥éª¤â£ï¼ä½¿ç¨amqptemplateæä½rabbitmq\n\n@service\npublic class messageservicerabbitmqdirectimpl implements messageservice {\n    @autowired\n    private amqptemplate amqptemplate;\n\n    @override\n    public void sendmessage(string id) {\n        system.out.println("å¾åéç­ä¿¡çè®¢åå·²çº³å¥å¤çéåï¼rabbitmq directï¼ï¼idï¼"+id);\n        amqptemplate.convertandsend("directexchange","direct",id);  // ç¬¬ä¸ä¸ªåæ°ä¸ºäº¤æ¢æºåç§°ï¼ç¬¬äºä¸ªåæ°ä¸ºäº¤æ¢æºåæ¶æ¯éåç»å®çåç§°ï¼ ç¬¬ä¸ä¸ªåæ°ä¸ºå·ä½çæ¶æ¯\n    }\n}\n\n\namqpåè®®ä¸­çæä½apiæ¥å£åç§°çä¸å»åjmsè§èçæä½apiæ¥å£å¾ç¸ä¼¼ï¼ä½æ¯ä¼ éåæ°å·®å¼å¾å¤§ã\n\næ­¥éª¤â¤ï¼ä½¿ç¨æ¶æ¯çå¬å¨å¨æå¡å¨å¯å¨åï¼çå¬æå®ä½ç½®ï¼å½æ¶æ¯åºç°åï¼ç«å³æ¶è´¹æ¶æ¯\n\n@component\npublic class messagelistener {\n    @rabbitlistener(queues = "direct_queue")\n    public void receive(string id){\n        system.out.println("å·²å®æç­ä¿¡åéä¸å¡(rabbitmq direct)ï¼idï¼"+id);\n    }\n}\n\n\nä½¿ç¨æ³¨è§£@rabbitlistenerå®ä¹å½åæ¹æ³çå¬rabbitmqä¸­æå®åç§°çæ¶æ¯éåã\n\n# æ´å(topicæ¨¡å)\n\næ­¥éª¤â ï¼åä¸\n\næ­¥éª¤â¡ï¼åä¸\n\næ­¥éª¤â¢ï¼åå§åä¸»é¢æ¨¡å¼ç³»ç»è®¾ç½®\n\n@configuration\npublic class rabbitconfigtopic {\n    @bean\n    public queue topicqueue(){\n        return new queue("topic_queue");\n    }\n    @bean\n    public queue topicqueue2(){\n        return new queue("topic_queue2");\n    }\n    @bean\n    public topicexchange topicexchange(){\n        return new topicexchange("topicexchange");\n    }\n    @bean\n    public binding bindingtopic(){\n        return bindingbuilder.bind(topicqueue()).to(topicexchange()).with("topic.*.id");\n    }\n    @bean\n    public binding bindingtopic2(){\n        return bindingbuilder.bind(topicqueue2()).to(topicexchange()).with("topic.orders.*");\n    }\n}\n\n\n*ä¸»é¢æ¨¡å¼æ¯æroutingkeyå¹éæ¨¡å¼ï¼è¡¨ç¤ºå¹éä¸ä¸ªåè¯ï¼#è¡¨ç¤ºå¹éä»»æåå®¹ï¼è¿æ ·å°±å¯ä»¥éè¿ä¸»é¢äº¤æ¢æºå°æ¶æ¯ååå°ä¸åçéåä¸­ï¼è¯¦ç»åå®¹è¯·åçrabbitmqç³»åè¯¾ç¨ã\n\nå¹éé®                 topic.*.*   topic.#\ntopic.order.id      true        true\norder.topic.id      false       false\ntopic.sm.order.id   false       true\ntopic.sm.id         false       true\ntopic.id.order      true        true\ntopic.id            false       true\ntopic.order         false       true\n\ntopic.sm.idåtopic.id.orderä¸­å¨topic.*.*çå¹éä¸­æ¯æåºå«çåï¼è®°å¾çä¸ä¸å¯¹åºçå¹éè§å\n\næ­¥éª¤â£ï¼ä½¿ç¨amqptemplateæä½rabbitmq\n\n@service\npublic class messageservicerabbitmqtopicimpl implements messageservice {\n    @autowired\n    private amqptemplate amqptemplate;\n\n    @override\n    public void sendmessage(string id) {\n        system.out.println("å¾åéç­ä¿¡çè®¢åå·²çº³å¥å¤çéåï¼rabbitmq topicï¼ï¼idï¼"+id);\n        amqptemplate.convertandsend("topicexchange","topic.orders.id",id);\n    }\n}\n\n\nåéæ¶æ¯åï¼æ ¹æ®å½åæä¾çroutingkeyä¸ç»å®äº¤æ¢æºæ¶è®¾å®çroutingkeyè¿è¡å¹éï¼è§åå¹éæåæ¶æ¯æä¼è¿å¥å°å¯¹åºçéåä¸­ãå¦ææ¶æ¯å¹éå°å¤ä¸ªéåï¼ä»ä¼åæ¶è¿å¥å¤ä¸ªéå\n\næ­¥éª¤â¤ï¼ä½¿ç¨æ¶æ¯çå¬å¨å¨æå¡å¨å¯å¨åï¼çå¬æå®éå\n\n@component\npublic class messagelistener {\n    @rabbitlistener(queues = "topic_queue")\n    public void receive(string id){\n        system.out.println("å·²å®æç­ä¿¡åéä¸å¡(rabbitmq topic 1)ï¼idï¼"+id);\n    }\n    @rabbitlistener(queues = "topic_queue2")\n    public void receive2(string id){\n        system.out.println("å·²å®æç­ä¿¡åéä¸å¡(rabbitmq topic 22222222)ï¼idï¼"+id);\n     \n}\n\n\nä½¿ç¨æ³¨è§£@rabbitlistenerå®ä¹å½åæ¹æ³çå¬rabbitmqä¸­æå®åç§°çæ¶æ¯éåã\n\næ»ç»\n\n 1. springbootæ´årabbitmqæä¾äºamqptemplateå¯¹è±¡ä½ä¸ºå®¢æ·ç«¯æä½æ¶æ¯éå\n 2. æä½activemqéè¦éç½®activemqæå¡å¨å°åï¼é»è®¤ç«¯å£5672\n 3. ä¼ä¸å¼åæ¶éå¸¸ä½¿ç¨çå¬å¨æ¥å¤çæ¶æ¯éåä¸­çæ¶æ¯ï¼è®¾ç½®çå¬å¨ä½¿ç¨æ³¨è§£@rabbitlistener\n 4. rabbitmqæ5ç§æ¶æ¯æ¨¡åï¼ä½¿ç¨çéåç¸åï¼ä½æ¯äº¤æ¢æºä¸åãäº¤æ¢æºä¸åï¼å¯¹åºçæ¶æ¯è¿å¥çç­ç¥ä¹ä¸å\n\n# springbootæ´årocketmq\n\nrocketmqç±é¿éç åï¼åæèµ ç»apacheåºéä¼ï¼ç®åæ¯apacheåºéä¼é¡¶çº§é¡¹ç®ä¹ä¸ï¼ä¹æ¯ç®åå¸é¢ä¸çmqäº§åä¸­è¾ä¸ºæµè¡çäº§åä¹ä¸ï¼å®éµä»amqpåè®®ã\n\n# å®è£\n\nwindowsçå®è£åä¸è½½å°åï¼https://rocketmq.apache.org/\n\nä¸è½½å®æ¯åå¾å°zipåç¼©æä»¶ï¼è§£åç¼©å³å¯ä½¿ç¨ï¼è§£ååå¾å°å¦ä¸æä»¶\n\n\n\nrocketmqå®è£åéè¦éç½®ç¯å¢åéï¼å·ä½å¦ä¸ï¼\n\n * rocketmq_home\n * path\n * namesrv_addr ï¼å»ºè®®ï¼ï¼ 127.0.0.1:9876\n\nå³äºnamesrv_addrå¯¹äºåå­¦èæ¥è¯´å»ºè®®éç½®æ­¤é¡¹ï¼ä¹å¯ä»¥éè¿å½ä»¤è®¾ç½®å¯¹åºå¼ï¼æä½ç¥æ¾ç¹çï¼å»ºè®®éç½®ãç³»ç»å­¦ä¹ rocketmqç¥è¯åå³å¯çµæ´»æ§å¶è¯¥é¡¹ã\n\nrocketmqå·¥ä½æ¨¡å¼\n\nå¨rocketmqä¸­ï¼å¤çä¸å¡çæå¡å¨ç§°ä¸ºbrokerï¼çäº§èä¸æ¶è´¹èä¸æ¯ç´æ¥ä¸brokerèç³»çï¼èæ¯éè¿å½åæå¡å¨è¿è¡éä¿¡ãbrokerå¯å¨åä¼éç¥å½åæå¡å¨èªå·±å·²ç»ä¸çº¿ï¼è¿æ ·å½åæå¡å¨ä¸­å°±ä¿å­æææçbrokerä¿¡æ¯ãå½çäº§èä¸æ¶è´¹èéè¦è¿æ¥brokeræ¶ï¼éè¿å½åæå¡å¨æ¾å°å¯¹åºçå¤çä¸å¡çbrokerï¼å æ­¤å½åæå¡å¨å¨æ´å¥ç»æä¸­èµ·å°ä¸ä¸ªä¿¡æ¯ä¸­å¿çä½ç¨ãå¹¶ä¸brokerå¯å¨åå¿é¡»ä¿éå½åæå¡å¨åå¯å¨ã\n\nå¯å¨æå¡å¨\n\nmqnamesrv\t\t# å¯å¨å½åæå¡å¨\nmqbroker\t\t# å¯å¨broker\n\n\nè¿è¡binç®å½ä¸çmqnamesrvå½ä»¤å³å¯å¯å¨å½åæå¡å¨ï¼é»è®¤å¯¹å¤æå¡ç«¯å£9876ã\n\nè¿è¡binç®å½ä¸çmqbrokerå½ä»¤å³å¯å¯å¨brokeræå¡å¨ï¼å¦æç¯å¢åéä¸­æ²¡æè®¾ç½®namesrv_addråéè¦å¨è¿è¡mqbrokeræä»¤åéè¿setæä»¤è®¾ç½®namesrv_addrçå¼ï¼å¹¶ä¸æ¯æ¬¡å¼å¯åéè¦è®¾ç½®æ­¤é¡¹ã\n\næµè¯æå¡å¨å¯å¨ç¶æ\n\nrocketmqæä¾æä¸å¥æµè¯æå¡å¨åè½çæµè¯ç¨åºï¼è¿è¡binç®å½ä¸çtoolså½ä»¤å³å¯ä½¿ç¨ãproduceræ­£ç¡®æ§è¡å¦ä¸å¾æç¤º\n\ntools org.apache.rocketmq.example.quickstart.producer\t\t# çäº§æ¶æ¯\ntools org.apache.rocketmq.example.quickstart.consumer\t\t# æ¶è´¹æ¶æ¯\n\n\n\n\n\n\n# æ´åï¼å¼æ­¥æ¶æ¯ï¼\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´årocketmqçstarterï¼æ­¤åæ ä¸ç±springbootç»´æ¤çæ¬\n\n<dependency>\n    <groupid>org.apache.rocketmq</groupid>\n    <artifactid>rocketmq-spring-boot-starter</artifactid>\n    <version>2.2.1</version>\n</dependency>\n\n\næ­¥éª¤â¡ï¼éç½®rocketmqçæå¡å¨å°å\n\nrocketmq:\n  name-server: localhost:9876\n  producer:\n    group: group_rocketmq   # è®¾ç½®é»è®¤ççäº§èæ¶è´¹èæå±ç»group\n\n\n\n\næ­¥éª¤â¢ï¼ä½¿ç¨rocketmqtemplateæä½rocketmq\n\n@service\npublic class messageservicerocketmqimpl implements messageservice {\n    @autowired\n    private rocketmqtemplate rocketmqtemplate;\n\n    @override\n    public void sendmessage(string id) {\n        system.out.println("å¾åéç­ä¿¡çè®¢åå·²çº³å¥å¤çéåï¼rocketmqï¼ï¼idï¼"+id);\n        sendcallback callback = new sendcallback() {\n            @override\n            public void onsuccess(sendresult sendresult) {\n                system.out.println("æ¶æ¯åéæå");\n            }\n            @override\n            public void onexception(throwable e) {\n                system.out.println("æ¶æ¯åéå¤±è´¥ï¼ï¼ï¼ï¼ï¼");\n            }\n        };\n        rocketmqtemplate.asyncsend("order_id",id,callback);\n    }\n}\n\n\n\nä½¿ç¨asyncsendæ¹æ³åéå¼æ­¥æ¶æ¯ã\n\næ­¥éª¤â£ï¼ä½¿ç¨æ¶æ¯çå¬å¨å¨æå¡å¨å¯å¨åï¼çå¬æå®ä½ç½®ï¼å½æ¶æ¯åºç°åï¼ç«å³æ¶è´¹æ¶æ¯\n\n@component\n@rocketmqmessagelistener(topic = "order_id",consumergroup = "group_rocketmq")  // è³å°ç»å®å·¦è¾¹çä¸¤ä¸ªåæ°\npublic class messagelistener implements rocketmqlistener<string> {\n    @override\n    public void onmessage(string id) {\n        system.out.println("å·²å®æç­ä¿¡åéä¸å¡(rocketmq)ï¼idï¼"+id);\n    }\n}\n\n\nrocketmqççå¬å¨å¿é¡»æç§æ åæ ¼å¼å¼åï¼å®ç°rocketmqlisteneræ¥å£ï¼æ³åä¸ºæ¶æ¯ç±»åã\n\nä½¿ç¨æ³¨è§£@rocketmqmessagelistenerå®ä¹å½åç±»çå¬rabbitmqä¸­æå®åç§°çæ¶æ¯éååæå®ç»ã\n\næ»ç»\n\n 1. springbootæ´årocketmqä½¿ç¨rocketmqtemplateå¯¹è±¡ä½ä¸ºå®¢æ·ç«¯æä½æ¶æ¯éå\n 2. æä½rocketmqéè¦éç½®rocketmqæå¡å¨å°åï¼é»è®¤ç«¯å£9876\n 3. ä¼ä¸å¼åæ¶éå¸¸ä½¿ç¨çå¬å¨æ¥å¤çæ¶æ¯éåä¸­çæ¶æ¯ï¼è®¾ç½®çå¬å¨ä½¿ç¨æ³¨è§£@rocketmqmessagelistener\n\n# springbootæ´åkafka\n\n# å®è£\n\nwindowsçå®è£åä¸è½½å°åï¼https://kafka.apache.org/downloads\n\nä¸è½½å®æ¯åå¾å°tgzåç¼©æä»¶ï¼ä½¿ç¨è§£åç¼©è½¯ä»¶è§£åç¼©å³å¯ä½¿ç¨ï¼è§£ååå¾å°å¦ä¸æä»¶\n\n\n\nå»ºè®®ä½¿ç¨windowsç2.8.1çæ¬ãï¼3.x.xçæ¬å¨windowsä¸æäºå°é®é¢ï¼ä½æ¯å¨linuxä¸æ²¡é®é¢ï¼\n\nå¯å¨æå¡å¨\n\nkafkaæå¡å¨çåè½ç¸å½äºrocketmqä¸­çbrokerï¼kafkaè¿è¡è¿éè¦ä¸ä¸ªç±»ä¼¼äºå½åæå¡å¨çæå¡ãå¨kafkaå®è£ç®å½ä¸­èªå¸¦ä¸ä¸ªç±»ä¼¼äºå½åæå¡å¨çå·¥å·ï¼å«åzookeeperï¼å®çä½ç¨æ¯æ³¨åä¸­å¿ï¼ç¸å³ç¥è¯è¯·å°å¯¹åºè¯¾ç¨ä¸­å­¦ä¹ ã\n\nzookeeper-server-start.bat ..\\..\\config\\zookeeper.properties\t\t# å¯å¨zookeeper\nkafka-server-start.bat ..\\..\\config\\server.properties\t\t\t\t# å¯å¨kafka\n\n\nè¿è¡binç®å½ä¸çwindowsç®å½ä¸çzookeeper-server-startå½ä»¤å³å¯å¯å¨æ³¨åä¸­å¿ï¼é»è®¤å¯¹å¤æå¡ç«¯å£2181ã\n\nè¿è¡binç®å½ä¸çwindowsç®å½ä¸çkafka-server-startå½ä»¤å³å¯å¯å¨kafkaæå¡å¨ï¼é»è®¤å¯¹å¤æå¡ç«¯å£9092ã\n\nåå»ºä¸»é¢\n\nåä¹åæä½å¶ä»mqäº§åç¸ä¼¼ï¼kakfaä¹æ¯åºäºä¸»é¢æä½ï¼æä½ä¹åéè¦ååå§åtopicã\n\n# åå»ºtopic\nkafka-topics.bat --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic itheima\n# æ¥è¯¢topic\nkafka-topics.bat --zookeeper 127.0.0.1:2181 --list\t\t\t\t\t\n# å é¤topic\nkafka-topics.bat --delete --zookeeper localhost:2181 --topic itheima\n\n\næµè¯æå¡å¨å¯å¨ç¶æ\n\nkafkaæä¾æä¸å¥æµè¯æå¡å¨åè½çæµè¯ç¨åºï¼è¿è¡binç®å½ä¸çwindowsç®å½ä¸çå½ä»¤å³å¯ä½¿ç¨ã\n\nçäº§èå¯å¨ä¹ååå¯å¨æ¶è´¹è\n\nkafka-console-producer.bat --broker-list localhost:9092 --topic itheima\t\t\t\t\t\t\t# æµè¯çäº§æ¶æ¯\nkafka-console-consumer.bat --bootstrap-server localhost:9092 --topic itheima --from-beginning\t# æµè¯æ¶æ¯æ¶è´¹\n\n\n# æ´å\n\næ­¥éª¤â ï¼å¯¼å¥springbootæ´åkafkaçstarterï¼æ­¤åæ ç±springbootç»´æ¤çæ¬\n\n<dependency>\n    <groupid>org.springframework.kafka</groupid>\n    <artifactid>spring-kafka</artifactid>\n</dependency>\n\n\næ­¥éª¤â¡ï¼éç½®kafkaçæå¡å¨å°å\n\nspring:\n  kafka:\n    bootstrap-servers: localhost:9092\n    consumer:\n      group-id: order\n\n\nè®¾ç½®é»è®¤ççäº§èæ¶è´¹èæå±ç»idã\n\næ­¥éª¤â¢ï¼ä½¿ç¨kafkatemplateæä½kafka\n\n@service\npublic class messageservicekafkaimpl implements messageservice {\n    @autowired\n    private kafkatemplate<string,string> kafkatemplate;\n\n    @override\n    public void sendmessage(string id) {\n        system.out.println("å¾åéç­ä¿¡çè®¢åå·²çº³å¥å¤çéåï¼kafkaï¼ï¼idï¼"+id);\n        kafkatemplate.send("itheima2022",id);\n    }\n}\n\n\nä½¿ç¨sendæ¹æ³åéæ¶æ¯ï¼éè¦ä¼ å¥topicåç§°ã\n\næ­¥éª¤â£ï¼ä½¿ç¨æ¶æ¯çå¬å¨å¨æå¡å¨å¯å¨åï¼çå¬æå®ä½ç½®ï¼å½æ¶æ¯åºç°åï¼ç«å³æ¶è´¹æ¶æ¯\n\n@component\npublic class messagelistener {\n    @kafkalistener(topics = "itheima2022")\n    public void onmessage(consumerrecord<string,string> record){\n        system.out.println("å·²å®æç­ä¿¡åéä¸å¡(kafka)ï¼idï¼"+record.value());\n    }\n}\n\n\nä½¿ç¨æ³¨è§£@kafkalistenerå®ä¹å½åæ¹æ³çå¬kafkaä¸­æå®topicçæ¶æ¯ï¼æ¥æ¶å°çæ¶æ¯å°è£å¨å¯¹è±¡consumerrecordä¸­ï¼è·åæ°æ®ä»consumerrecordå¯¹è±¡ä¸­è·åå³å¯ã\n\næ»ç»\n\n 1. springbootæ´åkafkaä½¿ç¨kafkatemplateå¯¹è±¡ä½ä¸ºå®¢æ·ç«¯æä½æ¶æ¯éå\n\n 2. æä½kafkaéè¦éç½®kafkaæå¡å¨å°åï¼é»è®¤ç«¯å£9092\n\n 3. ä¼ä¸å¼åæ¶éå¸¸ä½¿ç¨çå¬å¨æ¥å¤çæ¶æ¯éåä¸­çæ¶æ¯ï¼è®¾ç½®çå¬å¨ä½¿ç¨æ³¨è§£@kafkalistenerãæ¥æ¶æ¶æ¯ä¿å­å¨å½¢åconsumerrecordå¯¹è±¡ä¸­\n\n\n# kf-6.çæ§\n\nå¨è¯´çæ§ä¹åï¼éè¦åé¡¾ä¸ä¸è½¯ä»¶ä¸çåå±å²ãææ©çè½¯ä»¶å®æä¸äºéå¸¸ç®åçåè½ï¼ä»£ç ä¸å¤ï¼éè¯¯ä¹å°ãéçè½¯ä»¶åè½çéæ­¥å®åï¼è½¯ä»¶çåè½åå¾è¶æ¥è¶å¤æï¼åè½ä¸è½å¾å°ææçä¿éï¼è¿ä¸ªé¶æ®µåºç°äºéå¯¹è½¯ä»¶åè½çæ£æµï¼ä¹å°±æ¯è½¯ä»¶æµè¯ãä¼´éçè®¡ç®æºæä½ç³»ç»çéæ­¥åçº§ï¼è½¯ä»¶çè¿è¡ç¶æä¹åå¾å¼å§è®©äººææ¸ä¸éï¼åºç°äºä¸ç¨³å®çç¶åµãä¼´éçè®¡ç®æºç½ç»çåå±ï¼ç¨åºä¹ä»åæºç¶æåæ¢æåºäºè®¡ç®æºç½ç»çç¨åºï¼åºç¨äºç½ç»çç¨åºå¼å§åºç°ï¼ç±äºç½ç»çä¸ç¨³å®æ§ï¼ç¨åºçè¿è¡ç¶æè®©ä½¿ç¨èæ´å å ªå¿§ãäºèç½çåºç°å½»åºæç ´äºè½¯ä»¶çæç»´æ¨¡å¼ï¼éä¹èæ¥çäºèç½è½¯ä»¶å°±æ´å å¸æ¾åºåºå¯¹åç§åæ ·å¤æçç½ç»æåµä¹ä¸çå¼±å°ãè®¡ç®æºè½¯ä»¶çè¿è¡ç¶åµå·²ç»æä¸ºäºè½¯ä»¶è¿è¡çä¸ä¸ªå¤§è¯é¢ï¼éå¯¹è½¯ä»¶çè¿è¡ç¶åµå°±åºç°äºå¨æ°çæç»´ï¼å»ºç«èµ·äºåä»£çè½¯ä»¶è¿è¡ç¶æçæ§ã\n\nä»ä¹æ¯çæ§ï¼å°±æ¯éè¿è½¯ä»¶çæ¹å¼å±ç¤ºå¦ä¸ä¸ªè½¯ä»¶çè¿è¡æåµï¼è¿è¡çæåµåéè¿åç§åæ ·çææ æ°æ®åé¦ç»çæ§äººåãä¾å¦ç½ç»æ¯å¦é¡ºçãæå¡å¨æ¯å¦å¨è¿è¡ãç¨åºçåè½æ¯å¦è½å¤æ´ç¾åç¾è¿è¡æåï¼åå­æ¯å¦å¤ç¨ï¼ç­ç­ç­ç­ã\n\næ¬ç« è¦è®²è§£ççæ§å°±æ¯å¯¹è½¯ä»¶çè¿è¡æåµè¿è¡çç£ï¼ä½æ¯springbootç¨åºä¸éspringbootç¨åºçå·®å¼è¿æ¯å¾å¤§çï¼ä¸ºäºæ¹ä¾¿çæ§è½¯ä»¶çå¼åï¼springbootæä¾äºä¸å¥åè½æ¥å£ï¼ä¸ºå¼åèå éå¼åè¿ç¨ã\n\n\n# kf-6-1.çæ§çæä¹\n\nå¯¹äºç°ä»£çäºèç½ç¨åºæ¥è¯´ï¼è§æ¨¡è¶æ¥è¶å¤§ï¼åè½è¶æ¥è¶å¤æï¼è¿è¦è¿½æ±æ´å¥½çå®¢æ·ä½éªï¼å æ­¤è¦çæ§çä¿¡æ¯éä¹å°±æ¯è¾å¤§äºãç±äºç°å¨çäºèç½ç¨åºå¤§é¨åé½æ¯åºäºå¾®æå¡çç¨åºï¼ä¸ä¸ªç¨åºçè¿è¡éè¦è¥å¹²ä¸ªæå¡æ¥ä¿éï¼å æ­¤ç¬¬ä¸ä¸ªè¦çæ§çææ å°±æ¯æå¡æ¯å¦æ­£å¸¸è¿è¡ï¼ä¹å°±æ¯çæ§æå¡ç¶ææ¯å¦å¤çå®æºç¶æãä¸æ¦åç°æä¸ªæå¡å®æºäºï¼å¿é¡»é©¬ä¸ç»åºå¯¹åºçè§£å³æ¹æ¡ï¼é¿åæ´ä½åºç¨åè½åå½±åãå¶æ¬¡ï¼ç±äºäºèç½ç¨åºæå¡çå®¢æ·éæ¯å·¨å¤§çï¼å½å®¢æ·çè¯·æ±å¨ç­æ¶é´åéä¸­è¾¾å°æå¡å¨åï¼å°±ä¼åºç°åç§ç¨åºè¿è¡ææ çæ³¢å¨ãæ¯å¦åå­å ç¨ä¸¥éï¼è¯·æ±æ æ³åæ¶ååºå¤çç­ï¼è¿å°±æ¯ç¬¬äºä¸ªè¦çæ§çéè¦ææ ï¼çæ§æå¡è¿è¡ææ ãè½ç¶è½¯ä»¶æ¯å¯¹å¤æä¾ç¨æ·çè®¿é®éæ±ï¼å®æå¯¹åºåè½çï¼ä½æ¯åå°çè¿è¡æ¯å¦å¹³ç¨³ï¼æ¯å¦åºç°äºä¸å½±åå®¢æ·ä½¿ç¨çåè½éæ£ï¼è¿äºä¹æ¯è¦å¯åçæ§çï¼æ­¤æ¶å°±éè¦å¨ä¸åæºçæåµä¸ï¼çæ§ç³»ç»è¿è¡æåµï¼æ¥å¿æ¯ä¸ä¸ªä¸éçææ®µãå¦æå¨ä¼å¤æ¥å¿ä¸­æ¾å°å¼åèæè¿ç»´äººåæå³æ³¨çæ¥å¿ä¿¡æ¯ï¼ç®åå¿«éææçè¿æ»¤åºè¦ççæ¥å¿ä¹æ¯çæ§ç³»ç»éè¦èèçé®é¢ï¼è¿å°±æ¯ç¬¬ä¸ä¸ªè¦çæ§çææ ï¼çæ§ç¨åºè¿è¡æ¥å¿ãè½ç¶æä»¬ææç¨åºä¸ç´å¹³ç¨³è¿è¡ï¼ä½æ¯ç±äºçªåæåµçåºç°ï¼ä¾å¦æå¡å¨è¢«æ»å»ãæå¡å¨åå­æº¢åºç­æåµé æäºæå¡å¨å®æºï¼æ­¤æ¶å½åæå¡ä¸è½æ»¡è¶³ä½¿ç¨éè¦ï¼å°±è¦å°å¶éå¯çè³å³é­ï¼å¦æå¿«éæ§å¶æå¡å¨çå¯åä¹æ¯ç¨åºè¿è¡è¿ç¨ä¸­ä¸å¯åé¿çé®é¢ï¼è¿å°±æ¯ç¬¬åä¸ªçæ§é¡¹ï¼ç®¡çæå¡ç¶æãä»¥ä¸è¿äºä»ä»æ¯ä»å¤§çæ¹é¢æ¥æèçæ§è¿ä¸ªé®é¢ï¼è¿æå¾å¤çç»èç¹ï¼ä¾å¦ä¸çº¿äºä¸ä¸ªæ°åè½ï¼å®æ¶æéç¨æ·ç»­è´¹ï¼è¿ç§åè½ä¸æ¯ä¸çº¿åé©¬ä¸å°±è¿è¡çï¼ä½æ¯å½ååè½æ¯å¦ççå¯å¨ï¼å¦æå¿«éçæ¥è¯¢å°è¿ä¸ªåè½å·²ç»å¼å¯ï¼è¿ä¹æ¯çæ§ä¸­è¦è§£å³çé®é¢ï¼ç­ç­ãçæ¥çæ§ççæ¯ä¸é¡¹éå¸¸éè¦çå·¥ä½ã\n\néè¿ä¸è¿°æè¿°ï¼å¯ä»¥çåºçæ§å¾éè¦ãé£å·ä½ççæ§è¦å¦ä½å¼å±å¢ï¼è¿è¦ä»å®éçç¨åºè¿è¡è§åº¦åºåãæ¯å¦ç°å¨æ3ä¸ªæå¡æ¯æçä¸ä¸ªç¨åºçè¿è¡ï¼æ¯ä¸ªæå¡é½æèªå·±çè¿è¡ç¶æã\n\næ­¤æ¶è¢«çæ§çä¿¡æ¯å°±è¦å¨ä¸ä¸ªä¸åçç¨åºä¸­å»æ¥è¯¢å¹¶å±ç¤ºï¼ä½æ¯ä¸ä¸ªæå¡æ¯æå¡äºä¸ä¸ªç¨åºçè¿è¡çï¼å¦æä¸è½åå¹¶å°ä¸ä¸ªå¹³å°ä¸å±ç¤ºï¼çæ§å·¥ä½éå·¨å¤§ï¼èä¸ä¿¡æ¯å¯¹ç§°æ§å·®ï¼è¦ä¸åçå¨ä¸ä¸ªçæ§ç«¯æ¥çæ°æ®ãå¦æå°ä¸å¡æ¾å¤§æ30ä¸ªï¼300ä¸ªï¼3000ä¸ªå¢ï¼çæ¥å¿é¡»æä¸ä¸ªåç¬çå¹³å°ï¼å°å¤ä¸ªè¢«çæ§çæå¡å¯¹åºççæ§ææ ä¿¡æ¯æ±æ»å¨ä¸èµ·ï¼è¿æ ·æ´å©äºçæ§å·¥ä½çå¼å±ã\n\næ°çç¨åºä¸é¨ç¨æ¥çæ§ï¼æ°çé®é¢å°±åºç°äºï¼æ¯è¢«çæ§ç¨åºä¸»å¨ä¸æ¥ä¿¡æ¯è¿æ¯çæ§ç¨åºä¸»å¨è·åä¿¡æ¯ï¼å¦æçæ§ç¨åºä¸è½ä¸»å¨è·åä¿¡æ¯ï¼è¿å°±æå³ççæ§ç¨åºæå¯è½çå°çæ¯å¾ä¹ä¹åè¢«çæ§ç¨åºä¸æ¥çä¿¡æ¯ï¼ä¸ä¸è¢«çæ§ç¨åºå®æºäºï¼çæ§ç¨åºå°±æ æ³åºåç©¶ç«æ¯å¥½ä¹æ²¡æ³ä¿¡æ¯äºï¼è¿æ¯å·²ç»ä¸çº¿äºãæä»¥çæ§ç¨åºå¿é¡»å·æä¸»å¨åèµ·è¯·æ±è·åè¢«çæ§æå¡ä¿¡æ¯çè½åã\n\nå¦æçæ§ç¨åºè¦çæ§æå¡æ¶ï¼ä¸»å¨è·åå¯¹æ¹çä¿¡æ¯ãé£çæ§ç¨åºå¦ä½ç¥éåªäºç¨åºè¢«èªå·±çæ§å¢ï¼ä¸å¯è½å¨çæ§ç¨åºä¸­è®¾ç½®æçæ§è°ï¼è¿æ ·äºèç½ä¸çææç¨åºå²ä¸æ¯é½å¯ä»¥è¢«çæ§å°ï¼è¿æ ·çè¯ä¿¡æ¯å®å¨å°æ æ³å¾å°ä¿éãåççåæ³åªè½æ¯å¨è¢«çæ§ç¨åºå¯å¨æ¶ä¸æ¥çæ§ç¨åºï¼åè¯çæ§ç¨åºä½ å¯ä»¥çæ§æäºãçæ¥éè¦å¨è¢«çæ§ç¨åºç«¯åä¸»å¨ä¸æ¥çæä½ï¼è¿å°±è¦æ±è¢«çæ§ç¨åºä¸­éç½®å¯¹åºççæ§ç¨åºæ¯è°ã\n\nè¢«çæ§ç¨åºå¯ä»¥æä¾åç§åæ ·çææ æ°æ®ç»çæ§ç¨åºçï¼ä½æ¯æ¯ä¸ä¸ªææ é½ä»£è¡¨çå¬å¸çæºå¯ä¿¡æ¯ï¼å¹¶ä¸æ¯ææçææ é½å¯ä»¥ç»ä»»ä½äººççï¼ä¹è³è¿ç»´äººåï¼æä»¥å¯¹è¢«çæ§ææ çæ¯å¦å¼æ¾åºæ¥ç»çæ§ç³»ç»çï¼ä¹éè¦åè¯¦ç»çè®¾å®ã\n\nä»¥ä¸æè¿°çæ´ä¸ªè¿ç¨å°±æ¯ä¸ä¸ªçæ§ç³»ç»çåºæ¬æµç¨ã\n\næ»ç»\n\n 1. çæ§æ¯ä¸ä¸ªéå¸¸éè¦çå·¥ä½ï¼æ¯ä¿éç¨åºæ­£å¸¸è¿è¡çåºç¡ææ®µ\n 2. çæ§çè¿ç¨éè¿ä¸ä¸ªçæ§ç¨åºè¿è¡ï¼å®æ±æ»ææè¢«çæ§çç¨åºçä¿¡æ¯éä¸­ç»ä¸å±ç¤º\n 3. è¢«çæ§ç¨åºéè¦ä¸»å¨ä¸æ¥èªå·±è¢«çæ§ï¼åæ¶è¦è®¾ç½®åªäºææ è¢«çæ§\n\næè\n\nä¸é¢å°±è¦å¼å§åçæ§äºï¼æ°çé®é¢å°±æ¥äºï¼çæ§ç¨åºæä¹åå¢ï¼é¾éè¦èªå·±ååï¼è¯å®æ¯ä¸ç°å®çï¼å¦ä½è¿è¡çæ§ï¼å±ä»¬ä¸èåè®²ã\n\n\n# kf-6-2.å¯è§åçæ§å¹³å°\n\nspringbootæ½åäºå¤§é¨åçæ§ç³»ç»çå¸¸ç¨ææ ï¼æåºäºçæ§çæ»ææ³ãç¶åå°±æå¥½å¿çåå¿æ ¹æ®çæ§çæ»ææ³ï¼å¶ä½äºä¸ä¸ªéç¨æ§å¾å¼ºççæ§ç³»ç»ï¼å ä¸ºæ¯åºäºspringbootçæ§çæ ¸å¿ææ³å¶ä½çï¼æä»¥è¿ä¸ªç¨åºè¢«å½åä¸ºspring boot adminãjavaèªå¸¦ççæ§å¹³å°ä¸ºjconsole\n\nspring boot adminï¼è¿æ¯ä¸ä¸ªå¼æºç¤¾åºé¡¹ç®ï¼ç¨äºç®¡çåçæ§springbootåºç¨ç¨åºãè¿ä¸ªé¡¹ç®ä¸­åå«æå®¢æ·ç«¯åæå¡ç«¯ä¸¤é¨åï¼èçæ§å¹³å°æçå°±æ¯æå¡ç«¯ãæä»¬åçç¨åºå¦æéè¦è¢«çæ§ï¼å°æä»¬åçç¨åºå¶ä½æå®¢æ·ç«¯ï¼ç¶åéç½®æå¡ç«¯å°ååï¼æå¡ç«¯å°±å¯ä»¥éè¿httpè¯·æ±çæ¹å¼ä»å®¢æ·ç«¯è·åå¯¹åºçä¿¡æ¯ï¼å¹¶éè¿uiçé¢å±ç¤ºå¯¹åºä¿¡æ¯ã\n\nä¸é¢å°±æ¥å¼åè¿å¥çæ§ç¨åºï¼åå¶ä½æå¡ç«¯ï¼å¶å®æå¡ç«¯å¯ä»¥çè§£ä¸ºæ¯ä¸ä¸ªwebç¨åºï¼æ¶å°ä¸äºä¿¡æ¯åå±ç¤ºè¿äºä¿¡æ¯ã\n\næå¡ç«¯å¼å\n\næ­¥éª¤â ï¼å¯¼å¥springboot adminå¯¹åºçstarterï¼çæ¬ä¸å½åä½¿ç¨çspringbootçæ¬ä¿æä¸è´ï¼å¹¶å°å¶éç½®æwebå·¥ç¨\n\n<dependency>\n    <groupid>de.codecentric</groupid>\n    <artifactid>spring-boot-admin-starter-server</artifactid>\n    <version>2.5.4</version>\n</dependency>\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-web</artifactid>\n</dependency>\n\n\nä¸è¿°è¿ç¨å¯ä»¥éè¿åå»ºé¡¹ç®æ¶ä½¿ç¨å¾éçå½¢å¼å®æã\n\næ­¥éª¤â¡ï¼å¨å¼å¯¼ç±»ä¸æ·»å æ³¨è§£@enableadminserverï¼å£°æå½ååºç¨å¯å¨åä½ä¸ºspringbootadminçæå¡å¨ä½¿ç¨\n\n@springbootapplication\n@enableadminserver\npublic class springboot25adminserverapplication {\n    public static void main(string[] args) {\n        springapplication.run(springboot25adminserverapplication.class, args);\n    }\n}\n\n\nåå°è¿éï¼è¿ä¸ªæå¡å¨å°±å¼åå¥½äºï¼å¯å¨åå°±å¯ä»¥è®¿é®å½åç¨åºäºï¼çé¢å¦ä¸ã\n\nç±äºç®åæ²¡æå¯å¨ä»»ä½è¢«çæ§çç¨åºï¼æä»¥éé¢ä»ä¹ä¿¡æ¯é½æ²¡æãä¸é¢å¶ä½ä¸ä¸ªè¢«çæ§çå®¢æ·ç«¯ç¨åºã\n\nå®¢æ·ç«¯å¼å\n\nå®¢æ·ç«¯ç¨åºå¼åå¶å®åæå¡ç«¯å¼åæè·¯åºæ¬ç¸ä¼¼ï¼å¤äºä¸äºéç½®èå·²ã\n\n\n\næ­¥éª¤â ï¼å¯¼å¥springboot adminå¯¹åºçstarterï¼çæ¬ä¸å½åä½¿ç¨çspringbootçæ¬ä¿æä¸è´ï¼å¹¶å°å¶éç½®æwebå·¥ç¨\n\n<dependency>\n    <groupid>de.codecentric</groupid>\n    <artifactid>spring-boot-admin-starter-client</artifactid>\n    <version>2.5.4</version>\n</dependency>\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-web</artifactid>\n</dependency>\n\n\nä¸è¿°è¿ç¨ä¹å¯ä»¥éè¿åå»ºé¡¹ç®æ¶ä½¿ç¨å¾éçå½¢å¼å®æï¼ä¸è¿ä¸å®è¦å°å¿ï¼ç«¯å£éç½®æä¸ä¸æ ·çï¼å¦åä¼å²çªã\n\næ­¥éª¤â¡ï¼è®¾ç½®å½åå®¢æ·ç«¯å°ä¿¡æ¯ä¸ä¼ å°åªä¸ªæå¡å¨ä¸ï¼éè¿ymlæä»¶éç½®\n\nspring:\n  boot:\n    admin:\n      client:\n        url: http://localhost:8080\n\n\nåå°è¿éï¼è¿ä¸ªå®¢æ·ç«¯å°±å¯ä»¥å¯å¨äºãå¯å¨ååæ¬¡è®¿é®æå¡ç«¯ç¨åºï¼çé¢å¦ä¸ã\n\nå¯ä»¥çå°ï¼å½åçæ§äº1ä¸ªç¨åºï¼ç¹å»è¿å»æ¥çè¯¦ç»ä¿¡æ¯ã\n\nç±äºå½åæ²¡æè®¾ç½®å¼æ¾åªäºä¿¡æ¯ç»çæ§æå¡å¨ï¼æä»¥ç®åçä¸å°ä»ä¹ææçä¿¡æ¯ãä¸é¢éè¦åä¸¤ç»éç½®å°±å¯ä»¥çå°ä¿¡æ¯äºã\n\n 1. å¼æ¾æå®ä¿¡æ¯ç»æå¡å¨ç\n\n 2. åè®¸æå¡å¨ä»¥httpè¯·æ±çæ¹å¼è·åå¯¹åºçä¿¡æ¯\n    \n    éç½®å¦ä¸ï¼\n\nserver:\n  port: 80\nspring:\n  boot:\n    admin:\n      client:\n        url: http://localhost:8080\nmanagement:\n  endpoint:\n    health:\n      show-details: always\n  endpoints:\n    web:\n      exposure:\n        include: "*"\n\n\nä¸è¿°éç½®å¯¹äºåå­¦èæ¥è¯´æ¯è¾å®¹ææ··æ·ãç®åè§£éä¸ä¸ï¼å°ä¸ä¸èååå·ä½çè®²è§£ãspringbootadminçå®¢æ·ç«¯é»è®¤å¼æ¾äº13ç»ä¿¡æ¯ç»æå¡å¨ï¼ä½æ¯è¿äºä¿¡æ¯é¤äºä¸ä¸ªä¹å¤ï¼å¶ä»çä¿¡æ¯é½ä¸è®©éè¿httpè¯·æ±æ¥çãæä»¥ä½ çå°çä¿¡æ¯åºæ¬ä¸å°±æ²¡ä»ä¹åå®¹äºï¼åªè½çå°ä¸ä¸ªåå®¹ï¼å°±æ¯ä¸é¢çå¥åº·ä¿¡æ¯ã\n\nä½æ¯å³ä¾¿å¦æ­¤æä»¬çå°å¥åº·ä¿¡æ¯ä¸­ä¹æ²¡ä»ä¹åå®¹ï¼åå å¨äºå¥åº·ä¿¡æ¯ä¸­æä¸äºä¿¡æ¯æè¿°äºä½ å½ååºç¨ä½¿ç¨äºä»ä¹ææ¯ç­ä¿¡æ¯ï¼å¦ææ èçå¯¹å¤æ´é²åè½ä¼æå®å¨éæ£ãéè¿éç½®å°±å¯ä»¥å¼æ¾ææçå¥åº·ä¿¡æ¯æç»æ¥çäºã\n\nmanagement:\n  endpoint:\n    health:\n      show-details: always\n\n\nå¥åº·æç»ä¿¡æ¯å¦ä¸ï¼\n\nç®åé¤äºå¥åº·ä¿¡æ¯ï¼å¶ä»ä¿¡æ¯é½æ¥éä¸äºãåå å¨äºå¶ä»12ç§ä¿¡æ¯æ¯é»è®¤ä¸æä¾ç»æå¡å¨éè¿httpè¯·æ±æ¥éçï¼æä»¥éè¦å¼å¯æ¥éçåå®¹é¡¹ï¼ä½¿ç¨*è¡¨ç¤ºæ¥éå¨é¨ãè®°å¾å¸¦å¼å·ã\n\nendpoints:\n  web:\n    exposure:\n      include: "*"\n\n\néç½®ååå·æ°æå¡å¨é¡µé¢ï¼å°±å¯ä»¥çå°ææçä¿¡æ¯äºã\n\nä»¥ä¸çé¢ä¸­å±ç¤ºçä¿¡æ¯éå°±éå¸¸å¤§äºï¼åå«äº13ç»ä¿¡æ¯ï¼ææ§è½ææ çæ§ï¼å è½½çbeanåè¡¨ï¼å è½½çç³»ç»å±æ§ï¼æ¥å¿çæ¾ç¤ºæ§å¶ç­ç­ã\n\néç½®å¤ä¸ªå®¢æ·ç«¯\n\nå¯ä»¥éè¿éç½®å®¢æ·ç«¯çæ¹å¼å¨å¶ä»çspringbootç¨åºä¸­æ·»å å®¢æ·ç«¯åæ ï¼è¿æ ·å½åæå¡å¨å°±å¯ä»¥çæ§å¤ä¸ªå®¢æ·ç«¯ç¨åºäºãæ¯ä¸ªå®¢æ·ç«¯å±ç¤ºä¸åççæ§ä¿¡æ¯ã\n\nè¿å¥çæ§é¢æ¿ï¼å¦æä½ å è½½çåºç¨å·æåè½ï¼å¨çæ§é¢æ¿ä¸­å¯ä»¥çå°3ç»ä¿¡æ¯å±ç¤ºçä¸ä¹åå è½½çç©ºå·¥ç¨ä¸ä¸æ ·ã\n\n * ç±»å è½½é¢æ¿ä¸­å¯ä»¥æ¥éå°å¼åèèªå®ä¹çç±»ï¼å¦å·¦å¾\n\n\n\n * æ å°ä¸­å¯ä»¥æ¥éå°å½ååºç¨éç½®çææè¯·æ±\n\n\n\n * æ§è½ææ ä¸­å¯ä»¥æ¥éå½ååºç¨ç¬æçè¯·æ±è·¯å¾ç»è®¡æ°æ®\n\n\n\næ»ç»\n\n 1. å¼åçæ§æå¡ç«¯éè¦å¯¼å¥åæ ï¼ç¶åå¨å¼å¯¼ç±»ä¸æ·»å æ³¨è§£@enableadminserverï¼å¹¶å°å¶éç½®æwebç¨åºå³å¯\n 2. å¼åè¢«çæ§çå®¢æ·ç«¯éè¦å¯¼å¥åæ ï¼ç¶åéç½®æå¡ç«¯æå¡å¨å°åï¼å¹¶åå¼æ¾ææ çè®¾å®å³å¯\n 3. å¨çæ§å¹³å°ä¸­å¯ä»¥æ¥éå°åç§åæ ·è¢«çæ§çææ ï¼åææ¯å®¢æ·ç«¯å¼æ¾äºè¢«çæ§çææ \n\næè\n\nä¹åè¯´è¿ï¼æå¡ç«¯è¦æ³çæ§å®¢æ·ç«¯ï¼éè¦ä¸»å¨çè·åå°å¯¹åºä¿¡æ¯å¹¶å±ç¤ºåºæ¥ãä½æ¯ç®åæä»¬å¹¶æ²¡æå¨å®¢æ·ç«¯å¼åä»»ä½æ°çåè½ï¼ä½æ¯æå¡ç«¯ç¡®å¯ä»¥è·åçæ§ä¿¡æ¯ï¼è°å¸®æä»¬åçè¿äºåè½å¢ï¼å±ä»¬ä¸ä¸èåè®²ã\n\n\n# kf-6-3.çæ§åç\n\néè¿æ¥éçæ§ä¸­çæ å°ææ ï¼å¯ä»¥çå°å½åç³»ç»ä¸­å¯ä»¥è¿è¡çææè¯·æ±è·¯å¾ï¼å¶ä¸­å¤§é¨åè·¯å¾ä»¥/actuatorå¼å¤´\n\né¦åè¿äºè¯·æ±è·¯å¾ä¸æ¯å¼åèèªå·±ç¼åçï¼å¶æ¬¡è¿ä¸ªè·¯å¾ä»£è¡¨ä»ä¹å«ä¹å¢ï¼æ¢ç¶è¿ä¸ªè·¯å¾å¯ä»¥è®¿é®ï¼å°±å¯ä»¥éè¿æµè§å¨åéè¯¥è¯·æ±ççç©¶ç«å¯ä»¥å¾å°ä»ä¹ä¿¡æ¯ã\n\n\n\néè¿åéè¯·æ±ï¼å¯ä»¥å¾å°ä¸ç»jsonä¿¡æ¯ï¼å¦ä¸\n\n{\n    "_links": {\n        "self": {\n            "href": "http://localhost:81/actuator",\n            "templated": false\n        },\n        "beans": {\n            "href": "http://localhost:81/actuator/beans",\n            "templated": false\n        },\n        "caches-cache": {\n            "href": "http://localhost:81/actuator/caches/{cache}",\n            "templated": true\n        },\n        "caches": {\n            "href": "http://localhost:81/actuator/caches",\n            "templated": false\n        },\n        "health": {\n            "href": "http://localhost:81/actuator/health",\n            "templated": false\n        },\n        "health-path": {\n            "href": "http://localhost:81/actuator/health/{*path}",\n            "templated": true\n        },\n        "info": {\n            "href": "http://localhost:81/actuator/info",\n            "templated": false\n        },\n        "conditions": {\n            "href": "http://localhost:81/actuator/conditions",\n            "templated": false\n        },\n        "shutdown": {\n            "href": "http://localhost:81/actuator/shutdown",\n            "templated": false\n        },\n        "configprops": {\n            "href": "http://localhost:81/actuator/configprops",\n            "templated": false\n        },\n        "configprops-prefix": {\n            "href": "http://localhost:81/actuator/configprops/{prefix}",\n            "templated": true\n        },\n        "env": {\n            "href": "http://localhost:81/actuator/env",\n            "templated": false\n        },\n        "env-tomatch": {\n            "href": "http://localhost:81/actuator/env/{tomatch}",\n            "templated": true\n        },\n        "loggers": {\n            "href": "http://localhost:81/actuator/loggers",\n            "templated": false\n        },\n        "loggers-name": {\n            "href": "http://localhost:81/actuator/loggers/{name}",\n            "templated": true\n        },\n        "heapdump": {\n            "href": "http://localhost:81/actuator/heapdump",\n            "templated": false\n        },\n        "threaddump": {\n            "href": "http://localhost:81/actuator/threaddump",\n            "templated": false\n        },\n        "metrics-requiredmetricname": {\n            "href": "http://localhost:81/actuator/metrics/{requiredmetricname}",\n            "templated": true\n        },\n        "metrics": {\n            "href": "http://localhost:81/actuator/metrics",\n            "templated": false\n        },\n        "scheduledtasks": {\n            "href": "http://localhost:81/actuator/scheduledtasks",\n            "templated": false\n        },\n        "mappings": {\n            "href": "http://localhost:81/actuator/mappings",\n            "templated": false\n        }\n    }\n}\n\n\nå¶ä¸­æ¯ä¸ç»æ°æ®é½æä¸ä¸ªè¯·æ±è·¯å¾ï¼èå¨è¿éè¯·æ±è·¯å¾ä¸­æä¹åçå°è¿çhealthï¼åéæ­¤è¯·æ±åå¾å°äºä¸ç»ä¿¡æ¯\n\n{\n    "status": "up",\n    "components": {\n        "diskspace": {\n            "status": "up",\n            "details": {\n                "total": 297042808832,\n                "free": 72284409856,\n                "threshold": 10485760,\n                "exists": true\n            }\n        },\n        "ping": {\n            "status": "up"\n        }\n    }\n}\n\n\nå½åä¿¡æ¯ä¸çæ§é¢æ¿ä¸­çæ°æ®å­å¨çå¯¹åºå³ç³»\n\n** åæ¥çæ§ä¸­æ¾ç¤ºçä¿¡æ¯å®éä¸æ¯éè¿åéå°åè¯·æ±åå¾å°jsonæ°æ®ï¼ç¶åå±ç¤ºåºæ¥ãæç§ä¸è¿°æä½ï¼å¯ä»¥åéæ´å¤çä»¥/actuatorå¼å¤´çé¾æ¥å°åï¼è·åæ´å¤çæ°æ®ï¼è¿äºæ°æ®æ±æ»å°ä¸èµ·ç»æäºçæ§å¹³å°æ¾ç¤ºçæææ°æ®ã**\n\nå°è¿éæä»¬å¾å°äºä¸ä¸ªæ ¸å¿ä¿¡æ¯ï¼çæ§å¹³å°ä¸­æ¾ç¤ºçä¿¡æ¯å®éä¸æ¯éè¿å¯¹è¢«çæ§çåºç¨åéè¯·æ±å¾å°çãé£è¿äºè¯·æ±è°å¼åçå¢ï¼æå¼è¢«çæ§åºç¨çpomæä»¶ï¼å¶ä¸­å¯¼å¥äºspringboot adminçå¯¹åºçclientï¼å¨è¿ä¸ªèµæºä¸­å¯¼å¥äºä¸ä¸ªåç§°å«åactuatorçåãè¢«çæ§çåºç¨ä¹æä»¥å¯ä»¥å¯¹å¤æä¾ä¸è¿°è¯·æ±è·¯å¾ï¼å°±æ¯å ä¸ºæ·»å äºè¿ä¸ªåã\n\n\n\nè¿ä¸ªactuatoræ¯ä»ä¹å¢ï¼è¿å°±æ¯æ¬èè¦è®²çæ ¸å¿åå®¹ï¼çæ§çç«¯ç¹ã\n\nactuatorï¼å¯ä»¥ç§°ä¸ºç«¯ç¹ï¼æè¿°äºä¸ç»çæ§ä¿¡æ¯ï¼springbootadminæä¾äºå¤ä¸ªåç½®ç«¯ç¹ï¼éè¿è®¿é®ç«¯ç¹å°±å¯ä»¥è·åå¯¹åºççæ§ä¿¡æ¯ï¼ä¹å¯ä»¥æ ¹æ®éè¦èªå®ä¹ç«¯ç¹ä¿¡æ¯ãéè¿åéè¯·æ±è·¯å²**/actuatorå¯ä»¥è®¿é®åºç¨ææç«¯ç¹ä¿¡æ¯ï¼å¦æç«¯ç¹ä¸­è¿ææç»ä¿¡æ¯å¯ä»¥åéè¯·æ±/actuator/ç«¯ç¹åç§°**æ¥è·åè¯¦ç»ä¿¡æ¯ãä»¥ä¸ååºäºææç«¯ç¹ä¿¡æ¯è¯´æï¼ï¼å ç²çæ¯æä»¬ç»å¸¸å³æ³¨çä¿¡æ¯ï¼\n\nid                 æè¿°                                                             é»è®¤å¯ç¨\nauditevents        æ´é²å½ååºç¨ç¨åºçå®¡è®¡äºä»¶ä¿¡æ¯ã                                               æ¯\nbeans              æ¾ç¤ºåºç¨ç¨åºä¸­ææ spring bean çå®æ´åè¡¨ã                                   æ¯\ncaches             æ´é²å¯ç¨çç¼å­ã                                                       æ¯\nconditions         æ¾ç¤ºå¨éç½®åèªå¨éç½®ç±»ä¸è¯ä¼°çæ¡ä»¶ä»¥åå®ä»¬å¹éæä¸å¹éçåå ã                                æ¯\nconfigprops        æ¾ç¤ºææ @configurationproperties çæ ¡å¯¹æ¸åã                           æ¯\nenv                æ´é² spring configurableenvironment ä¸­çå±æ§ã                        æ¯\nflyway             æ¾ç¤ºå·²åºç¨ç flyway æ°æ®åºè¿ç§»ã                                           æ¯\nhealth             æ¾ç¤ºåºç¨ç¨åºå¥åº·ä¿¡æ¯                                                     æ¯\nhttptrace          æ¾ç¤º http è¿½è¸ªä¿¡æ¯ï¼é»è®¤æåµä¸ï¼æå 100 ä¸ª http è¯·æ±/ååºäº¤æ¢ï¼ã                     æ¯\ninfo               æ¾ç¤ºåºç¨ç¨åºä¿¡æ¯ã                                                      æ¯\nintegrationgraph   æ¾ç¤º spring integration å¾ã                                       æ¯\nloggers            æ¾ç¤ºåä¿®æ¹åºç¨ç¨åºä¸­æ¥å¿è®°å½å¨çéç½®ã                                            æ¯\nliquibase          æ¾ç¤ºå·²åºç¨ç liquibase æ°æ®åºè¿ç§»ã                                        æ¯\nmetrics            æ¾ç¤ºå½ååºç¨ç¨åºçææ åº¦éä¿¡æ¯ã                                               æ¯\nmappings           æ¾ç¤ºææ @requestmapping è·¯å¾çæ´çæ¸åã                                  æ¯\nscheduledtasks     æ¾ç¤ºåºç¨ç¨åºä¸­çè°åº¦ä»»å¡ã                                                  æ¯\nsessions           åè®¸ä» spring session æ¯æçä¼è¯å­å¨ä¸­æ£ç´¢åå é¤ç¨æ·ä¼è¯ãå½ä½¿ç¨ spring session çååºå¼   æ¯\n                   web åºç¨ç¨åºæ¯ææ¶ä¸å¯ç¨ã\nshutdown           æ­£å¸¸å³é­åºç¨ç¨åºã                                                      å¦\nthreaddump         æ§è¡çº¿ç¨ dumpã                                                     æ¯\nheapdump           è¿åä¸ä¸ª hprof å  dump æä»¶ã                                          æ¯\njolokia            éè¿ http æ´é² jmx beanï¼å½ jolokia å¨ classpath ä¸æ¶ï¼ä¸éç¨äº webfluxï¼ã    æ¯\nlogfile            è¿åæ¥å¿æä»¶çåå®¹ï¼å¦æå·²è®¾ç½® logging.file æ logging.path å±æ§ï¼ãæ¯æä½¿ç¨ http      æ¯\n                   range å¤´æ¥æ£ç´¢é¨åæ¥å¿æä»¶çåå®¹ã\nprometheus         ä»¥å¯ä»¥ç± prometheus æå¡å¨æåçæ ¼å¼æ´é²ææ ã                                  æ¯\n\nä¸è¿°ç«¯ç¹æ¯ä¸é¡¹ä»£è¡¨è¢«çæ§çææ ï¼å¦æå¯¹å¤å¼æ¾åçæ§å¹³å°å¯ä»¥æ¥è¯¢å°å¯¹åºçç«¯ç¹ä¿¡æ¯ï¼å¦ææªå¼æ¾åæ æ³æ¥è¯¢å¯¹åºçç«¯ç¹ä¿¡æ¯ãéè¿éç½®å¯ä»¥è®¾ç½®ç«¯ç¹æ¯å¦å¯¹å¤å¼æ¾åè½ãä½¿ç¨enableå±æ§æ§å¶ç«¯ç¹æ¯å¦å¯¹å¤å¼æ¾ãå¶ä¸­healthç«¯ç¹ä¸ºé»è®¤ç«¯ç¹ï¼ä¸è½å³é­ã\n\næ³¨ï¼è¿éå¦æä¸å¼æ¾ç«¯ç¹æ¥å£ï¼å³ä½¿webç«¯include â*âä¹ä¸è½æ¥è¯¢ä¿¡æ¯.\n\næ³¨ï¼ç«¯ç¹çå¼æ¾åä¸ºåç«¯ç«¯ç¹åwebç«¯ç¹ä¸¤ç§ï¼é½è¦åå«éç½®\n\nmanagement:\n  endpoint:\n    health:\t\t\t\t\t\t# ç«¯ç¹åç§°\n      show-details: always\n    info:\t\t\t\t\t\t# ç«¯ç¹åç§°\n      enabled: true\t\t\t\t# æ¯å¦å¼æ¾\n\n\nä¸ºäºæ¹ä¾¿å¼åèå¿«ééç½®ç«¯ç¹ï¼springboot adminè®¾ç½®äº13ä¸ªè¾ä¸ºå¸¸ç¨çç«¯ç¹ä½ä¸ºé»è®¤å¼æ¾çç«¯ç¹ï¼å¦æéè¦æ§å¶é»è®¤å¼æ¾çç«¯ç¹çå¼æ¾ç¶æï¼å¯ä»¥éè¿éç½®è®¾ç½®ï¼å¦ä¸ï¼\n\nmanagement:\n  endpoints:\n    enabled-by-default: true\t# æ¯å¦å¼å¯é»è®¤ç«¯ç¹ï¼é»è®¤å¼true\n\n\nä¸è¿°ç«¯ç¹å¼å¯åï¼å°±å¯ä»¥éè¿ç«¯ç¹å¯¹åºçè·¯å¾æ¥çå¯¹åºçä¿¡æ¯äºãä½æ¯æ­¤æ¶è¿ä¸è½éè¿httpè¯·æ±æ¥è¯¢æ­¤ä¿¡æ¯ï¼è¿éè¦å¼å¯éè¿httpè¯·æ±æ¥è¯¢çç«¯ç¹åç§°ï¼ä½¿ç¨â*âå¯ä»¥ç®åéç½®æå¼æ¾ææç«¯ç¹çwebç«¯httpè¯·æ±æéã\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: "*"  # å¼æ¾ææç«¯ç¹\n        # include: health, info  # å¼æ¾healthåinfoä¸¤ä¸ªç«¯ç¹ï¼è¿ééç½®çæ¯åªè½å¨webçå°çä¿¡æ¯\n\n\næ´ä½ä¸æ¥è¯´ï¼å¯¹äºç«¯ç¹çéç½®æä¸¤ç»ä¿¡æ¯ï¼ä¸ç»æ¯endpointså¼å¤´çï¼å¯¹ææç«¯ç¹è¿è¡éç½®ï¼ä¸ç»æ¯endpointå¼å¤´çï¼å¯¹å·ä½ç«¯ç¹è¿è¡éç½®ã\n\nmanagement:\n  endpoint:\t\t# å·ä½ç«¯ç¹çéç½®\n    health:\n      show-details: always\n    info:\n      enabled: true\n  endpoints:\t# å¨é¨ç«¯ç¹çéç½®\n    web:\n      exposure:\n        include: "*"\n    enabled-by-default: true\n\n\n\n\n\n\n\n\næ»ç»\n\n 1. è¢«çæ§å®¢æ·ç«¯éè¿æ·»å actuatorçåæ å¯ä»¥å¯¹å¤æä¾è¢«è®¿é®çç«¯ç¹åè½\n\n 2. ç«¯ç¹åè½çå¼æ¾ä¸å³é­å¯ä»¥éè¿éç½®è¿è¡æ§å¶\n\n 3. webç«¯é»è®¤æ æ³è·åææç«¯ç¹ä¿¡æ¯ï¼éè¿éç½®å¼æ¾ç«¯ç¹åè½\n\n\n# kf-6-4.èªå®ä¹çæ§ææ \n\nç«¯ç¹æè¿°äºè¢«çæ§çä¿¡æ¯ï¼é¤äºç³»ç»é»è®¤çææ ï¼è¿å¯ä»¥èªè¡æ·»å æ¾ç¤ºçææ ï¼ä¸é¢å°±éè¿3ç§ä¸åçç«¯ç¹çææ èªå®ä¹æ¹å¼æ¥å­¦ä¹ ç«¯ç¹ä¿¡æ¯çäºæ¬¡å¼åã\n\ninfoç«¯ç¹\n\ninfoç«¯ç¹æè¿°äºå½ååºç¨çåºæ¬ä¿¡æ¯ï¼å¯ä»¥éè¿ä¸¤ç§å½¢å¼å¿«ééç½®infoç«¯ç¹çä¿¡æ¯\n\n * éç½®å½¢å¼\n   \n   å¨ymlæä»¶ä¸­éè¿è®¾ç½®infoèç¹çä¿¡æ¯å°±å¯ä»¥å¿«ééç½®ç«¯ç¹ä¿¡æ¯\n   \n   info:\n     appname: @project.artifactid@\n     version: @project.version@\n     company: ä¼ æºæè²\n     author: itheima\n   \n   \n   éç½®å®æ¯åï¼å¯¹åºä¿¡æ¯æ¾ç¤ºå¨çæ§å¹³å°ä¸\n   \n   ä¹å¯ä»¥éè¿è¯·æ±ç«¯ç¹ä¿¡æ¯è·¯å¾è·åå¯¹åºjsonä¿¡æ¯\n\n * ç¼ç¨å½¢å¼\n   \n   éè¿éç½®çå½¢å¼åªè½æ·»å åºå®çæ°æ®ï¼å¦æéè¦å¨ææ°æ®è¿å¯ä»¥éè¿éç½®beançæ¹å¼ä¸ºinfoç«¯ç¹æ·»å ä¿¡æ¯ï¼æ­¤ä¿¡æ¯ä¸éç½®ä¿¡æ¯å±å­\n   \n   @component\n   public class infoconfig implements infocontributor {\n       @override\n       public void contribute(info.builder builder) {  // builderå°±æ¯éé¢å åç§ä¿¡æ¯\n           builder.withdetail("runtime",system.currenttimemillis());\t\t//æ·»å åä¸ªä¿¡æ¯\n           map infomap = new hashmap();\t\t\n           infomap.put("buildtime","2006");\n           builder.withdetails(infomap);\t\t\t\t\t\t\t\t\t//æ·»å ä¸ç»ä¿¡æ¯\n       }\n   }\n   \n\nhealthç«¯ç¹\n\nhealthç«¯ç¹æè¿°å½ååºç¨çè¿è¡å¥åº·ææ ï¼å³åºç¨çè¿è¡æ¯å¦æåãéè¿ç¼ç¨çå½¢å¼å¯ä»¥æ©å±ææ ä¿¡æ¯ã\n\n@component\npublic class healthconfig extends abstracthealthindicator {\n    @override\n    protected void dohealthcheck(health.builder builder) throws exception {\n        boolean condition = true;\n        if(condition) {\n            builder.status(status.up);\t\t\t\t\t//è®¾ç½®è¿è¡ç¶æä¸ºå¯å¨ç¶æ\n            builder.withdetail("runtime", system.currenttimemillis());\n            map infomap = new hashmap();\n            infomap.put("buildtime", "2006");\n            builder.withdetails(infomap);\n        }else{\n            builder.status(status.out_of_service);\t\t//è®¾ç½®è¿è¡ç¶æä¸ºä¸å¨æå¡ç¶æ\n            builder.withdetail("ä¸çº¿äºåï¼","ä½ åæ¢¦");\n        }\n    }\n}\n\n\nå½ä»»æä¸ä¸ªç»ä»¶ç¶æä¸ä¸ºupæ¶ï¼æ´ä½åºç¨å¯¹å¤æå¡ç¶æä¸ºéupç¶æã\n\nmetricsç«¯ç¹\n\nmetricsç«¯ç¹æè¿°äºæ§è½ææ ï¼é¤äºç³»ç»èªå¸¦ççæ§æ§è½ææ ï¼è¿å¯ä»¥èªå®ä¹æ§è½ææ ã\n\n@service\npublic class bookserviceimpl extends serviceimpl<bookdao, book> implements ibookservice {\n    @autowired\n    private bookdao bookdao;\n\n    private counter counter;\n\n    public bookserviceimpl(meterregistry meterregistry){\n        counter = meterregistry.counter("ç¨æ·ä»è´¹æä½æ¬¡æ°ï¼");\n    }\n\n    @override\n    public boolean delete(integer id) {\n        //æ¯æ¬¡æ§è¡å é¤ä¸å¡ç­åäºæ§è¡äºä»è´¹ä¸å¡\n        counter.increment();\n        return bookdao.deletebyid(id) > 0;\n    }\n}\n\n\nå¨æ§è½ææ ä¸­å°±åºç°äºèªå®ä¹çæ§è½ææ çæ§é¡¹\n\nèªå®ä¹ç«¯ç¹\n\nå¯ä»¥æ ¹æ®ä¸å¡éè¦èªå®ä¹ç«¯ç¹ï¼æ¹ä¾¿ä¸å¡çæ§\n\n@component\n@endpoint(id="pay",enablebydefault = true)\npublic class payendpoint {\n    @readoperation\n    public object getpay(){\n        map paymap = new hashmap();\n        paymap.put("level 1","300");\n        paymap.put("level 2","291");\n        paymap.put("level 3","666");\n        return paymap;\n    }\n}\n\n\nç±äºæ­¤ç«¯ç¹æ°æ®spirng boot adminæ æ³é¢ç¥è¯¥å¦ä½å±ç¤ºï¼æä»¥éè¿çé¢æ æ³çå°æ­¤æ°æ®ï¼éè¿httpè¯·æ±è·¯å¾å¯ä»¥è·åå°å½åç«¯ç¹çä¿¡æ¯ï¼ä½æ¯éè¦åå¼å¯å½åç«¯ç¹å¯¹å¤åè½ï¼æèè®¾ç½®å½åç«¯ç¹ä¸ºé»è®¤å¼åçç«¯ç¹ã\n\næ»ç»\n\n 1. ç«¯ç¹çææ å¯ä»¥èªå®ä¹ï¼ä½æ¯æ¯ç§ä¸åçææ æ ¹æ®å¶åè½ä¸åï¼èªå®ä¹æ¹å¼ä¸å\n 2. infoç«¯ç¹éè¿éç½®åç¼ç¨çæ¹å¼é½å¯ä»¥æ·»å ç«¯ç¹ææ \n 3. healthç«¯ç¹éè¿ç¼ç¨çæ¹å¼æ·»å ç«¯ç¹ææ ï¼éè¦æ³¨æè¦ä¸ºå¯¹åºææ æ·»å å¯å¨ç¶æçé»è¾è®¾å®\n 4. metricsææ éè¿å¨ä¸å¡ä¸­æ·»å çæ§æä½è®¾ç½®ææ \n 5. å¯ä»¥èªå®ä¹ç«¯ç¹æ·»å æ´å¤çææ \n\n\n# å¼åå®ç¨ç¯å®ç»\n\nå¼åå®ç¨ç¯å°è¿éå°±ææ¶å®ç»äºï¼å¨å¼åå®ç¨ç¯ä¸­æä»¬è®²è§£äºå¤§éçç¬¬ä¸æ¹ææ¯çæ´åæ¹æ¡ï¼éæ©çæ¹æ¡é½æ¯å¸é¢ä¸æ¯è¾æµè¡çå¸¸ç¨æ¹æ¡ï¼è¿æä¸äºå½åæµè¡åº¦è¾ä½çæ¹æ¡ç®åè¿æ²¡è®²ï¼çå°çªå¤ç¯ä¸­æ¢æ¢è®²å§ã\n\næ´ä½å¼åå®ç¨ç¯ä¸­è®²è§£çåå®¹å¯ä»¥åä¸ºä¸¤å¤§ç±»ç¥è¯ï¼å®ç¨æ§ç¥è¯ä¸ç»éªæ§ç¥è¯ã\n\nå®ç¨æ§ç¥è¯å°±æ¯æ°ç¥è¯äºï¼springbootæ´ååç§ææ¯ï¼æ¯ç§ææ¯æ´åä¸­é½æä¸äºç¹æ®æä½ï¼æ´ä½æ¥è¯´å¶å®å°±æ¯ä¸å¥è¯ãå åæ åéç½®è°æ¥å£ãç»éªæ§ç¥è¯æ¯å¯¹åé¢ä¸¤ç¯ä¸­åºç°çä¸äºç¥è¯çè¡¥åï¼å¨å­¦ä¹ åºç¡ç¯æ¶å¦æå°ç²¾åæ¾å¨è¿äºä¸è¥¿ä¸å°±æç¹å­¦åäºï¼å®¹æé»çè§å°ï¼æ¾å°å®ç¨å¼åç¯ä¸­ç»åå®éå¼åè¯´ä¸äºä¸å¸¸è§çä½æ¯å¯¹ç³»ç»åè½åå±å®³çæä½è§£å³æ¹æ¡ï¼æåçè§£ã\n\nå¼åå®ç¨ç¯åå°è¿éå°±åä¸æ®µè½ï¼ä¸é¢å°±è¦çæåå¤åçç¯äºãå¸é¢ä¸å¾å¤è¯¾ç¨åçç¯è®²çè¿äºé«æ·±è«æµï¼å¨æ°æè¿æ²¡æç½123çæ¶åå°±å¼å§è®²å¾®ç§¯åäºï¼çå®è®©äººçäºçæ¥ãè³äºåçç¯æè®²æä»ä¹æ ·å­ï¼ä¸èµ·æå¾å§ã',charsets:{cjk:!0}},{title:"MyBatisçåç§æ¥è¯¢åè½",frontmatter:{title:"MyBatisçåç§æ¥è¯¢åè½",date:"2022-03-06T00:00:00.000Z",permalink:"/mybatis/003/",categories:["æ¡æ¶","MyBatis"],tags:["MyBatis"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/04.MyBatis/03.MyBatis%E7%9A%84%E5%90%84%E7%A7%8D%E6%9F%A5%E8%AF%A2%E5%8A%9F%E8%83%BD.html",relativePath:"07.æ¡æ¶/04.MyBatis/03.MyBatisçåç§æ¥è¯¢åè½.md",key:"v-3fd3c7b5",path:"/mybatis/003/",headers:[{level:2,title:"æ¥è¯¢ä¸ä¸ªå®ä½ç±»å¯¹è±¡",slug:"æ¥è¯¢ä¸ä¸ªå®ä½ç±»å¯¹è±¡",normalizedTitle:"æ¥è¯¢ä¸ä¸ªå®ä½ç±»å¯¹è±¡",charIndex:285},{level:2,title:"æ¥è¯¢ä¸ä¸ªListéå",slug:"æ¥è¯¢ä¸ä¸ªlistéå",normalizedTitle:"æ¥è¯¢ä¸ä¸ªlistéå",charIndex:529},{level:2,title:"æ¥è¯¢åä¸ªæ°æ®",slug:"æ¥è¯¢åä¸ªæ°æ®",normalizedTitle:"æ¥è¯¢åä¸ªæ°æ®",charIndex:714},{level:2,title:"æ¥è¯¢ä¸æ¡æ°æ®ä¸ºmapéå",slug:"æ¥è¯¢ä¸æ¡æ°æ®ä¸ºmapéå",normalizedTitle:"æ¥è¯¢ä¸æ¡æ°æ®ä¸ºmapéå",charIndex:1033},{level:2,title:"æ¥è¯¢å¤æ¡æ°æ®ä¸ºmapéå",slug:"æ¥è¯¢å¤æ¡æ°æ®ä¸ºmapéå",normalizedTitle:"æ¥è¯¢å¤æ¡æ°æ®ä¸ºmapéå",charIndex:1414},{level:3,title:"æ¹æ³ä¸",slug:"æ¹æ³ä¸",normalizedTitle:"æ¹æ³ä¸",charIndex:1431},{level:3,title:"æ¹æ³äº",slug:"æ¹æ³äº",normalizedTitle:"æ¹æ³äº",charIndex:1922},{level:2,title:"æ¨¡ç³æ¥è¯¢",slug:"æ¨¡ç³æ¥è¯¢",normalizedTitle:"æ¨¡ç³æ¥è¯¢",charIndex:2483},{level:2,title:"æ¹éå é¤",slug:"æ¹éå é¤",normalizedTitle:"æ¹éå é¤",charIndex:3232},{level:2,title:"å¨æè®¾ç½®è¡¨å",slug:"å¨æè®¾ç½®è¡¨å",normalizedTitle:"å¨æè®¾ç½®è¡¨å",charIndex:3924},{level:2,title:"æ·»å åè½è·åèªå¢çä¸»é®",slug:"æ·»å åè½è·åèªå¢çä¸»é®",normalizedTitle:"æ·»å åè½è·åèªå¢çä¸»é®",charIndex:4321}],headersStr:"æ¥è¯¢ä¸ä¸ªå®ä½ç±»å¯¹è±¡ æ¥è¯¢ä¸ä¸ªListéå æ¥è¯¢åä¸ªæ°æ® æ¥è¯¢ä¸æ¡æ°æ®ä¸ºmapéå æ¥è¯¢å¤æ¡æ°æ®ä¸ºmapéå æ¹æ³ä¸ æ¹æ³äº æ¨¡ç³æ¥è¯¢ æ¹éå é¤ å¨æè®¾ç½®è¡¨å æ·»å åè½è·åèªå¢çä¸»é®",content:'# MyBatisçåç§æ¥è¯¢åè½\n\n 1. å¦ææ¥è¯¢åºçæ°æ®åªæä¸æ¡ï¼å¯ä»¥éè¿\n    1. å®ä½ç±»å¯¹è±¡æ¥æ¶\n    2. Listéåæ¥æ¶\n    3. Mapéåæ¥æ¶ï¼ç»æ{password=123456, sex=ç·, id=1, age=23, username=admin}\n 2. å¦ææ¥è¯¢åºçæ°æ®æå¤æ¡ï¼ä¸å®ä¸è½ç¨å®ä½ç±»å¯¹è±¡æ¥æ¶ï¼ä¼æå¼å¸¸TooManyResultsExceptionï¼å¯ä»¥éè¿\n    1. å®ä½ç±»ç±»åçLIstéåæ¥æ¶\n    2. Mapç±»åçLIstéåæ¥æ¶\n    3. å¨mapperæ¥å£çæ¹æ³ä¸æ·»å @MapKeyæ³¨è§£\n\n\n# æ¥è¯¢ä¸ä¸ªå®ä½ç±»å¯¹è±¡\n\n/**\n * æ ¹æ®ç¨æ·idæ¥è¯¢ç¨æ·ä¿¡æ¯\n * @param id\n * @return\n */\nUser getUserById(@Param("id") int id);\n\n\n\x3c!--User getUserById(@Param("id") int id);--\x3e\n<select id="getUserById" resultType="User">\n\tselect * from t_user where id = #{id}\n</select>\n\n\n\n# æ¥è¯¢ä¸ä¸ªListéå\n\n/**\n * æ¥è¯¢ææç¨æ·ä¿¡æ¯\n * @return\n */\nList<User> getUserList();\n\n\n\x3c!--List<User> getUserList();--\x3e\n<select id="getUserList" resultType="User">\n\tselect * from t_user\n</select>\n\n\n\n# æ¥è¯¢åä¸ªæ°æ®\n\n/**  \n * æ¥è¯¢ç¨æ·çæ»è®°å½æ°  \n * @return  \n * å¨MyBatisä¸­ï¼å¯¹äºJavaä¸­å¸¸ç¨çç±»åé½è®¾ç½®äºç±»åå«å  \n * ä¾å¦ï¼java.lang.Integer--\x3eint|integer  \n * ä¾å¦ï¼int--\x3e_int|_integer  \n * ä¾å¦ï¼Map--\x3emap, List--\x3elist  \n */  \nint getCount();\n\n\n\x3c!--int getCount();--\x3e\n<select id="getCount" resultType="_integer">\n\tselect count(id) from t_user\n</select>\n\n\n\n\n\n\n\n\n# æ¥è¯¢ä¸æ¡æ°æ®ä¸ºmapéå\n\n/**  \n * æ ¹æ®ç¨æ·idæ¥è¯¢ç¨æ·ä¿¡æ¯ä¸ºmapéå  \n * @param id  \n * @return  \n */  \nMap<String, Object> getUserToMap(@Param("id") int id);\n\n\n\x3c!--Map<String, Object> getUserToMap(@Param("id") int id);--\x3e\n\n\n\x3c!-- è¿åçæ¯mapç±»å --\x3e\n<select id="getUserToMap" resultType="map">\n\tselect * from t_user where id = #{id}\n</select>\n\x3c!--ç»æï¼{password=123456, sex=ç·, id=1, age=23, username=admin}--\x3e\n\n\n\n# æ¥è¯¢å¤æ¡æ°æ®ä¸ºmapéå\n\n\n# æ¹æ³ä¸\n\n/**  \n * æ¥è¯¢ææç¨æ·ä¿¡æ¯ä¸ºmapéå  \n * @return  \n * å°è¡¨ä¸­çæ°æ®ä»¥mapéåçæ¹å¼æ¥è¯¢ï¼ä¸æ¡æ°æ®å¯¹åºä¸ä¸ªmapï¼è¥æå¤æ¡æ°æ®ï¼å°±ä¼äº§çå¤ä¸ªmapéåï¼æ­¤æ¶å¯ä»¥å°è¿äºmapæ¾å¨ä¸ä¸ªlistéåä¸­è·å  \n */  \nList<Map<String, Object>> getAllUserToMap();\n\n\n\x3c!--Map<String, Object> getAllUserToMap();--\x3e  \n<select id="getAllUserToMap" resultType="map">  \n\tselect * from t_user  \n</select>\n\x3c!--\n\tç»æï¼\n\t[{password=123456, sex=ç·, id=1, age=23, username=admin},\n\t{password=123456, sex=ç·, id=2, age=23, username=å¼ ä¸},\n\t{password=123456, sex=ç·, id=3, age=23, username=å¼ ä¸}]\n--\x3e\n\n\n\n# æ¹æ³äº\n\n/**\n * æ¥è¯¢ææç¨æ·ä¿¡æ¯ä¸ºmapéå\n * @return\n * å°è¡¨ä¸­çæ°æ®ä»¥mapéåçæ¹å¼æ¥è¯¢ï¼ä¸æ¡æ°æ®å¯¹åºä¸ä¸ªmapï¼è¥æå¤æ¡æ°æ®ï¼å°±ä¼äº§çå¤ä¸ªmapéåï¼å¹¶ä¸æç»è¦ä»¥ä¸ä¸ªmapçæ¹å¼è¿åæ°æ®ï¼æ­¤æ¶éè¦éè¿@MapKeyæ³¨è§£è®¾ç½®mapéåçé®ï¼å¼æ¯æ¯æ¡æ°æ®æå¯¹åºçmapéå\n */\n\n@MapKey("id")  // Mapkeyå¯¹åºçå¼è¦å¯ä¸\nMap<String, Object> getAllUserToMap();\n\n\n\x3c!--Map<String, Object> getAllUserToMap();--\x3e\n<select id="getAllUserToMap" resultType="map">\n\tselect * from t_user\n</select>\n\x3c!--\n\tç»æï¼\n\t{\n\t1={password=123456, sex=ç·, id=1, age=23, username=admin},\n\t2={password=123456, sex=ç·, id=2, age=23, username=å¼ ä¸},\n\t3={password=123456, sex=ç·, id=3, age=23, username=å¼ ä¸}\n\t}\n--\x3e\n\n\n\n# ç¹æ®SQLçæ§è¡\n\n\n# æ¨¡ç³æ¥è¯¢\n\n/**\n * æ ¹æ®ç¨æ·åè¿è¡æ¨¡ç³æ¥è¯¢\n * @param username \n * @return java.util.List<com.atguigu.mybatis.pojo.User>\n * @date 2022/2/26 21:56\n */\n\n /*\n * #{}å¨SQLçæ¨¡ç³æ¥è¯¢ä¸­ä¼å®ä¹ä¸ºï¼ï¼è¿ä¸ªè¿æ¥å°æ¨¡ç³è¯­æ³ä¸­ä¼å®ä¹ä¸ºå­ç¬¦\'?\'\n\n #è¢«è§£æçæ¶åå°±ä¼è¢«è§£æä¸ºä¸å¯¹åå¼å·\nå æ­¤\n\t\x3c!--select * from t_user where username like \'%#{mohu}%\'--\x3e\n\tä¸è½æ­£ç¡®æ¥è¯¢\n */ \nList<User> getUserByLike(@Param("username") String username);\n\n\n\x3c!--List<User> getUserByLike(@Param("username") String username);--\x3e\n<select id="getUserByLike" resultType="User">\n\x3c!-- è½å¤æ­£ç¡®æ¥è¯¢çä¸ç§æ¹æ³ --\x3e\n\t\x3c!--select * from t_user where username like \'%${mohu}%\'--\x3e\n\t\x3c!--select * from t_user where username like concat(\'%\',#{mohu},\'%\')--\x3e\n\n\n\tselect * from t_user where username like "%"#{mohu}"%"\n</select>\n\n\n * å¶ä¸­select * from t_user where username like "%"#{mohu}"%"æ¯æå¸¸ç¨ç\n\n\n# æ¹éå é¤\n\n * åªè½ä½¿ç¨${}ï¼å¦æä½¿ç¨#{}ï¼åè§£æåçsqlè¯­å¥ä¸ºdelete from t_user where id in (\'1,2,3\')ï¼è¿æ ·æ¯å°1,2,3çåæ¯ä¸ä¸ªæ´ä½ï¼åªæidä¸º1,2,3çæ°æ®ä¼è¢«å é¤ãæ­£ç¡®çè¯­å¥åºè¯¥æ¯delete from t_user where id in (1,2,3)ï¼æèdelete from t_user where id in (\'1\',\'2\',\'3\')\n\n/**\n * æ ¹æ®idæ¹éå é¤\n * @param ids \n * @return int\n * @date 2022/2/26 22:06\n */\nint deleteMore(@Param("ids") String ids);\n\n\n#{}å¨è¿éä¸è½ä½¿ç¨ï¼ä¼æ¥éï¼å ä¸ºä¼æåéè§£æä¸ºæ´ä½å¹¶ç»æ´ä½å ä¸åå¼å·ï¼æ¹éå é¤åªè½éè¿${}è¿è¡å é¤\n<delete id="deleteMore">\n\tdelete from t_user where id in (${ids})\n</delete>\n\n\n//æµè¯ç±»\n@Test\npublic void deleteMore() {\n\tSqlSession sqlSession = SqlSessionUtils.getSqlSession();\n\tSQLMapper mapper = sqlSession.getMapper(SQLMapper.class);\n\tint result = mapper.deleteMore("1,2,3,8");\n\tSystem.out.println(result);\n}\n\n\n\n# å¨æè®¾ç½®è¡¨å\n\n * åªè½ä½¿ç¨${}ï¼å ä¸ºè¡¨åä¸è½å åå¼å·\n\n/**\n * æ¥è¯¢æå®è¡¨ä¸­çæ°æ®\n * @param tableName \n * @return java.util.List<com.atguigu.mybatis.pojo.User>\n * @date 2022/2/27 14:41\n */\nList<User> getUserByTable(@Param("tableName") String tableName);\n\n\n\x3c!--List<User> getUserByTable(@Param("tableName") String tableName);--\x3e\n<select id="getUserByTable" resultType="User">\n\tselect * from ${tableName}\n</select>\n\n\nä¸è¿°ä¸ä¸ªåªè½ä½¿ç¨${}\n\n\n# æ·»å åè½è·åèªå¢çä¸»é®\n\n * ä½¿ç¨åºæ¯\n   * t_clazz(clazz_id,clazz_name)\n   * t_student(student_id,student_name,clazz_id)\n   1. æ·»å ç­çº§ä¿¡æ¯\n   2. è·åæ°æ·»å çç­çº§çid\n   3. ä¸ºç­çº§åéå­¦çï¼å³å°æå­¦çç­çº§idä¿®æ¹ä¸ºæ°æ·»å çç­çº§çid\n * å¨mapper.xmlä¸­è®¾ç½®ä¸¤ä¸ªå±æ§\n   * useGeneratedKeysï¼è®¾ç½®ä½¿ç¨èªå¢çä¸»é®\n   * keyPropertyï¼å ä¸ºå¢å æ¹æç»ä¸çè¿åå¼æ¯åå½±åçè¡æ°ï¼å æ­¤åªè½å°è·åçèªå¢çä¸»é®æ¾å¨ä¼ è¾çåæ°userå¯¹è±¡çæä¸ªå±æ§ä¸­\n\n/**\n * æ·»å ç¨æ·ä¿¡æ¯\n * @param user \n * @date 2022/2/27 15:04\n */\nvoid insertUser(User user);\n\n\n\x3c!--void insertUser(User user);--\x3e\n<insert id="insertUser" useGeneratedKeys="true" keyProperty="id">\n\tinsert into t_user values (null,#{username},#{password},#{age},#{sex},#{email})\n</insert>\n\n\n//æµè¯ç±»\n@Test\npublic void insertUser() {\n\tSqlSession sqlSession = SqlSessionUtils.getSqlSession();\n\tSQLMapper mapper = sqlSession.getMapper(SQLMapper.class);\n\tUser user = new User(null, "ton", "123", 23, "ç·", "123@321.com");\n\tmapper.insertUser(user);\n\tSystem.out.println(user);\n\t//è¾åºï¼user{id=10, username=\'ton\', password=\'123\', age=23, sex=\'ç·\', email=\'123@321.com\'}ï¼èªå¢ä¸»é®å­æ¾å°äºuserçidå±æ§ä¸­\n}\n',normalizedContent:'# mybatisçåç§æ¥è¯¢åè½\n\n 1. å¦ææ¥è¯¢åºçæ°æ®åªæä¸æ¡ï¼å¯ä»¥éè¿\n    1. å®ä½ç±»å¯¹è±¡æ¥æ¶\n    2. listéåæ¥æ¶\n    3. mapéåæ¥æ¶ï¼ç»æ{password=123456, sex=ç·, id=1, age=23, username=admin}\n 2. å¦ææ¥è¯¢åºçæ°æ®æå¤æ¡ï¼ä¸å®ä¸è½ç¨å®ä½ç±»å¯¹è±¡æ¥æ¶ï¼ä¼æå¼å¸¸toomanyresultsexceptionï¼å¯ä»¥éè¿\n    1. å®ä½ç±»ç±»åçlistéåæ¥æ¶\n    2. mapç±»åçlistéåæ¥æ¶\n    3. å¨mapperæ¥å£çæ¹æ³ä¸æ·»å @mapkeyæ³¨è§£\n\n\n# æ¥è¯¢ä¸ä¸ªå®ä½ç±»å¯¹è±¡\n\n/**\n * æ ¹æ®ç¨æ·idæ¥è¯¢ç¨æ·ä¿¡æ¯\n * @param id\n * @return\n */\nuser getuserbyid(@param("id") int id);\n\n\n\x3c!--user getuserbyid(@param("id") int id);--\x3e\n<select id="getuserbyid" resulttype="user">\n\tselect * from t_user where id = #{id}\n</select>\n\n\n\n# æ¥è¯¢ä¸ä¸ªlistéå\n\n/**\n * æ¥è¯¢ææç¨æ·ä¿¡æ¯\n * @return\n */\nlist<user> getuserlist();\n\n\n\x3c!--list<user> getuserlist();--\x3e\n<select id="getuserlist" resulttype="user">\n\tselect * from t_user\n</select>\n\n\n\n# æ¥è¯¢åä¸ªæ°æ®\n\n/**  \n * æ¥è¯¢ç¨æ·çæ»è®°å½æ°  \n * @return  \n * å¨mybatisä¸­ï¼å¯¹äºjavaä¸­å¸¸ç¨çç±»åé½è®¾ç½®äºç±»åå«å  \n * ä¾å¦ï¼java.lang.integer--\x3eint|integer  \n * ä¾å¦ï¼int--\x3e_int|_integer  \n * ä¾å¦ï¼map--\x3emap, list--\x3elist  \n */  \nint getcount();\n\n\n\x3c!--int getcount();--\x3e\n<select id="getcount" resulttype="_integer">\n\tselect count(id) from t_user\n</select>\n\n\n\n\n\n\n\n\n# æ¥è¯¢ä¸æ¡æ°æ®ä¸ºmapéå\n\n/**  \n * æ ¹æ®ç¨æ·idæ¥è¯¢ç¨æ·ä¿¡æ¯ä¸ºmapéå  \n * @param id  \n * @return  \n */  \nmap<string, object> getusertomap(@param("id") int id);\n\n\n\x3c!--map<string, object> getusertomap(@param("id") int id);--\x3e\n\n\n\x3c!-- è¿åçæ¯mapç±»å --\x3e\n<select id="getusertomap" resulttype="map">\n\tselect * from t_user where id = #{id}\n</select>\n\x3c!--ç»æï¼{password=123456, sex=ç·, id=1, age=23, username=admin}--\x3e\n\n\n\n# æ¥è¯¢å¤æ¡æ°æ®ä¸ºmapéå\n\n\n# æ¹æ³ä¸\n\n/**  \n * æ¥è¯¢ææç¨æ·ä¿¡æ¯ä¸ºmapéå  \n * @return  \n * å°è¡¨ä¸­çæ°æ®ä»¥mapéåçæ¹å¼æ¥è¯¢ï¼ä¸æ¡æ°æ®å¯¹åºä¸ä¸ªmapï¼è¥æå¤æ¡æ°æ®ï¼å°±ä¼äº§çå¤ä¸ªmapéåï¼æ­¤æ¶å¯ä»¥å°è¿äºmapæ¾å¨ä¸ä¸ªlistéåä¸­è·å  \n */  \nlist<map<string, object>> getallusertomap();\n\n\n\x3c!--map<string, object> getallusertomap();--\x3e  \n<select id="getallusertomap" resulttype="map">  \n\tselect * from t_user  \n</select>\n\x3c!--\n\tç»æï¼\n\t[{password=123456, sex=ç·, id=1, age=23, username=admin},\n\t{password=123456, sex=ç·, id=2, age=23, username=å¼ ä¸},\n\t{password=123456, sex=ç·, id=3, age=23, username=å¼ ä¸}]\n--\x3e\n\n\n\n# æ¹æ³äº\n\n/**\n * æ¥è¯¢ææç¨æ·ä¿¡æ¯ä¸ºmapéå\n * @return\n * å°è¡¨ä¸­çæ°æ®ä»¥mapéåçæ¹å¼æ¥è¯¢ï¼ä¸æ¡æ°æ®å¯¹åºä¸ä¸ªmapï¼è¥æå¤æ¡æ°æ®ï¼å°±ä¼äº§çå¤ä¸ªmapéåï¼å¹¶ä¸æç»è¦ä»¥ä¸ä¸ªmapçæ¹å¼è¿åæ°æ®ï¼æ­¤æ¶éè¦éè¿@mapkeyæ³¨è§£è®¾ç½®mapéåçé®ï¼å¼æ¯æ¯æ¡æ°æ®æå¯¹åºçmapéå\n */\n\n@mapkey("id")  // mapkeyå¯¹åºçå¼è¦å¯ä¸\nmap<string, object> getallusertomap();\n\n\n\x3c!--map<string, object> getallusertomap();--\x3e\n<select id="getallusertomap" resulttype="map">\n\tselect * from t_user\n</select>\n\x3c!--\n\tç»æï¼\n\t{\n\t1={password=123456, sex=ç·, id=1, age=23, username=admin},\n\t2={password=123456, sex=ç·, id=2, age=23, username=å¼ ä¸},\n\t3={password=123456, sex=ç·, id=3, age=23, username=å¼ ä¸}\n\t}\n--\x3e\n\n\n\n# ç¹æ®sqlçæ§è¡\n\n\n# æ¨¡ç³æ¥è¯¢\n\n/**\n * æ ¹æ®ç¨æ·åè¿è¡æ¨¡ç³æ¥è¯¢\n * @param username \n * @return java.util.list<com.atguigu.mybatis.pojo.user>\n * @date 2022/2/26 21:56\n */\n\n /*\n * #{}å¨sqlçæ¨¡ç³æ¥è¯¢ä¸­ä¼å®ä¹ä¸ºï¼ï¼è¿ä¸ªè¿æ¥å°æ¨¡ç³è¯­æ³ä¸­ä¼å®ä¹ä¸ºå­ç¬¦\'?\'\n\n #è¢«è§£æçæ¶åå°±ä¼è¢«è§£æä¸ºä¸å¯¹åå¼å·\nå æ­¤\n\t\x3c!--select * from t_user where username like \'%#{mohu}%\'--\x3e\n\tä¸è½æ­£ç¡®æ¥è¯¢\n */ \nlist<user> getuserbylike(@param("username") string username);\n\n\n\x3c!--list<user> getuserbylike(@param("username") string username);--\x3e\n<select id="getuserbylike" resulttype="user">\n\x3c!-- è½å¤æ­£ç¡®æ¥è¯¢çä¸ç§æ¹æ³ --\x3e\n\t\x3c!--select * from t_user where username like \'%${mohu}%\'--\x3e\n\t\x3c!--select * from t_user where username like concat(\'%\',#{mohu},\'%\')--\x3e\n\n\n\tselect * from t_user where username like "%"#{mohu}"%"\n</select>\n\n\n * å¶ä¸­select * from t_user where username like "%"#{mohu}"%"æ¯æå¸¸ç¨ç\n\n\n# æ¹éå é¤\n\n * åªè½ä½¿ç¨${}ï¼å¦æä½¿ç¨#{}ï¼åè§£æåçsqlè¯­å¥ä¸ºdelete from t_user where id in (\'1,2,3\')ï¼è¿æ ·æ¯å°1,2,3çåæ¯ä¸ä¸ªæ´ä½ï¼åªæidä¸º1,2,3çæ°æ®ä¼è¢«å é¤ãæ­£ç¡®çè¯­å¥åºè¯¥æ¯delete from t_user where id in (1,2,3)ï¼æèdelete from t_user where id in (\'1\',\'2\',\'3\')\n\n/**\n * æ ¹æ®idæ¹éå é¤\n * @param ids \n * @return int\n * @date 2022/2/26 22:06\n */\nint deletemore(@param("ids") string ids);\n\n\n#{}å¨è¿éä¸è½ä½¿ç¨ï¼ä¼æ¥éï¼å ä¸ºä¼æåéè§£æä¸ºæ´ä½å¹¶ç»æ´ä½å ä¸åå¼å·ï¼æ¹éå é¤åªè½éè¿${}è¿è¡å é¤\n<delete id="deletemore">\n\tdelete from t_user where id in (${ids})\n</delete>\n\n\n//æµè¯ç±»\n@test\npublic void deletemore() {\n\tsqlsession sqlsession = sqlsessionutils.getsqlsession();\n\tsqlmapper mapper = sqlsession.getmapper(sqlmapper.class);\n\tint result = mapper.deletemore("1,2,3,8");\n\tsystem.out.println(result);\n}\n\n\n\n# å¨æè®¾ç½®è¡¨å\n\n * åªè½ä½¿ç¨${}ï¼å ä¸ºè¡¨åä¸è½å åå¼å·\n\n/**\n * æ¥è¯¢æå®è¡¨ä¸­çæ°æ®\n * @param tablename \n * @return java.util.list<com.atguigu.mybatis.pojo.user>\n * @date 2022/2/27 14:41\n */\nlist<user> getuserbytable(@param("tablename") string tablename);\n\n\n\x3c!--list<user> getuserbytable(@param("tablename") string tablename);--\x3e\n<select id="getuserbytable" resulttype="user">\n\tselect * from ${tablename}\n</select>\n\n\nä¸è¿°ä¸ä¸ªåªè½ä½¿ç¨${}\n\n\n# æ·»å åè½è·åèªå¢çä¸»é®\n\n * ä½¿ç¨åºæ¯\n   * t_clazz(clazz_id,clazz_name)\n   * t_student(student_id,student_name,clazz_id)\n   1. æ·»å ç­çº§ä¿¡æ¯\n   2. è·åæ°æ·»å çç­çº§çid\n   3. ä¸ºç­çº§åéå­¦çï¼å³å°æå­¦çç­çº§idä¿®æ¹ä¸ºæ°æ·»å çç­çº§çid\n * å¨mapper.xmlä¸­è®¾ç½®ä¸¤ä¸ªå±æ§\n   * usegeneratedkeysï¼è®¾ç½®ä½¿ç¨èªå¢çä¸»é®\n   * keypropertyï¼å ä¸ºå¢å æ¹æç»ä¸çè¿åå¼æ¯åå½±åçè¡æ°ï¼å æ­¤åªè½å°è·åçèªå¢çä¸»é®æ¾å¨ä¼ è¾çåæ°userå¯¹è±¡çæä¸ªå±æ§ä¸­\n\n/**\n * æ·»å ç¨æ·ä¿¡æ¯\n * @param user \n * @date 2022/2/27 15:04\n */\nvoid insertuser(user user);\n\n\n\x3c!--void insertuser(user user);--\x3e\n<insert id="insertuser" usegeneratedkeys="true" keyproperty="id">\n\tinsert into t_user values (null,#{username},#{password},#{age},#{sex},#{email})\n</insert>\n\n\n//æµè¯ç±»\n@test\npublic void insertuser() {\n\tsqlsession sqlsession = sqlsessionutils.getsqlsession();\n\tsqlmapper mapper = sqlsession.getmapper(sqlmapper.class);\n\tuser user = new user(null, "ton", "123", 23, "ç·", "123@321.com");\n\tmapper.insertuser(user);\n\tsystem.out.println(user);\n\t//è¾åºï¼user{id=10, username=\'ton\', password=\'123\', age=23, sex=\'ç·\', email=\'123@321.com\'}ï¼èªå¢ä¸»é®å­æ¾å°äºuserçidå±æ§ä¸­\n}\n',charsets:{cjk:!0}},{title:"èªå®ä¹æ å°resultMap",frontmatter:{title:"èªå®ä¹æ å°resultMap",date:"2022-03-07T00:00:00.000Z",permalink:"/mybatis/004/",categories:["æ¡æ¶","MyBatis"],tags:["MyBatis"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/04.MyBatis/04.%E8%87%AA%E5%AE%9A%E4%B9%89%E6%98%A0%E5%B0%84resultMap.html",relativePath:"07.æ¡æ¶/04.MyBatis/04.èªå®ä¹æ å°resultMap.md",key:"v-2f47d23e",path:"/mybatis/004/",headers:[{level:2,title:"resultMapå¤çå­æ®µåå±æ§çæ å°å³ç³»",slug:"resultmapå¤çå­æ®µåå±æ§çæ å°å³ç³»",normalizedTitle:"resultmapå¤çå­æ®µåå±æ§çæ å°å³ç³»",charIndex:21},{level:2,title:"å¤å¯¹ä¸æ å°å¤ç",slug:"å¤å¯¹ä¸æ å°å¤ç",normalizedTitle:"å¤å¯¹ä¸æ å°å¤ç",charIndex:1330},{level:3,title:"çº§èæ¹å¼å¤çæ å°å³ç³»",slug:"çº§èæ¹å¼å¤çæ å°å³ç³»",normalizedTitle:"çº§èæ¹å¼å¤çæ å°å³ç³»",charIndex:1553},{level:3,title:"ä½¿ç¨associationå¤çæ å°å³ç³»(ç¬¬ä¸ç§)",slug:"ä½¿ç¨associationå¤çæ å°å³ç³»-ç¬¬ä¸ç§",normalizedTitle:"ä½¿ç¨associationå¤çæ å°å³ç³»(ç¬¬ä¸ç§)",charIndex:2203},{level:3,title:"åæ­¥æ¥è¯¢ï¼ç¬¬ä¸ç§ç¨çæå¤ï¼",slug:"åæ­¥æ¥è¯¢-ç¬¬ä¸ç§ç¨çæå¤",normalizedTitle:"åæ­¥æ¥è¯¢ï¼ç¬¬ä¸ç§ç¨çæå¤ï¼",charIndex:2988},{level:4,title:"1. æ¥è¯¢åå·¥ä¿¡æ¯",slug:"_1-æ¥è¯¢åå·¥ä¿¡æ¯",normalizedTitle:"1. æ¥è¯¢åå·¥ä¿¡æ¯",charIndex:3005},{level:4,title:"2. æ¥è¯¢é¨é¨ä¿¡æ¯",slug:"_2-æ¥è¯¢é¨é¨ä¿¡æ¯",normalizedTitle:"2. æ¥è¯¢é¨é¨ä¿¡æ¯",charIndex:3971},{level:2,title:"ä¸å¯¹å¤æ å°å¤ç",slug:"ä¸å¯¹å¤æ å°å¤ç",normalizedTitle:"ä¸å¯¹å¤æ å°å¤ç",charIndex:4589},{level:3,title:"collection",slug:"collection",normalizedTitle:"collection",charIndex:4728},{level:3,title:"åæ­¥æ¥è¯¢",slug:"åæ­¥æ¥è¯¢",normalizedTitle:"åæ­¥æ¥è¯¢",charIndex:2988},{level:4,title:"1. æ¥è¯¢é¨é¨ä¿¡æ¯",slug:"_1-æ¥è¯¢é¨é¨ä¿¡æ¯",normalizedTitle:"1. æ¥è¯¢é¨é¨ä¿¡æ¯",charIndex:5487},{level:4,title:"2. æ ¹æ®é¨é¨idæ¥è¯¢é¨é¨ä¸­çææåå·¥",slug:"_2-æ ¹æ®é¨é¨idæ¥è¯¢é¨é¨ä¸­çææåå·¥",normalizedTitle:"2. æ ¹æ®é¨é¨idæ¥è¯¢é¨é¨ä¸­çææåå·¥",charIndex:6189},{level:2,title:"å»¶è¿å è½½",slug:"å»¶è¿å è½½",normalizedTitle:"å»¶è¿å è½½",charIndex:6606}],headersStr:"resultMapå¤çå­æ®µåå±æ§çæ å°å³ç³» å¤å¯¹ä¸æ å°å¤ç çº§èæ¹å¼å¤çæ å°å³ç³» ä½¿ç¨associationå¤çæ å°å³ç³»(ç¬¬ä¸ç§) åæ­¥æ¥è¯¢ï¼ç¬¬ä¸ç§ç¨çæå¤ï¼ 1. æ¥è¯¢åå·¥ä¿¡æ¯ 2. æ¥è¯¢é¨é¨ä¿¡æ¯ ä¸å¯¹å¤æ å°å¤ç collection åæ­¥æ¥è¯¢ 1. æ¥è¯¢é¨é¨ä¿¡æ¯ 2. æ ¹æ®é¨é¨idæ¥è¯¢é¨é¨ä¸­çææåå·¥ å»¶è¿å è½½",content:'# èªå®ä¹æ å°resultMap\n\n\n# resultMapå¤çå­æ®µåå±æ§çæ å°å³ç³»\n\n * resultMapï¼è®¾ç½®èªå®ä¹æ å°\n   * å±æ§ï¼\n     * idï¼è¡¨ç¤ºèªå®ä¹æ å°çå¯ä¸æ è¯ï¼ä¸è½éå¤\n     * typeï¼æ¥è¯¢çæ°æ®è¦æ å°çå®ä½ç±»çç±»å\n   * å­æ ç­¾ï¼\n     * idï¼è®¾ç½®ä¸»é®çæ å°å³ç³»\n     * resultï¼è®¾ç½®æ®éå­æ®µçæ å°å³ç³»\n     * å­æ ç­¾å±æ§ï¼\n       * propertyï¼è®¾ç½®æ å°å³ç³»ä¸­å®ä½ç±»ä¸­çå±æ§å\n       * columnï¼è®¾ç½®æ å°å³ç³»ä¸­è¡¨ä¸­çå­æ®µå\n * è¥å­æ®µååå®ä½ç±»ä¸­çå±æ§åä¸ä¸è´ï¼åå¯ä»¥éè¿resultMapè®¾ç½®èªå®ä¹æ å°ï¼å³ä½¿å­æ®µååå±æ§åä¸è´çå±æ§ä¹è¦æ å°ï¼ä¹å°±æ¯å¨é¨å±æ§é½è¦ååºæ¥\n\n<resultMap id="empResultMap" type="Emp">\n\t<id property="eid" column="eid"></id>\n\t<result property="empName" column="emp_name"></result>\n\t<result property="age" column="age"></result>\n\t<result property="sex" column="sex"></result>\n\t<result property="email" column="email"></result>\n</resultMap>\n\x3c!--List<Emp> getAllEmp();--\x3e\n<select id="getAllEmp" resultMap="empResultMap">\n\tselect * from t_emp\n</select>\n\n\n * è¥å­æ®µååå®ä½ç±»ä¸­çå±æ§åä¸ä¸è´ï¼ä½æ¯å­æ®µåç¬¦åæ°æ®åºçè§åï¼ä½¿ç¨_ï¼ï¼å®ä½ç±»ä¸­çå±æ§åç¬¦åJavaçè§åï¼ä½¿ç¨é©¼å³°ï¼ãæ­¤æ¶ä¹å¯éè¿ä»¥ä¸ä¸¤ç§æ¹å¼å¤çå­æ®µååå®ä½ç±»ä¸­çå±æ§çæ å°å³ç³»\n   \n   1. å¯ä»¥éè¿ä¸ºå­æ®µèµ·å«åçæ¹å¼ï¼ä¿è¯åå®ä½ç±»ä¸­çå±æ§åä¿æä¸è´\n      \n      \x3c!--List<Emp> getAllEmp();--\x3e\n      <select id="getAllEmp" resultType="Emp">\n      \tselect eid,emp_name empName,age,sex,email from t_emp\n      </select>\n      \n   \n   2. å¯ä»¥å¨MyBatisçæ ¸å¿éç½®æä»¶ä¸­çsettingæ ç­¾ä¸­ï¼è®¾ç½®ä¸ä¸ªå¨å±éç½®ä¿¡æ¯mapUnderscoreToCamelCaseï¼å¯ä»¥å¨æ¥è¯¢è¡¨ä¸­æ°æ®æ¶ï¼èªå¨å°_ç±»åçå­æ®µåè½¬æ¢ä¸ºé©¼å³°ï¼ä¾å¦ï¼å­æ®µåuser_nameï¼è®¾ç½®äºmapUnderscoreToCamelCaseï¼æ­¤æ¶å­æ®µåå°±ä¼è½¬æ¢ä¸ºuserNameãæ ¸å¿éç½®æä»¶è¯¦è§£\n   \n   <settings>\n       <setting name="mapUnderscoreToCamelCase" value="true"/>\n   </settings>\n   \n\n\n# å¤å¯¹ä¸æ å°å¤ç\n\n> æ¥è¯¢åå·¥ä¿¡æ¯ä»¥ååå·¥æå¯¹åºçé¨é¨ä¿¡æ¯\n\npublic class Emp {  \n\tprivate Integer eid;  \n\tprivate String empName;  \n\tprivate Integer age;  \n\tprivate String sex;  \n\tprivate String email;  \n\tprivate Dept dept;\n\t//...æé å¨ãgetãsetæ¹æ³ç­\n}\n\n\n\n# çº§èæ¹å¼å¤çæ å°å³ç³»\n\n<resultMap id="empAndDeptResultMapOne" type="Emp">\n\t<id property="eid" column="eid"></id>\n\t<result property="empName" column="emp_name"></result>\n\t<result property="age" column="age"></result>\n\t<result property="sex" column="sex"></result>\n\t<result property="email" column="email"></result>\n\t<result property="dept.did" column="did"></result>\n\t<result property="dept.deptName" column="dept_name"></result>\n</resultMap>\n\x3c!--Emp getEmpAndDept(@Param("eid")Integer eid);--\x3e\n<select id="getEmpAndDept" resultMap="empAndDeptResultMapOne">\n\tselect * from t_emp left join t_dept on t_emp.eid = t_dept.did where t_emp.eid = #{eid}\n</select>\n\n\n\n# ä½¿ç¨associationå¤çæ å°å³ç³»(ç¬¬ä¸ç§)\n\n * associationï¼å¤çå¤å¯¹ä¸çæ å°å³ç³»\n * propertyï¼éè¦å¤çå¤å¯¹çæ å°å³ç³»çå±æ§å\n * javaTypeï¼è¯¥å±æ§çç±»å\n\n<resultMap id="empAndDeptResultMapTwo" type="Emp">\n\t<id property="eid" column="eid"></id>\n\t<result property="empName" column="emp_name"></result>\n\t<result property="age" column="age"></result>\n\t<result property="sex" column="sex"></result>\n\t<result property="email" column="email"></result>\n\t<association property="dept" javaType="Dept">\n\t\t<id property="did" column="did"></id>\n\t\t<result property="deptName" column="dept_name"></result>\n\t</association>\n</resultMap>\n\x3c!--Emp getEmpAndDept(@Param("eid")Integer eid);--\x3e\n<select id="getEmpAndDept" resultMap="empAndDeptResultMapTwo">\n\tselect * from t_emp left join t_dept on t_emp.eid = t_dept.did where t_emp.eid = #{eid}\n</select>\n\n\n\n# åæ­¥æ¥è¯¢ï¼ç¬¬ä¸ç§ç¨çæå¤ï¼\n\n# 1. æ¥è¯¢åå·¥ä¿¡æ¯\n\n * selectï¼è®¾ç½®åå¸æ¥è¯¢çsqlçå¯ä¸æ è¯ï¼namespace.SQLIdæmapperæ¥å£çå¨ç±»å.æ¹æ³åï¼\n * columnï¼è®¾ç½®åæ­¥æ¥è¯¢çæ¡ä»¶\n\n//EmpMapperéçæ¹æ³\n/**\n * éè¿åæ­¥æ¥è¯¢ï¼åå·¥åæå¯¹åºçé¨é¨ä¿¡æ¯\n * åæ­¥æ¥è¯¢ç¬¬ä¸æ­¥ï¼æ¥è¯¢åå·¥ä¿¡æ¯\n * @param  \n * @return com.atguigu.mybatis.pojo.Emp\n * @date 2022/2/27 20:17\n */\nEmp getEmpAndDeptByStepOne(@Param("eid") Integer eid);\n\n\n<resultMap id="empAndDeptByStepResultMap" type="Emp">\n\t<id property="eid" column="eid"></id>\n\t<result property="empName" column="emp_name"></result>\n\t<result property="age" column="age"></result>\n\t<result property="sex" column="sex"></result>\n\t<result property="email" column="email"></result>\n\t\x3c!-- columnåçæ¯åå¸æ¥è¯¢çæ¡ä»¶ï¼é¨é¨çidï¼ --\x3e\n\t<association property="dept"\n\t\t\t\t select="com.atguigu.mybatis.mapper.DeptMapper.getEmpAndDeptByStepTwo"\n\n\t\t\t\t\n\t\t\t\t column="did"></association>\n</resultMap>\n\x3c!--Emp getEmpAndDeptByStepOne(@Param("eid") Integer eid);--\x3e\n<select id="getEmpAndDeptByStepOne" resultMap="empAndDeptByStepResultMap">\n\tselect * from t_emp where eid = #{eid}\n</select>\n\n\n# 2. æ¥è¯¢é¨é¨ä¿¡æ¯\n\n//DeptMapperéçæ¹æ³\n/**\n * éè¿åæ­¥æ¥è¯¢ï¼åå·¥åæå¯¹åºçé¨é¨ä¿¡æ¯\n * åæ­¥æ¥è¯¢ç¬¬äºæ­¥ï¼éè¿didæ¥è¯¢åå·¥å¯¹åºçé¨é¨ä¿¡æ¯\n * @param\n * @return com.atguigu.mybatis.pojo.Emp\n * @date 2022/2/27 20:23\n */\nDept getEmpAndDeptByStepTwo(@Param("did") Integer did);\n\n\n\x3c!--æ­¤å¤çresultMapä»æ¯å¤çå­æ®µåå±æ§çæ å°å³ç³»--\x3e\n<resultMap id="EmpAndDeptByStepTwoResultMap" type="Dept">\n\t<id property="did" column="did"></id>\n\t<result property="deptName" column="dept_name"></result>\n</resultMap>\n\x3c!--Dept getEmpAndDeptByStepTwo(@Param("did") Integer did);--\x3e\n<select id="getEmpAndDeptByStepTwo" resultMap="EmpAndDeptByStepTwoResultMap">\n\tselect * from t_dept where did = #{did}\n</select>\n\n\n\n# ä¸å¯¹å¤æ å°å¤ç\n\npublic class Dept {\n    private Integer did;\n    private String deptName;\n    private List<Emp> emps;\n\t//...æé å¨ãgetãsetæ¹æ³ç­\n}\n\n\n\n# collection\n\n * collectionï¼ç¨æ¥å¤çä¸å¯¹å¤çæ å°å³ç³»\n * ofTypeï¼è¡¨ç¤ºè¯¥å±æ§å¯¹åºçéåä¸­å­å¨çæ°æ®çç±»å\n\n<resultMap id="DeptAndEmpResultMap" type="Dept">\n\t<id property="did" column="did"></id>\n\t<result property="deptName" column="dept_name"></result>\n\t<collection property="emps" ofType="Emp">\n\t\t<id property="eid" column="eid"></id>\n\t\t<result property="empName" column="emp_name"></result>\n\t\t<result property="age" column="age"></result>\n\t\t<result property="sex" column="sex"></result>\n\t\t<result property="email" column="email"></result>\n\t</collection>\n</resultMap>\n\x3c!--Dept getDeptAndEmp(@Param("did") Integer did);--\x3e\n<select id="getDeptAndEmp" resultMap="DeptAndEmpResultMap">\n\tselect * from t_dept left join t_emp on t_dept.did = t_emp.did where t_dept.did = #{did}\n</select>\n\n\n\n# åæ­¥æ¥è¯¢\n\n# 1. æ¥è¯¢é¨é¨ä¿¡æ¯\n\n/**\n * éè¿åæ­¥æ¥è¯¢ï¼æ¥è¯¢é¨é¨åå¯¹åºçææåå·¥ä¿¡æ¯\n * åæ­¥æ¥è¯¢ç¬¬ä¸æ­¥ï¼æ¥è¯¢é¨é¨ä¿¡æ¯\n * @param did \n * @return com.atguigu.mybatis.pojo.Dept\n * @date 2022/2/27 22:04\n */\nDept getDeptAndEmpByStepOne(@Param("did") Integer did);\n\n\n<resultMap id="DeptAndEmpByStepOneResultMap" type="Dept">\n\t<id property="did" column="did"></id>\n\t<result property="deptName" column="dept_name"></result>\n\t<collection property="emps"\n\t\t\t\tselect="com.atguigu.mybatis.mapper.EmpMapper.getDeptAndEmpByStepTwo"\n\t\t\t\tcolumn="did"></collection>\n</resultMap>\n\x3c!--Dept getDeptAndEmpByStepOne(@Param("did") Integer did);--\x3e\n<select id="getDeptAndEmpByStepOne" resultMap="DeptAndEmpByStepOneResultMap">\n\tselect * from t_dept where did = #{did}\n</select>\n\n\n\n\n\n\n# 2. æ ¹æ®é¨é¨idæ¥è¯¢é¨é¨ä¸­çææåå·¥\n\n/**\n * éè¿åæ­¥æ¥è¯¢ï¼æ¥è¯¢é¨é¨åå¯¹åºçææåå·¥ä¿¡æ¯\n * åæ­¥æ¥è¯¢ç¬¬äºæ­¥ï¼æ ¹æ®é¨é¨idæ¥è¯¢é¨é¨ä¸­çææåå·¥\n * @param did\n * @return java.util.List<com.atguigu.mybatis.pojo.Emp>\n * @date 2022/2/27 22:10\n */\nList<Emp> getDeptAndEmpByStepTwo(@Param("did") Integer did);\n\n\n\x3c!--List<Emp> getDeptAndEmpByStepTwo(@Param("did") Integer did);--\x3e\n<select id="getDeptAndEmpByStepTwo" resultType="Emp">\n\tselect * from t_emp where did = #{did}\n</select>\n\n\n\n# å»¶è¿å è½½\n\n * åæ­¥æ¥è¯¢çä¼ç¹ï¼å¯ä»¥å®ç°å»¶è¿å è½½ï¼ä½æ¯å¿é¡»å¨æ ¸å¿éç½®æä»¶ä¸­è®¾ç½®å¨å±éç½®ä¿¡æ¯ï¼\n   * lazyLoadingEnabledï¼å»¶è¿å è½½çå¨å±å¼å³ãå½å¼å¯æ¶ï¼ææå³èå¯¹è±¡ï¼åå¸æ¥è¯¢çç¬¬äºæ­¥ãç¬¬ä¸æ­¥ãããããï¼é½ä¼å»¶è¿å è½½\n   * aggressiveLazyLoadingï¼å½å¼å¯æ¶ï¼ä»»ä½æ¹æ³çè°ç¨é½ä¼å è½½è¯¥å¯¹è±¡çææå±æ§ã å¦åï¼æ¯ä¸ªå±æ§ä¼æéå è½½\n * æ­¤æ¶å°±å¯ä»¥å®ç°æéå è½½ï¼è·åçæ°æ®æ¯ä»ä¹ï¼å°±åªä¼æ§è¡ç¸åºçsqlã\n * æ­¤æ¶å¯éè¿associationåcollectionä¸­çfetchTypeå±æ§è®¾ç½®å½åçåæ­¥æ¥è¯¢æ¯å¦ä½¿ç¨å»¶è¿å è½½ï¼fetchType="lazy(å»¶è¿å è½½)|eager(ç«å³å è½½)"\n * aggressiveLazyLoadingè®¾ç½®ä¸ºtrueålazyLoadingEnabledå¤±æ\n\n<settings>\n\t\x3c!--å¼å¯å»¶è¿å è½½--\x3e\n\t<setting name="lazyLoadingEnabled" value="true"/>\n</settings>\n\n\n@Test\npublic void getEmpAndDeptByStepOne() {\n\tSqlSession sqlSession = SqlSessionUtils.getSqlSession();\n\tEmpMapper mapper = sqlSession.getMapper(EmpMapper.class);\n\tEmp emp = mapper.getEmpAndDeptByStepOne(1);\n\tSystem.out.println(emp.getEmpName());\n}\n\n\n * å³é­å»¶è¿å è½½ï¼ä¸¤æ¡SQLè¯­å¥é½è¿è¡äº\n * å¼å¯å»¶è¿å è½½ï¼åªè¿è¡è·åempçSQLè¯­å¥\n\n@Test\npublic void getEmpAndDeptByStepOne() {\n\tSqlSession sqlSession = SqlSessionUtils.getSqlSession();\n\tEmpMapper mapper = sqlSession.getMapper(EmpMapper.class);\n\tEmp emp = mapper.getEmpAndDeptByStepOne(1);\n\tSystem.out.println(emp.getEmpName());\n\tSystem.out.println("----------------");\n\tSystem.out.println(emp.getDept());\n}\n\n\n * å¼å¯åï¼éè¦ç¨å°æ¥è¯¢deptçæ¶åæä¼è°ç¨ç¸åºçSQLè¯­å¥\n\n * fetchTypeï¼å½å¼å¯äºå¨å±çå»¶è¿å è½½ä¹åï¼å¯ä»¥éè¿è¯¥å±æ§æå¨æ§å¶å»¶è¿å è½½çææï¼fetchType="lazy(å»¶è¿å è½½)|eager(ç«å³å è½½)"\n   \n   <resultMap id="empAndDeptByStepResultMap" type="Emp">\n   \t<id property="eid" column="eid"></id>\n   \t<result property="empName" column="emp_name"></result>\n   \t<result property="age" column="age"></result>\n   \t<result property="sex" column="sex"></result>\n   \t<result property="email" column="email"></result>\n   \t<association property="dept"\n   \t\t\t\t select="com.atguigu.mybatis.mapper.DeptMapper.getEmpAndDeptByStepTwo"\n   \t\t\t\t column="did"\n   \t\t\t\t fetchType="lazy"></association>\n   </resultMap>\n   ',normalizedContent:'# èªå®ä¹æ å°resultmap\n\n\n# resultmapå¤çå­æ®µåå±æ§çæ å°å³ç³»\n\n * resultmapï¼è®¾ç½®èªå®ä¹æ å°\n   * å±æ§ï¼\n     * idï¼è¡¨ç¤ºèªå®ä¹æ å°çå¯ä¸æ è¯ï¼ä¸è½éå¤\n     * typeï¼æ¥è¯¢çæ°æ®è¦æ å°çå®ä½ç±»çç±»å\n   * å­æ ç­¾ï¼\n     * idï¼è®¾ç½®ä¸»é®çæ å°å³ç³»\n     * resultï¼è®¾ç½®æ®éå­æ®µçæ å°å³ç³»\n     * å­æ ç­¾å±æ§ï¼\n       * propertyï¼è®¾ç½®æ å°å³ç³»ä¸­å®ä½ç±»ä¸­çå±æ§å\n       * columnï¼è®¾ç½®æ å°å³ç³»ä¸­è¡¨ä¸­çå­æ®µå\n * è¥å­æ®µååå®ä½ç±»ä¸­çå±æ§åä¸ä¸è´ï¼åå¯ä»¥éè¿resultmapè®¾ç½®èªå®ä¹æ å°ï¼å³ä½¿å­æ®µååå±æ§åä¸è´çå±æ§ä¹è¦æ å°ï¼ä¹å°±æ¯å¨é¨å±æ§é½è¦ååºæ¥\n\n<resultmap id="empresultmap" type="emp">\n\t<id property="eid" column="eid"></id>\n\t<result property="empname" column="emp_name"></result>\n\t<result property="age" column="age"></result>\n\t<result property="sex" column="sex"></result>\n\t<result property="email" column="email"></result>\n</resultmap>\n\x3c!--list<emp> getallemp();--\x3e\n<select id="getallemp" resultmap="empresultmap">\n\tselect * from t_emp\n</select>\n\n\n * è¥å­æ®µååå®ä½ç±»ä¸­çå±æ§åä¸ä¸è´ï¼ä½æ¯å­æ®µåç¬¦åæ°æ®åºçè§åï¼ä½¿ç¨_ï¼ï¼å®ä½ç±»ä¸­çå±æ§åç¬¦åjavaçè§åï¼ä½¿ç¨é©¼å³°ï¼ãæ­¤æ¶ä¹å¯éè¿ä»¥ä¸ä¸¤ç§æ¹å¼å¤çå­æ®µååå®ä½ç±»ä¸­çå±æ§çæ å°å³ç³»\n   \n   1. å¯ä»¥éè¿ä¸ºå­æ®µèµ·å«åçæ¹å¼ï¼ä¿è¯åå®ä½ç±»ä¸­çå±æ§åä¿æä¸è´\n      \n      \x3c!--list<emp> getallemp();--\x3e\n      <select id="getallemp" resulttype="emp">\n      \tselect eid,emp_name empname,age,sex,email from t_emp\n      </select>\n      \n   \n   2. å¯ä»¥å¨mybatisçæ ¸å¿éç½®æä»¶ä¸­çsettingæ ç­¾ä¸­ï¼è®¾ç½®ä¸ä¸ªå¨å±éç½®ä¿¡æ¯mapunderscoretocamelcaseï¼å¯ä»¥å¨æ¥è¯¢è¡¨ä¸­æ°æ®æ¶ï¼èªå¨å°_ç±»åçå­æ®µåè½¬æ¢ä¸ºé©¼å³°ï¼ä¾å¦ï¼å­æ®µåuser_nameï¼è®¾ç½®äºmapunderscoretocamelcaseï¼æ­¤æ¶å­æ®µåå°±ä¼è½¬æ¢ä¸ºusernameãæ ¸å¿éç½®æä»¶è¯¦è§£\n   \n   <settings>\n       <setting name="mapunderscoretocamelcase" value="true"/>\n   </settings>\n   \n\n\n# å¤å¯¹ä¸æ å°å¤ç\n\n> æ¥è¯¢åå·¥ä¿¡æ¯ä»¥ååå·¥æå¯¹åºçé¨é¨ä¿¡æ¯\n\npublic class emp {  \n\tprivate integer eid;  \n\tprivate string empname;  \n\tprivate integer age;  \n\tprivate string sex;  \n\tprivate string email;  \n\tprivate dept dept;\n\t//...æé å¨ãgetãsetæ¹æ³ç­\n}\n\n\n\n# çº§èæ¹å¼å¤çæ å°å³ç³»\n\n<resultmap id="empanddeptresultmapone" type="emp">\n\t<id property="eid" column="eid"></id>\n\t<result property="empname" column="emp_name"></result>\n\t<result property="age" column="age"></result>\n\t<result property="sex" column="sex"></result>\n\t<result property="email" column="email"></result>\n\t<result property="dept.did" column="did"></result>\n\t<result property="dept.deptname" column="dept_name"></result>\n</resultmap>\n\x3c!--emp getempanddept(@param("eid")integer eid);--\x3e\n<select id="getempanddept" resultmap="empanddeptresultmapone">\n\tselect * from t_emp left join t_dept on t_emp.eid = t_dept.did where t_emp.eid = #{eid}\n</select>\n\n\n\n# ä½¿ç¨associationå¤çæ å°å³ç³»(ç¬¬ä¸ç§)\n\n * associationï¼å¤çå¤å¯¹ä¸çæ å°å³ç³»\n * propertyï¼éè¦å¤çå¤å¯¹çæ å°å³ç³»çå±æ§å\n * javatypeï¼è¯¥å±æ§çç±»å\n\n<resultmap id="empanddeptresultmaptwo" type="emp">\n\t<id property="eid" column="eid"></id>\n\t<result property="empname" column="emp_name"></result>\n\t<result property="age" column="age"></result>\n\t<result property="sex" column="sex"></result>\n\t<result property="email" column="email"></result>\n\t<association property="dept" javatype="dept">\n\t\t<id property="did" column="did"></id>\n\t\t<result property="deptname" column="dept_name"></result>\n\t</association>\n</resultmap>\n\x3c!--emp getempanddept(@param("eid")integer eid);--\x3e\n<select id="getempanddept" resultmap="empanddeptresultmaptwo">\n\tselect * from t_emp left join t_dept on t_emp.eid = t_dept.did where t_emp.eid = #{eid}\n</select>\n\n\n\n# åæ­¥æ¥è¯¢ï¼ç¬¬ä¸ç§ç¨çæå¤ï¼\n\n# 1. æ¥è¯¢åå·¥ä¿¡æ¯\n\n * selectï¼è®¾ç½®åå¸æ¥è¯¢çsqlçå¯ä¸æ è¯ï¼namespace.sqlidæmapperæ¥å£çå¨ç±»å.æ¹æ³åï¼\n * columnï¼è®¾ç½®åæ­¥æ¥è¯¢çæ¡ä»¶\n\n//empmapperéçæ¹æ³\n/**\n * éè¿åæ­¥æ¥è¯¢ï¼åå·¥åæå¯¹åºçé¨é¨ä¿¡æ¯\n * åæ­¥æ¥è¯¢ç¬¬ä¸æ­¥ï¼æ¥è¯¢åå·¥ä¿¡æ¯\n * @param  \n * @return com.atguigu.mybatis.pojo.emp\n * @date 2022/2/27 20:17\n */\nemp getempanddeptbystepone(@param("eid") integer eid);\n\n\n<resultmap id="empanddeptbystepresultmap" type="emp">\n\t<id property="eid" column="eid"></id>\n\t<result property="empname" column="emp_name"></result>\n\t<result property="age" column="age"></result>\n\t<result property="sex" column="sex"></result>\n\t<result property="email" column="email"></result>\n\t\x3c!-- columnåçæ¯åå¸æ¥è¯¢çæ¡ä»¶ï¼é¨é¨çidï¼ --\x3e\n\t<association property="dept"\n\t\t\t\t select="com.atguigu.mybatis.mapper.deptmapper.getempanddeptbysteptwo"\n\n\t\t\t\t\n\t\t\t\t column="did"></association>\n</resultmap>\n\x3c!--emp getempanddeptbystepone(@param("eid") integer eid);--\x3e\n<select id="getempanddeptbystepone" resultmap="empanddeptbystepresultmap">\n\tselect * from t_emp where eid = #{eid}\n</select>\n\n\n# 2. æ¥è¯¢é¨é¨ä¿¡æ¯\n\n//deptmapperéçæ¹æ³\n/**\n * éè¿åæ­¥æ¥è¯¢ï¼åå·¥åæå¯¹åºçé¨é¨ä¿¡æ¯\n * åæ­¥æ¥è¯¢ç¬¬äºæ­¥ï¼éè¿didæ¥è¯¢åå·¥å¯¹åºçé¨é¨ä¿¡æ¯\n * @param\n * @return com.atguigu.mybatis.pojo.emp\n * @date 2022/2/27 20:23\n */\ndept getempanddeptbysteptwo(@param("did") integer did);\n\n\n\x3c!--æ­¤å¤çresultmapä»æ¯å¤çå­æ®µåå±æ§çæ å°å³ç³»--\x3e\n<resultmap id="empanddeptbysteptworesultmap" type="dept">\n\t<id property="did" column="did"></id>\n\t<result property="deptname" column="dept_name"></result>\n</resultmap>\n\x3c!--dept getempanddeptbysteptwo(@param("did") integer did);--\x3e\n<select id="getempanddeptbysteptwo" resultmap="empanddeptbysteptworesultmap">\n\tselect * from t_dept where did = #{did}\n</select>\n\n\n\n# ä¸å¯¹å¤æ å°å¤ç\n\npublic class dept {\n    private integer did;\n    private string deptname;\n    private list<emp> emps;\n\t//...æé å¨ãgetãsetæ¹æ³ç­\n}\n\n\n\n# collection\n\n * collectionï¼ç¨æ¥å¤çä¸å¯¹å¤çæ å°å³ç³»\n * oftypeï¼è¡¨ç¤ºè¯¥å±æ§å¯¹åºçéåä¸­å­å¨çæ°æ®çç±»å\n\n<resultmap id="deptandempresultmap" type="dept">\n\t<id property="did" column="did"></id>\n\t<result property="deptname" column="dept_name"></result>\n\t<collection property="emps" oftype="emp">\n\t\t<id property="eid" column="eid"></id>\n\t\t<result property="empname" column="emp_name"></result>\n\t\t<result property="age" column="age"></result>\n\t\t<result property="sex" column="sex"></result>\n\t\t<result property="email" column="email"></result>\n\t</collection>\n</resultmap>\n\x3c!--dept getdeptandemp(@param("did") integer did);--\x3e\n<select id="getdeptandemp" resultmap="deptandempresultmap">\n\tselect * from t_dept left join t_emp on t_dept.did = t_emp.did where t_dept.did = #{did}\n</select>\n\n\n\n# åæ­¥æ¥è¯¢\n\n# 1. æ¥è¯¢é¨é¨ä¿¡æ¯\n\n/**\n * éè¿åæ­¥æ¥è¯¢ï¼æ¥è¯¢é¨é¨åå¯¹åºçææåå·¥ä¿¡æ¯\n * åæ­¥æ¥è¯¢ç¬¬ä¸æ­¥ï¼æ¥è¯¢é¨é¨ä¿¡æ¯\n * @param did \n * @return com.atguigu.mybatis.pojo.dept\n * @date 2022/2/27 22:04\n */\ndept getdeptandempbystepone(@param("did") integer did);\n\n\n<resultmap id="deptandempbysteponeresultmap" type="dept">\n\t<id property="did" column="did"></id>\n\t<result property="deptname" column="dept_name"></result>\n\t<collection property="emps"\n\t\t\t\tselect="com.atguigu.mybatis.mapper.empmapper.getdeptandempbysteptwo"\n\t\t\t\tcolumn="did"></collection>\n</resultmap>\n\x3c!--dept getdeptandempbystepone(@param("did") integer did);--\x3e\n<select id="getdeptandempbystepone" resultmap="deptandempbysteponeresultmap">\n\tselect * from t_dept where did = #{did}\n</select>\n\n\n\n\n\n\n# 2. æ ¹æ®é¨é¨idæ¥è¯¢é¨é¨ä¸­çææåå·¥\n\n/**\n * éè¿åæ­¥æ¥è¯¢ï¼æ¥è¯¢é¨é¨åå¯¹åºçææåå·¥ä¿¡æ¯\n * åæ­¥æ¥è¯¢ç¬¬äºæ­¥ï¼æ ¹æ®é¨é¨idæ¥è¯¢é¨é¨ä¸­çææåå·¥\n * @param did\n * @return java.util.list<com.atguigu.mybatis.pojo.emp>\n * @date 2022/2/27 22:10\n */\nlist<emp> getdeptandempbysteptwo(@param("did") integer did);\n\n\n\x3c!--list<emp> getdeptandempbysteptwo(@param("did") integer did);--\x3e\n<select id="getdeptandempbysteptwo" resulttype="emp">\n\tselect * from t_emp where did = #{did}\n</select>\n\n\n\n# å»¶è¿å è½½\n\n * åæ­¥æ¥è¯¢çä¼ç¹ï¼å¯ä»¥å®ç°å»¶è¿å è½½ï¼ä½æ¯å¿é¡»å¨æ ¸å¿éç½®æä»¶ä¸­è®¾ç½®å¨å±éç½®ä¿¡æ¯ï¼\n   * lazyloadingenabledï¼å»¶è¿å è½½çå¨å±å¼å³ãå½å¼å¯æ¶ï¼ææå³èå¯¹è±¡ï¼åå¸æ¥è¯¢çç¬¬äºæ­¥ãç¬¬ä¸æ­¥ãããããï¼é½ä¼å»¶è¿å è½½\n   * aggressivelazyloadingï¼å½å¼å¯æ¶ï¼ä»»ä½æ¹æ³çè°ç¨é½ä¼å è½½è¯¥å¯¹è±¡çææå±æ§ã å¦åï¼æ¯ä¸ªå±æ§ä¼æéå è½½\n * æ­¤æ¶å°±å¯ä»¥å®ç°æéå è½½ï¼è·åçæ°æ®æ¯ä»ä¹ï¼å°±åªä¼æ§è¡ç¸åºçsqlã\n * æ­¤æ¶å¯éè¿associationåcollectionä¸­çfetchtypeå±æ§è®¾ç½®å½åçåæ­¥æ¥è¯¢æ¯å¦ä½¿ç¨å»¶è¿å è½½ï¼fetchtype="lazy(å»¶è¿å è½½)|eager(ç«å³å è½½)"\n * aggressivelazyloadingè®¾ç½®ä¸ºtrueålazyloadingenabledå¤±æ\n\n<settings>\n\t\x3c!--å¼å¯å»¶è¿å è½½--\x3e\n\t<setting name="lazyloadingenabled" value="true"/>\n</settings>\n\n\n@test\npublic void getempanddeptbystepone() {\n\tsqlsession sqlsession = sqlsessionutils.getsqlsession();\n\tempmapper mapper = sqlsession.getmapper(empmapper.class);\n\temp emp = mapper.getempanddeptbystepone(1);\n\tsystem.out.println(emp.getempname());\n}\n\n\n * å³é­å»¶è¿å è½½ï¼ä¸¤æ¡sqlè¯­å¥é½è¿è¡äº\n * å¼å¯å»¶è¿å è½½ï¼åªè¿è¡è·åempçsqlè¯­å¥\n\n@test\npublic void getempanddeptbystepone() {\n\tsqlsession sqlsession = sqlsessionutils.getsqlsession();\n\tempmapper mapper = sqlsession.getmapper(empmapper.class);\n\temp emp = mapper.getempanddeptbystepone(1);\n\tsystem.out.println(emp.getempname());\n\tsystem.out.println("----------------");\n\tsystem.out.println(emp.getdept());\n}\n\n\n * å¼å¯åï¼éè¦ç¨å°æ¥è¯¢deptçæ¶åæä¼è°ç¨ç¸åºçsqlè¯­å¥\n\n * fetchtypeï¼å½å¼å¯äºå¨å±çå»¶è¿å è½½ä¹åï¼å¯ä»¥éè¿è¯¥å±æ§æå¨æ§å¶å»¶è¿å è½½çææï¼fetchtype="lazy(å»¶è¿å è½½)|eager(ç«å³å è½½)"\n   \n   <resultmap id="empanddeptbystepresultmap" type="emp">\n   \t<id property="eid" column="eid"></id>\n   \t<result property="empname" column="emp_name"></result>\n   \t<result property="age" column="age"></result>\n   \t<result property="sex" column="sex"></result>\n   \t<result property="email" column="email"></result>\n   \t<association property="dept"\n   \t\t\t\t select="com.atguigu.mybatis.mapper.deptmapper.getempanddeptbysteptwo"\n   \t\t\t\t column="did"\n   \t\t\t\t fetchtype="lazy"></association>\n   </resultmap>\n   ',charsets:{cjk:!0}},{title:"å¨æSQL",frontmatter:{title:"å¨æSQL",date:"2022-03-10T00:00:00.000Z",permalink:"/mybatis/005/",categories:["æ¡æ¶","MyBatis"],tags:["MyBatis"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/04.MyBatis/05.%E5%8A%A8%E6%80%81SQL.html",relativePath:"07.æ¡æ¶/04.MyBatis/05.å¨æSQL.md",key:"v-4cee0db7",path:"/mybatis/005/",headers:[{level:2,title:"if",slug:"if",normalizedTitle:"if",charIndex:83},{level:2,title:"where",slug:"where",normalizedTitle:"where",charIndex:163},{level:2,title:"trim",slug:"trim",normalizedTitle:"trim",charIndex:1737},{level:2,title:"chooseãwhenãotherwise",slug:"chooseãwhenãotherwise",normalizedTitle:"chooseãwhenãotherwise",charIndex:2755},{level:2,title:"foreach",slug:"foreach",normalizedTitle:"foreach",charIndex:3704},{level:2,title:"SQLçæ®µ",slug:"sqlçæ®µ",normalizedTitle:"sqlçæ®µ",charIndex:5566}],headersStr:"if where trim chooseãwhenãotherwise foreach SQLçæ®µ",content:'# å¨æSQL\n\n * Mybatisæ¡æ¶çå¨æSQLææ¯æ¯ä¸ç§æ ¹æ®ç¹å®æ¡ä»¶å¨ææ¼è£SQLè¯­å¥çåè½ï¼å®å­å¨çæä¹æ¯ä¸ºäºè§£å³æ¼æ¥SQLè¯­å¥å­ç¬¦ä¸²æ¶ççç¹é®é¢\n\n\n# if\n\n * ifæ ç­¾å¯éè¿testå±æ§ï¼å³ä¼ éè¿æ¥çæ°æ®ï¼çè¡¨è¾¾å¼è¿è¡å¤æ­ï¼è¥è¡¨è¾¾å¼çç»æä¸ºtrueï¼åæ ç­¾ä¸­çåå®¹ä¼æ§è¡ï¼åä¹æ ç­¾ä¸­çåå®¹ä¸ä¼æ§è¡\n * å¨whereåé¢æ·»å ä¸ä¸ªææç«æ¡ä»¶1=1\n   * è¿ä¸ªææç«æ¡ä»¶å¹¶ä¸ä¼å½±åæ¥è¯¢çç»æ\n   * è¿ä¸ª1=1å¯ä»¥ç¨æ¥æ¼æ¥andè¯­å¥ï¼ä¾å¦ï¼å½empNameä¸ºnullæ¶\n     * å¦æä¸å ä¸ææç«æ¡ä»¶ï¼åSQLè¯­å¥ä¸ºselect * from t_emp where and age = ? and sex = ? and email = ?ï¼æ­¤æ¶whereä¼ä¸andè¿ç¨ï¼SQLè¯­å¥ä¼æ¥é\n     * å¦æå ä¸ä¸ä¸ªææç«æ¡ä»¶ï¼åSQLè¯­å¥ä¸ºselect * from t_emp where 1= 1 and age = ? and sex = ? and email = ?ï¼æ­¤æ¶ä¸æ¥é\n\n\x3c!--List<Emp> getEmpByCondition(Emp emp);--\x3e\n\x3c!-- testä¸­ç´æ¥ä½¿ç¨å±æ§åå°±å¯ä»¥ï¼ä¸ç¨åæ"Emp.å±æ§å" --\x3e\n<select id="getEmpByCondition" resultType="Emp">\n\tselect * from t_emp where 1=1 \n\t<if test="empName != null and empName !=\'\'">\n\t\tand emp_name = #{empName}\n\t</if>\n\t<if test="age != null and age !=\'\'">\n\t\tand age = #{age}\n\t</if>\n\t<if test="sex != null and sex !=\'\'">\n\t\tand sex = #{sex}\n\t</if>\n\t<if test="email != null and email !=\'\'">\n\t\tand email = #{email}\n\t</if>\n</select>\n\n\n\n# where\n\n * whereåifä¸è¬ç»åä½¿ç¨ï¼\n   * è¥whereæ ç­¾ä¸­çifæ¡ä»¶é½ä¸æ»¡è¶³ï¼åwhereæ ç­¾æ²¡æä»»ä½åè½ï¼å³ä¸ä¼æ·»å whereå³é®å­\n   * è¥whereæ ç­¾ä¸­çifæ¡ä»¶æ»¡è¶³ï¼åwhereæ ç­¾ä¼èªå¨æ·»å whereå³é®å­ï¼å¹¶å°æ¡ä»¶æåæ¹å¤ä½çand/orå»æ\n\n\x3c!--List<Emp> getEmpByCondition(Emp emp);--\x3e\n<select id="getEmpByCondition" resultType="Emp">\n\tselect * from t_emp\n\t<where>\n\t\t<if test="empName != null and empName !=\'\'">\n\t\t\temp_name = #{empName}\n\t\t</if>\n\t\t<if test="age != null and age !=\'\'">\n\t\t\tand age = #{age}\n\t\t</if>\n\t\t<if test="sex != null and sex !=\'\'">\n\t\t\tand sex = #{sex}\n\t\t</if>\n\t\t<if test="email != null and email !=\'\'">\n\t\t\tand email = #{email}\n\t\t</if>\n\t</where>\n</select>\n\n\n * æ³¨æï¼whereæ ç­¾ä¸è½å»ææ¡ä»¶åå¤ä½çand/or\n   \n   \x3c!--è¿ç§ç¨æ³æ¯éè¯¯çï¼åªè½å»ææ¡ä»¶åé¢çand/orï¼æ¡ä»¶åé¢çä¸è¡--\x3e\n   <if test="empName != null and empName !=\'\'">\n   emp_name = #{empName} and\n   </if>\n   <if test="age != null and age !=\'\'">\n   \tage = #{age}\n   </if>\n   \n\n\n# trim\n\n * trimç¨äºå»æææ·»å æ ç­¾ä¸­çåå®¹\n * å¸¸ç¨å±æ§\n   * prefixï¼å¨trimæ ç­¾ä¸­çåå®¹çåé¢æ·»å æäºåå®¹\n   * suffixï¼å¨trimæ ç­¾ä¸­çåå®¹çåé¢æ·»å æäºåå®¹\n   * prefixOverridesï¼å¨trimæ ç­¾ä¸­çåå®¹çåé¢å»ææäºåå®¹\n   * suffixOverridesï¼å¨trimæ ç­¾ä¸­çåå®¹çåé¢å»ææäºåå®¹\n * è¥trimä¸­çæ ç­¾é½ä¸æ»¡è¶³æ¡ä»¶ï¼åtrimæ ç­¾æ²¡æä»»ä½ææï¼ä¹å°±æ¯åªå©ä¸select * from t_emp\n\n\x3c!--List<Emp> getEmpByCondition(Emp emp);--\x3e\n<select id="getEmpByCondition" resultType="Emp">\n\tselect * from t_emp\n\t<trim prefix="where" suffixOverrides="and|or">\n\t\t<if test="empName != null and empName !=\'\'">\n\t\t\temp_name = #{empName} and\n\t\t</if>\n\t\t<if test="age != null and age !=\'\'">\n\t\t\tage = #{age} and\n\t\t</if>\n\t\t<if test="sex != null and sex !=\'\'">\n\t\t\tsex = #{sex} or\n\t\t</if>\n\t\t<if test="email != null and email !=\'\'">\n\t\t\temail = #{email}\n\t\t</if>\n\t</trim>\n</select>\n\n\n//æµè¯ç±»\n@Test\npublic void getEmpByCondition() {\n\tSqlSession sqlSession = SqlSessionUtils.getSqlSession();\n\tDynamicSQLMapper mapper = sqlSession.getMapper(DynamicSQLMapper.class);\n\tList<Emp> emps= mapper.getEmpByCondition(new Emp(null, "å¼ ä¸", null, null, null, null));\n\tSystem.out.println(emps);\n}\n\n\n\n\n\n# chooseãwhenãotherwise\n\n * chooseãwhenãotherwiseç¸å½äºif...else if..elseï¼éæ©ç»æå¿ç¶åªè½æä¸ä¸ªæ¡ä»¶è¿è¡æ§è¡ï¼å æ­¤æ²¡æor|and ä¸è¯´ï¼\n * whenè³å°è¦æä¸ä¸ªï¼otherwiseè³å¤åªæä¸ä¸ª\n\n<select id="getEmpByChoose" resultType="Emp">\n\tselect * from t_emp\n\t<where>\n\t\t<choose>\n\t\t\t<when test="empName != null and empName != \'\'">\n\t\t\t\temp_name = #{empName}\n\t\t\t</when>\n\t\t\t<when test="age != null and age != \'\'">\n\t\t\t\tage = #{age}\n\t\t\t</when>\n\t\t\t<when test="sex != null and sex != \'\'">\n\t\t\t\tsex = #{sex}\n\t\t\t</when>\n\t\t\t<when test="email != null and email != \'\'">\n\t\t\t\temail = #{email}\n\t\t\t</when>\n\t\t\t<otherwise>\n\t\t\t\tdid = 1\n\t\t\t</otherwise>\n\t\t</choose>\n\t</where>\n</select>\n\n\n@Test\npublic void getEmpByChoose() {\n\tSqlSession sqlSession = SqlSessionUtils.getSqlSession();\n\tDynamicSQLMapper mapper = sqlSession.getMapper(DynamicSQLMapper.class);\n\tList<Emp> emps = mapper.getEmpByChoose(new Emp(null, "å¼ ä¸", 23, "ç·", "123@qq.com", null));\n\tSystem.out.println(emps);\n}\n\n\n\n\n * ç¸å½äºif a else if b else if c else dï¼åªä¼æ§è¡å¶ä¸­ä¸ä¸ª\n\n\n# foreach\n\nParamå°åºæ¯ææ¬å·éé¢çåéç»å®å°å½¢åè¿æ¯æå½¢åç»å®å°æ¬å·éé¢ç çï¼ï¼è¿ééè¦ææ¸æ¥ï¼æè§åæ¯æå½¢åç»å®å°paramå¯¹åºåéä¸é¢ï¼åé¢çç¨åºä½¿ç¨paramåé\n\n * å±æ§ï¼\n   \n   * collectionï¼è®¾ç½®è¦å¾ªç¯çæ°ç»æéå\n   * itemï¼è¡¨ç¤ºéåææ°ç»ä¸­çæ¯ä¸ä¸ªæ°æ®\n   * separatorï¼è®¾ç½®å¾ªç¯ä½ä¹é´çåéç¬¦ï¼åéç¬¦ååé»è®¤æä¸ä¸ªç©ºæ ¼ï¼å¦,\n   * openï¼è®¾ç½®foreachæ ç­¾ä¸­çåå®¹çå¼å§ç¬¦\n   * closeï¼è®¾ç½®foreachæ ç­¾ä¸­çåå®¹çç»æç¬¦\n\n * æ¹éå é¤\n   \n   \x3c!--int deleteMoreByArray(Integer[] eids);--\x3e\n   \n   \x3c!--int deleteMoreByArray(@Param("eids") Integer[] eids);--\x3e\n   <delete id="deleteMoreByArray">\n   \tdelete from t_emp where eid in\n   \t<foreach collection="eids" item="eid" separator="," open="(" close=")">\n   \t\t#{eid}\n   \t</foreach>\n   \t\x3c!-- è¿éçforeachè¯­å¥ç¸å½äºçæäºä¸ä¸ªï¼6, 7, 8, 9ï¼è¿æ ·çæ ¼å¼ --\x3e  \n   </delete>\n   \n   \n   @Test\n   public void deleteMoreByArray() {\n   \tSqlSession sqlSession = SqlSessionUtils.getSqlSession();\n   \tDynamicSQLMapper mapper = sqlSession.getMapper(DynamicSQLMapper.class);\n   \tint result = mapper.deleteMoreByArray(new Integer[]{6, 7, 8, 9});\n   \tSystem.out.println(result);\n   }\n   \n   \n   \n   \n   è¿éè¿æå¦å¤åæ³, orååä¼èªå¨æ·»å ç©ºæ ¼\n\n * æ¹éæ·»å \n   \n   \x3c!--int insertMoreByList(@Param("emps") List<Emp> emps);--\x3e\n   <insert id="insertMoreByList">\n   \tinsert into t_emp values\n   \t<foreach collection="emps" item="emp" separator=",">\n   \t\t(null,#{emp.empName},#{emp.age},#{emp.sex},#{emp.email},null)\n   \t</foreach>\n   \t\x3c!-- foreachçopenåcloseä¼å¨æ´ä¸ªè¯­å¥åé¢å ä¸å¯¹åºçèµ·å§ç¬¦å·åç»æ­¢ç¬¦åï¼æä»¥è¿éä¸è½å ä¸ï¼ä¸­é´æ¯ä¸ªåç´ çå°æ¬å·ç¨","åå² --\x3e\n   </insert>\n   \n   \n   @Test\n   public void insertMoreByList() {\n   \tSqlSession sqlSession = SqlSessionUtils.getSqlSession();\n   \tDynamicSQLMapper mapper = sqlSession.getMapper(DynamicSQLMapper.class);\n   \tEmp emp1 = new Emp(null,"a",1,"ç·","123@321.com",null);\n   \tEmp emp2 = new Emp(null,"b",1,"ç·","123@321.com",null);\n   \tEmp emp3 = new Emp(null,"c",1,"ç·","123@321.com",null);\n   \tList<Emp> emps = Arrays.asList(emp1, emp2, emp3);\n   \tint result = mapper.insertMoreByList(emps);\n   \tSystem.out.println(result);\n   }\n   \n   \n   \n\n\n# SQLçæ®µ\n\n * sqlçæ®µï¼å¯ä»¥è®°å½ä¸æ®µå¬å±sqlçæ®µï¼å¨ä½¿ç¨çå°æ¹éè¿includeæ ç­¾è¿è¡å¼å¥\n * å£°æsqlçæ®µï¼<sql>æ ç­¾\n\n<sql id="empColumns">eid,emp_name,age,sex,email</sql>\n\n\n * å¼ç¨sqlçæ®µï¼<include>æ ç­¾\n\n\x3c!--List<Emp> getEmpByCondition(Emp emp);--\x3e\n<select id="getEmpByCondition" resultType="Emp">\n\tselect <include refid="empColumns"></include> from t_emp\n</select>\n',normalizedContent:'# å¨æsql\n\n * mybatisæ¡æ¶çå¨æsqlææ¯æ¯ä¸ç§æ ¹æ®ç¹å®æ¡ä»¶å¨ææ¼è£sqlè¯­å¥çåè½ï¼å®å­å¨çæä¹æ¯ä¸ºäºè§£å³æ¼æ¥sqlè¯­å¥å­ç¬¦ä¸²æ¶ççç¹é®é¢\n\n\n# if\n\n * ifæ ç­¾å¯éè¿testå±æ§ï¼å³ä¼ éè¿æ¥çæ°æ®ï¼çè¡¨è¾¾å¼è¿è¡å¤æ­ï¼è¥è¡¨è¾¾å¼çç»æä¸ºtrueï¼åæ ç­¾ä¸­çåå®¹ä¼æ§è¡ï¼åä¹æ ç­¾ä¸­çåå®¹ä¸ä¼æ§è¡\n * å¨whereåé¢æ·»å ä¸ä¸ªææç«æ¡ä»¶1=1\n   * è¿ä¸ªææç«æ¡ä»¶å¹¶ä¸ä¼å½±åæ¥è¯¢çç»æ\n   * è¿ä¸ª1=1å¯ä»¥ç¨æ¥æ¼æ¥andè¯­å¥ï¼ä¾å¦ï¼å½empnameä¸ºnullæ¶\n     * å¦æä¸å ä¸ææç«æ¡ä»¶ï¼åsqlè¯­å¥ä¸ºselect * from t_emp where and age = ? and sex = ? and email = ?ï¼æ­¤æ¶whereä¼ä¸andè¿ç¨ï¼sqlè¯­å¥ä¼æ¥é\n     * å¦æå ä¸ä¸ä¸ªææç«æ¡ä»¶ï¼åsqlè¯­å¥ä¸ºselect * from t_emp where 1= 1 and age = ? and sex = ? and email = ?ï¼æ­¤æ¶ä¸æ¥é\n\n\x3c!--list<emp> getempbycondition(emp emp);--\x3e\n\x3c!-- testä¸­ç´æ¥ä½¿ç¨å±æ§åå°±å¯ä»¥ï¼ä¸ç¨åæ"emp.å±æ§å" --\x3e\n<select id="getempbycondition" resulttype="emp">\n\tselect * from t_emp where 1=1 \n\t<if test="empname != null and empname !=\'\'">\n\t\tand emp_name = #{empname}\n\t</if>\n\t<if test="age != null and age !=\'\'">\n\t\tand age = #{age}\n\t</if>\n\t<if test="sex != null and sex !=\'\'">\n\t\tand sex = #{sex}\n\t</if>\n\t<if test="email != null and email !=\'\'">\n\t\tand email = #{email}\n\t</if>\n</select>\n\n\n\n# where\n\n * whereåifä¸è¬ç»åä½¿ç¨ï¼\n   * è¥whereæ ç­¾ä¸­çifæ¡ä»¶é½ä¸æ»¡è¶³ï¼åwhereæ ç­¾æ²¡æä»»ä½åè½ï¼å³ä¸ä¼æ·»å whereå³é®å­\n   * è¥whereæ ç­¾ä¸­çifæ¡ä»¶æ»¡è¶³ï¼åwhereæ ç­¾ä¼èªå¨æ·»å whereå³é®å­ï¼å¹¶å°æ¡ä»¶æåæ¹å¤ä½çand/orå»æ\n\n\x3c!--list<emp> getempbycondition(emp emp);--\x3e\n<select id="getempbycondition" resulttype="emp">\n\tselect * from t_emp\n\t<where>\n\t\t<if test="empname != null and empname !=\'\'">\n\t\t\temp_name = #{empname}\n\t\t</if>\n\t\t<if test="age != null and age !=\'\'">\n\t\t\tand age = #{age}\n\t\t</if>\n\t\t<if test="sex != null and sex !=\'\'">\n\t\t\tand sex = #{sex}\n\t\t</if>\n\t\t<if test="email != null and email !=\'\'">\n\t\t\tand email = #{email}\n\t\t</if>\n\t</where>\n</select>\n\n\n * æ³¨æï¼whereæ ç­¾ä¸è½å»ææ¡ä»¶åå¤ä½çand/or\n   \n   \x3c!--è¿ç§ç¨æ³æ¯éè¯¯çï¼åªè½å»ææ¡ä»¶åé¢çand/orï¼æ¡ä»¶åé¢çä¸è¡--\x3e\n   <if test="empname != null and empname !=\'\'">\n   emp_name = #{empname} and\n   </if>\n   <if test="age != null and age !=\'\'">\n   \tage = #{age}\n   </if>\n   \n\n\n# trim\n\n * trimç¨äºå»æææ·»å æ ç­¾ä¸­çåå®¹\n * å¸¸ç¨å±æ§\n   * prefixï¼å¨trimæ ç­¾ä¸­çåå®¹çåé¢æ·»å æäºåå®¹\n   * suffixï¼å¨trimæ ç­¾ä¸­çåå®¹çåé¢æ·»å æäºåå®¹\n   * prefixoverridesï¼å¨trimæ ç­¾ä¸­çåå®¹çåé¢å»ææäºåå®¹\n   * suffixoverridesï¼å¨trimæ ç­¾ä¸­çåå®¹çåé¢å»ææäºåå®¹\n * è¥trimä¸­çæ ç­¾é½ä¸æ»¡è¶³æ¡ä»¶ï¼åtrimæ ç­¾æ²¡æä»»ä½ææï¼ä¹å°±æ¯åªå©ä¸select * from t_emp\n\n\x3c!--list<emp> getempbycondition(emp emp);--\x3e\n<select id="getempbycondition" resulttype="emp">\n\tselect * from t_emp\n\t<trim prefix="where" suffixoverrides="and|or">\n\t\t<if test="empname != null and empname !=\'\'">\n\t\t\temp_name = #{empname} and\n\t\t</if>\n\t\t<if test="age != null and age !=\'\'">\n\t\t\tage = #{age} and\n\t\t</if>\n\t\t<if test="sex != null and sex !=\'\'">\n\t\t\tsex = #{sex} or\n\t\t</if>\n\t\t<if test="email != null and email !=\'\'">\n\t\t\temail = #{email}\n\t\t</if>\n\t</trim>\n</select>\n\n\n//æµè¯ç±»\n@test\npublic void getempbycondition() {\n\tsqlsession sqlsession = sqlsessionutils.getsqlsession();\n\tdynamicsqlmapper mapper = sqlsession.getmapper(dynamicsqlmapper.class);\n\tlist<emp> emps= mapper.getempbycondition(new emp(null, "å¼ ä¸", null, null, null, null));\n\tsystem.out.println(emps);\n}\n\n\n\n\n\n# chooseãwhenãotherwise\n\n * chooseãwhenãotherwiseç¸å½äºif...else if..elseï¼éæ©ç»æå¿ç¶åªè½æä¸ä¸ªæ¡ä»¶è¿è¡æ§è¡ï¼å æ­¤æ²¡æor|and ä¸è¯´ï¼\n * whenè³å°è¦æä¸ä¸ªï¼otherwiseè³å¤åªæä¸ä¸ª\n\n<select id="getempbychoose" resulttype="emp">\n\tselect * from t_emp\n\t<where>\n\t\t<choose>\n\t\t\t<when test="empname != null and empname != \'\'">\n\t\t\t\temp_name = #{empname}\n\t\t\t</when>\n\t\t\t<when test="age != null and age != \'\'">\n\t\t\t\tage = #{age}\n\t\t\t</when>\n\t\t\t<when test="sex != null and sex != \'\'">\n\t\t\t\tsex = #{sex}\n\t\t\t</when>\n\t\t\t<when test="email != null and email != \'\'">\n\t\t\t\temail = #{email}\n\t\t\t</when>\n\t\t\t<otherwise>\n\t\t\t\tdid = 1\n\t\t\t</otherwise>\n\t\t</choose>\n\t</where>\n</select>\n\n\n@test\npublic void getempbychoose() {\n\tsqlsession sqlsession = sqlsessionutils.getsqlsession();\n\tdynamicsqlmapper mapper = sqlsession.getmapper(dynamicsqlmapper.class);\n\tlist<emp> emps = mapper.getempbychoose(new emp(null, "å¼ ä¸", 23, "ç·", "123@qq.com", null));\n\tsystem.out.println(emps);\n}\n\n\n\n\n * ç¸å½äºif a else if b else if c else dï¼åªä¼æ§è¡å¶ä¸­ä¸ä¸ª\n\n\n# foreach\n\nparamå°åºæ¯ææ¬å·éé¢çåéç»å®å°å½¢åè¿æ¯æå½¢åç»å®å°æ¬å·éé¢ç çï¼ï¼è¿ééè¦ææ¸æ¥ï¼æè§åæ¯æå½¢åç»å®å°paramå¯¹åºåéä¸é¢ï¼åé¢çç¨åºä½¿ç¨paramåé\n\n * å±æ§ï¼\n   \n   * collectionï¼è®¾ç½®è¦å¾ªç¯çæ°ç»æéå\n   * itemï¼è¡¨ç¤ºéåææ°ç»ä¸­çæ¯ä¸ä¸ªæ°æ®\n   * separatorï¼è®¾ç½®å¾ªç¯ä½ä¹é´çåéç¬¦ï¼åéç¬¦ååé»è®¤æä¸ä¸ªç©ºæ ¼ï¼å¦,\n   * openï¼è®¾ç½®foreachæ ç­¾ä¸­çåå®¹çå¼å§ç¬¦\n   * closeï¼è®¾ç½®foreachæ ç­¾ä¸­çåå®¹çç»æç¬¦\n\n * æ¹éå é¤\n   \n   \x3c!--int deletemorebyarray(integer[] eids);--\x3e\n   \n   \x3c!--int deletemorebyarray(@param("eids") integer[] eids);--\x3e\n   <delete id="deletemorebyarray">\n   \tdelete from t_emp where eid in\n   \t<foreach collection="eids" item="eid" separator="," open="(" close=")">\n   \t\t#{eid}\n   \t</foreach>\n   \t\x3c!-- è¿éçforeachè¯­å¥ç¸å½äºçæäºä¸ä¸ªï¼6, 7, 8, 9ï¼è¿æ ·çæ ¼å¼ --\x3e  \n   </delete>\n   \n   \n   @test\n   public void deletemorebyarray() {\n   \tsqlsession sqlsession = sqlsessionutils.getsqlsession();\n   \tdynamicsqlmapper mapper = sqlsession.getmapper(dynamicsqlmapper.class);\n   \tint result = mapper.deletemorebyarray(new integer[]{6, 7, 8, 9});\n   \tsystem.out.println(result);\n   }\n   \n   \n   \n   \n   è¿éè¿æå¦å¤åæ³, orååä¼èªå¨æ·»å ç©ºæ ¼\n\n * æ¹éæ·»å \n   \n   \x3c!--int insertmorebylist(@param("emps") list<emp> emps);--\x3e\n   <insert id="insertmorebylist">\n   \tinsert into t_emp values\n   \t<foreach collection="emps" item="emp" separator=",">\n   \t\t(null,#{emp.empname},#{emp.age},#{emp.sex},#{emp.email},null)\n   \t</foreach>\n   \t\x3c!-- foreachçopenåcloseä¼å¨æ´ä¸ªè¯­å¥åé¢å ä¸å¯¹åºçèµ·å§ç¬¦å·åç»æ­¢ç¬¦åï¼æä»¥è¿éä¸è½å ä¸ï¼ä¸­é´æ¯ä¸ªåç´ çå°æ¬å·ç¨","åå² --\x3e\n   </insert>\n   \n   \n   @test\n   public void insertmorebylist() {\n   \tsqlsession sqlsession = sqlsessionutils.getsqlsession();\n   \tdynamicsqlmapper mapper = sqlsession.getmapper(dynamicsqlmapper.class);\n   \temp emp1 = new emp(null,"a",1,"ç·","123@321.com",null);\n   \temp emp2 = new emp(null,"b",1,"ç·","123@321.com",null);\n   \temp emp3 = new emp(null,"c",1,"ç·","123@321.com",null);\n   \tlist<emp> emps = arrays.aslist(emp1, emp2, emp3);\n   \tint result = mapper.insertmorebylist(emps);\n   \tsystem.out.println(result);\n   }\n   \n   \n   \n\n\n# sqlçæ®µ\n\n * sqlçæ®µï¼å¯ä»¥è®°å½ä¸æ®µå¬å±sqlçæ®µï¼å¨ä½¿ç¨çå°æ¹éè¿includeæ ç­¾è¿è¡å¼å¥\n * å£°æsqlçæ®µï¼<sql>æ ç­¾\n\n<sql id="empcolumns">eid,emp_name,age,sex,email</sql>\n\n\n * å¼ç¨sqlçæ®µï¼<include>æ ç­¾\n\n\x3c!--list<emp> getempbycondition(emp emp);--\x3e\n<select id="getempbycondition" resulttype="emp">\n\tselect <include refid="empcolumns"></include> from t_emp\n</select>\n',charsets:{cjk:!0}},{title:"MyBatisçç¼å­",frontmatter:{title:"MyBatisçç¼å­",date:"2022-03-11T00:00:00.000Z",permalink:"/mybatis/006/",categories:["æ¡æ¶","MyBatis"],tags:["MyBatis"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/04.MyBatis/06.MyBatis%E7%9A%84%E7%BC%93%E5%AD%98.html",relativePath:"07.æ¡æ¶/04.MyBatis/06.MyBatisçç¼å­.md",key:"v-78a4b30e",path:"/mybatis/006/",headers:[{level:2,title:"MyBatisçä¸çº§ç¼å­",slug:"mybatisçä¸çº§ç¼å­",normalizedTitle:"mybatisçä¸çº§ç¼å­",charIndex:26},{level:2,title:"MyBatisçäºçº§ç¼å­",slug:"mybatisçäºçº§ç¼å­",normalizedTitle:"mybatisçäºçº§ç¼å­",charIndex:273},{level:2,title:"äºçº§ç¼å­çç¸å³éç½®",slug:"äºçº§ç¼å­çç¸å³éç½®",normalizedTitle:"äºçº§ç¼å­çç¸å³éç½®",charIndex:678},{level:2,title:"MyBatisç¼å­æ¥è¯¢çé¡ºåº",slug:"mybatisç¼å­æ¥è¯¢çé¡ºåº",normalizedTitle:"mybatisç¼å­æ¥è¯¢çé¡ºåº",charIndex:1238},{level:2,title:"æ´åç¬¬ä¸æ¹ç¼å­EHCacheï¼äºè§£ï¼",slug:"æ´åç¬¬ä¸æ¹ç¼å­ehcache-äºè§£",normalizedTitle:"æ´åç¬¬ä¸æ¹ç¼å­ehcacheï¼äºè§£ï¼",charIndex:1380},{level:3,title:"æ·»å ä¾èµ",slug:"æ·»å ä¾èµ",normalizedTitle:"æ·»å ä¾èµ",charIndex:1403},{level:3,title:"åä¸ªjaråçåè½",slug:"åä¸ªjaråçåè½",normalizedTitle:"åä¸ªjaråçåè½",charIndex:1732},{level:3,title:"åå»ºEHCacheçéç½®æä»¶ehcache.xml",slug:"åå»ºehcacheçéç½®æä»¶ehcache-xml",normalizedTitle:"åå»ºehcacheçéç½®æä»¶ehcache.xml",charIndex:1901},{level:3,title:"è®¾ç½®äºçº§ç¼å­çç±»å",slug:"è®¾ç½®äºçº§ç¼å­çç±»å",normalizedTitle:"è®¾ç½®äºçº§ç¼å­çç±»å",charIndex:2544},{level:3,title:"å å¥logbackæ¥å¿",slug:"å å¥logbackæ¥å¿",normalizedTitle:"å å¥logbackæ¥å¿",charIndex:2646},{level:3,title:"EHCacheéç½®æä»¶è¯´æ",slug:"ehcacheéç½®æä»¶è¯´æ",normalizedTitle:"ehcacheéç½®æä»¶è¯´æ",charIndex:3507}],headersStr:"MyBatisçä¸çº§ç¼å­ MyBatisçäºçº§ç¼å­ äºçº§ç¼å­çç¸å³éç½® MyBatisç¼å­æ¥è¯¢çé¡ºåº æ´åç¬¬ä¸æ¹ç¼å­EHCacheï¼äºè§£ï¼ æ·»å ä¾èµ åä¸ªjaråçåè½ åå»ºEHCacheçéç½®æä»¶ehcache.xml è®¾ç½®äºçº§ç¼å­çç±»å å å¥logbackæ¥å¿ EHCacheéç½®æä»¶è¯´æ",content:'# MyBatisçç¼å­ï¼ç¼å­åªéå¯¹æ¥è¯¢ï¼\n\n\n# MyBatisçä¸çº§ç¼å­\n\n * ä¸çº§ç¼å­æ¯SqlSessionçº§å«çï¼éè¿åä¸ä¸ªSqlSessionæ¥è¯¢çæ°æ®ä¼è¢«ç¼å­ï¼ä¸æ¬¡æ¥è¯¢ç¸åçæ°æ®ï¼å°±ä¼ä»ç¼å­ä¸­ç´æ¥è·åï¼ä¸ä¼ä»æ°æ®åºéæ°è®¿é®\n\n * ä½¿ä¸çº§ç¼å­å¤±æçåç§æåµï¼\n   \n   1. ä¸åçSqlSessionå¯¹åºä¸åçä¸çº§ç¼å­\n   2. åä¸ä¸ªSqlSessionä½æ¯æ¥è¯¢æ¡ä»¶ä¸å\n   3. åä¸ä¸ªSqlSessionä¸¤æ¬¡æ¥è¯¢æé´æ§è¡äºä»»ä½ä¸æ¬¡å¢å æ¹æä½\n   4. åä¸ä¸ªSqlSessionä¸¤æ¬¡æ¥è¯¢æé´æå¨æ¸ç©ºäºç¼å­\n\n\n# MyBatisçäºçº§ç¼å­\n\n * äºçº§ç¼å­æ¯SqlSessionFactoryï¼å·¥åï¼çº§å«ï¼éè¿åä¸ä¸ªSqlSessionFactoryåå»ºçSqlSessionæ¥è¯¢çç»æä¼è¢«ç¼å­ï¼æ­¤åè¥åæ¬¡æ§è¡ç¸åçæ¥è¯¢è¯­å¥ï¼ç»æå°±ä¼ä»ç¼å­ä¸­è·å\n\n * äºçº§ç¼å­å¼å¯çæ¡ä»¶\n   \n   1. å¨æ ¸å¿éç½®æä»¶ä¸­ï¼è®¾ç½®å¨å±éç½®å±æ§cacheEnabled="true"ï¼é»è®¤ä¸ºtrueï¼ä¸éè¦è®¾ç½®\n   2. å¨æ å°æä»¶ä¸­è®¾ç½®æ ç­¾\n   3. äºçº§ç¼å­å¿é¡»å¨SqlSessionå³é­ææäº¤ä¹åææ(å¶ä»éè¿SqlSessionFactoryåå»ºçSqlSessionå³é­ï¼å¦å¤ä¸ä¸ªéè¿è¯¥SqlSessionFactoryå»ºç«çsqlsessionä¼ä»ç¼å­ä¸­è®¿é®)\n   4. æ¥è¯¢çæ°æ®æè½¬æ¢çå®ä½ç±»ç±»åå¿é¡»å®ç°åºååçæ¥å£\n\n * ä½¿äºçº§ç¼å­å¤±æçæåµï¼ä¸¤æ¬¡æ¥è¯¢ä¹é´æ§è¡äºä»»æçå¢å æ¹ï¼ä¼ä½¿ä¸çº§åäºçº§ç¼å­åæ¶å¤±æ\n\n\n# äºçº§ç¼å­çç¸å³éç½®\n\n * å¨mapperéç½®æä»¶ä¸­æ·»å çcacheæ ç­¾å¯ä»¥è®¾ç½®ä¸äºå±æ§\n * evictionå±æ§ï¼ç¼å­åæ¶ç­ç¥\n   * LRUï¼Least Recently Usedï¼ â æè¿æå°ä½¿ç¨çï¼ç§»é¤æé¿æ¶é´ä¸è¢«ä½¿ç¨çå¯¹è±¡ã\n   * FIFOï¼First in First outï¼ â åè¿ååºï¼æå¯¹è±¡è¿å¥ç¼å­çé¡ºåºæ¥ç§»é¤å®ä»¬ã\n   * SOFT â è½¯å¼ç¨ï¼ç§»é¤åºäºåå¾åæ¶å¨ç¶æåè½¯å¼ç¨è§åçå¯¹è±¡ã\n   * WEAK â å¼±å¼ç¨ï¼æ´ç§¯æå°ç§»é¤åºäºåå¾æ¶éå¨ç¶æåå¼±å¼ç¨è§åçå¯¹è±¡ã\n   * é»è®¤çæ¯ LRU\n * flushIntervalå±æ§ï¼å·æ°é´éï¼åä½æ¯«ç§\n   * é»è®¤æåµæ¯ä¸è®¾ç½®ï¼ä¹å°±æ¯æ²¡æå·æ°é´éï¼ç¼å­ä»ä»è°ç¨è¯­å¥ï¼å¢å æ¹ï¼æ¶å·æ°\n * sizeå±æ§ï¼å¼ç¨æ°ç®ï¼æ­£æ´æ°\n   * ä»£è¡¨ç¼å­æå¤å¯ä»¥å­å¨å¤å°ä¸ªå¯¹è±¡ï¼å¤ªå¤§å®¹æå¯¼è´åå­æº¢åº\n * readOnlyå±æ§ï¼åªè¯»ï¼true/false\n   * trueï¼åªè¯»ç¼å­ï¼ä¼ç»ææè°ç¨èè¿åç¼å­å¯¹è±¡çç¸åå®ä¾ãå æ­¤è¿äºå¯¹è±¡ä¸è½è¢«ä¿®æ¹ãè¿æä¾äºå¾éè¦çæ§è½ä¼å¿ã\n   * falseï¼è¯»åç¼å­ï¼ä¼è¿åç¼å­å¯¹è±¡çæ·è´ï¼éè¿åºååï¼ãè¿ä¼æ¢ä¸äºï¼ä½æ¯å®å¨ï¼å æ­¤é»è®¤æ¯falseï¼å ä¸ºè¿åçæ¶æ·è´çï¼æä»¥å¯¹åå§ç¼å­ä¸å½±åã\n\n\n# MyBatisç¼å­æ¥è¯¢çé¡ºåº\n\n * åæ¥è¯¢äºçº§ç¼å­ï¼å ä¸ºäºçº§ç¼å­ä¸­å¯è½ä¼æå¶ä»ç¨åºå·²ç»æ¥åºæ¥çæ°æ®ï¼å¯ä»¥æ¿æ¥ç´æ¥ä½¿ç¨\n * å¦æäºçº§ç¼å­æ²¡æå½ä¸­ï¼åæ¥è¯¢ä¸çº§ç¼å­\n * å¦æä¸çº§ç¼å­ä¹æ²¡æå½ä¸­ï¼åæ¥è¯¢æ°æ®åº\n * SqlSessionå³é­ä¹åï¼ä¸çº§ç¼å­ä¸­çæ°æ®ä¼åå¥äºçº§ç¼å­\n\n\n# æ´åç¬¬ä¸æ¹ç¼å­EHCacheï¼äºè§£ï¼\n\n\n# æ·»å ä¾èµ\n\n\x3c!-- Mybatis EHCacheæ´åå --\x3e\n<dependency>\n\t<groupId>org.mybatis.caches</groupId>\n\t<artifactId>mybatis-ehcache</artifactId>\n\t<version>1.2.1</version>\n</dependency>\n\x3c!-- slf4jæ¥å¿é¨é¢çä¸ä¸ªå·ä½å®ç° --\x3e\n<dependency>\n\t<groupId>ch.qos.logback</groupId>\n\t<artifactId>logback-classic</artifactId>\n\t<version>1.2.3</version>\n</dependency>\n\n\n\n# åä¸ªjaråçåè½\n\nJARååç§°            ä½ç¨\nmybatis-ehcache   MybatisåEHCacheçæ´åå\nehcache           EHCacheæ ¸å¿å\nslf4j-api         SLF4Jæ¥å¿é¨é¢å\nlogback-classic   æ¯æSLF4Jé¨é¢æ¥å£çä¸ä¸ªå·ä½å®ç°\n\n\n# åå»ºEHCacheçéç½®æä»¶ehcache.xml\n\n * åå­å¿é¡»å«ehcache.xml\n\n<?xml version="1.0" encoding="utf-8" ?>\n<ehcache xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:noNamespaceSchemaLocation="../config/ehcache.xsd">\n    \x3c!-- ç¼å­ç£çä¿å­è·¯å¾ --\x3e\n    <diskStore path="D:\\atguigu\\ehcache"/>\n    <defaultCache\n            maxElementsInMemory="1000"\n            maxElementsOnDisk="10000000"\n            eternal="false"\n            overflowToDisk="true"\n            timeToIdleSeconds="120"\n            timeToLiveSeconds="120"\n            diskExpiryThreadIntervalSeconds="120"\n            memoryStoreEvictionPolicy="LRU">\n    </defaultCache>\n</ehcache>\n\n\n\n# è®¾ç½®äºçº§ç¼å­çç±»å\n\n * å¨xxxMapper.xmlæä»¶ä¸­è®¾ç½®äºçº§ç¼å­ç±»å\n\n<cache type="org.mybatis.caches.ehcache.EhcacheCache"/>\n\n\n\n# å å¥logbackæ¥å¿\n\n * å­å¨SLF4Jæ¶ï¼ä½ä¸ºç®ææ¥å¿çlog4jå°å¤±æï¼æ­¤æ¶æä»¬éè¦åå©SLF4Jçå·ä½å®ç°logbackæ¥æå°æ¥å¿ãåå»ºlogbackçéç½®æä»¶logback.xmlï¼åå­åºå®ï¼ä¸å¯æ¹å\n\n<?xml version="1.0" encoding="UTF-8"?>\n<configuration debug="true">\n    \x3c!-- æå®æ¥å¿è¾åºçä½ç½® --\x3e\n    <appender name="STDOUT"\n              class="ch.qos.logback.core.ConsoleAppender">\n        <encoder>\n            \x3c!-- æ¥å¿è¾åºçæ ¼å¼ --\x3e\n            \x3c!-- æç§é¡ºåºåå«æ¯ï¼æ¶é´ãæ¥å¿çº§å«ãçº¿ç¨åç§°ãæå°æ¥å¿çç±»ãæ¥å¿ä¸»ä½åå®¹ãæ¢è¡ --\x3e\n            <pattern>[%d{HH:mm:ss.SSS}] [%-5level] [%thread] [%logger] [%msg]%n</pattern>\n        </encoder>\n    </appender>\n    \x3c!-- è®¾ç½®å¨å±æ¥å¿çº§å«ãæ¥å¿çº§å«æé¡ºåºåå«æ¯ï¼DEBUGãINFOãWARNãERROR --\x3e\n    \x3c!-- æå®ä»»ä½ä¸ä¸ªæ¥å¿çº§å«é½åªæå°å½åçº§å«ååé¢çº§å«çæ¥å¿ã --\x3e\n    <root level="DEBUG">\n        \x3c!-- æå®æå°æ¥å¿çappenderï¼è¿ééè¿âSTDOUTâå¼ç¨äºåé¢éç½®çappender --\x3e\n        <appender-ref ref="STDOUT" />\n    </root>\n    \x3c!-- æ ¹æ®ç¹æ®éæ±æå®å±é¨æ¥å¿çº§å« --\x3e\n    <logger name="com.atguigu.crowd.mapper" level="DEBUG"/>\n</configuration>\n\n\n\n# EHCacheéç½®æä»¶è¯´æ\n\nå±æ§å                               æ¯å¦å¿é¡»   ä½ç¨\nmaxElementsInMemory               æ¯      å¨åå­ä¸­ç¼å­çelementçæå¤§æ°ç®\nmaxElementsOnDisk                 æ¯      å¨ç£çä¸ç¼å­çelementçæå¤§æ°ç®ï¼è¥æ¯0è¡¨ç¤ºæ ç©·å¤§\neternal                           æ¯      è®¾å®ç¼å­çelementsæ¯å¦æ°¸è¿ä¸è¿æã å¦æä¸ºtrueï¼åç¼å­çæ°æ®å§ç»ææï¼\n                                         å¦æä¸ºfalseé£ä¹è¿è¦æ ¹æ®timeToIdleSecondsãtimeToLiveSecondså¤æ­\noverflowToDisk                    æ¯      è®¾å®å½åå­ç¼å­æº¢åºçæ¶åæ¯å¦å°è¿æçelementç¼å­å°ç£çä¸\ntimeToIdleSeconds                 å¦      å½ç¼å­å¨EhCacheä¸­çæ°æ®ååä¸¤æ¬¡è®¿é®çæ¶é´è¶è¿timeToIdleSecondsçå±æ§åå¼æ¶ï¼\n                                         è¿äºæ°æ®ä¾¿ä¼å é¤ï¼é»è®¤å¼æ¯0,ä¹å°±æ¯å¯é²ç½®æ¶é´æ ç©·å¤§\ntimeToLiveSeconds                 å¦      ç¼å­elementçææçå½æï¼é»è®¤æ¯0.,ä¹å°±æ¯elementå­æ´»æ¶é´æ ç©·å¤§\ndiskSpoolBufferSizeMB             å¦      DiskStore(ç£çç¼å­)çç¼å­åºå¤§å°ãé»è®¤æ¯30MBãæ¯ä¸ªCacheé½åºè¯¥æèªå·±çä¸ä¸ªç¼å²åº\ndiskPersistent                    å¦      å¨VMéå¯çæ¶åæ¯å¦å¯ç¨ç£çä¿å­EhCacheä¸­çæ°æ®ï¼é»è®¤æ¯false\ndiskExpiryThreadIntervalSeconds   å¦      ç£çç¼å­çæ¸ççº¿ç¨è¿è¡é´éï¼é»è®¤æ¯120ç§ãæ¯ä¸ª120sï¼ ç¸åºççº¿ç¨ä¼è¿è¡ä¸æ¬¡EhCacheä¸­æ°æ®çæ¸çå·¥ä½\nmemoryStoreEvictionPolicy         å¦      å½åå­ç¼å­è¾¾å°æå¤§ï¼ææ°çelementå å¥çæ¶åï¼ ç§»é¤ç¼å­ä¸­elementçç­ç¥ã\n                                         é»è®¤æ¯LRUï¼æè¿æå°ä½¿ç¨ï¼ï¼å¯éçæLFUï¼æä¸å¸¸ä½¿ç¨ï¼åFIFOï¼åè¿ååº',normalizedContent:'# mybatisçç¼å­ï¼ç¼å­åªéå¯¹æ¥è¯¢ï¼\n\n\n# mybatisçä¸çº§ç¼å­\n\n * ä¸çº§ç¼å­æ¯sqlsessionçº§å«çï¼éè¿åä¸ä¸ªsqlsessionæ¥è¯¢çæ°æ®ä¼è¢«ç¼å­ï¼ä¸æ¬¡æ¥è¯¢ç¸åçæ°æ®ï¼å°±ä¼ä»ç¼å­ä¸­ç´æ¥è·åï¼ä¸ä¼ä»æ°æ®åºéæ°è®¿é®\n\n * ä½¿ä¸çº§ç¼å­å¤±æçåç§æåµï¼\n   \n   1. ä¸åçsqlsessionå¯¹åºä¸åçä¸çº§ç¼å­\n   2. åä¸ä¸ªsqlsessionä½æ¯æ¥è¯¢æ¡ä»¶ä¸å\n   3. åä¸ä¸ªsqlsessionä¸¤æ¬¡æ¥è¯¢æé´æ§è¡äºä»»ä½ä¸æ¬¡å¢å æ¹æä½\n   4. åä¸ä¸ªsqlsessionä¸¤æ¬¡æ¥è¯¢æé´æå¨æ¸ç©ºäºç¼å­\n\n\n# mybatisçäºçº§ç¼å­\n\n * äºçº§ç¼å­æ¯sqlsessionfactoryï¼å·¥åï¼çº§å«ï¼éè¿åä¸ä¸ªsqlsessionfactoryåå»ºçsqlsessionæ¥è¯¢çç»æä¼è¢«ç¼å­ï¼æ­¤åè¥åæ¬¡æ§è¡ç¸åçæ¥è¯¢è¯­å¥ï¼ç»æå°±ä¼ä»ç¼å­ä¸­è·å\n\n * äºçº§ç¼å­å¼å¯çæ¡ä»¶\n   \n   1. å¨æ ¸å¿éç½®æä»¶ä¸­ï¼è®¾ç½®å¨å±éç½®å±æ§cacheenabled="true"ï¼é»è®¤ä¸ºtrueï¼ä¸éè¦è®¾ç½®\n   2. å¨æ å°æä»¶ä¸­è®¾ç½®æ ç­¾\n   3. äºçº§ç¼å­å¿é¡»å¨sqlsessionå³é­ææäº¤ä¹åææ(å¶ä»éè¿sqlsessionfactoryåå»ºçsqlsessionå³é­ï¼å¦å¤ä¸ä¸ªéè¿è¯¥sqlsessionfactoryå»ºç«çsqlsessionä¼ä»ç¼å­ä¸­è®¿é®)\n   4. æ¥è¯¢çæ°æ®æè½¬æ¢çå®ä½ç±»ç±»åå¿é¡»å®ç°åºååçæ¥å£\n\n * ä½¿äºçº§ç¼å­å¤±æçæåµï¼ä¸¤æ¬¡æ¥è¯¢ä¹é´æ§è¡äºä»»æçå¢å æ¹ï¼ä¼ä½¿ä¸çº§åäºçº§ç¼å­åæ¶å¤±æ\n\n\n# äºçº§ç¼å­çç¸å³éç½®\n\n * å¨mapperéç½®æä»¶ä¸­æ·»å çcacheæ ç­¾å¯ä»¥è®¾ç½®ä¸äºå±æ§\n * evictionå±æ§ï¼ç¼å­åæ¶ç­ç¥\n   * lruï¼least recently usedï¼ â æè¿æå°ä½¿ç¨çï¼ç§»é¤æé¿æ¶é´ä¸è¢«ä½¿ç¨çå¯¹è±¡ã\n   * fifoï¼first in first outï¼ â åè¿ååºï¼æå¯¹è±¡è¿å¥ç¼å­çé¡ºåºæ¥ç§»é¤å®ä»¬ã\n   * soft â è½¯å¼ç¨ï¼ç§»é¤åºäºåå¾åæ¶å¨ç¶æåè½¯å¼ç¨è§åçå¯¹è±¡ã\n   * weak â å¼±å¼ç¨ï¼æ´ç§¯æå°ç§»é¤åºäºåå¾æ¶éå¨ç¶æåå¼±å¼ç¨è§åçå¯¹è±¡ã\n   * é»è®¤çæ¯ lru\n * flushintervalå±æ§ï¼å·æ°é´éï¼åä½æ¯«ç§\n   * é»è®¤æåµæ¯ä¸è®¾ç½®ï¼ä¹å°±æ¯æ²¡æå·æ°é´éï¼ç¼å­ä»ä»è°ç¨è¯­å¥ï¼å¢å æ¹ï¼æ¶å·æ°\n * sizeå±æ§ï¼å¼ç¨æ°ç®ï¼æ­£æ´æ°\n   * ä»£è¡¨ç¼å­æå¤å¯ä»¥å­å¨å¤å°ä¸ªå¯¹è±¡ï¼å¤ªå¤§å®¹æå¯¼è´åå­æº¢åº\n * readonlyå±æ§ï¼åªè¯»ï¼true/false\n   * trueï¼åªè¯»ç¼å­ï¼ä¼ç»ææè°ç¨èè¿åç¼å­å¯¹è±¡çç¸åå®ä¾ãå æ­¤è¿äºå¯¹è±¡ä¸è½è¢«ä¿®æ¹ãè¿æä¾äºå¾éè¦çæ§è½ä¼å¿ã\n   * falseï¼è¯»åç¼å­ï¼ä¼è¿åç¼å­å¯¹è±¡çæ·è´ï¼éè¿åºååï¼ãè¿ä¼æ¢ä¸äºï¼ä½æ¯å®å¨ï¼å æ­¤é»è®¤æ¯falseï¼å ä¸ºè¿åçæ¶æ·è´çï¼æä»¥å¯¹åå§ç¼å­ä¸å½±åã\n\n\n# mybatisç¼å­æ¥è¯¢çé¡ºåº\n\n * åæ¥è¯¢äºçº§ç¼å­ï¼å ä¸ºäºçº§ç¼å­ä¸­å¯è½ä¼æå¶ä»ç¨åºå·²ç»æ¥åºæ¥çæ°æ®ï¼å¯ä»¥æ¿æ¥ç´æ¥ä½¿ç¨\n * å¦æäºçº§ç¼å­æ²¡æå½ä¸­ï¼åæ¥è¯¢ä¸çº§ç¼å­\n * å¦æä¸çº§ç¼å­ä¹æ²¡æå½ä¸­ï¼åæ¥è¯¢æ°æ®åº\n * sqlsessionå³é­ä¹åï¼ä¸çº§ç¼å­ä¸­çæ°æ®ä¼åå¥äºçº§ç¼å­\n\n\n# æ´åç¬¬ä¸æ¹ç¼å­ehcacheï¼äºè§£ï¼\n\n\n# æ·»å ä¾èµ\n\n\x3c!-- mybatis ehcacheæ´åå --\x3e\n<dependency>\n\t<groupid>org.mybatis.caches</groupid>\n\t<artifactid>mybatis-ehcache</artifactid>\n\t<version>1.2.1</version>\n</dependency>\n\x3c!-- slf4jæ¥å¿é¨é¢çä¸ä¸ªå·ä½å®ç° --\x3e\n<dependency>\n\t<groupid>ch.qos.logback</groupid>\n\t<artifactid>logback-classic</artifactid>\n\t<version>1.2.3</version>\n</dependency>\n\n\n\n# åä¸ªjaråçåè½\n\njarååç§°            ä½ç¨\nmybatis-ehcache   mybatisåehcacheçæ´åå\nehcache           ehcacheæ ¸å¿å\nslf4j-api         slf4jæ¥å¿é¨é¢å\nlogback-classic   æ¯æslf4jé¨é¢æ¥å£çä¸ä¸ªå·ä½å®ç°\n\n\n# åå»ºehcacheçéç½®æä»¶ehcache.xml\n\n * åå­å¿é¡»å«ehcache.xml\n\n<?xml version="1.0" encoding="utf-8" ?>\n<ehcache xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n         xsi:nonamespaceschemalocation="../config/ehcache.xsd">\n    \x3c!-- ç¼å­ç£çä¿å­è·¯å¾ --\x3e\n    <diskstore path="d:\\atguigu\\ehcache"/>\n    <defaultcache\n            maxelementsinmemory="1000"\n            maxelementsondisk="10000000"\n            eternal="false"\n            overflowtodisk="true"\n            timetoidleseconds="120"\n            timetoliveseconds="120"\n            diskexpirythreadintervalseconds="120"\n            memorystoreevictionpolicy="lru">\n    </defaultcache>\n</ehcache>\n\n\n\n# è®¾ç½®äºçº§ç¼å­çç±»å\n\n * å¨xxxmapper.xmlæä»¶ä¸­è®¾ç½®äºçº§ç¼å­ç±»å\n\n<cache type="org.mybatis.caches.ehcache.ehcachecache"/>\n\n\n\n# å å¥logbackæ¥å¿\n\n * å­å¨slf4jæ¶ï¼ä½ä¸ºç®ææ¥å¿çlog4jå°å¤±æï¼æ­¤æ¶æä»¬éè¦åå©slf4jçå·ä½å®ç°logbackæ¥æå°æ¥å¿ãåå»ºlogbackçéç½®æä»¶logback.xmlï¼åå­åºå®ï¼ä¸å¯æ¹å\n\n<?xml version="1.0" encoding="utf-8"?>\n<configuration debug="true">\n    \x3c!-- æå®æ¥å¿è¾åºçä½ç½® --\x3e\n    <appender name="stdout"\n              class="ch.qos.logback.core.consoleappender">\n        <encoder>\n            \x3c!-- æ¥å¿è¾åºçæ ¼å¼ --\x3e\n            \x3c!-- æç§é¡ºåºåå«æ¯ï¼æ¶é´ãæ¥å¿çº§å«ãçº¿ç¨åç§°ãæå°æ¥å¿çç±»ãæ¥å¿ä¸»ä½åå®¹ãæ¢è¡ --\x3e\n            <pattern>[%d{hh:mm:ss.sss}] [%-5level] [%thread] [%logger] [%msg]%n</pattern>\n        </encoder>\n    </appender>\n    \x3c!-- è®¾ç½®å¨å±æ¥å¿çº§å«ãæ¥å¿çº§å«æé¡ºåºåå«æ¯ï¼debugãinfoãwarnãerror --\x3e\n    \x3c!-- æå®ä»»ä½ä¸ä¸ªæ¥å¿çº§å«é½åªæå°å½åçº§å«ååé¢çº§å«çæ¥å¿ã --\x3e\n    <root level="debug">\n        \x3c!-- æå®æå°æ¥å¿çappenderï¼è¿ééè¿âstdoutâå¼ç¨äºåé¢éç½®çappender --\x3e\n        <appender-ref ref="stdout" />\n    </root>\n    \x3c!-- æ ¹æ®ç¹æ®éæ±æå®å±é¨æ¥å¿çº§å« --\x3e\n    <logger name="com.atguigu.crowd.mapper" level="debug"/>\n</configuration>\n\n\n\n# ehcacheéç½®æä»¶è¯´æ\n\nå±æ§å                               æ¯å¦å¿é¡»   ä½ç¨\nmaxelementsinmemory               æ¯      å¨åå­ä¸­ç¼å­çelementçæå¤§æ°ç®\nmaxelementsondisk                 æ¯      å¨ç£çä¸ç¼å­çelementçæå¤§æ°ç®ï¼è¥æ¯0è¡¨ç¤ºæ ç©·å¤§\neternal                           æ¯      è®¾å®ç¼å­çelementsæ¯å¦æ°¸è¿ä¸è¿æã å¦æä¸ºtrueï¼åç¼å­çæ°æ®å§ç»ææï¼\n                                         å¦æä¸ºfalseé£ä¹è¿è¦æ ¹æ®timetoidlesecondsãtimetolivesecondså¤æ­\noverflowtodisk                    æ¯      è®¾å®å½åå­ç¼å­æº¢åºçæ¶åæ¯å¦å°è¿æçelementç¼å­å°ç£çä¸\ntimetoidleseconds                 å¦      å½ç¼å­å¨ehcacheä¸­çæ°æ®ååä¸¤æ¬¡è®¿é®çæ¶é´è¶è¿timetoidlesecondsçå±æ§åå¼æ¶ï¼\n                                         è¿äºæ°æ®ä¾¿ä¼å é¤ï¼é»è®¤å¼æ¯0,ä¹å°±æ¯å¯é²ç½®æ¶é´æ ç©·å¤§\ntimetoliveseconds                 å¦      ç¼å­elementçææçå½æï¼é»è®¤æ¯0.,ä¹å°±æ¯elementå­æ´»æ¶é´æ ç©·å¤§\ndiskspoolbuffersizemb             å¦      diskstore(ç£çç¼å­)çç¼å­åºå¤§å°ãé»è®¤æ¯30mbãæ¯ä¸ªcacheé½åºè¯¥æèªå·±çä¸ä¸ªç¼å²åº\ndiskpersistent                    å¦      å¨vméå¯çæ¶åæ¯å¦å¯ç¨ç£çä¿å­ehcacheä¸­çæ°æ®ï¼é»è®¤æ¯false\ndiskexpirythreadintervalseconds   å¦      ç£çç¼å­çæ¸ççº¿ç¨è¿è¡é´éï¼é»è®¤æ¯120ç§ãæ¯ä¸ª120sï¼ ç¸åºççº¿ç¨ä¼è¿è¡ä¸æ¬¡ehcacheä¸­æ°æ®çæ¸çå·¥ä½\nmemorystoreevictionpolicy         å¦      å½åå­ç¼å­è¾¾å°æå¤§ï¼ææ°çelementå å¥çæ¶åï¼ ç§»é¤ç¼å­ä¸­elementçç­ç¥ã\n                                         é»è®¤æ¯lruï¼æè¿æå°ä½¿ç¨ï¼ï¼å¯éçælfuï¼æä¸å¸¸ä½¿ç¨ï¼åfifoï¼åè¿ååº',charsets:{cjk:!0}},{title:"MyBatisçéåå·¥ç¨",frontmatter:{title:"MyBatisçéåå·¥ç¨",date:"2022-03-15T00:00:00.000Z",permalink:"/mybatis/007/",categories:["æ¡æ¶","MyBatis"],tags:["MyBatis"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/04.MyBatis/07.MyBatis%E7%9A%84%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B.html",relativePath:"07.æ¡æ¶/04.MyBatis/07.MyBatisçéåå·¥ç¨.md",key:"v-7af8ffe3",path:"/mybatis/007/",headers:[{level:2,title:"åå»ºéåå·¥ç¨çæ­¥éª¤",slug:"åå»ºéåå·¥ç¨çæ­¥éª¤",normalizedTitle:"åå»ºéåå·¥ç¨çæ­¥éª¤",charIndex:155},{level:3,title:"æ·»å ä¾èµåæä»¶",slug:"æ·»å ä¾èµåæä»¶",normalizedTitle:"æ·»å ä¾èµåæä»¶",charIndex:169},{level:3,title:"åå»ºMyBatisçæ ¸å¿éç½®æä»¶",slug:"åå»ºmybatisçæ ¸å¿éç½®æä»¶",normalizedTitle:"åå»ºmybatisçæ ¸å¿éç½®æä»¶",charIndex:1649},{level:3,title:"åå»ºéåå·¥ç¨çéç½®æä»¶ï¼éæ°çæéç½®æä»¶æå¥½æä¹åçå é¤ï¼é²æ­¢å ä¸ºæä»¶åå®¹è¿½å é æéè¯¯ï¼",slug:"åå»ºéåå·¥ç¨çéç½®æä»¶-éæ°çæéç½®æä»¶æå¥½æä¹åçå é¤-é²æ­¢å ä¸ºæä»¶åå®¹è¿½å é æéè¯¯",normalizedTitle:"åå»ºéåå·¥ç¨çéç½®æä»¶ï¼éæ°çæéç½®æä»¶æå¥½æä¹åçå é¤ï¼é²æ­¢å ä¸ºæä»¶åå®¹è¿½å é æéè¯¯ï¼",charIndex:2537},{level:3,title:"æ§è¡MBGæä»¶çgenerateç®æ ",slug:"æ§è¡mbgæä»¶çgenerateç®æ ",normalizedTitle:"æ§è¡mbgæä»¶çgenerateç®æ ",charIndex:4581},{level:2,title:"QBC",slug:"qbc",normalizedTitle:"qbc",charIndex:4758},{level:3,title:"æ¥è¯¢",slug:"æ¥è¯¢",normalizedTitle:"æ¥è¯¢",charIndex:4466},{level:3,title:"å¢æ¹",slug:"å¢æ¹",normalizedTitle:"å¢æ¹",charIndex:5642}],headersStr:"åå»ºéåå·¥ç¨çæ­¥éª¤ æ·»å ä¾èµåæä»¶ åå»ºMyBatisçæ ¸å¿éç½®æä»¶ åå»ºéåå·¥ç¨çéç½®æä»¶ï¼éæ°çæéç½®æä»¶æå¥½æä¹åçå é¤ï¼é²æ­¢å ä¸ºæä»¶åå®¹è¿½å é æéè¯¯ï¼ æ§è¡MBGæä»¶çgenerateç®æ  QBC æ¥è¯¢ å¢æ¹",content:'# MyBatisçéåå·¥ç¨\n\n * æ­£åå·¥ç¨ï¼ååå»ºJavaå®ä½ç±»ï¼ç±æ¡æ¶è´è´£æ ¹æ®å®ä½ç±»çææ°æ®åºè¡¨ãHibernateæ¯æ¯ææ­£åå·¥ç¨ç\n * éåå·¥ç¨ï¼ååå»ºæ°æ®åºè¡¨ï¼ç±æ¡æ¶è´è´£æ ¹æ®æ°æ®åºè¡¨ï¼ååçæå¦ä¸èµæºï¼\n   * Javaå®ä½ç±»\n   * Mapperæ¥å£\n   * Mapperæ å°æä»¶\n\n\n# åå»ºéåå·¥ç¨çæ­¥éª¤\n\n\n# æ·»å ä¾èµåæä»¶\n\n<dependencies>\n\t\x3c!-- MyBatisæ ¸å¿ä¾èµå --\x3e\n\t<dependency>\n\t\t<groupId>org.mybatis</groupId>\n\t\t<artifactId>mybatis</artifactId>\n\t\t<version>3.5.9</version>\n\t</dependency>\n\t\x3c!-- junitæµè¯ --\x3e\n\t<dependency>\n\t\t<groupId>junit</groupId>\n\t\t<artifactId>junit</artifactId>\n\t\t<version>4.13.2</version>\n\t\t<scope>test</scope>\n\t</dependency>\n\t\x3c!-- MySQLé©±å¨ --\x3e\n\t<dependency>\n\t\t<groupId>mysql</groupId>\n\t\t<artifactId>mysql-connector-java</artifactId>\n\t\t<version>8.0.27</version>\n\t</dependency>\n\t\x3c!-- log4jæ¥å¿ --\x3e\n\t<dependency>\n\t\t<groupId>log4j</groupId>\n\t\t<artifactId>log4j</artifactId>\n\t\t<version>1.2.17</version>\n\t</dependency>\n</dependencies>\n\x3c!-- æ§å¶Mavenå¨æå»ºè¿ç¨ä¸­ç¸å³éç½® --\x3e\n<build>\n\t\x3c!-- æå»ºè¿ç¨ä¸­ç¨å°çæä»¶ --\x3e\n\t<plugins>\n\t\t\x3c!-- å·ä½æä»¶ï¼éåå·¥ç¨çæä½æ¯ä»¥æå»ºè¿ç¨ä¸­æä»¶å½¢å¼åºç°ç --\x3e\n\t\t<plugin>\n\t\t\t<groupId>org.mybatis.generator</groupId>\n\t\t\t<artifactId>mybatis-generator-maven-plugin</artifactId>\n\t\t\t<version>1.3.0</version>\n\t\t\t\x3c!-- æä»¶çä¾èµ --\x3e\n\t\t\t<dependencies>\n\t\t\t\t\x3c!-- éåå·¥ç¨çæ ¸å¿ä¾èµ --\x3e\n\t\t\t\t<dependency>\n\t\t\t\t\t<groupId>org.mybatis.generator</groupId>\n\t\t\t\t\t<artifactId>mybatis-generator-core</artifactId>\n\t\t\t\t\t<version>1.3.2</version>\n\t\t\t\t</dependency>\n\t\t\t\t\x3c!-- æ°æ®åºè¿æ¥æ±  --\x3e\n\t\t\t\t<dependency>\n\t\t\t\t\t<groupId>com.mchange</groupId>\n\t\t\t\t\t<artifactId>c3p0</artifactId>\n\t\t\t\t\t<version>0.9.2</version>\n\t\t\t\t</dependency>\n\t\t\t\t\x3c!-- MySQLé©±å¨ --\x3e\n\t\t\t\t<dependency>\n\t\t\t\t\t<groupId>mysql</groupId>\n\t\t\t\t\t<artifactId>mysql-connector-java</artifactId>\n\t\t\t\t\t<version>8.0.27</version>\n\t\t\t\t</dependency>\n\t\t\t</dependencies>\n\t\t</plugin>\n\t</plugins>\n</build>\n\n\n\n# åå»ºMyBatisçæ ¸å¿éç½®æä»¶\n\n<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE configuration\n        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"\n        "http://mybatis.org/dtd/mybatis-3-config.dtd">\n<configuration>\n    <properties resource="jdbc.properties"/>\n    <typeAliases>\n        <package name=""/>\n    </typeAliases>\n    <environments default="development">\n        <environment id="development">\n            <transactionManager type="JDBC"/>\n            <dataSource type="POOLED">\n                <property name="driver" value="${jdbc.driver}"/>\n                <property name="url" value="${jdbc.url}"/>\n                <property name="username" value="${jdbc.username}"/>\n                <property name="password" value="${jdbc.password}"/>\n            </dataSource>\n        </environment>\n    </environments>\n    <mappers>\n        <package name=""/>\n    </mappers>\n</configuration>\n\n\n\n# åå»ºéåå·¥ç¨çéç½®æä»¶ï¼éæ°çæéç½®æä»¶æå¥½æä¹åçå é¤ï¼é²æ­¢å ä¸ºæä»¶åå®¹è¿½å é æéè¯¯ï¼\n\n * æä»¶åå¿é¡»æ¯ï¼generatorConfig.xml\n\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE generatorConfiguration\n        PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"\n        "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd">\n<generatorConfiguration>\n    \x3c!--\n    targetRuntime: æ§è¡çæçéåå·¥ç¨ççæ¬\n    MyBatis3Simple: çæåºæ¬çCRUDï¼æ¸æ°ç®æ´çï¼\n    MyBatis3ï¼ç¨çæå¤ï¼: çæå¸¦æ¡ä»¶çCRUDï¼å¥¢åå°äº«çï¼ä»æ¯MyBatis3Simpleçæçæä»¶ä¿¡æ¯æ´å ä¸°å¯\n    --\x3e\n    <context id="DB2Tables" targetRuntime="MyBatis3Simple">\n        \x3c!-- æ°æ®åºçè¿æ¥ä¿¡æ¯ --\x3e\n        <jdbcConnection driverClass="com.mysql.cj.jdbc.Driver"\n                        connectionURL="jdbc:mysql://localhost:3306/mybatis"\n                        userId="root"\n                        password="123456">\n        </jdbcConnection>\n        \x3c!-- javaBeanï¼å®ä½ç±»ï¼ççæç­ç¥--\x3e\n        <javaModelGenerator targetPackage="com.atguigu.mybatis.pojo" targetProject=".\\src\\main\\java">\n            <property name="enableSubPackages" value="true" />\n            <property name="trimStrings" value="true" />\n        </javaModelGenerator>\n        \x3c!-- SQLæ å°æä»¶ççæç­ç¥ --\x3e\n        <sqlMapGenerator targetPackage="com.atguigu.mybatis.mapper"\n                         targetProject=".\\src\\main\\resources">\n            <property name="enableSubPackages" value="true" />\n        </sqlMapGenerator>\n        \x3c!-- Mapperæ¥å£ççæç­ç¥ --\x3e\n        <javaClientGenerator type="XMLMAPPER"\n                             targetPackage="com.atguigu.mybatis.mapper" targetProject=".\\src\\main\\java">\n            <property name="enableSubPackages" value="true" />\n        </javaClientGenerator>\n        \x3c!-- éååæçè¡¨ --\x3e\n        \x3c!-- tableNameè®¾ç½®ä¸º*å·ï¼å¯ä»¥å¯¹åºææè¡¨ï¼æ­¤æ¶ä¸ådomainObjectName --\x3e\n        \x3c!-- domainObjectNameå±æ§æå®çæåºæ¥çå®ä½ç±»çç±»å --\x3e\n        <table tableName="t_emp" domainObjectName="Emp"/>\n        <table tableName="t_dept" domainObjectName="Dept"/>\n    </context>\n</generatorConfiguration>\n\n\nå¥¢åççä¿¡æ¯æ´å è¯¦ç»ï¼å®ç°çæ¹æ³æ´å¤ï¼æ¥è¯¢æ´æ¹ä¾¿ï¼è½å¤ä»¥ä»»ææ¡ä»¶ï¼ä»»æéæ±è¿è¡å¢å æ¹æ¥ï¼\n\nè¿éæ³¨æçåºå«æ¯ updateByprimaryKeyä¼æ ¹æ®ä¸»é®æå¯¹åºçæ¯ä¸ä¸ªkeyè¿è¡ä¿®æ¹ updateByprimaryKeySelectiveåªä¼ä¿®æ¹ä¸ä¸ºç©ºçå¼\n\n\n# æ§è¡MBGæä»¶çgenerateç®æ \n\n * \n * å¦æåºç°æ¥éï¼Exception getting JDBC Driverï¼å¯è½æ¯pom.xmlä¸­ï¼æ°æ®åºé©±å¨éç½®éè¯¯\n   * dependencyä¸­çé©±å¨\n   * mybatis-generator-maven-pluginæä»¶ä¸­çé©±å¨\n   * ä¸¤èçé©±å¨çæ¬åºè¯¥ç¸å\n * æ§è¡ç»æ\n\n\n# QBC\n\n\n# æ¥è¯¢\n\n * selectByExampleï¼ææ¡ä»¶æ¥è¯¢ï¼éè¦ä¼ å¥ä¸ä¸ªexampleå¯¹è±¡æènullï¼å¦æä¼ å¥ä¸ä¸ªnullï¼åè¡¨ç¤ºæ²¡ææ¡ä»¶ï¼ä¹å°±æ¯æ¥è¯¢æææ°æ®\n * example.createCriteria().xxxï¼åå»ºæ¡ä»¶å¯¹è±¡ï¼éè¿andXXXæ¹æ³ä¸ºSQLæ·»å æ¥è¯¢æ·»å ï¼æ¯ä¸ªæ¡ä»¶ä¹é´æ¯andå³ç³»\n * example.or().xxxï¼å°ä¹åæ·»å çæ¡ä»¶éè¿oræ¼æ¥å¶ä»æ¡ä»¶\n\n@Test public void testMBG() throws IOException {\n\tInputStream is = Resources.getResourceAsStream("mybatis-config.xml");\n\tSqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();\n\tSqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);\n\tSqlSession sqlSession = sqlSessionFactory.openSession(true);\n\tEmpMapper mapper = sqlSession.getMapper(EmpMapper.class);\n\tEmpExample example = new EmpExample();\n\t//åå­ä¸ºå¼ ä¸ï¼ä¸å¹´é¾å¤§äºç­äº20\n\texample.createCriteria().andEmpNameEqualTo("å¼ ä¸").andAgeGreaterThanOrEqualTo(20);\n\t//æèdidä¸ä¸ºç©º\n\texample.or().andDidIsNotNull();\n\tList<Emp> emps = mapper.selectByExample(example);\n\temps.forEach(System.out::println);\n}\n\n\n\n\n\n# å¢æ¹\n\n * updateByPrimaryKeyï¼éè¿ä¸»é®è¿è¡æ°æ®ä¿®æ¹ï¼å¦ææä¸ä¸ªå¼ä¸ºnullï¼ä¹ä¼å°å¯¹åºçå­æ®µæ¹ä¸ºnull\n   * mapper.updateByPrimaryKey(new Emp(1,"admin",22,null,"456@qq.com",3));\n   * \n * updateByPrimaryKeySelective()ï¼éè¿ä¸»é®è¿è¡éæ©æ§æ°æ®ä¿®æ¹ï¼å¦ææä¸ªå¼ä¸ºnullï¼åä¸ä¿®æ¹è¿ä¸ªå­æ®µ\n   * mapper.updateByPrimaryKeySelective(new Emp(2,"admin2",22,null,"456@qq.com",3));\n   * ',normalizedContent:'# mybatisçéåå·¥ç¨\n\n * æ­£åå·¥ç¨ï¼ååå»ºjavaå®ä½ç±»ï¼ç±æ¡æ¶è´è´£æ ¹æ®å®ä½ç±»çææ°æ®åºè¡¨ãhibernateæ¯æ¯ææ­£åå·¥ç¨ç\n * éåå·¥ç¨ï¼ååå»ºæ°æ®åºè¡¨ï¼ç±æ¡æ¶è´è´£æ ¹æ®æ°æ®åºè¡¨ï¼ååçæå¦ä¸èµæºï¼\n   * javaå®ä½ç±»\n   * mapperæ¥å£\n   * mapperæ å°æä»¶\n\n\n# åå»ºéåå·¥ç¨çæ­¥éª¤\n\n\n# æ·»å ä¾èµåæä»¶\n\n<dependencies>\n\t\x3c!-- mybatisæ ¸å¿ä¾èµå --\x3e\n\t<dependency>\n\t\t<groupid>org.mybatis</groupid>\n\t\t<artifactid>mybatis</artifactid>\n\t\t<version>3.5.9</version>\n\t</dependency>\n\t\x3c!-- junitæµè¯ --\x3e\n\t<dependency>\n\t\t<groupid>junit</groupid>\n\t\t<artifactid>junit</artifactid>\n\t\t<version>4.13.2</version>\n\t\t<scope>test</scope>\n\t</dependency>\n\t\x3c!-- mysqlé©±å¨ --\x3e\n\t<dependency>\n\t\t<groupid>mysql</groupid>\n\t\t<artifactid>mysql-connector-java</artifactid>\n\t\t<version>8.0.27</version>\n\t</dependency>\n\t\x3c!-- log4jæ¥å¿ --\x3e\n\t<dependency>\n\t\t<groupid>log4j</groupid>\n\t\t<artifactid>log4j</artifactid>\n\t\t<version>1.2.17</version>\n\t</dependency>\n</dependencies>\n\x3c!-- æ§å¶mavenå¨æå»ºè¿ç¨ä¸­ç¸å³éç½® --\x3e\n<build>\n\t\x3c!-- æå»ºè¿ç¨ä¸­ç¨å°çæä»¶ --\x3e\n\t<plugins>\n\t\t\x3c!-- å·ä½æä»¶ï¼éåå·¥ç¨çæä½æ¯ä»¥æå»ºè¿ç¨ä¸­æä»¶å½¢å¼åºç°ç --\x3e\n\t\t<plugin>\n\t\t\t<groupid>org.mybatis.generator</groupid>\n\t\t\t<artifactid>mybatis-generator-maven-plugin</artifactid>\n\t\t\t<version>1.3.0</version>\n\t\t\t\x3c!-- æä»¶çä¾èµ --\x3e\n\t\t\t<dependencies>\n\t\t\t\t\x3c!-- éåå·¥ç¨çæ ¸å¿ä¾èµ --\x3e\n\t\t\t\t<dependency>\n\t\t\t\t\t<groupid>org.mybatis.generator</groupid>\n\t\t\t\t\t<artifactid>mybatis-generator-core</artifactid>\n\t\t\t\t\t<version>1.3.2</version>\n\t\t\t\t</dependency>\n\t\t\t\t\x3c!-- æ°æ®åºè¿æ¥æ±  --\x3e\n\t\t\t\t<dependency>\n\t\t\t\t\t<groupid>com.mchange</groupid>\n\t\t\t\t\t<artifactid>c3p0</artifactid>\n\t\t\t\t\t<version>0.9.2</version>\n\t\t\t\t</dependency>\n\t\t\t\t\x3c!-- mysqlé©±å¨ --\x3e\n\t\t\t\t<dependency>\n\t\t\t\t\t<groupid>mysql</groupid>\n\t\t\t\t\t<artifactid>mysql-connector-java</artifactid>\n\t\t\t\t\t<version>8.0.27</version>\n\t\t\t\t</dependency>\n\t\t\t</dependencies>\n\t\t</plugin>\n\t</plugins>\n</build>\n\n\n\n# åå»ºmybatisçæ ¸å¿éç½®æä»¶\n\n<?xml version="1.0" encoding="utf-8" ?>\n<!doctype configuration\n        public "-//mybatis.org//dtd config 3.0//en"\n        "http://mybatis.org/dtd/mybatis-3-config.dtd">\n<configuration>\n    <properties resource="jdbc.properties"/>\n    <typealiases>\n        <package name=""/>\n    </typealiases>\n    <environments default="development">\n        <environment id="development">\n            <transactionmanager type="jdbc"/>\n            <datasource type="pooled">\n                <property name="driver" value="${jdbc.driver}"/>\n                <property name="url" value="${jdbc.url}"/>\n                <property name="username" value="${jdbc.username}"/>\n                <property name="password" value="${jdbc.password}"/>\n            </datasource>\n        </environment>\n    </environments>\n    <mappers>\n        <package name=""/>\n    </mappers>\n</configuration>\n\n\n\n# åå»ºéåå·¥ç¨çéç½®æä»¶ï¼éæ°çæéç½®æä»¶æå¥½æä¹åçå é¤ï¼é²æ­¢å ä¸ºæä»¶åå®¹è¿½å é æéè¯¯ï¼\n\n * æä»¶åå¿é¡»æ¯ï¼generatorconfig.xml\n\n<?xml version="1.0" encoding="utf-8"?>\n<!doctype generatorconfiguration\n        public "-//mybatis.org//dtd mybatis generator configuration 1.0//en"\n        "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd">\n<generatorconfiguration>\n    \x3c!--\n    targetruntime: æ§è¡çæçéåå·¥ç¨ççæ¬\n    mybatis3simple: çæåºæ¬çcrudï¼æ¸æ°ç®æ´çï¼\n    mybatis3ï¼ç¨çæå¤ï¼: çæå¸¦æ¡ä»¶çcrudï¼å¥¢åå°äº«çï¼ä»æ¯mybatis3simpleçæçæä»¶ä¿¡æ¯æ´å ä¸°å¯\n    --\x3e\n    <context id="db2tables" targetruntime="mybatis3simple">\n        \x3c!-- æ°æ®åºçè¿æ¥ä¿¡æ¯ --\x3e\n        <jdbcconnection driverclass="com.mysql.cj.jdbc.driver"\n                        connectionurl="jdbc:mysql://localhost:3306/mybatis"\n                        userid="root"\n                        password="123456">\n        </jdbcconnection>\n        \x3c!-- javabeanï¼å®ä½ç±»ï¼ççæç­ç¥--\x3e\n        <javamodelgenerator targetpackage="com.atguigu.mybatis.pojo" targetproject=".\\src\\main\\java">\n            <property name="enablesubpackages" value="true" />\n            <property name="trimstrings" value="true" />\n        </javamodelgenerator>\n        \x3c!-- sqlæ å°æä»¶ççæç­ç¥ --\x3e\n        <sqlmapgenerator targetpackage="com.atguigu.mybatis.mapper"\n                         targetproject=".\\src\\main\\resources">\n            <property name="enablesubpackages" value="true" />\n        </sqlmapgenerator>\n        \x3c!-- mapperæ¥å£ççæç­ç¥ --\x3e\n        <javaclientgenerator type="xmlmapper"\n                             targetpackage="com.atguigu.mybatis.mapper" targetproject=".\\src\\main\\java">\n            <property name="enablesubpackages" value="true" />\n        </javaclientgenerator>\n        \x3c!-- éååæçè¡¨ --\x3e\n        \x3c!-- tablenameè®¾ç½®ä¸º*å·ï¼å¯ä»¥å¯¹åºææè¡¨ï¼æ­¤æ¶ä¸ådomainobjectname --\x3e\n        \x3c!-- domainobjectnameå±æ§æå®çæåºæ¥çå®ä½ç±»çç±»å --\x3e\n        <table tablename="t_emp" domainobjectname="emp"/>\n        <table tablename="t_dept" domainobjectname="dept"/>\n    </context>\n</generatorconfiguration>\n\n\nå¥¢åççä¿¡æ¯æ´å è¯¦ç»ï¼å®ç°çæ¹æ³æ´å¤ï¼æ¥è¯¢æ´æ¹ä¾¿ï¼è½å¤ä»¥ä»»ææ¡ä»¶ï¼ä»»æéæ±è¿è¡å¢å æ¹æ¥ï¼\n\nè¿éæ³¨æçåºå«æ¯ updatebyprimarykeyä¼æ ¹æ®ä¸»é®æå¯¹åºçæ¯ä¸ä¸ªkeyè¿è¡ä¿®æ¹ updatebyprimarykeyselectiveåªä¼ä¿®æ¹ä¸ä¸ºç©ºçå¼\n\n\n# æ§è¡mbgæä»¶çgenerateç®æ \n\n * \n * å¦æåºç°æ¥éï¼exception getting jdbc driverï¼å¯è½æ¯pom.xmlä¸­ï¼æ°æ®åºé©±å¨éç½®éè¯¯\n   * dependencyä¸­çé©±å¨\n   * mybatis-generator-maven-pluginæä»¶ä¸­çé©±å¨\n   * ä¸¤èçé©±å¨çæ¬åºè¯¥ç¸å\n * æ§è¡ç»æ\n\n\n# qbc\n\n\n# æ¥è¯¢\n\n * selectbyexampleï¼ææ¡ä»¶æ¥è¯¢ï¼éè¦ä¼ å¥ä¸ä¸ªexampleå¯¹è±¡æènullï¼å¦æä¼ å¥ä¸ä¸ªnullï¼åè¡¨ç¤ºæ²¡ææ¡ä»¶ï¼ä¹å°±æ¯æ¥è¯¢æææ°æ®\n * example.createcriteria().xxxï¼åå»ºæ¡ä»¶å¯¹è±¡ï¼éè¿andxxxæ¹æ³ä¸ºsqlæ·»å æ¥è¯¢æ·»å ï¼æ¯ä¸ªæ¡ä»¶ä¹é´æ¯andå³ç³»\n * example.or().xxxï¼å°ä¹åæ·»å çæ¡ä»¶éè¿oræ¼æ¥å¶ä»æ¡ä»¶\n\n@test public void testmbg() throws ioexception {\n\tinputstream is = resources.getresourceasstream("mybatis-config.xml");\n\tsqlsessionfactorybuilder sqlsessionfactorybuilder = new sqlsessionfactorybuilder();\n\tsqlsessionfactory sqlsessionfactory = sqlsessionfactorybuilder.build(is);\n\tsqlsession sqlsession = sqlsessionfactory.opensession(true);\n\tempmapper mapper = sqlsession.getmapper(empmapper.class);\n\tempexample example = new empexample();\n\t//åå­ä¸ºå¼ ä¸ï¼ä¸å¹´é¾å¤§äºç­äº20\n\texample.createcriteria().andempnameequalto("å¼ ä¸").andagegreaterthanorequalto(20);\n\t//æèdidä¸ä¸ºç©º\n\texample.or().anddidisnotnull();\n\tlist<emp> emps = mapper.selectbyexample(example);\n\temps.foreach(system.out::println);\n}\n\n\n\n\n\n# å¢æ¹\n\n * updatebyprimarykeyï¼éè¿ä¸»é®è¿è¡æ°æ®ä¿®æ¹ï¼å¦ææä¸ä¸ªå¼ä¸ºnullï¼ä¹ä¼å°å¯¹åºçå­æ®µæ¹ä¸ºnull\n   * mapper.updatebyprimarykey(new emp(1,"admin",22,null,"456@qq.com",3));\n   * \n * updatebyprimarykeyselective()ï¼éè¿ä¸»é®è¿è¡éæ©æ§æ°æ®ä¿®æ¹ï¼å¦ææä¸ªå¼ä¸ºnullï¼åä¸ä¿®æ¹è¿ä¸ªå­æ®µ\n   * mapper.updatebyprimarykeyselective(new emp(2,"admin2",22,null,"456@qq.com",3));\n   * ',charsets:{cjk:!0}},{title:"åé¡µæä»¶",frontmatter:{title:"åé¡µæä»¶",date:"2022-03-20T00:00:00.000Z",permalink:"/mybatis/008/",categories:["æ¡æ¶","MyBatis"],tags:["MyBatis"],author:null},regularPath:"/07.%E6%A1%86%E6%9E%B6/04.MyBatis/08.%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6.html",relativePath:"07.æ¡æ¶/04.MyBatis/08.åé¡µæä»¶.md",key:"v-2451e369",path:"/mybatis/008/",headers:[{level:2,title:"åé¡µæä»¶ä½¿ç¨æ­¥éª¤",slug:"åé¡µæä»¶ä½¿ç¨æ­¥éª¤",normalizedTitle:"åé¡µæä»¶ä½¿ç¨æ­¥éª¤",charIndex:11},{level:3,title:"æ·»å ä¾èµ",slug:"æ·»å ä¾èµ",normalizedTitle:"æ·»å ä¾èµ",charIndex:24},{level:3,title:"éç½®åé¡µæä»¶",slug:"éç½®åé¡µæä»¶",normalizedTitle:"éç½®åé¡µæä»¶",charIndex:244},{level:2,title:"åé¡µæä»¶çä½¿ç¨",slug:"åé¡µæä»¶çä½¿ç¨",normalizedTitle:"åé¡µæä»¶çä½¿ç¨",charIndex:415},{level:3,title:"å¼å¯åé¡µåè½",slug:"å¼å¯åé¡µåè½",normalizedTitle:"å¼å¯åé¡µåè½",charIndex:427},{level:3,title:"åé¡µç¸å³æ°æ®",slug:"åé¡µç¸å³æ°æ®",normalizedTitle:"åé¡µç¸å³æ°æ®",charIndex:1091},{level:4,title:"æ¹æ³ä¸ï¼ç´æ¥è¾åº",slug:"æ¹æ³ä¸-ç´æ¥è¾åº",normalizedTitle:"æ¹æ³ä¸ï¼ç´æ¥è¾åº",charIndex:1101},{level:4,title:"æ¹æ³äºä½¿ç¨PageInfo",slug:"æ¹æ³äºä½¿ç¨pageinfo",normalizedTitle:"æ¹æ³äºä½¿ç¨pageinfo",charIndex:2129},{level:4,title:"å¸¸ç¨æ°æ®ï¼",slug:"å¸¸ç¨æ°æ®",normalizedTitle:"å¸¸ç¨æ°æ®ï¼",charIndex:3641}],headersStr:"åé¡µæä»¶ä½¿ç¨æ­¥éª¤ æ·»å ä¾èµ éç½®åé¡µæä»¶ åé¡µæä»¶çä½¿ç¨ å¼å¯åé¡µåè½ åé¡µç¸å³æ°æ® æ¹æ³ä¸ï¼ç´æ¥è¾åº æ¹æ³äºä½¿ç¨PageInfo å¸¸ç¨æ°æ®ï¼",content:"# åé¡µæä»¶\n\n\n# åé¡µæä»¶ä½¿ç¨æ­¥éª¤\n\n\n# æ·»å ä¾èµ\n\n\x3c!-- https://mvnrepository.com/artifact/com.github.pagehelper/pagehelper --\x3e\n<dependency>\n\t<groupId>com.github.pagehelper</groupId>\n\t<artifactId>pagehelper</artifactId>\n\t<version>5.2.0</version>\n</dependency>\n\n\n\n# éç½®åé¡µæä»¶\n\n * å¨MyBatisçæ ¸å¿éç½®æä»¶ï¼mybatis-config.xmlï¼ä¸­éç½®æä»¶\n * \n\n<plugins>\n\t\x3c!--è®¾ç½®åé¡µæä»¶--\x3e\n\t<plugin interceptor=\"com.github.pagehelper.PageInterceptor\"></plugin>\n</plugins>\n\n\n\n\n\n# åé¡µæä»¶çä½¿ç¨\n\n\n# å¼å¯åé¡µåè½\n\n * å¨æ¥è¯¢åè½ä¹åä½¿ç¨PageHelper.startPage(int pageNum, int pageSize)å¼å¯åé¡µåè½\n   * pageNumï¼å½åé¡µçé¡µç \n   * pageSizeï¼æ¯é¡µæ¾ç¤ºçæ¡æ°\n\n\n\n@Test\npublic void testPageHelper() throws IOException {\n\tInputStream is = Resources.getResourceAsStream(\"mybatis-config.xml\");\n\tSqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();\n\tSqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);\n\tSqlSession sqlSession = sqlSessionFactory.openSession(true);\n\tEmpMapper mapper = sqlSession.getMapper(EmpMapper.class);\n\t//è®¿é®ç¬¬ä¸é¡µï¼æ¯é¡µåæ¡æ°æ®\n\tPageHelper.startPage(1,4);\n\tList<Emp> emps = mapper.selectByExample(null);\n\temps.forEach(System.out::println);\n}\n\n\n\n\n\n# åé¡µç¸å³æ°æ®\n\n# æ¹æ³ä¸ï¼ç´æ¥è¾åº\n\n@Test\npublic void testPageHelper() throws IOException {\n\tInputStream is = Resources.getResourceAsStream(\"mybatis-config.xml\");\n\tSqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();\n\tSqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);\n\tSqlSession sqlSession = sqlSessionFactory.openSession(true);\n\tEmpMapper mapper = sqlSession.getMapper(EmpMapper.class);\n\t//è®¿é®ç¬¬ä¸é¡µï¼æ¯é¡µåæ¡æ°æ®\n\tPage<Object> page = PageHelper.startPage(1, 4);\n\tList<Emp> emps = mapper.selectByExample(null);\n\t//å¨æ¥è¯¢å°Listéååï¼æå°åé¡µæ°æ®\n\tSystem.out.println(page);\n}\n\n\n * åé¡µç¸å³æ°æ®ï¼ä¸ä¸ªpageå¯¹è±¡ä¸­çä¿¡æ¯ï¼ï¼\n   \n   Page{count=true, pageNum=1, pageSize=4, startRow=0, endRow=4, total=8, pages=2, reasonable=false, pageSizeZero=false}[Emp{eid=1, empName='admin', age=22, sex='ç·', email='456@qq.com', did=3}, Emp{eid=2, empName='admin2', age=22, sex='ç·', email='456@qq.com', did=3}, Emp{eid=3, empName='çäº', age=12, sex='å¥³', email='123@qq.com', did=3}, Emp{eid=4, empName='èµµå­', age=32, sex='ç·', email='123@qq.com', did=1}]\n   \n\n# æ¹æ³äºä½¿ç¨PageInfo\n\n * å¨æ¥è¯¢è·ålistéåä¹åï¼ä½¿ç¨PageInfo<T> pageInfo = new PageInfo<>(List<T> list, intnavigatePages)è·ååé¡µç¸å³æ°æ®\n   * listï¼åé¡µä¹åçæ°æ®\n   * navigatePagesï¼å¯¼èªåé¡µçé¡µç æ°\n\n@Test\npublic void testPageHelper() throws IOException {\n\tInputStream is = Resources.getResourceAsStream(\"mybatis-config.xml\");\n\tSqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();\n\tSqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);\n\tSqlSession sqlSession = sqlSessionFactory.openSession(true);\n\tEmpMapper mapper = sqlSession.getMapper(EmpMapper.class);\n\tPageHelper.startPage(1, 4);\n\tList<Emp> emps = mapper.selectByExample(null);\n\tPageInfo<Emp> page = new PageInfo<>(emps,5);  // 5è¡¨ç¤ºäºä¸ªå¯¼èªåé¡µï¼å³ï¼1ã2ã3ã4ã5ï¼æèï¼3ã4ã5ã6ã7ï¼ï¼ä¸è¬é½ä¸ºå¥æ°\n\tSystem.out.println(page);\n}\n\n\n * åé¡µç¸å³æ°æ®ï¼\n   \n   PageInfo{\n   pageNum=1, pageSize=4, size=4, startRow=1, endRow=4, total=8, pages=2, \n   list=Page{count=true, pageNum=1, pageSize=4, startRow=0, endRow=4, total=8, pages=2, reasonable=false, pageSizeZero=false}[Emp{eid=1, empName='admin', age=22, sex='ç·', email='456@qq.com', did=3}, Emp{eid=2, empName='admin2', age=22, sex='ç·', email='456@qq.com', did=3}, Emp{eid=3, empName='çäº', age=12, sex='å¥³', email='123@qq.com', did=3}, Emp{eid=4, empName='èµµå­', age=32, sex='ç·', email='123@qq.com', did=1}], \n   prePage=0, nextPage=2, isFirstPage=true, isLastPage=false, hasPreviousPage=false, hasNextPage=true, navigatePages=5, navigateFirstPage=1, navigateLastPage=2, navigatepageNums=[1, 2]}\n   \n\n * å¶ä¸­listä¸­çæ°æ®ç­åäºæ¹æ³ä¸ä¸­ç´æ¥è¾åºçpageæ°æ®\n\n# å¸¸ç¨æ°æ®ï¼\n\n * pageNumï¼å½åé¡µçé¡µç \n * pageSizeï¼æ¯é¡µæ¾ç¤ºçæ¡æ°\n * sizeï¼å½åé¡µæ¾ç¤ºççå®æ¡æ°\n * totalï¼æ»è®°å½æ°\n * pagesï¼æ»é¡µæ°\n * prePageï¼ä¸ä¸é¡µçé¡µç \n * nextPageï¼ä¸ä¸é¡µçé¡µç \n * isFirstPage/isLastPageï¼æ¯å¦ä¸ºç¬¬ä¸é¡µ/æåä¸é¡µ\n * hasPreviousPage/hasNextPageï¼æ¯å¦å­å¨ä¸ä¸é¡µ/ä¸ä¸é¡µ\n * navigatePagesï¼å¯¼èªåé¡µçé¡µç æ°\n * navigatepageNumsï¼å¯¼èªåé¡µçé¡µç ï¼[1,2,3,4,5]",normalizedContent:"# åé¡µæä»¶\n\n\n# åé¡µæä»¶ä½¿ç¨æ­¥éª¤\n\n\n# æ·»å ä¾èµ\n\n\x3c!-- https://mvnrepository.com/artifact/com.github.pagehelper/pagehelper --\x3e\n<dependency>\n\t<groupid>com.github.pagehelper</groupid>\n\t<artifactid>pagehelper</artifactid>\n\t<version>5.2.0</version>\n</dependency>\n\n\n\n# éç½®åé¡µæä»¶\n\n * å¨mybatisçæ ¸å¿éç½®æä»¶ï¼mybatis-config.xmlï¼ä¸­éç½®æä»¶\n * \n\n<plugins>\n\t\x3c!--è®¾ç½®åé¡µæä»¶--\x3e\n\t<plugin interceptor=\"com.github.pagehelper.pageinterceptor\"></plugin>\n</plugins>\n\n\n\n\n\n# åé¡µæä»¶çä½¿ç¨\n\n\n# å¼å¯åé¡µåè½\n\n * å¨æ¥è¯¢åè½ä¹åä½¿ç¨pagehelper.startpage(int pagenum, int pagesize)å¼å¯åé¡µåè½\n   * pagenumï¼å½åé¡µçé¡µç \n   * pagesizeï¼æ¯é¡µæ¾ç¤ºçæ¡æ°\n\n\n\n@test\npublic void testpagehelper() throws ioexception {\n\tinputstream is = resources.getresourceasstream(\"mybatis-config.xml\");\n\tsqlsessionfactorybuilder sqlsessionfactorybuilder = new sqlsessionfactorybuilder();\n\tsqlsessionfactory sqlsessionfactory = sqlsessionfactorybuilder.build(is);\n\tsqlsession sqlsession = sqlsessionfactory.opensession(true);\n\tempmapper mapper = sqlsession.getmapper(empmapper.class);\n\t//è®¿é®ç¬¬ä¸é¡µï¼æ¯é¡µåæ¡æ°æ®\n\tpagehelper.startpage(1,4);\n\tlist<emp> emps = mapper.selectbyexample(null);\n\temps.foreach(system.out::println);\n}\n\n\n\n\n\n# åé¡µç¸å³æ°æ®\n\n# æ¹æ³ä¸ï¼ç´æ¥è¾åº\n\n@test\npublic void testpagehelper() throws ioexception {\n\tinputstream is = resources.getresourceasstream(\"mybatis-config.xml\");\n\tsqlsessionfactorybuilder sqlsessionfactorybuilder = new sqlsessionfactorybuilder();\n\tsqlsessionfactory sqlsessionfactory = sqlsessionfactorybuilder.build(is);\n\tsqlsession sqlsession = sqlsessionfactory.opensession(true);\n\tempmapper mapper = sqlsession.getmapper(empmapper.class);\n\t//è®¿é®ç¬¬ä¸é¡µï¼æ¯é¡µåæ¡æ°æ®\n\tpage<object> page = pagehelper.startpage(1, 4);\n\tlist<emp> emps = mapper.selectbyexample(null);\n\t//å¨æ¥è¯¢å°listéååï¼æå°åé¡µæ°æ®\n\tsystem.out.println(page);\n}\n\n\n * åé¡µç¸å³æ°æ®ï¼ä¸ä¸ªpageå¯¹è±¡ä¸­çä¿¡æ¯ï¼ï¼\n   \n   page{count=true, pagenum=1, pagesize=4, startrow=0, endrow=4, total=8, pages=2, reasonable=false, pagesizezero=false}[emp{eid=1, empname='admin', age=22, sex='ç·', email='456@qq.com', did=3}, emp{eid=2, empname='admin2', age=22, sex='ç·', email='456@qq.com', did=3}, emp{eid=3, empname='çäº', age=12, sex='å¥³', email='123@qq.com', did=3}, emp{eid=4, empname='èµµå­', age=32, sex='ç·', email='123@qq.com', did=1}]\n   \n\n# æ¹æ³äºä½¿ç¨pageinfo\n\n * å¨æ¥è¯¢è·ålistéåä¹åï¼ä½¿ç¨pageinfo<t> pageinfo = new pageinfo<>(list<t> list, intnavigatepages)è·ååé¡µç¸å³æ°æ®\n   * listï¼åé¡µä¹åçæ°æ®\n   * navigatepagesï¼å¯¼èªåé¡µçé¡µç æ°\n\n@test\npublic void testpagehelper() throws ioexception {\n\tinputstream is = resources.getresourceasstream(\"mybatis-config.xml\");\n\tsqlsessionfactorybuilder sqlsessionfactorybuilder = new sqlsessionfactorybuilder();\n\tsqlsessionfactory sqlsessionfactory = sqlsessionfactorybuilder.build(is);\n\tsqlsession sqlsession = sqlsessionfactory.opensession(true);\n\tempmapper mapper = sqlsession.getmapper(empmapper.class);\n\tpagehelper.startpage(1, 4);\n\tlist<emp> emps = mapper.selectbyexample(null);\n\tpageinfo<emp> page = new pageinfo<>(emps,5);  // 5è¡¨ç¤ºäºä¸ªå¯¼èªåé¡µï¼å³ï¼1ã2ã3ã4ã5ï¼æèï¼3ã4ã5ã6ã7ï¼ï¼ä¸è¬é½ä¸ºå¥æ°\n\tsystem.out.println(page);\n}\n\n\n * åé¡µç¸å³æ°æ®ï¼\n   \n   pageinfo{\n   pagenum=1, pagesize=4, size=4, startrow=1, endrow=4, total=8, pages=2, \n   list=page{count=true, pagenum=1, pagesize=4, startrow=0, endrow=4, total=8, pages=2, reasonable=false, pagesizezero=false}[emp{eid=1, empname='admin', age=22, sex='ç·', email='456@qq.com', did=3}, emp{eid=2, empname='admin2', age=22, sex='ç·', email='456@qq.com', did=3}, emp{eid=3, empname='çäº', age=12, sex='å¥³', email='123@qq.com', did=3}, emp{eid=4, empname='èµµå­', age=32, sex='ç·', email='123@qq.com', did=1}], \n   prepage=0, nextpage=2, isfirstpage=true, islastpage=false, haspreviouspage=false, hasnextpage=true, navigatepages=5, navigatefirstpage=1, navigatelastpage=2, navigatepagenums=[1, 2]}\n   \n\n * å¶ä¸­listä¸­çæ°æ®ç­åäºæ¹æ³ä¸ä¸­ç´æ¥è¾åºçpageæ°æ®\n\n# å¸¸ç¨æ°æ®ï¼\n\n * pagenumï¼å½åé¡µçé¡µç \n * pagesizeï¼æ¯é¡µæ¾ç¤ºçæ¡æ°\n * sizeï¼å½åé¡µæ¾ç¤ºççå®æ¡æ°\n * totalï¼æ»è®°å½æ°\n * pagesï¼æ»é¡µæ°\n * prepageï¼ä¸ä¸é¡µçé¡µç \n * nextpageï¼ä¸ä¸é¡µçé¡µç \n * isfirstpage/islastpageï¼æ¯å¦ä¸ºç¬¬ä¸é¡µ/æåä¸é¡µ\n * haspreviouspage/hasnextpageï¼æ¯å¦å­å¨ä¸ä¸é¡µ/ä¸ä¸é¡µ\n * navigatepagesï¼å¯¼èªåé¡µçé¡µç æ°\n * navigatepagenumsï¼å¯¼èªåé¡µçé¡µç ï¼[1,2,3,4,5]",charsets:{cjk:!0}},{title:"ç®ä»",frontmatter:{title:"ç®ä»",date:"2021-07-31T00:00:00.000Z",permalink:"/mybatis-plus/001/",categories:["æ¡æ¶","MyBatis-Plus"],tags:["MyBatis-Plus"]},regularPath:"/07.%E6%A1%86%E6%9E%B6/05.MyBatis-Plus/01.%E7%AE%80%E4%BB%8B.html",relativePath:"07.æ¡æ¶/05.MyBatis-Plus/01.ç®ä».md",key:"v-57d76a9a",path:"/mybatis-plus/001/",headers:[{level:2,title:"1 ãç®ä»",slug:"_1-ãç®ä»",normalizedTitle:"1 ãç®ä»",charIndex:23},{level:2,title:"2ãç¹æ§",slug:"_2ãç¹æ§",normalizedTitle:"2ãç¹æ§",charIndex:144},{level:2,title:"3ãæ¯ææ°æ®åº",slug:"_3ãæ¯ææ°æ®åº",normalizedTitle:"3ãæ¯ææ°æ®åº",charIndex:851},{level:2,title:"4ãæ¡æ¶ç»æ",slug:"_4ãæ¡æ¶ç»æ",normalizedTitle:"4ãæ¡æ¶ç»æ",charIndex:1086},{level:2,title:"5 ãä»£ç åææ¡£å°å",slug:"_5-ãä»£ç åææ¡£å°å",normalizedTitle:"5 ãä»£ç åææ¡£å°å",charIndex:1097}],headersStr:"1 ãç®ä» 2ãç¹æ§ 3ãæ¯ææ°æ®åº 4ãæ¡æ¶ç»æ 5 ãä»£ç åææ¡£å°å",content:"# ä¸ãMyBatis-Plusç®ä»\n\n\n# 1 ãç®ä»\n\nMyBatis-Plusï¼ç®ç§°MPï¼æ¯ä¸ä¸ªMyBatisçå¢å¼ºå·¥å·ï¼å¨MyBatisçåºç¡ä¸åªåå¢å¼ºä¸åæ¹åï¼ä¸ºç®åå¼åãæé«æçèçãæ¿æ¯æ¯æä¸ºMyBatisæå¥½çæ­æ¡£ï¼å°±åé­æç½ä¸­ç1Pã2Pï¼åºåæ­éï¼æçç¿»åã\n\n\n# 2ãç¹æ§\n\n * æ ä¾µå¥ï¼åªåå¢å¼ºä¸åæ¹åï¼å¼å¥å®ä¸ä¼å¯¹ç°æå·¥ç¨äº§çå½±åï¼å¦ä¸è¬é¡ºæ»\n * æèå°ï¼å¯å¨å³ä¼èªå¨æ³¨å¥åºæ¬CURDï¼æ§è½åºæ¬æ æèï¼ç´æ¥é¢åå¯¹è±¡æä½\n * å¼ºå¤§çCRUDæä½ï¼åç½®éç¨Mapperãéç¨Serviceï¼ä»ä»éè¿å°ééç½®å³å¯å®ç°åè¡¨å¤§é¨åCRUDæä½ï¼æ´æå¼ºå¤§çæ¡ä»¶æé å¨ï¼æ»¡è¶³åç±»ä½¿ç¨éæ±\n * æ¯æLambdaå½¢å¼è°ç¨ï¼éè¿Lambdaè¡¨è¾¾å¼ï¼æ¹ä¾¿çç¼ååç±»æ¥è¯¢æ¡ä»¶ï¼æ éåæå¿å­æ®µåé\n * æ¯æä¸»é®èªå¨çæï¼æ¯æå¤è¾¾4ç§ä¸»é®ç­ç¥ï¼åå«åå¸å¼å¯ä¸IDçæå¨-Sequenceï¼ï¼å¯èªç±éç½®ï¼å®ç¾è§£å³ä¸»é®é®é¢\n * æ¯æActiveRecordæ¨¡å¼ï¼æ¯æActiveRecordå½¢å¼è°ç¨ï¼å®ä½ç±»åªéç»§æ¿Modelç±»å³å¯è¿è¡å¼ºå¤§çCRUDæä½ -æ¯æèªå®ä¹å¨å±éç¨æä½ï¼æ¯æå¨å±éç¨æ¹æ³æ³¨å¥ï¼Write once,use anywhereï¼ï¼åç½®ä»£ç çæå¨ï¼éç¨ä»£ç æèMavenæä»¶å¯å¿«éçæMapperãModelãServiceãControllerå±ä»£ç ï¼æ¯ææ¨¡æ¿å¼æï¼æ´æè¶å¤èªå®ä¹éç½®ç­æ¨æ¥ä½¿ç¨\n * åç½®åé¡µæä»¶ï¼åºäºMyBatisç©çåé¡µï¼å¼åèæ éå³å¿å·ä½æä½ï¼éç½®å¥½æä»¶ä¹åï¼ååé¡µç­åäºæ®éListæ¥è¯¢ãåé¡µæä»¶æ¯æå¤ç§æ°æ®åºï¼æ¯æMySQLãMariaDBãOracleãDB2ãH2ãHSQLãSQLiteãPostgreãSQLServerç­å¤ç§æ°æ®åºåç½®æ§è½åææä»¶ï¼å¯è¾åºSQLè¯­å¥ä»¥åå¶æ§è¡æ¶é´ï¼å»ºè®®å¼åæµè¯æ¶å¯ç¨è¯¥åè½ï¼è½å¿«éæªåºæ¢æ¥è¯¢ï¼åç½®å¨å±æ¦æªæä»¶ï¼æä¾å¨è¡¨deleteãupdateæä½æºè½åæé»æ­ï¼ä¹å¯èªå®ä¹æ¦æªè§åï¼é¢é²è¯¯æä½\n\n\n# 3ãæ¯ææ°æ®åº\n\nä»»ä½è½ä½¿ç¨MyBatisè¿è¡CRUD,å¹¶ä¸æ¯ææ åSQLçæ°æ®åºï¼å·ä½æ¯ææåµå¦ä¸ï¼MySQLï¼Oracleï¼DB2ï¼H2ï¼HSQLï¼SQLiteï¼PostgreSQLï¼SQLServerï¼Phoenixï¼Gaussï¼ClickHouseï¼Sybaseï¼OceanBaseï¼Firebirdï¼Cubridï¼Goldilocksï¼csiidbè¾¾æ¢¦æ°æ®åºï¼èè°·æ°æ®åºï¼äººå¤§éä»æ°æ®åºï¼åå¤§éç¨(ååº)æ°æ®åºï¼åå¤§éç¨æ°æ®åºï¼ç¥éæ°æ®åºï¼çé«æ°æ®åº\n\n\n# 4ãæ¡æ¶ç»æ\n\n\n# 5 ãä»£ç åææ¡£å°å\n\n * å®æ¹å°å: http://mp.baomidou.com\n * ä»£ç åå¸å°å:\n   * Github: https://github.com/baomidou/mybatis-plus\n   * Gitee: https://gitee.com/baomidou/mybatis-plus\n   * ææ¡£åå¸å°å: https://baomidou.com/pages/24112f",normalizedContent:"# ä¸ãmybatis-plusç®ä»\n\n\n# 1 ãç®ä»\n\nmybatis-plusï¼ç®ç§°mpï¼æ¯ä¸ä¸ªmybatisçå¢å¼ºå·¥å·ï¼å¨mybatisçåºç¡ä¸åªåå¢å¼ºä¸åæ¹åï¼ä¸ºç®åå¼åãæé«æçèçãæ¿æ¯æ¯æä¸ºmybatisæå¥½çæ­æ¡£ï¼å°±åé­æç½ä¸­ç1pã2pï¼åºåæ­éï¼æçç¿»åã\n\n\n# 2ãç¹æ§\n\n * æ ä¾µå¥ï¼åªåå¢å¼ºä¸åæ¹åï¼å¼å¥å®ä¸ä¼å¯¹ç°æå·¥ç¨äº§çå½±åï¼å¦ä¸è¬é¡ºæ»\n * æèå°ï¼å¯å¨å³ä¼èªå¨æ³¨å¥åºæ¬curdï¼æ§è½åºæ¬æ æèï¼ç´æ¥é¢åå¯¹è±¡æä½\n * å¼ºå¤§çcrudæä½ï¼åç½®éç¨mapperãéç¨serviceï¼ä»ä»éè¿å°ééç½®å³å¯å®ç°åè¡¨å¤§é¨åcrudæä½ï¼æ´æå¼ºå¤§çæ¡ä»¶æé å¨ï¼æ»¡è¶³åç±»ä½¿ç¨éæ±\n * æ¯ælambdaå½¢å¼è°ç¨ï¼éè¿lambdaè¡¨è¾¾å¼ï¼æ¹ä¾¿çç¼ååç±»æ¥è¯¢æ¡ä»¶ï¼æ éåæå¿å­æ®µåé\n * æ¯æä¸»é®èªå¨çæï¼æ¯æå¤è¾¾4ç§ä¸»é®ç­ç¥ï¼åå«åå¸å¼å¯ä¸idçæå¨-sequenceï¼ï¼å¯èªç±éç½®ï¼å®ç¾è§£å³ä¸»é®é®é¢\n * æ¯æactiverecordæ¨¡å¼ï¼æ¯æactiverecordå½¢å¼è°ç¨ï¼å®ä½ç±»åªéç»§æ¿modelç±»å³å¯è¿è¡å¼ºå¤§çcrudæä½ -æ¯æèªå®ä¹å¨å±éç¨æä½ï¼æ¯æå¨å±éç¨æ¹æ³æ³¨å¥ï¼write once,use anywhereï¼ï¼åç½®ä»£ç çæå¨ï¼éç¨ä»£ç æèmavenæä»¶å¯å¿«éçæmapperãmodelãserviceãcontrollerå±ä»£ç ï¼æ¯ææ¨¡æ¿å¼æï¼æ´æè¶å¤èªå®ä¹éç½®ç­æ¨æ¥ä½¿ç¨\n * åç½®åé¡µæä»¶ï¼åºäºmybatisç©çåé¡µï¼å¼åèæ éå³å¿å·ä½æä½ï¼éç½®å¥½æä»¶ä¹åï¼ååé¡µç­åäºæ®élistæ¥è¯¢ãåé¡µæä»¶æ¯æå¤ç§æ°æ®åºï¼æ¯æmysqlãmariadbãoracleãdb2ãh2ãhsqlãsqliteãpostgreãsqlserverç­å¤ç§æ°æ®åºåç½®æ§è½åææä»¶ï¼å¯è¾åºsqlè¯­å¥ä»¥åå¶æ§è¡æ¶é´ï¼å»ºè®®å¼åæµè¯æ¶å¯ç¨è¯¥åè½ï¼è½å¿«éæªåºæ¢æ¥è¯¢ï¼åç½®å¨å±æ¦æªæä»¶ï¼æä¾å¨è¡¨deleteãupdateæä½æºè½åæé»æ­ï¼ä¹å¯èªå®ä¹æ¦æªè§åï¼é¢é²è¯¯æä½\n\n\n# 3ãæ¯ææ°æ®åº\n\nä»»ä½è½ä½¿ç¨mybatisè¿è¡crud,å¹¶ä¸æ¯ææ åsqlçæ°æ®åºï¼å·ä½æ¯ææåµå¦ä¸ï¼mysqlï¼oracleï¼db2ï¼h2ï¼hsqlï¼sqliteï¼postgresqlï¼sqlserverï¼phoenixï¼gaussï¼clickhouseï¼sybaseï¼oceanbaseï¼firebirdï¼cubridï¼goldilocksï¼csiidbè¾¾æ¢¦æ°æ®åºï¼èè°·æ°æ®åºï¼äººå¤§éä»æ°æ®åºï¼åå¤§éç¨(ååº)æ°æ®åºï¼åå¤§éç¨æ°æ®åºï¼ç¥éæ°æ®åºï¼çé«æ°æ®åº\n\n\n# 4ãæ¡æ¶ç»æ\n\n\n# 5 ãä»£ç åææ¡£å°å\n\n * å®æ¹å°å: http://mp.baomidou.com\n * ä»£ç åå¸å°å:\n   * github: https://github.com/baomidou/mybatis-plus\n   * gitee: https://gitee.com/baomidou/mybatis-plus\n   * ææ¡£åå¸å°å: https://baomidou.com/pages/24112f",charsets:{cjk:!0}},{title:"Home",frontmatter:{home:!0,heroImage:"/img/myhead.png",heroText:"å¿å­ææ¿ï¼æéçæ¸©æã",tagline:"ãæµ·è¡æ¥è®°ã",bannerBg:"none",postList:"none"},regularPath:"/",relativePath:"index.md",key:"v-c70045c2",path:"/",headersStr:null,content:"",normalizedContent:"",charsets:{}}],themeConfig:{nav:[{text:"é¦é¡µ",link:"/"},{text:"è®¡ç®æºåºç¡",link:"/computerbasics/",items:[{text:"æ°æ®ç»æ",link:"/datastructrue/001/"},{text:"è®¡ç®æºç½ç»",link:"/computerinternet/001/"},{text:"æä½ç³»ç»",link:"/operatingsystem/001/"}]},{text:"å¼åå·¥å·",link:"/tools/",items:[{text:"Markdown",link:"/markdown/001/"},{text:"Git",link:"/git/001/"}]},{text:"ç®æ³",link:"/leetcode/001/"},{text:"Java",link:"/java/",items:[{text:"åºç¡",link:"/basis/001/"},{text:"é«çº§",link:"/high/001/"}]},{text:"JavaWeb",link:"/javaweb/",items:[{text:"åºç¡",link:"/web/001/"}]},{text:"æ°æ®åº",link:"/database/",items:[{text:"MySQL",link:"/mysql/001/"}]},{text:"æ¡æ¶",link:"/framework/",items:[{text:"Spring",link:"/spring/001/"},{text:"SpringMVC",link:"/springmvc/001/"},{text:"SpringBoot",link:"/springboot/001/"},{text:"MyBatis",link:"/mybatis/001/"},{text:"MyBatis-Plus",link:"/mybatis-plus/001/"}]}],sidebarDepth:2,searchMaxSuggestions:10,lastUpdated:"ä¸æ¬¡æ´æ°",docsDir:"docs",editLinks:!0,editLinkText:"ç¼è¾",sidebar:{"/00.ç®å½é¡µ/":[["01.è®¡ç®æºåºç¡.md","è®¡ç®æºåºç¡","/computerbasics/"],["02.å¼åå·¥å·.md","å¼åå·¥å·","/tools/"],["04.Java.md","æ´å¤","/java/"],["05.JavaWeb.md","ææ¯","/javaweb/"],["06.æ°æ®åº.md","æ´å¤","/database/"],["07.æ¡æ¶.md","æ¡æ¶","/framework/"]],catalogue:{"è®¡ç®æºåºç¡":"/computerbasics/","å¼åå·¥å·":"/tools/",Java:"/java/",JavaWeb:"/javaweb/","æ°æ®åº":"/database/","æ¡æ¶":"/framework/"},"/01.è®¡ç®æºåºç¡/":[{title:"æ°æ®ç»æ",collapsable:!0,children:[["01.æ°æ®ç»æ/01.çº¢é»æ .md","çº¢é»æ ","/datastructrue/001/"]]},{title:"è®¡ç®æºç½ç»",collapsable:!0,children:[["02.è®¡ç®æºç½ç»/01.å¸¸è§ç¶æç .md","å¸¸è§ç¶æç ","/computerinternet/001/"]]},{title:"æä½ç³»ç»",collapsable:!0,children:[["03.æä½ç³»ç»/01.å¸¸è§é®é¢æ»ç».md","å¸¸è§é®é¢","/operatingsystem/001/"]]}],"/02.å¼åå·¥å·/":[{title:"Markdown",collapsable:!0,children:[["01.Markdown/01.Markdownä½¿ç¨æç¨.md","Markdown","/markdown/001/"]]},{title:"Git",collapsable:!0,children:[["02.Git/01.Gitä½¿ç¨æå.md","Git","/git/001/"]]}],"/03.ç®æ³/":[["01.LeetCode.md","LeetCode","/leetcode/001/"]],"/04.Java/":[{title:"åºç¡",collapsable:!0,children:[["01.åºç¡/01.IO.md","IO","/basis/001/"]]},{title:"é«çº§",collapsable:!0,children:[["02.é«çº§/01.åå°.md","åå°","/high/001/"]]}],"/05.JavaWeb/":[{title:"åºç¡",collapsable:!0,children:[["01.åºç¡/01.Webåºç¡æ¦å¿µ.md","Webåºç¡æ¦å¿µç®ä»","/web/001/"]]}],"/06.æ°æ®åº/":[{title:"MySQL",collapsable:!0,children:[["01.MySQL/01.æ¦è¿°.md","æ¦è¿°","/mysql/001/"]]}],"/07.æ¡æ¶/":[{title:"Spring",collapsable:!0,children:[["01.Spring/01.æ¦è¿°.md","æ¦è¿°","/spring/001/"]]},{title:"SpringMVC",collapsable:!0,children:[["02.SpringMVC/01.SpringMVCç®ä».md","SpringMVCç®ä»","/springmvc/001/"],["02.SpringMVC/02.HelloWorld.md","HelloWorld","/springmvc/002/"],["02.SpringMVC/03.RequestMappingæ³¨è§£.md","RequestMappingæ³¨è§£","/springmvc/003/"],["02.SpringMVC/04.SpringMVCè·åè¯·æ±åæ°.md","SpringMVCè·åè¯·æ±åæ°","/springmvc/004/"],["02.SpringMVC/05.åå¯¹è±¡å±äº«æ°æ®.md","åå¯¹è±¡å±äº«æ°æ®","/springmvc/005/"],["02.SpringMVC/06.SpringMVCçè§å¾.md","SpringMVCçè§å¾","/springmvc/006/"],["02.SpringMVC/07.RESTful.md","RESTful","/springmvc/007/"],["02.SpringMVC/08.RESTfulæ¡ä¾.md","RESTfulæ¡ä¾","/springmvc/008/"],["02.SpringMVC/09.æä»¶ä¸ä¼ åä¸è½½.md","æä»¶ä¸ä¼ åä¸è½½","/springmvc/009/"],["02.SpringMVC/10.æ¦æªå¨.md","æ¦æªå¨","/springmvc/010/"],["02.SpringMVC/11.å¼å¸¸å¤çå¨.md","å¼å¸¸å¤çå¨","/springmvc/011/"],["02.SpringMVC/12.æ³¨è§£éç½®SpringMVC.md","æ³¨è§£éç½®SpringMVC","/springmvc/012/"],["02.SpringMVC/13.SpringMVCæ§è¡æµç¨.md","SpringMVCæ§è¡æµç¨","/springmvc/013/"]]},{title:"SpringBoot",collapsable:!0,children:[["03.SpringBoot/01.å¿«éå¥é¨.md","å¿«éå¥é¨","/springboot/001/"],["03.SpringBoot/02.è¿ç»´.md","è¿ç»´","/springboot/002/"],["03.SpringBoot/03.å¼åå®ç¨ç¯.md","å¼å","/springboot/003/"],["03.SpringBoot/04.åç.md","åç","/springboot/004/"]]},{title:"MyBatis",collapsable:!0,children:[["04.MyBatis/01.ç®ä»åéç½®.md","ç®ä»åéç½®","/mybatis/001/"],["04.MyBatis/02.æ ¸å¿éç½®æä»¶è¯¦è§£.md","æ ¸å¿éç½®æä»¶è¯¦è§£","/mybatis/002/"],["04.MyBatis/03.MyBatisçåç§æ¥è¯¢åè½.md","MyBatisçåç§æ¥è¯¢åè½","/mybatis/003/"],["04.MyBatis/04.èªå®ä¹æ å°resultMap.md","èªå®ä¹æ å°resultMap","/mybatis/004/"],["04.MyBatis/05.å¨æSQL.md","å¨æSQL","/mybatis/005/"],["04.MyBatis/06.MyBatisçç¼å­.md","MyBatisçç¼å­","/mybatis/006/"],["04.MyBatis/07.MyBatisçéåå·¥ç¨.md","MyBatisçéåå·¥ç¨","/mybatis/007/"],["04.MyBatis/08.åé¡µæä»¶.md","åé¡µæä»¶","/mybatis/008/"]]},{title:"MyBatis-Plus",collapsable:!0,children:[["05.MyBatis-Plus/01.ç®ä».md","ç®ä»","/mybatis-plus/001/"]]}]},sidebarOpen:!0,updateBar:{showToArticle:!1,moreArticle:"/archives"},titleBadge:!0,category:!1,tag:!1,archive:!1,social:{icons:[{iconClass:"icon-youjian",title:"æ¬ä¸»é¡µé¨ååå®¹æ¥èªç½ç»ï¼ä¾µæè¯·èç³»1548362125@qq.comå é¤ã",link:"mailto:894072666@qq.com"}]},footer:{createYear:2019,copyrightInfo:"Evan Xu | MIT License"},htmlModules:{pageT:'\n  <div class="wwads-cn wwads-horizontal page-ad" data-id="136" style="width:100%;max-height:80px;min-height:auto;"></div>\n  <style>\n    .page-ad img{\n      width:70px!important;\n    }\n    .wwads-horizontal .wwads-content{\n      display: flex;\n      align-items: center;\n    }\n    .wwads-horizontal .wwads-text, .wwads-content .wwads-text{\n      line-height:1;\n      flex: 1;\n      height: 100%;\n      display: flex;\n      align-items: center;\n    }\n    .wwads-horizontal .wwads-poweredby, .wwads-vertical .wwads-poweredby{display: none;!important;}\n  </style>\n  '}}};t(155),t(214),t(143);var ll=t(224),cl=t(225),pl=(t(391),t(240),t(42));var dl={computed:{$filterPosts:function(){return this.$site.pages.filter((function(n){var e=n.frontmatter,t=e.pageComponent,r=e.article,i=e.home;return!(t||!1===r||!0===i)}))},$sortPosts:function(){return(n=this.$filterPosts).sort((function(n,e){var t=n.frontmatter.sticky,r=e.frontmatter.sticky;return t&&r?t==r?Object(pl.a)(n,e):t-r:t&&!r?-1:!t&&r?1:Object(pl.a)(n,e)})),n;var n},$sortPostsByDate:function(){return(n=this.$filterPosts).sort((function(n,e){return Object(pl.a)(n,e)})),n;var n},$groupPosts:function(){return function(n){for(var e={},t={},r=function(r,i){var a=n[r].frontmatter,o=a.categories,s=a.tags;"array"===Object(pl.n)(o)&&o.forEach((function(t){t&&(e[t]||(e[t]=[]),e[t].push(n[r]))})),"array"===Object(pl.n)(s)&&s.forEach((function(e){e&&(t[e]||(t[e]=[]),t[e].push(n[r]))}))},i=0,a=n.length;i<a;i++)r(i);return{categories:e,tags:t}}(this.$sortPosts)},$categoriesAndTags:function(){return function(n){var e=[],t=[];for(var r in n.categories)e.push({key:r,length:n.categories[r].length});for(var i in n.tags)t.push({key:i,length:n.tags[i].length});return{categories:e,tags:t}}(this.$groupPosts)}}};Bi.component(ll.default),Bi.component(cl.default);function ul(n){return n.toString().padStart(2,"0")}t(395);Bi.component("Badge",(function(){return Promise.all([t.e(0),t.e(3)]).then(t.bind(null,538))})),Bi.component("CodeBlock",(function(){return Promise.resolve().then(t.bind(null,224))})),Bi.component("CodeGroup",(function(){return Promise.resolve().then(t.bind(null,225))}));t(396);var ml=[function(n){n.Vue,n.options;var e=n.router;n.siteData;n.isServer||e.afterEach((function(){var n;n=function(){setTimeout((function(){var n,e;void 0===window._AdBlockInit&&(n=document.getElementsByClassName("wwads-cn"),e=document.querySelector(".wwads-content"),n[0]&&!e&&(n[0].innerHTML="<style>.wwads-horizontal,.wwads-vertical{background-color:#f4f8fa;padding:5px;min-height:120px;margin-top:20px;box-sizing:border-box;border-radius:3px;font-family:sans-serif;display:flex;min-width:150px;position:relative;overflow:hidden;}.wwads-horizontal{flex-wrap:wrap;justify-content:center}.wwads-vertical{flex-direction:column;align-items:center;padding-bottom:32px}.wwads-horizontal a,.wwads-vertical a{text-decoration:none}.wwads-horizontal .wwads-img,.wwads-vertical .wwads-img{margin:5px}.wwads-horizontal .wwads-content,.wwads-vertical .wwads-content{margin:5px}.wwads-horizontal .wwads-content{flex:130px}.wwads-vertical .wwads-content{margin-top:10px}.wwads-horizontal .wwads-text,.wwads-content .wwads-text{font-size:14px;line-height:1.4;color:#0e1011;-webkit-font-smoothing:antialiased}.wwads-horizontal .wwads-poweredby,.wwads-vertical .wwads-poweredby{display:block;font-size:11px;color:#a6b7bf;margin-top:1em}.wwads-vertical .wwads-poweredby{position:absolute;left:10px;bottom:10px}.wwads-horizontal .wwads-poweredby span,.wwads-vertical .wwads-poweredby span{transition:all 0.2s ease-in-out;margin-left:-1em}.wwads-horizontal .wwads-poweredby span:first-child,.wwads-vertical .wwads-poweredby span:first-child{opacity:0}.wwads-horizontal:hover .wwads-poweredby span,.wwads-vertical:hover .wwads-poweredby span{opacity:1;margin-left:0}.wwads-horizontal .wwads-hide,.wwads-vertical .wwads-hide{position:absolute;right:-23px;bottom:-23px;width:46px;height:46px;border-radius:23px;transition:all 0.3s ease-in-out;cursor:pointer;}.wwads-horizontal .wwads-hide:hover,.wwads-vertical .wwads-hide:hover{background:rgb(0 0 0 /0.05)}.wwads-horizontal .wwads-hide svg,.wwads-vertical .wwads-hide svg{position:absolute;left:10px;top:10px;fill:#a6b7bf}.wwads-horizontal .wwads-hide:hover svg,.wwads-vertical .wwads-hide:hover svg{fill:#3E4546}</style><a href='https://wwads.cn/page/whitelist-wwads' class='wwads-img' target='_blank' rel='nofollow'><img src='https://cdn.jsdelivr.net/gh/xugaoyi/image_store@master/blog/wwads.2a3pidhlh4ys.webp' width='130'></a><div class='wwads-content'><a href='https://wwads.cn/page/whitelist-wwads' class='wwads-text' target='_blank' rel='nofollow'>ä¸ºäºæ¬ç«çé¿æè¿è¥ï¼è¯·å°æä»¬çç½ç«å å¥å¹¿åæ¦æªå¨çç½ååï¼æè°¢æ¨çæ¯æï¼<span style='color: #11a8cd'>å¦ä½æ·»å ç½åå?</span></a><a href='https://wwads.cn/page/end-user-privacy' class='wwads-poweredby' title='ä¸ç»´å¹¿å ï½ è®©å¹¿åæ´ä¼éï¼ä¸æç¨' target='_blank'><span>ä¸ç»´</span><span>å¹¿å</span></a></div><a class='wwads-hide' onclick='parentNode.remove()' title='éèå¹¿å'><svg xmlns='http://www.w3.org/2000/svg' width='6' height='7'><path d='M.879.672L3 2.793 5.121.672a.5.5 0 11.707.707L3.708 3.5l2.12 2.121a.5.5 0 11-.707.707l-2.12-2.12-2.122 2.12a.5.5 0 11-.707-.707l2.121-2.12L.172 1.378A.5.5 0 01.879.672z'></path></svg></a>"))}),3e3)},"complete"===document.readyState||"interactive"===document.readyState?setTimeout(n,1):document.addEventListener("DOMContentLoaded",n),setTimeout((function(){var n=document.querySelector(".page-ad");if(n){var e=n.querySelector(".wwads-hide");e&&(e.onclick=function(){n.style.display="none"}),"none"===n.style.display&&(n.style.display="flex")}}),900)}))},function(n){var e=n.Vue,t=(n.options,n.router,n.siteData);t.pages.map((function(n){var e=n.frontmatter,r=e.date,i=e.author;"string"==typeof r&&"Z"===r.charAt(r.length-1)&&(n.frontmatter.date=function(n){n instanceof Date||(n=new Date(n));return"".concat(n.getUTCFullYear(),"-").concat(ul(n.getUTCMonth()+1),"-").concat(ul(n.getUTCDate())," ").concat(ul(n.getUTCHours()),":").concat(ul(n.getUTCMinutes()),":").concat(ul(n.getUTCSeconds()))}(r)),i?n.author=i:t.themeConfig.author&&(n.author=t.themeConfig.author)})),e.mixin(dl)},{},function(n){n.Vue.mixin({computed:{$dataBlock:function(){return this.$options.__data__block__}}})},{},{}],gl=[];t(217);function hl(n,e){return(hl=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}t(218),t(219);function vl(n){return(vl=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function fl(n,e){if(e&&("object"===Co(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function bl(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,r=vl(n);if(e){var i=vl(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return fl(this,t)}}var yl=function(n){!function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&hl(n,e)}(t,n);var e=bl(t);function t(){return cs(this,t),e.apply(this,arguments)}return ds(t)}(function(){function n(){cs(this,n),this.store=new Bi({data:{state:{}}})}return ds(n,[{key:"$get",value:function(n){return this.store.state[n]}},{key:"$set",value:function(n,e){Bi.set(this.store.state,n,e)}},{key:"$emit",value:function(){var n;(n=this.store).$emit.apply(n,arguments)}},{key:"$on",value:function(){var n;(n=this.store).$on.apply(n,arguments)}}]),n}());Object.assign(yl.prototype,{getPageAsyncComponent:Ho,getLayoutAsyncComponent:Vo,getAsyncComponent:Uo,getVueComponent:$o});var xl={install:function(n){var e=new yl;n.$vuepress=e,n.prototype.$vuepress=e}};function wl(n){n.beforeEach((function(e,t,r){if(Sl(n,e.path))r();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){var i=e.path.replace(/\/$/,"")+".html";Sl(n,i)?r(i):r()}else r();else{var a=e.path+"/",o=e.path+".html";Sl(n,o)?r(o):Sl(n,a)?r(a):r()}}))}function Sl(n,e){var t=e.toLowerCase();return n.options.routes.some((function(n){return n.path.toLowerCase()===t}))}var kl={props:{pageKey:String,slotKey:{type:String,default:"default"}},render:function(n){var e=this.pageKey||this.$parent.$page.key;return Wo("pageKey",e),Bi.component(e)||Bi.component(e,Ho(e)),Bi.component(e)?n(e):n("")}},jl={functional:!0,props:{slotKey:String,required:!0},render:function(n,e){var t=e.props,r=e.slots;return n("div",{class:["content__".concat(t.slotKey)]},r()[t.slotKey])}},ql={computed:{openInNewWindowTitle:function(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},Cl=(t(397),t(398),Object(il.a)(ql,(function(){var n=this.$createElement,e=this._self._c||n;return e("span",[e("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[e("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),e("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),e("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports);function Il(){return(Il=Object(r.a)(regeneratorRuntime.mark((function n(e){var t,r,i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:sl.routerBase||sl.base,wl(r=new jo({base:t,mode:"history",fallback:!1,routes:ol,scrollBehavior:function(n,e,t){return t||(n.hash?!Bi.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(n.hash)}:{x:0,y:0})}})),i={},n.prev=4,n.next=7,Promise.all(ml.filter((function(n){return"function"==typeof n})).map((function(n){return n({Vue:Bi,options:i,router:r,siteData:sl,isServer:e})})));case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(4),console.error(n.t0);case 12:return a=new Bi(Object.assign(i,{router:r,render:function(n){return n("div",{attrs:{id:"app"}},[n("RouterView",{ref:"layout"}),n("div",{class:"global-ui"},gl.map((function(e){return n(e)})))])}})),n.abrupt("return",{app:a,router:r});case 14:case"end":return n.stop()}}),n,null,[[4,9]])})))).apply(this,arguments)}Bi.config.productionTip=!1,Bi.use(jo),Bi.use(xl),Bi.mixin(function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bi;qo(e),t.$vuepress.$set("siteData",e);var r=n(t.$vuepress.$get("siteData")),i=new r,a=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(i)),o={};return Object.keys(a).reduce((function(n,e){return e.startsWith("$")&&(n[e]=a[e].get),n}),o),{computed:o}}((function(n){return function(){function e(){cs(this,e)}return ds(e,[{key:"setPage",value:function(n){this.__page=n}},{key:"$site",get:function(){return n}},{key:"$themeConfig",get:function(){return this.$site.themeConfig}},{key:"$frontmatter",get:function(){return this.$page.frontmatter}},{key:"$localeConfig",get:function(){var n,e,t=this.$site.locales,r=void 0===t?{}:t;for(var i in r)"/"===i?e=r[i]:0===this.$page.path.indexOf(i)&&(n=r[i]);return n||e||{}}},{key:"$siteTitle",get:function(){return this.$localeConfig.title||this.$site.title||""}},{key:"$canonicalUrl",get:function(){var n=this.$page.frontmatter.canonicalUrl;return"string"==typeof n&&n}},{key:"$title",get:function(){var n=this.$page,e=this.$page.frontmatter.metaTitle;if("string"==typeof e)return e;var t=this.$siteTitle,r=n.frontmatter.home?null:n.frontmatter.title||n.title;return t?r?r+" | "+t:t:r||"VuePress"}},{key:"$description",get:function(){var n=function(n){if(n){var e=n.filter((function(n){return"description"===n.name}))[0];if(e)return e.content}}(this.$page.frontmatter.meta);return n||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}},{key:"$lang",get:function(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}},{key:"$localePath",get:function(){return this.$localeConfig.path||"/"}},{key:"$themeLocaleConfig",get:function(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}},{key:"$page",get:function(){return this.__page?this.__page:function(n,e){for(var t=0;t<n.length;t++){var r=n[t];if(r.path.toLowerCase()===e.toLowerCase())return r}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}}]),e}()}),sl)),Bi.component("Content",kl),Bi.component("ContentSlotsDistributor",jl),Bi.component("OutboundLink",Cl),Bi.component("ClientOnly",{functional:!0,render:function(n,e){var t=e.parent,r=e.children;if(t._isMounted)return r;t.$once("hook:mounted",(function(){t.$forceUpdate()}))}}),Bi.component("Layout",Vo("Layout")),Bi.component("NotFound",Vo("NotFound")),Bi.prototype.$withBase=function(n){var e=this.$site.base;return"/"===n.charAt(0)?e+n.slice(1):n},window.__VUEPRESS__={version:"1.9.2",hash:""},function(n){return Il.apply(this,arguments)}(!1).then((function(n){var e=n.app;n.router.onReady((function(){e.$mount("#app")}))}))}]);